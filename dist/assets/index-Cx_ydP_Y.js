var tK=Object.defineProperty;var rK=(e,t,r)=>t in e?tK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nK=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var R=(e,t,r)=>rK(e,typeof t!="symbol"?t+"":t,r);var Hqe=nK((qr,Yr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const Oe={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return uC(this.context.count)},getNextContextId(){return uC(this.context.count++)}};function uC(e){const t=String(e),r=t.length-1;return Oe.context.id+(r?String.fromCharCode(96+r):"")+t}function nu(e){Oe.context=e}const iK=!1,oK=(e,t)=>e===t,Bn=Symbol("solid-proxy"),WD=typeof Proxy=="function",Lp=Symbol("solid-track"),Np={equals:oK};let KD=JD;const lo=1,Rp=2,GD={owned:null,cleanups:null,context:null,owner:null};var Fe=null;let W0=null,aK=null,Ze=null,ar=null,jn=null,Im=0;function zo(e,t){const r=Ze,n=Fe,i=e.length===0,o=t===void 0?n:t,a=i?GD:{owned:null,cleanups:null,context:o?o.context:null,owner:o},s=i?e:()=>e(()=>Me(()=>Gu(a)));Fe=a,Ze=null;try{return $s(s,!0)}finally{Ze=r,Fe=n}}function J(e,t){t=t?Object.assign({},Np,t):Np;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(r.value)),YD(r,i));return[qD.bind(r),n]}function sK(e,t,r){const n=_m(e,t,!0,lo);oc(n)}function ne(e,t,r){const n=_m(e,t,!1,lo);oc(n)}function oe(e,t,r){KD=hK;const n=_m(e,t,!1,lo),i=Fp&&tn(Fp);i&&(n.suspense=i),(!r||!r.render)&&(n.user=!0),jn?jn.push(n):oc(n)}function me(e,t,r){r=r?Object.assign({},Np,r):Np;const n=_m(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,oc(n),qD.bind(n)}function Ri(e){return $s(e,!1)}function Me(e){if(Ze===null)return e();const t=Ze;Ze=null;try{return e()}finally{Ze=t}}function di(e,t,r){const n=Array.isArray(e);let i,o=r&&r.defer;return a=>{let s;if(n){s=Array(e.length);for(let c=0;c<e.length;c++)s[c]=e[c]()}else s=e();if(o)return o=!1,a;const l=Me(()=>t(s,i,a));return i=s,l}}function lr(e){oe(()=>Me(e))}function be(e){return Fe===null||(Fe.cleanups===null?Fe.cleanups=[e]:Fe.cleanups.push(e)),e}function F$(){return Ze}function j$(){return Fe}function lK(e,t){const r=Fe,n=Ze;Fe=e,Ze=null;try{return $s(t,!0)}catch(i){Gx(i)}finally{Fe=r,Ze=n}}function cK(e){jn.push.apply(jn,e),e.length=0}function en(e,t){const r=Symbol("context");return{id:r,Provider:gK(r),defaultValue:e}}function tn(e){let t;return Fe&&Fe.context&&(t=Fe.context[e.id])!==void 0?t:e.defaultValue}function Pm(e){const t=me(e),r=me(()=>B$(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let Fp;function uK(){return Fp||(Fp=en())}function qD(){if(this.sources&&this.state)if(this.state===lo)oc(this);else{const e=ar;ar=null,$s(()=>Bp(this),!1),ar=e}if(Ze){const e=this.observers?this.observers.length:0;Ze.sources?(Ze.sources.push(this),Ze.sourceSlots.push(e)):(Ze.sources=[this],Ze.sourceSlots=[e]),this.observers?(this.observers.push(Ze),this.observerSlots.push(Ze.sources.length-1)):(this.observers=[Ze],this.observerSlots=[Ze.sources.length-1])}return this.value}function YD(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&$s(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=W0&&W0.running;a&&W0.disposed.has(o),(a?!o.tState:!o.state)&&(o.pure?ar.push(o):jn.push(o),o.observers&&XD(o)),a||(o.state=lo)}if(ar.length>1e6)throw ar=[],new Error},!1)),t}function oc(e){if(!e.fn)return;Gu(e);const t=Im;fK(e,e.value,t)}function fK(e,t,r){let n;const i=Fe,o=Ze;Ze=Fe=e;try{n=e.fn(t)}catch(a){return e.pure&&(e.state=lo,e.owned&&e.owned.forEach(Gu),e.owned=null),e.updatedAt=r+1,Gx(a)}finally{Ze=o,Fe=i}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?YD(e,n):e.value=n,e.updatedAt=r)}function _m(e,t,r,n=lo,i){const o={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Fe,context:Fe?Fe.context:null,pure:r};return Fe===null||Fe!==GD&&(Fe.owned?Fe.owned.push(o):Fe.owned=[o]),o}function jp(e){if(e.state===0)return;if(e.state===Rp)return Bp(e);if(e.suspense&&Me(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Im);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===lo)oc(e);else if(e.state===Rp){const n=ar;ar=null,$s(()=>Bp(e,t[0]),!1),ar=n}}function $s(e,t){if(ar)return e();let r=!1;t||(ar=[]),jn?r=!0:jn=[],Im++;try{const n=e();return dK(r),n}catch(n){r||(jn=null),ar=null,Gx(n)}}function dK(e){if(ar&&(JD(ar),ar=null),e)return;const t=jn;jn=null,t.length&&$s(()=>KD(t),!1)}function JD(e){for(let t=0;t<e.length;t++)jp(e[t])}function hK(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:jp(n)}if(Oe.context){if(Oe.count){Oe.effects||(Oe.effects=[]),Oe.effects.push(...e.slice(0,r));return}nu()}for(Oe.effects&&(Oe.done||!Oe.count)&&(e=[...Oe.effects,...e],r+=Oe.effects.length,delete Oe.effects),t=0;t<r;t++)jp(e[t])}function Bp(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const i=n.state;i===lo?n!==t&&(!n.updatedAt||n.updatedAt<Im)&&jp(n):i===Rp&&Bp(n,t)}}}function XD(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Rp,r.pure?ar.push(r):jn.push(r),r.observers&&XD(r))}}function Gu(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),i=r.observers;if(i&&i.length){const o=i.pop(),a=r.observerSlots.pop();n<i.length&&(o.sourceSlots[a]=n,i[n]=o,r.observerSlots[n]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Gu(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Gu(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function pK(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Gx(e,t=Fe){throw pK(e)}function B$(e){if(typeof e=="function"&&!e.length)return B$(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=B$(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function gK(e,t){return function(n){let i;return ne(()=>i=Me(()=>(Fe.context={...Fe.context,[e]:n.value},Pm(()=>n.children))),void 0),i}}const mK=Symbol("fallback");function fC(e){for(let t=0;t<e.length;t++)e[t]()}function vK(e,t,r={}){let n=[],i=[],o=[],a=0,s=t.length>1?[]:null;return be(()=>fC(o)),()=>{let l=e()||[],c=l.length,u,f;return l[Lp],Me(()=>{let h,p,g,m,v,b,y,w,$;if(c===0)a!==0&&(fC(o),o=[],n=[],i=[],a=0,s&&(s=[])),r.fallback&&(n=[mK],i[0]=zo(k=>(o[0]=k,r.fallback())),a=1);else if(a===0){for(i=new Array(c),f=0;f<c;f++)n[f]=l[f],i[f]=zo(d);a=c}else{for(g=new Array(c),m=new Array(c),s&&(v=new Array(c)),b=0,y=Math.min(a,c);b<y&&n[b]===l[b];b++);for(y=a-1,w=c-1;y>=b&&w>=b&&n[y]===l[w];y--,w--)g[w]=i[y],m[w]=o[y],s&&(v[w]=s[y]);for(h=new Map,p=new Array(w+1),f=w;f>=b;f--)$=l[f],u=h.get($),p[f]=u===void 0?-1:u,h.set($,f);for(u=b;u<=y;u++)$=n[u],f=h.get($),f!==void 0&&f!==-1?(g[f]=i[u],m[f]=o[u],s&&(v[f]=s[u]),f=p[f],h.set($,f)):o[u]();for(f=b;f<c;f++)f in g?(i[f]=g[f],o[f]=m[f],s&&(s[f]=v[f],s[f](f))):i[f]=zo(d);i=i.slice(0,a=c),n=l.slice(0)}return i});function d(h){if(o[f]=h,s){const[p,g]=J(f);return s[f]=g,t(l[f],p)}return t(l[f])}}}function M(e,t){return Me(()=>e(t||{}))}function xd(){return!0}const z$={get(e,t,r){return t===Bn?r:e.get(t)},has(e,t){return t===Bn?!0:e.has(t)},set:xd,deleteProperty:xd,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:xd,deleteProperty:xd}},ownKeys(e){return e.keys()}};function K0(e){return(e=typeof e=="function"?e():e)?e:{}}function bK(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function ye(...e){let t=!1;for(let a=0;a<e.length;a++){const s=e[a];t=t||!!s&&Bn in s,e[a]=typeof s=="function"?(t=!0,me(s)):s}if(WD&&t)return new Proxy({get(a){for(let s=e.length-1;s>=0;s--){const l=K0(e[s])[a];if(l!==void 0)return l}},has(a){for(let s=e.length-1;s>=0;s--)if(a in K0(e[s]))return!0;return!1},keys(){const a=[];for(let s=0;s<e.length;s++)a.push(...Object.keys(K0(e[s])));return[...new Set(a)]}},z$);const r={},n=Object.create(null);for(let a=e.length-1;a>=0;a--){const s=e[a];if(!s)continue;const l=Object.getOwnPropertyNames(s);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const f=Object.getOwnPropertyDescriptor(s,u);if(!n[u])n[u]=f.get?{enumerable:!0,configurable:!0,get:bK.bind(r[u]=[f.get.bind(s)])}:f.value!==void 0?f:void 0;else{const d=r[u];d&&(f.get?d.push(f.get.bind(s)):f.value!==void 0&&d.push(()=>f.value))}}}const i={},o=Object.keys(n);for(let a=o.length-1;a>=0;a--){const s=o[a],l=n[s];l&&l.get?Object.defineProperty(i,s,l):i[s]=l?l.value:void 0}return i}function Ie(e,...t){if(WD&&Bn in e){const i=new Set(t.length>1?t.flat():t[0]),o=t.map(a=>new Proxy({get(s){return a.includes(s)?e[s]:void 0},has(s){return a.includes(s)&&s in e},keys(){return a.filter(s=>s in e)}},z$));return o.push(new Proxy({get(a){return i.has(a)?void 0:e[a]},has(a){return i.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!i.has(a))}},z$)),o}const r={},n=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,i),a=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let s=!1,l=0;for(const c of t)c.includes(i)&&(s=!0,a?n[l][i]=o.value:Object.defineProperty(n[l],i,o)),++l;s||(a?r[i]=o.value:Object.defineProperty(r,i,o))}return[...n,r]}let yK=0;function ac(){return Oe.context?Oe.getNextContextId():`cl-${yK++}`}const QD=e=>`Stale read from <${e}>.`;function Ot(e){const t="fallback"in e&&{fallback:()=>e.fallback};return me(vK(()=>e.each,e.children,t||void 0))}function Tt(e){const t=e.keyed,r=me(()=>e.when,void 0,void 0),n=t?r:me(r,void 0,{equals:(i,o)=>!i==!o});return me(()=>{const i=n();if(i){const o=e.children;return typeof o=="function"&&o.length>0?Me(()=>o(t?i:()=>{if(!Me(n))throw QD("Show");return r()})):o}return e.fallback},void 0,void 0)}function Pf(e){const t=Pm(()=>e.children),r=me(()=>{const n=t(),i=Array.isArray(n)?n:[n];let o=()=>{};for(let a=0;a<i.length;a++){const s=a,l=i[a],c=o,u=me(()=>c()?void 0:l.when,void 0,void 0),f=l.keyed?u:me(u,void 0,{equals:(d,h)=>!d==!h});o=()=>c()||(f()?[s,u,l]:void 0)}return o});return me(()=>{const n=r()();if(!n)return e.fallback;const[i,o,a]=n,s=a.children;return typeof s=="function"&&s.length>0?Me(()=>s(a.keyed?o():()=>{var c;if(((c=Me(r)())==null?void 0:c[0])!==i)throw QD("Match");return o()})):s},void 0,void 0)}function Qe(e){return e}const $K=en();function wK(e){let t=0,r,n,i,o,a;const[s,l]=J(!1),c=uK(),u={increment:()=>{++t===1&&l(!0)},decrement:()=>{--t===0&&l(!1)},inFallback:s,effects:[],resolved:!1},f=j$();if(Oe.context&&Oe.load){const p=Oe.getContextId();let g=Oe.load(p);if(g&&(typeof g!="object"||g.s!==1?i=g:Oe.gather(p)),i&&i!=="$$f"){const[m,v]=J(void 0,{equals:!1});o=m,i.then(()=>{if(Oe.done)return v();Oe.gather(p),nu(n),v(),nu()},b=>{a=b,v()})}}const d=tn($K);d&&(r=d.register(u.inFallback));let h;return be(()=>h&&h()),M(c.Provider,{value:u,get children(){return me(()=>{if(a)throw a;if(n=Oe.context,o)return o(),o=void 0;n&&i==="$$f"&&nu();const p=me(()=>e.children);return me(g=>{const m=u.inFallback(),{showContent:v=!0,showFallback:b=!0}=r?r():{};if((!m||i&&i!=="$$f")&&v)return u.resolved=!0,h&&h(),h=n=i=void 0,cK(u.effects),p();if(b)return h?g:zo(y=>(h=y,n&&(nu({id:n.id+"F",count:0}),n=void 0),e.fallback),f)})})}})}const xK=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],SK=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...xK]),kK=new Set(["innerHTML","textContent","innerText","children"]),OK=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),TK=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function CK(e,t){const r=TK[e];return typeof r=="object"?r[t]?r.$:void 0:r}const EK=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ZD=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),MK={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},pt=e=>me(()=>e());function AK(e,t,r){let n=r.length,i=t.length,o=n,a=0,s=0,l=t[i-1].nextSibling,c=null;for(;a<i||s<o;){if(t[a]===r[s]){a++,s++;continue}for(;t[i-1]===r[o-1];)i--,o--;if(i===a){const u=o<n?s?r[s-1].nextSibling:r[o-s]:l;for(;s<o;)e.insertBefore(r[s++],u)}else if(o===s)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===r[o-1]&&r[s]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(r[s++],t[a++].nextSibling),e.insertBefore(r[--o],u),t[i]=r[o]}else{if(!c){c=new Map;let f=s;for(;f<o;)c.set(r[f],f++)}const u=c.get(t[a]);if(u!=null)if(s<u&&u<o){let f=a,d=1,h;for(;++f<i&&f<o&&!((h=c.get(t[f]))==null||h!==u+d);)d++;if(d>u-s){const p=t[a];for(;s<u;)e.insertBefore(r[s++],p)}else e.replaceChild(r[s++],t[a++])}else a++;else t[a++].remove()}}}const dC="_$DX_DELEGATE";function IK(e,t,r,n={}){let i;return zo(o=>{i=o,t===document?e():B(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{i(),t.textContent=""}}function W(e,t,r,n){let i;const o=()=>{const s=n?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return s.innerHTML=e,r?s.content.firstChild.firstChild:n?s.firstChild:s.content.firstChild},a=t?()=>Me(()=>document.importNode(i||(i=o()),!0)):()=>(i||(i=o())).cloneNode(!0);return a.cloneNode=a,a}function Ut(e,t=window.document){const r=t[dC]||(t[dC]=new Set);for(let n=0,i=e.length;n<i;n++){const o=e[n];r.has(o)||(r.add(o),t.addEventListener(o,RK))}}function q(e,t,r){ws(e)||(r==null?e.removeAttribute(t):e.setAttribute(t,r))}function PK(e,t,r,n){ws(e)||(n==null?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,n))}function _K(e,t,r){ws(e)||(r?e.setAttribute(t,""):e.removeAttribute(t))}function Lr(e,t){ws(e)||(t==null?e.removeAttribute("class"):e.className=t)}function aa(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const i=r[0];e.addEventListener(t,r[0]=o=>i.call(e,r[1],o))}else e.addEventListener(t,r,typeof r!="function"&&r)}function za(e,t,r={}){const n=Object.keys(t||{}),i=Object.keys(r);let o,a;for(o=0,a=i.length;o<a;o++){const s=i[o];!s||s==="undefined"||t[s]||(hC(e,s,!1),delete r[s])}for(o=0,a=n.length;o<a;o++){const s=n[o],l=!!t[s];!s||s==="undefined"||r[s]===l||!l||(hC(e,s,!0),r[s]=l)}return r}function Dm(e,t,r){if(!t)return r?q(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),t||(t={});let i,o;for(o in r)t[o]==null&&n.removeProperty(o),delete r[o];for(o in t)i=t[o],i!==r[o]&&(n.setProperty(o,i),r[o]=i);return r}function re(e,t,r){r!=null?e.style.setProperty(t,r):e.style.removeProperty(t)}function qx(e,t={},r,n){const i={};return n||ne(()=>i.children=jl(e,t.children,i.children)),ne(()=>typeof t.ref=="function"&&Ht(t.ref,e)),ne(()=>eL(e,t,r,!0,i,!0)),i}function DK(e,t){const r=e[t];return Object.defineProperty(e,t,{get(){return r()},enumerable:!0}),e}function Ht(e,t,r){return Me(()=>e(t,r))}function B(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return jl(e,t,n,r);ne(i=>jl(e,t(),i,r),n)}function eL(e,t,r,n,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=pC(e,a,null,i[a],r,o,t)}for(const a in t){if(a==="children"){n||jl(e,t.children);continue}const s=t[a];i[a]=pC(e,a,s,i[a],r,o,t)}}function LK(e){let t,r;return!ws()||!(t=Oe.registry.get(r=FK()))?e():(Oe.completed&&Oe.completed.add(t),Oe.registry.delete(r),t)}function ws(e){return!!Oe.context&&!Oe.done&&(!e||e.isConnected)}function NK(e){return e.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function hC(e,t,r){const n=t.trim().split(/\s+/);for(let i=0,o=n.length;i<o;i++)e.classList.toggle(n[i],r)}function pC(e,t,r,n,i,o,a){let s,l,c,u,f;if(t==="style")return Dm(e,r,n);if(t==="classList")return za(e,r,n);if(r===n)return n;if(t==="ref")o||r(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);n&&e.removeEventListener(d,n,typeof n!="function"&&n),r&&e.addEventListener(d,r,typeof r!="function"&&r)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);n&&e.removeEventListener(d,n,!0),r&&e.addEventListener(d,r,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),h=EK.has(d);if(!h&&n){const p=Array.isArray(n)?n[0]:n;e.removeEventListener(d,p)}(h||r)&&(aa(e,d,r,h),h&&Ut([d]))}else if(t.slice(0,5)==="attr:")q(e,t.slice(5),r);else if(t.slice(0,5)==="bool:")_K(e,t.slice(5),r);else if((f=t.slice(0,5)==="prop:")||(c=kK.has(t))||!i&&((u=CK(t,e.tagName))||(l=SK.has(t)))||(s=e.nodeName.includes("-")||"is"in a)){if(f)t=t.slice(5),l=!0;else if(ws(e))return r;t==="class"||t==="className"?Lr(e,r):s&&!l&&!c?e[NK(t)]=r:e[u||t]=r}else{const d=i&&t.indexOf(":")>-1&&MK[t.split(":")[0]];d?PK(e,d,t,r):q(e,OK[t]||t,r)}return r}function RK(e){if(Oe.registry&&Oe.events&&Oe.events.find(([l,c])=>c===e))return;let t=e.target;const r=`$$${e.type}`,n=e.target,i=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),a=()=>{const l=t[r];if(l&&!t.disabled){const c=t[`${r}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},s=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),Oe.registry&&!Oe.done&&(Oe.done=_$HY.done=!0),e.composedPath){const l=e.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!a());c++){if(t._$host){t=t._$host,s();break}if(t.parentNode===i)break}}else s();o(n)}function jl(e,t,r,n,i){const o=ws(e);if(o){!r&&(r=[...e.childNodes]);let l=[];for(let c=0;c<r.length;c++){const u=r[c];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():l.push(u)}r=l}for(;typeof r=="function";)r=r();if(t===r)return r;const a=typeof t,s=n!==void 0;if(e=s&&r[0]&&r[0].parentNode||e,a==="string"||a==="number"){if(o||a==="number"&&(t=t.toString(),t===r))return r;if(s){let l=r[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),r=zs(e,r,n,l)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||a==="boolean"){if(o)return r;r=zs(e,r,n)}else{if(a==="function")return ne(()=>{let l=t();for(;typeof l=="function";)l=l();r=jl(e,l,r,n)}),()=>r;if(Array.isArray(t)){const l=[],c=r&&Array.isArray(r);if(H$(l,t,r,i))return ne(()=>r=jl(e,l,r,n,!0)),()=>r;if(o){if(!l.length)return r;if(n===void 0)return r=[...e.childNodes];let u=l[0];if(u.parentNode!==e)return r;const f=[u];for(;(u=u.nextSibling)!==n;)f.push(u);return r=f}if(l.length===0){if(r=zs(e,r,n),s)return r}else c?r.length===0?gC(e,l,n):AK(e,r,l):(r&&zs(e),gC(e,l));r=l}else if(t.nodeType){if(o&&t.parentNode)return r=s?[t]:t;if(Array.isArray(r)){if(s)return r=zs(e,r,n,t);zs(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function H$(e,t,r,n){let i=!1;for(let o=0,a=t.length;o<a;o++){let s=t[o],l=r&&r[e.length],c;if(!(s==null||s===!0||s===!1))if((c=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))i=H$(e,s,l)||i;else if(c==="function")if(n){for(;typeof s=="function";)s=s();i=H$(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||i}else e.push(s),i=!0;else{const u=String(s);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function gC(e,t,r=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],r)}function zs(e,t,r,n){if(r===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const s=t[a];if(i!==s){const l=s.parentNode===e;!o&&!a?l?e.replaceChild(i,s):e.insertBefore(i,r):l&&s.remove()}else o=!0}}else e.insertBefore(i,r);return[i]}function FK(){return Oe.getNextContextId()}const jK="http://www.w3.org/2000/svg";function tL(e,t=!1,r=void 0){return t?document.createElementNS(jK,e):document.createElement(e,{is:r})}function Yx(e){const{useShadow:t}=e,r=document.createTextNode(""),n=()=>e.mount||document.body,i=j$();let o,a=!!Oe.context;return oe(()=>{a&&(j$().user=a=!1),o||(o=lK(i,()=>me(()=>e.children)));const s=n();if(s instanceof HTMLHeadElement){const[l,c]=J(!1),u=()=>c(!0);zo(f=>B(s,()=>l()?f():o(),null)),be(u)}else{const l=tL(e.isSVG?"g":"div",e.isSVG),c=t&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return r.parentNode},configurable:!0}),B(c,o),s.appendChild(l),e.ref&&e.ref(l),be(()=>s.removeChild(l))}},void 0,{render:!a}),r}function BK(e,t){const r=me(e);return me(()=>{const n=r();switch(typeof n){case"function":return Me(()=>n(t));case"string":const i=ZD.has(n),o=Oe.context?LK():tL(n,i,Me(()=>t.is));return qx(o,t,i),o}})}function rL(e){const[,t]=Ie(e,["component"]);return BK(()=>e.component,t)}function nL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=nL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function iL(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=nL(e))&&(n&&(n+=" "),n+=t);return n}const Jx="-",zK=e=>{const t=UK(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const s=a.split(Jx);return s[0]===""&&s.length!==1&&s.shift(),oL(s,t)||HK(a)},getConflictingClassGroupIds:(a,s)=>{const l=r[a]||[];return s&&n[a]?[...l,...n[a]]:l}}},oL=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?oL(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Jx);return(a=t.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},mC=/^\[(.+)\]$/,HK=e=>{if(mC.test(e)){const t=mC.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},UK=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)U$(r[i],n,i,t);return n},U$=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:vC(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(VK(i)){U$(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{U$(a,vC(t,o),r,n)})})},vC=(e,t)=>{let r=e;return t.split(Jx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},VK=e=>e.isThemeGetter,WK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},V$="!",W$=":",KK=W$.length,GK=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let a=0,s=0,l=0,c;for(let p=0;p<i.length;p++){let g=i[p];if(a===0&&s===0){if(g===W$){o.push(i.slice(l,p)),l=p+KK;continue}if(g==="/"){c=p;continue}}g==="["?a++:g==="]"?a--:g==="("?s++:g===")"&&s--}const u=o.length===0?i:i.substring(l),f=qK(u),d=f!==u,h=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const i=t+W$,o=n;n=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},qK=e=>e.endsWith(V$)?e.substring(0,e.length-1):e.startsWith(V$)?e.substring(1):e,YK=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(a=>{a[0]==="["||t[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},JK=e=>({cache:WK(e.cacheSize),parseClassName:GK(e),sortModifiers:YK(e),...zK(e)}),XK=/\s+/,QK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],s=e.trim().split(XK);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{isExternal:f,modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=r(u);if(f){l=u+(l.length>0?" "+l:l);continue}let m=!!g,v=n(m?p.substring(0,g):p);if(!v){if(!m){l=u+(l.length>0?" "+l:l);continue}if(v=n(p),!v){l=u+(l.length>0?" "+l:l);continue}m=!1}const b=o(d).join(":"),y=h?b+V$:b,w=y+v;if(a.includes(w))continue;a.push(w);const $=i(v,m);for(let k=0;k<$.length;++k){const O=$[k];a.push(y+O)}l=u+(l.length>0?" "+l:l)}return l};function ZK(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=aL(t))&&(n&&(n+=" "),n+=r);return n}const aL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=aL(e[n]))&&(r&&(r+=" "),r+=t);return r};function eG(e,...t){let r,n,i,o=a;function a(l){const c=t.reduce((u,f)=>f(u),e());return r=JK(c),n=r.cache.get,i=r.cache.set,o=s,s(l)}function s(l){const c=n(l);if(c)return c;const u=QK(l,r);return i(l,u),u}return function(){return o(ZK.apply(null,arguments))}}const kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},sL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tG=/^\d+\/\d+$/,rG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hs=e=>tG.test(e),ke=e=>!!e&&!Number.isNaN(Number(e)),$o=e=>!!e&&Number.isInteger(Number(e)),G0=e=>e.endsWith("%")&&ke(e.slice(0,-1)),Ai=e=>rG.test(e),sG=()=>!0,lG=e=>nG.test(e)&&!iG.test(e),cL=()=>!1,cG=e=>oG.test(e),uG=e=>aG.test(e),fG=e=>!Z(e)&&!ee(e),dG=e=>sc(e,dL,cL),Z=e=>sL.test(e),wa=e=>sc(e,hL,lG),q0=e=>sc(e,vG,ke),bC=e=>sc(e,uL,cL),hG=e=>sc(e,fL,uG),Sd=e=>sc(e,pL,cG),ee=e=>lL.test(e),kc=e=>lc(e,hL),pG=e=>lc(e,bG),yC=e=>lc(e,uL),gG=e=>lc(e,dL),mG=e=>lc(e,fL),kd=e=>lc(e,pL,!0),sc=(e,t,r)=>{const n=sL.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},lc=(e,t,r=!1)=>{const n=lL.exec(e);return n?n[1]?t(n[1]):r:!1},uL=e=>e==="position"||e==="percentage",fL=e=>e==="image"||e==="url",dL=e=>e==="length"||e==="size"||e==="bg-size",hL=e=>e==="length",vG=e=>e==="number",bG=e=>e==="family-name",pL=e=>e==="shadow",yG=()=>{const e=kt("color"),t=kt("font"),r=kt("text"),n=kt("font-weight"),i=kt("tracking"),o=kt("leading"),a=kt("breakpoint"),s=kt("container"),l=kt("spacing"),c=kt("radius"),u=kt("shadow"),f=kt("inset-shadow"),d=kt("text-shadow"),h=kt("drop-shadow"),p=kt("blur"),g=kt("perspective"),m=kt("aspect"),v=kt("ease"),b=kt("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...w(),ee,Z],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],T=()=>[ee,Z,l],D=()=>[Hs,"full","auto",...T()],L=()=>[$o,"none","subgrid",ee,Z],I=()=>["auto",{span:["full",$o,ee,Z]},$o,ee,Z],E=()=>[$o,"auto",ee,Z],_=()=>["auto","min","max","fr",ee,Z],S=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],C=()=>["start","end","center","stretch","center-safe","end-safe"],x=()=>["auto",...T()],P=()=>[Hs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],A=()=>[e,ee,Z],N=()=>[...w(),yC,bC,{position:[ee,Z]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",gG,dG,{size:[ee,Z]}],ae=()=>[G0,kc,wa],te=()=>["","none","full",c,ee,Z],pe=()=>["",ke,kc,wa],Se=()=>["solid","dashed","dotted","double"],Ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[ke,G0,yC,bC],de=()=>["","none",p,ee,Z],G=()=>["none",ke,ee,Z],Q=()=>["none",ke,ee,Z],le=()=>[ke,ee,Z],z=()=>[Hs,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ai],breakpoint:[Ai],color:[sG],container:[Ai],"drop-shadow":[Ai],ease:["in","out","in-out"],font:[fG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ai],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ai],shadow:[Ai],spacing:["px",ke],text:[Ai],"text-shadow":[Ai],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hs,Z,ee,m]}],container:["container"],columns:[{columns:[ke,Z,ee,s]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[$o,"auto",ee,Z]}],basis:[{basis:[Hs,"full","auto",s,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Hs,"auto","initial","none",Z]}],grow:[{grow:["",ke,ee,Z]}],shrink:[{shrink:["",ke,ee,Z]}],order:[{order:[$o,"first","last","none",ee,Z]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_()}],"auto-rows":[{"auto-rows":_()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...S(),"normal"]}],"justify-items":[{"justify-items":[...C(),"normal"]}],"justify-self":[{"justify-self":["auto",...C()]}],"align-content":[{content:["normal",...S()]}],"align-items":[{items:[...C(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...C(),{baseline:["","last"]}]}],"place-content":[{"place-content":S()}],"place-items":[{"place-items":[...C(),"baseline"]}],"place-self":[{"place-self":["auto",...C()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:x()}],mx:[{mx:x()}],my:[{my:x()}],ms:[{ms:x()}],me:[{me:x()}],mt:[{mt:x()}],mr:[{mr:x()}],mb:[{mb:x()}],ml:[{ml:x()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[s,"screen",...P()]}],"min-w":[{"min-w":[s,"screen","none",...P()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",r,kc,wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ee,q0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",G0,Z]}],"font-family":[{font:[pG,Z,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ee,Z]}],"line-clamp":[{"line-clamp":[ke,"none",ee,q0]}],leading:[{leading:[o,...T()]}],"list-image":[{"list-image":["none",ee,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ee,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",ee,wa]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[ke,"auto",ee,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:N()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$o,ee,Z],radial:["",ee,Z],conic:[$o,ee,Z]},mG,hG]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,ee,Z]}],"outline-w":[{outline:["",ke,kc,wa]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",u,kd,Sd]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,kd,Sd]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[ke,wa]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",d,kd,Sd]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[ke,ee,Z]}],"mix-blend":[{"mix-blend":[...Ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[ee,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:N()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ee,Z]}],filter:[{filter:["","none",ee,Z]}],blur:[{blur:de()}],brightness:[{brightness:[ke,ee,Z]}],contrast:[{contrast:[ke,ee,Z]}],"drop-shadow":[{"drop-shadow":["","none",h,kd,Sd]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",ke,ee,Z]}],"hue-rotate":[{"hue-rotate":[ke,ee,Z]}],invert:[{invert:["",ke,ee,Z]}],saturate:[{saturate:[ke,ee,Z]}],sepia:[{sepia:["",ke,ee,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",ee,Z]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[ke,ee,Z]}],"backdrop-contrast":[{"backdrop-contrast":[ke,ee,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,ee,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,ee,Z]}],"backdrop-invert":[{"backdrop-invert":["",ke,ee,Z]}],"backdrop-opacity":[{"backdrop-opacity":[ke,ee,Z]}],"backdrop-saturate":[{"backdrop-saturate":[ke,ee,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,ee,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ee,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",ee,Z]}],ease:[{ease:["linear","initial",v,ee,Z]}],delay:[{delay:[ke,ee,Z]}],animate:[{animate:["none",b,ee,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ee,Z]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[ee,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee,Z]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[ke,kc,wa,q0]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$G=eG(yG);function _f(...e){return $G(iL(e))}function wG(e){return(...t)=>{for(const r of e)r&&r(...t)}}const j=e=>typeof e=="function"&&!e.length?e():e,$C=e=>Array.isArray(e)?e:e?[e]:[];function xG(e,...t){return typeof e=="function"?e(...t):e}const SG=be;function kG(e,t,r,n){return e.addEventListener(t,r,n),SG(e.removeEventListener.bind(e,t,r,n))}function OG(e,t,r,n){const i=()=>{$C(j(e)).forEach(o=>{o&&$C(j(t)).forEach(a=>kG(o,a,r,n))})};typeof e=="function"?oe(i):ne(i)}const Y0=Symbol("fallback");function wC(e){for(const t of e)t.dispose()}function TG(e,t,r,n={}){const i=new Map;return be(()=>wC(i.values())),()=>{const a=e()||[];return a[Lp],Me(()=>{var u,f;if(!a.length)return wC(i.values()),i.clear(),n.fallback?[zo(h=>(i.set(Y0,{dispose:h}),n.fallback()))]:[];const s=new Array(a.length),l=i.get(Y0);if(!i.size||l){l==null||l.dispose(),i.delete(Y0);for(let d=0;d<a.length;d++){const h=a[d],p=t(h,d);o(s,h,d,p)}return s}const c=new Set(i.keys());for(let d=0;d<a.length;d++){const h=a[d],p=t(h,d);c.delete(p);const g=i.get(p);g?(s[d]=g.mapped,(u=g.setIndex)==null||u.call(g,d),g.setItem(()=>h)):o(s,h,d,p)}for(const d of c)(f=i.get(d))==null||f.dispose(),i.delete(d);return s})};function o(a,s,l,c){zo(u=>{const[f,d]=J(s),h={setItem:d,dispose:u};if(r.length>1){const[p,g]=J(l);h.setIndex=g,h.mapped=r(f,p)}else h.mapped=r(f);i.set(c,h),a[l]=h.mapped})}}function CG(e){const{by:t}=e;return me(TG(()=>e.each,typeof t=="function"?t:r=>r[t],e.children,"fallback"in e?{fallback:()=>e.fallback}:void 0))}const EG=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function xC(e){const t={};let r;for(;r=EG.exec(e);)t[r[1]]=r[2];return t}function Lm(e,t){if(typeof e=="string"){if(typeof t=="string")return`${e};${t}`;e=xC(e)}else typeof t=="string"&&(t=xC(t));return{...e,...t}}function Nr(...e){return wG(e)}function SC(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function MG(e){return typeof e=="number"}function sl(e){return Object.prototype.toString.call(e)==="[object String]"}function Nm(e){return typeof e=="function"}function Df(e){return t=>`${e()}-${t}`}function Po(e,t){return e?e===t||e.contains(t):!1}function iu(e,t=!1){const{activeElement:r}=Qi(e);if(!(r!=null&&r.nodeName))return null;if(gL(r)&&r.contentDocument)return iu(r.contentDocument.body,t);if(t){const n=r.getAttribute("aria-activedescendant");if(n){const i=Qi(r).getElementById(n);if(i)return i}}return r}function AG(e){return Qi(e).defaultView||window}function Qi(e){return e?e.ownerDocument||e:document}function gL(e){return e.tagName==="IFRAME"}var Xx=(e=>(e.Escape="Escape",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e))(Xx||{});function mL(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)==null?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function Qx(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)==null?void 0:t.platform)||window.navigator.platform):!1}function Lf(){return Qx(/^Mac/i)}function IG(){return Qx(/^iPhone/i)}function PG(){return Qx(/^iPad/i)||Lf()&&navigator.maxTouchPoints>1}function _G(){return IG()||PG()}function DG(){return Lf()||_G()}function LG(){return mL(/AppleWebKit/i)&&!NG()}function NG(){return mL(/Chrome/i)}function Dt(e,t){return t&&(Nm(t)?t(e):t[0](t[1],e)),e==null?void 0:e.defaultPrevented}function fn(e){return t=>{for(const r of e)Dt(t,r)}}function RG(e){return Lf()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}function Mr(e){if(e)if(FG())e.focus({preventScroll:!0});else{const t=jG(e);e.focus(),BG(t)}}var Od=null;function FG(){if(Od==null){Od=!1;try{document.createElement("div").focus({get preventScroll(){return Od=!0,!0}})}catch{}}return Od}function jG(e){let t=e.parentNode;const r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function BG(e){for(const{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}var vL=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],zG=[...vL,'[tabindex]:not([tabindex="-1"]):not([disabled])'],Zx=`${vL.join(":not([hidden]),")},[tabindex]:not([disabled]):not([hidden])`,HG=zG.join(':not([hidden]):not([tabindex="-1"]),');function bL(e,t){const n=Array.from(e.querySelectorAll(Zx)).filter(kC);return t&&kC(e)&&n.unshift(e),n.forEach((i,o)=>{if(gL(i)&&i.contentDocument){const a=i.contentDocument.body,s=bL(a,!1);n.splice(o,1,...s)}}),n}function kC(e){return yL(e)&&!UG(e)}function yL(e){return e.matches(Zx)&&eS(e)}function UG(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function eS(e,t){return e.nodeName!=="#comment"&&VG(e)&&WG(e,t)&&(!e.parentElement||eS(e.parentElement,e))}function VG(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;const{display:t,visibility:r}=e.style;let n=t!=="none"&&r!=="hidden"&&r!=="collapse";if(n){if(!e.ownerDocument.defaultView)return n;const{getComputedStyle:i}=e.ownerDocument.defaultView,{display:o,visibility:a}=i(e);n=o!=="none"&&a!=="hidden"&&a!=="collapse"}return n}function WG(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function KG(e,t,r){const n=t!=null&&t.tabbable?HG:Zx,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(o){var a;return(a=t==null?void 0:t.from)!=null&&a.contains(o)?NodeFilter.FILTER_REJECT:o.matches(n)&&eS(o)&&(!(t!=null&&t.accept)||t.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}function GG(){}function rt(e,t){return ye(e,t)}var Oc=new Map,OC=new Set;function TC(){if(typeof window>"u")return;const e=r=>{if(!r.target)return;let n=Oc.get(r.target);n||(n=new Set,Oc.set(r.target,n),r.target.addEventListener("transitioncancel",t)),n.add(r.propertyName)},t=r=>{if(!r.target)return;const n=Oc.get(r.target);if(n&&(n.delete(r.propertyName),n.size===0&&(r.target.removeEventListener("transitioncancel",t),Oc.delete(r.target)),Oc.size===0)){for(const i of OC)i();OC.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?TC():document.addEventListener("DOMContentLoaded",TC));function CC(e,t){const r=EC(e,t,"left"),n=EC(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight;let a=e.scrollLeft,s=e.scrollTop;const l=a+e.offsetWidth,c=s+e.offsetHeight;r<=a?a=r:r+i>l&&(a+=r+i-l),n<=s?s=n:n+o>c&&(s+=n+o-c),e.scrollLeft=a,e.scrollTop=s}function EC(e,t,r){const n=r==="left"?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[n],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[n];break}t=t.offsetParent}return i}var tS={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"};function $L(e,t){const[r,n]=J(MC(t==null?void 0:t()));return oe(()=>{var i;n(((i=e())==null?void 0:i.tagName.toLowerCase())||MC(t==null?void 0:t()))}),r}function MC(e){return sl(e)?e:void 0}function xt(e){const[t,r]=Ie(e,["as"]);if(!t.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return M(rL,ye(r,{get component(){return t.as}}))}var qG=Object.defineProperty,Rm=(e,t)=>{for(var r in t)qG(e,r,{get:t[r],enumerable:!0})},YG={};Rm(YG,{Button:()=>wL,Root:()=>rS});var JG=["button","color","file","image","reset","submit"];function XG(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?JG.indexOf(e.type)!==-1:!1}function rS(e){let t;const r=rt({type:"button"},e),[n,i]=Ie(r,["ref","type","disabled"]),o=$L(()=>t,()=>"button"),a=me(()=>{const c=o();return c==null?!1:XG({tagName:c,type:n.type})}),s=me(()=>o()==="input"),l=me(()=>o()==="a"&&(t==null?void 0:t.getAttribute("href"))!=null);return M(xt,ye({as:"button",ref(c){var u=Nr(f=>t=f,n.ref);typeof u=="function"&&u(c)},get type(){return pt(()=>!!(a()||s()))()?n.type:void 0},get role(){return!a()&&!l()?"button":void 0},get tabIndex(){return!a()&&!l()&&!n.disabled?0:void 0},get disabled(){return pt(()=>!!(a()||s()))()?n.disabled:void 0},get"aria-disabled"(){return!a()&&!s()&&n.disabled?!0:void 0},get"data-disabled"(){return n.disabled?"":void 0}},i))}var wL=rS;const AC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,IC=iL,QG=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return IC(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],f=o==null?void 0:o[c];if(u===null)return null;const d=AC(u)||AC(f);return i[c][d]}),s=r&&Object.entries(r).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(p=>{let[g,m]=p;return Array.isArray(m)?m.includes({...o,...s}[g]):{...o,...s}[g]===m})?[...c,f,d]:c},[]);return IC(e,a,l,r==null?void 0:r.class,r==null?void 0:r.className)},ZG=QG("inline-flex items-center justify-center text-sm font-medium transition-[color,background-color,box-shadow] focus-visible:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"cursor-pointer bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"cursor-pointer bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"cursor-pointer border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"cursor-pointer bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"cursor-pointer hover:bg-accent hover:text-accent-foreground",link:"cursor-pointer text-primary underline-offset-4 hover:underline",table:"cursor-pointer hover:bg-accent hover:text-accent-foreground size-full items-left justify-between px-2"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-10 px-8",icon:"h-9 w-9",table:""}},defaultVariants:{variant:"default",size:"default"}}),PC=e=>{const[t,r]=Ie(e,["class","variant","size"]);return M(wL,ye({get class(){return _f(ZG({size:t.size,variant:t.variant}),t.class)}},r))},K$=Symbol("store-raw"),Ol=Symbol("store-node"),Bi=Symbol("store-has"),xL=Symbol("store-self");function SL(e){let t=e[Bn];if(!t&&(Object.defineProperty(e,Bn,{value:t=new Proxy(e,rq)}),!Array.isArray(e))){const r=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,o=r.length;i<o;i++){const a=r[i];n[a].get&&Object.defineProperty(e,a,{enumerable:n[a].enumerable,get:n[a].get.bind(t)})}}return t}function zp(e){let t;return e!=null&&typeof e=="object"&&(e[Bn]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function qu(e,t=new Set){let r,n,i,o;if(r=e!=null&&e[K$])return r;if(!zp(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,s=e.length;a<s;a++)i=e[a],(n=qu(i,t))!==i&&(e[a]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let l=0,c=a.length;l<c;l++)o=a[l],!s[o].get&&(i=e[o],(n=qu(i,t))!==i&&(e[o]=n))}return e}function Hp(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Yu(e,t,r){if(e[t])return e[t];const[n,i]=J(r,{equals:!1,internal:!0});return n.$=i,e[t]=n}function eq(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===Bn||t===Ol||(delete r.value,delete r.writable,r.get=()=>e[Bn][t]),r}function kL(e){F$()&&Yu(Hp(e,Ol),xL)()}function tq(e){return kL(e),Reflect.ownKeys(e)}const rq={get(e,t,r){if(t===K$)return e;if(t===Bn)return r;if(t===Lp)return kL(e),r;const n=Hp(e,Ol),i=n[t];let o=i?i():e[t];if(t===Ol||t===Bi||t==="__proto__")return o;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);F$()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=Yu(n,t,o)())}return zp(o)?SL(o):o},has(e,t){return t===K$||t===Bn||t===Lp||t===Ol||t===Bi||t==="__proto__"?!0:(F$()&&Yu(Hp(e,Bi),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:tq,getOwnPropertyDescriptor:eq};function Up(e,t,r,n=!1){if(!n&&e[t]===r)return;const i=e[t],o=e.length;r===void 0?(delete e[t],e[Bi]&&e[Bi][t]&&i!==void 0&&e[Bi][t].$()):(e[t]=r,e[Bi]&&e[Bi][t]&&i===void 0&&e[Bi][t].$());let a=Hp(e,Ol),s;if((s=Yu(a,t,i))&&s.$(()=>r),Array.isArray(e)&&e.length!==o){for(let l=e.length;l<o;l++)(s=a[l])&&s.$();(s=Yu(a,"length",o))&&s.$(e.length)}(s=a[xL])&&s.$()}function OL(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const i=r[n];Up(e,i,t[i])}}function nq(e,t){if(typeof t=="function"&&(t=t(e)),t=qu(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const i=t[r];e[r]!==i&&Up(e,r,i)}Up(e,"length",n)}else OL(e,t)}function ou(e,t,r=[]){let n,i=e;if(t.length>1){n=t.shift();const a=typeof n,s=Array.isArray(e);if(Array.isArray(n)){for(let l=0;l<n.length;l++)ou(e,[n[l]].concat(t),r);return}else if(s&&a==="function"){for(let l=0;l<e.length;l++)n(e[l],l)&&ou(e,[l].concat(t),r);return}else if(s&&a==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=n;for(let f=l;f<=c;f+=u)ou(e,[f].concat(t),r);return}else if(t.length>1){ou(e[n],t,[n].concat(r));return}i=e[n],r=[n].concat(r)}let o=t[0];typeof o=="function"&&(o=o(i,r),o===i)||n===void 0&&o==null||(o=qu(o),n===void 0||zp(i)&&zp(o)&&!Array.isArray(o)?OL(i,o):Up(e,n,o))}function nS(...[e,t]){const r=qu(e||{}),n=Array.isArray(r),i=SL(r);function o(...a){Ri(()=>{n&&a.length===1?nq(r,a[0]):ou(r,a)})}return[i,o]}const[F,ue]=nS({nodes:{},edges:{},panZoom:null,snapGrid:[10,10],activeBoards:[{name:"home",id:"home"}],activeSidebar:"nodes",showColorMenu:!1,noteEditor:null,activeTags:[],dragThreshold:5,dragging:null,selectedNodes:new Set([]),copiedNodes:[],viewport:{x:0,y:0,width:0,height:0,scale:1}});/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}},Td=Symbol("hyper-element");function oq(e){function t(){let r=[].slice.call(arguments),n,i=[],o=!1;for(;Array.isArray(r[0]);)r=r[0];r[0][Td]&&r.unshift(t.Fragment),typeof r[0]=="string"&&c(r);const a=()=>{for(;r.length;)s(r.shift());return n instanceof Element&&i.length&&n.classList.add(...i),n};return a[Td]=!0,a;function s(u){const f=typeof u;if(u!=null){if(f==="string")n?n.appendChild(document.createTextNode(u)):l(u);else if(f==="number"||f==="boolean"||f==="bigint"||f==="symbol"||u instanceof Date||u instanceof RegExp)n.appendChild(document.createTextNode(u.toString()));else if(Array.isArray(u))for(let d=0;d<u.length;d++)s(u[d]);else if(u instanceof Element)e.insert(n,u,o?null:void 0);else if(f==="object"){let d=!1;const h=Object.getOwnPropertyDescriptors(u);for(const p in h){if(p==="class"&&i.length!==0){const g=i.join(" "),m=typeof h.class.value=="function"?()=>g+" "+h.class.value():g+" "+u.class;Object.defineProperty(u,"class",{...h[p],value:m}),i=[]}p!=="ref"&&p.slice(0,2)!=="on"&&typeof h[p].value=="function"?(e.dynamicProperty(u,p),d=!0):h[p].get&&(d=!0)}d?e.spread(n,u,n instanceof SVGElement,!!r.length):e.assign(n,u,n instanceof SVGElement,!!r.length)}else if(f==="function")if(n){for(;u[Td];)u=u();e.insert(n,u,o?null:void 0)}else{let d,h=r[0];(h==null||typeof h=="object"&&!Array.isArray(h)&&!(h instanceof Element))&&(d=r.shift()),d||(d={}),r.length&&(d.children=r.length>1?r:r[0]);const p=Object.getOwnPropertyDescriptors(d);for(const g in p)if(Array.isArray(p[g].value)){const m=p[g].value;d[g]=()=>{for(let v=0;v<m.length;v++)for(;m[v][Td];)m[v]=m[v]();return m},e.dynamicProperty(d,g)}else typeof p[g].value=="function"&&!p[g].value.length&&e.dynamicProperty(d,g);n=e.createComponent(u,d),r=[]}}}function l(u){const f=u.split(/([\.#]?[^\s#.]+)/);/^\.|#/.test(f[1])&&(n=document.createElement("div"));for(let d=0;d<f.length;d++){const h=f[d],p=h.substring(1,h.length);h&&(n?h[0]==="."?i.push(p):h[0]==="#"&&n.setAttribute("id",p):n=e.SVGElements.has(h)?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h))}}function c(u){for(let f=1;f<u.length;f++)if(typeof u[f]=="function"){o=!0;return}else Array.isArray(u[f])&&c(u[f])}}return t.Fragment=r=>r.children,t}const J0=oq({spread:qx,assign:eL,insert:B,createComponent:M,dynamicProperty:DK,SVGElements:ZD});/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t,r,n)=>{const i=o=>{const[a,s]=Ie(o,["color","size","stroke","title","children","class"]),l=iq[e],c={...l,width:()=>a.size!=null?a.size:l.width,height:()=>a.size!=null?a.size:l.height,title:()=>a.title!=null?a.title:void 0,...e==="filled"?{fill:()=>a.color!=null?a.color:"currentColor"}:{stroke:()=>a.color!=null?a.color:"currentColor","stroke-width":()=>a.stroke!=null?a.stroke:l["stroke-width"]},class:()=>`tabler-icon tabler-icon-${t} ${a.class!=null?a.class:""}`};return J0("svg",[c,s],[a.title&&J0("title",{},a.title),...n.map(([u,f])=>J0(u,f)),a.children])};return i.displayName=`${r}`,i};/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aq=Re("outline","align-center","AlignCenter",[["path",{d:"M4 6l16 0"}],["path",{d:"M8 12l8 0"}],["path",{d:"M6 18l12 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sq=Re("outline","align-justified","AlignJustified",[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l16 0"}],["path",{d:"M4 18l12 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lq=Re("outline","align-left","AlignLeft",[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l10 0"}],["path",{d:"M4 18l14 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cq=Re("outline","align-right","AlignRight",[["path",{d:"M4 6l16 0"}],["path",{d:"M10 12l10 0"}],["path",{d:"M6 18l14 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uq=Re("outline","arrow-bar-both","ArrowBarBoth",[["path",{d:"M8 12h-6"}],["path",{d:"M5 15l-3 -3l3 -3"}],["path",{d:"M22 12h-6"}],["path",{d:"M19 15l3 -3l-3 -3"}],["path",{d:"M12 4v16"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fq=Re("outline","blockquote","Blockquote",[["path",{d:"M6 15h15"}],["path",{d:"M21 19h-15"}],["path",{d:"M15 11h6"}],["path",{d:"M21 7h-6"}],["path",{d:"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}],["path",{d:"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dq=Re("outline","bold","Bold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hq=Re("outline","chevrons-right","ChevronsRight",[["path",{d:"M7 7l5 5l-5 5"}],["path",{d:"M13 7l5 5l-5 5"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var TL=Re("outline","code","Code",[["path",{d:"M7 8l-4 4l4 4"}],["path",{d:"M17 8l4 4l-4 4"}],["path",{d:"M14 4l-4 16"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pq=Re("outline","dots-vertical","DotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gq=Re("outline","filter","Filter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mq=Re("outline","graph","Graph",[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vq=Re("outline","h-1","H1",[["path",{d:"M19 18v-8l-2 2"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bq=Re("outline","h-2","H2",[["path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yq=Re("outline","h-3","H3",[["path",{d:"M19 14a2 2 0 1 0 -2 -2"}],["path",{d:"M17 16a2 2 0 1 0 2 -2"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $q=Re("outline","h-4","H4",[["path",{d:"M20 18v-8l-4 6h5"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wq=Re("outline","h-5","H5",[["path",{d:"M17 18h2a2 2 0 1 0 0 -4h-2v-4h4"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xq=Re("outline","h-6","H6",[["path",{d:"M19 14a2 2 0 1 0 0 4a2 2 0 0 0 0 -4z"}],["path",{d:"M21 12a2 2 0 1 0 -4 0v4"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sq=Re("outline","italic","Italic",[["path",{d:"M11 5l6 0"}],["path",{d:"M7 19l6 0"}],["path",{d:"M14 5l-4 14"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kq=Re("outline","list-numbers","ListNumbers",[["path",{d:"M11 6h9"}],["path",{d:"M11 12h9"}],["path",{d:"M12 18h8"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4"}],["path",{d:"M6 10v-6l-2 2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oq=Re("outline","list","List",[["path",{d:"M9 6l11 0"}],["path",{d:"M9 12l11 0"}],["path",{d:"M9 18l11 0"}],["path",{d:"M5 6l0 .01"}],["path",{d:"M5 12l0 .01"}],["path",{d:"M5 18l0 .01"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tq=Re("outline","menu-2","Menu2",[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l16 0"}],["path",{d:"M4 18l16 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cq=Re("outline","pilcrow","Pilcrow",[["path",{d:"M13 4v16"}],["path",{d:"M17 4v16"}],["path",{d:"M19 4h-9.5a4.5 4.5 0 0 0 0 9h3.5"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eq=Re("outline","settings","Settings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mq=Re("outline","sort-descending","SortDescending",[["path",{d:"M4 6l9 0"}],["path",{d:"M4 12l7 0"}],["path",{d:"M4 18l7 0"}],["path",{d:"M15 15l3 3l3 -3"}],["path",{d:"M18 6l0 12"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aq=Re("outline","spacing-vertical","SpacingVertical",[["path",{d:"M4 20v-2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2"}],["path",{d:"M4 4v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}],["path",{d:"M16 12h-8"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iq=Re("outline","strikethrough","Strikethrough",[["path",{d:"M5 12l14 0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pq=Re("outline","underline","Underline",[["path",{d:"M7 5v5a5 5 0 0 0 10 0v-5"}],["path",{d:"M5 19h14"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _q=Re("filled","moon-filled","MoonFilled",[["path",{d:"M12 1.992a10 10 0 1 0 9.236 13.838c.341 -.82 -.476 -1.644 -1.298 -1.31a6.5 6.5 0 0 1 -6.864 -10.787l.077 -.08c.551 -.63 .113 -1.653 -.758 -1.653h-.266l-.068 -.006l-.06 -.002z"}]]),Dq=W('<div id=topbar class="h-[50px] border-b border-border flex flex-row justify-between items-center bg-card px-8"><div id=breadcrumb class="bg-card flex flex-row space-y-4 overflow-x-visible "><div class="flex flex-row"></div></div><div class="flex justify-center items-center space-x-4">'),Lq=W('<div class="p-[5px] border-2 border-border transition duration-100 ease-out">[logo]'),Nq=W('<span class="self-center mx-1 my-0 ">'),Rq=W('<div class="absolute h-full w-30 p-3"><div class="border border-border p-2 h-full bg-card flex flex-col space-y-4 overflow-x-visible ">');const Fq=()=>{const e=(t,r)=>{console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log(F.activeBoards),ue("activeBoards",n=>n.slice(0,t+1)),console.log(F.activeBoards)};return(()=>{var t=Dq(),r=t.firstChild,n=r.firstChild,i=r.nextSibling;return B(n,M(Ot,{get each(){return F.activeBoards},children:(o,a)=>[(()=>{var s=Lq();return s.firstChild,s.$$click=()=>a()!==F.activeBoards.length-1?e(a(),o.id):void 0,B(s,()=>o.name,null),ne(l=>{var c={breadcrumb_path:!0,"hover:bg-primary":a()!==F.activeBoards.length-1,"border-primary":a()===F.activeBoards.length-1},u=a()!==F.activeBoards.length-1?"pointer":"default";return l.e=za(s,c,l.e),u!==l.t&&re(s,"cursor",l.t=u),l},{e:void 0,t:void 0}),s})(),pt(()=>pt(()=>a()!==F.activeBoards.length-1)()&&(()=>{var s=Nq();return B(s,M(hq,{})),s})())]})),B(i,M(PC,{variant:"secondary",get children(){return M(Eq,{})}}),null),B(i,M(PC,{variant:"secondary",get children(){return M(_q,{})}}),null),t})()};Rq();Ut(["click"]);var ie=(e=>(e.Note="Note",e.Comment="Comment",e.Todo="Todo",e.Table="Table",e.Url="Url",e.Activity="Activity",e.Arrow="Arrow",e.Board="Board",e.Column="Column",e.Code="Code",e.Document="Document",e.Upload="Upload",e.Drawing="Drawing",e.Sketch="Sketch",e.Color="Color",e.Image="Image",e))(ie||{}),au=(e=>(e.String="String",e.Number="Number",e.Boolean="Boolean",e.Date="Date",e.Badge="Badge",e))(au||{});function jq(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Bq(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Jh;function zq(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function Rt(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}class Hq{get rid(){return jq(this,Jh,"f")}constructor(t){Jh.set(this,void 0),Bq(this,Jh,t)}async close(){return Rt("plugin:resources|close",{rid:this.rid})}}Jh=new WeakMap;var Ir;(function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Document=6]="Document",e[e.Download=7]="Download",e[e.Picture=8]="Picture",e[e.Public=9]="Public",e[e.Video=10]="Video",e[e.Resource=11]="Resource",e[e.Temp=12]="Temp",e[e.AppConfig=13]="AppConfig",e[e.AppData=14]="AppData",e[e.AppLocalData=15]="AppLocalData",e[e.AppCache=16]="AppCache",e[e.AppLog=17]="AppLog",e[e.Desktop=18]="Desktop",e[e.Executable=19]="Executable",e[e.Font=20]="Font",e[e.Home=21]="Home",e[e.Runtime=22]="Runtime",e[e.Template=23]="Template"})(Ir||(Ir={}));async function Uq(...e){return Rt("plugin:path|join",{paths:e})}var _C;(function(e){e[e.Start=0]="Start",e[e.Current=1]="Current",e[e.End=2]="End"})(_C||(_C={}));async function Vq(e,t,r){if(e instanceof URL&&e.protocol!=="file:"||t instanceof URL&&t.protocol!=="file:")throw new TypeError("Must be a file URL.");await Rt("plugin:fs|copy_file",{fromPath:e instanceof URL?e.toString():e,toPath:t instanceof URL?t.toString():t,options:r})}async function Wq(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await Rt("plugin:fs|mkdir",{path:e instanceof URL?e.toString():e,options:t})}async function CL(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await Rt("plugin:fs|read_file",{path:e instanceof URL?e.toString():e,options:t});return r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}async function Kq(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await Rt("plugin:fs|read_text_file",{path:e instanceof URL?e.toString():e,options:t}),n=r instanceof ArrayBuffer?r:Uint8Array.from(r);return new TextDecoder().decode(n)}async function iS(e,t,r){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");const n=new TextEncoder;await Rt("plugin:fs|write_text_file",n.encode(t),{headers:{path:encodeURIComponent(e instanceof URL?e.toString():e),options:JSON.stringify(r)}})}async function G$(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");return await Rt("plugin:fs|exists",{path:e instanceof URL?e.toString():e,options:t})}async function Gq(){let e=F.nodes;const t=JSON.stringify(e,null,2);await iS("GraphNote/nodes.json",t,{baseDir:Ir.Document})}async function qq(){let e=F.nodes;const t=JSON.stringify(e,null,2);await iS("GraphNote/nodes_old.json",t,{baseDir:Ir.Document})}async function Yq(){let e=await DC("GraphNote","GraphNote/nodes.json"),t=await DC("GraphNote","GraphNote/edges.json"),r=null,n=null;return e&&(r=Jq(e)),t&&(n=Xq(t)),{nodes:r,edges:n}}const Jq=e=>{const t=JSON.parse(e),r=Object.values(t).flat();//! maybe do each workspace at a time
r.sort((i,o)=>(i.zIndex??0)-(o.zIndex??0));for(let i=0;i<r.length;i++)r[i].zIndex=i;r.forEach(i=>{(i.zIndex===void 0||i.zIndex===null)&&(i.zIndex=0)});const n={};for(const[i,o]of Object.entries(t))n[i]=o.map(a=>r.find(s=>s.id===a.id));return n},Xq=e=>JSON.parse(e),DC=async(e,t)=>{try{return await G$(e,{baseDir:Ir.Document})||(console.info("Creating directory:",e),await Wq("GraphNote",{baseDir:Ir.Document,recursive:!0}),console.info("Created directory:",e)),await G$(t,{baseDir:Ir.Document})||(console.info("Creating empty JSON file:",t),await iS(t,JSON.stringify({},null,2),{baseDir:Ir.Document})),await Kq(t,{baseDir:Ir.Document})}catch(r){return console.error(`Failed to read or parse ${t}:`,r),null}};function Qq(e,t){const r=e.split("."),n=r.length>1?"."+r.pop():"",i=r.join(".");let o=e;return o=`${i}${t}${n}`,o}const Zq=async e=>{let t,r=0;for(;;){const n=e.split("/").splice(-1)[0],i=r===0?n:Qq(n,r),a=await Uq("GraphNote",i);if(!await G$(a,{baseDir:Ir.Document})){t=a;break}r++}return t},eY=async e=>{try{const t=await Zq(e);return console.log("creating file:",t),await Vq(e,t,{fromPathBaseDir:Ir.Document,toPathBaseDir:Ir.Document}),console.info("finished copying:",e,"to:",t),{res:!0,text:t}}catch(t){return console.log("error copying the file: ",t),{res:!1,text:t}}},tY=(e,t)=>{if(console.log("selecting:",t),e.stopPropagation(),F.selectedNodes.has(t)){const r=new Set(F.selectedNodes);r.delete(t),ue("selectedNodes",r)}else ue("selectedNodes",r=>new Set(r).add(t));console.log("adding :",F.selectedNodes)},$t=()=>{setTimeout(()=>{Gq(),qq()},0)};function oS(e,t){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>e(...n),t)}}const rY={image:["png","jpg","jpeg","gif","webp","svg","bmp","tiff","ico"],video:["mp4","mkv","mov","avi","webm","flv"],music:["mp3","wav","ogg","flac","m4a"],document:["doc","docx","xls","xlsx","ppt","pptx","csv","pdf"],code:["js","ts","py","rs","java","c","cpp","cs","html","css","js","ts","jsx","tsx","json","xml","yaml","yml","sh","php","go","rb","swift","kt","dart"],text:["txt","md","log"]},nY=e=>{console.log("event :",e);const t=e.payload;console.log("file path:",t.paths),console.log("file pos:",t.position),!(!t.paths||t.paths.length===0)&&t.paths.forEach(async(r,n)=>{const i=await eY(r);if(i.res){console.log("+==============================="),console.log(r.split(".").splice(-1)[0].toLowerCase());const o=r.split(".").splice(-1)[0].toLowerCase();let a="unknown";for(const[s,l]of Object.entries(rY))if(l.includes(o)){a=s;break}switch(console.log("file type:",a),a){case"image":const s=e.payload.position;console.log(e.payload.position),console.log(e.payload.paths),console.info("test"),dY(i.text,s.x+n*300,s.y+n*300);break;case"video":break;case"music":break;case"document":const l=e.payload.position;vY(i.text,l.x+n*300,l.y+n*300,"widget"),console.log("we recieved a pdf file");break;case"code":break;case"text":break;default:console.warn(`file type ${o} is unknown and cannot be handled`);break}}else console.error("failed to save file:",i.text)})},iY=(e,t,r)=>{for(const[n,i]of Object.entries(F.nodes)){const o=i.findIndex(s=>s.id===e);let a;if(typeof t=="boolean")a="check";else if(typeof t=="string")a="text";else return;if(o!==-1){const s=F.nodes[n][o];"tasks"in s&&Array.isArray(s.tasks)&&s.tasks[r]?(console.log("Updating:",n,o,"tasks",r,a,t),ue("nodes",n,o,"tasks",r,a,t)):console.warn("Node found but tasks array or index is invalid");break}}$t()},oY=(e,t)=>{for(const[r,n]of Object.entries(F.nodes)){const i=n.findIndex(o=>o.id===e);if(i!==-1){ue("nodes",r,i,"text",t);break}}$t()},Rr=()=>F.activeBoards[F.activeBoards.length-1].id,EL=e=>{const t=Rr();if(!t)return;const r=F.nodes[t]??[],n=Math.max(...r.map(o=>o.zIndex??0)),i=r.findIndex(o=>o.id===e);i!==-1&&ue("nodes",t,i,"zIndex",n+1)},X0=(e,t,r)=>{const n=Rr(),o=(F.nodes[n]??[]).findIndex(a=>a.id===e);o!==-1&&(t>0&&ue("nodes",n,o,"x",t),r>0&&ue("nodes",n,o,"y",r))},Cd=(e,t)=>{F.selectedNodes.forEach(r=>{const n=Rr(),o=(F.nodes[n]??[]).findIndex(a=>a.id===r);o!==-1&&(e&&ue("nodes",n,o,"x",a=>a+e),t&&ue("nodes",n,o,"y",a=>a+t))}),$t()},aY=(e,t)=>{const r=Rr(),i=(F.nodes[r]??[]).findIndex(o=>o.id===e);i!==-1&&ue("nodes",r,i,"width",t),$t()},sY=(e,t,r)=>{const n=Rr();e:for(const i of F.nodes[n]||[])if(i.type===ie.Column){const o=F.nodes[i.id]||[];for(let a=0;a<o.length;a++){const s=o[a];if(s.id===e){console.log(s),ue("nodes",i.id,a,"x",t),ue("nodes",i.id,a,"y",r);break e}}}$t()},lY=e=>{const t=Rr();return(F.nodes[t]??[]).some(i=>i.id===e&&i.type===ie.Column)},Xa=e=>{for(const t of Object.values(F.nodes)){const r=t.find(n=>n.id===e);if(r)return r}},cY=e=>{for(const[t,r]of Object.entries(F.nodes))if(r.some(n=>n.id===e))return t;return null},q$=(e,t)=>{var i;let r;t?r=t:r=Rr();const n=(i=F.nodes[r])==null?void 0:i.filter(o=>o.id!==e);n&&ue("nodes",r,n),$t()},Q0=(e,t)=>{if(t)ue("nodes",t,(r=[])=>[...r,e]);else{const r=Rr();ue("nodes",r,(n=[])=>[...n,e])}$t()},aS=()=>{const e=Object.values(F.nodes).flat();let t=0;for(const r of e){const n=r.id.match(/^node_(\d+)$/);if(n){const i=parseInt(n[1],10);i>t&&(t=i)}}return`node_${t+1}`},uY=(e,t,r)=>{const n={id:aS(),type:e,width:300,x:t,y:r,index:0};switch(e){case ie.Note:return{...n,text:'{"type":"doc","content":[{"type":"paragraph"}]}'};case ie.Comment:return{...n,comment:""};case ie.Todo:return{...n,title:"",tasks:[{text:"test",check:!1,nestLevel:0}]};case ie.Table:return{...n,columns:[],rows:[],title:"",description:""};case ie.Url:return{...n,url:""};case ie.Board:return{...n,name:"New Board",icon_path:""};case ie.Column:return{...n,title:"New Column"};case ie.Document:return{...n,text:""};case ie.Color:return{...n,colorValue:"#ffffff",text:"Color Node"};case ie.Image:return{...n,path:"",title:"Untitled Image",description:""};case ie.Activity:return{...n,width:void 0};default:throw new Error(`Unsupported node type: ${e}`)}},fY=(e,t,r)=>{const n=Rr();let i,o;F.snapGrid&&(i=Math.round(t/10)*10,o=Math.round(r/10)*10),ue("nodes",n,(a=[])=>[...a,uY(e,i??t,o??r)]),$t()},dY=(e,t,r)=>{const n=Rr();let i=t,o=r;F.snapGrid&&(i=Math.round(t/10)*10,o=Math.round(r/10)*10);const a={id:aS(),type:ie.Image,width:300,x:i,y:o,index:0,path:e,title:"Untitled Image",description:"test"};ue("nodes",n,(s=[])=>[...s,a]),$t()},Ju=(e,t,r)=>{const n=Rr(),o=(F.nodes[n]??[]).findIndex(a=>a.id===e);if(o!==-1)switch(t){case"bg":ue("nodes",n,o,"color",r);break;case"fg":ue("nodes",n,o,"textColor",r);break;case"strip":ue("nodes",n,o,"top_strip_color",r);break}$t()},hY=()=>{F.selectedNodes.forEach(e=>{const t=Rr(),n=(F.nodes[t]??[]).findIndex(i=>i.id===e);n!==-1&&ue("nodes",t,n,i=>({...i,top_strip_color:void 0}))}),$t()},pY=(e,t)=>{for(const[r,n]of Object.entries(F.nodes)){const i=n.findIndex(o=>o.id===e);if(i!==-1){ue("nodes",r,i,o=>({...o,type:ie.Url,url:t,text:void 0}));break}}$t()},gY=(e,t)=>{for(const[r,n]of Object.entries(F.nodes)){const i=n.findIndex(o=>o.id===e);if(i!==-1){ue("nodes",r,i,"title",t);break}}$t()},mY=(e,t,r)=>{console.log(e,t,r);for(const[n,i]of Object.entries(F.nodes)){const o=i.findIndex(a=>a.id===e);if(o!==-1){ue("nodes",n,o,"progress",t,a=>(a??0)+r);break}}$t()},Us=(e,t)=>{for(const[r,n]of Object.entries(F.nodes)){const i=n.findIndex(o=>o.id===e);i!==-1&&ue("nodes",r,i,"tasks",t)}$t()},vY=(e,t,r,n)=>{const i=Rr();let o=t,a=r;F.snapGrid&&(o=Math.round(t/10)*10,a=Math.round(r/10)*10);const s={id:aS(),type:ie.Document,width:300,x:o,y:a,index:0,path:e,description:"test",docType:n};ue("nodes",i,(l=[])=>[...l,s]),$t()},sS=["transparent","currentColor","inherit","revert","initial"],Pe=e=>{const t=Math.floor(e);return e-t<.5?t:Math.round(e)},Vp=[["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["goldenrod",{r:218,g:165,b:32}],["gold",{r:255,g:215,b:0}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavenderblush",{r:255,g:240,b:245}],["lavender",{r:230,g:230,b:250}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]],ML="deg|rad|grad|turn",AL="[-\\+]?\\d+%?",IL="[-\\+]?\\d*\\.\\d+%?",PL=`[-\\+]?\\d*\\.?\\d+(?:${ML})?`,Xh=`(?:${IL})|(?:${AL})`,Y$=`(?:${Xh})|(?:${PL}?)`,bY="(?:[\\s|\\(\\s|\\s\\(\\s]+)?",yY="(?:[\\s|\\)\\s]+)?",LC="(?:[,|\\s]+)",$Y="(?:[,|\\/\\s]*)?",Tc=`${bY}(${Y$})${LC}(${Xh})${LC}(${Xh})${$Y}(${Xh})?${yY}`,Zn={CSS_UNIT:new RegExp(Y$),ANGLES:ML,CSS_ANGLE:PL,CSS_INTEGER:AL,CSS_NUMBER:IL,CSS_UNIT2:Y$,PERMISSIVE_MATCH:Tc,hwb:new RegExp(`hwb${Tc}`),rgb:new RegExp(`rgb(?:a)?${Tc}`),hsl:new RegExp(`hsl(?:a)?${Tc}`),hsv:new RegExp(`hsv(?:a)?${Tc}`),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},_L=e=>sS.includes(e),su=(e,t)=>e!==null&&typeof e=="object"&&Object.keys(t).every(r=>r in e),DL=e=>`${e}`.includes(".")&&parseFloat(e)===1,lS=e=>typeof e=="string"&&e.includes("%"),wr=e=>!!Zn.CSS_UNIT.exec(`${e}`),LL=["rgb","hex","hsl","hsv","hwb"],NL=e=>sS.includes(e)||["#",...LL].some(t=>e.includes(t))?!1:Vp.some(([t])=>e===t),NC=1e-6,wY=(e,t)=>Math.abs(e*t-t)<NC?1:e<NC?0:e,Cr=(e,t)=>{let r=e;return DL(e)&&(r="100%"),lS(r)?Number.parseFloat(r)/100:(r=typeof r!="number"?Number.parseFloat(r):r,t===360?r=(r<0?r%t+t:r>360?r%t:r)/t:(r=Math.min(t,Math.max(0,r)),r=r/t),wY(r,t))},J$=e=>{let t=parseFloat(e);return(Number.isNaN(t)||t<0||t>1)&&(t=1),t},Ed=e=>Math.min(1,Math.max(0,e)),_o=e=>e.length===1?`0${e}`:String(e),RL=e=>{const[[,t]]=Vp.filter(([r])=>r===e.toLowerCase());return t},Sr=e=>parseInt(e,16),X$=e=>Sr(e)/255,FL=e=>Pe(e*255).toString(16),RC=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0,a=0;const s=(n+i)/2;if(n===i)a=0,o=0;else{const l=n-i;a=s>.5?l/(2-n-i):l/(n+i),n===e&&(o=(t-r)/l+(t<r?6:0)),n===t&&(o=(r-e)/l+2),n===r&&(o=(e-t)/l+4),o/=6}return{h:o,s:a,l:s}},Qh=(e,t,r)=>{let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e},Su=(e,t,r)=>{let n=0,i=0,o=0;if(t===0)i=r,o=r,n=r;else{const a=r<.5?r*(1+t):r+t-r*t,s=2*r-a;n=Qh(s,a,e+1/3),i=Qh(s,a,e),o=Qh(s,a,e-1/3)}return{r:n,g:i,b:o}},FC=(e,t,r)=>{let n=0,i=0;const o=Math.min(e,t,r),a=Math.max(e,t,r),s=1-a;if(a===o)return{h:0,w:o,b:s};e===o?(n=t-r,i=3):(n=t===o?r-e:e-t,i=t===o?5:1);const l=(i-n/(a-o))/6;return{h:l===1?0:l,w:o,b:s}},jL=(e,t,r)=>{if(t+r>=1){const a=t/(t+r);return{r:a,g:a,b:a}}let{r:n,g:i,b:o}=Su(e,1,.5);return[n,i,o]=[n,i,o].map(a=>a*(1-t-r)+t),{r:n,g:i,b:o}},jC=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0;const a=n,s=n-i,l=n===0?0:s/n;return n===i?o=0:(e===n&&(o=(t-r)/s+(t<r?6:0)),t===n&&(o=(r-e)/s+2),r===n&&(o=(e-t)/s+4),o/=6),{h:o,s:l,v:a}},Q$=(e,t,r)=>{const n=e*6,i=t,o=r,a=Math.floor(n),s=n-a,l=o*(1-i),c=o*(1-s*i),u=o*(1-(1-s)*i),f=a%6,d=[o,c,l,l,u,o][f],h=[u,o,o,c,l,l][f],p=[l,l,u,o,o,c][f];return{r:d,g:h,b:p}},Z0=(e,t,r,n)=>{const i=[_o(Pe(e).toString(16)),_o(Pe(t).toString(16)),_o(Pe(r).toString(16))];return n&&i[0].charAt(0)===i[0].charAt(1)&&i[1].charAt(0)===i[1].charAt(1)&&i[2].charAt(0)===i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")},eb=(e,t,r,n,i)=>{const o=[_o(Pe(e).toString(16)),_o(Pe(t).toString(16)),_o(Pe(r).toString(16)),_o(FL(n))];return i&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)&&o[3].charAt(0)===o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")},BL=e=>{const t=String(e).trim().toLowerCase();if(NL(t))return Object.assign(RL(t),{a:1,format:"rgb",ok:!0});if(_L(t))return{r:0,g:0,b:0,a:t==="transparent"?0:1,format:"rgb",ok:!0};let[,r,n,i,o]=Zn.rgb.exec(t)||[];return r&&n&&i?{r,g:n,b:i,a:o!==void 0?o:1,format:"rgb",ok:!0}:([,r,n,i,o]=Zn.hsl.exec(t)||[],r&&n&&i?{h:r,s:n,l:i,a:o!==void 0?o:1,format:"hsl",ok:!0}:([,r,n,i,o]=Zn.hsv.exec(t)||[],r&&n&&i?{h:r,s:n,v:i,a:o!==void 0?o:1,format:"hsv",ok:!0}:([,r,n,i,o]=Zn.hwb.exec(t)||[],r&&n&&i?{h:r,w:n,b:i,a:o!==void 0?o:1,format:"hwb",ok:!0}:([,r,n,i,o]=Zn.hex8.exec(t)||[],r&&n&&i&&o?{r:Sr(r),g:Sr(n),b:Sr(i),a:X$(o),format:"hex",ok:!0}:([,r,n,i]=Zn.hex6.exec(t)||[],r&&n&&i?{r:Sr(r),g:Sr(n),b:Sr(i),a:1,format:"hex",ok:!0}:([,r,n,i,o]=Zn.hex4.exec(t)||[],r&&n&&i&&o?{r:Sr(r+r),g:Sr(n+n),b:Sr(i+i),a:X$(o+o),format:"hex",ok:!0}:([,r,n,i]=Zn.hex3.exec(t)||[],r&&n&&i?{r:Sr(r+r),g:Sr(n+n),b:Sr(i+i),a:1,format:"hex",ok:!0}:{r:0,g:0,b:0,a:1,format:"rgb",ok:!e})))))))},xY=(e,t,r)=>({r:Cr(e,255),g:Cr(t,255),b:Cr(r,255)}),BC=e=>{let t={r:0,g:0,b:0},r=e,n=1,i,o,a,s,l,c,u,f,d="rgb",h=!1;if((!r||typeof r=="string")&&(r=BL(r),h=r.ok||h),su(r,t)&&wr(r.r)&&wr(r.g)&&wr(r.b)){if(["format","ok","originalInput"].every(p=>p in r))return{...r};({r:u,g:f,b:l}=r),t=xY(u,f,l),d="format"in r?r.format:"rgb"}return su(r,{h:0,s:0,v:0})&&wr(r.h)&&wr(r.s)&&wr(r.v)&&({h:c,s:i,v:o}=r,c=Cr(c,360),i=Cr(i,100),o=Cr(o,100),t=Q$(c,i,o),d="hsv"),su(r,{h:0,s:0,l:0})&&wr(r.h)&&wr(r.s)&&wr(r.l)&&({h:c,s:i,l:a}=r,c=Cr(c,360),i=Cr(i,100),a=Cr(a,100),t=Su(c,i,a),d="hsl"),su(r,{h:0,w:0,b:0})&&wr(r.h)&&wr(r.w)&&wr(r.b)&&({h:c,w:s,b:l}=r,c=Cr(c,360),s=Cr(s,100),l=Cr(l,100),t=jL(c,s,l),d="hwb"),wr(r.a)&&(n=r.a,n=lS(n)||parseFloat(`${n}`)>1?Cr(n,100):n),{...t,a:J$(n),format:d,ok:h}},SY="1.0.14",Ce=class Ce{constructor(t,r){R(this,"r");R(this,"g");R(this,"b");R(this,"a");R(this,"format");R(this,"ok");R(this,"originalInput");const n=r&&LL.includes(r)?r:"",{r:i,g:o,b:a,a:s,ok:l,format:c}=BC(t);this.originalInput=t,this.r=i,this.g=o,this.b=a,this.a=s,this.ok=l,this.format=n||c}get isValid(){return this.ok}get isDark(){return this.brightness<120}get luminance(){const{r:t,g:r,b:n}=this;let i=0,o=0,a=0;return t<=.03928?i=t/12.92:i=((t+.055)/1.055)**2.4,r<=.03928?o=r/12.92:o=((r+.055)/1.055)**2.4,n<=.03928?a=n/12.92:a=((n+.055)/1.055)**2.4,.2126*i+.7152*o+.0722*a}get brightness(){const{r:t,g:r,b:n}=this.toRgb();return(t*299+r*587+n*114)/1e3}get name(){const{r:t,g:r,b:n}=this.toRgb(),[i]=Vp.map(([o,a])=>{const s=(((a.r-t)*.3)**2+((a.g-r)*.6)**2+((a.b-n)*.1)**2)**.5;return[o,s]}).find(([,o],a,s)=>o===Math.min(...s.map(([,l])=>l)));return i}toRgb(){let{r:t,g:r,b:n,a:i}=this;return[t,r,n]=[t,r,n].map(o=>Pe(o*255*100)/100),i=Pe(i*100)/100,{r:t,g:r,b:n,a:i}}toRgbString(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Pe);return i===1?`rgb(${o}, ${a}, ${s})`:`rgba(${o}, ${a}, ${s}, ${i})`}toRgbCSS4String(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Pe),l=i===1?"":` / ${Pe(i*100)}%`;return`rgb(${o} ${a} ${s}${l})`}toHex(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Pe(a*255)),o=Pe(o*100)/100,o===1?Z0(r,n,i,t):eb(r,n,i,o,t)}toHexString(t){return`#${this.toHex(t)}`}toHex8(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Pe(a*255)),o=Pe(o*100)/100,o===1?Z0(r,n,i,t):eb(r,n,i,o,t)}toHex8String(t){return`#${this.toHex8(t)}`}toHsv(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,v:s}=jC(t,r,n);return{h:o,s:a,v:s,a:i}}toHsl(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,l:s}=RC(t,r,n);return{h:o,s:a,l:s,a:i}}toHslString(){let{h:t,s:r,l:n,a:i}=this.toHsl();return t=Pe(t*360),r=Pe(r*100),n=Pe(n*100),i=Pe(i*100)/100,i===1?`hsl(${t}, ${r}%, ${n}%)`:`hsla(${t}, ${r}%, ${n}%, ${i})`}toHslCSS4String(){let{h:t,s:r,l:n,a:i}=this.toHsl();t=Pe(t*360),r=Pe(r*100),n=Pe(n*100),i=Pe(i*100);const o=i<100?` / ${Pe(i)}%`:"";return`hsl(${t}deg ${r}% ${n}%${o})`}toHwb(){const{r:t,g:r,b:n,a:i}=this,{h:o,w:a,b:s}=FC(t,r,n);return{h:o,w:a,b:s,a:i}}toHwbString(){let{h:t,w:r,b:n,a:i}=this.toHwb();t=Pe(t*360),r=Pe(r*100),n=Pe(n*100),i=Pe(i*100);const o=i<100?` / ${Pe(i)}%`:"";return`hwb(${t}deg ${r}% ${n}%${o})`}setAlpha(t){return typeof t!="number"?this:(this.a=J$(t),this)}saturate(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Su(r,Ed(n+t/100),i);return Object.assign(this,{r:o,g:a,b:s}),this}desaturate(t){return typeof t=="number"?this.saturate(-t):this}greyscale(){return this.saturate(-100)}lighten(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Su(r,n,Ed(i+t/100));return Object.assign(this,{r:o,g:a,b:s}),this}darken(t){return typeof t=="number"?this.lighten(-t):this}spin(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Su(Ed((r*360+t)%360/360),n,i);return Object.assign(this,{r:o,g:a,b:s}),this}clone(){return new Ce(this)}toString(t){const{format:r}=this;return r==="hex"?this.toHexString(t):r==="hsl"?this.toHslString():r==="hwb"?this.toHwbString():this.toRgbString()}};R(Ce,"matchers",Zn),R(Ce,"isOnePointZero",DL),R(Ce,"isPercentage",lS),R(Ce,"isValidCSSUnit",wr),R(Ce,"isNonColor",_L),R(Ce,"isColorName",NL),R(Ce,"isColorType",su),R(Ce,"pad2",_o),R(Ce,"clamp01",Ed),R(Ce,"bound01",Cr),R(Ce,"boundAlpha",J$),R(Ce,"getRGBFromName",RL),R(Ce,"convertHexToDecimal",X$),R(Ce,"convertDecimalToHex",FL),R(Ce,"rgbToHsl",RC),R(Ce,"rgbToHex",Z0),R(Ce,"rgbToHsv",jC),R(Ce,"rgbToHwb",FC),R(Ce,"rgbaToHex",eb),R(Ce,"hslToRgb",Q$),R(Ce,"hsvToRgb",Q$),R(Ce,"hueToRgb",Qh),R(Ce,"hwbToRgb",jL),R(Ce,"parseIntFromHex",Sr),R(Ce,"stringInputToObject",BL),R(Ce,"inputToRGB",BC),R(Ce,"roundPart",Pe),R(Ce,"webColors",Vp),R(Ce,"nonColors",sS),R(Ce,"version",SY);let Ue=Ce;const Eo="ArrowDown",ku="ArrowUp",Wp="ArrowLeft",Ia="ArrowRight",zL="Enter",kY="Escape",zC="Space",OY="transitionDuration",TY="transitionDelay",tb="transitionend",HL="transitionProperty",UL=(e,t,r,n)=>{const i=n||!1;e.addEventListener(t,r,i)},VL=(e,t,r,n)=>{const i=n||!1;e.removeEventListener(t,r,i)},CY=(e,t)=>e.classList.contains(t),EY=(e,...t)=>Object.assign(e,...t),MY=(e,t)=>e.dispatchEvent(t),Xu=(e,t,r)=>{const n=getComputedStyle(e,r),i=t.replace("webkit","Webkit").replace(/([A-Z])/g,"-$1").toLowerCase();return n.getPropertyValue(i)},AY=e=>{const t=Xu(e,HL),r=Xu(e,TY),n=r.includes("ms")?1:1e3,i=t&&t!=="none"?parseFloat(r)*n:0;return Number.isNaN(i)?0:i},IY=e=>{const t=Xu(e,HL),r=Xu(e,OY),n=r.includes("ms")?1:1e3,i=t&&t!=="none"?parseFloat(r)*n:0;return Number.isNaN(i)?0:i},HC=(e,t)=>{let r=0;const n=new Event(tb),i=IY(e),o=AY(e);if(i){const a=s=>{s.target===e&&(t.apply(e,[s]),e.removeEventListener(tb,a),r=1)};e.addEventListener(tb,a),setTimeout(()=>{r||MY(e,n)},i+o+17)}else t.apply(e,[n])},Ma=(e,t)=>e.focus(t),PY=e=>Object.entries(e),UC=e=>Object.keys(e),Md=e=>e.offsetHeight,Z$=(e,t)=>{const{width:r,height:n,top:i,right:o,bottom:a,left:s}=e.getBoundingClientRect();let l=1,c=1;return{width:r/l,height:n/c,top:i/c,right:o/l,bottom:a/c,left:s/l,x:s/l,y:i/c}},VC="aria-description",ew="aria-expanded",_Y="aria-hidden",rb="aria-selected",Cc="aria-valuenow",Ec="aria-valuetext",DY="change",LY="focusin",NY="focusout",WC="keydown",RY="keyup",tw="click",FY="pointerdown",WL="pointermove",jY="pointerup",BY="resize",zY="scroll",HY="touchmove",wo="ArrowDown",Mc="ArrowUp",Ad="ArrowLeft",xa="ArrowRight",UY="Enter",VY="Escape",KC="Space",WY="transitionDuration",KY="transitionProperty",Tl="tabindex",KL=(e,t,r,n)=>{const i=n||!1;e.addEventListener(t,r,i)},GL=(e,t,r,n)=>{const i=n||!1;e.removeEventListener(t,r,i)},Fm=(e,t)=>e.getAttribute(t),Ne=(e,t,r)=>e.setAttribute(t,r),nb=(e,t)=>e.removeAttribute(t),Mo=(e,...t)=>{e.classList.add(...t)},Mn=(e,...t)=>{e.classList.remove(...t)},ln=(e,t)=>e.classList.contains(t),cS=e=>e!=null&&typeof e=="object"||!1,Nf=e=>cS(e)&&typeof e.nodeType=="number"&&[1,2,3,4,5,6,7,8,9,10,11].some(t=>e.nodeType===t)||!1,Ha=e=>Nf(e)&&e.nodeType===1||!1,Vs=new Map,Qu={data:Vs,set:(e,t,r)=>{Ha(e)&&(Vs.has(t)||Vs.set(t,new Map),Vs.get(t).set(e,r))},getAllFor:e=>Vs.get(e)||null,get:(e,t)=>{if(!Ha(e)||!t)return null;const r=Qu.getAllFor(t);return e&&r&&r.get(e)||null},remove:(e,t)=>{const r=Qu.getAllFor(t);!r||!Ha(e)||(r.delete(e),r.size===0&&Vs.delete(t))}},GY=(e,t)=>Qu.get(e,t),qY=e=>e==null?void 0:e.trim().replace(/(?:^\w|[A-Z]|\b\w)/g,(t,r)=>r===0?t.toLowerCase():t.toUpperCase()).replace(/\s+/g,""),Do=e=>typeof e=="string"||!1,YY=e=>cS(e)&&e.constructor.name==="Window"||!1,qL=e=>Nf(e)&&e.nodeType===9||!1,ai=e=>qL(e)?e:Nf(e)?e.ownerDocument:YY(e)?e.document:globalThis.document,ii=(e,...t)=>Object.assign(e,...t),Lt=e=>{if(!e)return;if(Do(e))return ai().createElement(e);const{tagName:t}=e,r=Lt(t);if(!r)return;const n={...e};return delete n.tagName,ii(r,n)},rw=(e,t)=>{if(!e||!t)return;if(Do(t))return ai().createElementNS(e,t);const{tagName:r}=t,n=rw(e,r);if(!n)return;const i={...t};return delete i.tagName,ii(n,i)},JY=(e,t)=>e.dispatchEvent(t),nw=(e,t,r)=>{const n=getComputedStyle(e,r),i=t.replace("webkit","Webkit").replace(/([A-Z])/g,"-$1").toLowerCase();return n.getPropertyValue(i)},XY=e=>{const t=nw(e,KY),r=nw(e,WY),n=r.includes("ms")?1:1e3,i=t&&t!=="none"?parseFloat(r)*n:0;return Number.isNaN(i)?0:i},Sa=(e,t)=>e.focus(t),GC=e=>["true",!0].includes(e)?!0:["false",!1].includes(e)?!1:["null","",null,void 0].includes(e)?null:e!==""&&!Number.isNaN(+e)?+e:e,Zh=e=>Object.entries(e),QY=(e,t,r,n)=>{if(!Ha(e))return t;const i={...r},o={...e.dataset},a={...t},s={},l="title";return Zh(o).forEach(([c,u])=>{const f=qY(c);s[f]=GC(u)}),Zh(i).forEach(([c,u])=>{i[c]=GC(u)}),Zh(t).forEach(([c,u])=>{c in i?a[c]=i[c]:c in s?a[c]=s[c]:a[c]=c===l?Fm(e,l):u}),a},qC=e=>Object.fromEntries(e),ZY=e=>e.offsetHeight,An=(e,t)=>{Zh(t).forEach(([r,n])=>{if(n&&Do(r)&&r.includes("--"))e.style.setProperty(r,n);else{const i={};i[r]=n,ii(e.style,i)}})},eJ=e=>cS(e)&&e.constructor.name==="Map"||!1,YL=e=>e.toUpperCase(),JL=e=>Ha(e)&&"offsetWidth"in e||!1,Id=(e,t)=>{const{width:r,height:n,top:i,right:o,bottom:a,left:s}=e.getBoundingClientRect();let l=1,c=1;if(t&&JL(e)){const{offsetWidth:u,offsetHeight:f}=e;l=u>0?Math.round(r)/u:1,c=f>0?Math.round(n)/f:1}return{width:r/l,height:n/c,top:i/c,right:o/l,bottom:a/c,left:s/l,x:s/l,y:i/c}},ib=e=>ai(e).documentElement,tJ=e=>{var t;return e?qL(e)?e.defaultView:Nf(e)?(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView:e:window};let YC=0,JC=0;const Ws=new Map,XL=(e,t)=>{let r=t?YC:JC;if(t){const n=XL(e),i=Ws.get(n)||new Map;Ws.has(n)||Ws.set(n,i),eJ(i)&&!i.has(t)?(i.set(t,r),YC+=1):r=i.get(t)}else{const n=e.id||e;Ws.has(n)?r=Ws.get(n):(Ws.set(n,r),JC+=1)}return r},ob=e=>Array.isArray(e)||!1,QL=(e,t)=>!e||!t?null:e.closest(t)||QL(e.getRootNode().host,t)||null,ka=(e,t)=>Ha(e)?e:(Ha(t)?t:ai()).querySelector(e),Ac=(e,t)=>(t&&Nf(t)?t:ai()).getElementsByClassName(e),uS=["transparent","currentColor","inherit","revert","initial"],_e=e=>{const t=Math.floor(e);return e-t<.5?t:Math.round(e)},Kp=[["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["goldenrod",{r:218,g:165,b:32}],["gold",{r:255,g:215,b:0}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavenderblush",{r:255,g:240,b:245}],["lavender",{r:230,g:230,b:250}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]],ZL="deg|rad|grad|turn",eN="[-\\+]?\\d+%?",tN="[-\\+]?\\d*\\.\\d+%?",rN=`[-\\+]?\\d*\\.?\\d+(?:${ZL})?`,ep=`(?:${tN})|(?:${eN})`,iw=`(?:${ep})|(?:${rN}?)`,rJ="(?:[\\s|\\(\\s|\\s\\(\\s]+)?",nJ="(?:[\\s|\\)\\s]+)?",XC="(?:[,|\\s]+)",iJ="(?:[,|\\/\\s]*)?",Ic=`${rJ}(${iw})${XC}(${ep})${XC}(${ep})${iJ}(${ep})?${nJ}`,ei={CSS_UNIT:new RegExp(iw),ANGLES:ZL,CSS_ANGLE:rN,CSS_INTEGER:eN,CSS_NUMBER:tN,CSS_UNIT2:iw,PERMISSIVE_MATCH:Ic,hwb:new RegExp(`hwb${Ic}`),rgb:new RegExp(`rgb(?:a)?${Ic}`),hsl:new RegExp(`hsl(?:a)?${Ic}`),hsv:new RegExp(`hsv(?:a)?${Ic}`),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},nN=e=>uS.includes(e),lu=(e,t)=>e!==null&&typeof e=="object"&&Object.keys(t).every(r=>r in e),iN=e=>`${e}`.includes(".")&&parseFloat(e)===1,fS=e=>typeof e=="string"&&e.includes("%"),xr=e=>!!ei.CSS_UNIT.exec(`${e}`),oN=["rgb","hex","hsl","hsv","hwb"],aN=e=>uS.includes(e)||["#",...oN].some(t=>e.includes(t))?!1:Kp.some(([t])=>e===t),QC=1e-6,oJ=(e,t)=>Math.abs(e*t-t)<QC?1:e<QC?0:e,Er=(e,t)=>{let r=e;return iN(e)&&(r="100%"),fS(r)?Number.parseFloat(r)/100:(r=typeof r!="number"?Number.parseFloat(r):r,t===360?r=(r<0?r%t+t:r>360?r%t:r)/t:(r=Math.min(t,Math.max(0,r)),r=r/t),oJ(r,t))},ow=e=>{let t=parseFloat(e);return(Number.isNaN(t)||t<0||t>1)&&(t=1),t},Pd=e=>Math.min(1,Math.max(0,e)),Lo=e=>e.length===1?`0${e}`:String(e),sN=e=>{const[[,t]]=Kp.filter(([r])=>r===e.toLowerCase());return t},kr=e=>parseInt(e,16),aw=e=>kr(e)/255,lN=e=>_e(e*255).toString(16),ZC=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0,a=0;const s=(n+i)/2;if(n===i)a=0,o=0;else{const l=n-i;a=s>.5?l/(2-n-i):l/(n+i),n===e&&(o=(t-r)/l+(t<r?6:0)),n===t&&(o=(r-e)/l+2),n===r&&(o=(e-t)/l+4),o/=6}return{h:o,s:a,l:s}},tp=(e,t,r)=>{let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e},Ou=(e,t,r)=>{let n=0,i=0,o=0;if(t===0)i=r,o=r,n=r;else{const a=r<.5?r*(1+t):r+t-r*t,s=2*r-a;n=tp(s,a,e+1/3),i=tp(s,a,e),o=tp(s,a,e-1/3)}return{r:n,g:i,b:o}},eE=(e,t,r)=>{let n=0,i=0;const o=Math.min(e,t,r),a=Math.max(e,t,r),s=1-a;if(a===o)return{h:0,w:o,b:s};e===o?(n=t-r,i=3):(n=t===o?r-e:e-t,i=t===o?5:1);const l=(i-n/(a-o))/6;return{h:l===1?0:l,w:o,b:s}},cN=(e,t,r)=>{if(t+r>=1){const a=t/(t+r);return{r:a,g:a,b:a}}let{r:n,g:i,b:o}=Ou(e,1,.5);return[n,i,o]=[n,i,o].map(a=>a*(1-t-r)+t),{r:n,g:i,b:o}},tE=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0;const a=n,s=n-i,l=n===0?0:s/n;return n===i?o=0:(e===n&&(o=(t-r)/s+(t<r?6:0)),t===n&&(o=(r-e)/s+2),r===n&&(o=(e-t)/s+4),o/=6),{h:o,s:l,v:a}},sw=(e,t,r)=>{const n=e*6,i=t,o=r,a=Math.floor(n),s=n-a,l=o*(1-i),c=o*(1-s*i),u=o*(1-(1-s)*i),f=a%6,d=[o,c,l,l,u,o][f],h=[u,o,o,c,l,l][f],p=[l,l,u,o,o,c][f];return{r:d,g:h,b:p}},ab=(e,t,r,n)=>{const i=[Lo(_e(e).toString(16)),Lo(_e(t).toString(16)),Lo(_e(r).toString(16))];return n&&i[0].charAt(0)===i[0].charAt(1)&&i[1].charAt(0)===i[1].charAt(1)&&i[2].charAt(0)===i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")},sb=(e,t,r,n,i)=>{const o=[Lo(_e(e).toString(16)),Lo(_e(t).toString(16)),Lo(_e(r).toString(16)),Lo(lN(n))];return i&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)&&o[3].charAt(0)===o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")},uN=e=>{const t=String(e).trim().toLowerCase();if(aN(t))return Object.assign(sN(t),{a:1,format:"rgb",ok:!0});if(nN(t))return{r:0,g:0,b:0,a:t==="transparent"?0:1,format:"rgb",ok:!0};let[,r,n,i,o]=ei.rgb.exec(t)||[];return r&&n&&i?{r,g:n,b:i,a:o!==void 0?o:1,format:"rgb",ok:!0}:([,r,n,i,o]=ei.hsl.exec(t)||[],r&&n&&i?{h:r,s:n,l:i,a:o!==void 0?o:1,format:"hsl",ok:!0}:([,r,n,i,o]=ei.hsv.exec(t)||[],r&&n&&i?{h:r,s:n,v:i,a:o!==void 0?o:1,format:"hsv",ok:!0}:([,r,n,i,o]=ei.hwb.exec(t)||[],r&&n&&i?{h:r,w:n,b:i,a:o!==void 0?o:1,format:"hwb",ok:!0}:([,r,n,i,o]=ei.hex8.exec(t)||[],r&&n&&i&&o?{r:kr(r),g:kr(n),b:kr(i),a:aw(o),format:"hex",ok:!0}:([,r,n,i]=ei.hex6.exec(t)||[],r&&n&&i?{r:kr(r),g:kr(n),b:kr(i),a:1,format:"hex",ok:!0}:([,r,n,i,o]=ei.hex4.exec(t)||[],r&&n&&i&&o?{r:kr(r+r),g:kr(n+n),b:kr(i+i),a:aw(o+o),format:"hex",ok:!0}:([,r,n,i]=ei.hex3.exec(t)||[],r&&n&&i?{r:kr(r+r),g:kr(n+n),b:kr(i+i),a:1,format:"hex",ok:!0}:{r:0,g:0,b:0,a:1,format:"rgb",ok:!e})))))))},aJ=(e,t,r)=>({r:Er(e,255),g:Er(t,255),b:Er(r,255)}),rE=e=>{let t={r:0,g:0,b:0},r=e,n=1,i,o,a,s,l,c,u,f,d="rgb",h=!1;if((!r||typeof r=="string")&&(r=uN(r),h=r.ok||h),lu(r,t)&&xr(r.r)&&xr(r.g)&&xr(r.b)){if(["format","ok","originalInput"].every(p=>p in r))return{...r};({r:u,g:f,b:l}=r),t=aJ(u,f,l),d="format"in r?r.format:"rgb"}return lu(r,{h:0,s:0,v:0})&&xr(r.h)&&xr(r.s)&&xr(r.v)&&({h:c,s:i,v:o}=r,c=Er(c,360),i=Er(i,100),o=Er(o,100),t=sw(c,i,o),d="hsv"),lu(r,{h:0,s:0,l:0})&&xr(r.h)&&xr(r.s)&&xr(r.l)&&({h:c,s:i,l:a}=r,c=Er(c,360),i=Er(i,100),a=Er(a,100),t=Ou(c,i,a),d="hsl"),lu(r,{h:0,w:0,b:0})&&xr(r.h)&&xr(r.w)&&xr(r.b)&&({h:c,w:s,b:l}=r,c=Er(c,360),s=Er(s,100),l=Er(l,100),t=cN(c,s,l),d="hwb"),xr(r.a)&&(n=r.a,n=fS(n)||parseFloat(`${n}`)>1?Er(n,100):n),{...t,a:ow(n),format:d,ok:h}},sJ="1.0.14",Ee=class Ee{constructor(t,r){R(this,"r");R(this,"g");R(this,"b");R(this,"a");R(this,"format");R(this,"ok");R(this,"originalInput");const n=r&&oN.includes(r)?r:"",{r:i,g:o,b:a,a:s,ok:l,format:c}=rE(t);this.originalInput=t,this.r=i,this.g=o,this.b=a,this.a=s,this.ok=l,this.format=n||c}get isValid(){return this.ok}get isDark(){return this.brightness<120}get luminance(){const{r:t,g:r,b:n}=this;let i=0,o=0,a=0;return t<=.03928?i=t/12.92:i=((t+.055)/1.055)**2.4,r<=.03928?o=r/12.92:o=((r+.055)/1.055)**2.4,n<=.03928?a=n/12.92:a=((n+.055)/1.055)**2.4,.2126*i+.7152*o+.0722*a}get brightness(){const{r:t,g:r,b:n}=this.toRgb();return(t*299+r*587+n*114)/1e3}get name(){const{r:t,g:r,b:n}=this.toRgb(),[i]=Kp.map(([o,a])=>{const s=(((a.r-t)*.3)**2+((a.g-r)*.6)**2+((a.b-n)*.1)**2)**.5;return[o,s]}).find(([,o],a,s)=>o===Math.min(...s.map(([,l])=>l)));return i}toRgb(){let{r:t,g:r,b:n,a:i}=this;return[t,r,n]=[t,r,n].map(o=>_e(o*255*100)/100),i=_e(i*100)/100,{r:t,g:r,b:n,a:i}}toRgbString(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(_e);return i===1?`rgb(${o}, ${a}, ${s})`:`rgba(${o}, ${a}, ${s}, ${i})`}toRgbCSS4String(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(_e),l=i===1?"":` / ${_e(i*100)}%`;return`rgb(${o} ${a} ${s}${l})`}toHex(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>_e(a*255)),o=_e(o*100)/100,o===1?ab(r,n,i,t):sb(r,n,i,o,t)}toHexString(t){return`#${this.toHex(t)}`}toHex8(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>_e(a*255)),o=_e(o*100)/100,o===1?ab(r,n,i,t):sb(r,n,i,o,t)}toHex8String(t){return`#${this.toHex8(t)}`}toHsv(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,v:s}=tE(t,r,n);return{h:o,s:a,v:s,a:i}}toHsl(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,l:s}=ZC(t,r,n);return{h:o,s:a,l:s,a:i}}toHslString(){let{h:t,s:r,l:n,a:i}=this.toHsl();return t=_e(t*360),r=_e(r*100),n=_e(n*100),i=_e(i*100)/100,i===1?`hsl(${t}, ${r}%, ${n}%)`:`hsla(${t}, ${r}%, ${n}%, ${i})`}toHslCSS4String(){let{h:t,s:r,l:n,a:i}=this.toHsl();t=_e(t*360),r=_e(r*100),n=_e(n*100),i=_e(i*100);const o=i<100?` / ${_e(i)}%`:"";return`hsl(${t}deg ${r}% ${n}%${o})`}toHwb(){const{r:t,g:r,b:n,a:i}=this,{h:o,w:a,b:s}=eE(t,r,n);return{h:o,w:a,b:s,a:i}}toHwbString(){let{h:t,w:r,b:n,a:i}=this.toHwb();t=_e(t*360),r=_e(r*100),n=_e(n*100),i=_e(i*100);const o=i<100?` / ${_e(i)}%`:"";return`hwb(${t}deg ${r}% ${n}%${o})`}setAlpha(t){return typeof t!="number"?this:(this.a=ow(t),this)}saturate(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Ou(r,Pd(n+t/100),i);return Object.assign(this,{r:o,g:a,b:s}),this}desaturate(t){return typeof t=="number"?this.saturate(-t):this}greyscale(){return this.saturate(-100)}lighten(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Ou(r,n,Pd(i+t/100));return Object.assign(this,{r:o,g:a,b:s}),this}darken(t){return typeof t=="number"?this.lighten(-t):this}spin(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Ou(Pd((r*360+t)%360/360),n,i);return Object.assign(this,{r:o,g:a,b:s}),this}clone(){return new Ee(this)}toString(t){const{format:r}=this;return r==="hex"?this.toHexString(t):r==="hsl"?this.toHslString():r==="hwb"?this.toHwbString():this.toRgbString()}};R(Ee,"matchers",ei),R(Ee,"isOnePointZero",iN),R(Ee,"isPercentage",fS),R(Ee,"isValidCSSUnit",xr),R(Ee,"isNonColor",nN),R(Ee,"isColorName",aN),R(Ee,"isColorType",lu),R(Ee,"pad2",Lo),R(Ee,"clamp01",Pd),R(Ee,"bound01",Er),R(Ee,"boundAlpha",ow),R(Ee,"getRGBFromName",sN),R(Ee,"convertHexToDecimal",aw),R(Ee,"convertDecimalToHex",lN),R(Ee,"rgbToHsl",ZC),R(Ee,"rgbToHex",ab),R(Ee,"rgbToHsv",tE),R(Ee,"rgbToHwb",eE),R(Ee,"rgbaToHex",sb),R(Ee,"hslToRgb",sw),R(Ee,"hsvToRgb",sw),R(Ee,"hueToRgb",tp),R(Ee,"hwbToRgb",cN),R(Ee,"parseIntFromHex",kr),R(Ee,"stringInputToObject",uN),R(Ee,"inputToRGB",rE),R(Ee,"roundPart",_e),R(Ee,"webColors",Kp),R(Ee,"nonColors",uS),R(Ee,"version",sJ);let bt=Ee;class Gp{constructor(...t){R(this,"hue");R(this,"hueSteps");R(this,"lightSteps");R(this,"saturation");R(this,"colors");let r=0,n=12,i=10,o=[.5],a=100;if(t.length===4)[r,n,i,a]=t;else if(t.length===3)[r,n,i]=t;else if(t.length===2&&([n,i]=t,[n,i].some(p=>p<1)))throw TypeError("ColorPalette: the two minimum arguments must be numbers higher than 0.");const s=[],l=360/n,c=bt.roundPart((i-(i%2?1:0))/2),u=[.25,.2,.15,.11,.09,.075],f=[[1,2,3],[4,5],[6,7],[8,9],[10,11],[12,13]],d=f.find(p=>p.includes(i)),h=d?u[f.indexOf(d)]:100/(i+(i%2?0:1))/100;for(let p=1;p<c+1;p+=1)o=[...o,.5+h*p];for(let p=1;p<i-c;p+=1)o=[.5-h*p,...o];for(let p=0;p<n;p+=1){const g=(r+p*l)%360;o.forEach(m=>{const v=new bt({h:g,s:100,l:m*100});s.push(a<100?v.saturate(a-100):v)})}this.hue=r,this.hueSteps=n,this.lightSteps=i,this.saturation=a,this.colors=s}}R(Gp,"Color",bt);const lw={pickerLabel:"Colour Picker",appearanceLabel:"Colour Appearance",valueLabel:"Colour Value",toggleLabel:"Select Colour",presetsLabel:"Colour Presets",defaultsLabel:"Colour Defaults",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadecimal",hueLabel:"Hue",whitenessLabel:"Whiteness",blacknessLabel:"Blackness",saturationLabel:"Saturation",lightnessLabel:"Lightness",redLabel:"Red",greenLabel:"Green",blueLabel:"Blue"},cu=["white","black","grey","red","orange","brown","gold","olive","yellow","lime","green","teal","cyan","blue","violet","magenta","pink"],nE=e=>{if(!Do(e))return!1;try{JSON.parse(e)}catch{return!1}return!0},cw="v-hidden",lJ=e=>{const{format:t,id:r,componentLabels:n}=e,i=Lt({tagName:"div",className:`color-form ${t}`});let o=["hex"];return t==="rgb"?o=["red","green","blue","alpha"]:t==="hsl"?o=["hue","saturation","lightness","alpha"]:t==="hwb"&&(o=["hue","whiteness","blackness","alpha"]),o.forEach(a=>{const[s]=t==="hex"?["#"]:YL(a).split(""),l=`color_${t}_${a}_${r}`,c=n[`${a}Label`],u=Lt({tagName:"label"});Ne(u,"for",l),u.append(Lt({tagName:"span",ariaHidden:"true",innerText:`${s}:`}),Lt({tagName:"span",className:cw,innerText:c}));const f=Lt({tagName:"input",id:l,type:t==="hex"?"text":"number",value:a==="alpha"?"100":"0",className:`color-input ${a}`,autocomplete:"off",spellcheck:!1});let d="100",h="1";a!=="alpha"&&(t==="rgb"?(d="255",h="1"):a==="hue"&&(d="360",h="1")),ii(f,{min:"0",max:d,step:h}),i.append(u,f)}),i},cJ=e=>{const{format:t,componentLabels:r}=e,{hueLabel:n,alphaLabel:i,lightnessLabel:o,saturationLabel:a,whitenessLabel:s,blacknessLabel:l}=r,c=t==="hsl"?360:100,u=t==="hsl"?100:360,f=100;let d=t==="hsl"?`${n} & ${o}`:`${o} & ${a}`;d=t==="hwb"?`${s} & ${l}`:d;const h=t==="hsl"?`${a}`:`${n}`,p=Lt({tagName:"div",className:`color-controls ${t}`}),g="color-pointer",m="color-slider";return[{i:1,c:g,l:d,min:0,max:c},{i:2,c:m,l:h,min:0,max:u},{i:3,c:m,l:i,min:0,max:f}].forEach(v=>{const{i:b,c:y,l:w,min:$,max:k}=v,O=Lt({tagName:"div",className:"color-control",role:"presentation"});O.append(Lt({tagName:"div",className:`visual-control visual-control${b}`}));const T=Lt({tagName:"div",className:`${y} knob`,ariaLive:"polite",ariaLabel:w,role:"slider",tabIndex:0,ariaValueMin:`${$}`,ariaValueMax:`${k}`});O.append(T),p.append(O)}),p},iE=(e,t,r)=>{const{input:n,format:i,componentLabels:o}=e,{defaultsLabel:a,presetsLabel:s}=o,l=r==="color-options",c=t instanceof Gp,u=l?s:a,f=c?t.colors:t,d=f.length,{lightSteps:h}=c?t:{lightSteps:null},p=h||[9,10].find(D=>d>=D*2&&!(d%D))||5,g=l&&d>p;let m=2;m=g&&d>p*2?3:m,m=g&&d>p*3?4:m,m=g&&d>p*4?5:m;const v=m-(d<=p*3?1:2),b=g&&d>v*p;let y=r;y+=b?" scrollable":"",y+=g?" multiline":"";const w=g?"1px":"0.25rem";let $=g?1.75:2;$=p>5&&g?1.5:$;const k=`${v*$}rem`,O=`calc(${m} * ${$}rem + ${m-1} * ${w})`,T=Lt({tagName:"ul",className:y,role:"listbox",ariaLabel:u});return b&&An(T,{"--grid-item-size":`${$}rem`,"--grid-fit":`${p}`,"--grid-gap":w,"--grid-height":k,"--grid-hover-height":O}),f.forEach(D=>{let[L,I]=typeof D=="string"?D.trim().split(":"):[];D instanceof bt&&(L=D.toHexString(),I=L);const E=new bt(D instanceof bt?D:L,i).toString()===Fm(n,"value"),_=Lt({tagName:"li",className:`color-option${E?" active":""}`,innerText:`${I||L}`,tabIndex:0,role:"option",ariaSelected:E?"true":"false"});Ne(_,"data-value",`${L}`),l&&An(_,{backgroundColor:L}),T.append(_)}),T},uJ=e=>{const{input:t,parent:r,format:n,id:i,componentLabels:o,colorKeywords:a,colorPresets:s}=e,l=Fm(t,"value")||"#fff",{nonColors:c}=bt,{toggleLabel:u,pickerLabel:f,formatLabel:d,hexLabel:h}=o,p=c.includes(l)?"#fff":l;e.color=new bt(p,n);const g=n==="hex"?h:YL(n),m=Lt({id:`picker-btn-${i}`,tagName:"button",type:"button",className:"picker-toggle btn-appearance",ariaExpanded:"false",ariaHasPopup:"true"});m.append(Lt({tagName:"span",className:cw,innerText:`${f}. ${d}: ${g}`}));const v=Lt({tagName:"div",className:"color-dropdown picker",role:"group",ariaLabelledBy:`picker-btn-${i}`}),b=cJ(e),y=lJ(e);if(v.append(b,y),t.before(m),r.append(v),a||s){const w=Lt({tagName:"div",className:"color-dropdown scrollable menu"});s&&w.append(iE(e,s,"color-options")),a&&a.length&&w.append(iE(e,a,"color-defaults"));const $=Lt({tagName:"button",type:"button",className:"menu-toggle btn-appearance",tabIndex:-1,ariaExpanded:"false",ariaHasPopup:"true"}),k=encodeURI("http://www.w3.org/2000/svg"),O=rw(k,{tagName:"svg"});Ne(O,"xmlns",k),Ne(O,"viewBox","0 0 512 512"),Ne(O,_Y,"true");const T=rw(k,{tagName:"path"});Ne(T,"d","M98,158l157,156L411,158l27,27L255,368L71,185L98,158z"),Ne(T,"fill","#fff"),O.append(T),$.append(Lt({tagName:"span",className:cw,innerText:`${u}`}),O),r.append($,w)}a&&c.includes(l)&&(e.value=l),Ne(t,Tl,"-1")},fJ="2.0.4",Cl="color-picker",dJ=`[data-function="${Cl}"]`,oE=`.${Cl}`,hJ={componentLabels:lw,colorLabels:cu,format:"rgb",colorPresets:!1,colorKeywords:!1},{roundPart:mt,nonColors:_d}=bt,pJ=e=>GY(e,Cl),gJ=e=>new Or(e),aE=(e,t)=>{const r=t?KL:GL,{input:n,pickerToggle:i,menuToggle:o}=e;r(n,LY,e.showPicker),r(i,tw,e.togglePicker),o&&r(o,tw,e.toggleMenu)},fN=(e,t)=>{const r=t?KL:GL,{input:n,colorMenu:i,parent:o}=e,a=ai(n),s=tJ(a);r(e.controls,FY,e.pointerDown),e.controlKnobs.forEach(l=>r(l,WC,e.handleKnobs)),r(s,zY,e.handleScroll),r(s,BY,e.update),[n,...e.inputs].forEach(l=>r(l,DY,e.changeHandler)),i&&(r(i,tw,e.menuClickHandler),r(i,WC,e.menuKeyHandler)),r(a,WL,e.pointerMove),r(a,jY,e.pointerUp),r(o,NY,e.handleFocusOut),r(a,RY,e.handleDismiss)},sE=e=>{JY(e.input,new CustomEvent("colorpicker.change"))},dN=e=>{e&&["bottom","top"].forEach(t=>Mn(e,t))},lb=(e,t)=>{const{colorPicker:r,colorMenu:n,menuToggle:i,pickerToggle:o,parent:a}=e,s=t===r,l=s?n:r,c=s?i:o,u=s?o:i;ln(a,"open")||Mo(a,"open"),l&&(Mn(l,"show"),dN(l)),Mo(t,"bottom"),ZY(t),Mo(t,"show"),s&&e.update(),e.isOpen||(fN(e,!0),e.updateDropdownPosition(),e.isOpen=!0,Ne(e.input,Tl,"0"),i&&Ne(i,Tl,"0")),Ne(u,ew,"true"),c&&Ne(c,ew,"false")};class Or{constructor(t,r){R(this,"id");R(this,"input");R(this,"color");R(this,"format","rgb");R(this,"parent");R(this,"dragElement");R(this,"isOpen",!1);R(this,"controlPositions");R(this,"colorLabels",qC(cu.map(t=>[t,t])));R(this,"colorKeywords");R(this,"colorPresets");R(this,"componentLabels");R(this,"pickerToggle");R(this,"menuToggle");R(this,"colorPicker");R(this,"colorMenu");R(this,"controls");R(this,"inputs");R(this,"controlKnobs");R(this,"visuals");R(this,"handleFocusOut",({relatedTarget:t})=>{t&&!this.parent.contains(t)&&this.hide(!0)});R(this,"handleDismiss",({code:t})=>{this.isOpen&&t===VY&&this.hide()});R(this,"handleScroll",t=>{const{activeElement:r}=ai(this.input);this.updateDropdownPosition(),([WL,HY].includes(t.type)&&this.dragElement||r&&this.controlKnobs.includes(r))&&(t.stopPropagation(),t.preventDefault())});R(this,"menuKeyHandler",t=>{const{target:r,code:n}=t,{previousElementSibling:i,nextElementSibling:o,parentElement:a}=r,s=a&&ln(a,"color-options"),l=a?[...a.children]:[],c=s&&Number(nw(a,"--grid-fit")),u=l.indexOf(r),f=u>-1&&c&&l[u-c],d=u>-1&&c&&l[u+c];[wo,Mc,KC].includes(n)&&t.preventDefault(),s?f&&n===Mc?Sa(f):d&&n===wo?Sa(d):i&&n===Ad?Sa(i):o&&n===xa&&Sa(o):i&&[Ad,Mc].includes(n)?Sa(i):o&&[xa,wo].includes(n)&&Sa(o),[UY,KC].includes(n)&&this.menuClickHandler(t)});R(this,"menuClickHandler",t=>{const{target:r}=t,{colorMenu:n}=this,i=(Fm(r,"data-value")||"").trim();if(!i.length)return;const o=ka("li.active",n);let a=i;a=_d.includes(a)?"white":a,a=a==="transparent"?"rgba(0,0,0,0)":a;const{r:s,g:l,b:c,a:u}=new bt(a);ii(this.color,{r:s,g:l,b:c,a:u}),this.update(),o!==r&&(o&&(Mn(o,"active"),nb(o,rb)),Mo(r,"active"),Ne(r,rb,"true"),_d.includes(i)&&(this.value=i),sE(this))});R(this,"pointerDown",t=>{if(t.button!==0)return;const{target:r,pageX:n,pageY:i}=t,{colorMenu:o,visuals:a,controlKnobs:s}=this,[l,c,u]=a,[f,d,h]=s,p=s.includes(r)?r.previousElementSibling:r,g=Id(p),m=ib(l),v=n-m.scrollLeft-g.left,b=i-m.scrollTop-g.top;if(r===l||r===f?(this.dragElement=p,this.changeControl1(v,b)):r===c||r===d?(this.dragElement=p,this.changeControl2(b)):(r===u||r===h)&&(this.dragElement=p,this.changeAlpha(b)),o){const y=ka("li.active",o);y&&(Mn(y,"active"),nb(y,rb))}t.preventDefault()});R(this,"pointerUp",({target:t})=>{const{parent:r}=this,n=ai(r),i=ka(`${oE}.open`,n)!==null,o=n.getSelection();!this.dragElement&&(!o||!o.toString().length)&&!r.contains(t)&&this.hide(i),this.dragElement=void 0});R(this,"pointerMove",t=>{const{dragElement:r,visuals:n}=this,[i,o,a]=n,{pageX:s,pageY:l}=t;if(!r)return;const c=Id(r),u=ib(i),f=s-u.scrollLeft-c.left,d=l-u.scrollTop-c.top;r===i&&this.changeControl1(f,d),r===o&&this.changeControl2(d),r===a&&this.changeAlpha(d)});R(this,"handleKnobs",t=>{const{target:r,code:n}=t;if(![Mc,wo,Ad,xa].includes(n))return;t.preventDefault();const{controlKnobs:i,visuals:o}=this,{offsetWidth:a,offsetHeight:s}=o[0],[l,c,u]=i,{activeElement:f}=ai(l),d=i.find(p=>p===f),h=s/360;if(d){let p=0,g=0;if(r===l){const m=a/100;[Ad,xa].includes(n)?this.controlPositions.c1x+=n===xa?m:-m:[Mc,wo].includes(n)&&(this.controlPositions.c1y+=n===wo?h:-h),p=this.controlPositions.c1x,g=this.controlPositions.c1y,this.changeControl1(p,g)}else r===c?(this.controlPositions.c2y+=[wo,xa].includes(n)?h:-h,g=this.controlPositions.c2y,this.changeControl2(g)):r===u&&(this.controlPositions.c3y+=[wo,xa].includes(n)?h:-h,g=this.controlPositions.c3y,this.changeAlpha(g));this.handleScroll(t)}});R(this,"changeHandler",()=>{let t;const{inputs:r,format:n,value:i,input:o,controlPositions:a,visuals:s}=this,{activeElement:l}=ai(o),{offsetHeight:c}=s[0],[u,,,f]=r,[d,h,p,g]=n==="rgb"?r.map(b=>parseFloat(b.value)/(b===f?100:1)):r.map(b=>parseFloat(b.value)/(b!==u?100:360)),m=this.hasNonColor&&_d.includes(i),v=f?g:1-a.c3y/c;if(l===o||l&&r.includes(l)){l===o?m?t=i==="transparent"?"rgba(0,0,0,0)":"rgb(0,0,0)":t=i:n==="hex"?t=u.value:n==="hsl"?t={h:d,s:h,l:p,a:v}:n==="hwb"?t={h:d,w:h,b:p,a:v}:t={r:d,g:h,b:p,a:v};const{r:b,g:y,b:w,a:$}=new bt(t);ii(this.color,{r:b,g:y,b:w,a:$}),this.setControlPositions(),this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals(),l===o&&m&&(this.value=i)}});R(this,"update",()=>{this.updateDropdownPosition(),this.updateAppearance(),this.setControlPositions(),this.updateInputs(!0),this.updateControls(),this.updateVisuals()});R(this,"togglePicker",t=>{t&&t.preventDefault();const{colorPicker:r}=this;this.isOpen&&ln(r,"show")?this.hide(!0):lb(this,r)});R(this,"showPicker",()=>{const{colorPicker:t}=this;["top","bottom"].some(r=>ln(t,r))||lb(this,t)});R(this,"toggleMenu",t=>{t&&t.preventDefault();const{colorMenu:r}=this;this.isOpen&&ln(r,"show")?this.hide(!0):lb(this,r)});const n=ka(t);if(typeof t>"u")throw new TypeError("ColorPicker target not specified.");if(!JL(n))throw new TypeError(`ColorPicker target "${t}" cannot be found.`);this.input=n;const i=QL(n,oE);if(!i)throw new TypeError("ColorPicker requires a specific markup to work.");this.parent=i,this.id=XL(n,Cl),this.dragElement=void 0,this.isOpen=!1,this.controlPositions={c1x:0,c1y:0,c2y:0,c3y:0},this.colorKeywords=!1,this.colorPresets=!1;const{format:o,componentLabels:a,colorLabels:s,colorKeywords:l,colorPresets:c}=QY(n,hJ,r||{});let u=cu;ob(s)&&s.length===17?u=s:Do(s)&&s.split(",").length===17&&(u=s.split(",")),ii(this.colorLabels,qC(u.map((g,m)=>[cu[m],g])));const f=Do(a)&&nE(a)?JSON.parse(a):a;if(this.componentLabels=ii({...lw},f),this.color=new bt(n.value||"#fff",o),this.format=o,ob(l)&&l.length?this.colorKeywords=l:Do(l)&&l.length&&(this.colorKeywords=l.split(",").map(g=>g.trim())),ob(c)&&c.length)this.colorPresets=c;else if(c&&nE(c)){const{hue:g,hueSteps:m,lightSteps:v,saturation:b}=JSON.parse(c);this.colorPresets=new Gp(g,m,v,b)}else Do(c)&&(this.colorPresets=c.split(",").map(g=>g.trim()));uJ(this);const[d,h]=Ac("color-dropdown",i);this.pickerToggle=ka(".picker-toggle",i),this.menuToggle=ka(".menu-toggle",i),this.colorPicker=d,this.colorMenu=h,this.inputs=[...Ac("color-input",i)];const[p]=Ac("color-controls",i);this.controls=p,this.controlKnobs=[...Ac("knob",p)],this.visuals=[...Ac("visual-control",p)],this.update(),aE(this,!0),Qu.set(n,Cl,this)}get value(){return this.input.value}set value(t){this.input.value=t}get hasNonColor(){return this.colorKeywords instanceof Array&&this.colorKeywords.some(t=>_d.includes(t))}get hex(){return this.color.toHex(!0)}get hsv(){return this.color.toHsv()}get hsl(){return this.color.toHsl()}get hwb(){return this.color.toHwb()}get rgb(){return this.color.toRgb()}get brightness(){return this.color.brightness}get luminance(){return this.color.luminance}get isDark(){const{color:t,brightness:r}=this;return r<120&&t.a>.33}get isValid(){const t=this.input.value;return t!==""&&new bt(t).isValid}get appearance(){const{colorLabels:t,hsl:r,hsv:n,format:i}=this,o=mt(r.h*360),a=i==="hsl"?r.s:n.s,s=mt(a*100),l=mt(r.l*100),c=n.v*100;let u="black";if(l===100&&s===0)u=t.white;else if(l===0)u=t.black;else if(s===0)u=t.grey;else if(o<15||o>=345)u=t.red;else if(o>=15&&o<45)u=c>80&&s>80?t.orange:t.brown;else if(o>=45&&o<75){const f=o>46&&o<54&&c<80&&s>90,d=o>=54&&o<75&&c<80;u=f?t.gold:t.yellow,u=d?t.olive:u}else o>=75&&o<155?u=c<68?t.green:t.lime:o>=155&&o<175?u=t.teal:o>=175&&o<195?u=t.cyan:o>=195&&o<255?u=t.blue:o>=255&&o<270?u=t.violet:o>=270&&o<295?u=t.magenta:o>=295&&o<345&&(u=t.pink);return u}updateVisuals(){const{controlPositions:t,visuals:r}=this,[n,i,o]=r,{offsetHeight:a}=n,s=t.c2y/a,{r:l,g:c,b:u}=new bt({h:s*360,s:100,l:50}).toRgb(),f="linear-gradient(rgb(255,255,255) 0%, rgb(255,255,255) 100%)",d=1-t.c3y/a,h=mt(d*100)/100,p=new bt({h:s*360,s:100,l:50,a:d}).toRgbString();An(n,{background:`linear-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,${h}) 100%),
      linear-gradient(to right, rgba(255,255,255,${h}) 0%, ${p} 100%),
      ${f}`}),An(i,{background:`linear-gradient(
      rgb(255,0,0) 0%, rgb(255,255,0) 16.67%,
      rgb(0,255,0) 33.33%, rgb(0,255,255) 50%,
      rgb(0,0,255) 66.67%, rgb(255,0,255) 83.33%,
      rgb(255,0,0) 100%)`}),An(o,{background:`linear-gradient(rgba(${l},${c},${u},1) 0%,rgba(${l},${c},${u},0) 100%)`})}changeControl1(t,r){let[n,i]=[0,0];const{controlPositions:o,visuals:a}=this,{offsetHeight:s,offsetWidth:l}=a[0];t>l?n=l:t>=0&&(n=t),r>s?i=s:r>=0&&(i=r);const c=o.c2y/s,u=n/l,f=1-i/s,d=1-o.c3y/s,{r:h,g:p,b:g,a:m}=new bt({h:c*360,s:u*100,v:f*100,a:d});ii(this.color,{r:h,g:p,b:g,a:m}),this.controlPositions.c1x=n,this.controlPositions.c1y=i,this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals()}changeControl2(t){const{controlPositions:r,visuals:n}=this,{offsetHeight:i,offsetWidth:o}=n[0];let a=0;t>i?a=i:t>=0&&(a=t);const s=a/i,l=r.c1x/o,c=1-r.c1y/i,u=1-r.c3y/i,{r:f,g:d,b:h,a:p}=new bt({h:s*360,s:l*100,v:c*100,a:u});ii(this.color,{r:f,g:d,b:h,a:p}),this.controlPositions.c2y=a,this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals()}changeAlpha(t){const{visuals:r}=this,{offsetHeight:n}=r[0];let i=0;t>n?i=n:t>=0&&(i=t);const o=1-i/n;this.color.setAlpha(o),this.controlPositions.c3y=i,this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals()}updateDropdownPosition(){const{input:t,colorPicker:r,colorMenu:n}=this,i=Id(t),{top:o,bottom:a}=i,{offsetHeight:s}=t,l=ib(t).clientHeight,c=ln(r,"show")?r:n;if(!c)return;const{offsetHeight:u}=c,f=l-a,d=o,h=o+u+s>l,p=o-u<0;(ln(c,"bottom")||!p)&&f<d&&h?(Mn(c,"bottom"),Mo(c,"top")):(Mn(c,"top"),Mo(c,"bottom"))}setControlPositions(){const{visuals:t,color:r,hsv:n}=this,{offsetHeight:i,offsetWidth:o}=t[0],a=r.a,s=n.h,l=n.s,c=n.v;this.controlPositions.c1x=l*o,this.controlPositions.c1y=(1-c)*i,this.controlPositions.c2y=s*i,this.controlPositions.c3y=(1-a)*i}updateAppearance(){const{componentLabels:t,color:r,parent:n,hsv:i,hex:o,format:a,controlKnobs:s}=this,{appearanceLabel:l,hexLabel:c,valueLabel:u}=t;let{r:f,g:d,b:h}=r.toRgb();const[p,g,m]=s,v=mt(i.h*360),b=r.a,y=mt(i.s*100),w=mt(i.v*100),$=this.appearance;let k=`${c} ${o.split("").join(" ")}`;if(a==="hwb"){const{hwb:D}=this,L=mt(D.w*100),I=mt(D.b*100);k=`HWB: ${v}, ${L}%, ${I}%`,Ne(p,Ec,`${L}% & ${I}%`),Ne(p,Cc,`${L}`),Ne(g,VC,`${u}: ${k}. ${l}: ${$}.`),Ne(g,Ec,`${v}%`),Ne(g,Cc,`${v}`)}else[f,d,h]=[f,d,h].map(mt),k=a==="hsl"?`HSL: ${v}, ${y}%, ${w}%`:k,k=a==="rgb"?`RGB: ${f}, ${d}, ${h}`:k,Ne(p,Ec,`${w}% & ${y}%`),Ne(p,Cc,`${w}`),Ne(g,VC,`${u}: ${k}. ${l}: ${$}.`),Ne(g,Ec,`${v}`),Ne(g,Cc,`${v}`);const O=mt(b*100);Ne(m,Ec,`${O}%`),Ne(m,Cc,`${O}`);const T=r.toString();An(this.input,{backgroundColor:T}),this.isDark?(ln(n,"txt-light")&&Mn(n,"txt-light"),ln(n,"txt-dark")||Mo(n,"txt-dark")):(ln(n,"txt-dark")&&Mn(n,"txt-dark"),ln(n,"txt-light")||Mo(n,"txt-light"))}updateControls(){const{controlKnobs:t,controlPositions:r}=this;let{c1x:n,c1y:i,c2y:o,c3y:a}=r;const[s,l,c]=t;[n,i,o,a]=[n,i,o,a].map(mt),An(s,{transform:`translate3d(${n-4}px,${i-4}px,0)`}),An(l,{transform:`translate3d(0,${o-4}px,0)`}),An(c,{transform:`translate3d(0,${a-4}px,0)`})}updateInputs(t){const{value:r,format:n,inputs:i,color:o,hsl:a}=this,[s,l,c,u]=i,f=mt(o.a*100),d=mt(a.h*360);let h=o.toString();if(n==="hex")h=this.color.toHexString(!0),s.value=this.hex;else if(n==="hsl"){const p=mt(a.l*100),g=mt(a.s*100);h=this.color.toHslString(),s.value=`${d}`,l.value=`${g}`,c.value=`${p}`,u.value=`${f}`}else if(n==="hwb"){const{w:p,b:g}=this.hwb,m=mt(p*100),v=mt(g*100);h=this.color.toHwbString(),s.value=`${d}`,l.value=`${m}`,c.value=`${v}`,u.value=`${f}`}else if(n==="rgb"){let{r:p,g,b:m}=this.rgb;[p,g,m]=[p,g,m].map(mt),h=this.color.toRgbString(),s.value=`${p}`,l.value=`${g}`,c.value=`${m}`,u.value=`${f}`}this.value=h,!t&&h!==r&&sE(this)}hide(t){if(!this.isOpen)return;const{pickerToggle:r,menuToggle:n,colorPicker:i,colorMenu:o,parent:a,input:s}=this,l=ln(i,"show"),c=l?i:o,u=l?r:n,f=c&&XY(c);this.value=this.color.toString(!0),c&&(Mn(c,"show"),Ne(u,ew,"false"),setTimeout(()=>{dN(c),ka(".show",a)||(Mn(a,"open"),fN(this),this.isOpen=!1)},f)),t||Sa(r),Ne(s,Tl,"-1"),u===n&&Ne(n,Tl,"-1")}dispose(){const{input:t,parent:r}=this;this.hide(!0),aE(this),[...r.children].forEach(n=>{n!==t&&n.remove()}),nb(t,Tl),An(t,{backgroundColor:""}),["txt-light","txt-dark"].forEach(n=>Mn(r,n)),Qu.remove(t,Cl)}}R(Or,"Color",bt),R(Or,"ColorPalette",Gp),R(Or,"getInstance",pJ),R(Or,"init",gJ),R(Or,"selector",dJ),R(Or,"roundPart",mt),R(Or,"setElementStyle",An),R(Or,"setAttribute",Ne),R(Or,"getBoundingClientRect",Id),R(Or,"version",fJ),R(Or,"colorNames",cu),R(Or,"colorPickerLabels",lw);var mJ=W('<div><div class=color-control role=presentation tabindex=-1><div class="visual-control visual-control1"></div><div class="color-pointer knob"role=slider tabindex=0 aria-live=polite aria-valuemin=0 aria-valuemax=100></div></div><div class=color-control role=presentation tabindex=-1><div class="visual-control visual-control2"></div><div class="color-slider knob"aria-live=polite role=slider tabindex=0 aria-valuemin=0 aria-valuemax=360></div></div><div class=color-control role=presentation tabindex=-1><div class="visual-control visual-control3"></div><div class="color-slider knob"aria-live=polite role=slider tabindex=0 aria-valuemin=0 aria-valuemax=100>'),vJ=W('<div role=group><div class="color-form rgb"><label><span aria-hidden>R:</span><span class=v-hidden></span></label><input type=number class="color-input red"autocomplete=off min=0 max=255 step=1><label><span aria-hidden>G:</span><span class=v-hidden></span></label><input type=number class="color-input green"autocomplete=off min=0 max=255 step=1><label><span aria-hidden>B:</span><span class=v-hidden></span></label><input type=number class="color-input blue"autocomplete=off min=0 max=255 step=1><label><span aria-hidden>A:</span><span class=v-hidden></span></label><input type=number class="color-input alpha"autocomplete=off min=0 max=100 step=1>'),bJ=W('<div role=group><div class="color-form hsl"><label><span aria-hidden>H:</span><span class=v-hidden></span></label><input type=number class="color-input hue"autocomplete=off min=0 max=360 step=1><label><span aria-hidden>S:</span><span class=v-hidden></span></label><input type=number class="color-input saturation"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>L:</span><span class=v-hidden></span></label><input type=number class="color-input lightness"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>A:</span><span class=v-hidden></span></label><input type=number class="color-input alpha"autocomplete=off min=0 max=100 step=1>'),yJ=W('<div role=group><div class="color-form hwb"><label><span aria-hidden>H:</span><span class=v-hidden></span></label><input type=number class="color-input hue"autocomplete=off min=0 max=360 step=1><label><span aria-hidden>W:</span><span class=v-hidden></span></label><input type=number class="color-input whiteness"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>B:</span><span class=v-hidden></span></label><input type=number class="color-input blackness"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>A:</span><span class=v-hidden></span></label><input type=number class="color-input alpha"autocomplete=off min=0 max=100 step=1>'),$J=W('<div role=group><div class="color-form hex"><label for=color_hex_hex_1><span aria-hidden>#:</span><span class=v-hidden></span></label><input type=text class="color-input hex"autocomplete=off>'),wJ=W("<ul role=listbox>"),hN=W("<li tabindex=0 role=option>"),xJ=W("<ul class=color-defaults role=listbox>"),SJ=W('<button class="menu-toggle btn-appearance"type=button aria-haspopup><span class=v-hidden></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"aria-hidden=true><path d=M98,158l157,156L411,158l27,27L255,368L71,185L98,158z fill=#fff>'),kJ=W("<div>"),OJ=W('<div><button class="picker-toggle btn-appearance"aria-haspopup type=button><span class=v-hidden></span></button><input type=text class="color-preview btn-appearance"autocomplete=off>'),pN=en({}),sa=()=>tn(pN),TJ=()=>globalThis.innerWidth>980?300:230,qe=TJ,{roundPart:Zt}=Ue,jm=e=>{const{drag:t,setDrag:r,color:n,setColor:i,locale:o,format:a,controlPositions:s,setControlPositions:l}=sa();let c;const{stringValue:u}=e,f=()=>s().c2y/qe(),d=()=>Zt(n().toHsv().v*100),h=()=>Zt(n().toHsv().s*100),p=()=>1-s().c3y/qe(),g=()=>new Ue({h:f()*360,s:100,l:50,a:p()}),m=()=>{const L=Zt(p()*100)/100;return`linear-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,${L}) 100%),
          linear-gradient(to right, rgba(255,255,255,${L}) 0%, ${g().toRgbString()} 100%), 
          linear-gradient(rgb(255,255,255) 0%, rgb(255,255,255) 100%)`},v=()=>{const L=n().toHsl(),I=n().toHsv(),E=Zt(L.h*360),_=a()==="hsl"?L.s:I.s,S=Zt(_*100),C=Zt(L.l*100),x=I.v*100;let P="black";if(C===100&&S===0)P=o().white;else if(C===0)P=o().black;else if(S===0)P=o().grey;else if(E<15||E>=345)P=o().red;else if(E>=15&&E<45)P=x>80&&S>80?o().orange:o().brown;else if(E>=45&&E<75){const A=E>46&&E<54&&x<80&&S>90,N=E>=54&&E<75&&x<80;P=A?o().gold:o().yellow,P=N?o().olive:P}else E>=75&&E<155?P=x<68?o().green:o().lime:E>=155&&E<175?P=o().teal:E>=175&&E<195?P=o().cyan:E>=195&&E<255?P=o().blue:E>=255&&E<270?P=o().violet:E>=270&&E<295?P=o().magenta:E>=295&&E<345&&(P=o().pink);return P},b=L=>{if(L.button!==0)return;const{currentTarget:I,target:E,pageX:_,pageY:S}=L,C=[...c.children],[x]=[...I.children],{left:P,top:A}=Z$(x),{documentElement:N}=document,H=_-N.scrollLeft-P,U=S-N.scrollTop-A;r(x),C[0].contains(E)?k(H,U):C[1].contains(E)?O(U):C[2].contains(E)&&T(U),L.preventDefault()},y=L=>{const{pageX:I,pageY:E}=L;if(!t())return;const _=[...c.children],S=Z$(t()),{documentElement:C}=document,x=I-C.scrollLeft-S.left,P=E-C.scrollTop-S.top;_[0].contains(t())?k(x,P):_[1].contains(t())?O(P):_[2].contains(t())&&T(P)},w=L=>{const{activeElement:I}=document;(["pointermove","touchmove"].includes(L.type)&&t()||I&&c.contains(I))&&(L.stopPropagation(),L.preventDefault())},$=L=>{const{target:I,code:E}=L;if(![ku,Eo,Wp,Ia].includes(E))return;L.preventDefault();const _=[...c.children],{activeElement:S}=document,C=qe()/360,x=s();if(S===I){if(_[0].contains(I)){const P=qe()/100;if([Wp,Ia].includes(E)){const A=x.c1x+(E===Ia?P:-P);k(A,x.c1y)}else if([ku,Eo].includes(E)){const A=x.c1y+(E===Eo?C:-C);k(x.c1x,A)}}else if(_[1].contains(I)){const P=x.c2y+([Eo,Ia].includes(E)?C:-C);O(P)}else if(_[2].contains(I)){const P=x.c3y+([Eo,Ia].includes(E)?C:-C);T(P)}w(L)}},k=(L,I)=>{let[E,_]=[0,0];L>qe()?E=qe():L>=0&&(E=L),I>qe()?_=qe():I>=0&&(_=I);const S=s(),C=S.c2y/qe(),x=E/qe(),P=1-_/qe(),A=1-S.c3y/qe(),N=new Ue({h:C*360,s:x*100,v:P*100,a:A},a());i(N),l(H=>({...H,c1x:E,c1y:_}))},O=L=>{let I=0;L>qe()?I=qe():L>=0&&(I=L);const E=s(),_=I/qe(),S=E.c1x/qe(),C=1-E.c1y/qe(),x=1-E.c3y/qe(),P=new Ue({h:_*360,s:S*100,v:C*100,a:x},a());i(P),l(A=>({...A,c2y:I}))},T=L=>{let I=0;L>qe()?I=qe():L>=0&&(I=L);const E=1-I/qe(),_=new Ue(n().setAlpha(E),a());i(_),l(S=>({...S,c3y:I}))},D=L=>{(L?UL:VL)(document,"pointermove",y)};return oe(()=>{t()?D(!0):D(),be(D)}),(()=>{var L=mJ(),I=L.firstChild,E=I.firstChild,_=E.nextSibling,S=I.nextSibling,C=S.firstChild,x=C.nextSibling,P=S.nextSibling,A=P.firstChild,N=A.nextSibling,H=c;return typeof H=="function"?Ht(H,L):c=L,I.$$pointerdown=b,_.$$keydown=$,S.$$pointerdown=b,re(C,"background",`linear-gradient(
    rgb(255, 0, 0) 0%, rgb(255, 255, 0) 16.67%, 
    rgb(0, 255, 0) 33.33%, 
    rgb(0, 255, 255) 50%, 
    rgb(0, 0, 255) 66.67%, 
    rgb(255, 0, 255) 83.33%, 
    rgb(255, 0, 0) 100%
  )`),x.$$keydown=$,P.$$pointerdown=b,N.$$keydown=$,ne(U=>{var ae=`color-controls ${a()}`,te=m(),pe=`${o().lightnessLabel} &amp; ${o().saturationLabel}`,Se=`${d()}% &amp; ${h()}%`,Ge=d(),Y=`translate3d(${s().c1x-4}px, ${s().c1y-4}px, 0px)`,de=o().hueLabel,G=`${o().valueLabel}: ${u()}. ${o().appearanceLabel}: ${v()}.`,Q=`${Zt(f()*100)}`,le=Zt(f()*100),z=`translate3d(0px, ${s().c2y-4}px, 0px)`,ze=`linear-gradient(${g().setAlpha(1).toRgbString()} 0%, ${g().setAlpha(0).toRgbString()} 100%)`,Te=o().alphaLabel,se=`${Zt(p()*100)}%`,he=Zt(p()*100),nt=`translate3d(0px, ${s().c3y-4}px, 0px)`;return ae!==U.e&&Lr(L,U.e=ae),te!==U.t&&re(E,"background",U.t=te),pe!==U.a&&q(_,"aria-label",U.a=pe),Se!==U.o&&q(_,"aria-valuetext",U.o=Se),Ge!==U.i&&q(_,"aria-valuenow",U.i=Ge),Y!==U.n&&re(_,"transform",U.n=Y),de!==U.s&&q(x,"aria-label",U.s=de),G!==U.h&&q(x,"aria-description",U.h=G),Q!==U.r&&q(x,"aria-valuetext",U.r=Q),le!==U.d&&q(x,"aria-valuenow",U.d=le),z!==U.l&&re(x,"transform",U.l=z),ze!==U.u&&re(A,"background",U.u=ze),Te!==U.c&&q(N,"aria-label",U.c=Te),se!==U.w&&q(N,"aria-valuetext",U.w=se),he!==U.m&&q(N,"aria-valuenow",U.m=he),nt!==U.f&&re(N,"transform",U.f=nt),U},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),L})()},CJ=e=>{const{locale:t,format:r,color:n,setColor:i,updateControlPositions:o}=sa(),{id:a}=e,s=()=>{let{r:p,g,b:m,a:v}=n().toRgb();return[p,g,m]=[p,g,m].map(Zt),v=Zt(v*100),{r:p,g,b:m,a:v}},l=()=>{const{r:p,g,b:m}=s();return`${r().toUpperCase()}: ${p} ${g} ${m}`},c=p=>{i(p),o()},u=p=>c(new Ue({...s(),r:Number(p.currentTarget.value)},r())),f=p=>c(new Ue({...s(),g:Number(p.currentTarget.value)},r())),d=p=>c(new Ue({...s(),b:Number(p.currentTarget.value)},r())),h=p=>c(new Ue({...s(),a:Number(p.currentTarget.value)/100},r()));return(()=>{var p=vJ(),g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=m.nextSibling,w=y.nextSibling,$=w.firstChild,k=$.nextSibling,O=w.nextSibling,T=O.nextSibling,D=T.firstChild,L=D.nextSibling,I=T.nextSibling,E=I.nextSibling,_=E.firstChild,S=_.nextSibling,C=E.nextSibling,x=e.ref;return typeof x=="function"?Ht(x,p):e.ref=p,q(p,"id",`${a}-picker`),B(p,M(jm,{stringValue:l}),g),q(m,"for",`color_rgb_red_${a}`),B(b,()=>t().redLabel),y.addEventListener("change",u),q(y,"id",`color_rgb_red_${a}`),q(y,"spellcheck",!1),q(w,"for",`color_rgb_green_${a}`),B(k,()=>t().greenLabel),O.addEventListener("change",f),q(O,"id",`color_rgb_green_${a}`),q(O,"spellcheck",!1),q(T,"for",`color_rgb_blue_${a}`),B(L,()=>t().blueLabel),I.addEventListener("change",d),q(I,"id",`color_rgb_blue_${a}`),q(I,"spellcheck",!1),q(E,"for",`color_rgb_alpha_${a}`),B(S,()=>t().alphaLabel),C.addEventListener("change",h),q(C,"id",`color_rgb_alpha_${a}`),q(C,"spellcheck",!1),ne(()=>Lr(p,`color-dropdown picker${e.class()}`)),ne(()=>y.value=s().r),ne(()=>O.value=s().g),ne(()=>I.value=s().b),ne(()=>C.value=s().a),p})()},EJ=e=>{const{format:t,locale:r,color:n,setColor:i,updateControlPositions:o}=sa(),{id:a}=e,s=()=>{let{h:p,s:g,l:m,a:v}=n().toHsl();return[p,g,m]=[p,g,m].map((b,y)=>Zt(b*(y?100:360))),v=Zt(v*100),{h:p,s:g,l:m,a:v}},l=()=>{const{h:p,s:g,l:m}=s();return`${t().toUpperCase()}: ${p} ${g}% ${m}%`},c=p=>{i(p),o()},u=p=>c(new Ue({...s(),h:Number(p.currentTarget.value)},t())),f=p=>c(new Ue({...s(),s:Number(p.currentTarget.value)},t())),d=p=>c(new Ue({...s(),l:Number(p.currentTarget.value)},t())),h=p=>c(new Ue({...s(),a:Number(p.currentTarget.value)/100},t()));return(()=>{var p=bJ(),g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=m.nextSibling,w=y.nextSibling,$=w.firstChild,k=$.nextSibling,O=w.nextSibling,T=O.nextSibling,D=T.firstChild,L=D.nextSibling,I=T.nextSibling,E=I.nextSibling,_=E.firstChild,S=_.nextSibling,C=E.nextSibling,x=e.ref;return typeof x=="function"?Ht(x,p):e.ref=p,q(p,"id",`${a}-picker`),B(p,M(jm,{stringValue:l}),g),q(m,"for",`color_hsl_hue_${a}`),B(b,()=>r().hueLabel),y.addEventListener("change",u),q(y,"id",`color_hsl_hue_${a}`),q(y,"spellcheck",!1),q(w,"for",`color_hsl_saturation_${a}`),B(k,()=>r().saturationLabel),O.addEventListener("change",f),q(O,"id",`color_hsl_saturation_${a}`),q(O,"spellcheck",!1),q(T,"for",`color_hsl_lightness_${a}`),B(L,()=>r().lightnessLabel),I.addEventListener("change",d),q(I,"id",`color_hsl_lightness_${a}`),q(I,"spellcheck",!1),q(E,"for",`color_hsl_alpha_${a}`),B(S,()=>r().alphaLabel),C.addEventListener("change",h),q(C,"id",`color_hsl_alpha_${a}`),q(C,"spellcheck",!1),ne(()=>Lr(p,`color-dropdown picker${e.class()}`)),ne(()=>y.value=s().h),ne(()=>O.value=s().s),ne(()=>I.value=s().l),ne(()=>C.value=s().a),p})()},MJ=e=>{const{locale:t,format:r,color:n,setColor:i,updateControlPositions:o}=sa(),{id:a}=e,s=()=>{let{h:p,w:g,b:m,a:v}=n().toHwb();return[p,g,m]=[p,g,m].map((b,y)=>Zt(b*(y?100:360))),v=Zt(v*100),{h:p,w:g,b:m,a:v}},l=()=>{const{h:p,w:g,b:m}=s();return`${r().toUpperCase()}: ${p} ${g}% ${m}%`},c=p=>{i(p),o()},u=p=>c(new Ue({...s(),h:Number(p.currentTarget.value)},r())),f=p=>c(new Ue({...s(),w:Number(p.currentTarget.value)},r())),d=p=>c(new Ue({...s(),b:Number(p.currentTarget.value)},r())),h=p=>c(new Ue({...s(),a:Number(p.currentTarget.value)/100},r()));return(()=>{var p=yJ(),g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=m.nextSibling,w=y.nextSibling,$=w.firstChild,k=$.nextSibling,O=w.nextSibling,T=O.nextSibling,D=T.firstChild,L=D.nextSibling,I=T.nextSibling,E=I.nextSibling,_=E.firstChild,S=_.nextSibling,C=E.nextSibling,x=e.ref;return typeof x=="function"?Ht(x,p):e.ref=p,q(p,"id",`${a}-picker`),B(p,M(jm,{stringValue:l}),g),q(m,"for",`color_hwb_hue_${a}`),B(b,()=>t().hueLabel),y.addEventListener("change",u),q(y,"id",`color_hwb_hue_${a}`),q(y,"spellcheck",!1),q(w,"for",`color_hwb_whiteness_${a}`),B(k,()=>t().whitenessLabel),O.addEventListener("change",f),q(O,"id",`color_hwb_whiteness_${a}`),q(O,"spellcheck",!1),q(T,"for",`color_hwb_blackness-${a}`),B(L,()=>t().blacknessLabel),I.addEventListener("change",d),q(I,"id",`color_hwb_blackness-${a}`),q(I,"spellcheck",!1),q(E,"for",`color_hwb_alpha_${a}`),B(S,()=>t().alphaLabel),C.addEventListener("change",h),q(C,"id",`color_hwb_alpha_${a}`),q(C,"spellcheck",!1),ne(()=>Lr(p,`color-dropdown picker${e.class()}`)),ne(()=>y.value=s().h),ne(()=>O.value=s().w),ne(()=>I.value=s().b),ne(()=>C.value=s().a),p})()},AJ=e=>{const{format:t,locale:r,color:n,setColor:i,updateControlPositions:o}=sa(),{id:a}=e,s=()=>n().toHex(),l=()=>`${r().hexLabel}: ${s().toUpperCase()}`,c=u=>{const f=u.currentTarget.value,d=new Ue(f,t());f&&f.length&&d.isValid&&(i(d),o())};return(()=>{var u=$J(),f=u.firstChild,d=f.firstChild,h=d.firstChild,p=h.nextSibling,g=d.nextSibling,m=e.ref;return typeof m=="function"?Ht(m,u):e.ref=u,q(u,"id",`${a}-picker`),B(u,M(jm,{stringValue:l}),f),B(p,()=>r().hexLabel),g.addEventListener("change",c),q(g,"id",`color_hex_${a}`),q(g,"spellcheck",!1),ne(()=>Lr(u,`color-dropdown picker${e.class()}`)),ne(()=>g.value=s()),u})()},IJ={rgb:CJ,hex:AJ,hsl:EJ,hwb:MJ},PJ=e=>{const{format:t}=sa(),r=()=>M(IJ[t()],e),[n,i]=J(r());return oe(()=>i(r())),M(wK,{get children(){return n()}})},_J=PJ,{ColorPalette:DJ}=Or,LJ=e=>{const[t,r]=Ie(e,["colorPresets"]),{locale:n,value:i,setColor:o,format:a}=sa(),s=()=>new DJ(t.colorPresets().hue,t.colorPresets().hueSteps,t.colorPresets().lightSteps,t.colorPresets().saturation).colors,l=()=>s().length,c=()=>t.colorPresets().lightSteps,u=()=>l()>c(),f=()=>u()&&l()>c()*4?5:u()&&l()>c()*3?4:u()&&l()>c()*2?3:2,d=()=>f()-(l()<=c()*3?1:2),h=()=>"color-options"+(u()&&l()>d()*c()?" scrollable":"")+(u()?" multiline":""),p=()=>{const g=u()?"1px":"0.25rem",m=c()>5&&u()?1.5:u()?1.75:2,v=`${d()*m}rem`,b=`calc(${f()} * ${m}rem + ${f()-1} * ${g})`;return{"--grid-item-size":`${m}rem`,"--grid-fit":c(),"--grid-gap":g,"--grid-height":v,"--grid-hover-height":b}};return(()=>{var g=wJ();return aa(g,"keydown",r.keyHandler,!0),B(g,M(Ot,{get each(){return s()},children:m=>{const v=()=>new Ue(m,a()),b=()=>v().toString(),y=()=>b()===i(),w=()=>`color-option${y()?" active":""}`;return(()=>{var $=hN();return $.$$click=()=>o(v()),B($,b),ne(k=>{var O=y(),T=w(),D=b(),L=m.toRgbString();return O!==k.e&&q($,"aria-selected",k.e=O),T!==k.t&&Lr($,k.t=T),D!==k.a&&q($,"data-value",k.a=D),L!==k.o&&re($,"background-color",k.o=L),k},{e:void 0,t:void 0,a:void 0,o:void 0}),$})()}})),ne(m=>{var v=h(),b=n().presetsLabel,y=p();return v!==m.e&&Lr(g,m.e=v),b!==m.t&&q(g,"aria-label",m.t=b),m.a=Dm(g,y,m.a),m},{e:void 0,t:void 0,a:void 0}),g})()},NJ=e=>{const[t,r]=Ie(e,["colorKeywords"]),{locale:n,value:i,setColor:o,format:a}=sa();return(()=>{var s=xJ();return aa(s,"keydown",r.keyHandler,!0),B(s,M(Ot,{get each(){return t.colorKeywords()},children:l=>{const[c,u]=typeof l=="string"?[l,l]:PY(l)[0],f=()=>[l,u].some(h=>h===i()),d=()=>`color-option${f()?" active":""}`;return(()=>{var h=hN();return h.$$click=()=>o(new Ue(u,a())),q(h,"data-value",u),B(h,c),ne(p=>{var g=d(),m=f();return g!==p.e&&Lr(h,p.e=g),m!==p.t&&q(h,"aria-selected",p.t=m),p},{e:void 0,t:void 0}),h})()}})),ne(()=>q(s,"aria-label",n().defaultsLabel)),s})()},RJ=e=>{const[t,r]=Ie(e,["id","class","ref","toggleMenu","expanded","locale"]),n=()=>`${t.id}-menu`,i=()=>`color-dropdown menu${t.class()}`,o=a=>{const{target:s,currentTarget:l,code:c}=a,{previousElementSibling:u,nextElementSibling:f,parentElement:d}=s,h=CY(l,"color-options"),p=[...d.children],g=h&&Number(Xu(d,"--grid-fit")||0)||0,m=p.indexOf(s),v=m>-1&&g&&p[m-g],b=m>-1&&g&&p[m+g];[Eo,ku,zC].includes(c)&&a.preventDefault(),h?v&&c===ku?Ma(v):b&&c===Eo?Ma(b):u&&c===Wp?Ma(u):f&&c===Ia&&Ma(f):u&&[Wp,ku].includes(c)?Ma(u):f&&[Ia,Eo].includes(c)&&Ma(f),[zL,zC,"NumpadEnter"].includes(c)&&s.click()};return M(Tt,{get when(){return r.colorKeywords()||r.colorPresets()},get children(){return[(()=>{var a=SJ(),s=a.firstChild;return aa(a,"click",t.toggleMenu,!0),B(s,()=>t.locale().toggleLabel),ne(l=>{var c=t.expanded?0:-1,u=t.expanded;return c!==l.e&&q(a,"tabindex",l.e=c),u!==l.t&&q(a,"aria-expanded",l.t=u),l},{e:void 0,t:void 0}),a})(),(()=>{var a=kJ(),s=t.ref;return typeof s=="function"?Ht(s,a):t.ref=a,B(a,M(Tt,{get when(){return pt(()=>typeof r.colorPresets<"u")()&&r.colorPresets()},get children(){return M(LJ,{get colorPresets(){return r.colorPresets},keyHandler:o})}}),null),B(a,M(Tt,{get when(){return pt(()=>typeof r.colorKeywords<"u")()&&r.colorKeywords()},get children(){return M(NJ,{get colorKeywords(){return r.colorKeywords},keyHandler:o})}}),null),ne(l=>{var c=n(),u=i();return c!==l.e&&q(a,"id",l.e=c),u!==l.t&&Lr(a,l.t=u),l},{e:void 0,t:void 0}),a})()]}})},FJ=RJ,jJ={c1x:0,c1y:0,c2y:0,c3y:0},BJ=jJ,zJ={white:"white",black:"black",grey:"grey",red:"red",orange:"orange",brown:"brown",gold:"gold",olive:"olive",yellow:"yellow",lime:"lime",green:"green",teal:"teal",cyan:"cyan",blue:"blue",violet:"violet",magenta:"magenta",pink:"pink",pickerLabel:"Colour Picker",appearanceLabel:"Colour Appearance",valueLabel:"Colour Value",toggleLabel:"Select Colour",placeholder:"Type colour value in % format",presetsLabel:"Colour Presets",defaultsLabel:"Colour Defaults",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadecimal",hueLabel:"Hue",whitenessLabel:"Whiteness",blacknessLabel:"Blackness",saturationLabel:"Saturation",lightnessLabel:"Lightness",redLabel:"Red",greenLabel:"Green",blueLabel:"Blue"},HJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:" ",appearanceLabel:"  ",valueLabel:" ",toggleLabel:" ",placeholder:"     %",presetsLabel:" ",defaultsLabel:"   ",formatLabel:"",alphaLabel:"",hexLabel:"",hueLabel:"",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},UJ={white:"blanc",black:"noir",grey:"gris",red:"rouge",orange:"orange",brown:"marron",gold:"or",olive:"olive",yellow:"jaune",lime:"citron",green:"vert",teal:"sarcelle",cyan:"cyan",blue:"bleu",violet:"violet",magenta:"magenta",pink:"rose",pickerLabel:"Slecteur de couleur",appearanceLabel:"Apparence de la couleur",valueLabel:"Valeur de la couleur",toggleLabel:"Slectionner la couleur",placeholder:"Tapez la valeur de la couleur en format %",presetsLabel:"Prrglages de couleur",defaultsLabel:"Couleurs par dfaut",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadcimal",hueLabel:"Teinte",whitenessLabel:"Blancheur",blacknessLabel:"Noirceur",saturationLabel:"Saturation",lightnessLabel:"Luminosit",redLabel:"Rouge",greenLabel:"Vert",blueLabel:"Bleu"},VJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:" ",appearanceLabel:" ",valueLabel:" ",toggleLabel:" ",placeholder:"    %",presetsLabel:"  ",defaultsLabel:" ",formatLabel:"",alphaLabel:"",hexLabel:" ",hueLabel:" ",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},WJ={white:"alb",black:"negru",grey:"gri",red:"rou",orange:"portocaliu",brown:"maro",gold:"auriu",olive:"msliniu",yellow:"galben",lime:"lmi",green:"verde",teal:"turcoaz",cyan:"cian",blue:"albastru",violet:"violet",magenta:"magenta",pink:"roz",pickerLabel:"Panel de culori",appearanceLabel:"Aparena vizual",valueLabel:"Valoarea actual",toggleLabel:"Selecteaz culoare",placeholder:"Tasteaz culoare n format %",presetsLabel:"Culori prestabilite",defaultsLabel:"Valori implicite",formatLabel:"Format",alphaLabel:"Alfa",hexLabel:"Hexazecimal",whitenessLabel:"Alb",blacknessLabel:"Negru",hueLabel:"Nuan",saturationLabel:"Saturaie",lightnessLabel:"Luminozitate",redLabel:"Rou",greenLabel:"Verde",blueLabel:"Albastru"},KJ={white:"wei",black:"schwarz",grey:"grau",red:"rot",orange:"orange",brown:"braun",gold:"gold",olive:"olivgrn",yellow:"gelb",lime:"limone",green:"grn",teal:"krickente",cyan:"zyan",blue:"blau",violet:"violett",magenta:"magenta",pink:"rosa",pickerLabel:"Farbauswahl",appearanceLabel:"Farberscheinung",valueLabel:"Farbwert",toggleLabel:"Farbe auswhlen",placeholder:"Geben Sie den Farbwert im %-Format ein",presetsLabel:"Farbvoreinstellungen",defaultsLabel:"Farbstandards",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadezimal",hueLabel:"Farbton",whitenessLabel:"Weigrad",blacknessLabel:"Schwarzgrad",saturationLabel:"Sttigung",lightnessLabel:"Helligkeit",redLabel:"Rot",greenLabel:"Grn",blueLabel:"Blau"},GJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:"",appearanceLabel:"",valueLabel:"",toggleLabel:"",placeholder:"%",presetsLabel:"",defaultsLabel:"",formatLabel:"",alphaLabel:"",hexLabel:"",hueLabel:"",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},qJ={white:"blanco",black:"negro",grey:"gris",red:"rojo",orange:"naranja",brown:"marrn",gold:"oro",olive:"aceituna",yellow:"amarillo",lime:"lima",green:"verde",teal:"cerceta",cyan:"cian",blue:"azul",violet:"violeta",magenta:"magenta",pink:"rosado",pickerLabel:"Selector de color",appearanceLabel:"Apariencia de color",valueLabel:"Valor de color",toggleLabel:"Seleccionar color",placeholder:"Escriba el valor del color en formato %",presetsLabel:"Ajustes preestablecidos de color",defaultsLabel:"Valores predeterminados de color",formatLabel:"Formato",alphaLabel:"Alfabeto",hexLabel:"Hexadecimal",hueLabel:"Tinte",whitenessLabel:"Blancura",blacknessLabel:"Negrura",saturationLabel:"Saturacin",lightnessLabel:"Ligereza",redLabel:"Rojo",greenLabel:"Verde",blueLabel:"Azul"},YJ={white:"Branco",black:"preto",grey:"cinzento",red:"vermelho",orange:"laranja",brown:"castanho",gold:"ouro",olive:"azeitona",yellow:"amarelo",lime:"cal",green:"verde",teal:"azul-marinho",cyan:"ciano",blue:"azul",violet:"violeta",magenta:"magenta",pink:"pink",pickerLabel:"Seletor de cores",appearanceLabel:"Aparncia da cor",valueLabel:"Valor da cor",toggleLabel:"Selecionar Cor",placeholder:"Digite o valor da cor no formato %",presetsLabel:"Predefinies de cor",defaultsLabel:"Padres de cor",formatLabel:"Formato",alphaLabel:"Alfa",hexLabel:"Hexadecimal",hueLabel:"Matiz",whitenessLabel:"Brancura",blacknessLabel:"Negritude",saturationLabel:"Saturao",lightnessLabel:"Leveza",redLabel:"Vermelho",greenLabel:"Verde",blueLabel:"Azul"},JJ={white:"biay",black:"czarny",grey:"szary",red:"czerwony",orange:"pomaraczowy",brown:"brzowy",gold:"zoto",olive:"oliwka",yellow:"ty",lime:"wapno",green:"zielony",teal:"turkus",cyan:"cyan",blue:"niebieski",violet:"fiolet",magenta:"purpura",pink:"rowy",pickerLabel:"Wybr koloru",appearanceLabel:"Wygld koloru",valueLabel:"Warto koloru",toggleLabel:"Wybierz kolor",placeholder:"Wpisz warto koloru w formacie %",presetsLabel:"Predefiniowane kolory",defaultsLabel:"Domylne kolory",formatLabel:"Format",alphaLabel:"Alfa",hexLabel:"Heksadecymalny",hueLabel:"Barwa",whitenessLabel:"Biela",blacknessLabel:"Czer",saturationLabel:"Nasycenie",lightnessLabel:"Jasno",redLabel:"Czerwony",greenLabel:"Zielony",blueLabel:"Niebieski"},XJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:"",appearanceLabel:"",valueLabel:"",toggleLabel:"",placeholder:"%",presetsLabel:"",defaultsLabel:"",formatLabel:"",alphaLabel:"",hexLabel:"",hueLabel:"",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},QJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:" ",appearanceLabel:" ",valueLabel:" ",toggleLabel:" ",placeholder:"%    ",presetsLabel:"  ",defaultsLabel:" ",formatLabel:" ",alphaLabel:" ",hexLabel:" ",hueLabel:" ",whitenessLabel:" ",blacknessLabel:"blackness ",saturationLabel:" ",lightnessLabel:" ",redLabel:" ",greenLabel:" ",blueLabel:""},gN={en:zJ,ru:HJ,ar:VJ,fr:UJ,de:KJ,ro:WJ,es:qJ,pt:YJ,pl:JJ,zh:GJ,ja:XJ,ko:QJ},uw=e=>gN[e||"en"],ZJ={value:"rgb(255,0,0)",placeholder:uw("en").placeholder,format:"rgb",lang:"en",theme:"dark"},Dd=ZJ,lE=0,eX=e=>{const t=e.id?e.id:`color-picker-${lE}`,r=()=>e.lang||Dd.lang,n=()=>e.theme||Dd.theme,i=()=>e.format||Dd.format,o=()=>e.value||Dd.value,a=()=>e.colorPresets,s=()=>e.colorKeywords,l=()=>e.placeholder?e.placeholder:I().placeholder.replace(/%/g,i().toUpperCase()),[c,u]=J(o()),[f,d]=J(o()),[h,p]=J(new Ue(o(),i())),[g,m]=J(void 0),[v,b]=J(void 0),[y,w]=J(!1),[$,k]=J(!1),[O,T]=J(""),[D,L]=J(BJ),I=me(()=>{if(r()!=="en"&&UC(gN).includes(r()))return uw(r());const se=uw(r());return e.locale&&UC(e.locale).length===35&&EY(se,e.locale),se}),E=()=>{const se=new Ue(f());return se.isDark&&se.a>.33},_=()=>["color-picker",e.class?e.class.split(/\s/):"",E()?"txt-dark":"txt-light",n()==="light"?" light":"",g()?"open":""].filter(se=>se).join(" ");lE+=1;let S,C,x,P;const A=()=>`${g()===C?" "+O():""}${y()?" show":""}`,N=()=>`${g()===x?" "+O():""}${$()?" show":""}`,H=()=>{m(x),T("bottom"),setTimeout(()=>{k(!0),Md(x),G(),w(!1)},17)},U=()=>{k(!1),Md(x),HC(x,z)},ae=()=>{y()?Se():$()&&U()},te=()=>{g()!==x?H():U()},pe=()=>{m(C),T("bottom"),Q(),setTimeout(()=>{w(!0),Md(C),G(),k(!1),P.focus()},17)},Se=()=>{w(!1),Md(C),HC(C,z)},Ge=({currentTarget:se,relatedTarget:he})=>{he&&!se.contains(he)&&ae()},Y=se=>{g()&&se.key===kY&&ae()},de=se=>{const he=document.getSelection();!v()&&(!he||!he.toString().length)&&!S.contains(se.target)&&ae(),b()},G=()=>{const se=Z$(P),{top:he,bottom:nt}=se,{offsetHeight:ht}=P,{clientHeight:ya}=document.documentElement,Br=g();if(!Br)return;const{offsetHeight:He}=Br,zr=ya-nt,$a=he,yo=he+He+ht>ya;!(he-He<0)&&yo||zr<$a?T("top"):T("bottom")},Q=()=>{const{h:se,s:he,v:nt}=h().toHsv(),ht=h().a;L({c1x:he*qe(),c1y:(1-nt)*qe(),c2y:se*qe(),c3y:(1-ht)*qe()})},le=se=>{const he=se?UL:VL;he(window,"scroll",G),he(window,"resize",Q),he(document,"keyup",Y),he(document,"pointerup",de)},z=()=>{T(""),m(),Ma(P.previousElementSibling),u(f())},ze=se=>{u(se.currentTarget.value)},Te=se=>{if(se.key===zL){let he=se.currentTarget.value;Ue.isNonColor(he)&&(he=he==="transparent"?"rgba(0,0,0,0)":"rgb(0,0,0)");const nt=new Ue(he,i());he.length&&nt.isValid&&(p(nt),Q())}};return oe(()=>{y()||$()?le(!0):le(),be(le)}),oe(di(i,se=>{p(new Ue(f(),se)),Q()})),oe(di(h,se=>{const he=se.toString();d(he),u(he),typeof e.onChange=="function"&&e.onChange(he)})),M(pN.Provider,{value:{format:i,locale:I,value:f,setValue:d,setInputValue:u,color:h,setColor:p,drag:v,setDrag:b,controlPositions:D,setControlPositions:L,updateControlPositions:Q},get children(){var se=OJ(),he=se.firstChild,nt=he.firstChild,ht=he.nextSibling;se.addEventListener("blur",Ge);var ya=S;typeof ya=="function"?Ht(ya,se):S=se,he.$$click=pe,B(nt,()=>`${I().pickerLabel}. ${I().formatLabel}: ${i().toUpperCase()}`),ht.$$keyup=Te,ht.addEventListener("change",ze),ht.addEventListener("focus",pe);var Br=P;return typeof Br=="function"?Ht(Br,ht):P=ht,q(ht,"name",t),q(ht,"id",t),q(ht,"spellcheck",!1),B(se,M(_J,{id:t,class:A,ref(He){var zr=C;typeof zr=="function"?zr(He):C=He}}),null),B(se,M(FJ,{id:t,class:N,ref(He){var zr=x;typeof zr=="function"?zr(He):x=He},colorPresets:a,colorKeywords:s,get expanded(){return $()||y()},locale:I,toggleMenu:te}),null),ne(He=>{var zr=_(),$a=r(),yo=y(),Bs=y()?-1:0,xc=l(),Sc=f();return zr!==He.e&&Lr(se,He.e=zr),$a!==He.t&&q(se,"lang",He.t=$a),yo!==He.a&&q(he,"aria-expanded",He.a=yo),Bs!==He.o&&q(ht,"tabindex",He.o=Bs),xc!==He.i&&q(ht,"placeholder",He.i=xc),Sc!==He.n&&re(ht,"background-color",He.n=Sc),He},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),ne(()=>ht.value=c()),se}})},fw=eX;/* istanbul ignore else @preserve */// istanbul ignore next @preserve
/* istanbul ignore next @preserve */// istanbul ignore else @preserve
Ut(["pointerdown","keydown","click","keyup"]);var tX=W('<div><div id=colorSelectMenu class="border border-border p-4 w-fit bg-card space-y-4"><div class="flex space-x-4"><div class="flex items-center justify-center w-1/2 p-2 aspect-2/1 cursor-pointer transition-colors duration-200 ease-in-out hover:bg-primary">bg</div><div class="flex items-center justify-center w-1/2 p-2 aspect-2/1 cursor-pointer transition-colors duration-200 ease-in-out hover:bg-primary">strip'),rX=W('<div class=space-y-2><div class="grid grid-cols-5 gap-2"></div><div class="w-full border-t border-border"></div><div class="grid grid-cols-5 gap-2"></div><div class="w-full border-t border-border"></div><div class="grid grid-cols-5 gap-2">'),nX=W('<div class="border border-border hover:border-foreground/70 cursor-pointer w-10 aspect-3/2 p-2">'),iX=W('<div class="border border-border hover:border-foreground/70 cursor-pointer bg-accent w-10 aspect-3/2 flex items-center justify-center">A'),oX=W('<div class="border border-border hover:border-foreground/70 cursor-pointer w-10 aspect-3/2 flex items-center justify-center">A'),aX=W('<div class=space-y-2><div class="grid grid-cols-5 gap-2"><div class="relative border border-border hover:border-foreground/70 cursor-pointer w-10 aspect-[3/2] bg-transparent"><div class="absolute top-1/2 left-1/2 w-[120%] h-[2px] bg-destructive rotate-30 -translate-x-1/2 -translate-y-1/2">'),sX=W('<div class="border border-transparent hover:border-foreground/70 cursor-pointer w-10 aspect-3/2 p-2">');const mN=[getComputedStyle(document.documentElement).getPropertyValue("--color-card").trim(),"#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"],lX=[getComputedStyle(document.documentElement).getPropertyValue("--color-foreground").trim(),"#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"],cX=[{bg:getComputedStyle(document.documentElement).getPropertyValue("--color-card").trim(),fg:getComputedStyle(document.documentElement).getPropertyValue("--color-foreground").trim()},{bg:"#F59E0B",fg:"#8B5CF6"},{bg:"#EF4444",fg:"#8B5CF6"}],uX=()=>{const[e,t]=J(0),r=[M(hX,{}),M(pX,{})];return(()=>{var n=tX(),i=n.firstChild,o=i.firstChild,a=o.firstChild,s=a.nextSibling;return a.$$click=()=>t(0),s.$$click=()=>t(1),B(i,M(rL,{get component(){return r[e()]}}),null),ne(l=>{var c=`z-50 transition-all duration-200 ease-in-out absolute top-4 left-4 [box-shadow:5px_5px_var(--color-primary)]
          ${F.showColorMenu?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,u=e()===0,f=e()===1;return c!==l.e&&Lr(n,l.e=c),u!==l.t&&a.classList.toggle("bg-primary",l.t=u),f!==l.a&&s.classList.toggle("bg-primary",l.a=f),l},{e:void 0,t:void 0,a:void 0}),n})()},cE=e=>{F.selectedNodes.forEach(t=>{Ju(t,"bg",e)})},uE=e=>{F.selectedNodes.forEach(t=>{Ju(t,"fg",e)})},fX=e=>{F.selectedNodes.forEach(t=>{Ju(t,"bg",e.bg),Ju(t,"fg",e.fg)})},dX=e=>{F.selectedNodes.forEach(t=>{Ju(t,"strip",e)})},hX=()=>(()=>{var e=rX(),t=e.firstChild,r=t.nextSibling,n=r.nextSibling,i=n.nextSibling,o=i.nextSibling;return B(t,M(Ot,{each:mN,children:a=>(()=>{var s=nX();return s.$$click=()=>cE(a),re(s,"background",a),s})()})),B(e,M(fw,{value:"rgb(25,25,25)",onChange:a=>cE(a)}),r),B(n,M(Ot,{each:lX,children:a=>(()=>{var s=iX();return s.$$click=()=>uE(a),re(s,"color",a),s})()})),B(e,M(fw,{value:"rgb(25,25,25)",onChange:a=>uE(a)}),i),B(o,M(Ot,{each:cX,children:a=>(()=>{var s=oX();return s.$$click=()=>fX(a),ne(l=>{var c=a.fg,u=a.bg;return c!==l.e&&re(s,"color",l.e=c),u!==l.t&&re(s,"background",l.t=u),l},{e:void 0,t:void 0}),s})()})),e})(),pX=()=>(()=>{var e=aX(),t=e.firstChild,r=t.firstChild;return r.$$click=()=>hY(),B(t,M(Ot,{each:mN,children:n=>(()=>{var i=sX();return i.$$click=()=>dX(n),re(i,"background",n),i})()}),null),B(e,M(fw,{value:"rgb(25,25,25)",onChange:n=>console.log(n)}),null),e})();Ut(["click"]);var gX=W('<div id=controls class="flex flex-row items-center justify-center absolute left-2.5 bottom-2.5 z-50"><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2">-</div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2">%</div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2">+');const mX=()=>{function e(t){let r=F.viewport.scale;if(t>0){if(r<=.7)return;r-=.1}else{if(r>=1.5)return;r+=.1}ue("viewport",{scale:r}),$t()}return(()=>{var t=gX(),r=t.firstChild,n=r.nextSibling,i=n.firstChild,o=n.nextSibling;return r.$$click=()=>e(-1),B(n,()=>Math.round(F.viewport.scale*100),i),o.$$click=()=>e(1),t})()};Ut(["click"]);var fE;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(fE||(fE={}));async function vX(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await Rt("plugin:event|unlisten",{event:e,eventId:t})}async function vN(e,t,r){var n;const i=(n=void 0)!==null&&n!==void 0?n:{kind:"Any"};return Rt("plugin:event|listen",{event:e,target:i,handler:zq(t)}).then(o=>async()=>vX(e,o))}let bN=class rp extends Hq{constructor(t){super(t)}static async new(t,r,n){return Rt("plugin:image|new",{rgba:dE(t),width:r,height:n}).then(i=>new rp(i))}static async fromBytes(t){return Rt("plugin:image|from_bytes",{bytes:dE(t)}).then(r=>new rp(r))}static async fromPath(t){return Rt("plugin:image|from_path",{path:t}).then(r=>new rp(r))}async rgba(){return Rt("plugin:image|rgba",{rid:this.rid}).then(t=>new Uint8Array(t))}async size(){return Rt("plugin:image|size",{rid:this.rid})}};function dE(e){return e==null?null:typeof e=="string"?e:e instanceof bN?e.rid:e}async function bX(){return await Rt("plugin:clipboard-manager|read_text")}async function yX(){return await Rt("plugin:clipboard-manager|read_image").then(e=>new bN(e))}var $X=W("<div id=eventhandler>");const wX=e=>(vN("tauri://drag-drop",t=>{console.log(t),nY(t)}),lr(()=>{const t=async r=>{if(r.ctrlKey)switch(r.key){case"c":F.selectedNodes.forEach(o=>{let a=Xa(o);a&&ue("copiedNodes",s=>[...s,a])});break;case"v":console.log("||||||||||||||||||||||||||||||||");const n=await bX();console.log(n),console.log("||||||||||||||||||||||||||||||||");const i=await yX();console.log(i),console.log("||||||||||||||||||||||||||||||||");break}else switch(r.key){case"Escape":ue("selectedNodes",new Set);break;case"Delete":F.selectedNodes.forEach(n=>{q$(n)});break;case"ArrowUp":Cd(0,-10);break;case"ArrowDown":Cd(0,10);break;case"ArrowLeft":Cd(-10,0);break;case"ArrowRight":Cd(10,0);break}};window.addEventListener("keydown",t),be(()=>{window.removeEventListener("keydown",t)})}),(()=>{var t=$X();return t.$$contextmenu=r=>{},B(t,()=>e.children),t})());Ut(["contextmenu"]);var xX=W("<div>Invalid icon name"),SX=W("<svg>");const yN=e=>{let t=e.width||32,r=e.height||32,n=e.icon_name,i=e.classes;const o=h=>getComputedStyle(document.documentElement).getPropertyValue(h).trim();let a=o("--color-background"),s=o("--color-foreground"),l=o("--color-primary");o("--color-border");let c=o("--color-secondary"),u=o("--color-destructive"),d={note:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                    <path fill="${s}"
                    d="M5.75 5h20.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 0 1 0-1.5zm0 5h20.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 1 1 0-1.5zm0 5h18.143a.75.75 0 1 1 0 1.5H5.75a.75.75 0 1 1 0-1.5z">
                    </path>
                </g>
            `},todo:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                    <path fill="${s}"
                    d="M6.28 7.77a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0l3-3a.75.75 0 0 0-1.06-1.06L7.25 8.74l-.97-.97zm0 6.5a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0l3-3a.75.75 0 0 0-1.06-1.06l-2.47 2.47-.97-.97zM14.75 8h11.3a.75.75 0 1 1 0 1.5h-11.3a.75.75 0 1 1 0-1.5zm0 6.4h11.3a.75.75 0 1 1 0 1.5h-11.3a.75.75 0 1 1 0-1.5z">
                    </path>
                </g>
            `},arrow:{width:t,height:r,svg:`
                <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                <path fill="${s}" fill-rule="evenodd"
                    d="m30.385 0-3 8-1.793-1.793-21.5 21.5a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L24.177 4.792 22.385 3l8-3z">
                </path>
            `},board:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="32" height="32" fill="${l}" rx="8"></rect>
                    <rect width="7" height="7" x="8" y="8" fill="#FFF" rx="2"></rect>
                    <rect width="7" height="7" x="8" y="17" fill="#FFF" fill-opacity="0.75" rx="2"></rect>
                    <rect width="7" height="7" x="17" y="8" fill="#FFF" fill-opacity="0.25" rx="3.5"></rect>
                    <rect width="7" height="7" x="17" y="17" fill="#FFF" fill-opacity="0.5" rx="2"></rect>
                </g>
            `},column:{width:t,height:r,svg:`
                <defs>
                    <filter id="ElementColumnIcon__a" width="131.2%" height="131.2%" x="-15.6%" y="-12.5%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <rect id="ElementColumnIcon__b" width="32" height="32" rx="2"></rect>
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <use xlink:href="#ElementColumnIcon__b" fill="#000" filter="url(#ElementColumnIcon__a)"></use>
                    <use xlink:href="#ElementColumnIcon__b" fill="#3D3D3D"></use>
                    <path fill="#333" d="M3 9h26v9H3zm0 11h26v9H3z"></path>
                    <rect width="18" height="1.5" x="7" y="4" fill="${u}" rx="0.75"></rect>
                </g>
            `},comment:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <path fill="${c}"
                        d="M2.002 22A1.995 1.995 0 0 1 0 20.009V1.99C0 .891.89 0 2.002 0h27.996C31.104 0 32 .89 32 1.991V20.01c0 1.1-.89 1.991-2.002 1.991H20l-4 4-4-4H2.002z">
                    </path>
                    <path fill="${l}"
                        d="M24.24 14c.385 0 .703.28.753.648l.007.102c0 .414-.33.75-.76.75H5.76a.753.753 0 0 1-.76-.75c0-.414.33-.75.76-.75h18.48zm2.003-4c.383 0 .7.28.75.648l.007.102c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 10.75c0-.414.346-.75.757-.75h20.486zm0-4c.383 0 .7.28.75.648L27 6.75c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 6.75c0-.414.346-.75.757-.75h20.486z">
                    </path>
                </g>
            `},table:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <path fill="#3D3D3D" d="M2 0h28a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z"></path>
                    <path fill="#4D4D4D" d="M2 0h28a2 2 0 0 1 2 2v3H0V2a2 2 0 0 1 2-2z"></path>
                    <path fill="#FFF" fill-opacity="0.1"
                        d="M11 0v10h10V0h1v10h10v1H22v6h10v1H22v6h-1v-6H11v6h-1v-6H0v-1h10v-6H0v-1h10V0h1zm10 17v-6H11v6h10z">
                    </path>
                </g>
            `},code:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                    <path d="M9 8L5 11.6923L9 16M15 8L19 11.6923L15 16" stroke="${s}" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
                    </path>
                </g>
            `},color:{width:t,height:r,svg:`
                <defs>
                    <filter id="ElementColorSwatchIcon__b" width="155.6%" height="143.5%" x="-27.8%" y="-17.4%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <filter id="ElementColorSwatchIcon__e" width="155.6%" height="143.5%" x="-27.8%" y="-17.4%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <path id="ElementColorSwatchIcon__a"
                        d="M0 1.003A.999.999 0 0 1 .993 0h16.014c.548 0 .993.439.993 1.003v20.994A.998.998 0 0 1 17.007 23H.993A.992.992 0 0 1 0 21.997V1.003z">
                    </path>
                    <path id="ElementColorSwatchIcon__d"
                        d="M0 1.003A.999.999 0 0 1 .993 0h16.014c.548 0 .993.439.993 1.003v20.994A.998.998 0 0 1 17.007 23H.993A.992.992 0 0 1 0 21.997V1.003z">
                    </path>
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <g transform="rotate(-4 17.978 .628)">
                        <mask id="ElementColorSwatchIcon__c" fill="#fff">
                            <use xlink:href="#ElementColorSwatchIcon__a"></use>
                        </mask>
                        <use xlink:href="#ElementColorSwatchIcon__a" fill="#000" filter="url(#ElementColorSwatchIcon__b)"></use>
                        <use xlink:href="#ElementColorSwatchIcon__a" fill="#3D3D3D"></use>
                        <path fill="#318295" d="M-2.685-2.024h23v18h-23z" mask="url(#ElementColorSwatchIcon__c)"></path>
                    </g>
                    <g transform="rotate(4 -109.493 148.676)">
                        <mask id="ElementColorSwatchIcon__f" fill="#fff">
                            <use xlink:href="#ElementColorSwatchIcon__d"></use>
                        </mask>
                        <use xlink:href="#ElementColorSwatchIcon__d" fill="#000" filter="url(#ElementColorSwatchIcon__e)"></use>
                        <use xlink:href="#ElementColorSwatchIcon__d" fill="#3D3D3D"></use>
                        <path fill="#E15678" d="M-2-2h22v18H-2z" mask="url(#ElementColorSwatchIcon__f)"></path>
                    </g>
                </g>
            `},document:{width:t,height:r,svg:`
                <defs>
                    <filter id="ElementDocumentIcon__b" width="138.5%" height="131.2%" x="-19.2%" y="-12.5%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <filter id="ElementDocumentIcon__d" width="279.6%" height="277.8%" x="-89.7%" y="-77.8%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="2.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" result="shadowMatrixOuter1"
                            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"></feColorMatrix>
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter2"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter2" result="shadowBlurOuter2" stdDeviation="1"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter2" result="shadowMatrixOuter2"
                            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                        <feMerge>
                            <feMergeNode in="shadowMatrixOuter1"></feMergeNode>
                            <feMergeNode in="shadowMatrixOuter2"></feMergeNode>
                        </feMerge>
                    </filter>
                    <path id="ElementDocumentIcon__a"
                        d="M.855 0H16.74c.228 0 .447.091.608.254l8.406 8.496c.158.16.247.376.247.602v21.793a.855.855 0 0 1-.855.855H.855A.855.855 0 0 1 0 31.145V.855C0 .383.383 0 .855 0z">
                    </path>
                    <path id="ElementDocumentIcon__e" d="m17.094 0 8.812 9h-8.042a.855.855 0 0 1-.855-.855v-.01L17.094 0z"></path>
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <g>
                        <mask id="ElementDocumentIcon__c" fill="#fff">
                            <use xlink:href="#ElementDocumentIcon__a"></use>
                        </mask>
                        <use xlink:href="#ElementDocumentIcon__a" fill="#000" filter="url(#ElementDocumentIcon__b)"></use>
                        <use xlink:href="#ElementDocumentIcon__a" fill="#3D3D3D"></use>
                        <g fill="#000" mask="url(#ElementDocumentIcon__c)">
                            <use xlink:href="#ElementDocumentIcon__e" filter="url(#ElementDocumentIcon__d)"></use>
                        </g>
                        <path fill="#4D4D4D" d="M17.095 0 26 9h-8.136a.855.855 0 0 1-.855-.855v-.01L17.095 0z"
                            mask="url(#ElementDocumentIcon__c)"></path>
                    </g>
                    <path fill="#F2F2F2"
                        d="M20.25 24c.38 0 .693.28.743.648l.007.102c0 .414-.334.75-.75.75H5.75a.749.749 0 1 1 0-1.5h14.5zm-9.962-8 .118 1.81h-.549c-.376-.917-.525-1.316-1.16-1.316h-.242v3.972c0 .43.172.517.69.54v.494H6.37v-.494c.525-.023.705-.11.705-.54v-3.972h-.25c-.635 0-.784.4-1.16 1.316h-.541L5.243 16h5.045zm9.96 4c.38 0 .695.28.745.648l.007.102c0 .414-.344.75-.753.75h-6.494a.75.75 0 1 1 0-1.5h6.494zm0-4c.38 0 .695.28.745.648l.007.102c0 .414-.344.75-.753.75h-6.494a.75.75 0 1 1 0-1.5h6.494z">
                    </path>
                </g>
            `},drawing:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="4"></rect>
                    <g fill="#F2F2F2" fill-rule="nonzero">
                        <path
                            d="M21.778 6.733a2.3 2.3 0 0 1 2.969.02l.13.12 1.062 1.063c.8.8.894 2.052.249 2.959l-.108.14-1.623 1.948a.8.8 0 0 1-1.293-.936l.063-.088 1.624-1.948a.7.7 0 0 0 .026-.862l-.07-.081-1.062-1.063a.702.702 0 0 0-.856-.105l-.087.062-1.948 1.623a.8.8 0 0 1-1.103-1.154l.079-.075 1.948-1.623zM8.391 21.754l-1.226 2.56a.998.998 0 0 0 1.333 1.334l2.561-1.226a.501.501 0 0 0 .138-.805l-2-2a.5.5 0 0 0-.805.137z">
                        </path>
                        <path
                            d="m18.575 9.117-6.877 6.875a9.503 9.503 0 0 0-1.78 2.47L8.501 21.3a1.501 1.501 0 0 0 .281 1.731l1 1a1.5 1.5 0 0 0 1.732.281l2.839-1.419a9.515 9.515 0 0 0 2.469-1.78l6.873-6.873a2.501 2.501 0 0 0 0-3.536l-1.586-1.586a2.501 2.501 0 0 0-3.536 0zm1.06 1.06a1 1 0 0 1 1.32-.082l.094.083 1.586 1.586a1 1 0 0 1 .083 1.32l-.083.094-6.875 6.875a8.016 8.016 0 0 1-1.754 1.326l-.325.172-2.839 1.42-1-1 1.42-2.84a8.034 8.034 0 0 1 1.244-1.812l.254-.266 6.875-6.875z">
                        </path>
                    </g>
                </g>
            `},sketch:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="2"></rect>
                    <path fill="#E6E6E6"
                        d="M20.79 4.344a.88.88 0 0 1-.095 1.18l-.078.066-2.54 1.878-1.34 1.005-.84.637-.613.47-.83.644-.744.586-.68.55-.641.53-.416.354-.414.362-.187.168-.34.312-.155.148-.286.282-.26.273c-.084.09-.164.18-.243.272a4.384 4.384 0 0 0-.353.466 1.75 1.75 0 0 0-.095.16l-.023.047.04-.003c.247-.028.525-.087.885-.182l.187-.05.236-.069.496-.153.54-.179.614-.215 1.042-.383 2.483-.94.877-.318.14-.049c.17-.058.322-.109.47-.155l.318-.095c.233-.066.394-.105.585-.13l.18-.019a1.1 1.1 0 0 1 .373.038c.066.02.136.051.229.106.103.07.2.169.242.256.05.086.085.18.095.246a.98.98 0 0 1-.039.502l-.055.14a2.15 2.15 0 0 1-.123.222 3.896 3.896 0 0 1-.132.197l-.152.199c-.056.07-.12.146-.193.233l-.202.227-.204.223-.333.35-.256.261-2.02 2.007-.123.125 1.598-.444.588-.155.338-.08.158-.033.306-.058.15-.024.307-.042a6.977 6.977 0 0 1 1.51-.03c.578.065 1.086.205 1.526.443.497.258.923.658 1.214 1.136.107.174.197.36.27.554l.069.197c.065.21.108.408.132.611l.016.205a.567.567 0 0 1-1.123.149l-.013-.093a2.248 2.248 0 0 0-.334-1.013 1.954 1.954 0 0 0-.778-.706c-.3-.157-.666-.252-1.093-.294a5.794 5.794 0 0 0-1.242.044c-.41.056-.831.149-1.36.295l-1.843.54-.269.073-.24.061-.24.055-.214.042-.182.026a1.803 1.803 0 0 1-.507.005.917.917 0 0 1-.404-.151l-.106-.08-.062-.063-.042-.05-.036-.056a.761.761 0 0 1-.086-.218l-.012-.092a.688.688 0 0 1 .003-.153l.03-.145.032-.09c.047-.109.09-.188.155-.283l.108-.15.152-.193.16-.189.184-.204.465-.495 1.818-1.855.346-.363.147-.158-.61.23-3.009 1.186-.671.256-.627.229c-.493.176-.924.32-1.35.446l-.399.111a6.207 6.207 0 0 1-1.103.206c-.19.013-.332.013-.501-.007a1.526 1.526 0 0 1-.347-.087 1.089 1.089 0 0 1-.436-.298 1.496 1.496 0 0 1-.32-1.315c.069-.31.19-.575.375-.868.135-.216.287-.423.465-.637.249-.297.497-.567.785-.857l.304-.297.34-.32.385-.352.212-.19.423-.37.428-.367.668-.56.722-.592.802-.644 1.237-.976 1.574-1.222 1.458-1.115L19.55 4.18a.89.89 0 0 1 1.24.164z">
                    </path>
                </g>
            `},upload:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="4"></rect>
                    <path fill="#E6E6E6" d="M18.586 6a1 1 0 0 1 .707.293l4.414 4.414a1 1 0 0 1 .293.707V24a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h8.586zM17 7.5h-7a.5.5 0 0 0-.5.5v16a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V13h-4.75a.75.75 0 0 1-.743-.648L17 12.25V7.5zm5.379 4L18.5 7.622V11.5h3.879z"></path>
                </g>
            `},image:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="32" height="32" fill="#3D3D3D" rx="4"></rect>
                    <path fill="#E6E6E6"
                        d="M22 7a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H10a3 3 0 0 1-3-3V10a3 3 0 0 1 3-3h12zm-8 11.06-4.97 4.97a.758.758 0 0 1-.063.057A1.49 1.49 0 0 0 10 23.5h12c.401 0 .765-.157 1.034-.414l-.064-.056L19 19.06l-1.47 1.47a.75.75 0 0 1-1.06 0L14 18.06zm8-9.56H10A1.5 1.5 0 0 0 8.5 10v11.438l4.97-4.968a.75.75 0 0 1 .976-.073l.084.073L17 18.94l1.47-1.47a.75.75 0 0 1 1.06 0l3.97 3.969V10A1.5 1.5 0 0 0 22 8.5zM19 10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z">
                    </path>
                </g>
            `},url:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="2"></rect>
                    <path fill="#E6E6E6" fill-rule="nonzero"
                        d="M17.986 10.014a4.285 4.285 0 0 1 0 6.06l-1.67 1.67a4.285 4.285 0 0 1-6.06-6.06.741.741 0 0 1 1.048 1.05 2.802 2.802 0 0 0 3.963 3.962l1.67-1.67a2.802 2.802 0 0 0 0-3.964.741.741 0 1 1 1.049-1.048zm3.759-3.759a4.285 4.285 0 0 1 0 6.06.741.741 0 0 1-1.049-1.048 2.802 2.802 0 0 0-3.963-3.963l-1.67 1.67a2.802 2.802 0 0 0 0 3.964.741.741 0 1 1-1.049 1.048 4.285 4.285 0 0 1 0-6.06l1.67-1.67a4.285 4.285 0 0 1 6.06 0z">
                    </path>
                </g>
            `},collapse:{width:t,height:r,svg:`
                <path fill="#fff" fill-opacity="1" fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1 0-1h7a.5.5 0 0 1 .5.5z"></path>
            `}}[n];return d?(()=>{var h=SX();return q(h,"class",i),ne(p=>{var g=d.width,m=d.height,v=`0 0 ${d.width} ${d.height}`,b=d.svg;return g!==p.e&&q(h,"width",p.e=g),m!==p.t&&q(h,"height",p.t=m),v!==p.a&&q(h,"viewBox",p.a=v),b!==p.o&&(h.innerHTML=p.o=b),p},{e:void 0,t:void 0,a:void 0,o:void 0}),h})():xX()};function Gt(e){this.content=e}Gt.prototype={constructor:Gt,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var n=r&&r!=e?this.remove(r):this,i=n.find(e),o=n.content.slice();return i==-1?o.push(r||e,t):(o[i+1]=t,r&&(o[i]=r)),new Gt(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new Gt(r)},addToStart:function(e,t){return new Gt([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new Gt(r)},addBefore:function(e,t,r){var n=this.remove(t),i=n.content.slice(),o=n.find(e);return i.splice(o==-1?i.length:o,0,t,r),new Gt(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Gt.from(e),e.size?new Gt(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Gt.from(e),e.size?new Gt(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Gt.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}};Gt.from=function(e){if(e instanceof Gt)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new Gt(t)};function $N(e,t,r){for(let n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:r;let i=e.child(n),o=t.child(n);if(i==o){r+=i.nodeSize;continue}if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)r++;return r}if(i.content.size||o.content.size){let a=$N(i.content,o.content,r+1);if(a!=null)return a}r+=i.nodeSize}}function wN(e,t,r,n){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:r,b:n};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a==s){r-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:r,b:n};if(a.isText&&a.text!=s.text){let c=0,u=Math.min(a.text.length,s.text.length);for(;c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(a.content.size||s.content.size){let c=wN(a.content,s.content,r-1,n-1);if(c)return c}r-=l,n-=l}}class V{constructor(t,r){if(this.content=t,this.size=r||0,r==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,r,n,i=0,o){for(let a=0,s=0;s<r;a++){let l=this.content[a],c=s+l.nodeSize;if(c>t&&n(l,i+s,o||null,a)!==!1&&l.content.size){let u=s+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,r-u),n,i+u)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,n,i){let o="",a=!0;return this.nodesBetween(t,r,(s,l)=>{let c=s.isText?s.text.slice(Math.max(t,l)-l,r-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&n&&(a?a=!1:o+=n),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,n=t.firstChild,i=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new V(i,this.size+t.size)}cut(t,r=this.size){if(t==0&&r==this.size)return this;let n=[],i=0;if(r>t)for(let o=0,a=0;a<r;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>r)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,r-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,r-a-1))),n.push(s),i+=s.nodeSize),a=l}return new V(n,i)}cutByIndex(t,r){return t==r?V.empty:t==0&&r==this.content.length?this:new V(this.content.slice(t,r))}replaceChild(t,r){let n=this.content[t];if(n==r)return this;let i=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return i[t]=r,new V(i,o)}addToStart(t){return new V([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new V(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];t(i,n,r),n+=i.nodeSize}}findDiffStart(t,r=0){return $N(this,t,r)}findDiffEnd(t,r=this.size,n=t.size){return wN(this,t,r,n)}findIndex(t){if(t==0)return Ld(0,t);if(t==this.size)return Ld(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=this.child(r),o=n+i.nodeSize;if(o>=t)return o==t?Ld(r+1,o):Ld(r,n);n=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return V.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new V(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return V.empty;let r,n=0;for(let i=0;i<t.length;i++){let o=t[i];n+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(r||(r=t.slice(0,i)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new V(r||t,n)}static from(t){if(!t)return V.empty;if(t instanceof V)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new V([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}V.empty=new V([],0);const cb={index:0,offset:0};function Ld(e,t){return cb.index=e,cb.offset=t,cb}function qp(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!qp(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!qp(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let Ve=class dw{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,n=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))r||(r=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(r||(r=t.slice(0,i)),r.push(this),n=!0),r&&r.push(o)}}return r||(r=t.slice()),n||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&qp(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(r[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return dw.none;if(t instanceof dw)return[t];let r=t.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};Ve.none=[];class Yp extends Error{}class X{constructor(t,r,n){this.content=t,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let n=SN(this.content,t+this.openStart,r);return n&&new X(n,this.openStart,this.openEnd)}removeBetween(t,r){return new X(xN(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return X.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new X(V.fromJSON(t,r.content),n,i)}static maxOpen(t,r=!0){let n=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.lastChild)i++;return new X(t,n,i)}}X.empty=new X(V.empty,0,0);function xN(e,t,r){let{index:n,offset:i}=e.findIndex(t),o=e.maybeChild(n),{index:a,offset:s}=e.findIndex(r);if(i==t||o.isText){if(s!=r&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(n,o.copy(xN(o.content,t-i-1,r-i-1)))}function SN(e,t,r,n){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return n&&!n.canReplace(i,i,r)?null:e.cut(0,t).append(r).append(e.cut(t));let s=SN(a.content,t-o-1,r,a);return s&&e.replaceChild(i,a.copy(s))}function kX(e,t,r){if(r.openStart>e.depth)throw new Yp("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new Yp("Inconsistent open depths");return kN(e,t,r,0)}function kN(e,t,r,n){let i=e.index(n),o=e.node(n);if(i==t.index(n)&&n<e.depth-r.openStart){let a=kN(e,t,r,n+1);return o.copy(o.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==n&&t.depth==n){let a=e.parent,s=a.content;return Va(a,s.cut(0,e.parentOffset).append(r.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=OX(r,e);return Va(o,TN(e,a,s,t,n))}else return Va(o,Jp(e,t,n))}function ON(e,t){if(!t.type.compatibleContent(e.type))throw new Yp("Cannot join "+t.type.name+" onto "+e.type.name)}function hw(e,t,r){let n=e.node(r);return ON(n,t.node(r)),n}function Ua(e,t){let r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function Tu(e,t,r,n){let i=(t||e).node(r),o=0,a=t?t.index(r):i.childCount;e&&(o=e.index(r),e.depth>r?o++:e.textOffset&&(Ua(e.nodeAfter,n),o++));for(let s=o;s<a;s++)Ua(i.child(s),n);t&&t.depth==r&&t.textOffset&&Ua(t.nodeBefore,n)}function Va(e,t){return e.type.checkContent(t),e.copy(t)}function TN(e,t,r,n,i){let o=e.depth>i&&hw(e,t,i+1),a=n.depth>i&&hw(r,n,i+1),s=[];return Tu(null,e,i,s),o&&a&&t.index(i)==r.index(i)?(ON(o,a),Ua(Va(o,TN(e,t,r,n,i+1)),s)):(o&&Ua(Va(o,Jp(e,t,i+1)),s),Tu(t,r,i,s),a&&Ua(Va(a,Jp(r,n,i+1)),s)),Tu(n,null,i,s),new V(s)}function Jp(e,t,r){let n=[];if(Tu(null,e,r,n),e.depth>r){let i=hw(e,t,r+1);Ua(Va(i,Jp(e,t,r+1)),n)}return Tu(t,null,r,n),new V(n)}function OX(e,t){let r=t.depth-e.openStart,i=t.node(r).copy(e.content);for(let o=r-1;o>=0;o--)i=t.node(o).copy(V.from(i));return{start:i.resolveNoCache(e.openStart+r),end:i.resolveNoCache(i.content.size-e.openEnd-r)}}class Zu{constructor(t,r,n){this.pos=t,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=t.child(r);return n?t.child(r).cut(n):i}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):t==0?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let o=0;o<t;o++)i+=n.child(o).nodeSize;return i}marks(){let t=this.parent,r=this.index();if(t.content.size==0)return Ve.none;if(this.textOffset)return t.child(r).marks;let n=t.maybeChild(r-1),i=t.maybeChild(r);if(!n){let s=n;n=i,i=s}let o=n.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!r||r(this.node(n))))return new Xp(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,o=r;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(n.push(a,s,i+l),!c||(a=a.child(s),a.isText))break;o=c-1,i+=l+1}return new Zu(r,n,o)}static resolveCached(t,r){let n=hE.get(t);if(n)for(let o=0;o<n.elts.length;o++){let a=n.elts[o];if(a.pos==r)return a}else hE.set(t,n=new TX);let i=n.elts[n.i]=Zu.resolve(t,r);return n.i=(n.i+1)%CX,i}}class TX{constructor(){this.elts=[],this.i=0}}const CX=12,hE=new WeakMap;class Xp{constructor(t,r,n){this.$from=t,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const EX=Object.create(null);let Ho=class pw{constructor(t,r,n,i=Ve.none){this.type=t,this.attrs=r,this.marks=i,this.content=n||V.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,n,i=0){this.content.nodesBetween(t,r,n,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,n,i){return this.content.textBetween(t,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,n){return this.type==t&&qp(this.attrs,r||t.defaultAttrs||EX)&&Ve.sameSet(this.marks,n||Ve.none)}copy(t=null){return t==this.content?this:new pw(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new pw(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,n=!1){if(t==r)return X.empty;let i=this.resolve(t),o=this.resolve(r),a=n?0:i.sharedDepth(r),s=i.start(a),c=i.node(a).content.cut(i.pos-s,o.pos-s);return new X(c,i.depth-a,o.depth-a)}replace(t,r,n){return kX(this.resolve(t),this.resolve(r),n)}nodeAt(t){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(t);if(r=r.maybeChild(n),!r)return null;if(i==t||r.isText)return r;t-=i+1}}childAfter(t){let{index:r,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(t){return Zu.resolveCached(this,t)}resolveNoCache(t){return Zu.resolve(this,t)}rangeHasMark(t,r,n){let i=!1;return r>t&&this.nodesBetween(t,r,o=>(n.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),CN(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,n=V.empty,i=0,o=n.childCount){let a=this.contentMatchAt(t).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(n),a=o&&o.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ve.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!Ve.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,n)}let i=V.fromJSON(t,r.content),o=t.nodeType(r.type).create(r.attrs,i,n);return o.type.checkAttrs(o.attrs),o}};Ho.prototype.text=void 0;class Qp extends Ho{constructor(t,r,n,i){if(super(t,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):CN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Qp(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Qp(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return t==0&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function CN(e,t){for(let r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}class Qa{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let n=new MX(t,r);if(n.next==null)return Qa.empty;let i=EN(n);n.next&&n.err("Unexpected trailing text");let o=NX(LX(i));return RX(o,n),o}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,n=t.childCount){let i=this;for(let o=r;i&&o<n;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let n=0;n<t.next.length;n++)if(this.next[r].type==t.next[n].type)return!0;return!1}fillBefore(t,r=!1,n=0){let i=[this];function o(a,s){let l=a.matchFragment(t,n);if(l&&(!r||l.validEnd))return V.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:u,next:f}=a.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(u));if(d)return d}}return null}return o(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in r)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),r[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function r(n){t.push(n);for(let i=0;i<n.next.length;i++)t.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),t.map((n,i)=>{let o=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)o+=(a?", ":"")+n.next[a].type.name+"->"+t.indexOf(n.next[a].next);return o}).join(`
`)}}Qa.empty=new Qa(!0);class MX{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function EN(e){let t=[];do t.push(AX(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function AX(e){let t=[];do t.push(IX(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function IX(e){let t=DX(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=PX(e,t);else break;return t}function pE(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function PX(e,t){let r=pE(e),n=r;return e.eat(",")&&(e.next!="}"?n=pE(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:t}}function _X(e,t){let r=e.nodeTypes,n=r[t];if(n)return[n];let i=[];for(let o in r){let a=r[o];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function DX(e){if(e.eat("(")){let t=EN(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=_X(e,e.next).map(r=>(e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function LX(e){let t=[[]];return i(o(e,0),r()),t;function r(){return t.push([])-1}function n(a,s,l){let c={term:l,to:s};return t[a].push(c),c}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=r())}else if(a.type=="star"){let l=r();return n(s,l),i(o(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return i(o(a.expr,s),l),i(o(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let u=r();i(o(a.expr,l),u),l=u}if(a.max==-1)i(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let u=r();n(l,u),i(o(a.expr,l),u),l=u}return[n(l)]}else{if(a.type=="name")return[n(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function MN(e,t){return t-e}function gE(e,t){let r=[];return n(t),r.sort(MN);function n(i){let o=e[i];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&r.indexOf(l)==-1&&n(l)}}}function NX(e){let t=Object.create(null);return r(gE(e,0));function r(n){let i=[];n.forEach(a=>{e[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let u=0;u<i.length;u++)i[u][0]==s&&(c=i[u][1]);gE(e,l).forEach(u=>{c||i.push([s,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[n.join(",")]=new Qa(n.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(MN);o.next.push({type:i[a][0],next:t[s.join(",")]||r(s)})}return o}}function RX(e,t){for(let r=0,n=[e];r<n.length;r++){let i=n[r],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:c}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function AN(e){let t=Object.create(null);for(let r in e){let n=e[r];if(!n.hasDefault)return null;t[r]=n.default}return t}function IN(e,t){let r=Object.create(null);for(let n in e){let i=t&&t[n];if(i===void 0){let o=e[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function PN(e,t,r,n){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function _N(e,t){let r=Object.create(null);if(t)for(let n in t)r[n]=new jX(e,n,t[n]);return r}let mE=class DN{constructor(t,r,n){this.name=t,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=_N(t,n.attrs),this.defaultAttrs=AN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:IN(this.attrs,t)}create(t=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ho(this,this.computeAttrs(t),V.from(r),Ve.setFrom(n))}createChecked(t=null,r,n){return r=V.from(r),this.checkContent(r),new Ho(this,this.computeAttrs(t),r,Ve.setFrom(n))}createAndFill(t=null,r,n){if(t=this.computeAttrs(t),r=V.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let i=this.contentMatch.matchFragment(r),o=i&&i.fillBefore(V.empty,!0);return o?new Ho(this,t,r.append(o),Ve.setFrom(n)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){PN(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let r;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?r&&r.push(t[n]):r||(r=t.slice(0,n));return r?r.length?r:Ve.none:t}static compile(t,r){let n=Object.create(null);t.forEach((o,a)=>n[o]=new DN(o,r,a));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function FX(e,t,r){let n=r.split("|");return i=>{let o=i===null?"null":typeof i;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${e}, got ${o}`)}}class jX{constructor(t,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?FX(t,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Bm{constructor(t,r,n,i){this.name=t,this.rank=r,this.schema=n,this.spec=i,this.attrs=_N(t,i.attrs),this.excluded=null;let o=AN(this.attrs);this.instance=o?new Ve(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Ve(this,IN(this.attrs,t))}static compile(t,r){let n=Object.create(null),i=0;return t.forEach((o,a)=>n[o]=new Bm(o,i++,r,a)),n}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}checkAttrs(t){PN(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class LN{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in t)r[i]=t[i];r.nodes=Gt.from(t.nodes),r.marks=Gt.from(t.marks||{}),this.nodes=mE.compile(this.spec.nodes,this),this.marks=Bm.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=n[a]||(n[a]=Qa.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?vE(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:vE(this,a.split(" "))}this.nodeFromJSON=i=>Ho.fromJSON(this,i),this.markFromJSON=i=>Ve.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,n,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof mE){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(r,n,i)}text(t,r){let n=this.nodes.text;return new Qp(n,n.defaultAttrs,t,Ve.setFrom(r))}mark(t,r){return typeof t=="string"&&(t=this.marks[t]),t.create(r)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}function vE(e,t){let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e.marks[i],a=o;if(o)r.push(o);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return r}function BX(e){return e.tag!=null}function zX(e){return e.style!=null}class Uo{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(BX(i))this.tags.push(i);else if(zX(i)){let o=/[^=]*/.exec(i.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,r={}){let n=new yE(this,r,!1);return n.addAll(t,Ve.none,r.from,r.to),n.finish()}parseSlice(t,r={}){let n=new yE(this,r,!0);return n.addAll(t,Ve.none,r.from,r.to),X.maxOpen(n.finish())}matchTag(t,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(VX(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,r,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!n.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let r=[];function n(i){let o=i.priority==null?50:i.priority,a=0;for(;a<r.length;a++){let s=r[a];if((s.priority==null?50:s.priority)<o)break}r.splice(a,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(a=>{n(a=$E(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(a=>{n(a=$E(a)),a.node||a.ignore||a.mark||(a.node=i)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Uo(t,Uo.schemaRules(t)))}}const NN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},HX={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},RN={ol:!0,ul:!0},ef=1,gw=2,Cu=4;function bE(e,t,r){return t!=null?(t?ef:0)|(t==="full"?gw:0):e&&e.whitespace=="pre"?ef|gw:r&~Cu}class Nd{constructor(t,r,n,i,o,a){this.type=t,this.attrs=r,this.marks=n,this.solid=i,this.options=a,this.content=[],this.activeMarks=Ve.none,this.match=o||(a&Cu?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(V.from(t));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(t.type))?(this.match=n,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&ef)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let r=V.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(V.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!NN.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class yE{constructor(t,r,n){this.parser=t,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,o,a=bE(null,r.preserveWhitespace,0)|(n?Cu:0);i?o=new Nd(i.type,i.attrs,Ve.none,!0,r.topMatch||i.type.contentMatch,a):n?o=new Nd(null,null,Ve.none,!0,null,a):o=new Nd(t.schema.topNodeType,null,Ve.none,!0,null,a),this.nodes=[o],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,r){t.nodeType==3?this.addTextNode(t,r):t.nodeType==1&&this.addElement(t,r)}addTextNode(t,r){let n=t.nodeValue,i=this.top,o=i.options&gw?"full":this.localPreserveWS||(i.options&ef)>0;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(o)o!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],s=t.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,r,n){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;RN.hasOwnProperty(a)&&this.parser.normalizeLists&&UX(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,n));e:if(l?l.ignore:HX.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(NN.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,r);break e}let f=l&&l.skip?r:this.readStyles(t,r);f&&this.addAll(t,f),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(t,r);c&&this.addElementByRule(t,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(t,r){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),r)}ignoreFallback(t,r){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(t,r){let n=t.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=n.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return r}addElementByRule(t,r,n,i){let o,a;if(r.node)if(a=this.parser.schema.nodes[r.node],a.isLeaf)this.insertNode(a.create(r.attrs),n,t.nodeName=="BR")||this.leafFallback(t,n);else{let l=this.enter(a,r.attrs||null,n,r.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,n,i);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=t;typeof r.contentElement=="string"?l=t.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(t):r.contentElement&&(l=r.contentElement),this.findAround(t,l,!0),this.addAll(l,n),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,r,n,i){let o=n||0;for(let a=n?t.childNodes[n]:t.firstChild,s=i==null?null:t.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,r);this.findAtPoint(t,o)}findPlace(t,r,n){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+s)&&(i=c,o=l,!c.length))break;if(l.solid){if(n)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)r=this.enterInner(i[a],null,r,!1);return r}insertNode(t,r,n){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(r=this.enterInner(o,null,r))}let i=this.findPlace(t,r,n);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=Ve.none;for(let s of i.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):wE(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,r,n,i){let o=this.findPlace(t.create(r),n,!1);return o&&(o=this.enterInner(t,r,n,!0,i)),o}enterInner(t,r,n,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=bE(t,o,a.options);a.options&Cu&&a.content.length==0&&(s|=Cu);let l=Ve.none;return n=n.filter(c=>(a.type?a.type.allowsMarkType(c.type):wE(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Nd(t,r,l,i,null,s)),this.open++,n}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let r=this.open;r>=0;r--){if(this.nodes[r]==t)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=ef)}return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)t+=n[i].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,n){if(t!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let c=r[s];if(c==""){if(s==r.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return a(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let n=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function UX(e){for(let t=e.firstChild,r=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&RN.hasOwnProperty(n)&&r?(r.appendChild(t),t=r):n=="li"?r=t:n&&(r=null)}}function VX(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function $E(e){let t={};for(let r in e)t[r]=e[r];return t}function wE(e,t){let r=t.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(e))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:u}=s.edge(l);if(c==t||o.indexOf(u)<0&&a(u))return!0}};if(a(i.contentMatch))return!0}}class xs{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},n){n||(n=ub(r).createDocumentFragment());let i=n,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],u=this.serializeMark(c,a.isInline,r);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(t,r){let{dom:n,contentDOM:i}=np(ub(r),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,i)}return n}serializeNode(t,r={}){let n=this.serializeNodeInner(t,r);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,r,n={}){let i=this.marks[t.type.name];return i&&np(ub(n),i(t,r),null,t.attrs)}static renderSpec(t,r,n=null,i){return np(t,r,n,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new xs(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=xE(t.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(t){return xE(t.marks)}}function xE(e){let t={};for(let r in e){let n=e[r].spec.toDOM;n&&(t[r]=n)}return t}function ub(e){return e.document||window.document}const SE=new WeakMap;function WX(e){let t=SE.get(e);return t===void 0&&SE.set(e,t=KX(e)),t}function KX(e){let t=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(e),t}function np(e,t,r,n){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=WX(n))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),c[f]):f=="style"&&l.style?l.style.cssText=c[f]:l.setAttribute(f,c[f])}}for(let f=u;f<t.length;f++){let d=t[f];if(d===0){if(f<t.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=np(e,d,r,n);if(l.appendChild(h),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}const FN=65535,jN=Math.pow(2,16);function GX(e,t){return e+t*jN}function kE(e){return e&FN}function qX(e){return(e-(e&FN))/jN}const BN=1,zN=2,ip=4,HN=8;class mw{constructor(t,r,n){this.pos=t,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&HN)>0}get deletedBefore(){return(this.delInfo&(BN|ip))>0}get deletedAfter(){return(this.delInfo&(zN|ip))>0}get deletedAcross(){return(this.delInfo&ip)>0}}class Vr{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&Vr.empty)return Vr.empty}recover(t){let r=0,n=kE(t);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+qX(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,n){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[s+o],u=this.ranges[s+a],f=l+c;if(t<=f){let d=c?t==l?-1:t==f?1:r:r,h=l+i+(d<0?0:u);if(n)return h;let p=t==(r<0?l:f)?null:GX(s/3,t-l),g=t==l?zN:t==f?BN:ip;return(r<0?t!=l:t!=f)&&(g|=HN),new mw(h,g,p)}i+=u-c}return n?t+i:new mw(t+i,0,null)}touches(t,r){let n=0,i=kE(r),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>t)break;let c=this.ranges[s+o],u=l+c;if(t<=u&&s==i*3)return!0;n+=this.ranges[s+a]-c}return!1}forEach(t){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+r],u=this.ranges[i+n];t(s,s+c,l,l+u),o+=u-c}}invert(){return new Vr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Vr.empty:new Vr(t<0?[0,-t,0]:[0,0,t])}}Vr.empty=new Vr([]);class tf{constructor(t,r,n=0,i=t?t.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=t||[],this.ownData=!(t||r)}get maps(){return this._maps}slice(t=0,r=this.maps.length){return new tf(this._maps,this.mirror,t,r)}appendMap(t,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(t){for(let r=0,n=this._maps.length;r<t._maps.length;r++){let i=t.getMirror(r);this.appendMap(t._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(t){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,n=this._maps.length+t._maps.length;r>=0;r--){let i=t.getMirror(r);this.appendMap(t._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let t=new tf;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,n){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,r);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return n?t:new mw(t,i,null)}}const fb=Object.create(null);class cr{getMap(){return Vr.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=fb[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in fb)throw new RangeError("Duplicate use of step JSON ID "+t);return fb[t]=r,r.prototype.jsonID=t,r}}class yt{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new yt(t,null)}static fail(t){return new yt(null,t)}static fromReplace(t,r,n,i){try{return yt.ok(t.replace(r,n,i))}catch(o){if(o instanceof Yp)return yt.fail(o.message);throw o}}}function dS(e,t,r){let n=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(dS(o.content,t,o))),o.isInline&&(o=t(o,r,i)),n.push(o)}return V.fromArray(n)}class No extends cr{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new X(dS(r.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),r.openStart,r.openEnd);return yt.fromReplace(t,this.from,this.to,o)}invert(){return new Rn(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new No(r.pos,n.pos,this.mark)}merge(t){return t instanceof No&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new No(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new No(r.from,r.to,t.markFromJSON(r.mark))}}cr.jsonID("addMark",No);class Rn extends cr{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=new X(dS(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),r.openStart,r.openEnd);return yt.fromReplace(t,this.from,this.to,n)}invert(){return new No(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Rn(r.pos,n.pos,this.mark)}merge(t){return t instanceof Rn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Rn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Rn(r.from,r.to,t.markFromJSON(r.mark))}}cr.jsonID("removeMark",Rn);class Ro extends cr{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return yt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return yt.fromReplace(t,this.pos,this.pos+1,new X(V.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Ro(this.pos,r.marks[i]);return new Ro(this.pos,this.mark)}}return new Za(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Ro(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ro(r.pos,t.markFromJSON(r.mark))}}cr.jsonID("addNodeMark",Ro);class Za extends cr{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return yt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return yt.fromReplace(t,this.pos,this.pos+1,new X(V.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Ro(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Za(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Za(r.pos,t.markFromJSON(r.mark))}}cr.jsonID("removeNodeMark",Za);class Nt extends cr{constructor(t,r,n,i=!1){super(),this.from=t,this.to=r,this.slice=n,this.structure=i}apply(t){return this.structure&&vw(t,this.from,this.to)?yt.fail("Structure replace would overwrite content"):yt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Vr([this.from,this.to-this.from,this.slice.size])}invert(t){return new Nt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Nt(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Nt)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let r=this.slice.size+t.slice.size==0?X.empty:new X(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Nt(this.from,this.to+(t.to-t.from),r,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let r=this.slice.size+t.slice.size==0?X.empty:new X(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Nt(t.from,this.to,r,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Nt(r.from,r.to,X.fromJSON(t,r.slice),!!r.structure)}}cr.jsonID("replace",Nt);class Bt extends cr{constructor(t,r,n,i,o,a,s=!1){super(),this.from=t,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(vw(t,this.from,this.gapFrom)||vw(t,this.gapTo,this.to)))return yt.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return yt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?yt.fromReplace(t,this.from,this.to,n):yt.fail("Content does not fit in gap")}getMap(){return new Vr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new Bt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||o>n.pos?null:new Bt(r.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Bt(r.from,r.to,r.gapFrom,r.gapTo,X.fromJSON(t,r.slice),r.insert,!!r.structure)}}cr.jsonID("replaceAround",Bt);function vw(e,t,r){let n=e.resolve(t),i=r-t,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let a=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function YX(e,t,r,n){let i=[],o=[],a,s;e.doc.nodesBetween(t,r,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&u.type.allowsMarkType(n.type)){let d=Math.max(c,t),h=Math.min(c+l.nodeSize,r),p=n.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(p)||(a&&a.to==d&&a.mark.eq(f[g])?a.to=h:i.push(a=new Rn(d,h,f[g])));s&&s.to==d?s.to=h:o.push(s=new No(d,h,n))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function JX(e,t,r,n){let i=[],o=0;e.doc.nodesBetween(t,r,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(n instanceof Bm){let c=a.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,r);for(let u=0;u<l.length;u++){let f=l[u],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&f.eq(i[h].style)&&(d=p)}d?(d.to=c,d.step=o):i.push({style:f,from:Math.max(s,t),to:c,step:o})}}}),i.forEach(a=>e.step(new Rn(a.from,a.to,a.style)))}function hS(e,t,r,n=r.contentMatch,i=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=s+c.nodeSize,f=n.matchType(c.type);if(!f)a.push(new Nt(s,u,X.empty));else{n=f;for(let d=0;d<c.marks.length;d++)r.allowsMarkType(c.marks[d].type)||e.step(new Rn(s,u,c.marks[d]));if(i&&c.isText&&r.whitespace!="pre"){let d,h=/\r?\n|\r/g,p;for(;d=h.exec(c.text);)p||(p=new X(V.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),a.push(new Nt(s+d.index,s+d.index+d[0].length,p))}}s=u}if(!n.validEnd){let l=n.fillBefore(V.empty,!0);e.replace(s,s,new X(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function XX(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function cc(e){let r=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let i=e.$from.node(n),o=e.$from.index(n),a=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(o,a,r))return n;if(n==0||i.type.spec.isolating||!XX(i,o,a))break}return null}function QX(e,t,r){let{$from:n,$to:i,depth:o}=t,a=n.before(o+1),s=i.after(o+1),l=a,c=s,u=V.empty,f=0;for(let p=o,g=!1;p>r;p--)g||n.index(p)>0?(g=!0,u=V.from(n.node(p).copy(u)),f++):l--;let d=V.empty,h=0;for(let p=o,g=!1;p>r;p--)g||i.after(p+1)<i.end(p)?(g=!0,d=V.from(i.node(p).copy(d)),h++):c++;e.step(new Bt(l,c,a,s,new X(u.append(d),f,h),u.size-f,!0))}function pS(e,t,r=null,n=e){let i=ZX(e,t),o=i&&eQ(n,t);return o?i.map(OE).concat({type:t,attrs:r}).concat(o.map(OE)):null}function OE(e){return{type:e,attrs:null}}function ZX(e,t){let{parent:r,startIndex:n,endIndex:i}=e,o=r.contentMatchAt(n).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return r.canReplaceWith(n,i,a)?o:null}function eQ(e,t){let{parent:r,startIndex:n,endIndex:i}=e,o=r.child(n),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=n;l&&c<i;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:a}function tQ(e,t,r){let n=V.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let s=r[a].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=V.from(r[a].type.create(r[a].attrs,n))}let i=t.start,o=t.end;e.step(new Bt(i,o,i,o,new X(n,0,0),r.length,!0))}function rQ(e,t,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,r,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(n,l)&&nQ(e.doc,e.mapping.slice(o).map(s),n)){let c=null;if(n.schema.linebreakReplacement){let h=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&VN(e,a,s,o),hS(e,e.mapping.slice(o).map(s,1),n,void 0,c===null);let u=e.mapping.slice(o),f=u.map(s,1),d=u.map(s+a.nodeSize,1);return e.step(new Bt(f,d,f+1,d-1,new X(V.from(n.create(l,null,a.marks)),0,0),1,!0)),c===!0&&UN(e,a,s,o),!1}})}function UN(e,t,r,n){t.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=e.mapping.slice(n).map(r+1+o+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function VN(e,t,r,n){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(n).map(r+1+o);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function nQ(e,t,r){let n=e.resolve(t),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function iQ(e,t,r,n,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");r||(r=o.type);let a=r.create(n,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!r.validContent(o.content))throw new RangeError("Invalid content for node type "+r.name);e.step(new Bt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new X(V.from(a),0,0),1,!0))}function Yi(e,t,r=1,n){let i=e.resolve(t),o=i.depth-r,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=r-2;c>o;c--,u--){let f=i.node(c),d=i.index(c);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=n&&n[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=n&&n[u]||f;if(!f.canReplace(d+1,f.childCount)||!g.type.validContent(h))return!1}let s=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function oQ(e,t,r=1,n){let i=e.doc.resolve(t),o=V.empty,a=V.empty;for(let s=i.depth,l=i.depth-r,c=r-1;s>l;s--,c--){o=V.from(i.node(s).copy(o));let u=n&&n[c];a=V.from(u?u.type.create(u.attrs,a):i.node(s).copy(a))}e.step(new Nt(t,t,new X(o.append(a),r,r),!0))}function la(e,t){let r=e.resolve(t),n=r.index();return WN(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function aQ(e,t){t.content.size||e.type.compatibleContent(t.type);let r=e.contentMatchAt(e.childCount),{linebreakReplacement:n}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),a=o.type==n?e.type.schema.nodes.text:o.type;if(r=r.matchType(a),!r||!e.type.allowsMarks(o.marks))return!1}return r.validEnd}function WN(e,t){return!!(e&&t&&!e.isLeaf&&aQ(e,t))}function zm(e,t,r=-1){let n=e.resolve(t);for(let i=n.depth;;i--){let o,a,s=n.index(i);if(i==n.depth?(o=n.nodeBefore,a=n.nodeAfter):r>0?(o=n.node(i+1),s++,a=n.node(i).maybeChild(s)):(o=n.node(i).maybeChild(s-1),a=n.node(i+1)),o&&!o.isTextblock&&WN(o,a)&&n.node(i).canReplace(s,s+1))return t;if(i==0)break;t=r<0?n.before(i):n.after(i)}}function sQ(e,t,r){let n=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-r),a=o.node().type;if(i&&a.inlineContent){let u=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);u&&!f?n=!1:!u&&f&&(n=!0)}let s=e.steps.length;if(n===!1){let u=e.doc.resolve(t+r);VN(e,u.node(),u.before(),s)}a.inlineContent&&hS(e,t+r-1,a,o.node().contentMatchAt(o.index()),n==null);let l=e.mapping.slice(s),c=l.map(t-r);if(e.step(new Nt(c,l.map(t+r,-1),X.empty,!0)),n===!0){let u=e.doc.resolve(c);UN(e,u.node(),u.before(),e.steps.length)}return e}function lQ(e,t,r){let n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),r))return t;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let o=n.indexAfter(i);if(n.node(i).canReplaceWith(o,o,r))return n.after(i+1);if(o<n.node(i).childCount)return null}return null}function KN(e,t,r){let n=e.resolve(t);if(!r.content.size)return t;let i=r.content;for(let o=0;o<r.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(r.openStart==0&&r.size?2:1);o++)for(let a=n.depth;a>=0;a--){let s=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(s>0?1:0),c=n.node(a),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return s==0?n.pos:s<0?n.before(a+1):n.after(a+1)}return null}function Hm(e,t,r=t,n=X.empty){if(t==r&&!n.size)return null;let i=e.resolve(t),o=e.resolve(r);return GN(i,o,n)?new Nt(t,r,n):new cQ(i,o,n).fit()}function GN(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}class cQ{constructor(t,r,n){this.$from=t,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=V.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=V.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new X(o,a,s);return t>-1?new Bt(n.pos,t,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Nt(n.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<t;n++){let o=r.firstChild;if(r.childCount>1&&(i=0),o.type.spec.isolating&&i<=n){t=n;break}r=o.content}for(let r=1;r<=2;r++)for(let n=r==1?t:this.unplaced.openStart;n>=0;n--){let i,o=null;n?(o=db(this.unplaced.content,n-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],u,f=null;if(r==1&&(a?c.matchType(a.type)||(f=c.fillBefore(V.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:f};if(r==2&&a&&(u=c.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:r,openEnd:n}=this.unplaced,i=db(t,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new X(t,r+1,Math.max(n,i.size+r>=t.size-n?r+1:0)),!0)}dropNode(){let{content:t,openStart:r,openEnd:n}=this.unplaced,i=db(t,r);if(i.childCount<=1&&r>0){let o=t.size-r<=r+i.size;this.unplaced=new X(uu(t,r-1,1),r-1,o?r-1:n)}else this.unplaced=new X(uu(t,r,1),r,n)}placeNodes({sliceDepth:t,frontierDepth:r,parent:n,inject:i,wrap:o}){for(;this.depth>r;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-t,c=0,u=[],{match:f,type:d}=this.frontier[r];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));f=f.matchFragment(i)}let h=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let g=s.child(c),m=f.matchType(g.type);if(!m)break;c++,(c>1||l==0||g.content.size)&&(f=m,u.push(qN(g.mark(d.allowedMarks(g.marks)),c==1?l:0,c==s.childCount?h:-1)))}let p=c==s.childCount;p||(h=-1),this.placed=fu(this.placed,r,V.from(u)),this.frontier[r].match=f,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=s;g<h;g++){let v=m.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),m=v.content}this.unplaced=p?t==0?X.empty:new X(uu(a.content,t-1,1),t-1,h<0?a.openEnd:t-1):new X(uu(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],r;if(!t.type.isTextblock||!hb(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],o=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),a=hb(t,r,i,n,o);if(a){for(let s=r-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],u=hb(t,s,c,l,!0);if(!u||u.childCount)continue e}return{depth:r,fit:a,move:o?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=fu(this.placed,r.depth,r.fit)),t=r.move;for(let n=r.depth+1;n<=t.depth;n++){let i=t.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(n));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=fu(this.placed,this.depth,V.from(t.create(r,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(V.empty,!0);r.childCount&&(this.placed=fu(this.placed,this.frontier.length,r))}}function uu(e,t,r){return t==0?e.cutByIndex(r,e.childCount):e.replaceChild(0,e.firstChild.copy(uu(e.firstChild.content,t-1,r)))}function fu(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(fu(e.lastChild.content,t-1,r)))}function db(e,t){for(let r=0;r<t;r++)e=e.firstChild.content;return e}function qN(e,t,r){if(t<=0)return e;let n=e.content;return t>1&&(n=n.replaceChild(0,qN(n.firstChild,t-1,n.childCount==1?r-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore(V.empty,!0)))),e.copy(n)}function hb(e,t,r,n,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!r.compatibleContent(o.type))return null;let s=n.fillBefore(o.content,!0,a);return s&&!uQ(r,o.content,a)?s:null}function uQ(e,t,r){for(let n=r;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function fQ(e){return e.spec.defining||e.spec.definingForContent}function dQ(e,t,r,n){if(!n.size)return e.deleteRange(t,r);let i=e.doc.resolve(t),o=e.doc.resolve(r);if(GN(i,o,n))return e.step(new Nt(t,r,n));let a=JN(i,e.doc.resolve(r));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==h&&a.splice(1,0,-d)}let l=a.indexOf(s),c=[],u=n.openStart;for(let d=n.content,h=0;;h++){let p=d.firstChild;if(c.push(p),h==n.openStart)break;d=p.content}for(let d=u-1;d>=0;d--){let h=c[d],p=fQ(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(s)-1)))u=d;else if(p||!h.type.isTextblock)break}for(let d=n.openStart;d>=0;d--){let h=(d+u+1)%(n.openStart+1),p=c[h];if(p)for(let g=0;g<a.length;g++){let m=a[(g+l)%a.length],v=!0;m<0&&(v=!1,m=-m);let b=i.node(m-1),y=i.index(m-1);if(b.canReplaceWith(y,y,p.type,p.marks))return e.replace(i.before(m),v?o.after(m):r,new X(YN(n.content,0,n.openStart,h),h,n.openEnd))}}let f=e.steps.length;for(let d=a.length-1;d>=0&&(e.replace(t,r,n),!(e.steps.length>f));d--){let h=a[d];h<0||(t=i.before(h),r=o.after(h))}}function YN(e,t,r,n,i){if(t<r){let o=e.firstChild;e=e.replaceChild(0,o.copy(YN(o.content,t+1,r,n,o)))}if(t>n){let o=i.contentMatchAt(0),a=o.fillBefore(e).append(e);e=a.append(o.matchFragment(a).fillBefore(V.empty,!0))}return e}function hQ(e,t,r,n){if(!n.isInline&&t==r&&e.doc.resolve(t).parent.content.size){let i=lQ(e.doc,t,n.type);i!=null&&(t=r=i)}e.replaceRange(t,r,new X(V.from(n),0,0))}function pQ(e,t,r){let n=e.doc.resolve(t),i=e.doc.resolve(r),o=JN(n,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return e.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return e.delete(n.before(s),i.after(s))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(t-n.start(a)==n.depth-a&&r>n.end(a)&&i.end(a)-r!=i.depth-a&&n.start(a-1)==i.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),i.index(a-1)))return e.delete(n.before(a),r);e.delete(t,r)}function JN(e,t){let r=[],n=Math.min(e.depth,t.depth);for(let i=n;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&r.push(i)}return r}class El extends cr{constructor(t,r,n){super(),this.pos=t,this.attr=r,this.value=n}apply(t){let r=t.nodeAt(this.pos);if(!r)return yt.fail("No node at attribute step's position");let n=Object.create(null);for(let o in r.attrs)n[o]=r.attrs[o];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return yt.fromReplace(t,this.pos,this.pos+1,new X(V.from(i),0,r.isLeaf?0:1))}getMap(){return Vr.empty}invert(t){return new El(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new El(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new El(r.pos,r.attr,r.value)}}cr.jsonID("attr",El);class rf extends cr{constructor(t,r){super(),this.attr=t,this.value=r}apply(t){let r=Object.create(null);for(let i in t.attrs)r[i]=t.attrs[i];r[this.attr]=this.value;let n=t.type.create(r,t.content,t.marks);return yt.ok(n)}getMap(){return Vr.empty}invert(t){return new rf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new rf(r.attr,r.value)}}cr.jsonID("docAttr",rf);let Bl=class extends Error{};Bl=function e(t){let r=Error.call(this,t);return r.__proto__=e.prototype,r};Bl.prototype=Object.create(Error.prototype);Bl.prototype.constructor=Bl;Bl.prototype.name="TransformError";let XN=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new tf}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new Bl(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,n=X.empty){let i=Hm(this.doc,t,r,n);return i&&this.step(i),this}replaceWith(t,r,n){return this.replace(t,r,new X(V.from(n),0,0))}delete(t,r){return this.replace(t,r,X.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,n){return dQ(this,t,r,n),this}replaceRangeWith(t,r,n){return hQ(this,t,r,n),this}deleteRange(t,r){return pQ(this,t,r),this}lift(t,r){return QX(this,t,r),this}join(t,r=1){return sQ(this,t,r),this}wrap(t,r){return tQ(this,t,r),this}setBlockType(t,r=t,n,i=null){return rQ(this,t,r,n,i),this}setNodeMarkup(t,r,n=null,i){return iQ(this,t,r,n,i),this}setNodeAttribute(t,r,n){return this.step(new El(t,r,n)),this}setDocAttribute(t,r){return this.step(new rf(t,r)),this}addNodeMark(t,r){return this.step(new Ro(t,r)),this}removeNodeMark(t,r){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(r instanceof Ve)r.isInSet(n.marks)&&this.step(new Za(t,r));else{let i=n.marks,o,a=[];for(;o=r.isInSet(i);)a.push(new Za(t,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,r=1,n){return oQ(this,t,r,n),this}addMark(t,r,n){return YX(this,t,r,n),this}removeMark(t,r,n){return JX(this,t,r,n),this}clearIncompatible(t,r,n){return hS(this,t,r,n),this}};const pb=Object.create(null);let xe=class{constructor(t,r,n){this.$anchor=t,this.$head=r,this.ranges=n||[new gQ(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=X.empty){let n=r.content.lastChild,i=null;for(let s=0;s<r.openEnd;s++)i=n,n=n.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),s?X.empty:r),s==0&&EE(t,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,r){let n=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=t.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,r),EE(t,n,r.isInline?-1:1))}}static findFrom(t,r,n=!1){let i=t.parent.inlineContent?new ve(t):ll(t.node(0),t.parent,t.pos,t.index(),r,n);if(i)return i;for(let o=t.depth-1;o>=0;o--){let a=r<0?ll(t.node(0),t.node(o),t.before(o+1),t.index(o),r,n):ll(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,r,n);if(a)return a}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new Jr(t.node(0))}static atStart(t){return ll(t,t,0,0,1)||new Jr(t)}static atEnd(t){return ll(t,t,t.content.size,t.childCount,-1)||new Jr(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=pb[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in pb)throw new RangeError("Duplicate use of selection JSON ID "+t);return pb[t]=r,r.prototype.jsonID=t,r}getBookmark(){return ve.between(this.$anchor,this.$head).getBookmark()}};xe.prototype.visible=!0;class gQ{constructor(t,r){this.$from=t,this.$to=r}}let TE=!1;function CE(e){!TE&&!e.parent.inlineContent&&(TE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ve extends xe{constructor(t,r=t){CE(t),CE(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let n=t.resolve(r.map(this.head));if(!n.parent.inlineContent)return xe.near(n);let i=t.resolve(r.map(this.anchor));return new ve(i.parent.inlineContent?i:n,n)}replace(t,r=X.empty){if(super.replace(t,r),r==X.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof ve&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Um(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ve(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,n=r){let i=t.resolve(r);return new this(i,n==r?i:t.resolve(n))}static between(t,r,n){let i=t.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let o=xe.findFrom(r,n,!0)||xe.findFrom(r,-n,!0);if(o)r=o.$head;else return xe.near(r,n)}return t.parent.inlineContent||(i==0?t=r:(t=(xe.findFrom(t,-n,!0)||xe.findFrom(t,n,!0)).$anchor,t.pos<r.pos!=i<0&&(t=r))),new ve(t,r)}}xe.jsonID("text",ve);class Um{constructor(t,r){this.anchor=t,this.head=r}map(t){return new Um(t.map(this.anchor),t.map(this.head))}resolve(t){return ve.between(t.resolve(this.anchor),t.resolve(this.head))}}class fe extends xe{constructor(t){let r=t.nodeAfter,n=t.node(0).resolve(t.pos+r.nodeSize);super(t,n),this.node=r}map(t,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),o=t.resolve(i);return n?xe.near(o):new fe(o)}content(){return new X(V.from(this.node),0,0)}eq(t){return t instanceof fe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new gS(this.anchor)}static fromJSON(t,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new fe(t.resolve(r.anchor))}static create(t,r){return new fe(t.resolve(r))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}fe.prototype.visible=!1;xe.jsonID("node",fe);class gS{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:n}=t.mapResult(this.anchor);return r?new Um(n,n):new gS(n)}resolve(t){let r=t.resolve(this.anchor),n=r.nodeAfter;return n&&fe.isSelectable(n)?new fe(r):xe.near(r)}}class Jr extends xe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=X.empty){if(r==X.empty){t.delete(0,t.doc.content.size);let n=xe.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new Jr(t)}map(t){return new Jr(t)}eq(t){return t instanceof Jr}getBookmark(){return mQ}}xe.jsonID("all",Jr);const mQ={map(){return this},resolve(e){return new Jr(e)}};function ll(e,t,r,n,i,o=!1){if(t.inlineContent)return ve.create(e,r);for(let a=n-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let s=t.child(a);if(s.isAtom){if(!o&&fe.isSelectable(s))return fe.create(e,r-(i<0?s.nodeSize:0))}else{let l=ll(e,s,r+i,i<0?s.childCount:0,i,o);if(l)return l}r+=s.nodeSize*i}return null}function EE(e,t,r){let n=e.steps.length-1;if(n<t)return;let i=e.steps[n];if(!(i instanceof Nt||i instanceof Bt))return;let o=e.mapping.maps[n],a;o.forEach((s,l,c,u)=>{a==null&&(a=u)}),e.setSelection(xe.near(e.doc.resolve(a),r))}const ME=1,Rd=2,AE=4;class vQ extends XN{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ME)&~Rd,this.storedMarks=null,this}get selectionSet(){return(this.updated&ME)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Rd,this}ensureMarks(t){return Ve.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Rd)>0}addStep(t,r){super.addStep(t,r),this.updated=this.updated&~Rd,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let n=this.selection;return r&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ve.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,n){let i=this.doc.type.schema;if(r==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!t)return this.deleteRange(r,n);let o=this.storedMarks;if(!o){let a=this.doc.resolve(r);o=n==r?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(t,o)),this.selection.empty||this.setSelection(xe.near(this.selection.$to)),this}}setMeta(t,r){return this.meta[typeof t=="string"?t:t.key]=r,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=AE,this}get scrolledIntoView(){return(this.updated&AE)>0}}function IE(e,t){return!t||!e?e:e.bind(t)}class du{constructor(t,r,n){this.name=t,this.init=IE(r.init,n),this.apply=IE(r.apply,n)}}const bQ=[new du("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new du("selection",{init(e,t){return e.selection||xe.atStart(t.doc)},apply(e){return e.selection}}),new du("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,r,n){return n.selection.$cursor?e.storedMarks:null}}),new du("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class gb{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=bQ.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new du(n.key,n.spec.state,n))})}}class vl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],n=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,u=l<r.length&&s.spec.appendTransaction.call(s,l?r.slice(l):r,c,n);if(u&&n.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),o=!0}i&&(i[a]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new vl(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];r[o.name]=o.apply(t,this[o.name],this,r)}return r}get tr(){return new vQ(this)}static create(t){let r=new gb(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new vl(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(t,n);return n}reconfigure(t){let r=new gb(this.schema,t.plugins),n=r.fields,i=new vl(r);for(let o=0;o<n.length;o++){let a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(t,i)}return i}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[n],o=i.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(i,this[i.key]))}return r}static fromJSON(t,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new gb(t.schema,t.plugins),o=new vl(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Ho.fromJSON(t.schema,r.doc);else if(a.name=="selection")o.selection=xe.fromJSON(o.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){o[a.name]=c.fromJSON.call(l,t,r[s],o);return}}o[a.name]=a.init(t,o)}}),o}}function QN(e,t,r){for(let n in e){let i=e[n];i instanceof Function?i=i.bind(t):n=="handleDOMEvents"&&(i=QN(i,t,{})),r[n]=i}return r}class st{constructor(t){this.spec=t,this.props={},t.props&&QN(t.props,this,this.props),this.key=t.key?t.key.key:ZN("plugin")}getState(t){return t[this.key]}}const mb=Object.create(null);function ZN(e){return e in mb?e+"$"+ ++mb[e]:(mb[e]=0,e+"$")}class Vt{constructor(t="key"){this.key=ZN(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const mS=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function eR(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("backward",e):r.parentOffset>0)?null:r}const tR=(e,t,r)=>{let n=eR(e,r);if(!n)return!1;let i=vS(n);if(!i){let a=n.blockRange(),s=a&&cc(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(uR(e,i,t,-1))return!0;if(n.parent.content.size==0&&(zl(o,"end")||fe.isSelectable(o)))for(let a=n.depth;;a--){let s=Hm(e.doc,n.before(a),n.after(a),X.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(zl(o,"end")?xe.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):fe.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return o.isAtom&&i.depth==n.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},yQ=(e,t,r)=>{let n=eR(e,r);if(!n)return!1;let i=vS(n);return i?rR(e,i,t):!1},$Q=(e,t,r)=>{let n=iR(e,r);if(!n)return!1;let i=bS(n);return i?rR(e,i,t):!1};function rR(e,t,r){let n=t.nodeBefore,i=n,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let u=s.firstChild;if(!u)return!1;s=u}let c=Hm(e.doc,o,l,X.empty);if(!c||c.from!=o||c instanceof Nt&&c.slice.size>=l-o)return!1;if(r){let u=e.tr.step(c);u.setSelection(ve.create(u.doc,o)),r(u.scrollIntoView())}return!0}function zl(e,t,r=!1){for(let n=e;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const nR=(e,t,r)=>{let{$head:n,empty:i}=e.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):n.parentOffset>0)return!1;o=vS(n)}let a=o&&o.nodeBefore;return!a||!fe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(fe.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function vS(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function iR(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)?null:r}const oR=(e,t,r)=>{let n=iR(e,r);if(!n)return!1;let i=bS(n);if(!i)return!1;let o=i.nodeAfter;if(uR(e,i,t,1))return!0;if(n.parent.content.size==0&&(zl(o,"start")||fe.isSelectable(o))){let a=Hm(e.doc,n.before(),n.after(),X.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=e.tr.step(a);s.setSelection(zl(o,"start")?xe.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):fe.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},aR=(e,t,r)=>{let{$head:n,empty:i}=e.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)return!1;o=bS(n)}let a=o&&o.nodeAfter;return!a||!fe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(fe.create(e.doc,o.pos)).scrollIntoView()),!0)};function bS(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}const wQ=(e,t)=>{let r=e.selection,n=r instanceof fe,i;if(n){if(r.node.isTextblock||!la(e.doc,r.from))return!1;i=r.from}else if(i=zm(e.doc,r.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);n&&o.setSelection(fe.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},xQ=(e,t)=>{let r=e.selection,n;if(r instanceof fe){if(r.node.isTextblock||!la(e.doc,r.to))return!1;n=r.to}else if(n=zm(e.doc,r.to,1),n==null)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},SQ=(e,t)=>{let{$from:r,$to:n}=e.selection,i=r.blockRange(n),o=i&&cc(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},sR=(e,t)=>{let{$head:r,$anchor:n}=e.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function yS(e){for(let t=0;t<e.edgeCount;t++){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const kQ=(e,t)=>{let{$head:r,$anchor:n}=e.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),o=r.indexAfter(-1),a=yS(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let s=r.after(),l=e.tr.replaceWith(s,s,a.createAndFill());l.setSelection(xe.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},lR=(e,t)=>{let r=e.selection,{$from:n,$to:i}=r;if(r instanceof Jr||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=yS(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(ve.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},cR=(e,t)=>{let{$cursor:r}=e.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let o=r.before();if(Yi(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let n=r.blockRange(),i=n&&cc(n);return i==null?!1:(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)};function OQ(e){return(t,r)=>{let{$from:n,$to:i}=t.selection;if(t.selection instanceof fe&&t.selection.node.isBlock)return!n.parentOffset||!Yi(t.doc,n.pos)?!1:(r&&r(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],a,s,l=!1,c=!1;for(let h=n.depth;;h--)if(n.node(h).isBlock){l=n.end(h)==n.pos+(n.depth-h),c=n.start(h)==n.pos-(n.depth-h),s=yS(n.node(h-1).contentMatchAt(n.indexAfter(h-1))),o.unshift(l&&s?{type:s}:null),a=h;break}else{if(h==1)return!1;o.unshift(null)}let u=t.tr;(t.selection instanceof ve||t.selection instanceof Jr)&&u.deleteSelection();let f=u.mapping.map(n.pos),d=Yi(u.doc,f,o.length,o);if(d||(o[0]=s?{type:s}:null,d=Yi(u.doc,f,o.length,o)),!d)return!1;if(u.split(f,o.length,o),!l&&c&&n.node(a).type!=s){let h=u.mapping.map(n.before(a)),p=u.doc.resolve(h);s&&n.node(a-1).canReplaceWith(p.index(),p.index()+1,s)&&u.setNodeMarkup(u.mapping.map(n.before(a)),s)}return r&&r(u.scrollIntoView()),!0}}const TQ=OQ(),CQ=(e,t)=>{let{$from:r,to:n}=e.selection,i,o=r.sharedDepth(n);return o==0?!1:(i=r.before(o),t&&t(e.tr.setSelection(fe.create(e.doc,i))),!0)};function EQ(e,t,r){let n=t.nodeBefore,i=t.nodeAfter,o=t.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(r&&r(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||la(e.doc,t.pos))?!1:(r&&r(e.tr.join(t.pos).scrollIntoView()),!0)}function uR(e,t,r,n){let i=t.nodeBefore,o=t.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&EQ(e,t,r))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(r){let h=t.pos+o.nodeSize,p=V.empty;for(let v=a.length-1;v>=0;v--)p=V.from(a[v].create(null,p));p=V.from(i.copy(p));let g=e.tr.step(new Bt(t.pos-1,h,t.pos,h,new X(p,1,0),a.length,!0)),m=g.doc.resolve(h+2*a.length);m.nodeAfter&&m.nodeAfter.type==i.type&&la(g.doc,m.pos)&&g.join(m.pos),r(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||n>0&&l?null:xe.findFrom(t,1),f=u&&u.$from.blockRange(u.$to),d=f&&cc(f);if(d!=null&&d>=t.depth)return r&&r(e.tr.lift(f,d).scrollIntoView()),!0;if(c&&zl(o,"start",!0)&&zl(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=o,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(r){let v=V.empty;for(let y=p.length-1;y>=0;y--)v=V.from(p[y].copy(v));let b=e.tr.step(new Bt(t.pos-p.length,t.pos+o.nodeSize,t.pos+m,t.pos+o.nodeSize-m,new X(v,p.length,0),0,!0));r(b.scrollIntoView())}return!0}}return!1}function fR(e){return function(t,r){let n=t.selection,i=e<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(r&&r(t.tr.setSelection(ve.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const MQ=fR(-1),AQ=fR(1);function IQ(e,t=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o),s=a&&pS(a,e,t);return s?(n&&n(r.tr.wrap(a,s).scrollIntoView()),!0):!1}}function PE(e,t=null){return function(r,n){let i=!1;for(let o=0;o<r.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=r.selection.ranges[o];r.doc.nodesBetween(a,s,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=r.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(n){let o=r.tr;for(let a=0;a<r.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=r.selection.ranges[a];o.setBlockType(s,l,e,t)}n(o.scrollIntoView())}return!0}}function $S(...e){return function(t,r,n){for(let i=0;i<e.length;i++)if(e[i](t,r,n))return!0;return!1}}$S(mS,tR,nR);$S(mS,oR,aR);$S(sR,lR,cR,TQ);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function PQ(e,t=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o);if(!a)return!1;let s=n?r.tr:null;return _Q(s,a,e,t)?(n&&n(s.scrollIntoView()),!0):!1}}function _Q(e,t,r,n=null){let i=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(r)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new Xp(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Xp(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let s=pS(o,r,n,t);return s?(e&&DQ(e,t,s,i,r),!0):!1}function DQ(e,t,r,n,i){let o=V.empty;for(let u=r.length-1;u>=0;u--)o=V.from(r[u].type.create(r[u].attrs,o));e.step(new Bt(t.start-(n?2:0),t.end,t.start,t.end,new X(o,0,0),r.length,!0));let a=0;for(let u=0;u<r.length;u++)r[u].type==i&&(a=u+1);let s=r.length-a,l=t.start+r.length-(n?2:0),c=t.parent;for(let u=t.startIndex,f=t.endIndex,d=!0;u<f;u++,d=!1)!d&&Yi(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(u).nodeSize;return e}function LQ(e){return function(t,r){let{$from:n,$to:i}=t.selection,o=n.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return o?r?n.node(o.depth-1).type==e?NQ(t,r,e,o):RQ(t,r,o):!0:!1}}function NQ(e,t,r,n){let i=e.tr,o=n.end,a=n.$to.end(n.depth);o<a&&(i.step(new Bt(o-1,a,o,a,new X(V.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Xp(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth));const s=cc(n);if(s==null)return!1;i.lift(n,s);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return la(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function RQ(e,t,r){let n=e.tr,i=r.parent;for(let h=r.end,p=r.endIndex-1,g=r.startIndex;p>g;p--)h-=i.child(p).nodeSize,n.delete(h-1,h+1);let o=n.doc.resolve(r.start),a=o.nodeAfter;if(n.mapping.map(r.end)!=r.start+o.nodeAfter.nodeSize)return!1;let s=r.startIndex==0,l=r.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?V.empty:V.from(i))))return!1;let f=o.pos,d=f+a.nodeSize;return n.step(new Bt(f-(s?1:0),d+(l?1:0),f+1,d-1,new X((s?V.empty:V.from(i.copy(V.empty))).append(l?V.empty:V.from(i.copy(V.empty))),s?0:1,l?0:1),s?0:1)),t(n.scrollIntoView()),!0}function FQ(e){return function(t,r){let{$from:n,$to:i}=t.selection,o=n.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(r){let c=l.lastChild&&l.lastChild.type==s.type,u=V.from(c?e.create():null),f=new X(V.from(e.create(null,V.from(s.type.create(null,u)))),c?3:1,0),d=o.start,h=o.end;r(t.tr.step(new Bt(d-(c?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}const qt=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Hl=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let bw=null;const ji=function(e,t,r){let n=bw||(bw=document.createRange());return n.setEnd(e,r??e.nodeValue.length),n.setStart(e,t||0),n},jQ=function(){bw=null},es=function(e,t,r,n){return r&&(_E(e,t,r,n,-1)||_E(e,t,r,n,1))},BQ=/^(img|br|input|textarea|hr)$/i;function _E(e,t,r,n,i){for(var o;;){if(e==r&&t==n)return!0;if(t==(i<0?0:dn(e))){let a=e.parentNode;if(!a||a.nodeType!=1||Rf(e)||BQ.test(e.nodeName)||e.contentEditable=="false")return!1;t=qt(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?dn(e):0}else return!1}}function dn(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function zQ(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=dn(e)}else if(e.parentNode&&!Rf(e))t=qt(e),e=e.parentNode;else return null}}function HQ(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Rf(e))t=qt(e)+1,e=e.parentNode;else return null}}function UQ(e,t,r){for(let n=t==0,i=t==dn(e);n||i;){if(e==r)return!0;let o=qt(e);if(e=e.parentNode,!e)return!1;n=n&&o==0,i=i&&o==dn(e)}}function Rf(e){let t;for(let r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Vm=function(e){return e.focusNode&&es(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Pa(e,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function VQ(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function WQ(e,t,r){if(e.caretPositionFromPoint)try{let n=e.caretPositionFromPoint(t,r);if(n)return{node:n.offsetNode,offset:Math.min(dn(n.offsetNode),n.offset)}}catch{}if(e.caretRangeFromPoint){let n=e.caretRangeFromPoint(t,r);if(n)return{node:n.startContainer,offset:Math.min(dn(n.startContainer),n.startOffset)}}}const hi=typeof navigator<"u"?navigator:null,DE=typeof document<"u"?document:null,ca=hi&&hi.userAgent||"",yw=/Edge\/(\d+)/.exec(ca),dR=/MSIE \d/.exec(ca),$w=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ca),Pr=!!(dR||$w||yw),Vo=dR?document.documentMode:$w?+$w[1]:yw?+yw[1]:0,gn=!Pr&&/gecko\/(\d+)/i.test(ca);gn&&+(/Firefox\/(\d+)/.exec(ca)||[0,0])[1];const ww=!Pr&&/Chrome\/(\d+)/.exec(ca),nr=!!ww,hR=ww?+ww[1]:0,pr=!Pr&&!!hi&&/Apple Computer/.test(hi.vendor),Ul=pr&&(/Mobile\/\w+/.test(ca)||!!hi&&hi.maxTouchPoints>2),un=Ul||(hi?/Mac/.test(hi.platform):!1),KQ=hi?/Win/.test(hi.platform):!1,Hi=/Android \d/.test(ca),Ff=!!DE&&"webkitFontSmoothing"in DE.documentElement.style,GQ=Ff?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function qQ(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ii(e,t){return typeof e=="number"?e:e[t]}function YQ(e){let t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*n}}function LE(e,t,r){let n=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=r||e.dom;a;){if(a.nodeType!=1){a=Hl(a);continue}let s=a,l=s==o.body,c=l?qQ(o):YQ(s),u=0,f=0;if(t.top<c.top+Ii(n,"top")?f=-(c.top-t.top+Ii(i,"top")):t.bottom>c.bottom-Ii(n,"bottom")&&(f=t.bottom-t.top>c.bottom-c.top?t.top+Ii(i,"top")-c.top:t.bottom-c.bottom+Ii(i,"bottom")),t.left<c.left+Ii(n,"left")?u=-(c.left-t.left+Ii(i,"left")):t.right>c.right-Ii(n,"right")&&(u=t.right-c.right+Ii(i,"right")),u||f)if(l)o.defaultView.scrollBy(u,f);else{let h=s.scrollLeft,p=s.scrollTop;f&&(s.scrollTop+=f),u&&(s.scrollLeft+=u);let g=s.scrollLeft-h,m=s.scrollTop-p;t={left:t.left-g,top:t.top-m,right:t.right-g,bottom:t.bottom-m}}let d=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(d))break;a=d=="absolute"?a.offsetParent:Hl(a)}}function JQ(e){let t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),n,i;for(let o=(t.left+t.right)/2,a=r+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=e.root.elementFromPoint(o,a);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:pR(e.dom)}}function pR(e){let t=[],r=e.ownerDocument;for(let n=e;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),e!=r);n=Hl(n));return t}function XQ({refDOM:e,refTop:t,stack:r}){let n=e?e.getBoundingClientRect().top:0;gR(r,n==0?0:n-t)}function gR(e,t){for(let r=0;r<e.length;r++){let{dom:n,top:i,left:o}=e[r];n.scrollTop!=i+t&&(n.scrollTop=i+t),n.scrollLeft!=o&&(n.scrollLeft=o)}}let Ks=null;function QQ(e){if(e.setActive)return e.setActive();if(Ks)return e.focus(Ks);let t=pR(e);e.focus(Ks==null?{get preventScroll(){return Ks={preventScroll:!0},!0}}:void 0),Ks||(Ks=!1,gR(t,0))}function mR(e,t){let r,n=2e8,i,o=0,a=t.top,s=t.top,l,c;for(let u=e.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=ji(u).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);let g=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(g<n){r=u,n=g,i=g&&r.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&g&&(o=f+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!l&&p.left<=t.left&&p.right>=t.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!r&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=f+1)}}return!r&&l&&(r=l,i=c,n=0),r&&r.nodeType==3?ZQ(r,i):!r||n&&r.nodeType==1?{node:e,offset:o}:mR(r,i)}function ZQ(e,t){let r=e.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(e,i+1),n.setStart(e,i);let o=So(n,1);if(o.top!=o.bottom&&wS(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function wS(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function eZ(e,t){let r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function tZ(e,t,r){let{node:n,offset:i}=mR(t,r),o=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();o=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(n,i,o)}function rZ(e,t,r,n){let i=-1;for(let o=t,a=!1;o!=e.dom;){let s=e.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>n.left||l.top>n.top?i=s.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,r,-1)}function vR(e,t,r){let n=e.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-r.top)/(r.bottom-r.top))-2)),o=i;;){let a=e.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(wS(t,c))return vR(a,t,c)}}if((o=(o+1)%n)==i)break}return e}function nZ(e,t){let r=e.dom.ownerDocument,n,i=0,o=WQ(r,t.left,t.top);o&&({node:n,offset:i}=o);let a=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top),s;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=e.dom.getBoundingClientRect();if(!wS(t,c)||(a=vR(e.dom,t,c),!a))return null}if(pr)for(let c=a;n&&c;c=Hl(c))c.draggable&&(n=void 0);if(a=eZ(a,t),n){if(gn&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let u=n.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let c;Ff&&i&&n.nodeType==1&&(c=n.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,n==e.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(s=rZ(e,n,i,t))}s==null&&(s=tZ(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function NE(e){return e.top<e.bottom||e.left<e.right}function So(e,t){let r=e.getClientRects();if(r.length){let n=r[t<0?0:r.length-1];if(NE(n))return n}return Array.prototype.find.call(r,NE)||e.getBoundingClientRect()}const iZ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function bR(e,t,r){let{node:n,offset:i,atom:o}=e.docView.domFromPos(t,r<0?-1:1),a=Ff||gn;if(n.nodeType==3)if(a&&(iZ.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=So(ji(n,i,i),r);if(gn&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let c=So(ji(n,i-1,i-1),-1);if(c.top==l.top){let u=So(ji(n,i,i+1),-1);if(u.top!=l.top)return Pc(u,u.left<c.left)}}return l}else{let l=i,c=i,u=r<0?1:-1;return r<0&&!i?(c++,u=-1):r>=0&&i==n.nodeValue.length?(l--,u=1):r<0?l--:c++,Pc(So(ji(n,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(r<0||i==dn(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return vb(l.getBoundingClientRect(),!1)}if(o==null&&i<dn(n)){let l=n.childNodes[i];if(l.nodeType==1)return vb(l.getBoundingClientRect(),!0)}return vb(n.getBoundingClientRect(),r>=0)}if(o==null&&i&&(r<0||i==dn(n))){let l=n.childNodes[i-1],c=l.nodeType==3?ji(l,dn(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Pc(So(c,1),!1)}if(o==null&&i<dn(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ji(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return Pc(So(c,-1),!0)}return Pc(So(n.nodeType==3?ji(n):n,-r),r>=0)}function Pc(e,t){if(e.width==0)return e;let r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function vb(e,t){if(e.height==0)return e;let r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function yR(e,t,r){let n=e.state,i=e.root.activeElement;n!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return r()}finally{n!=t&&e.updateState(n),i!=e.dom&&i&&i.focus()}}function oZ(e,t,r){let n=t.selection,i=r=="up"?n.$from:n.$to;return yR(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=bR(e,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=ji(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(r=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}const aZ=/[\u0590-\u08ac]/;function sZ(e,t,r){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,a=i==n.parent.content.size,s=e.domSelection();return s?!aZ.test(n.parent.textContent)||!s.modify?r=="left"||r=="backward"?o:a:yR(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=e.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",r,"character");let h=n.depth?e.docView.domAfterPos(n.before()):e.dom,{focusNode:p,focusOffset:g}=e.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{s.collapse(u,f),l&&(l!=u||c!=f)&&s.extend&&s.extend(l,c)}catch{}return d!=null&&(s.caretBidiLevel=d),m}):n.pos==n.start()||n.pos==n.end()}let RE=null,FE=null,jE=!1;function lZ(e,t,r){return RE==t&&FE==r?jE:(RE=t,FE=r,jE=r=="up"||r=="down"?oZ(e,t,r):sZ(e,t,r))}const mn=0,BE=1,Na=2,pi=3;class jf{constructor(t,r,n,i){this.parent=t,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=mn,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==t)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let o,a;if(t==this.contentDOM)o=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=r>qt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&r==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let n=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!r||o.node))if(n&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))n=!1;else return o}}getDesc(t){let r=t.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(t,r,n){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,r,n)}return-1}descAt(t){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==t&&o!=n){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(t<o)return i.descAt(t-n-i.border);n=o}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,i=0;for(let o=0;n<this.children.length;n++){let a=this.children[n],s=o+a.size;if(s>t||a instanceof wR){i=t-o;break}o=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof $R&&o.side>=0;n--);if(r<=0){let o,a=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,a=!1);return o&&r&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,r):{node:this.contentDOM,offset:o?qt(o.dom)+1:0}}else{let o,a=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,r):{node:this.contentDOM,offset:o?qt(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=n,s=0;;s++){let l=this.children[s],c=a+l.size;if(i==-1&&t<=c){let u=a+l.border;if(t>=u&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,r,u);t=a;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=qt(d.dom)+1;break}t-=d.size}i==-1&&(i=0)}if(i>-1&&(c>r||s==this.children.length-1)){r=c;for(let u=s+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=qt(f.dom);break}r+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:r,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:n}=this.domFromPos(t,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n]}setSelection(t,r,n,i=!1){let o=Math.min(t,r),a=Math.max(t,r);for(let h=0,p=0;h<this.children.length;h++){let g=this.children[h],m=p+g.size;if(o>p&&a<m)return g.setSelection(t-p-g.border,r-p-g.border,n,i);p=m}let s=this.domFromPos(t,t?-1:1),l=r==t?s:this.domFromPos(r,r?-1:1),c=n.root.getSelection(),u=n.domSelectionRange(),f=!1;if((gn||pr)&&t==r){let{node:h,offset:p}=s;if(h.nodeType==3){if(f=!!(p&&h.nodeValue[p-1]==`
`),f&&p==h.nodeValue.length)for(let g=h,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(s=l={node:m.parentNode,offset:qt(m)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=h.childNodes[p-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(gn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||f&&pr)&&es(s.node,s.offset,u.anchorNode,u.anchorOffset)&&es(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((c.extend||t==r)&&!(f&&gn)){c.collapse(s.node,s.offset);try{t!=r&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(t>r){let p=s;s=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let n=0,i=0;i<this.children.length;i++){let o=this.children[i],a=n+o.size;if(n==a?t<=a&&r>=n:t<a&&r>n){let s=n+o.border,l=a-o.border;if(t>=s&&r<=l){this.dirty=t==n||r==a?Na:BE,t==s&&r==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=pi:o.markDirty(t-s,r-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Na:pi}n=a}this.dirty=Na}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let n=t==1?Na:BE;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class $R extends jf{constructor(t,r,n,i){let o,a=r.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!r.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=r,this.widget=r,o=this}matchesWidget(t){return this.dirty==mn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return r?r(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class cZ extends jf{constructor(t,r,n,i){super(t,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class ts extends jf{constructor(t,r,n,i,o){super(t,[],n,i),this.mark=r,this.spec=o}static create(t,r,n,i){let o=i.nodeViews[r.type.name],a=o&&o(r,i,n);return(!a||!a.dom)&&(a=xs.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new ts(t,r,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&pi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=pi&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),this.dirty!=mn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=mn}}slice(t,r,n){let i=ts.create(this.parent,this.mark,!0,n),o=this.children,a=this.size;r<a&&(o=Sw(o,r,a,n)),t>0&&(o=Sw(o,0,t,n));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Wo extends jf{constructor(t,r,n,i,o,a,s,l,c){super(t,[],o,a),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(t,r,n,i,o,a){let s=o.nodeViews[r.type.name],l,c=s&&s(r,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),u=c&&c.dom,f=c&&c.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=xs.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!f&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let d=u;return u=kR(u,n,r),c?l=new uZ(t,r,n,i,u,f||null,d,c,o,a+1):r.isText?new Wm(t,r,n,i,u,d,o):new Wo(t,r,n,i,u,f||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>V.empty)}return t}matchesNode(t,r,n){return this.dirty==mn&&t.eq(this.node)&&Zp(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let n=this.node.inlineContent,i=r,o=t.composing?this.localCompositionInfo(t,r):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new dZ(this,a&&a.node,t);gZ(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,t):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?Ve.none:this.node.child(u).marks,n,t),l.placeWidget(c,t,i)},(c,u,f,d)=>{l.syncToMarks(c.marks,n,t);let h;l.findNodeMatch(c,u,f,d)||s&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,f,h,t)||l.updateNextNode(c,u,f,t,d,i)||l.addNode(c,u,f,t,i),i+=c.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Na)&&(a&&this.protectLocalComposition(t,a),xR(this.contentDOM,this.children,t),Ul&&mZ(this.dom))}localCompositionInfo(t,r){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof ve)||n<r||i>r+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=vZ(this.node.content,a,n-r,i-r);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let o=r;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new cZ(this,o,r,i);t.input.compositionNodes.push(a),this.children=Sw(this.children,n,n+i.length,t,a)}update(t,r,n,i){return this.dirty==pi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,r,n,i),!0)}updateInner(t,r,n,i){this.updateOuterDeco(r),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=mn}updateOuterDeco(t){if(Zp(t,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=SR(this.dom,this.nodeDOM,xw(this.outerDeco,this.node,r),xw(t,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function zE(e,t,r,n,i){kR(n,t,e);let o=new Wo(void 0,e,t,r,n,n,n,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Wm extends Wo{constructor(t,r,n,i,o,a,s){super(t,r,n,i,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,n,i){return this.dirty==pi||this.dirty!=mn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=mn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=mn,!0)}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,n){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,r,n){let i=this.node.cut(t,r),o=document.createTextNode(i.text);return new Wm(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(t==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=pi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class wR extends jf{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==mn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class uZ extends Wo{constructor(t,r,n,i,o,a,s,l,c,u){super(t,r,n,i,o,a,s,c,u),this.spec=l}update(t,r,n,i){if(this.dirty==pi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,r,n);return o&&this.updateInner(t,r,n,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,n,i){this.spec.setSelection?this.spec.setSelection(t,r,n.root):super.setSelection(t,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function xR(e,t,r){let n=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=n;)n=HE(n),i=!0;n=n.nextSibling}else i=!0,e.insertBefore(s,n);if(a instanceof ts){let l=n?n.previousSibling:e.lastChild;xR(a.contentDOM,a.children,r),n=l?l.nextSibling:e.firstChild}}for(;n;)n=HE(n),i=!0;i&&r.trackWrites==e&&(r.trackWrites=null)}const Eu=function(e){e&&(this.nodeName=e)};Eu.prototype=Object.create(null);const Ra=[new Eu];function xw(e,t,r){if(e.length==0)return Ra;let n=r?Ra[0]:new Eu,i=[n];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(n=new Eu(a.nodeName));for(let s in a){let l=a[s];l!=null&&(r&&i.length==1&&i.push(n=new Eu(t.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function SR(e,t,r,n){if(r==Ra&&n==Ra)return t;let i=t;for(let o=0;o<n.length;o++){let a=n[o],s=r[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Ra[0]),i=l}fZ(i,s||Ra[0],a)}return i}function fZ(e,t,r){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&e.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=t[n]&&e.setAttribute(n,r[n]);if(t.class!=r.class){let n=t.class?t.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)i.indexOf(n[o])==-1&&e.classList.remove(n[o]);for(let o=0;o<i.length;o++)n.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(t.style);)e.style.removeProperty(i[1])}r.style&&(e.style.cssText+=r.style)}}function kR(e,t,r){return SR(e,e,Ra,xw(t,r,e.nodeType!=1))}function Zp(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function HE(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class dZ{constructor(t,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=hZ(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let n=t;n<r;n++)this.top.children[n].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,n){let i=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=mn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=ts.create(this.top,t[o],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,r,n,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,r,n))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(t,r,n)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,r,n,i,o){let a=this.top.children[i];return a.dirty==pi&&a.dom==a.contentDOM&&(a.dirty=Na),a.update(t,r,n,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}t=r}}updateNextNode(t,r,n,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Wo){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,f,d=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=pi&&Zp(r,l.outerDeco));if(!d&&l.update(t,r,n,i))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(l,t,r,n,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Na,f.updateChildren(i,a+1),f.dirty=mn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,n,i,o,a){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content)||!Zp(n,t.outerDeco)||!i.eq(t.innerDeco))return null;let s=Wo.create(this.top,r,n,i,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,r,n,i,o){let a=Wo.create(this.top,t,r,n,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new $R(this.top,t,r,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof ts;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof Wm)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((pr||nr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new wR(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function hZ(e,t){let r=t,n=r.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(n){let c=r.children[n-1];if(c instanceof ts)r=c,n=c.children.length;else{s=c,n--;break}}else{if(r==t)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function pZ(e,t){return e.type.side-t.type.side}function gZ(e,t,r,n){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);n(u,i,t.forChild(o,u),c),o+=u.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,f;for(;a<i.length&&i[a].to==o;){let m=i[a++];m.widget&&(u?(f||(f=[u])).push(m):u=m)}if(u)if(f){f.sort(pZ);for(let m=0;m<f.length;m++)r(f[m],c,!!l)}else r(u,c,!!l);let d,h;if(l)h=-1,d=l,l=null;else if(c<e.childCount)h=c,d=e.child(c++);else break;for(let m=0;m<s.length;m++)s[m].to<=o&&s.splice(m--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let p=o+d.nodeSize;if(d.isText){let m=p;a<i.length&&i[a].from<m&&(m=i[a].from);for(let v=0;v<s.length;v++)s[v].to<m&&(m=s[v].to);m<p&&(l=d.cut(m-o),d=d.cut(0,m-o),p=m,h=-1)}else for(;a<i.length&&i[a].to<p;)a++;let g=d.isInline&&!d.isLeaf?s.filter(m=>!m.inline):s.slice();n(d,g,t.forChild(o,d),h),o=p}}function mZ(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function vZ(e,t,r,n){for(let i=0,o=0;i<e.childCount&&o<=n;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=r){if(o>=n&&l.slice(n-t.length-s,n-s)==t)return n-t.length;let c=s<n?l.lastIndexOf(t,n-s-1):-1;if(c>=0&&c+t.length+s>=r)return s+c;if(r==n&&l.length>=n+t.length-s&&l.slice(n-s,n-s+t.length)==t)return n}}return-1}function Sw(e,t,r,n,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=r||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,n)),i&&(o.push(i),i=void 0),u>r&&o.push(l.slice(r-c,l.size,n)))}return o}function xS(e,t=null){let r=e.domSelectionRange(),n=e.state.doc;if(!r.focusNode)return null;let i=e.docView.nearestDesc(r.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let s=n.resolve(a),l,c;if(Vm(r)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&fe.isSelectable(f)&&i.parent&&!(f.isInline&&UQ(r.focusNode,r.focusOffset,i.dom))){let d=i.posBefore;c=new fe(a==d?s:n.resolve(d))}}else{if(r instanceof e.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let f=a,d=a;for(let h=0;h<r.rangeCount;h++){let p=r.getRangeAt(h);f=Math.min(f,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),d=Math.max(d,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(f<0)return null;[l,a]=d==e.state.selection.anchor?[d,f]:[f,d],s=n.resolve(a)}else l=e.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let u=n.resolve(l);if(!c){let f=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;c=SS(e,u,s,f)}return c}function OR(e){return e.editable?e.hasFocus():CR(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ji(e,t=!1){let r=e.state.selection;if(TR(e,r),!!OR(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&nr){let n=e.domSelectionRange(),i=e.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&es(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)yZ(e);else{let{anchor:n,head:i}=r,o,a;UE&&!(r instanceof ve)&&(r.$from.parent.inlineContent||(o=VE(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=VE(e,r.to))),e.docView.setSelection(n,i,e,t),UE&&(o&&WE(o),a&&WE(a)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&bZ(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const UE=pr||nr&&hR<63;function VE(e,t){let{node:r,offset:n}=e.docView.domFromPos(t,0),i=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(pr&&i&&i.contentEditable=="false")return bb(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return bb(i);if(o)return bb(o)}}function bb(e){return e.contentEditable="true",pr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function WE(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function bZ(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let r=e.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!OR(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function yZ(e){let t=e.domSelection();if(!t)return;let r=e.cursorWrapper.dom,n=r.nodeName=="IMG";n?t.collapse(r.parentNode,qt(r)+1):t.collapse(r,0),!n&&!e.state.selection.visible&&Pr&&Vo<=11&&(r.disabled=!0,r.disabled=!1)}function TR(e,t){if(t instanceof fe){let r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(KE(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else KE(e)}function KE(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function SS(e,t,r,n){return e.someProp("createSelectionBetween",i=>i(e,t,r))||ve.between(t,r,n)}function GE(e){return e.editable&&!e.hasFocus()?!1:CR(e)}function CR(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function $Z(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.domSelectionRange();return es(t.node,t.offset,r.anchorNode,r.anchorOffset)}function kw(e,t){let{$anchor:r,$head:n}=e.selection,i=t>0?r.max(n):r.min(n),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&xe.findFrom(o,t)}function ko(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function qE(e,t,r){let n=e.state.selection;if(n instanceof ve)if(r.indexOf("s")>-1){let{$head:i}=n,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return ko(e,new ve(n.$anchor,a))}else if(n.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=kw(e.state,t);return i&&i instanceof fe?ko(e,i):!1}else if(!(un&&r.indexOf("m")>-1)){let i=n.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM?fe.isSelectable(o)?ko(e,new fe(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):Ff?ko(e,new ve(e.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof fe&&n.node.isInline)return ko(e,new ve(t>0?n.$to:n.$from));{let i=kw(e.state,t);return i?ko(e,i):!1}}}function eg(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Mu(e,t){let r=e.pmViewDesc;return r&&r.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Gs(e,t){return t<0?wZ(e):xZ(e)}function wZ(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let i,o,a=!1;for(gn&&r.nodeType==1&&n<eg(r)&&Mu(r.childNodes[n],-1)&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let s=r.childNodes[n-1];if(Mu(s,-1))i=r,o=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}}else{if(ER(r))break;{let s=r.previousSibling;for(;s&&Mu(s,-1);)i=r.parentNode,o=qt(s),s=s.previousSibling;if(s)r=s,n=eg(r);else{if(r=r.parentNode,r==e.dom)break;n=0}}}a?Ow(e,r,n):i&&Ow(e,i,o)}function xZ(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let i=eg(r),o,a;for(;;)if(n<i){if(r.nodeType!=1)break;let s=r.childNodes[n];if(Mu(s,1))o=r,a=++n;else break}else{if(ER(r))break;{let s=r.nextSibling;for(;s&&Mu(s,1);)o=s.parentNode,a=qt(s)+1,s=s.nextSibling;if(s)r=s,n=0,i=eg(r);else{if(r=r.parentNode,r==e.dom)break;n=i=0}}}o&&Ow(e,o,a)}function ER(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function SZ(e,t){for(;e&&t==e.childNodes.length&&!Rf(e);)t=qt(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let r=e.childNodes[t];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=0}}function kZ(e,t){for(;e&&!t&&!Rf(e);)t=qt(e),e=e.parentNode;for(;e&&t;){let r=e.childNodes[t-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=e.childNodes.length}}function Ow(e,t,r){if(t.nodeType!=3){let o,a;(a=SZ(t,r))?(t=a,r=0):(o=kZ(t,r))&&(t=o,r=o.nodeValue.length)}let n=e.domSelection();if(!n)return;if(Vm(n)){let o=document.createRange();o.setEnd(t,r),o.setStart(t,r),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(t,r);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Ji(e)},50)}function YE(e,t){let r=e.state.doc.resolve(t);if(!(nr||KQ)&&r.parent.inlineContent){let i=e.coordsAtPos(t);if(t>r.start()){let o=e.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<r.end()){let o=e.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function JE(e,t,r){let n=e.state.selection;if(n instanceof ve&&!n.empty||r.indexOf("s")>-1||un&&r.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=kw(e.state,t);if(a&&a instanceof fe)return ko(e,a)}if(!i.parent.inlineContent){let a=t<0?i:o,s=n instanceof Jr?xe.near(a,t):xe.findFrom(a,t);return s?ko(e,s):!1}return!1}function XE(e,t){if(!(e.state.selection instanceof ve))return!0;let{$head:r,$anchor:n,empty:i}=e.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let a=e.state.tr;return t<0?a.delete(r.pos-o.nodeSize,r.pos):a.delete(r.pos,r.pos+o.nodeSize),e.dispatch(a),!0}return!1}function QE(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function OZ(e){if(!pr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(t&&t.nodeType==1&&r==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;QE(e,n,"true"),setTimeout(()=>QE(e,n,"false"),20)}return!1}function TZ(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function CZ(e,t){let r=t.keyCode,n=TZ(t);if(r==8||un&&r==72&&n=="c")return XE(e,-1)||Gs(e,-1);if(r==46&&!t.shiftKey||un&&r==68&&n=="c")return XE(e,1)||Gs(e,1);if(r==13||r==27)return!0;if(r==37||un&&r==66&&n=="c"){let i=r==37?YE(e,e.state.selection.from)=="ltr"?-1:1:-1;return qE(e,i,n)||Gs(e,i)}else if(r==39||un&&r==70&&n=="c"){let i=r==39?YE(e,e.state.selection.from)=="ltr"?1:-1:1;return qE(e,i,n)||Gs(e,i)}else{if(r==38||un&&r==80&&n=="c")return JE(e,-1,n)||Gs(e,-1);if(r==40||un&&r==78&&n=="c")return OZ(e)||JE(e,1,n)||Gs(e,1);if(n==(un?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function kS(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let r=[],{content:n,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;let h=n.firstChild;r.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let a=e.someProp("clipboardSerializer")||xs.fromSchema(e.state.schema),s=DR(),l=s.createElement("div");l.appendChild(a.serializeFragment(n,{document:s}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=_R[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=s.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(r)}`);let d=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:d,slice:t}}function MR(e,t,r,n,i){let o=i.parent.type.spec.code,a,s;if(!r&&!t)return null;let l=!!t&&(n||o||!r);if(l){if(e.someProp("transformPastedText",d=>{t=d(t,o||n,e)}),o)return s=new X(V.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",d=>{s=d(s,e,!0)}),s;let f=e.someProp("clipboardTextParser",d=>d(t,i,n,e));if(f)s=f;else{let d=i.marks(),{schema:h}=e.state,p=xs.fromSchema(h);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=a.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(h.text(g,d)))})}}else e.someProp("transformPastedHTML",f=>{r=f(r,e)}),a=IZ(r),Ff&&PZ(a);let c=a&&a.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let d=a.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;a=d}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||Uo.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!EZ.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)s=_Z(ZE(s,+u[1],+u[2]),u[4]);else if(s=X.maxOpen(MZ(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let h=s.content.firstChild;f<s.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=s.content.lastChild;d<s.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);s=ZE(s,f,d)}return e.someProp("transformPasted",f=>{s=f(s,e,l)}),s}const EZ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function MZ(e,t){if(e.childCount<2)return e;for(let r=t.depth;r>=0;r--){let i=t.node(r).contentMatchAt(t.index(r)),o,a=[];if(e.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&IR(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=PR(a[a.length-1],o.length));let u=AR(s,l);a.push(u),i=i.matchType(u.type),o=l}}),a)return V.from(a)}return e}function AR(e,t,r=0){for(let n=t.length-1;n>=r;n--)e=t[n].create(null,V.from(e));return e}function IR(e,t,r,n,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=IR(e,t,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==e.length-1?r.type:e[i+1]))return n.copy(n.content.append(V.from(AR(r,e,i+1))))}}function PR(e,t){if(t==0)return e;let r=e.content.replaceChild(e.childCount-1,PR(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(V.empty,!0);return e.copy(r.append(n))}function Tw(e,t,r,n,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<n-1&&(s=Tw(s,t,r,n,i+1,o)),i>=r&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(V.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function ZE(e,t,r){return t<e.openStart&&(e=new X(Tw(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new X(Tw(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}const _R={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let eM=null;function DR(){return eM||(eM=document.implementation.createHTMLDocument("title"))}let yb=null;function AZ(e){let t=window.trustedTypes;return t?(yb||(yb=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),yb.createHTML(e)):e}function IZ(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let r=DR().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),i;if((i=n&&_R[n[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),r.innerHTML=AZ(e),i)for(let o=0;o<i.length;o++)r=r.querySelector(i[o])||r;return r}function PZ(e){let t=e.querySelectorAll(nr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let n=t[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function _Z(e,t){if(!e.size)return e;let r=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:a}=e;for(let s=n.length-2;s>=0;s-=2){let l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=V.from(l.create(n[s+1],i)),o++,a++}return new X(i,o,a)}const gr={},mr={},DZ={touchstart:!0,touchmove:!0};class LZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function NZ(e){for(let t in gr){let r=gr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=n=>{FZ(e,n)&&!OS(e,n)&&(e.editable||!(n.type in mr))&&r(e,n)},DZ[t]?{passive:!0}:void 0)}pr&&e.dom.addEventListener("input",()=>null),Cw(e)}function Fo(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function RZ(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Cw(e){e.someProp("handleDOMEvents",t=>{for(let r in t)e.input.eventHandlers[r]||e.dom.addEventListener(r,e.input.eventHandlers[r]=n=>OS(e,n))})}function OS(e,t){return e.someProp("handleDOMEvents",r=>{let n=r[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function FZ(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function jZ(e,t){!OS(e,t)&&gr[t.type]&&(e.editable||!(t.type in mr))&&gr[t.type](e,t)}mr.keydown=(e,t)=>{let r=t;if(e.input.shiftKey=r.keyCode==16||r.shiftKey,!NR(e,r)&&(e.input.lastKeyCode=r.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Hi&&nr&&r.keyCode==13)))if(r.keyCode!=229&&e.domObserver.forceFlush(),Ul&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();e.input.lastIOSEnter=n,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==n&&(e.someProp("handleKeyDown",i=>i(e,Pa(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",n=>n(e,r))||CZ(e,r)?r.preventDefault():Fo(e,"key")};mr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};mr.keypress=(e,t)=>{let r=t;if(NR(e,r)||!r.charCode||r.ctrlKey&&!r.altKey||un&&r.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,r))){r.preventDefault();return}let n=e.state.selection;if(!(n instanceof ve)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,n.$from.pos,n.$to.pos,i,o))&&e.dispatch(o()),r.preventDefault()}};function Km(e){return{left:e.clientX,top:e.clientY}}function BZ(e,t){let r=t.x-e.clientX,n=t.y-e.clientY;return r*r+n*n<100}function TS(e,t,r,n,i){if(n==-1)return!1;let o=e.state.doc.resolve(n);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,s=>a>o.depth?s(e,r,o.nodeAfter,o.before(a),i,!0):s(e,r,o.node(a),o.before(a),i,!1)))return!0;return!1}function Ml(e,t,r){if(e.focused||e.focus(),e.state.selection.eq(t))return;let n=e.state.tr.setSelection(t);n.setMeta("pointer",!0),e.dispatch(n)}function zZ(e,t){if(t==-1)return!1;let r=e.state.doc.resolve(t),n=r.nodeAfter;return n&&n.isAtom&&fe.isSelectable(n)?(Ml(e,new fe(r)),!0):!1}function HZ(e,t){if(t==-1)return!1;let r=e.state.selection,n,i;r instanceof fe&&(n=r.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(fe.isSelectable(s)){n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?i=o.before(r.$from.depth):i=o.before(a);break}}return i!=null?(Ml(e,fe.create(e.state.doc,i)),!0):!1}function UZ(e,t,r,n,i){return TS(e,"handleClickOn",t,r,n)||e.someProp("handleClick",o=>o(e,t,n))||(i?HZ(e,r):zZ(e,r))}function VZ(e,t,r,n){return TS(e,"handleDoubleClickOn",t,r,n)||e.someProp("handleDoubleClick",i=>i(e,t,n))}function WZ(e,t,r,n){return TS(e,"handleTripleClickOn",t,r,n)||e.someProp("handleTripleClick",i=>i(e,t,n))||KZ(e,r,n)}function KZ(e,t,r){if(r.button!=0)return!1;let n=e.state.doc;if(t==-1)return n.inlineContent?(Ml(e,ve.create(n,0,n.content.size)),!0):!1;let i=n.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Ml(e,ve.create(n,s+1,s+1+a.content.size));else if(fe.isSelectable(a))Ml(e,fe.create(n,s));else continue;return!0}}function CS(e){return tg(e)}const LR=un?"metaKey":"ctrlKey";gr.mousedown=(e,t)=>{let r=t;e.input.shiftKey=r.shiftKey;let n=CS(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&BZ(r,e.input.lastClick)&&!r[LR]&&e.input.lastClick.button==r.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:o,button:r.button};let a=e.posAtCoords(Km(r));a&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new GZ(e,a,r,!!n)):(o=="doubleClick"?VZ:WZ)(e,a.pos,a.inside,r)?r.preventDefault():Fo(e,"pointer"))};class GZ{constructor(t,r,n,i){this.view=t,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[LR],this.allowDefault=n.shiftKey;let o,a;if(r.inside>-1)o=t.state.doc.nodeAt(r.inside),a=r.inside;else{let u=t.state.doc.resolve(r.pos);o=u.parent,a=u.depth?u.before():0}const s=i?null:n.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof fe&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ji(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Km(t))),this.updateAllowDefault(t),this.allowDefault||!r?Fo(this.view,"pointer"):UZ(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||pr&&this.mightDrag&&!this.mightDrag.node.isAtom||nr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ml(this.view,xe.near(this.view.state.doc.resolve(r.pos))),t.preventDefault()):Fo(this.view,"pointer")}move(t){this.updateAllowDefault(t),Fo(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}gr.touchstart=e=>{e.input.lastTouch=Date.now(),CS(e),Fo(e,"pointer")};gr.touchmove=e=>{e.input.lastTouch=Date.now(),Fo(e,"pointer")};gr.contextmenu=e=>CS(e);function NR(e,t){return e.composing?!0:pr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const qZ=Hi?5e3:-1;mr.compositionstart=mr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,r=t.selection.$to;if(t.selection instanceof ve&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||r.marks(),tg(e,!0),e.markCursor=null;else if(tg(e,!t.selection.empty),gn&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=e.domSelectionRange();for(let i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=e.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}e.input.composing=!0}RR(e,qZ)};mr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,RR(e,20))};function RR(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>tg(e),t))}function FR(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=JZ());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function YZ(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let r=zQ(t.focusNode,t.focusOffset),n=HQ(t.focusNode,t.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(r==o||n==o)return o;if(!i||!i.isText(n.nodeValue))return n;if(e.input.compositionNode==n){let a=r.pmViewDesc;if(!(!a||!a.isText(r.nodeValue)))return n}}return r||n}function JZ(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function tg(e,t=!1){if(!(Hi&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),FR(e),t||e.docView&&e.docView.dirty){let r=xS(e),n=e.state.selection;return r&&!r.eq(n)?e.dispatch(e.state.tr.setSelection(r)):(e.markCursor||t)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function XZ(e,t){if(!e.dom.parentNode)return;let r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}const nf=Pr&&Vo<15||Ul&&GQ<604;gr.copy=mr.cut=(e,t)=>{let r=t,n=e.state.selection,i=r.type=="cut";if(n.empty)return;let o=nf?null:r.clipboardData,a=n.content(),{dom:s,text:l}=kS(e,a);o?(r.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):XZ(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function QZ(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function ZZ(e,t){if(!e.dom.parentNode)return;let r=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),n.parentNode&&n.parentNode.removeChild(n),r?of(e,n.value,null,i,t):of(e,n.textContent,n.innerHTML,i,t)},50)}function of(e,t,r,n,i){let o=MR(e,t,r,n,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||X.empty)))return!0;if(!o)return!1;let a=QZ(o),s=a?e.state.tr.replaceSelectionWith(a,n):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function jR(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let r=e.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}mr.paste=(e,t)=>{let r=t;if(e.composing&&!Hi)return;let n=nf?null:r.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;n&&of(e,jR(n),n.getData("text/html"),i,r)?r.preventDefault():ZZ(e,r)};class BR{constructor(t,r,n){this.slice=t,this.move=r,this.node=n}}const eee=un?"altKey":"ctrlKey";function zR(e,t){let r=e.someProp("dragCopies",n=>!n(t));return r??!t[eee]}gr.dragstart=(e,t)=>{let r=t,n=e.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(Km(r)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof fe?i.to-1:i.to))){if(n&&n.mightDrag)a=fe.create(e.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let f=e.docView.nearestDesc(r.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&(a=fe.create(e.state.doc,f.posBefore))}}let s=(a||e.state.selection).content(),{dom:l,text:c,slice:u}=kS(e,s);(!r.dataTransfer.files.length||!nr||hR>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(nf?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",nf||r.dataTransfer.setData("text/plain",c),e.dragging=new BR(u,zR(e,r),a)};gr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};mr.dragover=mr.dragenter=(e,t)=>t.preventDefault();mr.drop=(e,t)=>{let r=t,n=e.dragging;if(e.dragging=null,!r.dataTransfer)return;let i=e.posAtCoords(Km(r));if(!i)return;let o=e.state.doc.resolve(i.pos),a=n&&n.slice;a?e.someProp("transformPasted",p=>{a=p(a,e,!1)}):a=MR(e,jR(r.dataTransfer),nf?null:r.dataTransfer.getData("text/html"),!1,o);let s=!!(n&&zR(e,r));if(e.someProp("handleDrop",p=>p(e,r,a||X.empty,s))){r.preventDefault();return}if(!a)return;r.preventDefault();let l=a?KN(e.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(s){let{node:p}=n;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(d))return;let h=c.doc.resolve(u);if(f&&fe.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new fe(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,m,v,b)=>p=b),c.setSelection(SS(e,h,c.doc.resolve(p)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};gr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ji(e)},20))};gr.blur=(e,t)=>{let r=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),r.relatedTarget&&e.dom.contains(r.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};gr.beforeinput=(e,t)=>{if(nr&&Hi&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Pa(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in mr)gr[e]=mr[e];function af(e,t){if(e==t)return!0;for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}class rg{constructor(t,r){this.toDOM=t,this.spec=r||Wa,this.side=this.spec.side||0}map(t,r,n,i){let{pos:o,deleted:a}=t.mapResult(r.from+i,this.side<0?-1:1);return a?null:new hr(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof rg&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&af(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Ko{constructor(t,r){this.attrs=t,this.spec=r||Wa}map(t,r,n,i){let o=t.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=t.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new hr(o,a,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof Ko&&af(this.attrs,t.attrs)&&af(this.spec,t.spec)}static is(t){return t.type instanceof Ko}destroy(){}}class ES{constructor(t,r){this.attrs=t,this.spec=r||Wa}map(t,r,n,i){let o=t.mapResult(r.from+i,1);if(o.deleted)return null;let a=t.mapResult(r.to+i,-1);return a.deleted||a.pos<=o.pos?null:new hr(o.pos-n,a.pos-n,this)}valid(t,r){let{index:n,offset:i}=t.content.findIndex(r.from),o;return i==r.from&&!(o=t.child(n)).isText&&i+o.nodeSize==r.to}eq(t){return this==t||t instanceof ES&&af(this.attrs,t.attrs)&&af(this.spec,t.spec)}destroy(){}}class hr{constructor(t,r,n){this.from=t,this.to=r,this.type=n}copy(t,r){return new hr(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,n){return this.type.map(t,this,r,n)}static widget(t,r,n){return new hr(t,t,new rg(r,n))}static inline(t,r,n,i){return new hr(t,r,new Ko(n,i))}static node(t,r,n,i){return new hr(t,r,new ES(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ko}get widget(){return this.type instanceof rg}}const cl=[],Wa={};class tt{constructor(t,r){this.local=t.length?t:cl,this.children=r.length?r:cl}static create(t,r){return r.length?ng(r,t,0,Wa):er}find(t,r,n){let i=[];return this.findInner(t??0,r??1e9,i,0,n),i}findInner(t,r,n,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=r&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,r-s,n,i+s,o)}}map(t,r,n){return this==er||t.maps.length==0?this:this.mapInner(t,r,0,0,n||Wa)}mapInner(t,r,n,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,n,i);l&&l.type.valid(r,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?tee(this.children,a||[],t,r,n,i,o):a?new tt(a.sort(Ka),cl):er}add(t,r){return r.length?this==er?tt.create(t,r):this.addInner(t,r,0):this}addInner(t,r,n){let i,o=0;t.forEach((s,l)=>{let c=l+n,u;if(u=UR(r,s,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,u,c+1):i.splice(o,0,l,l+s.nodeSize,ng(u,s,c+1,Wa)),o+=3}});let a=HR(o?VR(r):r,-n);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new tt(a.length?this.local.concat(a).sort(Ka):this.local,i||this.children)}remove(t){return t.length==0||this==er?this:this.removeInner(t,0)}removeInner(t,r){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let a,s=n[o]+r,l=n[o+1]+r;for(let u=0,f;u<t.length;u++)(f=t[u])&&f.from>s&&f.to<l&&(t[u]=null,(a||(a=[])).push(f));if(!a)continue;n==this.children&&(n=this.children.slice());let c=n[o+2].removeInner(a,s+1);c!=er?n[o+2]=c:(n.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<i.length;s++)i[s].eq(a,r)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new tt(i,n):er}forChild(t,r){if(this==er)return this;if(r.isLeaf)return tt.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(n=this.children[s+2]);break}let o=t+1,a=o+r.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Ko){let c=Math.max(o,l.from)-o,u=Math.min(a,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let s=new tt(i.sort(Ka),cl);return n?new Ao([s,n]):s}return n||er}eq(t){if(this==t)return!0;if(!(t instanceof tt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return MS(this.localsInner(t))}localsInner(t){if(this==er)return cl;if(t.inlineContent||!this.local.some(Ko.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Ko||r.push(this.local[n]);return r}forEachSet(t){t(this)}}tt.empty=new tt([],[]);tt.removeOverlap=MS;const er=tt.empty;class Ao{constructor(t){this.members=t}map(t,r){const n=this.members.map(i=>i.map(t,r,Wa));return Ao.from(n)}forChild(t,r){if(r.isLeaf)return tt.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,r);o!=er&&(o instanceof Ao?n=n.concat(o.members):n.push(o))}return Ao.from(n)}eq(t){if(!(t instanceof Ao)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(let a=0;a<o.length;a++)r.push(o[a])}}return r?MS(n?r:r.sort(Ka)):cl}static from(t){switch(t.length){case 0:return er;case 1:return t[0];default:return new Ao(t.every(r=>r instanceof tt)?t:t.reduce((r,n)=>r.concat(n instanceof tt?n:n.members),[]))}}forEachSet(t){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(t)}}function tee(e,t,r,n,i,o,a){let s=e.slice();for(let c=0,u=o;c<r.maps.length;c++){let f=0;r.maps[c].forEach((d,h,p,g)=>{let m=g-p-(h-d);for(let v=0;v<s.length;v+=3){let b=s[v+1];if(b<0||d>b+u-f)continue;let y=s[v]+u-f;h>=y?s[v+1]=d<=y?-2:-1:d>=u&&m&&(s[v]+=m,s[v+1]+=m)}f+=m}),u=r.maps[c].map(u,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let u=r.map(e[c]+o),f=u-i;if(f<0||f>=n.content.size){l=!0;continue}let d=r.map(e[c+1]+o,-1),h=d-i,{index:p,offset:g}=n.content.findIndex(f),m=n.maybeChild(p);if(m&&g==f&&g+m.nodeSize==h){let v=s[c+2].mapInner(r,m,u+1,e[c]+o+1,a);v!=er?(s[c]=f,s[c+1]=h,s[c+2]=v):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=ree(s,e,t,r,i,o,a),u=ng(c,n,0,a);t=u.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<u.children.length;f+=3){let h=u.children[f];for(;d<s.length&&s[d]<h;)d+=3;s.splice(d,0,u.children[f],u.children[f+1],u.children[f+2])}}return new tt(t.sort(Ka),s)}function HR(e,t){if(!t||!e.length)return e;let r=[];for(let n=0;n<e.length;n++){let i=e[n];r.push(new hr(i.from+t,i.to+t,i.type))}return r}function ree(e,t,r,n,i,o,a){function s(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(n,i,c);f?r.push(f):a.onRemove&&a.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)s(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+o+1);return r}function UR(e,t,r){if(t.isLeaf)return null;let n=r+t.nodeSize,i=null;for(let o=0,a;o<e.length;o++)(a=e[o])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),e[o]=null);return i}function VR(e){let t=[];for(let r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function ng(e,t,r,n){let i=[],o=!1;t.forEach((s,l)=>{let c=UR(e,s,l+r);if(c){o=!0;let u=ng(c,s,r+l+1,n);u!=er&&i.push(l,l+s.nodeSize,u)}});let a=HR(o?VR(e):e,-r).sort(Ka);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new tt(a,i):er}function Ka(e,t){return e.from-t.from||e.to-t.to}function MS(e){let t=e;for(let r=0;r<t.length-1;r++){let n=t[r];if(n.from!=n.to)for(let i=r+1;i<t.length;i++){let o=t[i];if(o.from==n.from){o.to!=n.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,n.to),tM(t,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==e&&(t=e.slice()),t[r]=n.copy(n.from,o.from),tM(t,i,n.copy(o.from,n.to)));break}}}return t}function tM(e,t,r){for(;t<e.length&&Ka(r,e[t])>0;)t++;e.splice(t,0,r)}function $b(e){let t=[];return e.someProp("decorations",r=>{let n=r(e.state);n&&n!=er&&t.push(n)}),e.cursorWrapper&&t.push(tt.create(e.state.doc,[e.cursorWrapper.deco])),Ao.from(t)}const nee={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},iee=Pr&&Vo<=11;class oee{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class aee{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new oee,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Pr&&Vo<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),iee&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,nee)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(GE(this.view)){if(this.suppressingSelectionUpdates)return Ji(this.view);if(Pr&&Vo<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&es(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let r=new Set,n;for(let o=t.focusNode;o;o=Hl(o))r.add(o);for(let o=t.anchorNode;o;o=Hl(o))if(r.has(o)){n=o;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&GE(t)&&!this.ignoreSelectionChange(n),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let u=0;u<r.length;u++){let f=this.registerMutation(r[u],l);f&&(o=o<0?f.from:Math.min(f.from,o),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(s=!0))}if(gn&&l.length){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,d]=u;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of u){let h=d.parentNode;h&&h.nodeName=="LI"&&(!f||cee(t,f)!=h)&&d.remove()}}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Vm(n)&&(c=xS(t))&&c.eq(xe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ji(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,a),see(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Ji(t),this.currentSelection.set(n))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let f=t.addedNodes[u];r.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Pr&&Vo<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:f,nextSibling:d}=t.addedNodes[u];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(o=d)}let a=i&&i.parentNode==t.target?qt(i)+1:0,s=n.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?qt(o):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:s,to:c}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let rM=new WeakMap,nM=!1;function see(e){if(!rM.has(e)&&(rM.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=gn,nM)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),nM=!0}}function iM(e,t){let r=t.startContainer,n=t.startOffset,i=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return es(a.node,a.offset,i,o)&&([r,n,i,o]=[i,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}}function lee(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return iM(e,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0),r?iM(e,r):null}function cee(e,t){for(let r=t.parentNode;r&&r!=e.dom;r=r.parentNode){let n=e.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function uee(e,t,r){let{node:n,fromOffset:i,toOffset:o,from:a,to:s}=e.docView.parseRange(t,r),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Vm(l)||c.push({node:l.focusNode,offset:l.focusOffset})),nr&&e.input.lastKeyCode===8)for(let m=o;m>i;m--){let v=n.childNodes[m-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){o=m;break}if(!b||b.size)break}let f=e.state.doc,d=e.someProp("domParser")||Uo.fromSchema(e.state.schema),h=f.resolve(a),p=null,g=d.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:fee,context:h});if(c&&c[0].pos!=null){let m=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=m),p={anchor:m+a,head:v+a}}return{doc:g,sel:p,from:a,to:s}}function fee(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(pr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||pr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const dee=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function hee(e,t,r,n,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let O=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,T=xS(e,O);if(T&&!e.state.selection.eq(T)){if(nr&&Hi&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",L=>L(e,Pa(13,"Enter"))))return;let D=e.state.tr.setSelection(T);O=="pointer"?D.setMeta("pointer",!0):O=="key"&&D.scrollIntoView(),o&&D.setMeta("composition",o),e.dispatch(D)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(r);t=a.before(s+1),r=e.state.doc.resolve(r).after(s+1);let l=e.state.selection,c=uee(e,t,r),u=e.state.doc,f=u.slice(c.from,c.to),d,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(d=e.state.selection.to,h="end"):(d=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=mee(f.content,c.doc.content,c.from,d,h);if(p&&e.input.domChangeCount++,(Ul&&e.input.lastIOSEnter>Date.now()-225||Hi)&&i.some(O=>O.nodeType==1&&!dee.test(O.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",O=>O(e,Pa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(n&&l instanceof ve&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let O=oM(e,e.state.doc,c.sel);if(O&&!O.eq(e.state.selection)){let T=e.state.tr.setSelection(O);o&&T.setMeta("composition",o),e.dispatch(T)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof ve&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Pr&&Vo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),m=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),b=g.sameParent(m)&&g.parent.inlineContent&&v.end()>=p.endA;if((Ul&&e.input.lastIOSEnter>Date.now()-225&&(!b||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&(!g.sameParent(m)||!g.parent.inlineContent)&&g.pos<m.pos&&!/\S/.test(c.doc.textBetween(g.pos,m.pos,"","")))&&e.someProp("handleKeyDown",O=>O(e,Pa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&gee(u,p.start,p.endA,g,m)&&e.someProp("handleKeyDown",O=>O(e,Pa(8,"Backspace")))){Hi&&nr&&e.domObserver.suppressSelectionUpdates();return}nr&&p.endB==p.start&&(e.input.lastChromeDelete=Date.now()),Hi&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,m=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(O){return O(e,Pa(13,"Enter"))})},20));let y=p.start,w=p.endA,$=O=>{let T=O||e.state.tr.replace(y,w,c.doc.slice(p.start-c.from,p.endB-c.from));if(c.sel){let D=oM(e,T.doc,c.sel);D&&!(nr&&e.composing&&D.empty&&(p.start!=p.endB||e.input.lastChromeDelete<Date.now()-100)&&(D.head==y||D.head==T.mapping.map(w)-1)||Pr&&D.empty&&D.head==y)&&T.setSelection(D)}return o&&T.setMeta("composition",o),T.scrollIntoView()},k;if(b)if(g.pos==m.pos){Pr&&Vo<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ji(e),20));let O=$(e.state.tr.delete(y,w)),T=u.resolve(p.start).marksAcross(u.resolve(p.endA));T&&O.ensureMarks(T),e.dispatch(O)}else if(p.endA==p.endB&&(k=pee(g.parent.content.cut(g.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start())))){let O=$(e.state.tr);k.type=="add"?O.addMark(y,w,k.mark):O.removeMark(y,w,k.mark),e.dispatch(O)}else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let O=g.parent.textBetween(g.parentOffset,m.parentOffset),T=()=>$(e.state.tr.insertText(O,y,w));e.someProp("handleTextInput",D=>D(e,y,w,O,T))||e.dispatch(T())}else e.dispatch($());else e.dispatch($())}function oM(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:SS(e,t.resolve(r.anchor),t.resolve(r.head))}function pee(e,t){let r=e.firstChild.marks,n=t.firstChild.marks,i=r,o=n,a,s,l;for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=u=>u.mark(s.addToSet(u.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=u=>u.mark(s.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(V.from(c).eq(e))return{mark:s,type:a}}function gee(e,t,r,n,i){if(r-t<=i.pos-n.pos||wb(n,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!n.parent.isTextblock){let s=o.nodeAfter;return s!=null&&r==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(wb(o,!0,!0));return!a.parent.isTextblock||a.pos>r||wb(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function wb(e,t,r){let n=e.depth,i=t?e.end():e.pos;for(;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,i++,t=!1;if(r){let o=e.node(n).maybeChild(e.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function mee(e,t,r,n,i){let o=e.findDiffStart(t,r);if(o==null)return null;let{a,b:s}=e.findDiffEnd(t,r+e.size,r+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&e.size<t.size){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<t.size&&aM(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<e.size&&aM(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function aM(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),r=e.charCodeAt(1);return t>=56320&&t<=57343&&r>=55296&&r<=56319}class WR{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new LZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(fM),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=cM(this),lM(this),this.nodeViews=uM(this),this.docView=zE(this.state.doc,sM(this),$b(this),this.dom,this),this.domObserver=new aee(this,(n,i,o,a)=>hee(this,n,i,o,a)),this.domObserver.start(),NZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Cw(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(fM),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in t)r[n]=t[n];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){var n;let i=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(FR(this),a=!0),this.state=t;let s=i.plugins!=t.plugins||this._props.plugins!=r.plugins;if(s||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let h=uM(this);bee(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(s||r.handleDOMEvents!=this._props.handleDOMEvents)&&Cw(this),this.editable=cM(this),lM(this);let l=$b(this),c=sM(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(t.doc,c,l);(f||!t.selection.eq(i.selection))&&(a=!0);let d=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&JQ(this);if(a){this.domObserver.stop();let h=f&&(Pr||nr)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&vee(i.selection,t.selection);if(f){let p=nr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=YZ(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=zE(t.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$Z(this))?Ji(this,h):(TR(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&XQ(d)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof fe){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&LE(this,r.getBoundingClientRect(),t)}else LE(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,t)}}updateDraggedNode(t,r){let n=t.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let o=n.from+(this.state.doc.content.size-r.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(i=o)}this.dragging=new BR(t.slice,t.move,i<0?void 0:fe.create(this.state.doc,i))}someProp(t,r){let n=this._props&&this._props[t],i;if(n!=null&&(i=r?r(n):n))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(i=r?r(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(i=r?r(s):s))return i}}hasFocus(){if(Pr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&QQ(this.dom),Ji(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return t||document}updateRoot(){this._root=null}posAtCoords(t){return nZ(this,t)}coordsAtPos(t,r=1){return bR(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,n=-1){let i=this.docView.posFromDOM(t,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,r){return lZ(this,r||this.state,t)}pasteHTML(t,r){return of(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return of(this,t,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(t){return kS(this,t)}destroy(){this.docView&&(RZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$b(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,jQ())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return jZ(this,t)}domSelectionRange(){let t=this.domSelection();return t?pr&&this.root.nodeType===11&&VQ(this.dom.ownerDocument)==this.dom&&lee(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}WR.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function sM(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(e.state)),r)for(let n in r)n=="class"?t.class+=" "+r[n]:n=="style"?t.style=(t.style?t.style+";":"")+r[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(r[n]))}),t.translate||(t.translate="no"),[hr.node(0,e.state.doc.content.size,t)]}function lM(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:hr.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function cM(e){return!e.someProp("editable",t=>t(e.state)===!1)}function vee(e,t){let r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function uM(e){let t=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=n[i])}return e.someProp("nodeViews",r),e.someProp("markViews",r),t}function bee(e,t){let r=0,n=0;for(let i in e){if(e[i]!=t[i])return!0;r++}for(let i in t)n++;return r!=n}function fM(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Yo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ig={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},yee=typeof navigator<"u"&&/Mac/.test(navigator.platform),$ee=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Yt=0;Yt<10;Yt++)Yo[48+Yt]=Yo[96+Yt]=String(Yt);for(var Yt=1;Yt<=24;Yt++)Yo[Yt+111]="F"+Yt;for(var Yt=65;Yt<=90;Yt++)Yo[Yt]=String.fromCharCode(Yt+32),ig[Yt]=String.fromCharCode(Yt);for(var xb in Yo)ig.hasOwnProperty(xb)||(ig[xb]=Yo[xb]);function wee(e){var t=yee&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||$ee&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?ig:Yo)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const xee=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),See=typeof navigator<"u"&&/Win/.test(navigator.platform);function kee(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))xee?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Oee(e){let t=Object.create(null);for(let r in e)t[kee(r)]=e[r];return t}function Sb(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function Tee(e){return new st({props:{handleKeyDown:KR(e)}})}function KR(e){let t=Oee(e);return function(r,n){let i=wee(n),o,a=t[Sb(i,n)];if(a&&a(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let s=t[Sb(i,n,!1)];if(s&&s(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(See&&n.ctrlKey&&n.altKey)&&(o=Yo[n.keyCode])&&o!=i){let s=t[Sb(o,n)];if(s&&s(r.state,r.dispatch,r))return!0}}return!1}}var Cee=Object.defineProperty,AS=(e,t)=>{for(var r in t)Cee(e,r,{get:t[r],enumerable:!0})};function Gm(e){const{state:t,transaction:r}=e;let{selection:n}=r,{doc:i}=r,{storedMarks:o}=r;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,o=r.storedMarks,r}}}var qm=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:n}=t,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,s])=>[a,(...c)=>{const u=s(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:n,state:i}=this,{view:o}=n,a=[],s=!!e,l=e||i.tr,c=()=>(!s&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(r).map(([f,d])=>[f,(...p)=>{const g=this.buildProps(l,t),m=d(...p)(g);return a.push(m),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:r}=this,n=!1,i=e||r.tr,o=this.buildProps(i,n);return{...Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,n)}}buildProps(e,t=!0){const{rawCommands:r,editor:n,state:i}=this,{view:o}=n,a={tr:e,editor:n,view:o,state:Gm({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([s,l])=>[s,(...c)=>l(...c)(a)]))}};return a}},GR={};AS(GR,{blur:()=>Eee,clearContent:()=>Mee,clearNodes:()=>Aee,command:()=>Iee,createParagraphNear:()=>Pee,cut:()=>_ee,deleteCurrentNode:()=>Dee,deleteNode:()=>Lee,deleteRange:()=>Nee,deleteSelection:()=>Ree,enter:()=>Fee,exitCode:()=>jee,extendMarkRange:()=>Bee,first:()=>zee,focus:()=>Uee,forEach:()=>Vee,insertContent:()=>Wee,insertContentAt:()=>qee,joinBackward:()=>Xee,joinDown:()=>Jee,joinForward:()=>Qee,joinItemBackward:()=>Zee,joinItemForward:()=>ete,joinTextblockBackward:()=>tte,joinTextblockForward:()=>rte,joinUp:()=>Yee,keyboardShortcut:()=>ite,lift:()=>ote,liftEmptyBlock:()=>ate,liftListItem:()=>ste,newlineInCode:()=>lte,resetAttributes:()=>cte,scrollIntoView:()=>ute,selectAll:()=>fte,selectNodeBackward:()=>dte,selectNodeForward:()=>hte,selectParentNode:()=>pte,selectTextblockEnd:()=>gte,selectTextblockStart:()=>mte,setContent:()=>vte,setMark:()=>Lte,setMeta:()=>Nte,setNode:()=>Rte,setNodeSelection:()=>Fte,setTextSelection:()=>jte,sinkListItem:()=>Bte,splitBlock:()=>zte,splitListItem:()=>Hte,toggleList:()=>Ute,toggleMark:()=>Vte,toggleNode:()=>Wte,toggleWrap:()=>Kte,undoInputRule:()=>Gte,unsetAllMarks:()=>qte,unsetMark:()=>Yte,updateAttributes:()=>Jte,wrapIn:()=>Xte,wrapInList:()=>Qte});var Eee=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),Mee=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),Aee=()=>({state:e,tr:t,dispatch:r})=>{const{selection:n}=t,{ranges:i}=n;return r&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:c,mapping:u}=t,f=c.resolve(u.map(l)),d=c.resolve(u.map(l+s.nodeSize)),h=f.blockRange(d);if(!h)return;const p=cc(h);if(s.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(h.start,g)}(p||p===0)&&t.lift(h,p)})}),!0},Iee=e=>t=>e(t),Pee=()=>({state:e,dispatch:t})=>lR(e,t),_ee=(e,t)=>({editor:r,tr:n})=>{const{state:i}=r,o=i.doc.slice(e.from,e.to);n.deleteRange(e.from,e.to);const a=n.mapping.map(t);return n.insert(a,o.content),n.setSelection(new ve(n.doc.resolve(Math.max(a-1,0)))),!0},Dee=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,n=r.$anchor.node();if(n.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===n.type){if(t){const s=i.before(o),l=i.after(o);e.delete(s,l).scrollIntoView()}return!0}return!1};function wt(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Lee=e=>({tr:t,state:r,dispatch:n})=>{const i=wt(e,r.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(n){const l=o.before(a),c=o.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},Nee=e=>({tr:t,dispatch:r})=>{const{from:n,to:i}=e;return r&&t.delete(n,i),!0},Ree=()=>({state:e,dispatch:t})=>mS(e,t),Fee=()=>({commands:e})=>e.keyboardShortcut("Enter"),jee=()=>({state:e,dispatch:t})=>kQ(e,t);function IS(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function og(e,t,r={strict:!0}){const n=Object.keys(t);return n.length?n.every(i=>r.strict?t[i]===e[i]:IS(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function qR(e,t,r={}){return e.find(n=>n.type===t&&og(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function dM(e,t,r={}){return!!qR(e,t,r)}function PS(e,t,r){var n;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===t)||(r=r||((n=i.node.marks[0])==null?void 0:n.attrs),!qR([...i.node.marks],t,r)))return;let a=i.index,s=e.start()+i.offset,l=a+1,c=s+i.node.nodeSize;for(;a>0&&dM([...e.parent.child(a-1).marks],t,r);)a-=1,s-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&dM([...e.parent.child(l).marks],t,r);)c+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function co(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Bee=(e,t={})=>({tr:r,state:n,dispatch:i})=>{const o=co(e,n.schema),{doc:a,selection:s}=r,{$from:l,from:c,to:u}=s;if(i){const f=PS(l,o,t);if(f&&f.from<=c&&f.to>=u){const d=ve.create(a,f.from,f.to);r.setSelection(d)}}return!0},zee=e=>t=>{const r=typeof e=="function"?e(t):e;for(let n=0;n<r.length;n+=1)if(r[n](t))return!0;return!1};function YR(e){return e instanceof ve}function Fa(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function JR(e,t=null){if(!t)return null;const r=xe.atStart(e),n=xe.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return n;const i=r.from,o=n.to;return t==="all"?ve.create(e,Fa(0,i,o),Fa(e.content.size,i,o)):ve.create(e,Fa(t,i,o),Fa(t,i,o))}function Hee(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _S(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Uee=(e=null,t={})=>({editor:r,view:n,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const a=()=>{(_S()||Hee())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),t!=null&&t.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!YR(r.state.selection))return a(),!0;const s=JR(i.doc,e)||r.state.selection,l=r.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},Vee=(e,t)=>r=>e.every((n,i)=>t(n,{...r,index:i})),Wee=(e,t)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},e,t),XR=e=>{const t=e.childNodes;for(let r=t.length-1;r>=0;r-=1){const n=t[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?e.removeChild(n):n.nodeType===1&&XR(n)}return e};function Fd(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,r=new window.DOMParser().parseFromString(t,"text/html").body;return XR(r)}function sf(e,t,r){if(e instanceof Ho||e instanceof V)return e;r={slice:!0,parseOptions:{},...r};const n=typeof e=="object"&&e!==null,i=typeof e=="string";if(n)try{if(Array.isArray(e)&&e.length>0)return V.fromArray(e.map(s=>t.nodeFromJSON(s)));const a=t.nodeFromJSON(e);return r.errorOnInvalidContent&&a.check(),a}catch(o){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),sf("",t,r)}if(i){if(r.errorOnInvalidContent){let a=!1,s="";const l=new LN({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,s=typeof c=="string"?c:c.outerHTML,null)}]}})});if(r.slice?Uo.fromSchema(l).parseSlice(Fd(e),r.parseOptions):Uo.fromSchema(l).parse(Fd(e),r.parseOptions),r.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const o=Uo.fromSchema(t);return r.slice?o.parseSlice(Fd(e),r.parseOptions).content:o.parse(Fd(e),r.parseOptions)}return sf("",t,r)}function Kee(e,t,r){const n=e.steps.length-1;if(n<t)return;const i=e.steps[n];if(!(i instanceof Nt||i instanceof Bt))return;const o=e.mapping.maps[n];let a=0;o.forEach((s,l,c,u)=>{a===0&&(a=u)}),e.setSelection(xe.near(e.doc.resolve(a),r))}var Gee=e=>!("type"in e),qee=(e,t,r)=>({tr:n,dispatch:i,editor:o})=>{var a;if(i){r={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let s;const l=m=>{o.emit("contentError",{editor:o,error:m,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{sf(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(m){l(m)}try{s=sf(t,o.schema,{parseOptions:c,errorOnInvalidContent:(a=r.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(m){return l(m),!1}let{from:u,to:f}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},d=!0,h=!0;if((Gee(s)?s:[s]).forEach(m=>{m.check(),d=d?m.isText&&m.marks.length===0:!1,h=h?m.isBlock:!1}),u===f&&h){const{parent:m}=n.doc.resolve(u);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(u-=1,f+=1)}let g;if(d){if(Array.isArray(t))g=t.map(m=>m.text||"").join("");else if(t instanceof V){let m="";t.forEach(v=>{v.text&&(m+=v.text)}),g=m}else typeof t=="object"&&t&&t.text?g=t.text:g=t;n.insertText(g,u,f)}else{g=s;const m=n.doc.resolve(u),v=m.node(),b=m.parentOffset===0,y=v.isText||v.isTextblock,w=v.content.size>0;b&&y&&w&&(u=Math.max(0,u-1)),n.replaceWith(u,f,g)}r.updateSelection&&Kee(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:u,text:g}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:u,text:g})}return!0},Yee=()=>({state:e,dispatch:t})=>wQ(e,t),Jee=()=>({state:e,dispatch:t})=>xQ(e,t),Xee=()=>({state:e,dispatch:t})=>tR(e,t),Qee=()=>({state:e,dispatch:t})=>oR(e,t),Zee=()=>({state:e,dispatch:t,tr:r})=>{try{const n=zm(e.doc,e.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},ete=()=>({state:e,dispatch:t,tr:r})=>{try{const n=zm(e.doc,e.selection.$from.pos,1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},tte=()=>({state:e,dispatch:t})=>yQ(e,t),rte=()=>({state:e,dispatch:t})=>$Q(e,t);function QR(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function nte(e){const t=e.split(/-(?!$)/);let r=t[t.length-1];r==="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<t.length-1;s+=1){const l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))_S()||QR()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),o&&(r=`Shift-${r}`),r}var ite=e=>({editor:t,view:r,tr:n,dispatch:i})=>{const o=nte(e).split(/-(?!$)/),a=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,s))});return l==null||l.steps.forEach(c=>{const u=c.map(n.mapping);u&&i&&n.maybeStep(u)}),!0};function Jo(e,t,r={}){const{from:n,to:i,empty:o}=e.selection,a=t?wt(t,e.schema):null,s=[];e.doc.nodesBetween(n,i,(f,d)=>{if(f.isText)return;const h=Math.max(n,d),p=Math.min(i,d+f.nodeSize);s.push({node:f,from:h,to:p})});const l=i-n,c=s.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>og(f.node.attrs,r,{strict:!1}));return o?!!c.length:c.reduce((f,d)=>f+d.to-d.from,0)>=l}var ote=(e,t={})=>({state:r,dispatch:n})=>{const i=wt(e,r.schema);return Jo(r,i,t)?SQ(r,n):!1},ate=()=>({state:e,dispatch:t})=>cR(e,t),ste=e=>({state:t,dispatch:r})=>{const n=wt(e,t.schema);return LQ(n)(t,r)},lte=()=>({state:e,dispatch:t})=>sR(e,t);function Ym(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function hM(e,t){const r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,i)=>(r.includes(i)||(n[i]=e[i]),n),{})}var cte=(e,t)=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=Ym(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=wt(e,n.schema)),s==="mark"&&(a=co(e,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&r.setNodeMarkup(u,void 0,hM(c.attrs,t)),a&&c.marks.length&&c.marks.forEach(f=>{a===f.type&&r.addMark(u,u+c.nodeSize,a.create(hM(f.attrs,t)))})})}),!0):!1},ute=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),fte=()=>({tr:e,dispatch:t})=>{if(t){const r=new Jr(e.doc);e.setSelection(r)}return!0},dte=()=>({state:e,dispatch:t})=>nR(e,t),hte=()=>({state:e,dispatch:t})=>aR(e,t),pte=()=>({state:e,dispatch:t})=>CQ(e,t),gte=()=>({state:e,dispatch:t})=>AQ(e,t),mte=()=>({state:e,dispatch:t})=>MQ(e,t);function Ew(e,t,r={},n={}){return sf(e,t,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var vte=(e,{errorOnInvalidContent:t,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{const{doc:l}=o;if(n.preserveWhitespace!=="full"){const c=Ew(e,i.schema,n,{errorOnInvalidContent:t??i.options.enableContentCheck});return a&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!r),!0}return a&&o.setMeta("preventUpdate",!r),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:n,errorOnInvalidContent:t??i.options.enableContentCheck})};function ZR(e,t){const r=co(t,e.schema),{from:n,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===r.name);return s?{...s.attrs}:{}}function e6(e,t){const r=new XN(e);return t.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function bte(e){for(let t=0;t<e.edgeCount;t+=1){const{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function yte(e,t,r){const n=[];return e.nodesBetween(t.from,t.to,(i,o)=>{r(i)&&n.push({node:i,pos:o})}),n}function $te(e,t){for(let r=e.depth;r>0;r-=1){const n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}}function Jm(e){return t=>$te(t.$from,e)}function ce(e,t,r){return e.config[t]===void 0&&e.parent?ce(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind({...r,parent:e.parent?ce(e.parent,t,r):null}):e.config[t]}function DS(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},n=ce(t,"addExtensions",r);return n?[t,...DS(n())]:t}).flat(10)}function LS(e,t){const r=xs.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function t6(e){return typeof e=="function"}function Le(e,t=void 0,...r){return t6(e)?t?e.bind(t)(...r):e(...r):e}function wte(e={}){return Object.keys(e).length===0&&e.constructor===Object}function lf(e){const t=e.filter(i=>i.type==="extension"),r=e.filter(i=>i.type==="node"),n=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:n}}function r6(e){const t=[],{nodeExtensions:r,markExtensions:n}=lf(e),i=[...r,...n],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=ce(a,"addGlobalAttributes",s);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([d,h])=>{t.push({type:f,name:d,attribute:{...o,...h}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=ce(a,"addAttributes",s);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const d={...o,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,t.push({type:a.name,name:u,attribute:d})})}),t}function at(...e){return e.filter(t=>!!t).reduce((t,r)=>{const n={...t};return Object.entries(r).forEach(([i,o])=>{if(!n[i]){n[i]=o;return}if(i==="class"){const s=o?String(o).split(" "):[],l=n[i]?n[i].split(" "):[],c=s.filter(u=>!l.includes(u));n[i]=[...l,...c].join(" ")}else if(i==="style"){const s=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[f,d]=u.split(":").map(h=>h.trim());c.set(f,d)}),s.forEach(u=>{const[f,d]=u.split(":").map(h=>h.trim());c.set(f,d)}),n[i]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else n[i]=o}),n},{})}function ag(e,t){return t.filter(r=>r.type===e.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,n)=>at(r,n),{})}function xte(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function pM(e,t){return"style"in e?e:{...e,getAttrs:r=>{const n=e.getAttrs?e.getAttrs(r):e.attrs;if(n===!1)return!1;const i=t.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(r):xte(r.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...n,...i}}}}function gM(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&wte(r)?!1:r!=null))}function Ste(e,t){var r;const n=r6(e),{nodeExtensions:i,markExtensions:o}=lf(e),a=(r=i.find(c=>ce(c,"topNode")))==null?void 0:r.name,s=Object.fromEntries(i.map(c=>{const u=n.filter(v=>v.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},d=e.reduce((v,b)=>{const y=ce(b,"extendNodeSchema",f);return{...v,...y?y(c):{}}},{}),h=gM({...d,content:Le(ce(c,"content",f)),marks:Le(ce(c,"marks",f)),group:Le(ce(c,"group",f)),inline:Le(ce(c,"inline",f)),atom:Le(ce(c,"atom",f)),selectable:Le(ce(c,"selectable",f)),draggable:Le(ce(c,"draggable",f)),code:Le(ce(c,"code",f)),whitespace:Le(ce(c,"whitespace",f)),linebreakReplacement:Le(ce(c,"linebreakReplacement",f)),defining:Le(ce(c,"defining",f)),isolating:Le(ce(c,"isolating",f)),attrs:Object.fromEntries(u.map(v=>{var b,y;return[v.name,{default:(b=v==null?void 0:v.attribute)==null?void 0:b.default,validate:(y=v==null?void 0:v.attribute)==null?void 0:y.validate}]}))}),p=Le(ce(c,"parseHTML",f));p&&(h.parseDOM=p.map(v=>pM(v,u)));const g=ce(c,"renderHTML",f);g&&(h.toDOM=v=>g({node:v,HTMLAttributes:ag(v,u)}));const m=ce(c,"renderText",f);return m&&(h.toText=m),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=n.filter(m=>m.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},d=e.reduce((m,v)=>{const b=ce(v,"extendMarkSchema",f);return{...m,...b?b(c):{}}},{}),h=gM({...d,inclusive:Le(ce(c,"inclusive",f)),excludes:Le(ce(c,"excludes",f)),group:Le(ce(c,"group",f)),spanning:Le(ce(c,"spanning",f)),code:Le(ce(c,"code",f)),attrs:Object.fromEntries(u.map(m=>{var v,b;return[m.name,{default:(v=m==null?void 0:m.attribute)==null?void 0:v.default,validate:(b=m==null?void 0:m.attribute)==null?void 0:b.validate}]}))}),p=Le(ce(c,"parseHTML",f));p&&(h.parseDOM=p.map(m=>pM(m,u)));const g=ce(c,"renderHTML",f);return g&&(h.toDOM=m=>g({mark:m,HTMLAttributes:ag(m,u)})),[c.name,h]}));return new LN({topNode:a,nodes:s,marks:l})}function kte(e){const t=e.filter((r,n)=>e.indexOf(r)!==n);return Array.from(new Set(t))}function NS(e){return e.sort((r,n)=>{const i=ce(r,"priority")||100,o=ce(n,"priority")||100;return i>o?-1:i<o?1:0})}function n6(e){const t=NS(DS(e)),r=kte(t.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),t}function i6(e,t,r){const{from:n,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=r||{};let s="";return e.nodesBetween(n,i,(l,c,u,f)=>{var d;l.isBlock&&c>n&&(s+=o);const h=a==null?void 0:a[l.type.name];if(h)return u&&(s+=h({node:l,pos:c,parent:u,index:f,range:t})),!1;l.isText&&(s+=(d=l==null?void 0:l.text)==null?void 0:d.slice(Math.max(n,c)-c,i-c))}),s}function Ote(e,t){const r={from:0,to:e.content.size};return i6(e,r,t)}function o6(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}function Tte(e,t){const r=wt(t,e.schema),{from:n,to:i}=e.selection,o=[];e.doc.nodesBetween(n,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===r.name);return a?{...a.attrs}:{}}function a6(e,t){const r=Ym(typeof t=="string"?t:t.name,e.schema);return r==="node"?Tte(e,t):r==="mark"?ZR(e,t):{}}function Cte(e,t=JSON.stringify){const r={};return e.filter(n=>{const i=t(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function Ete(e){const t=Cte(e);return t.length===1?t:t.filter((r,n)=>!t.filter((o,a)=>a!==n).some(o=>r.oldRange.from>=o.oldRange.from&&r.oldRange.to<=o.oldRange.to&&r.newRange.from>=o.newRange.from&&r.newRange.to<=o.newRange.to))}function s6(e){const{mapping:t,steps:r}=e,n=[];return t.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=r[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const c=t.slice(o).map(s,-1),u=t.slice(o).map(l),f=t.invert().map(c,-1),d=t.invert().map(u);n.push({oldRange:{from:f,to:d},newRange:{from:c,to:u}})})}),Ete(n)}function RS(e,t,r){const n=[];return e===t?r.resolve(e).marks().forEach(i=>{const o=r.resolve(e),a=PS(o,i.type);a&&n.push({mark:i,...a})}):r.nodesBetween(e,t,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||n.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),n}var Mte=(e,t,r,n=20)=>{const i=e.doc.resolve(r);let o=n,a=null;for(;o>0&&a===null;){const s=i.node(o);(s==null?void 0:s.type.name)===t?a=s:o-=1}return[a,o]};function kb(e,t){return t.nodes[e]||t.marks[e]||null}function op(e,t,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=e.find(o=>o.type===t&&o.name===n);return i?i.attribute.keepOnSplit:!1}))}var Ate=(e,t=500)=>{let r="";const n=e.parentOffset;return e.parent.nodesBetween(Math.max(0,n-t),n,(i,o,a,s)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,n-o))}),r};function Mw(e,t,r={}){const{empty:n,ranges:i}=e.selection,o=t?co(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>og(f.attrs,r,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:f,$to:d})=>{const h=f.pos,p=d.pos;e.doc.nodesBetween(h,p,(g,m)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(h,m),b=Math.min(p,m+g.nodeSize),y=b-v;a+=y,s.push(...g.marks.map(w=>({mark:w,from:v,to:b})))})}),a===0)return!1;const l=s.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>og(f.mark.attrs,r,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),c=s.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+c:l)>=a}function Ite(e,t,r={}){if(!t)return Jo(e,null,r)||Mw(e,null,r);const n=Ym(t,e.schema);return n==="node"?Jo(e,t,r):n==="mark"?Mw(e,t,r):!1}var Pte=(e,t)=>{const{$from:r,$to:n,$anchor:i}=e.selection;if(t){const o=Jm(s=>s.type.name===t)(e.selection);if(!o)return!1;const a=e.doc.resolve(o.pos+1);return i.pos+1===a.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},_te=e=>{const{$from:t,$to:r}=e.selection;return!(t.parentOffset>0||t.pos!==r.pos)};function mM(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function vM(e,t){const{nodeExtensions:r}=lf(t),n=r.find(a=>a.name===e);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},o=Le(ce(n,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Xm(e,{checkChildren:t=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((n=e.text)!=null?n:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(Xm(o,{ignoreWhitespace:r,checkChildren:t})||(i=!1))}),i}return!1}function l6(e){return e instanceof fe}function Dte(e,t,r){var n;const{selection:i}=t;let o=null;if(YR(i)&&(o=i.$cursor),o){const s=(n=e.storedMarks)!=null?n:o.marks();return o.parent.type.allowsMarkType(r)&&(!!r.isInSet(s)||!s.some(c=>c.type.excludes(r)))}const{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let c=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(r):!1;return e.doc.nodesBetween(s.pos,l.pos,(u,f,d)=>{if(c)return!1;if(u.isInline){const h=!d||d.type.allowsMarkType(r),p=!!r.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(r));c=h&&p}return!c}),c})}var Lte=(e,t={})=>({tr:r,state:n,dispatch:i})=>{const{selection:o}=r,{empty:a,ranges:s}=o,l=co(e,n.schema);if(i)if(a){const c=ZR(n,l);r.addStoredMark(l.create({...c,...t}))}else s.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;n.doc.nodesBetween(u,f,(d,h)=>{const p=Math.max(h,u),g=Math.min(h+d.nodeSize,f);d.marks.find(v=>v.type===l)?d.marks.forEach(v=>{l===v.type&&r.addMark(p,g,l.create({...v.attrs,...t}))}):r.addMark(p,g,l.create(t))})});return Dte(n,r,l)},Nte=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0),Rte=(e,t={})=>({state:r,dispatch:n,chain:i})=>{const o=wt(e,r.schema);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>PE(o,{...a,...t})(r)?!0:s.clearNodes()).command(({state:s})=>PE(o,{...a,...t})(s,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Fte=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,i=Fa(e,0,n.content.size),o=fe.create(n,i);t.setSelection(o)}return!0},jte=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=ve.atStart(n).from,s=ve.atEnd(n).to,l=Fa(i,a,s),c=Fa(o,a,s),u=ve.create(n,l,c);t.setSelection(u)}return!0},Bte=e=>({state:t,dispatch:r})=>{const n=wt(e,t.schema);return FQ(n)(t,r)};function bM(e,t){const r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){const n=r.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(n)}}var zte=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:n,editor:i})=>{const{selection:o,doc:a}=t,{$from:s,$to:l}=o,c=i.extensionManager.attributes,u=op(c,s.node().type.name,s.node().attrs);if(o instanceof fe&&o.node.isBlock)return!s.parentOffset||!Yi(a,s.pos)?!1:(n&&(e&&bM(r,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,d=s.depth===0?void 0:bte(s.node(-1).contentMatchAt(s.indexAfter(-1)));let h=f&&d?[{type:d,attrs:u}]:void 0,p=Yi(t.doc,t.mapping.map(s.pos),1,h);if(!h&&!p&&Yi(t.doc,t.mapping.map(s.pos),1,d?[{type:d}]:void 0)&&(p=!0,h=d?[{type:d,attrs:u}]:void 0),n){if(p&&(o instanceof ve&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,h),d&&!f&&!s.parentOffset&&s.parent.type!==d)){const g=t.mapping.map(s.before()),m=t.doc.resolve(g);s.node(-1).canReplaceWith(m.index(),m.index()+1,d)&&t.setNodeMarkup(t.mapping.map(s.before()),d)}e&&bM(r,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},Hte=(e,t={})=>({tr:r,state:n,dispatch:i,editor:o})=>{var a;const s=wt(e,n.schema),{$from:l,$to:c}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==s)return!1;const d=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=V.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-b;T>=l.depth-3;T-=1)v=V.from(l.node(T).copy(v));const y=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...op(d,l.node().type.name,l.node().attrs),...t},$=((a=s.contentMatch.defaultType)==null?void 0:a.createAndFill(w))||void 0;v=v.append(V.from(s.createAndFill(null,$)||void 0));const k=l.before(l.depth-(b-1));r.replace(k,l.after(-y),new X(v,4-b,0));let O=-1;r.doc.nodesBetween(k,r.doc.content.size,(T,D)=>{if(O>-1)return!1;T.isTextblock&&T.content.size===0&&(O=D+1)}),O>-1&&r.setSelection(ve.near(r.doc.resolve(O))),r.scrollIntoView()}return!0}const h=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,p={...op(d,f.type.name,f.attrs),...t},g={...op(d,l.node().type.name,l.node().attrs),...t};r.delete(l.pos,c.pos);const m=h?[{type:s,attrs:p},{type:h,attrs:g}]:[{type:s,attrs:p}];if(!Yi(r.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:b}=n,{splittableMarks:y}=o.extensionManager,w=b||v.$to.parentOffset&&v.$from.marks();if(r.split(l.pos,2,m).scrollIntoView(),!w||!i)return!0;const $=w.filter(k=>y.includes(k.type.name));r.ensureMarks($)}return!0},Ob=(e,t)=>{const r=Jm(a=>a.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=e.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&la(e.doc,r.pos)&&e.join(r.pos),!0},Tb=(e,t)=>{const r=Jm(a=>a.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=e.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&la(e.doc,n)&&e.join(n),!0},Ute=(e,t,r,n={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,h=wt(e,a.schema),p=wt(t,a.schema),{selection:g,storedMarks:m}=a,{$from:v,$to:b}=g,y=v.blockRange(b),w=m||g.$to.parentOffset&&g.$from.marks();if(!y)return!1;const $=Jm(k=>vM(k.type.name,f))(g);if(y.depth>=1&&$&&y.depth-$.depth<=1){if($.node.type===h)return c.liftListItem(p);if(vM($.node.type.name,f)&&h.validContent($.node.content)&&s)return l().command(()=>(o.setNodeMarkup($.pos,h),!0)).command(()=>Ob(o,h)).command(()=>Tb(o,h)).run()}return!r||!w||!s?l().command(()=>u().wrapInList(h,n)?!0:c.clearNodes()).wrapInList(h,n).command(()=>Ob(o,h)).command(()=>Tb(o,h)).run():l().command(()=>{const k=u().wrapInList(h,n),O=w.filter(T=>d.includes(T.type.name));return o.ensureMarks(O),k?!0:c.clearNodes()}).wrapInList(h,n).command(()=>Ob(o,h)).command(()=>Tb(o,h)).run()},Vte=(e,t={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:o=!1}=r,a=co(e,n.schema);return Mw(n,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},Wte=(e,t,r={})=>({state:n,commands:i})=>{const o=wt(e,n.schema),a=wt(t,n.schema),s=Jo(n,o,r);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...r})},Kte=(e,t={})=>({state:r,commands:n})=>{const i=wt(e,r.schema);return Jo(r,i,t)?n.lift(i):n.wrapIn(i,t)},Gte=()=>({state:e,dispatch:t})=>{const r=e.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const a=e.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},qte=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,{empty:n,ranges:i}=r;return n||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},Yte=(e,t={})=>({tr:r,state:n,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=r,l=co(e,n.schema),{$from:c,empty:u,ranges:f}=s;if(!i)return!0;if(u&&a){let{from:d,to:h}=s;const p=(o=c.marks().find(m=>m.type===l))==null?void 0:o.attrs,g=PS(c,l,p);g&&(d=g.from,h=g.to),r.removeMark(d,h,l)}else f.forEach(d=>{r.removeMark(d.$from.pos,d.$to.pos,l)});return r.removeStoredMark(l),!0},Jte=(e,t={})=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=Ym(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=wt(e,n.schema)),s==="mark"&&(a=co(e,n.schema)),i&&r.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let f,d,h,p;r.selection.empty?n.doc.nodesBetween(c,u,(g,m)=>{o&&o===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),f=m,d=g)}):n.doc.nodesBetween(c,u,(g,m)=>{m<c&&o&&o===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),f=m,d=g),m>=c&&m<=u&&(o&&o===g.type&&r.setNodeMarkup(m,void 0,{...g.attrs,...t}),a&&g.marks.length&&g.marks.forEach(v=>{if(a===v.type){const b=Math.max(m,c),y=Math.min(m+g.nodeSize,u);r.addMark(b,y,a.create({...v.attrs,...t}))}}))}),d&&(f!==void 0&&r.setNodeMarkup(f,void 0,{...d.attrs,...t}),a&&d.marks.length&&d.marks.forEach(g=>{a===g.type&&r.addMark(h,p,a.create({...g.attrs,...t}))}))}),!0):!1},Xte=(e,t={})=>({state:r,dispatch:n})=>{const i=wt(e,r.schema);return IQ(i,t)(r,n)},Qte=(e,t={})=>({state:r,dispatch:n})=>{const i=wt(e,r.schema);return PQ(i,t)(r,n)},Zte=class{constructor(){this.callbacks={}}on(t,r){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),this}emit(t,...r){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,r)),this}off(t,r){const n=this.callbacks[t];return n&&(r?this.callbacks[t]=n.filter(i=>i!==r):delete this.callbacks[t]),this}once(t,r){const n=(...i)=>{this.off(t,n),r.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Bf=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},ere=(e,t)=>{if(IS(t))return t.exec(e);const r=t(e);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=e,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function jd(e){var t;const{editor:r,from:n,to:i,text:o,rules:a,plugin:s}=e,{view:l}=r;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(d=>d.type.spec.code))return!1;let u=!1;const f=Ate(c)+o;return a.forEach(d=>{if(u)return;const h=ere(f,d.find);if(!h)return;const p=l.state.tr,g=Gm({state:l.state,transaction:p}),m={from:n-(h[0].length-o.length),to:i},{commands:v,chain:b,can:y}=new qm({editor:r,state:g});d.handler({state:g,range:m,match:h,commands:v,chain:b,can:y})===null||!p.steps.length||(d.undoable&&p.setMeta(s,{transform:p,from:n,to:i,text:o}),l.dispatch(p),u=!0)}),u}function tre(e){const{editor:t,rules:r}=e,n=new st({state:{init(){return null},apply(i,o,a){const s=i.getMeta(n);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=LS(V.from(u),a.schema);const{from:f}=l,d=f+u.length;jd({editor:t,from:f,to:d,text:u,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return jd({editor:t,from:o,to:a,text:s,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&jd({editor:t,from:o.pos,to:o.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?jd({editor:t,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function rre(e){return Object.prototype.toString.call(e).slice(8,-1)}function Bd(e){return rre(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function c6(e,t){const r={...e};return Bd(e)&&Bd(t)&&Object.keys(t).forEach(n=>{Bd(t[n])&&Bd(e[n])?r[n]=c6(e[n],t[n]):r[n]=t[n]}),r}var FS=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Le(ce(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Le(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>c6(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},uo=class u6 extends FS{constructor(){super(...arguments),this.type="mark"}static create(t={}){const r=typeof t=="function"?t():t;return new u6(r)}static handleExit({editor:t,mark:r}){const{tr:n}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>(c==null?void 0:c.type.name)===r.name))return!1;const l=a.find(c=>(c==null?void 0:c.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),t.view.dispatch(n),!0}return!1}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function nre(e){return typeof e=="number"}var ire=class{constructor(e){this.find=e.find,this.handler=e.handler}},ore=(e,t,r)=>{if(IS(t))return[...e.matchAll(t)];const n=t(e,r);return n?n.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function are(e){const{editor:t,state:r,from:n,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new qm({editor:t,state:r}),f=[];return r.doc.nodesBetween(n,i,(h,p)=>{var g,m,v,b,y;if((m=(g=h.type)==null?void 0:g.spec)!=null&&m.code||!(h.isText||h.isTextblock||h.isInline))return;const w=(y=(b=(v=h.content)==null?void 0:v.size)!=null?b:h.nodeSize)!=null?y:0,$=Math.max(n,p),k=Math.min(i,p+w);if($>=k)return;const O=h.isText?h.text||"":h.textBetween($-p,k-p,void 0,"");ore(O,o.find,a).forEach(D=>{if(D.index===void 0)return;const L=$+D.index+1,I=L+D[0].length,E={from:r.tr.mapping.map(L),to:r.tr.mapping.map(I)},_=o.handler({state:r,range:E,match:D,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});f.push(_)})}),f.every(h=>h!==null)}var zd=null,sre=e=>{var t;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=r.clipboardData)==null||t.setData("text/html",e),r};function lre(e){const{editor:t,rules:r}=e;let n=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}const l=({state:u,from:f,to:d,rule:h,pasteEvt:p})=>{const g=u.tr,m=Gm({state:u,transaction:g});if(!(!are({editor:t,state:m,from:Math.max(f-1,0),to:d.b-1,rule:h,pasteEvent:p,dropEvent:s})||!g.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return r.map(u=>new st({view(f){const d=p=>{var g;n=(g=f.dom.parentElement)!=null&&g.contains(p.target)?f.dom.parentElement:null,n&&(zd=t)},h=()=>{zd&&(zd=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,d)=>{if(o=n===f.dom.parentElement,s=d,!o){const h=zd;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(f,d)=>{var h;const p=(h=d.clipboardData)==null?void 0:h.getData("text/html");return a=d,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(f,d,h)=>{const p=f[0],g=p.getMeta("uiEvent")==="paste"&&!i,m=p.getMeta("uiEvent")==="drop"&&!o,v=p.getMeta("applyPasteRules"),b=!!v;if(!g&&!m&&!b)return;if(b){let{text:$}=v;typeof $=="string"?$=$:$=LS(V.from($),h.schema);const{from:k}=v,O=k+$.length,T=sre($);return l({rule:u,state:h,from:k,to:{b:O},pasteEvt:T})}const y=d.doc.content.findDiffStart(h.doc.content),w=d.doc.content.findDiffEnd(h.doc.content);if(!(!nre(y)||!w||y===w.b))return l({rule:u,state:h,from:y,to:w,pasteEvt:a})}}))}var Qm=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=n6(e),this.schema=Ste(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:kb(t.name,this.schema)},n=ce(t,"addCommands",r);return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this;return NS([...this.extensions].reverse()).flatMap(n=>{const i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:kb(n.name,this.schema)},o=[],a=ce(n,"addKeyboardShortcuts",i);let s={};if(n.type==="mark"&&ce(n,"exitable",i)&&(s.ArrowRight=()=>uo.handleExit({editor:e,mark:n})),a){const d=Object.fromEntries(Object.entries(a()).map(([h,p])=>[h,()=>p({editor:e})]));s={...s,...d}}const l=Tee(s);o.push(l);const c=ce(n,"addInputRules",i);if(mM(n,e.options.enableInputRules)&&c){const d=c();if(d&&d.length){const h=tre({editor:e,rules:d}),p=Array.isArray(h)?h:[h];o.push(...p)}}const u=ce(n,"addPasteRules",i);if(mM(n,e.options.enablePasteRules)&&u){const d=u();if(d&&d.length){const h=lre({editor:e,rules:d});o.push(...h)}}const f=ce(n,"addProseMirrorPlugins",i);if(f){const d=f();o.push(...d)}return o})}get attributes(){return r6(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=lf(this.extensions);return Object.fromEntries(t.filter(r=>!!ce(r,"addNodeView")).map(r=>{const n=this.attributes.filter(s=>s.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:wt(r.name,this.schema)},o=ce(r,"addNodeView",i);if(!o)return[];const a=(s,l,c,u,f)=>{const d=ag(s,n);return o()({node:s,view:l,getPos:c,decorations:u,innerDecorations:f,editor:e,extension:r,HTMLAttributes:d})};return[r.name,a]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=lf(this.extensions);return Object.fromEntries(t.filter(r=>!!ce(r,"addMarkView")).map(r=>{const n=this.attributes.filter(s=>s.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:co(r.name,this.schema)},o=ce(r,"addMarkView",i);if(!o)return[];const a=(s,l,c)=>{const u=ag(s,n);return o()({mark:s,view:l,inline:c,editor:e,extension:r,HTMLAttributes:u,updateAttributes:f=>{xre(s,e,f)}})};return[r.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var r;const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:kb(t.name,this.schema)};t.type==="mark"&&((r=Le(ce(t,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(t.name);const i=ce(t,"onBeforeCreate",n),o=ce(t,"onCreate",n),a=ce(t,"onUpdate",n),s=ce(t,"onSelectionUpdate",n),l=ce(t,"onTransaction",n),c=ce(t,"onFocus",n),u=ce(t,"onBlur",n),f=ce(t,"onDestroy",n);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}};Qm.resolve=n6;Qm.sort=NS;Qm.flatten=DS;var cre={};AS(cre,{ClipboardTextSerializer:()=>d6,Commands:()=>h6,Delete:()=>p6,Drop:()=>g6,Editable:()=>m6,FocusEvents:()=>b6,Keymap:()=>y6,Paste:()=>$6,Tabindex:()=>w6,focusEventsPluginKey:()=>v6});var je=class f6 extends FS{constructor(){super(...arguments),this.type="extension"}static create(t={}){const r=typeof t=="function"?t():t;return new f6(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}},d6=je.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new st({key:new Vt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:r}=e,{doc:n,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(u=>u.$from.pos)),s=Math.max(...o.map(u=>u.$to.pos)),l=o6(r);return i6(n,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),h6=je.create({name:"commands",addCommands(){return{...GR}}}),p6=je.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var r,n,i;const o=()=>{var a,s,l,c;if((c=(l=(s=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:s.filterTransaction)==null?void 0:l.call(s,e))!=null?c:e.getMeta("y-sync$"))return;const u=e6(e.before,[e,...t]);s6(u).forEach(h=>{u.mapping.mapResult(h.oldRange.from).deletedAfter&&u.mapping.mapResult(h.oldRange.to).deletedBefore&&u.before.nodesBetween(h.oldRange.from,h.oldRange.to,(p,g)=>{const m=g+p.nodeSize-2,v=h.oldRange.from<=g&&m<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:g,to:m,newFrom:u.mapping.map(g),newTo:u.mapping.map(m),deletedRange:h.oldRange,newRange:h.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const d=u.mapping;u.steps.forEach((h,p)=>{var g,m;if(h instanceof Rn){const v=d.slice(p).map(h.from,-1),b=d.slice(p).map(h.to),y=d.invert().map(v,-1),w=d.invert().map(b),$=(g=u.doc.nodeAt(v-1))==null?void 0:g.marks.some(O=>O.eq(h.mark)),k=(m=u.doc.nodeAt(b))==null?void 0:m.marks.some(O=>O.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:y,to:w},newRange:{from:v,to:b},partial:!!(k||$),editor:this.editor,transaction:e,combinedTransform:u})}})};(i=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||i?setTimeout(o,0):o()}}),g6=je.create({name:"drop",addProseMirrorPlugins(){return[new st({key:new Vt("tiptapDrop"),props:{handleDrop:(e,t,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:r,moved:n})}}})]}}),m6=je.create({name:"editable",addProseMirrorPlugins(){return[new st({key:new Vt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),v6=new Vt("focusEvents"),b6=je.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new st({key:v6,props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;const n=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,r)=>{e.isFocused=!1;const n=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),y6=je.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:u,$anchor:f}=l,{pos:d,parent:h}=f,p=f.parent.isTextblock&&d>0?s.doc.resolve(d-1):f,g=p.parent.type.spec.isolating,m=f.pos-f.parentOffset,v=g&&p.parent.childCount===1?m===f.pos:xe.atStart(c).from===d;return!u||!h.type.isTextblock||h.textContent.length||!v||v&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _S()||QR()?o:i},addProseMirrorPlugins(){return[new st({key:new Vt("clearDocument"),appendTransaction:(e,t,r)=>{if(e.some(g=>g.getMeta("composition")))return;const n=e.some(g=>g.docChanged)&&!t.doc.eq(r.doc),i=e.some(g=>g.getMeta("preventClearDocument"));if(!n||i)return;const{empty:o,from:a,to:s}=t.selection,l=xe.atStart(t.doc).from,c=xe.atEnd(t.doc).to;if(o||!(a===l&&s===c)||!Xm(r.doc))return;const d=r.tr,h=Gm({state:r,transaction:d}),{commands:p}=new qm({editor:this.editor,state:h});if(p.clearNodes(),!!d.steps.length)return d}})]}}),$6=je.create({name:"paste",addProseMirrorPlugins(){return[new st({key:new Vt("tiptapPaste"),props:{handlePaste:(e,t,r)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:r})}}})]}}),w6=je.create({name:"tabindex",addProseMirrorPlugins(){return[new st({key:new Vt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),ure=class ul{constructor(t,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=r,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(t);return new ul(r,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new ul(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new ul(t,this.editor)}get children(){const t=[];return this.node.content.forEach((r,n)=>{const i=r.isBlock&&!r.isTextblock,o=r.isAtom&&!r.isText,a=this.pos+n+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;const l=new ul(s,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),t.push(new ul(s,this.editor,i,i?r:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===t)if(Object.keys(r).length>0){const o=i.node.attrs,a=Object.keys(r);for(let s=0;s<a.length;s+=1){const l=a[s];if(o[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(t,r={}){return this.querySelectorAll(t,r,!0)[0]||null}querySelectorAll(t,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(r);return this.children.forEach(a=>{n&&i.length>0||(a.node.type.name===t&&o.every(l=>r[l]===a.node.attrs[l])&&i.push(a),!(n&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,r,n))))}),i}setAttribute(t){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(r)}},fre=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function dre(e,t,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var hre=class extends Zte{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:o})=>this.options.onDrop(n,i,o)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),r=JR(t,this.options.autofocus);this.editorState=vl.create({doc:t,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=dre(fre,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const r=t6(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;r=r.filter(a=>!a.key.startsWith(o))}),t.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[m6,d6.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),h6,b6,y6,w6,g6,$6,p6].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Qm(n,this)}createCommandManager(){this.commandManager=new qm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Ew(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=Ew(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new WR(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:t,transactions:r}=this.state.applyTransaction(e),n=!this.state.selection.eq(t.selection),i=r.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=r.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),s=a==null?void 0:a.getMeta("focus"),l=a==null?void 0:a.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(e.getMeta("preventUpdate")||!r.some(c=>c.docChanged)||o.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return a6(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,n=typeof e=="string"?t:e;return Ite(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return LS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Ote(this.state.doc,{blockSeparator:t,textSerializers:{...o6(this.schema),...r}})}get isEmpty(){return Xm(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new ure(t,this)}get $doc(){return this.$pos(0)}};function rs(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Le(e.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:o}=t,a=n[n.length-1],s=n[0];if(a){const l=s.search(/\S/),c=r.from+s.indexOf(a),u=c+a.length;if(RS(r.from,r.to,t.doc).filter(h=>h.mark.type.excluded.find(g=>g===e.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<r.to&&o.delete(u,r.to),c>r.from&&o.delete(r.from+l,c);const d=r.from+l+a.length;o.addMark(r.from+l,d,e.type.create(i||{})),o.removeStoredMark(e.type)}},undoable:e.undoable})}function pre(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Le(e.getAttributes,void 0,n)||{},{tr:o}=t,a=r.from;let s=r.to;const l=e.type.create(i);if(n[1]){const c=n[0].lastIndexOf(n[1]);let u=a+c;u>s?u=s:s=u+n[1].length;const f=n[0][n[0].length-1];o.insertText(f,a+n[0].length-1),o.replaceWith(u,s,l)}else if(n[0]){const c=e.type.isInline?a:a-1;o.insert(c,e.type.create(i)).delete(o.mapping.map(a),o.mapping.map(s))}o.scrollIntoView()},undoable:e.undoable})}function Aw(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n})=>{const i=t.doc.resolve(r.from),o=Le(e.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,o)},undoable:e.undoable})}function lt(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n})=>{let i=e.replace,o=r.from;const a=r.to;if(n[1]){const s=n[0].lastIndexOf(n[1]);i+=n[0].slice(s+n[1].length),o+=s;const l=o-a;l>0&&(i=n[0].slice(s-l,s)+i,o=a)}t.tr.insertText(i,o,a)},undoable:e.undoable})}function Vl(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n,chain:i})=>{const o=Le(e.getAttributes,void 0,n)||{},a=t.tr.delete(r.from,r.to),l=a.doc.resolve(r.from).blockRange(),c=l&&pS(l,e.type,o);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:f,storedMarks:d}=t,{splittableMarks:h}=e.editor.extensionManager,p=d||f.$to.parentOffset&&f.$from.marks();if(p){const g=p.filter(m=>h.includes(m.type.name));a.ensureMarks(g)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,o).run()}const u=a.doc.resolve(r.from-1).nodeBefore;u&&u.type===e.type&&la(a.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(n,u))&&a.join(r.from-1)},undoable:e.undoable})}function gre(e,t){const{selection:r}=e,{$from:n}=r;if(r instanceof fe){const o=n.index();return n.parent.canReplaceWith(o,o+1,t)}let i=n.depth;for(;i>=0;){const o=n.index(i);if(n.node(i).contentMatchAt(o).matchType(t))return!0;i-=1}return!1}var mre={};AS(mre,{createAtomBlockMarkdownSpec:()=>vre,createBlockMarkdownSpec:()=>bre,createInlineMarkdownSpec:()=>wre,parseAttributes:()=>jS,parseIndentedBlocks:()=>Iw,renderNestedMarkdownContent:()=>zS,serializeAttributes:()=>BS});function jS(e){if(!(e!=null&&e.trim()))return{};const t={},r=[],n=e.replace(/["']([^"']*)["']/g,c=>(r.push(c),`__QUOTED_${r.length-1}__`)),i=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));t.class=c.join(" ")}const o=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(t.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(a)).forEach(([,c,u])=>{var f;const d=parseInt(((f=u.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),h=r[d];h&&(t[c]=h.slice(1,-1))});const l=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function BS(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(n=>t.push(`.${n}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?t.push(r):n!==!1&&n!=null&&t.push(`${r}="${String(n)}"`))}),t.join(" ")}function vre(e){const{nodeName:t,name:r,parseAttributes:n=jS,serializeAttributes:i=BS,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:s}=e,l=r||t,c=u=>{if(!s)return u;const f={};return s.forEach(d=>{d in u&&(f[d]=u[d])}),f};return{parseMarkdown:(u,f)=>{const d={...o,...u.attributes};return f.createNode(t,d,[])},markdownTokenizer:{name:t,level:"block",start(u){var f;const d=new RegExp(`^:::${l}(?:\\s|$)`,"m"),h=(f=u.match(d))==null?void 0:f.index;return h!==void 0?h:-1},tokenize(u,f,d){const h=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),p=u.match(h);if(!p)return;const g=p[1]||"",m=n(g);if(!a.find(b=>!(b in m)))return{type:t,raw:p[0],attributes:m}}},renderMarkdown:u=>{const f=c(u.attrs||{}),d=i(f),h=d?` {${d}}`:"";return`:::${l}${h} :::`}}}function bre(e){const{nodeName:t,name:r,getContent:n,parseAttributes:i=jS,serializeAttributes:o=BS,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=r||t,u=f=>{if(!l)return f;const d={};return l.forEach(h=>{h in f&&(d[h]=f[h])}),d};return{parseMarkdown:(f,d)=>{let h;if(n){const g=n(f);h=typeof g=="string"?[{type:"text",text:g}]:g}else s==="block"?h=d.parseChildren(f.tokens||[]):h=d.parseInline(f.tokens||[]);const p={...a,...f.attributes};return d.createNode(t,p,h)},markdownTokenizer:{name:t,level:"block",start(f){var d;const h=new RegExp(`^:::${c}`,"m"),p=(d=f.match(h))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(f,d,h){var p;const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),m=f.match(g);if(!m)return;const[v,b=""]=m,y=i(b);let w=1;const $=v.length;let k="";const O=/^:::([\w-]*)(\s.*)?/gm,T=f.slice($);for(O.lastIndex=0;;){const D=O.exec(T);if(D===null)break;const L=D.index,I=D[1];if(!((p=D[2])!=null&&p.endsWith(":::"))){if(I)w+=1;else if(w-=1,w===0){const E=T.slice(0,L);k=E.trim();const _=f.slice(0,$+L+D[0].length);let S=[];if(k)if(s==="block")for(S=h.blockTokens(E),S.forEach(C=>{C.text&&(!C.tokens||C.tokens.length===0)&&(C.tokens=h.inlineTokens(C.text))});S.length>0;){const C=S[S.length-1];if(C.type==="paragraph"&&(!C.text||C.text.trim()===""))S.pop();else break}else S=h.inlineTokens(k);return{type:t,raw:_,attributes:y,content:k,tokens:S}}}}}},renderMarkdown:(f,d)=>{const h=u(f.attrs||{}),p=o(h),g=p?` {${p}}`:"",m=d.renderChildren(f.content||[],`

`);return`:::${c}${g}

${m}

:::`}}}function yre(e){if(!e.trim())return{};const t={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(e);for(;n!==null;){const[,i,o,a]=n;t[i]=o||a,n=r.exec(e)}return t}function $re(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,r])=>`${t}="${r}"`).join(" ")}function wre(e){const{nodeName:t,name:r,getContent:n,parseAttributes:i=yre,serializeAttributes:o=$re,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=r||t,u=d=>{if(!l)return d;const h={};return l.forEach(p=>{p in d&&(h[p]=d[p])}),h},f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(d,h)=>{const p={...a,...d.attributes};if(s)return h.createNode(t,p);const g=n?n(d):d.content||"";return g?h.createNode(t,p,[h.createTextNode(g)]):h.createNode(t,p,[])},markdownTokenizer:{name:t,level:"inline",start(d){const h=s?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),p=d.match(h),g=p==null?void 0:p.index;return g!==void 0?g:-1},tokenize(d,h,p){const g=s?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),m=d.match(g);if(!m)return;let v="",b="";if(s){const[,w]=m;b=w}else{const[,w,$]=m;b=w,v=$||""}const y=i(b.trim());return{type:t,raw:m[0],content:v.trim(),attributes:y}}},renderMarkdown:d=>{let h="";n?h=n(d):d.content&&d.content.length>0&&(h=d.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const p=u(d.attrs||{}),g=o(p),m=g?` ${g}`:"";return s?`[${c}${m}]`:`[${c}${m}]${h}[/${c}]`}}}function Iw(e,t,r){var n,i,o,a;const s=e.split(`
`),l=[];let c="",u=0;const f=t.baseIndentSize||2;for(;u<s.length;){const d=s[u],h=d.match(t.itemPattern);if(!h){if(l.length>0)break;if(d.trim()===""){u+=1;continue}else return}const p=t.extractItemData(h),{indentLevel:g,mainContent:m}=p;c=`${c}${d}
`;const v=[m];for(u+=1;u<s.length;){const $=s[u];if($.trim()===""){const O=s.slice(u+1).findIndex(L=>L.trim()!=="");if(O===-1)break;if((((i=(n=s[u+1+O].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:i.length)||0)>g){v.push($),c=`${c}${$}
`,u+=1;continue}else break}if((((a=(o=$.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>g)v.push($),c=`${c}${$}
`,u+=1;else break}let b;const y=v.slice(1);if(y.length>0){const $=y.map(k=>k.slice(g+f)).join(`
`);$.trim()&&(t.customNestedParser?b=t.customNestedParser($):b=r.blockTokens($))}const w=t.createToken(p,b);l.push(w)}if(l.length!==0)return{items:l,raw:c.trim()}}function zS(e,t,r,n){if(!e||!Array.isArray(e.content))return"";const i=typeof r=="function"?r(n):r,[o,...a]=e.content,s=t.renderChildren([o]),l=[`${i}${s}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const f=u.split(`
`).map(d=>d?t.indent(d):"").join(`
`);l.push(f)}}),l.join(`
`)}function xre(e,t,r={}){const{state:n}=t,{doc:i,tr:o}=n,a=e;i.descendants((s,l)=>{const c=o.mapping.map(l),u=o.mapping.map(l)+s.nodeSize;let f=null;if(s.marks.forEach(h=>{if(h!==a)return!1;f=h}),!f)return;let d=!1;if(Object.keys(r).forEach(h=>{r[h]!==f.attrs[h]&&(d=!0)}),d){const h=e.type.create({...e.attrs,...r});o.removeMark(c,u,e.type),o.addMark(c,u,h)}}),o.docChanged&&t.view.dispatch(o)}var rn=class x6 extends FS{constructor(){super(...arguments),this.type="node"}static create(t={}){const r=typeof t=="function"?t():t;return new x6(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Xo(e){return new ire({find:e.find,handler:({state:t,range:r,match:n,pasteEvent:i})=>{const o=Le(e.getAttributes,void 0,n,i);if(o===!1||o===null)return null;const{tr:a}=t,s=n[n.length-1],l=n[0];let c=r.to;if(s){const u=l.search(/\S/),f=r.from+l.indexOf(s),d=f+s.length;if(RS(r.from,r.to,t.doc).filter(p=>p.mark.type.excluded.find(m=>m===e.type&&m!==p.mark.type)).filter(p=>p.to>f).length)return null;d<r.to&&a.delete(d,r.to),f>r.from&&a.delete(r.from+u,f),c=r.from+u+s.length,a.addMark(r.from+u,c,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var sg=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:r,...n}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,n,r]},Sre=/^\s*>\s$/,kre=rn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return sg("blockquote",{...at(this.options.HTMLAttributes,e),children:sg("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const r=[];return e.content.forEach(i=>{const a=t.renderChildren(i).split(`
`).map(s=>`> ${s}`).join(`
`);r.push(a)}),r.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Vl({find:Sre,type:this.type})]}}),Ore=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Tre=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Cre=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Ere=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Mre=uo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return sg("strong",{...at(this.options.HTMLAttributes,e),children:sg("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[rs({find:Ore,type:this.type}),rs({find:Cre,type:this.type})]},addPasteRules(){return[Xo({find:Tre,type:this.type}),Xo({find:Ere,type:this.type})]}}),Are=/(^|[^`])`([^`]+)`(?!`)$/,Ire=/(^|[^`])`([^`]+)`(?!`)/g,Pre=uo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[rs({find:Are,type:this.type})]},addPasteRules(){return[Xo({find:Ire,type:this.type})]}}),Cb=4,_re=/^```([a-z]+)?[\s\n]$/,Dre=/^~~~([a-z]+)?[\s\n]$/,Lre=rn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Cb,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:r}=this.options;if(!r)return null;const o=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",at(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var r;return((r=e.raw)==null?void 0:r.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var r;let n="";const i=((r=e.attrs)==null?void 0:r.language)||"";return e.content?n=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):n=`\`\`\`${i}

\`\`\``,n},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,r=t.pos===1;return!e||t.parent.type.name!==this.name?!1:r||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Cb,{state:n}=e,{selection:i}=n,{$from:o,empty:a}=i;if(o.parent.type!==this.type)return!1;const s=" ".repeat(r);return a?e.commands.insertContent(s):e.commands.command(({tr:l})=>{const{from:c,to:u}=i,h=n.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>s+p).join(`
`);return l.replaceWith(c,u,n.schema.text(h)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Cb,{state:n}=e,{selection:i}=n,{$from:o,empty:a}=i;return o.parent.type!==this.type?!1:a?e.commands.command(({tr:s})=>{var l;const{pos:c}=o,u=o.start(),f=o.end(),h=n.doc.textBetween(u,f,`
`,`
`).split(`
`);let p=0,g=0;const m=c-u;for(let k=0;k<h.length;k+=1){if(g+h[k].length>=m){p=k;break}g+=h[k].length+1}const b=((l=h[p].match(/^ */))==null?void 0:l[0])||"",y=Math.min(b.length,r);if(y===0)return!0;let w=u;for(let k=0;k<p;k+=1)w+=h[k].length+1;return s.delete(w,w+y),c-w<=y&&s.setSelection(ve.create(s.doc,w)),!0}):e.commands.command(({tr:s})=>{const{from:l,to:c}=i,d=n.doc.textBetween(l,c,`
`,`
`).split(`
`).map(h=>{var p;const g=((p=h.match(/^ */))==null?void 0:p[0])||"",m=Math.min(g.length,r);return h.slice(m)}).join(`
`);return s.replaceWith(l,c,n.schema.text(d)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:r}=t,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const o=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!o||!a?!1:e.chain().command(({tr:s})=>(s.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:r,doc:n}=t,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();return s===void 0?!1:n.nodeAt(s)?e.commands.command(({tr:c})=>(c.setSelection(xe.near(n.resolve(s))),!0)):e.commands.exitCode()}}},addInputRules(){return[Aw({find:_re,type:this.type,getAttributes:e=>({language:e[1]})}),Aw({find:Dre,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new st({key:new Vt("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const r=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,o=i==null?void 0:i.mode;if(!r||!o)return!1;const{tr:a,schema:s}=e.state,l=s.text(r.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(ve.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),Nre=rn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),Rre=rn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",at(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:(e,t)=>t.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=n.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&a){const f=l.filter(d=>s.includes(d.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Fre=rn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,at(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var r;const n=(r=e.attrs)!=null&&r.level?parseInt(e.attrs.level,10):1,i="#".repeat(n);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Aw({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),jre=rn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",at(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!gre(t,t.schema.nodes[this.name]))return!1;const{selection:r}=t,{$to:n}=r,i=e();return l6(r)?i.insertContentAt(n.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:a,dispatch:s})=>{if(s){const{$to:l}=a.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(ve.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection(fe.create(a.doc,l.pos)):a.setSelection(ve.create(a.doc,l.pos));else{const u=o.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,f=u==null?void 0:u.create();f&&(a.insert(c,f),a.setSelection(ve.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[pre({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Bre=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,zre=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Hre=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Ure=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Vre=uo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",at(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[rs({find:Bre,type:this.type}),rs({find:Hre,type:this.type})]},addPasteRules(){return[Xo({find:zre,type:this.type}),Xo({find:Ure,type:this.type})]}});const Wre="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Kre="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Pw="numeric",_w="ascii",Dw="alpha",Au="asciinumeric",hu="alphanumeric",Lw="domain",S6="emoji",Gre="scheme",qre="slashscheme",Eb="whitespace";function Yre(e,t){return e in t||(t[e]=[]),t[e]}function ja(e,t,r){t[Pw]&&(t[Au]=!0,t[hu]=!0),t[_w]&&(t[Au]=!0,t[Dw]=!0),t[Au]&&(t[hu]=!0),t[Dw]&&(t[hu]=!0),t[hu]&&(t[Lw]=!0),t[S6]&&(t[Lw]=!0);for(const n in t){const i=Yre(n,r);i.indexOf(e)<0&&i.push(e)}}function Jre(e,t){const r={};for(const n in t)t[n].indexOf(e)>=0&&(r[n]=!0);return r}function Ar(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Ar.groups={};Ar.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let n=0;n<t.jr.length;n++){const i=t.jr[n][0],o=t.jr[n][1];if(o&&i.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,n){for(let i=0;i<e.length;i++)this.tt(e[i],t,r,n)},tr(e,t,r,n){n=n||Ar.groups;let i;return t&&t.j?i=t:(i=new Ar(t),r&&n&&ja(t,r,n)),this.jr.push([e,i]),i},ts(e,t,r,n){let i=this;const o=e.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(e[a]);return i.tt(e[o-1],t,r,n)},tt(e,t,r,n){n=n||Ar.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let a,s=i.go(e);if(s?(a=new Ar,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new Ar,o){if(n)if(a.t&&typeof a.t=="string"){const l=Object.assign(Jre(a.t,n),r);ja(o,l,n)}else r&&ja(o,r,n);a.t=o}return i.j[e]=a,a}};const we=(e,t,r,n,i)=>e.ta(t,r,n,i),it=(e,t,r,n,i)=>e.tr(t,r,n,i),yM=(e,t,r,n,i)=>e.ts(t,r,n,i),K=(e,t,r,n,i)=>e.tt(t,r,n,i),Fi="WORD",Nw="UWORD",k6="ASCIINUMERICAL",O6="ALPHANUMERICAL",cf="LOCALHOST",Rw="TLD",Fw="UTLD",ap="SCHEME",fl="SLASH_SCHEME",HS="NUM",jw="WS",US="NL",Iu="OPENBRACE",Pu="CLOSEBRACE",lg="OPENBRACKET",cg="CLOSEBRACKET",ug="OPENPAREN",fg="CLOSEPAREN",dg="OPENANGLEBRACKET",hg="CLOSEANGLEBRACKET",pg="FULLWIDTHLEFTPAREN",gg="FULLWIDTHRIGHTPAREN",mg="LEFTCORNERBRACKET",vg="RIGHTCORNERBRACKET",bg="LEFTWHITECORNERBRACKET",yg="RIGHTWHITECORNERBRACKET",$g="FULLWIDTHLESSTHAN",wg="FULLWIDTHGREATERTHAN",xg="AMPERSAND",Sg="APOSTROPHE",kg="ASTERISK",Oo="AT",Og="BACKSLASH",Tg="BACKTICK",Cg="CARET",Io="COLON",VS="COMMA",Eg="DOLLAR",ti="DOT",Mg="EQUALS",WS="EXCLAMATION",cn="HYPHEN",_u="PERCENT",Ag="PIPE",Ig="PLUS",Pg="POUND",Du="QUERY",KS="QUOTE",T6="FULLWIDTHMIDDLEDOT",GS="SEMI",ri="SLASH",Lu="TILDE",_g="UNDERSCORE",C6="EMOJI",Dg="SYM";var E6=Object.freeze({__proto__:null,ALPHANUMERICAL:O6,AMPERSAND:xg,APOSTROPHE:Sg,ASCIINUMERICAL:k6,ASTERISK:kg,AT:Oo,BACKSLASH:Og,BACKTICK:Tg,CARET:Cg,CLOSEANGLEBRACKET:hg,CLOSEBRACE:Pu,CLOSEBRACKET:cg,CLOSEPAREN:fg,COLON:Io,COMMA:VS,DOLLAR:Eg,DOT:ti,EMOJI:C6,EQUALS:Mg,EXCLAMATION:WS,FULLWIDTHGREATERTHAN:wg,FULLWIDTHLEFTPAREN:pg,FULLWIDTHLESSTHAN:$g,FULLWIDTHMIDDLEDOT:T6,FULLWIDTHRIGHTPAREN:gg,HYPHEN:cn,LEFTCORNERBRACKET:mg,LEFTWHITECORNERBRACKET:bg,LOCALHOST:cf,NL:US,NUM:HS,OPENANGLEBRACKET:dg,OPENBRACE:Iu,OPENBRACKET:lg,OPENPAREN:ug,PERCENT:_u,PIPE:Ag,PLUS:Ig,POUND:Pg,QUERY:Du,QUOTE:KS,RIGHTCORNERBRACKET:vg,RIGHTWHITECORNERBRACKET:yg,SCHEME:ap,SEMI:GS,SLASH:ri,SLASH_SCHEME:fl,SYM:Dg,TILDE:Lu,TLD:Rw,UNDERSCORE:_g,UTLD:Fw,UWORD:Nw,WORD:Fi,WS:jw});const Pi=/[a-z]/,_c=new RegExp("\\p{L}","u"),Mb=new RegExp("\\p{Emoji}","u"),_i=/\d/,Ab=/\s/,$M="\r",Ib=`
`,Xre="",Qre="",Pb="";let Hd=null,Ud=null;function Zre(e=[]){const t={};Ar.groups=t;const r=new Ar;Hd==null&&(Hd=wM(Wre)),Ud==null&&(Ud=wM(Kre)),K(r,"'",Sg),K(r,"{",Iu),K(r,"}",Pu),K(r,"[",lg),K(r,"]",cg),K(r,"(",ug),K(r,")",fg),K(r,"<",dg),K(r,">",hg),K(r,"",pg),K(r,"",gg),K(r,"",mg),K(r,"",vg),K(r,"",bg),K(r,"",yg),K(r,"",$g),K(r,"",wg),K(r,"&",xg),K(r,"*",kg),K(r,"@",Oo),K(r,"`",Tg),K(r,"^",Cg),K(r,":",Io),K(r,",",VS),K(r,"$",Eg),K(r,".",ti),K(r,"=",Mg),K(r,"!",WS),K(r,"-",cn),K(r,"%",_u),K(r,"|",Ag),K(r,"+",Ig),K(r,"#",Pg),K(r,"?",Du),K(r,'"',KS),K(r,"/",ri),K(r,";",GS),K(r,"~",Lu),K(r,"_",_g),K(r,"\\",Og),K(r,"",T6);const n=it(r,_i,HS,{[Pw]:!0});it(n,_i,n);const i=it(n,Pi,k6,{[Au]:!0}),o=it(n,_c,O6,{[hu]:!0}),a=it(r,Pi,Fi,{[_w]:!0});it(a,_i,i),it(a,Pi,a),it(i,_i,i),it(i,Pi,i);const s=it(r,_c,Nw,{[Dw]:!0});it(s,Pi),it(s,_i,o),it(s,_c,s),it(o,_i,o),it(o,Pi),it(o,_c,o);const l=K(r,Ib,US,{[Eb]:!0}),c=K(r,$M,jw,{[Eb]:!0}),u=it(r,Ab,jw,{[Eb]:!0});K(r,Pb,u),K(c,Ib,l),K(c,Pb,u),it(c,Ab,u),K(u,$M),K(u,Ib),it(u,Ab,u),K(u,Pb,u);const f=it(r,Mb,C6,{[S6]:!0});K(f,"#"),it(f,Mb,f),K(f,Xre,f);const d=K(f,Qre);K(d,"#"),it(d,Mb,f);const h=[[Pi,a],[_i,i]],p=[[Pi,null],[_c,s],[_i,o]];for(let g=0;g<Hd.length;g++)xo(r,Hd[g],Rw,Fi,h);for(let g=0;g<Ud.length;g++)xo(r,Ud[g],Fw,Nw,p);ja(Rw,{tld:!0,ascii:!0},t),ja(Fw,{utld:!0,alpha:!0},t),xo(r,"file",ap,Fi,h),xo(r,"mailto",ap,Fi,h),xo(r,"http",fl,Fi,h),xo(r,"https",fl,Fi,h),xo(r,"ftp",fl,Fi,h),xo(r,"ftps",fl,Fi,h),ja(ap,{scheme:!0,ascii:!0},t),ja(fl,{slashscheme:!0,ascii:!0},t),e=e.sort((g,m)=>g[0]>m[0]?1:-1);for(let g=0;g<e.length;g++){const m=e[g][0],b=e[g][1]?{[Gre]:!0}:{[qre]:!0};m.indexOf("-")>=0?b[Lw]=!0:Pi.test(m)?_i.test(m)?b[Au]=!0:b[_w]=!0:b[Pw]=!0,yM(r,m,m,b)}return yM(r,"localhost",cf,{ascii:!0}),r.jd=new Ar(Dg),{start:r,tokens:Object.assign({groups:t},E6)}}function M6(e,t){const r=ene(t.replace(/[A-Z]/g,s=>s.toLowerCase())),n=r.length,i=[];let o=0,a=0;for(;a<n;){let s=e,l=null,c=0,u=null,f=-1,d=-1;for(;a<n&&(l=s.go(r[a]));)s=l,s.accepts()?(f=0,d=0,u=s):f>=0&&(f+=r[a].length,d++),c+=r[a].length,o+=r[a].length,a++;o-=f,a-=d,c-=f,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function ene(e){const t=[],r=e.length;let n=0;for(;n<r;){let i=e.charCodeAt(n),o,a=i<55296||i>56319||n+1===r||(o=e.charCodeAt(n+1))<56320||o>57343?e[n]:e.slice(n,n+2);t.push(a),n+=a.length}return t}function xo(e,t,r,n,i){let o;const a=t.length;for(let s=0;s<a-1;s++){const l=t[s];e.j[l]?o=e.j[l]:(o=new Ar(n),o.jr=i.slice(),e.j[l]=o),e=o}return o=new Ar(r),o.jr=i.slice(),e.j[t[a-1]]=o,o}function wM(e){const t=[],r=[];let n=0,i="0123456789";for(;n<e.length;){let o=0;for(;i.indexOf(e[n+o])>=0;)o++;if(o>0){t.push(r.join(""));for(let a=parseInt(e.substring(n,n+o),10);a>0;a--)r.pop();n+=o}else r.push(e[n]),n++}return t}const uf={defaultProtocol:"http",events:null,format:xM,formatHref:xM,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function qS(e,t=null){let r=Object.assign({},uf);e&&(r=Object.assign(r,e instanceof qS?e.o:e));const n=r.ignoreTags,i=[];for(let o=0;o<n.length;o++)i.push(n[o].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=i}qS.prototype={o:uf,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const n=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:uf[e],typeof i=="function"&&n&&(i=i(t,r))):typeof i=="function"&&n&&(i=i(t,r.t,r)),i)},getObj(e,t,r){let n=this.o[e];return typeof n=="function"&&t!=null&&(n=n(t,r.t,r)),n},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function xM(e){return e}function A6(e,t){this.t="token",this.v=e,this.tk=t}A6.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),n=e.get("format",t,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=uf.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",r,this),i=e.get("tagName",r,t),o=this.toFormattedString(e),a={},s=e.get("className",r,t),l=e.get("target",r,t),c=e.get("rel",r,t),u=e.getObj("attributes",r,t),f=e.getObj("events",r,t);return a.href=n,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:i,attributes:a,content:o,eventListeners:f}}};function Zm(e,t){class r extends A6{constructor(i,o){super(i,o),this.t=e}}for(const n in t)r.prototype[n]=t[n];return r.t=e,r}const SM=Zm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),kM=Zm("text"),tne=Zm("nl"),Vd=Zm("url",{isLink:!0,toHref(e=uf.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==cf&&e[1].t===Io}}),nn=e=>new Ar(e);function rne({groups:e}){const t=e.domain.concat([xg,kg,Oo,Og,Tg,Cg,Eg,Mg,cn,HS,_u,Ag,Ig,Pg,ri,Dg,Lu,_g]),r=[Sg,Io,VS,ti,WS,_u,Du,KS,GS,dg,hg,Iu,Pu,cg,lg,ug,fg,pg,gg,mg,vg,bg,yg,$g,wg],n=[xg,Sg,kg,Og,Tg,Cg,Eg,Mg,cn,Iu,Pu,_u,Ag,Ig,Pg,Du,ri,Dg,Lu,_g],i=nn(),o=K(i,Lu);we(o,n,o),we(o,e.domain,o);const a=nn(),s=nn(),l=nn();we(i,e.domain,a),we(i,e.scheme,s),we(i,e.slashscheme,l),we(a,n,o),we(a,e.domain,a);const c=K(a,Oo);K(o,Oo,c),K(s,Oo,c),K(l,Oo,c);const u=K(o,ti);we(u,n,o),we(u,e.domain,o);const f=nn();we(c,e.domain,f),we(f,e.domain,f);const d=K(f,ti);we(d,e.domain,f);const h=nn(SM);we(d,e.tld,h),we(d,e.utld,h),K(c,cf,h);const p=K(f,cn);K(p,cn,p),we(p,e.domain,f),we(h,e.domain,f),K(h,ti,d),K(h,cn,p);const g=K(h,Io);we(g,e.numeric,SM);const m=K(a,cn),v=K(a,ti);K(m,cn,m),we(m,e.domain,a),we(v,n,o),we(v,e.domain,a);const b=nn(Vd);we(v,e.tld,b),we(v,e.utld,b),we(b,e.domain,a),we(b,n,o),K(b,ti,v),K(b,cn,m),K(b,Oo,c);const y=K(b,Io),w=nn(Vd);we(y,e.numeric,w);const $=nn(Vd),k=nn();we($,t,$),we($,r,k),we(k,t,$),we(k,r,k),K(b,ri,$),K(w,ri,$);const O=K(s,Io),T=K(l,Io),D=K(T,ri),L=K(D,ri);we(s,e.domain,a),K(s,ti,v),K(s,cn,m),we(l,e.domain,a),K(l,ti,v),K(l,cn,m),we(O,e.domain,$),K(O,ri,$),K(O,Du,$),we(L,e.domain,$),we(L,t,$),K(L,ri,$);const I=[[Iu,Pu],[lg,cg],[ug,fg],[dg,hg],[pg,gg],[mg,vg],[bg,yg],[$g,wg]];for(let E=0;E<I.length;E++){const[_,S]=I[E],C=K($,_);K(k,_,C),K(C,S,$);const x=nn(Vd);we(C,t,x);const P=nn();we(C,r),we(x,t,x),we(x,r,P),we(P,t,x),we(P,r,P),K(x,S,$),K(P,S,$)}return K(i,cf,b),K(i,US,tne),{start:i,tokens:E6}}function nne(e,t,r){let n=r.length,i=0,o=[],a=[];for(;i<n;){let s=e,l=null,c=null,u=0,f=null,d=-1;for(;i<n&&!(l=s.go(r[i].t));)a.push(r[i++]);for(;i<n&&(c=l||s.go(r[i].t));)l=null,s=c,s.accepts()?(d=0,f=s):d>=0&&d++,i++,u++;if(d<0)i-=u,i<n&&(a.push(r[i]),i++);else{a.length>0&&(o.push(_b(kM,t,a)),a=[]),i-=d,u-=d;const h=f.t,p=r.slice(i-u,i);o.push(_b(h,t,p))}}return a.length>0&&o.push(_b(kM,t,a)),o}function _b(e,t,r){const n=r[0].s,i=r[r.length-1].e,o=t.slice(n,i);return new e(o,r)}const ine=typeof console<"u"&&console&&console.warn||(()=>{}),one="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Je={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ane(){return Ar.groups={},Je.scanner=null,Je.parser=null,Je.tokenQueue=[],Je.pluginQueue=[],Je.customSchemes=[],Je.initialized=!1,Je}function OM(e,t=!1){if(Je.initialized&&ine(`linkifyjs: already initialized - will not register custom scheme "${e}" ${one}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Je.customSchemes.push([e,t])}function sne(){Je.scanner=Zre(Je.customSchemes);for(let e=0;e<Je.tokenQueue.length;e++)Je.tokenQueue[e][1]({scanner:Je.scanner});Je.parser=rne(Je.scanner.tokens);for(let e=0;e<Je.pluginQueue.length;e++)Je.pluginQueue[e][1]({scanner:Je.scanner,parser:Je.parser});return Je.initialized=!0,Je}function YS(e){return Je.initialized||sne(),nne(Je.parser.start,e,M6(Je.scanner.start,e))}YS.scan=M6;function I6(e,t=null,r=null){if(t&&typeof t=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);r=t,t=null}const n=new qS(r),i=YS(e),o=[];for(let a=0;a<i.length;a++){const s=i[a];s.isLink&&(!t||s.t===t)&&n.check(s)&&o.push(s.toFormattedObject(n))}return o}var JS="[\0- -\u2029]",lne=new RegExp(JS),cne=new RegExp(`${JS}$`),une=new RegExp(JS,"g");function fne(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function dne(e){return new st({key:new Vt("autolink"),appendTransaction:(t,r,n)=>{const i=t.some(c=>c.docChanged)&&!r.doc.eq(n.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=n,s=e6(r.doc,[...t]);if(s6(s).forEach(({newRange:c})=>{const u=yte(n.doc,c,h=>h.isTextblock);let f,d;if(u.length>1)f=u[0],d=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(u.length){const h=n.doc.textBetween(c.from,c.to," "," ");if(!cne.test(h))return;f=u[0],d=n.doc.textBetween(f.pos,c.to,void 0," ")}if(f&&d){const h=d.split(lne).filter(Boolean);if(h.length<=0)return!1;const p=h[h.length-1],g=f.pos+d.lastIndexOf(p);if(!p)return!1;const m=YS(p).map(v=>v.toObject(e.defaultProtocol));if(!fne(m))return!1;m.filter(v=>v.isLink).map(v=>({...v,from:g+v.start+1,to:g+v.end+1})).filter(v=>n.schema.marks.code?!n.doc.rangeHasMark(v.from,v.to,n.schema.marks.code):!0).filter(v=>e.validate(v.value)).filter(v=>e.shouldAutoLink(v.value)).forEach(v=>{RS(v.from,v.to,n.doc).some(b=>b.mark.type===e.type)||a.addMark(v.from,v.to,e.type.create({href:v.href}))})}}),!!a.steps.length)return a}})}function hne(e){return new st({key:new Vt("handleClickLink"),props:{handleClick:(t,r,n)=>{var i,o;if(n.button!==0||!t.editable)return!1;let a=null;if(n.target instanceof HTMLAnchorElement)a=n.target;else{let u=n.target;const f=[];for(;u.nodeName!=="DIV";)f.push(u),u=u.parentNode;a=f.find(d=>d.nodeName==="A")}if(!a)return!1;const s=a6(t.state,e.type.name),l=(i=a==null?void 0:a.href)!=null?i:s.href,c=(o=a==null?void 0:a.target)!=null?o:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&l?(window.open(l,c),!0):!1}}})}function pne(e){return new st({key:new Vt("handlePasteLink"),props:{handlePaste:(t,r,n)=>{const{shouldAutoLink:i}=e,{state:o}=t,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";n.content.forEach(u=>{l+=u.textContent});const c=I6(l,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function Oa(e,t){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(n=>{const i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!e||e.replace(une,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var gne=uo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){OM(e);return}OM(e.scheme,e.optionalSlashes)})},onDestroy(){ane()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Oa(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:r=>!!Oa(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Oa(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",at(this.options.HTMLAttributes,e),0]:["a",at(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var r;const n=((r=e.attrs)==null?void 0:r.href)||"";return`[${t.renderChildren(e)}](${n})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Oa(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:r}=e||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Oa(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Xo({find:e=>{const t=[];if(e){const{protocols:r,defaultProtocol:n}=this.options,i=I6(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Oa(a,r),protocols:r,defaultProtocol:n}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&t.push({text:o.value,data:{href:o.href},index:o.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:r}=this.options;return this.options.autolink&&e.push(dne({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:i=>!!Oa(i,t),protocols:t,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(hne({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(pne({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),mne=Object.defineProperty,vne=(e,t)=>{for(var r in t)mne(e,r,{get:t[r],enumerable:!0})},bne="listItem",TM="textStyle",CM=/^\s*([-+*])\s$/,P6=rn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bne,this.editor.getAttributes(TM)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Vl({find:CM,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Vl({find:CM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TM),editor:this.editor})),[e]}}),_6=rn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let r=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))r=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(r=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const a=e.tokens.slice(1),s=t.parseChildren(a);r.push(...s)}}else r=t.parseChildren(e.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(e,t,r)=>zS(e,t,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yne={};vne(yne,{findListItemPos:()=>zf,getNextListDepth:()=>XS,handleBackspace:()=>Bw,handleDelete:()=>zw,hasListBefore:()=>D6,hasListItemAfter:()=>$ne,hasListItemBefore:()=>L6,listItemHasSubList:()=>N6,nextListIsDeeper:()=>R6,nextListIsHigher:()=>F6});var zf=(e,t)=>{const{$from:r}=t.selection,n=wt(e,t.schema);let i=null,o=r.depth,a=r.pos,s=null;for(;o>0&&s===null;)i=r.node(o),i.type===n?s=o:(o-=1,a-=1);return s===null?null:{$pos:t.doc.resolve(a),depth:s}},XS=(e,t)=>{const r=zf(e,t);if(!r)return!1;const[,n]=Mte(t,e,r.$pos.pos+4);return n},D6=(e,t,r)=>{const{$anchor:n}=e.selection,i=Math.max(0,n.pos-2),o=e.doc.resolve(i).node();return!(!o||!r.includes(o.type.name))},L6=(e,t)=>{var r;const{$anchor:n}=t.selection,i=t.doc.resolve(n.pos-2);return!(i.index()===0||((r=i.nodeBefore)==null?void 0:r.type.name)!==e)},N6=(e,t,r)=>{if(!r)return!1;const n=wt(e,t.schema);let i=!1;return r.descendants(o=>{o.type===n&&(i=!0)}),i},Bw=(e,t,r)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Jo(e.state,t)&&D6(e.state,t,r)){const{$anchor:s}=e.state.selection,l=e.state.doc.resolve(s.before()-1),c=[];l.node().descendants((d,h)=>{d.type.name===t&&c.push({node:d,pos:h})});const u=c.at(-1);if(!u)return!1;const f=e.state.doc.resolve(l.start()+u.pos+1);return e.chain().cut({from:s.start()-1,to:s.end()+1},f.end()).joinForward().run()}if(!Jo(e.state,t)||!_te(e.state))return!1;const n=zf(t,e.state);if(!n)return!1;const o=e.state.doc.resolve(n.$pos.pos-2).node(n.depth),a=N6(t,e.state,o);return L6(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},R6=(e,t)=>{const r=XS(e,t),n=zf(e,t);return!n||!r?!1:r>n.depth},F6=(e,t)=>{const r=XS(e,t),n=zf(e,t);return!n||!r?!1:r<n.depth},zw=(e,t)=>{if(!Jo(e.state,t)||!Pte(e.state,t))return!1;const{selection:r}=e.state,{$from:n,$to:i}=r;return!r.empty&&n.sameParent(i)?!1:R6(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():F6(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},$ne=(e,t)=>{var r;const{$anchor:n}=t.selection,i=t.doc.resolve(n.pos-n.parentOffset-2);return!(i.index()===i.parent.childCount-1||((r=i.nodeAfter)==null?void 0:r.type.name)!==e)},j6=je.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&zw(e,r)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&zw(e,r)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&Bw(e,r,n)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&Bw(e,r,n)&&(t=!0)}),t}}}}),EM=/^(\s*)(\d+)\.\s+(.*)$/,wne=/^\s/;function xne(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r],o=i.match(EM);if(!o)break;const[,a,s,l]=o,c=a.length;let u=l,f=r+1;const d=[i];for(;f<e.length;){const h=e[f];if(h.match(EM))break;if(h.trim()==="")d.push(h),u+=`
`,f+=1;else if(h.match(wne))d.push(h),u+=`
${h.slice(c+2)}`,f+=1;else break}t.push({indent:c,number:parseInt(s,10),content:u.trim(),raw:d.join(`
`)}),n=f,r=f}return[t,n]}function B6(e,t,r){var n;const i=[];let o=0;for(;o<e.length;){const a=e[o];if(a.indent===t){const s=a.content.split(`
`),l=((n=s[0])==null?void 0:n.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:r.inlineTokens(l)});const u=s.slice(1).join(`
`).trim();if(u){const h=r.blockTokens(u);c.push(...h)}let f=o+1;const d=[];for(;f<e.length&&e[f].indent>t;)d.push(e[f]),f+=1;if(d.length>0){const h=Math.min(...d.map(g=>g.indent)),p=B6(d,h,r);c.push({type:"list",ordered:!0,start:d[0].number,items:p,raw:d.map(g=>g.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:c}),o=f}else o+=1}return i}function Sne(e,t){return e.map(r=>{if(r.type!=="list_item")return t.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")n.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=t.parseChildren([i]);n.push({type:"paragraph",content:o})}else{const o=t.parseChildren([i]);o.length>0&&n.push(...o)}}),{type:"listItem",content:n}})}var kne="listItem",MM="textStyle",AM=/^(\d+)\.\s$/,z6=rn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...r}=e;return t===1?["ol",at(this.options.HTMLAttributes,r),0]:["ol",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const r=e.start||1,n=e.items?Sne(e.items,t):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),r=t==null?void 0:t.index;return r!==void 0?r:-1},tokenize:(e,t,r)=>{var n;const i=e.split(`
`),[o,a]=xne(i);if(o.length===0)return;const s=B6(o,0,r);return s.length===0?void 0:{type:"list",ordered:!0,start:((n=o[0])==null?void 0:n.number)||1,items:s,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(kne,this.editor.getAttributes(MM)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Vl({find:AM,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Vl({find:AM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(MM)}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1],editor:this.editor})),[e]}}),One=/^\s*(\[([( |x])?\])\s$/,Tne=rn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",at(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const r=[];if(e.tokens&&e.tokens.length>0?r.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?r.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):r.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const n=t.parseChildren(e.nestedTokens);r.push(...n)}return t.createNode("taskItem",{checked:e.checked||!1},r)},renderMarkdown:(e,t)=>{var r;const i=`- [${(r=e.attrs)!=null&&r.checked?"x":" "}] `;return zS(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:r,editor:n})=>{const i=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),s=document.createElement("input"),l=document.createElement("div"),c=u=>{var f,d;s.ariaLabel=((d=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:d.call(f,u,s.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(e),o.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",u=>u.preventDefault()),s.addEventListener("change",u=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){s.checked=!s.checked;return}const{checked:f}=u.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{const h=r();if(typeof h!="number")return!1;const p=d.doc.nodeAt(h);return d.setNodeMarkup(h,void 0,{...p==null?void 0:p.attrs,checked:f}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,f)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,f])=>{i.setAttribute(u,f)}),i.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,o.append(s,a),i.append(o,l),Object.entries(t).forEach(([u,f])=>{i.setAttribute(u,f)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,s.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[Vl({find:One,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),Cne=rn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",at(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const r=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return r!==void 0?r:-1},tokenize(e,t,r){const n=o=>{const a=Iw(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,l)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:r.inlineTokens(s.mainContent),nestedTokens:l}),customNestedParser:n},r);return a?[{type:"taskList",raw:a.raw,items:a.items}]:r.blockTokens(o)},i=Iw(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,a)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:r.inlineTokens(o.mainContent),nestedTokens:a}),customNestedParser:n},r);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});je.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(P6.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(_6.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(j6.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(z6.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(Tne.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(Cne.configure(this.options.taskList)),e}});var Ene=rn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",at(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const r=e.tokens||[];return r.length===1&&r[0].type==="image"?t.parseChildren([r[0]]):t.createNode("paragraph",void 0,t.parseInline(r))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Mne=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Ane=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Ine=uo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[rs({find:Mne,type:this.type})]},addPasteRules(){return[Xo({find:Ane,type:this.type})]}}),Pne=rn.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),_ne=uo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",at(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,r){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:r.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Dne(e={}){return new st({view(t){return new Lne(t,e)}})}class Lne{constructor(t,r){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:r})=>this.editorView.dom.removeEventListener(t,r))}update(t,r){this.cursorPos!=null&&r.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),r=!t.parent.inlineContent,n,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(r){let f=t.nodeBefore,d=t.nodeAfter;if(f||d){let h=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(h){let p=h.getBoundingClientRect(),g=f?p.bottom:p.top;f&&d&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let m=this.width/2*s;n={left:p.left,right:p.right,top:g-m,bottom:g+m}}}}if(!n){let f=this.editorView.coordsAtPos(this.cursorPos),d=this.width/2*a;n={left:f.left-d,right:f.left+d,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let f=l.getBoundingClientRect(),d=f.width/l.offsetWidth,h=f.height/l.offsetHeight;c=f.left-l.scrollLeft*d,u=f.top-l.scrollTop*h}this.element.style.left=(n.left-c)/a+"px",this.element.style.top=(n.top-u)/s+"px",this.element.style.width=(n.right-n.left)/a+"px",this.element.style.height=(n.bottom-n.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,r,t):i;if(r&&!o){let a=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=KN(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class ot extends xe{constructor(t){super(t,t)}map(t,r){let n=t.resolve(r.map(this.head));return ot.valid(n)?new ot(n):xe.near(n)}content(){return X.empty}eq(t){return t instanceof ot&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ot(t.resolve(r.pos))}getBookmark(){return new QS(this.anchor)}static valid(t){let r=t.parent;if(r.isTextblock||!Nne(t)||!Rne(t))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,r,n=!1){e:for(;;){if(!n&&ot.valid(t))return t;let i=t.pos,o=null;for(let a=t.depth;;a--){let s=t.node(a);if(r>0?t.indexAfter(a)<s.childCount:t.index(a)>0){o=s.child(r>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=r;let l=t.doc.resolve(i);if(ot.valid(l))return l}for(;;){let a=r>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!fe.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*r),n=!1;continue e}break}o=a,i+=r;let s=t.doc.resolve(i);if(ot.valid(s))return s}return null}}}ot.prototype.visible=!1;ot.findFrom=ot.findGapCursorFrom;xe.jsonID("gapcursor",ot);class QS{constructor(t){this.pos=t}map(t){return new QS(t.map(this.pos))}resolve(t){let r=t.resolve(this.pos);return ot.valid(r)?new ot(r):xe.near(r)}}function H6(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function Nne(e){for(let t=e.depth;t>=0;t--){let r=e.index(t),n=e.node(t);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||H6(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Rne(e){for(let t=e.depth;t>=0;t--){let r=e.indexAfter(t),n=e.node(t);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||H6(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Fne(){return new st({props:{decorations:Hne,createSelectionBetween(e,t,r){return t.pos==r.pos&&ot.valid(r)?new ot(r):null},handleClick:Bne,handleKeyDown:jne,handleDOMEvents:{beforeinput:zne}}})}const jne=KR({ArrowLeft:Wd("horiz",-1),ArrowRight:Wd("horiz",1),ArrowUp:Wd("vert",-1),ArrowDown:Wd("vert",1)});function Wd(e,t){const r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,i,o){let a=n.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof ve){if(!o.endOfTextblock(r)||s.depth==0)return!1;l=!1,s=n.doc.resolve(t>0?s.after():s.before())}let c=ot.findGapCursorFrom(s,t,l);return c?(i&&i(n.tr.setSelection(new ot(c))),!0):!1}}function Bne(e,t,r){if(!e||!e.editable)return!1;let n=e.state.doc.resolve(t);if(!ot.valid(n))return!1;let i=e.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&fe.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new ot(n))),!0)}function zne(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof ot))return!1;let{$from:r}=e.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!n)return!1;let i=V.empty;for(let a=n.length-1;a>=0;a--)i=V.from(n[a].createAndFill(null,i));let o=e.state.tr.replace(r.pos,r.pos,new X(i,0,0));return o.setSelection(ve.near(o.doc.resolve(r.pos+1))),e.dispatch(o),!1}function Hne(e){if(!(e.selection instanceof ot))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",tt.create(e.doc,[hr.widget(e.selection.head,t,{key:"gapcursor"})])}var Lg=200,zt=function(){};zt.prototype.append=function(t){return t.length?(t=zt.from(t),!this.length&&t||t.length<Lg&&this.leafAppend(t)||this.length<Lg&&t.leafPrepend(this)||this.appendInner(t)):this};zt.prototype.prepend=function(t){return t.length?zt.from(t).append(this):this};zt.prototype.appendInner=function(t){return new Une(this,t)};zt.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.length),t>=r?zt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))};zt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};zt.prototype.forEach=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(t,r,n,0):this.forEachInvertedInner(t,r,n,0)};zt.prototype.map=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(t(o,a))},r,n),i};zt.from=function(t){return t instanceof zt?t:t&&t.length?new U6(t):zt.empty};var U6=(function(e){function t(n){e.call(this),this.values=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Lg)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Lg)return new t(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t})(zt);zt.empty=new U6([]);var Une=(function(e){function t(r,n){e.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},t.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new t(i,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t})(zt);const Vne=500;class Ln{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,o;r&&(i=this.remapping(n,this.items.length),o=i.maps.length);let a=t.tr,s,l,c=[],u=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(n,d+1),o=i.maps.length),o--,u.push(f);return}if(i){u.push(new ni(f.map));let h=f.step.map(i.slice(o)),p;h&&a.maybeStep(h).doc&&(p=a.mapping.maps[a.mapping.maps.length-1],c.push(new ni(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else a.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,l=new Ln(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,r,n,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let u=0;u<t.steps.length;u++){let f=t.steps[u].invert(t.docs[u]),d=new ni(t.mapping.maps[u],f,r),h;(h=l&&l.merge(d))&&(d=h,u?o.pop():s=s.slice(0,s.length-1)),o.push(d),r&&(a++,r=void 0),i||(l=d)}let c=a-n.depth;return c>Kne&&(s=Wne(s,c),a-=c),new Ln(s.append(o),a)}remapping(t,r){let n=new tf;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,a)},t,r),n}addMaps(t){return this.eventCount==0?this:new Ln(this.items.append(t.map(r=>new ni(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=r;this.items.forEach(d=>{let h=o.getMirror(--l);if(h==null)return;a=Math.min(a,h);let p=o.maps[h];if(d.step){let g=t.steps[h].invert(t.docs[h]),m=d.selection&&d.selection.map(o.slice(l+1,h));m&&s++,n.push(new ni(p,g,m))}else n.push(new ni(p))},i);let c=[];for(let d=r;d<a;d++)c.push(new ni(o.maps[d]));let u=this.items.slice(0,i).append(c).append(n),f=new Ln(u,s);return f.emptyItemCount()>Vne&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),n=r.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let u=a.selection&&a.selection.map(r.slice(n));u&&o++;let f=new ni(c.invert(),l,u),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else a.map&&n--},this.items.length,0),new Ln(zt.from(i.reverse()),o)}}Ln.empty=new Ln(zt.empty,0);function Wne(e,t){let r;return e.forEach((n,i)=>{if(n.selection&&t--==0)return r=i,!1}),e.slice(r)}class ni{constructor(t,r,n,i){this.map=t,this.step=r,this.selection=n,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new ni(r.getMap().invert(),r,this.selection)}}}class To{constructor(t,r,n,i,o){this.done=t,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=o}}const Kne=20;function Gne(e,t,r,n){let i=r.getMeta(Ga),o;if(i)return i.historyState;r.getMeta(Jne)&&(e=new To(e.done,e.undone,null,0,-1));let a=r.getMeta("appendedTransaction");if(r.steps.length==0)return e;if(a&&a.getMeta(Ga))return a.getMeta(Ga).redo?new To(e.done.addTransform(r,void 0,n,sp(t)),e.undone,IM(r.mapping.maps),e.prevTime,e.prevComposition):new To(e.done,e.undone.addTransform(r,void 0,n,sp(t)),null,e.prevTime,e.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=r.getMeta("composition"),l=e.prevTime==0||!a&&e.prevComposition!=s&&(e.prevTime<(r.time||0)-n.newGroupDelay||!qne(r,e.prevRanges)),c=a?Db(e.prevRanges,r.mapping):IM(r.mapping.maps);return new To(e.done.addTransform(r,l?t.selection.getBookmark():void 0,n,sp(t)),Ln.empty,c,r.time,s??e.prevComposition)}else return(o=r.getMeta("rebased"))?new To(e.done.rebased(r,o),e.undone.rebased(r,o),Db(e.prevRanges,r.mapping),e.prevTime,e.prevComposition):new To(e.done.addMaps(r.mapping.maps),e.undone.addMaps(r.mapping.maps),Db(e.prevRanges,r.mapping),e.prevTime,e.prevComposition)}function qne(e,t){if(!t)return!1;if(!e.docChanged)return!0;let r=!1;return e.mapping.maps[0].forEach((n,i)=>{for(let o=0;o<t.length;o+=2)n<=t[o+1]&&i>=t[o]&&(r=!0)}),r}function IM(e){let t=[];for(let r=e.length-1;r>=0&&t.length==0;r--)e[r].forEach((n,i,o,a)=>t.push(o,a));return t}function Db(e,t){if(!e)return null;let r=[];for(let n=0;n<e.length;n+=2){let i=t.map(e[n],1),o=t.map(e[n+1],-1);i<=o&&r.push(i,o)}return r}function Yne(e,t,r){let n=sp(t),i=Ga.get(t).spec.config,o=(r?e.undone:e.done).popEvent(t,n);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(r?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,n),l=new To(r?s:o.remaining,r?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(Ga,{redo:r,historyState:l})}let Lb=!1,PM=null;function sp(e){let t=e.plugins;if(PM!=t){Lb=!1,PM=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){Lb=!0;break}}return Lb}const Ga=new Vt("history"),Jne=new Vt("closeHistory");function Xne(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new st({key:Ga,state:{init(){return new To(Ln.empty,Ln.empty,null,0,-1)},apply(t,r,n){return Gne(r,n,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,r){let n=r.inputType,i=n=="historyUndo"?W6:n=="historyRedo"?K6:null;return i?(r.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function V6(e,t){return(r,n)=>{let i=Ga.getState(r);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(n){let o=Yne(i,r,e);o&&n(t?o.scrollIntoView():o)}return!0}}const W6=V6(!1,!0),K6=V6(!0,!0);je.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const n=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(n)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,r=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let e=!1;return[new st({key:new Vt("characterCount"),appendTransaction:(t,r,n)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const o=this.storage.characters({node:n.doc});if(o>i){const a=o-i,s=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=n.tr.deleteRange(s,l);return e=!0,c}e=!0},filterTransaction:(t,r)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const i=this.storage.characters({node:r.doc}),o=this.storage.characters({node:t.doc});if(o<=n||i>n&&o>n&&o<=i)return!0;if(i>n&&o>n&&o>i||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,l=o-n,c=s-l,u=s;return t.deleteRange(c,u),!(this.storage.characters({node:t.doc})>n)}})]}});var Qne=je.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Dne(this.options)]}});je.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new st({key:new Vt("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:i}=t,o=[];if(!r||!n)return tt.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let s=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(s+=1,this.options.mode==="deepest"&&a-s>0||this.options.mode==="shallowest"&&s>1)return this.options.mode==="deepest";o.push(hr.node(c,c+l.nodeSize,{class:this.options.className}))}),tt.create(e,o)}}})]}});var Zne=je.create({name:"gapCursor",addProseMirrorPlugins(){return[Fne()]},extendNodeSchema(e){var t;const r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Le(ce(e,"allowGapCursor",r)))!=null?t:null}}});je.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new st({key:new Vt("placeholder"),props:{decorations:({doc:e,selection:t})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=t,i=[];if(!r)return null;const o=this.editor.isEmpty;return e.descendants((a,s)=>{const l=n>=s&&n<=s+a.nodeSize,c=!a.isLeaf&&Xm(a);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const f=hr.node(s,s+a.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:s,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),tt.create(e,i)}}})]}});je.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new st({key:new Vt("selection"),props:{decorations(r){return r.selection.empty||e.isFocused||!e.isEditable||l6(r.selection)||e.view.dragging?null:tt.create(r.doc,[hr.inline(r.selection.from,r.selection.to,{class:t.className})])}}})]}});function _M({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var eie=je.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Vt(this.name),r=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(r).includes(i.name));return[new st({key:t,appendTransaction:(i,o,a)=>{const{doc:s,tr:l,schema:c}=a,u=t.getState(a),f=s.content.size,d=c.nodes[r];if(u)return l.insert(f,d.create())},state:{init:(i,o)=>{const a=o.tr.doc.lastChild;return!_M({node:a,types:n})},apply:(i,o)=>{if(!i.docChanged)return o;const a=i.doc.lastChild;return!_M({node:a,types:n})}}})]}}),tie=je.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>W6(e,t),redo:()=>({state:e,dispatch:t})=>K6(e,t)}},addProseMirrorPlugins(){return[Xne(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),rie=je.create({name:"starterKit",addExtensions(){var e,t,r,n;const i=[];return this.options.bold!==!1&&i.push(Mre.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(kre.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(P6.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Pre.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Lre.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(Nre.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Qne.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Zne.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(Rre.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(Fre.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(tie.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(jre.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Vre.configure(this.options.italic)),this.options.listItem!==!1&&i.push(_6.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(j6.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(gne.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(z6.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(Ene.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Ine.configure(this.options.strike)),this.options.text!==!1&&i.push(Pne.configure(this.options.text)),this.options.underline!==!1&&i.push(_ne.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&i.push(eie.configure((n=this.options)==null?void 0:n.trailingNode)),i}}),nie=rie;function iie(e){let[t,r]=J();return oe(()=>{let n=new hre({...e()});be(()=>{n.destroy()}),r(n)}),t}var oie=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,aie=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,sie=uo.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",at(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,r){const i=/^(==)([^=]+)(==)/.exec(e);if(i){const o=i[2].trim(),a=r.inlineTokens(o);return{type:"highlight",raw:i[0],text:o,tokens:a}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[rs({find:oie,type:this.type})]},addPasteRules(){return[Xo({find:aie,type:this.type})]}}),lie=sie,cie=e=>lt({find:/--$/,replace:e??""}),uie=e=>lt({find:/\.\.\.$/,replace:e??""}),fie=e=>lt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:e??""}),die=e=>lt({find:/"$/,replace:e??""}),hie=e=>lt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:e??""}),pie=e=>lt({find:/'$/,replace:e??""}),gie=e=>lt({find:/<-$/,replace:e??""}),mie=e=>lt({find:/->$/,replace:e??""}),vie=e=>lt({find:/\(c\)$/,replace:e??""}),bie=e=>lt({find:/\(tm\)$/,replace:e??""}),yie=e=>lt({find:/\(sm\)$/,replace:e??""}),$ie=e=>lt({find:/\(r\)$/,replace:e??""}),wie=e=>lt({find:/(?:^|\s)(1\/2)\s$/,replace:e??""}),xie=e=>lt({find:/\+\/-$/,replace:e??""}),Sie=e=>lt({find:/!=$/,replace:e??""}),kie=e=>lt({find:/<<$/,replace:e??""}),Oie=e=>lt({find:/>>$/,replace:e??""}),Tie=e=>lt({find:/\d+\s?([*x])\s?\d+$/,replace:e??""}),Cie=e=>lt({find:/\^2$/,replace:e??""}),Eie=e=>lt({find:/\^3$/,replace:e??""}),Mie=e=>lt({find:/(?:^|\s)(1\/4)\s$/,replace:e??""}),Aie=e=>lt({find:/(?:^|\s)(3\/4)\s$/,replace:e??""}),Iie=je.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const e=[];return this.options.emDash!==!1&&e.push(cie(this.options.emDash)),this.options.ellipsis!==!1&&e.push(uie(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&e.push(fie(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&e.push(die(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&e.push(hie(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&e.push(pie(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&e.push(gie(this.options.leftArrow)),this.options.rightArrow!==!1&&e.push(mie(this.options.rightArrow)),this.options.copyright!==!1&&e.push(vie(this.options.copyright)),this.options.trademark!==!1&&e.push(bie(this.options.trademark)),this.options.servicemark!==!1&&e.push(yie(this.options.servicemark)),this.options.registeredTrademark!==!1&&e.push($ie(this.options.registeredTrademark)),this.options.oneHalf!==!1&&e.push(wie(this.options.oneHalf)),this.options.plusMinus!==!1&&e.push(xie(this.options.plusMinus)),this.options.notEqual!==!1&&e.push(Sie(this.options.notEqual)),this.options.laquo!==!1&&e.push(kie(this.options.laquo)),this.options.raquo!==!1&&e.push(Oie(this.options.raquo)),this.options.multiplication!==!1&&e.push(Tie(this.options.multiplication)),this.options.superscriptTwo!==!1&&e.push(Cie(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&e.push(Eie(this.options.superscriptThree)),this.options.oneQuarter!==!1&&e.push(Mie(this.options.oneQuarter)),this.options.threeQuarters!==!1&&e.push(Aie(this.options.threeQuarters)),e}}),Pie=Iie,_ie=20,G6=(e,t=0)=>{const r=[];return!e.children.length||t>_ie||Array.from(e.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...G6(n,t+1))}),r},Die=e=>{if(!e.children.length)return;const t=G6(e);t&&t.forEach(r=>{var n,i;const o=r.getAttribute("style"),a=(i=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:i.getAttribute("style");r.setAttribute("style",`${a};${o}`)})},q6=uo.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Die(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",at(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||e.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),Lie=je.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const r=e.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const o=n[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="background-color")return s.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Nie=je.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const r=e.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const o=n[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="color")return s.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Rie=je.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Fie=je.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),jie=je.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});je.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(Lie.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(Nie.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(Rie.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(Fie.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(jie.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(q6.configure(this.options.textStyle)),e}});var Bie=je.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(r=>t.updateAttributes(r,{textAlign:e})).every(r=>r):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:r})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?r.unsetTextAlign():r.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),zie=Bie,Hie=W("<div class=p-5><div id=editor>");function Uie(e){const t=[];for(;e&&e.nodeType===1;){const r=e.tagName.toLowerCase();if(r==="div")break;t.push(r),e=e.parentNode}return t}function DM(){const e=window.getSelection();if(!e||!e.focusNode)return[];const t=e.focusNode,r=t.nodeType===3?t.parentElement:t;return Uie(r)}const Y6=e=>{let t;const r=oS(n=>{console.log("Debounced update:",n),oY(e.id,n)},300);return iie(()=>({element:t,onFocus({editor:n}){EL(e.id),ue("noteEditor",n),ue("activeSidebar","noteStyles")},onSelectionUpdate(){ue("activeTags",DM())},onUpdate({editor:n}){setTimeout(()=>{ue("activeTags",DM())},0);const i=n.getText().trim();/^(https?:\/\/[^\s]+)$/.test(i)?(console.log("here we change this this note node to a url node"),pY(e.id,i)):r(JSON.stringify(n.getJSON()))},extensions:[nie,lie,Pie,q6,zie],content:JSON.parse(Me(()=>e.text))})),(()=>{var n=Hie(),i=n.firstChild,o=t;return typeof o=="function"?Ht(o,i):t=i,n})()};var Vie=W("<div>"),ev=class{constructor(e){R(this,"x");R(this,"y");R(this,"width");R(this,"height");this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.width=Math.floor(e.width),this.height=Math.floor(e.height)}get rect(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return{x:this.x+this.width*.5,y:this.y+this.height*.5}}get corners(){return{topLeft:{x:this.left,y:this.top},topRight:{x:this.right,y:this.top},bottomRight:{x:this.left,y:this.bottom},bottomLeft:{x:this.right,y:this.bottom}}}},Al=e=>{let t=new ev(e.getBoundingClientRect());const{transform:r}=getComputedStyle(e);return r&&(t=Wie(t,r)),t},Wie=(e,t)=>{let r,n;if(t.startsWith("matrix3d(")){const i=t.slice(9,-1).split(/, /);r=+i[12],n=+i[13]}else if(t.startsWith("matrix(")){const i=t.slice(7,-1).split(/, /);r=+i[4],n=+i[5]}else r=0,n=0;return new ev({...e,x:e.x-r,y:e.y-n})},Fn=()=>({x:0,y:0}),ZS=(e,t)=>e.x===t.x&&e.y===t.y,Nb=(e,t)=>new ev({...e,x:e.x+t.x,y:e.y+t.y}),Kie=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),Gie=(e,t)=>{const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.right,t.right),o=Math.min(e.bottom,t.bottom),a=i-n,s=o-r;if(n<i&&r<o){const l=e.width*e.height,c=t.width*t.height,u=a*s;return u/(l+c-u)}return 0},Rb=(e,t)=>e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height,qie=(e,t,r)=>{const n=e.transformed.center,i={distance:1/0,droppable:null};for(const o of t){const a=Kie(n,o.layout.center);a<i.distance?(i.distance=a,i.droppable=o):a===i.distance&&o.id===r.activeDroppableId&&(i.droppable=o)}return i.droppable},Yie=(e,t,r)=>{const n=e.transformed,i={ratio:0,droppable:null};for(const o of t){const a=Gie(n,o.layout);a>i.ratio?(i.ratio=a,i.droppable=o):a>0&&a===i.ratio&&o.id===r.activeDroppableId&&(i.droppable=o)}return i.droppable},J6=en(),Jie=e=>{const t=ye({collisionDetector:Yie},e),[r,n]=nS({draggables:{},droppables:{},sensors:{},active:{draggableId:null,get draggable(){return r.active.draggableId!==null?r.draggables[r.active.draggableId]:null},droppableId:null,get droppable(){return r.active.droppableId!==null?r.droppables[r.active.droppableId]:null},sensorId:null,get sensor(){return r.active.sensorId!==null?r.sensors[r.active.sensorId]:null},overlay:null}}),i=(S,C,x)=>{S.substring(0,S.length-1),Me(()=>r[S][C])&&n(S,C,"transformers",x.id,x)},o=(S,C,x)=>{S.substring(0,S.length-1),Me(()=>r[S][C])&&Me(()=>r[S][C].transformers[x])&&n(S,C,"transformers",x,void 0)},a=({id:S,node:C,layout:x,data:P})=>{const A=r.draggables[S],N={id:S,node:C,layout:x,data:P,_pendingCleanup:!1};let H;if(!A)Object.defineProperties(N,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{if(r.active.overlay)return Fn();const U=Object.values(r.draggables[S].transformers);return U.sort((ae,te)=>ae.order-te.order),U.reduce((ae,te)=>te.callback(ae),Fn())}},transformed:{enumerable:!0,configurable:!0,get:()=>Nb(r.draggables[S].layout,r.draggables[S].transform)}});else if(r.active.draggableId===S&&!r.active.overlay){const U={x:A.layout.x-x.x,y:A.layout.y-x.y},ae="addDraggable-existing-offset",te=A.transformers[ae],pe=te?te.callback(U):U;H={id:ae,order:100,callback:Se=>({x:Se.x+pe.x,y:Se.y+pe.y})},I(()=>o("draggables",S,ae))}Ri(()=>{n("draggables",S,N),H&&i("draggables",S,H)}),r.active.draggable&&w()},s=S=>{Me(()=>r.draggables[S])&&(n("draggables",S,"_pendingCleanup",!0),queueMicrotask(()=>l(S)))},l=S=>{var C;if((C=r.draggables[S])!=null&&C._pendingCleanup){const x=r.active.draggableId===S;Ri(()=>{x&&n("active","draggableId",null),n("draggables",S,void 0)})}},c=({id:S,node:C,layout:x,data:P})=>{const A=r.droppables[S],N={id:S,node:C,layout:x,data:P,_pendingCleanup:!1};A||Object.defineProperties(N,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{const H=Object.values(r.droppables[S].transformers);return H.sort((U,ae)=>U.order-ae.order),H.reduce((U,ae)=>ae.callback(U),Fn())}},transformed:{enumerable:!0,configurable:!0,get:()=>Nb(r.droppables[S].layout,r.droppables[S].transform)}}),n("droppables",S,N),r.active.draggable&&w()},u=S=>{Me(()=>r.droppables[S])&&(n("droppables",S,"_pendingCleanup",!0),queueMicrotask(()=>f(S)))},f=S=>{var C;if((C=r.droppables[S])!=null&&C._pendingCleanup){const x=r.active.droppableId===S;Ri(()=>{x&&n("active","droppableId",null),n("droppables",S,void 0)})}},d=({id:S,activators:C})=>{n("sensors",S,{id:S,activators:C,coordinates:{origin:{x:0,y:0},current:{x:0,y:0},get delta(){return{x:r.sensors[S].coordinates.current.x-r.sensors[S].coordinates.origin.x,y:r.sensors[S].coordinates.current.y-r.sensors[S].coordinates.origin.y}}}})},h=S=>{if(!Me(()=>r.sensors[S]))return;const C=r.active.sensorId===S;Ri(()=>{C&&n("active","sensorId",null),n("sensors",S,void 0)})},p=({node:S,layout:C})=>{const x=r.active.overlay,P={node:S,layout:C};x||Object.defineProperties(P,{id:{enumerable:!0,configurable:!0,get:()=>{var A;return(A=r.active.draggable)==null?void 0:A.id}},data:{enumerable:!0,configurable:!0,get:()=>{var A;return(A=r.active.draggable)==null?void 0:A.data}},transformers:{enumerable:!0,configurable:!0,get:()=>Object.fromEntries(Object.entries(r.active.draggable?r.active.draggable.transformers:{}).filter(([A])=>A!=="addDraggable-existing-offset"))},transform:{enumerable:!0,configurable:!0,get:()=>{const A=Object.values(r.active.overlay?r.active.overlay.transformers:[]);return A.sort((N,H)=>N.order-H.order),A.reduce((N,H)=>H.callback(N),Fn())}},transformed:{enumerable:!0,configurable:!0,get:()=>r.active.overlay?Nb(r.active.overlay.layout,r.active.overlay.transform):new ev({x:0,y:0,width:0,height:0})}}),n("active","overlay",P)},g=()=>n("active","overlay",null),m=(S,C)=>{Ri(()=>{n("sensors",S,"coordinates",{origin:{...C},current:{...C}}),n("active","sensorId",S)})},v=S=>{const C=r.active.sensorId;C&&n("sensors",C,"coordinates","current",{...S})},b=()=>n("active","sensorId",null),y=(S,C)=>{const x={};for(const A of Object.values(r.sensors))if(A)for(const[N,H]of Object.entries(A.activators))x[N]??(x[N]=[]),x[N].push({sensor:A,activator:H});const P={};for(const A in x){let N=A;C&&(N=`on${A}`),P[N]=H=>{for(const{activator:U}of x[A]){if(r.active.sensor)break;U(H,S)}}}return P},w=()=>{let S=!1;const C=Object.values(r.draggables),x=Object.values(r.droppables),P=r.active.overlay;return Ri(()=>{const A=new WeakMap;for(const N of C)if(N){const H=N.layout;A.has(N.node)||A.set(N.node,Al(N.node));const U=A.get(N.node);Rb(H,U)||(n("draggables",N.id,"layout",U),S=!0)}for(const N of x)if(N){const H=N.layout;A.has(N.node)||A.set(N.node,Al(N.node));const U=A.get(N.node);Rb(H,U)||(n("droppables",N.id,"layout",U),S=!0)}if(P){const N=P.layout,H=Al(P.node);Rb(N,H)||(n("active","overlay","layout",H),S=!0)}}),S},$=()=>{const S=r.active.overlay??r.active.draggable;if(S){const C=t.collisionDetector(S,Object.values(r.droppables),{activeDroppableId:r.active.droppableId}),x=C?C.id:null;r.active.droppableId!==x&&n("active","droppableId",x)}},k=S=>{const C={id:"sensorMove",order:0,callback:x=>r.active.sensor?{x:x.x+r.active.sensor.coordinates.delta.x,y:x.y+r.active.sensor.coordinates.delta.y}:x};w(),Ri(()=>{n("active","draggableId",S),i("draggables",S,C)}),$()},O=()=>{const S=Me(()=>r.active.draggableId);Ri(()=>{S!==null&&o("draggables",S,"sensorMove"),n("active",["draggableId","droppableId"],null)}),w()},T=S=>{oe(()=>{const C=r.active.draggable;C&&Me(()=>S({draggable:C}))})},D=S=>{oe(()=>{const C=r.active.draggable;if(C){const x=Me(()=>r.active.overlay);Object.values(x?x.transform:C.transform),Me(()=>S({draggable:C,overlay:x}))}})},L=S=>{oe(()=>{const C=r.active.draggable,x=r.active.droppable;C&&Me(()=>S({draggable:C,droppable:x,overlay:r.active.overlay}))})},I=S=>{oe(({previousDraggable:C,previousDroppable:x,previousOverlay:P})=>{const A=r.active.draggable,N=A?r.active.droppable:null,H=A?r.active.overlay:null;return!A&&C&&Me(()=>S({draggable:C,droppable:x,overlay:P})),{previousDraggable:A,previousDroppable:N,previousOverlay:H}},{previousDraggable:null,previousDroppable:null,previousOverlay:null})};D(()=>$()),t.onDragStart&&T(t.onDragStart),t.onDragMove&&D(t.onDragMove),t.onDragOver&&L(t.onDragOver),t.onDragEnd&&I(t.onDragEnd);const _=[r,{addTransformer:i,removeTransformer:o,addDraggable:a,removeDraggable:s,addDroppable:c,removeDroppable:u,addSensor:d,removeSensor:h,setOverlay:p,clearOverlay:g,recomputeLayouts:w,detectCollisions:$,draggableActivators:y,sensorStart:m,sensorMove:v,sensorEnd:b,dragStart:k,dragEnd:O,onDragStart:T,onDragMove:D,onDragOver:L,onDragEnd:I}];return M(J6.Provider,{value:_,get children(){return t.children}})},Ss=()=>tn(J6)||null,Xie=(e="pointer-sensor")=>{const[t,{addSensor:r,removeSensor:n,sensorStart:i,sensorMove:o,sensorEnd:a,dragStart:s,dragEnd:l}]=Ss(),c=250,u=10;lr(()=>{r({id:e,activators:{pointerdown:g}})}),be(()=>{n(e)});const f=()=>t.active.sensorId===e,d={x:0,y:0};let h=null,p=null;const g=($,k)=>{$.button===0&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",y),p=k,d.x=$.clientX,d.y=$.clientY,h=window.setTimeout(v,c))},m=()=>{h&&(clearTimeout(h),h=null),document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",y),document.removeEventListener("selectionchange",w)},v=()=>{t.active.sensor?f()||m():(i(e,d),s(p),w(),document.addEventListener("selectionchange",w))},b=$=>{const k={x:$.clientX,y:$.clientY};if(!t.active.sensor){const O={x:k.x-d.x,y:k.y-d.y};Math.sqrt(O.x**2+O.y**2)>u&&v()}f()&&($.preventDefault(),o(k))},y=$=>{m(),f()&&($.preventDefault(),l(),a())},w=()=>{var $;($=window.getSelection())==null||$.removeAllRanges()}},Qie=e=>(Xie(),pt(()=>e.children)),tv=e=>({transform:`translate3d(${e.x}px, ${e.y}px, 0)`}),Zie=(e,t={})=>{const[r,{addDraggable:n,removeDraggable:i,draggableActivators:o}]=Ss(),[a,s]=J(null);lr(()=>{const f=a();f&&n({id:e,node:f,layout:Al(f),data:t})}),be(()=>i(e));const l=()=>r.active.draggableId===e,c=()=>{var f;return((f=r.draggables[e])==null?void 0:f.transform)||Fn()};return Object.defineProperties((f,d)=>{const h=d?d():{};oe(()=>{const p=a(),g=o(e);if(p)for(const m in g)p.addEventListener(m,g[m]);be(()=>{if(p)for(const m in g)p.removeEventListener(m,g[m])})}),s(f),h.skipTransform||oe(()=>{const p=c();if(ZS(p,Fn()))f.style.removeProperty("transform");else{const g=tv(c());f.style.setProperty("transform",g.transform??null)}})},{ref:{enumerable:!0,value:s},isActiveDraggable:{enumerable:!0,get:l},dragActivators:{enumerable:!0,get:()=>o(e,!0)},transform:{enumerable:!0,get:c}})},eoe=(e,t={})=>{const[r,{addDroppable:n,removeDroppable:i}]=Ss(),[o,a]=J(null);lr(()=>{const u=o();u&&n({id:e,node:u,layout:Al(u),data:t})}),be(()=>i(e));const s=()=>r.active.droppableId===e,l=()=>{var u;return((u=r.droppables[e])==null?void 0:u.transform)||Fn()};return Object.defineProperties((u,f)=>{const d=f?f():{};a(u),d.skipTransform||oe(()=>{const h=l();if(ZS(h,Fn()))u.style.removeProperty("transform");else{const p=tv(l());u.style.setProperty("transform",p.transform??null)}})},{ref:{enumerable:!0,value:a},isActiveDroppable:{enumerable:!0,get:s},transform:{enumerable:!0,get:l}})},toe=e=>{const[t,{onDragStart:r,onDragEnd:n,setOverlay:i,clearOverlay:o}]=Ss();let a;r(({draggable:l})=>{i({node:l.node,layout:l.layout}),queueMicrotask(()=>{if(a){const c=Al(a),u={x:(l.layout.width-c.width)/2,y:(l.layout.height-c.height)/2};c.x+=u.x,c.y+=u.y,i({node:a,layout:c})}})}),n(()=>queueMicrotask(o));const s=()=>{const l=t.active.overlay,c=t.active.draggable;return!l||!c?{}:{position:"fixed",transition:"transform 0s",top:`${l.layout.top}px`,left:`${l.layout.left}px`,"min-width":`${c.layout.width}px`,"min-height":`${c.layout.height}px`,...tv(l.transform),...e.style}};return M(Yx,{get mount(){return document.body},get children(){return M(Tt,{get when(){return t.active.draggable},get children(){var l=Vie(),c=a;return typeof c=="function"?Ht(c,l):a=l,B(l,(()=>{var u=pt(()=>typeof e.children=="function");return()=>u()?e.children(t.active.draggable):e.children})()),ne(u=>{var f=e.class,d=s();return f!==u.e&&Lr(l,u.e=f),u.t=Dm(l,d,u.t),u},{e:void 0,t:void 0}),l}})}})},roe=(e,t,r)=>{const n=e.slice();return n.splice(r,0,...n.splice(t,1)),n},X6=en(),noe=e=>{const[t]=Ss(),[r,n]=nS({initialIds:[],sortedIds:[]}),i=s=>s>=0&&s<r.initialIds.length;oe(()=>{n("initialIds",[...e.ids]),n("sortedIds",[...e.ids])}),oe(()=>{t.active.draggableId&&t.active.droppableId?Me(()=>{const s=r.sortedIds.indexOf(t.active.draggableId),l=r.initialIds.indexOf(t.active.droppableId);if(!i(s)||!i(l))n("sortedIds",[...e.ids]);else if(s!==l){const c=roe(r.sortedIds,s,l);n("sortedIds",c)}}):n("sortedIds",[...e.ids])});const a=[r,{}];return M(X6.Provider,{value:a,get children(){return e.children}})},ioe=()=>tn(X6)||null,ooe=(e,t)=>r=>{e(r),t(r)},aoe=(e,t={})=>{const[r,{addTransformer:n,removeTransformer:i}]=Ss(),[o]=ioe(),a=Zie(e,t),s=eoe(e,t),l=ooe(a.ref,s.ref),c=()=>o.initialIds.indexOf(e),u=()=>o.sortedIds.indexOf(e),f=m=>{var v;return((v=r.droppables[m])==null?void 0:v.layout)||null},d=()=>{const m=Fn(),v=c(),b=u();if(b!==v){const y=f(e),w=f(o.initialIds[b]);y&&w&&(m.x=w.x-y.x,m.y=w.y-y.y)}return m},h={id:"sortableOffset",order:100,callback:m=>{const v=d();return{x:m.x+v.x,y:m.y+v.y}}};lr(()=>n("droppables",e,h)),be(()=>i("droppables",e,h.id));const p=()=>{var m,v;return(e===r.active.draggableId&&!r.active.overlay?(m=r.draggables[e])==null?void 0:m.transform:(v=r.droppables[e])==null?void 0:v.transform)||Fn()};return Object.defineProperties(m=>{a(m,()=>({skipTransform:!0})),s(m,()=>({skipTransform:!0})),oe(()=>{const v=p();if(ZS(v,Fn()))m.style.removeProperty("transform");else{const b=tv(p());m.style.setProperty("transform",b.transform??null)}})},{ref:{enumerable:!0,value:l},transform:{enumerable:!0,get:p},isActiveDraggable:{enumerable:!0,get:()=>a.isActiveDraggable},dragActivators:{enumerable:!0,get:()=>a.dragActivators},isActiveDroppable:{enumerable:!0,get:()=>s.isActiveDroppable}})},soe=W("<div class=outline-0>");const Q6=e=>{const[t,r]=J(!1);let n;const i=oS(s=>{console.log("Debounced update:",s),gY(e.nodeId,s)},300),o=()=>{const s=(n==null?void 0:n.innerText)||"";i(s)},a=s=>{s.key==="Enter"&&s.preventDefault()};return(()=>{var s=soe();s.$$keydown=a,s.$$input=o,s.addEventListener("blur",()=>r(!1)),s.$$dblclick=()=>{r(!0),ue("selectedNodes",new Set),setTimeout(()=>n.focus(),0)};var l=n;return typeof l=="function"?Ht(l,s):n=s,B(s,()=>e.title),ne(c=>{var u=!!t(),f=t(),d=t()?"text":"";return u!==c.e&&s.classList.toggle("titleHandle",c.e=u),f!==c.t&&q(s,"contenteditable",c.t=f),d!==c.a&&re(s,"cursor",c.a=d),c},{e:void 0,t:void 0,a:void 0}),s})()};Ut(["dblclick","input","keydown"]);var loe=W('<div class="flex flex-col gap-2">'),coe=W('<div class="sortable hidden bg-red-700 text-white p-4 rounded shadow z-50">/tt'),uoe=W('<div class=p-5><div class="text-2xl font-bold mb-4">Task List</div><div class="text-2xl font-bold mb-4">'),foe=W('<div class="sortable group/taskitem flex justify-between">'),doe=W('<div class=w-full><div class="flex items-start justify-between w-full"><div class="flex items-center space-x-2 w-full items-start"><span class="taskitem-text cursor-text text-foreground outline-0 overflow-hidden text-ellipsis text-pretty wrap-break-word leading-4 w-full">'),hoe=W('<label class="checkbox-check flex items-center cursor-pointer relative"><input type=checkbox class="peer size-4 cursor-pointer transition-all appearance-none rounded shadow hover:shadow-md border border-foreground checked:bg-primary/80 checked:border-primary"><span class="absolute text-white opacity-0 peer-checked:opacity-100 flex items-center justify-center"><svg xmlns=http://www.w3.org/2000/svg class=size-3/4 viewBox="0 0 20 20"fill=currentColor stroke=currentColor stroke-width=1><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>');const Fb=(()=>{let e=0;return()=>`task-id-${e++}`})(),poe=oS((e,t,r)=>{iY(e,r,t)},300),Z6=(e,t,r)=>{poe(e,t,r)},e8=e=>{const t=f=>f.map(d=>({...d,_id:Fb()})),[r,n]=J(t(e.tasks)),[i,o]=J(null),a=()=>r().map(f=>f._id),s=({draggable:f})=>{o(f.id)},l=({draggable:f,droppable:d})=>{if(f&&d){const p=a().indexOf(f.id),g=a().indexOf(d.id);let m=0,v=1;for(;!(p+v>r().length-1||r()[p+v].nestLevel===0);)v++,m++;if(p!==-1&&g!==-1&&p!==g){const b=[...r()],y=b.splice(p,1+m);console.log(y);for(let w=0;w<y.length;w++)b.splice(g+w,0,y[w]);n(b)}}const h=r().map(({_id:p,...g})=>g);Us(e.id,h),o(null)},c=(f,d)=>{var v,b;const h=f.currentTarget;(v=h.textContent)==null||v.trim();const p=window.getSelection(),g=p&&p.rangeCount>0?p.getRangeAt(0):null,m=g?g.startOffset:0;if(["Tab","Backspace","Enter","ArrowUp","ArrowDown"].includes(f.key)){if(f.key==="Enter"){f.preventDefault(),n(w=>{const $=[...w],k=w[d],O={_id:Fb(),text:"",check:!1,nestLevel:k.nestLevel};return $.splice(d+1,0,O),$});const y=r().map(({_id:w,...$})=>$);Us(e.id,y),queueMicrotask(()=>{const $=document.querySelectorAll(".taskitem-text")[d+1];$&&$.focus()});return}if(f.key==="Backspace"){const y=((b=h.textContent)==null?void 0:b.trim())??"";if(y===""&&r()[d].nestLevel>0){n(k=>k.map((O,T)=>T===d?{...O,text:y,nestLevel:O.nestLevel-1}:O));const $=r().map(({_id:k,...O})=>O);Us(e.id,$),queueMicrotask(()=>{const O=document.querySelectorAll(".taskitem-text")[d];if(O){O.focus();const T=window.getSelection(),D=document.createRange();D.selectNodeContents(O),D.collapse(!1),T==null||T.removeAllRanges(),T==null||T.addRange(D)}});return}if(y===""&&r()[d].nestLevel===0){n(k=>{const O=[...k];return O.splice(d,1),O});const $=r().map(({_id:k,...O})=>O);Us(e.id,$),queueMicrotask(()=>{const k=document.querySelectorAll(".taskitem-text"),O=k[d-1]||k[0];if(O){O.focus();const T=window.getSelection(),D=document.createRange();D.selectNodeContents(O),D.collapse(!1),T==null||T.removeAllRanges(),T==null||T.addRange(D)}});return}const w=p&&p.rangeCount>0?p.getRangeAt(0):null;if((w==null?void 0:w.startOffset)===0&&y!=="")return}if(f.key==="Tab"){f.preventDefault();const y=h.textContent||"";n($=>$.map((k,O)=>O===d?{...k,text:y,nestLevel:k.nestLevel+1}:k));const w=r().map(({_id:$,...k})=>k);Us(e.id,w),queueMicrotask(()=>{const k=document.querySelectorAll(".taskitem-text")[d];if(k){k.focus();const O=window.getSelection(),T=document.createRange();T.setStart(k.firstChild||k,m),T.collapse(!0),O==null||O.removeAllRanges(),O==null||O.addRange(T)}});return}if(f.key==="ArrowUp"||f.key==="ArrowDown"){f.preventDefault();const y=Array.from(document.querySelectorAll(".taskitem-text")),w=d;let $=w;f.key==="ArrowUp"&&w>0?$=w-1:f.key==="ArrowDown"&&w<y.length-1&&($=w+1);const k=y[$];if(k){k.focus();const O=window.getSelection(),T=document.createRange();T.selectNodeContents(k),T.collapse(!1),O==null||O.removeAllRanges(),O==null||O.addRange(T)}return}}},u=(f,d)=>{f.preventDefault();const p=f.clipboardData.getData("text").split(/\r?\n/).filter(Boolean);if(p.length===0)return;n(m=>{const v=[...m];v[d]={...v[d],text:p[0]};const b=p.slice(1).map(y=>({_id:Fb(),text:y,check:!1,nestLevel:v[d].nestLevel}));return v.splice(d+1,0,...b),v});const g=r().map(({_id:m,...v})=>v);Us(e.id,g),queueMicrotask(()=>{const v=document.querySelectorAll(".taskitem-text")[d+p.length-1];if(v){v.focus();const b=window.getSelection(),y=document.createRange();y.selectNodeContents(v),y.collapse(!1),b==null||b.removeAllRanges(),b==null||b.addRange(y)}})};return(()=>{var f=uoe(),d=f.firstChild,h=d.nextSibling;return B(h,M(Q6,{get nodeId(){return e.id},get title(){return e.title||"Title?"}})),B(f,M(Jie,{onDragStart:s,onDragEnd:l,collisionDetector:qie,get children(){return[M(Qie,{}),M(noe,{get ids(){return a()},get children(){var p=loe();return B(p,M(Ot,{get each(){return r()},children:(g,m)=>M(goe,{task:g,get id(){return g._id},get nodeId(){return e.id},get index(){return m()},handleKeyDown:c,handlePaste:u})})),p}}),M(toe,{get children(){var p=coe(),g=p.firstChild;return B(p,i,g),p}})]}}),null),f})()},goe=e=>{const t=aoe(e.id),[r]=Ss();return(()=>{var n=foe();return Ht(t,n,()=>!0),B(n,M(moe,ye(()=>e.task,{get index(){return e.index},get nodeId(){return e.nodeId},get handleKeyDown(){return e.handleKeyDown},get handlePaste(){return e.handlePaste}})),null),B(n,M(Tq,{class:"tasklist_handle size-4 cursor-pointer mt-1 transition-opacity duration-200 ease-out opacity-0 group-hover/taskitem:opacity-100 "}),null),ne(i=>{var o=!!t.isActiveDraggable,a=!!r.active.draggable;return o!==i.e&&n.classList.toggle("opacity-25",i.e=o),a!==i.t&&n.classList.toggle("transition-transform",i.t=a),i},{e:void 0,t:void 0}),n})()},moe=e=>(()=>{var t=doe(),r=t.firstChild,n=r.firstChild,i=n.firstChild;return B(n,M(voe,e),i),i.addEventListener("paste",o=>e.handlePaste(o,e.index)),i.$$input=o=>{Z6(e.nodeId,e.index,o.currentTarget.textContent||"")},i.$$keydown=o=>e.handleKeyDown(o,e.index),q(i,"contenteditable",!0),B(i,()=>e.text),ne(o=>re(t,"margin-left",`${e.nestLevel*18}px`)),t})(),voe=e=>(()=>{var t=hoe(),r=t.firstChild;return r.$$input=()=>Z6(e.nodeId,e.index,!e.check),ne(()=>r.checked=e.check),t})();Ut(["keydown","input"]);function jb(e,t,r=!1,n=!1,i){var o,a,s;if(console.log(e,t,r,n,i),r){let l=cY(e);if(!l){console.warn("Parent of the Node to move not found:",e);return}let c=F.nodes[l].find(u=>u.id===e);if(!c){console.warn("the Node to move not found:",e);return}q$(e,l),n?(console.log(e),console.log("nested moved to canvas: ",e,t,r,n,i),Q0({...c,x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0,index:((o=F.nodes[t])==null?void 0:o.length)??0})):Q0({...c,x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0,index:((a=F.nodes[t])==null?void 0:a.length)??0},t)}else{let l=Xa(t),c=Xa(e);if(!c){console.warn("Node to move not found:",e);return}if(!l){console.warn("parent dist node to move to not found:",t);return}if(c.type===l.type){console.warn("Cannot nest nodes of the same type, nodemoved:",c.type,"parent:",l.type);return}console.log("moved to inside a column from the canvas"),q$(e),console.log("starting to add the node"),Q0({...c,x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0,index:((s=F.nodes[l.id])==null?void 0:s.length)??0},l.id)}}function LM(e,t,r){const n=r.getBoundingClientRect();return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}function rv(e,t=!1,r){var h,p,g;let n=0,i=0,o=0,a=0,s=document.querySelectorAll(".column, .board");const l=1,c=(((h=r==null?void 0:r.classes)==null?void 0:h.length)||0)>0||(((p=r==null?void 0:r.ids)==null?void 0:p.length)||0)>0||(((g=r==null?void 0:r.tags)==null?void 0:g.length)||0)>0?[".child_node",...((r==null?void 0:r.classes)||[]).map(m=>`.${m}`),...((r==null?void 0:r.ids)||[]).map(m=>`#${m}`),...(r==null?void 0:r.tags)||[]].join(", "):".child_node",u=m=>{var b;if(F.showColorMenu&&ue("showColorMenu",!1),e.type===ie.Image&&m.preventDefault(),console.log("dragging",e.id,t),m.button!==0||m.ctrlKey||!t&&m.target.closest(c))return;s=document.querySelectorAll(".column, .board"),console.info("started dragging:",e.id),EL(e.id),ue("dragging",e.id);const v=((b=F.viewport)==null?void 0:b.scale)??1;n=(m.clientX-F.viewport.x)/v-e.x,i=(m.clientY-F.viewport.y)/v-e.y,o=m.clientX,a=m.clientY,window.addEventListener("pointermove",f),window.addEventListener("pointerup",d)},f=m=>{var $;console.info("moving:",e.id);const v=(($=F.viewport)==null?void 0:$.scale)??1;let b=(m.clientX-F.viewport.x)/v-n,y=(m.clientY-F.viewport.y)/v-i;t?sY(e.id,b,y):X0(e.id,b,y);const w=lY(e.id);//! could cause some performance issues if there is alot of column nodes on the canvas
s.forEach(k=>{LM(m.clientX,m.clientY,k)&&!w?k.classList.add("child_container_hover"):k.classList.remove("child_container_hover")})},d=m=>{ue("dragging",null),window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",d);const v=Math.abs(((m==null?void 0:m.clientX)??0)-o),b=Math.abs(((m==null?void 0:m.clientY)??0)-a);if(!(v>l||b>l)&&m){if(console.log("================================================="),console.log("did not move so single click"),console.log("================================================="),m.target.closest(c))return;if(F.selectedNodes.size===0){const D=new Set([e.id]);ue("selectedNodes",D)}else if(m.ctrlKey)tY(m,e.id);else{const D=new Set([e.id]);ue("selectedNodes",D)}return}console.log("dropping a node",e.id,t);const w=document.querySelectorAll(`.column:not(#${e.id}), .board:not(#${e.id})`);let $=!1;if(w.forEach(D=>{//! fix this e. error
const L=LM(m.clientX,m.clientY,D);D.classList.remove("child_container_hover"),t?L&&($=!0,console.error("this is the end herer"),jb(e.id,D.id,!0)):L&&(jb(e.id,D.id),$=!0)}),!$)if(t){const D=document.querySelectorAll(`#${e.id}`);console.info(D[0].getBoundingClientRect()),jb(e.id,"None",!0,!0,{x:Math.round(D[0].getBoundingClientRect().x/10)*10,y:Math.round(D[0].getBoundingClientRect().y/10)*10})}else if(F.snapGrid){const[D,L]=F.snapGrid,I=Xa(e.id),E=Math.round(((I==null?void 0:I.x)??0)/D)*D,_=Math.round(((I==null?void 0:I.y)??0)/L)*L;console.info(E,_),requestAnimationFrame(()=>{X0(e.id,E,_),$t()})}else{//! untested
requestAnimationFrame(()=>{const D=Xa(e.id);X0(e.id,(D==null?void 0:D.x)??0,(D==null?void 0:D.y)??0),$t()})}const k=document.getElementById(e.id),O=k==null?void 0:k.getBoundingClientRect(),T=F.viewport.scale||1;if(O){const D=O.width/T,L=O.height/T,I=e.x+D,E=e.y+L;if(I>F.viewport.width){const _=Math.round((I+50)/10)*10;ue("viewport",{width:Math.max(_,F.viewport.width)})}if(E>F.viewport.height){const _=Math.round((E+50)/10)*10;ue("viewport",{height:Math.max(_,F.viewport.height)})}}$t()};return be(()=>{console.warn("this is cleanup",e.id),window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",d)}),{startDrag:u}}var boe=W("<div id=invalid_url>The url provided is invalid"),yoe=W('<div class=space-y-2><div class="text_container p-4 space-y-2 overflow-hidden text-ellipsis"><div class="url_container flex flex-row items-center space-x-2"><img class="url_thumbnail size-4"loading=lazy alt=favicon><div><a class="url text-xs font-bold text-foreground"></a></div></div><div><a class="underline text-primary font-extrabold"></a></div><div class="url_description text-xs">',!0,!1,!1),$oe=W("<div>youtube vid"),woe=W('<div><img class="url_thumbnail pointer-events-none"loading=lazy alt>',!0,!1,!1);const t8=e=>{rv(e,e.is_child);const[t,r]=J({title:"placeholder",description:"placeholder",image:"placeholder.png",favicon:"placeholder.png"});function n(o){return/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/.+$/.test(o)}boe();const i=async o=>{try{return await Rt("scrape_url",{url:o})}catch(a){return console.error("Error scraping metadata:",a),null}};return lr(()=>{queueMicrotask(()=>{i(e.url).then(o=>{o&&r(o)})})}),(()=>{var o=yoe(),a=o.firstChild,s=a.firstChild,l=s.firstChild,c=l.nextSibling,u=c.firstChild,f=s.nextSibling,d=f.firstChild,h=f.nextSibling;return B(o,(()=>{var p=pt(()=>!!n(e.url));return()=>p()?$oe():(()=>{var g=woe(),m=g.firstChild;return ne(()=>q(m,"src",t().image)),g})()})(),a),B(u,()=>e.url),B(d,()=>t().title),B(h,()=>t().description),ne(p=>{var g=t().favicon,m=e.url,v=e.url;return g!==p.e&&q(l,"src",p.e=g),m!==p.t&&q(u,"href",p.t=m),v!==p.a&&q(d,"href",p.a=v),p},{e:void 0,t:void 0,a:void 0}),o})()};var xoe=W('<div class="board flex flex-col justify-center items-center"><div class="board_icon flex flex-col justify-center items-center"></div><div class="text_container flex flex-col justify-center items-center"><div></div><div>content');const r8=e=>{const{startDrag:t}=rv(e,e.is_child),r=()=>{console.error("double clicked the board",e.id);const n=Xa(e.id);ue("activeBoards",i=>[...i,{name:n.name,id:n.id}]),ue("selectedNodes",new Set([]))};return(()=>{var n=xoe(),i=n.firstChild,o=i.nextSibling,a=o.firstChild,s=a.nextSibling;return aa(n,"pointerdown",t,!0),n.$$dblclick=r,B(i,M(TL,{class:"size-full p-2"})),B(a,()=>e.name),ne(l=>{var c={child_node:e.is_child,node:!e.is_child,"flex flex-row justify-start p-2 pl-2.5 border":e.is_child,selected_node:F.selectedNodes.has(e.id)},u=e.id,f=e.is_child?`#${e.color?e.color:"var(--color-primary)"}20`:"#00000000",d=e.is_child?"100%":"60px",h=e.zIndex,p=e.is_child?"":"15px",g=`translate3d(${e.x}px, ${e.y}px, 0)`,m=e.color?e.color:"var(--color-primary)",v=e.is_child?"50px":"60px",b=e.is_child?"50px":"60px",y=e.is_child?"10px":"",w=e.is_child?"10px":"15px",$={"board_text mt-2.5 mb-1.5 text-nowrap":!e.is_child,"board_text_child self-start mb-1.5":e.is_child},k={"board_content text-grey":!e.is_child,"board_content_child text-grey self-start":e.is_child};return l.e=za(n,c,l.e),u!==l.t&&q(n,"id",l.t=u),f!==l.a&&re(n,"background",l.a=f),d!==l.o&&re(n,"width",l.o=d),h!==l.i&&re(n,"z-index",l.i=h),p!==l.n&&re(n,"border-radius",l.n=p),g!==l.s&&re(n,"transform",l.s=g),m!==l.h&&re(i,"background",l.h=m),v!==l.r&&re(i,"width",l.r=v),b!==l.d&&re(i,"height",l.d=b),y!==l.l&&re(i,"margin-right",l.l=y),w!==l.u&&re(i,"border-radius",l.u=w),l.c=za(a,$,l.c),l.w=za(s,k,l.w),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),n})()};Ut(["dblclick","pointerdown"]);function n8(e){var a;const[t,r]=J((a=e.defaultValue)==null?void 0:a.call(e)),n=me(()=>{var s;return((s=e.value)==null?void 0:s.call(e))!==void 0}),i=me(()=>{var s;return n()?(s=e.value)==null?void 0:s.call(e):t()});return[i,s=>{Me(()=>{var c;const l=xG(s,i());return Object.is(l,i())||(n()||r(l),(c=e.onChange)==null||c.call(e,l)),l})}]}function i8(e){const[t,r]=n8(e);return[()=>t()??!1,r]}function Soe(e={}){const[t,r]=i8({value:()=>j(e.isSelected),defaultValue:()=>!!j(e.defaultIsSelected),onChange:o=>{var a;return(a=e.onSelectedChange)==null?void 0:a.call(e,o)}});return{isSelected:t,setIsSelected:o=>{!j(e.isReadOnly)&&!j(e.isDisabled)&&r(o)},toggle:()=>{!j(e.isReadOnly)&&!j(e.isDisabled)&&r(!t())}}}function Ui(e){return t=>(e(t),()=>e(void 0))}var o8=["id","name","validationState","required","disabled","readOnly"];function a8(e){const t=`form-control-${ac()}`,r=rt({id:t},e),[n,i]=J(),[o,a]=J(),[s,l]=J(),[c,u]=J(),f=(g,m,v)=>{const b=v!=null||n()!=null;return[v,n(),b&&m!=null?g:void 0].filter(Boolean).join(" ")||void 0},d=g=>[s(),c(),g].filter(Boolean).join(" ")||void 0,h=me(()=>({"data-valid":j(r.validationState)==="valid"?"":void 0,"data-invalid":j(r.validationState)==="invalid"?"":void 0,"data-required":j(r.required)?"":void 0,"data-disabled":j(r.disabled)?"":void 0,"data-readonly":j(r.readOnly)?"":void 0}));return{formControlContext:{name:()=>j(r.name)??j(r.id),dataset:h,validationState:()=>j(r.validationState),isRequired:()=>j(r.required),isDisabled:()=>j(r.disabled),isReadOnly:()=>j(r.readOnly),labelId:n,fieldId:o,descriptionId:s,errorMessageId:c,getAriaLabelledBy:f,getAriaDescribedBy:d,generateId:Df(()=>j(r.id)),registerLabel:Ui(i),registerField:Ui(a),registerDescription:Ui(l),registerErrorMessage:Ui(u)}}}var ek=en();function Si(){const e=tn(ek);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function tk(e){const t=Si(),r=rt({id:t.generateId("description")},e);return oe(()=>be(t.registerDescription(r.id))),M(xt,ye({as:"div"},()=>t.dataset(),r))}var s8=["id","aria-label","aria-labelledby","aria-describedby"];function l8(e){const t=Si(),r=rt({id:t.generateId("field")},e);return oe(()=>be(t.registerField(j(r.id)))),{fieldProps:{id:()=>j(r.id),ariaLabel:()=>j(r["aria-label"]),ariaLabelledBy:()=>t.getAriaLabelledBy(j(r.id),j(r["aria-label"]),j(r["aria-labelledby"])),ariaDescribedBy:()=>t.getAriaDescribedBy(j(r["aria-describedby"]))}}}function c8(e){let t;const r=Si(),n=rt({id:r.generateId("label")},e),[i,o]=Ie(n,["ref"]),a=$L(()=>t,()=>"label");return oe(()=>be(r.registerLabel(o.id))),M(xt,ye({as:"label",ref(s){var l=Nr(c=>t=c,i.ref);typeof l=="function"&&l(s)},get for(){return pt(()=>a()==="label")()?r.fieldId():void 0}},()=>r.dataset(),o))}function u8(e,t){oe(di(e,r=>{if(r==null)return;const n=koe(r);n!=null&&(n.addEventListener("reset",t,{passive:!0}),be(()=>{n.removeEventListener("reset",t)}))}))}function koe(e){return Ooe(e)?e.form:e.closest("form")}function Ooe(e){return e.matches("textarea, input, select, button")}function rk(e){const t=Si(),r=rt({id:t.generateId("error-message")},e),[n,i]=Ie(r,["forceMount"]),o=()=>t.validationState()==="invalid";return oe(()=>{o()&&be(t.registerErrorMessage(i.id))}),M(Tt,{get when(){return n.forceMount||o()},get children(){return M(xt,ye({as:"div"},()=>t.dataset(),i))}})}var tr=e=>typeof e=="function"?e():e,Toe=e=>{const t=me(()=>{const a=tr(e.element);if(a)return getComputedStyle(a)}),r=()=>{var a;return((a=t())==null?void 0:a.animationName)??"none"},[n,i]=J(tr(e.show)?"present":"hidden");let o="none";return oe(a=>{const s=tr(e.show);return Me(()=>{var u;if(a===s)return s;const l=o,c=r();s?i("present"):c==="none"||((u=t())==null?void 0:u.display)==="none"?i("hidden"):i(a===!0&&l!==c?"hiding":"hidden")}),s}),oe(()=>{const a=tr(e.element);if(!a)return;const s=c=>{c.target===a&&(o=r())},l=c=>{const f=r().includes(c.animationName);c.target===a&&f&&n()==="hiding"&&i("hidden")};a.addEventListener("animationstart",s),a.addEventListener("animationcancel",l),a.addEventListener("animationend",l),be(()=>{a.removeEventListener("animationstart",s),a.removeEventListener("animationcancel",l),a.removeEventListener("animationend",l)})}),{present:()=>n()==="present"||n()==="hiding",state:n,setState:i}},Coe=Toe,f8=Coe,Eoe={};Rm(Eoe,{Checkbox:()=>Go,Control:()=>h8,Description:()=>p8,ErrorMessage:()=>g8,Indicator:()=>m8,Input:()=>v8,Label:()=>b8,Root:()=>y8,useCheckboxContext:()=>ks});var d8=en();function ks(){const e=tn(d8);if(e===void 0)throw new Error("[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component");return e}function h8(e){const t=Si(),r=ks(),n=rt({id:r.generateId("control")},e),[i,o]=Ie(n,["onClick","onKeyDown"]);return M(xt,ye({as:"div",onClick:l=>{var c;Dt(l,i.onClick),r.toggle(),(c=r.inputRef())==null||c.focus()},onKeyDown:l=>{var c;Dt(l,i.onKeyDown),l.key===Xx.Space&&(r.toggle(),(c=r.inputRef())==null||c.focus())}},()=>t.dataset(),()=>r.dataset(),o))}function p8(e){const t=ks();return M(tk,ye(()=>t.dataset(),e))}function g8(e){const t=ks();return M(rk,ye(()=>t.dataset(),e))}function m8(e){const t=Si(),r=ks(),[n,i]=J(),o=rt({id:r.generateId("indicator")},e),[a,s]=Ie(o,["ref","forceMount"]),{present:l}=f8({show:()=>a.forceMount||r.indeterminate()||r.checked(),element:()=>n()??null});return M(Tt,{get when(){return l()},get children(){return M(xt,ye({as:"div",ref(c){var u=Nr(i,a.ref);typeof u=="function"&&u(c)}},()=>t.dataset(),()=>r.dataset(),s))}})}function v8(e){let t;const r=Si(),n=ks(),i=rt({id:n.generateId("input")},e),[o,a,s]=Ie(i,["ref","style","onChange","onFocus","onBlur"],s8),{fieldProps:l}=l8(a),[c,u]=J(!1),f=p=>{if(Dt(p,o.onChange),p.stopPropagation(),!c()){const g=p.target;n.setIsChecked(g.checked),g.checked=n.checked()}u(!1)},d=p=>{Dt(p,o.onFocus),n.setIsFocused(!0)},h=p=>{Dt(p,o.onBlur),n.setIsFocused(!1)};return oe(di([()=>n.checked(),()=>n.value()],()=>{u(!0),t==null||t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),t==null||t.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},{defer:!0})),oe(di([()=>t,()=>n.indeterminate(),()=>n.checked()],([p,g])=>{p&&(p.indeterminate=g)})),M(xt,ye({as:"input",ref(p){var g=Nr(m=>{n.setInputRef(m),t=m},o.ref);typeof g=="function"&&g(p)},type:"checkbox",get id(){return l.id()},get name(){return r.name()},get value(){return n.value()},get checked(){return n.checked()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readonly(){return r.isReadOnly()},get style(){return Lm(tS,o.style)},get"aria-label"(){return l.ariaLabel()},get"aria-labelledby"(){return l.ariaLabelledBy()},get"aria-describedby"(){return l.ariaDescribedBy()},get"aria-invalid"(){return r.validationState()==="invalid"||void 0},get"aria-required"(){return r.isRequired()},get"aria-disabled"(){return r.isDisabled()},get"aria-readonly"(){return r.isReadOnly()},onChange:f,onFocus:d,onBlur:h},()=>r.dataset(),()=>n.dataset(),s))}function b8(e){const t=ks();return M(c8,ye(()=>t.dataset(),e))}function y8(e){let t;const r=`checkbox-${ac()}`,n=rt({value:"on",id:r},e),[i,o,a]=Ie(n,["ref","children","value","checked","defaultChecked","indeterminate","onChange","onPointerDown"],o8),[s,l]=J(),[c,u]=J(!1),{formControlContext:f}=a8(o),d=Soe({isSelected:()=>i.checked,defaultIsSelected:()=>i.defaultChecked,onSelectedChange:m=>{var v;return(v=i.onChange)==null?void 0:v.call(i,m)},isDisabled:()=>f.isDisabled(),isReadOnly:()=>f.isReadOnly()});u8(()=>t,()=>d.setIsSelected(i.defaultChecked??!1));const h=m=>{Dt(m,i.onPointerDown),c()&&m.preventDefault()},p=me(()=>({"data-checked":d.isSelected()?"":void 0,"data-indeterminate":i.indeterminate?"":void 0})),g={value:()=>i.value,dataset:p,checked:()=>d.isSelected(),indeterminate:()=>i.indeterminate??!1,inputRef:s,generateId:Df(()=>j(o.id)),toggle:()=>d.toggle(),setIsChecked:m=>d.setIsSelected(m),setIsFocused:u,setInputRef:l};return M(ek.Provider,{value:f,get children(){return M(d8.Provider,{value:g,get children(){return M(xt,ye({as:"div",ref(m){var v=Nr(b=>t=b,i.ref);typeof v=="function"&&v(m)},role:"group",get id(){return j(o.id)},onPointerDown:h},()=>f.dataset(),p,a,{get children(){return M(Moe,{state:g,get children(){return i.children}})}}))}})}})}function Moe(e){const t=Pm(()=>{const r=e.children;return Nm(r)?r(e.state):r});return pt(t)}var Go=Object.assign(y8,{Control:h8,Description:p8,ErrorMessage:g8,Indicator:m8,Input:v8,Label:b8}),Aoe=W('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="h-4 w-4"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m5 12l5 5L20 7"></path><title>Checkbox');Go.Label;const Ioe=Go;Go.ErrorMessage;Go.Description;const Poe=e=>{const[t,r]=Ie(e,["class","children"]);return[M(Go.Input,{class:"[&:focus-visible+div]:outline-none [&:focus-visible+div]:ring-[1.5px] [&:focus-visible+div]:ring-ring [&:focus-visible+div]:ring-offset-2 [&:focus-visible+div]:ring-offset-background"}),M(Go.Control,ye({get class(){return _f("cursor-pointer h-4 w-4 shrink-0 rounded-sm border border-primary shadow transition-shadow focus-visible:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring data-[disabled]:cursor-not-allowed data-[checked]:bg-primary data-[checked]:text-primary-foreground data-[disabled]:opacity-50",t.class)}},r,{get children(){return M(Go.Indicator,{class:"flex items-center justify-center text-current",get children(){return Aoe()}})}}))]};function $8(e){let t=e.startIndex??0;const r=e.startLevel??0,n=[],i=l=>{if(l==null)return"";const c=e.getKey??"key",u=sl(c)?l[c]:c(l);return u!=null?String(u):""},o=l=>{if(l==null)return"";const c=e.getTextValue??"textValue",u=sl(c)?l[c]:c(l);return u!=null?String(u):""},a=l=>{if(l==null)return!1;const c=e.getDisabled??"disabled";return(sl(c)?l[c]:c(l))??!1},s=l=>{var c;if(l!=null)return sl(e.getSectionChildren)?l[e.getSectionChildren]:(c=e.getSectionChildren)==null?void 0:c.call(e,l)};for(const l of e.dataSource){if(sl(l)||MG(l)){n.push({type:"item",rawValue:l,key:String(l),textValue:String(l),disabled:a(l),level:r,index:t}),t++;continue}if(s(l)!=null){n.push({type:"section",rawValue:l,key:"",textValue:"",disabled:!1,level:r,index:t}),t++;const c=s(l)??[];if(c.length>0){const u=$8({dataSource:c,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:t,startLevel:r+1});n.push(...u),t+=u.length}}else n.push({type:"item",rawValue:l,key:i(l),textValue:o(l),disabled:a(l),level:r,index:t}),t++}return n}function _oe(e,t=[]){return me(()=>{const r=$8({dataSource:j(e.dataSource),getKey:j(e.getKey),getTextValue:j(e.getTextValue),getDisabled:j(e.getDisabled),getSectionChildren:j(e.getSectionChildren)});for(let n=0;n<t.length;n++)t[n]();return e.factory(r)})}var Doe=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Loe=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Noe(e){if(Intl.Locale){const r=new Intl.Locale(e).maximize().script??"";return Doe.has(r)}const t=e.split("-")[0];return Loe.has(t)}function Roe(e){return Noe(e)?"rtl":"ltr"}function w8(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:Roe(e)}}var Hw=w8(),pu=new Set;function NM(){Hw=w8();for(const e of pu)e(Hw)}function Foe(){const[e,t]=J(Hw),r=me(()=>e());return lr(()=>{pu.size===0&&window.addEventListener("languagechange",NM),pu.add(t),be(()=>{pu.delete(t),pu.size===0&&window.removeEventListener("languagechange",NM)})}),{locale:()=>r().locale,direction:()=>r().direction}}var joe=en();function nk(){const e=Foe();return tn(joe)||e}var Bb=new Map;function x8(e){const{locale:t}=nk(),r=me(()=>t()+(e?Object.entries(e).sort((n,i)=>n[0]<i[0]?-1:1).join():""));return me(()=>{const n=r();let i;return Bb.has(n)&&(i=Bb.get(n)),i||(i=new Intl.Collator(t(),e),Bb.set(n,i)),i})}var oi=class S8 extends Set{constructor(r,n,i){super(r);R(this,"anchorKey");R(this,"currentKey");r instanceof S8?(this.anchorKey=n||r.anchorKey,this.currentKey=i||r.currentKey):(this.anchorKey=n,this.currentKey=i)}};function Boe(e){const[t,r]=n8(e);return[()=>t()??new oi,r]}function k8(e){return DG()?e.altKey:e.ctrlKey}function dl(e){return Lf()?e.metaKey:e.ctrlKey}function RM(e){return new oi(e)}function O8(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function zoe(e){const t=rt({selectionMode:"none",selectionBehavior:"toggle"},e),[r,n]=J(!1),[i,o]=J(),a=me(()=>{const g=j(t.selectedKeys);return g!=null?RM(g):g}),s=me(()=>{const g=j(t.defaultSelectedKeys);return g!=null?RM(g):new oi}),[l,c]=Boe({value:a,defaultValue:s,onChange:g=>{var m;return(m=t.onSelectionChange)==null?void 0:m.call(t,g)}}),[u,f]=J(j(t.selectionBehavior)),d=()=>j(t.selectionMode),h=()=>j(t.disallowEmptySelection)??!1,p=g=>{(j(t.allowDuplicateSelectionEvents)||!O8(g,l()))&&c(g)};return oe(()=>{const g=l();j(t.selectionBehavior)==="replace"&&u()==="toggle"&&typeof g=="object"&&g.size===0&&f("replace")}),oe(()=>{f(j(t.selectionBehavior)??"toggle")}),{selectionMode:d,disallowEmptySelection:h,selectionBehavior:u,setSelectionBehavior:f,isFocused:r,setFocused:n,focusedKey:i,setFocusedKey:o,selectedKeys:l,setSelectedKeys:p}}function T8(e){const[t,r]=J(""),[n,i]=J(-1);return{typeSelectHandlers:{onKeyDown:a=>{var d;if(j(e.isDisabled))return;const s=j(e.keyboardDelegate),l=j(e.selectionManager);if(!s.getKeyForSearch)return;const c=Hoe(a.key);if(!c||a.ctrlKey||a.metaKey)return;c===" "&&t().trim().length>0&&(a.preventDefault(),a.stopPropagation());let u=r(h=>h+c),f=s.getKeyForSearch(u,l.focusedKey())??s.getKeyForSearch(u);f==null&&Uoe(u)&&(u=u[0],f=s.getKeyForSearch(u,l.focusedKey())??s.getKeyForSearch(u)),f!=null&&(l.setFocusedKey(f),(d=e.onTypeSelect)==null||d.call(e,f)),clearTimeout(n()),i(window.setTimeout(()=>r(""),500))}}}}function Hoe(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function Uoe(e){return e.split("").every(t=>t===e[0])}function Voe(e,t,r){const i=ye({selectOnFocus:()=>j(e.selectionManager).selectionBehavior()==="replace"},e),o=()=>(r==null?void 0:r())??t(),{direction:a}=nk();let s={top:0,left:0};OG(()=>j(i.isVirtualized)?void 0:o(),"scroll",()=>{const m=o();m&&(s={top:m.scrollTop,left:m.scrollLeft})});const{typeSelectHandlers:l}=T8({isDisabled:()=>j(i.disallowTypeAhead),keyboardDelegate:()=>j(i.keyboardDelegate),selectionManager:()=>j(i.selectionManager)}),c=()=>j(i.orientation)??"vertical",u=m=>{var T,D,L,I,E,_,S,C;Dt(m,l.onKeyDown),m.altKey&&m.key==="Tab"&&m.preventDefault();const v=t();if(!(v!=null&&v.contains(m.target)))return;const b=j(i.selectionManager),y=j(i.selectOnFocus),w=x=>{x!=null&&(b.setFocusedKey(x),m.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(x):y&&!k8(m)&&b.replaceSelection(x))},$=j(i.keyboardDelegate),k=j(i.shouldFocusWrap),O=b.focusedKey();switch(m.key){case(c()==="vertical"?"ArrowDown":"ArrowRight"):{if($.getKeyBelow){m.preventDefault();let x;O!=null?x=$.getKeyBelow(O):x=(T=$.getFirstKey)==null?void 0:T.call($),x==null&&k&&(x=(D=$.getFirstKey)==null?void 0:D.call($,O)),w(x)}break}case(c()==="vertical"?"ArrowUp":"ArrowLeft"):{if($.getKeyAbove){m.preventDefault();let x;O!=null?x=$.getKeyAbove(O):x=(L=$.getLastKey)==null?void 0:L.call($),x==null&&k&&(x=(I=$.getLastKey)==null?void 0:I.call($,O)),w(x)}break}case(c()==="vertical"?"ArrowLeft":"ArrowUp"):{if($.getKeyLeftOf){m.preventDefault();const x=a()==="rtl";let P;O!=null?P=$.getKeyLeftOf(O):P=x?(E=$.getFirstKey)==null?void 0:E.call($):(_=$.getLastKey)==null?void 0:_.call($),w(P)}break}case(c()==="vertical"?"ArrowRight":"ArrowDown"):{if($.getKeyRightOf){m.preventDefault();const x=a()==="rtl";let P;O!=null?P=$.getKeyRightOf(O):P=x?(S=$.getLastKey)==null?void 0:S.call($):(C=$.getFirstKey)==null?void 0:C.call($),w(P)}break}case"Home":if($.getFirstKey){m.preventDefault();const x=$.getFirstKey(O,dl(m));x!=null&&(b.setFocusedKey(x),dl(m)&&m.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(x):y&&b.replaceSelection(x))}break;case"End":if($.getLastKey){m.preventDefault();const x=$.getLastKey(O,dl(m));x!=null&&(b.setFocusedKey(x),dl(m)&&m.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(x):y&&b.replaceSelection(x))}break;case"PageDown":if($.getKeyPageBelow&&O!=null){m.preventDefault();const x=$.getKeyPageBelow(O);w(x)}break;case"PageUp":if($.getKeyPageAbove&&O!=null){m.preventDefault();const x=$.getKeyPageAbove(O);w(x)}break;case"a":dl(m)&&b.selectionMode()==="multiple"&&j(i.disallowSelectAll)!==!0&&(m.preventDefault(),b.selectAll());break;case"Escape":m.defaultPrevented||(m.preventDefault(),j(i.disallowEmptySelection)||b.clearSelection());break;case"Tab":if(!j(i.allowsTabNavigation)){if(m.shiftKey)v.focus();else{const x=KG(v,{tabbable:!0});let P,A;do A=x.lastChild(),A&&(P=A);while(A);P&&!P.contains(document.activeElement)&&Mr(P)}break}}},f=m=>{var w,$;const v=j(i.selectionManager),b=j(i.keyboardDelegate),y=j(i.selectOnFocus);if(v.isFocused()){m.currentTarget.contains(m.target)||v.setFocused(!1);return}if(m.currentTarget.contains(m.target)){if(v.setFocused(!0),v.focusedKey()==null){const k=T=>{T!=null&&(v.setFocusedKey(T),y&&v.replaceSelection(T))},O=m.relatedTarget;O&&m.currentTarget.compareDocumentPosition(O)&Node.DOCUMENT_POSITION_FOLLOWING?k(v.lastSelectedKey()??((w=b.getLastKey)==null?void 0:w.call(b))):k(v.firstSelectedKey()??(($=b.getFirstKey)==null?void 0:$.call(b)))}else if(!j(i.isVirtualized)){const k=o();if(k){k.scrollTop=s.top,k.scrollLeft=s.left;const O=k.querySelector(`[data-key="${v.focusedKey()}"]`);O&&(Mr(O),CC(k,O))}}}},d=m=>{const v=j(i.selectionManager);m.currentTarget.contains(m.relatedTarget)||v.setFocused(!1)},h=m=>{o()===m.target&&m.preventDefault()},p=()=>{var k,O;const m=j(i.autoFocus);if(!m)return;const v=j(i.selectionManager),b=j(i.keyboardDelegate);let y;m==="first"&&(y=(k=b.getFirstKey)==null?void 0:k.call(b)),m==="last"&&(y=(O=b.getLastKey)==null?void 0:O.call(b));const w=v.selectedKeys();w.size&&(y=w.values().next().value),v.setFocused(!0),v.setFocusedKey(y);const $=t();$&&y==null&&!j(i.shouldUseVirtualFocus)&&Mr($)};return lr(()=>{i.deferAutoFocus?setTimeout(p,0):p()}),oe(di([o,()=>j(i.isVirtualized),()=>j(i.selectionManager).focusedKey()],m=>{var w;const[v,b,y]=m;if(b)y&&((w=i.scrollToKey)==null||w.call(i,y));else if(y&&v){const $=v.querySelector(`[data-key="${y}"]`);$&&CC(v,$)}})),{tabIndex:me(()=>{if(!j(i.shouldUseVirtualFocus))return j(i.selectionManager).focusedKey()==null?0:-1}),onKeyDown:u,onMouseDown:h,onFocusIn:f,onFocusOut:d}}function Woe(e,t){const r=()=>j(e.selectionManager),n=()=>j(e.key),i=()=>j(e.shouldUseVirtualFocus),o=b=>{r().selectionMode()!=="none"&&(r().selectionMode()==="single"?r().isSelected(n())&&!r().disallowEmptySelection()?r().toggleSelection(n()):r().replaceSelection(n()):b!=null&&b.shiftKey?r().extendSelection(n()):r().selectionBehavior()==="toggle"||dl(b)||"pointerType"in b&&b.pointerType==="touch"?r().toggleSelection(n()):r().replaceSelection(n()))},a=()=>r().isSelected(n()),s=()=>j(e.disabled)||r().isDisabled(n()),l=()=>!s()&&r().canSelectItem(n());let c=null;const u=b=>{l()&&(c=b.pointerType,b.pointerType==="mouse"&&b.button===0&&!j(e.shouldSelectOnPressUp)&&o(b))},f=b=>{l()&&b.pointerType==="mouse"&&b.button===0&&j(e.shouldSelectOnPressUp)&&j(e.allowsDifferentPressOrigin)&&o(b)},d=b=>{l()&&(j(e.shouldSelectOnPressUp)&&!j(e.allowsDifferentPressOrigin)||c!=="mouse")&&o(b)},h=b=>{!l()||!["Enter"," "].includes(b.key)||(k8(b)?r().toggleSelection(n()):o(b))},p=b=>{s()&&b.preventDefault()},g=b=>{const y=t();i()||s()||!y||b.target===y&&r().setFocusedKey(n())},m=me(()=>{if(!(i()||s()))return n()===r().focusedKey()?0:-1}),v=me(()=>j(e.virtualized)?void 0:n());return oe(di([t,n,i,()=>r().focusedKey(),()=>r().isFocused()],([b,y,w,$,k])=>{b&&y===$&&k&&!w&&document.activeElement!==b&&(e.focus?e.focus():Mr(b))})),{isSelected:a,isDisabled:s,allowsSelection:l,tabIndex:m,dataKey:v,onPointerDown:u,onPointerUp:f,onClick:d,onKeyDown:h,onMouseDown:p,onFocus:g}}var Koe=class{constructor(e,t){R(this,"collection");R(this,"state");this.collection=e,this.state=t}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}isFocused(){return this.state.isFocused()}setFocused(e){this.state.setFocused(e)}focusedKey(){return this.state.focusedKey()}setFocusedKey(e){(e==null||this.collection().getItem(e))&&this.state.setFocusedKey(e)}selectedKeys(){return this.state.selectedKeys()}isSelected(e){if(this.state.selectionMode()==="none")return!1;const t=this.getKey(e);return t==null?!1:this.state.selectedKeys().has(t)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const e=this.state.selectedKeys();return this.getAllSelectableKeys().every(t=>e.has(t))}firstSelectedKey(){let e;for(const t of this.state.selectedKeys()){const r=this.collection().getItem(t),n=(r==null?void 0:r.index)!=null&&(e==null?void 0:e.index)!=null&&r.index<e.index;(!e||n)&&(e=r)}return e==null?void 0:e.key}lastSelectedKey(){let e;for(const t of this.state.selectedKeys()){const r=this.collection().getItem(t),n=(r==null?void 0:r.index)!=null&&(e==null?void 0:e.index)!=null&&r.index>e.index;(!e||n)&&(e=r)}return e==null?void 0:e.key}extendSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const r=this.state.selectedKeys(),n=r.anchorKey||t,i=new oi(r,n,t);for(const o of this.getKeyRange(n,r.currentKey||t))i.delete(o);for(const o of this.getKeyRange(t,n))this.canSelectItem(o)&&i.add(o);this.state.setSelectedKeys(i)}getKeyRange(e,t){const r=this.collection().getItem(e),n=this.collection().getItem(t);return r&&n?r.index!=null&&n.index!=null&&r.index<=n.index?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){const r=[];let n=e;for(;n!=null;){const i=this.collection().getItem(n);if(i&&i.type==="item"&&r.push(n),n===t)return r;n=this.collection().getKeyAfter(n)}return[]}getKey(e){const t=this.collection().getItem(e);return t?!t||t.type!=="item"?null:t.key:e}toggleSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const r=new oi(this.state.selectedKeys());r.has(t)?r.delete(t):this.canSelectItem(t)&&(r.add(t),r.anchorKey=t,r.currentKey=t),!(this.disallowEmptySelection()&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(e){if(this.selectionMode()==="none")return;const t=this.getKey(e);if(t==null)return;const r=this.canSelectItem(t)?new oi([t],t,t):new oi;this.state.setSelectedKeys(r)}setSelectedKeys(e){if(this.selectionMode()==="none")return;const t=new oi;for(const r of e){const n=this.getKey(r);if(n!=null&&(t.add(n),this.selectionMode()==="single"))break}this.state.setSelectedKeys(t)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const e=this.state.selectedKeys();!this.disallowEmptySelection()&&e.size>0&&this.state.setSelectedKeys(new oi)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(e)&&!this.disallowEmptySelection()?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior()==="toggle"||t&&t.pointerType==="touch"?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys())return!0;const t=this.selectedKeys();if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;for(const r of t)if(!e.has(r))return!1;return!0}canSelectItem(e){if(this.state.selectionMode()==="none")return!1;const t=this.collection().getItem(e);return t!=null&&!t.disabled}isDisabled(e){const t=this.collection().getItem(e);return!t||t.disabled}getAllSelectableKeys(){const e=[];return(r=>{for(;r!=null;){if(this.canSelectItem(r)){const n=this.collection().getItem(r);if(!n)continue;n.type==="item"&&e.push(r)}r=this.collection().getKeyAfter(r)}})(this.collection().getFirstKey()),e}},FM=class{constructor(e){R(this,"keyMap",new Map);R(this,"iterable");R(this,"firstKey");R(this,"lastKey");this.iterable=e;for(const n of e)this.keyMap.set(n.key,n);if(this.keyMap.size===0)return;let t,r=0;for(const[n,i]of this.keyMap)t?(t.nextKey=n,i.prevKey=t.key):(this.firstKey=n,i.prevKey=void 0),i.type==="item"&&(i.index=r++),t=i,t.nextKey=void 0;this.lastKey=t.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){var t;return(t=this.keyMap.get(e))==null?void 0:t.prevKey}getKeyAfter(e){var t;return(t=this.keyMap.get(e))==null?void 0:t.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}};function C8(e){const t=zoe(e),n=_oe({dataSource:()=>j(e.dataSource),getKey:()=>j(e.getKey),getTextValue:()=>j(e.getTextValue),getDisabled:()=>j(e.getDisabled),getSectionChildren:()=>j(e.getSectionChildren),factory:o=>e.filter?new FM(e.filter(o)):new FM(o)},[()=>e.filter]),i=new Koe(n,t);return sK(()=>{const o=t.focusedKey();o!=null&&!n().getItem(o)&&t.setFocusedKey(void 0)}),{collection:n,selectionManager:()=>i}}var Goe=W("<option>"),qoe=W("<div aria-hidden=true><input type=text style=font-size:16px><select tabindex=-1><option>");function Yoe(e){let t;const[r,n]=Ie(e,["ref","onChange","collection","selectionManager","isOpen","isMultiple","isVirtualized","focusTrigger"]),i=Si(),[o,a]=J(!1),s=l=>{const c=r.collection.getItem(l);return M(Tt,{get when(){return(c==null?void 0:c.type)==="item"},get children(){var u=Goe();return u.value=l,B(u,()=>c==null?void 0:c.textValue),ne(()=>u.selected=r.selectionManager.isSelected(l)),u}})};return oe(di(()=>r.selectionManager.selectedKeys(),(l,c)=>{c&&O8(l,c)||(a(!0),t==null||t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),t==null||t.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})))},{defer:!0})),(()=>{var l=qoe(),c=l.firstChild,u=c.nextSibling;u.firstChild,c.addEventListener("focus",()=>r.focusTrigger()),u.addEventListener("change",d=>{Dt(d,r.onChange),o()||r.selectionManager.setSelectedKeys(new Set([d.target.value])),a(!1)});var f=Nr(d=>t=d,r.ref);return typeof f=="function"&&Ht(f,u),qx(u,ye({get multiple(){return r.isMultiple},get name(){return i.name()},get required(){return i.isRequired()},get disabled(){return i.isDisabled()},get size(){return r.collection.getSize()},get value(){return r.selectionManager.firstSelectedKey()??""}},n),!1,!0),B(u,M(Tt,{get when(){return r.isVirtualized},get fallback(){return M(Ot,{get each(){return[...r.collection.getKeys()]},children:s})},get children(){return M(Ot,{get each(){return[...r.selectionManager.selectedKeys()]},children:s})}}),null),ne(d=>{var h=tS,p=r.selectionManager.isFocused()||r.isOpen?-1:0,g=i.isRequired(),m=i.isDisabled(),v=i.isReadOnly();return d.e=Dm(l,h,d.e),p!==d.t&&q(c,"tabindex",d.t=p),g!==d.a&&(c.required=d.a=g),m!==d.o&&(c.disabled=d.o=m),v!==d.i&&(c.readOnly=d.i=v),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l})()}var jM=new WeakMap;function Joe(e){let t=jM.get(e);if(t!=null)return t;t=0;for(const r of e)r.type==="item"&&t++;return jM.set(e,t),t}var E8=class{constructor(e,t,r){R(this,"collection");R(this,"ref");R(this,"collator");this.collection=e,this.ref=t,this.collator=r}getKeyBelow(e){let t=this.collection().getKeyAfter(e);for(;t!=null;){const r=this.collection().getItem(t);if(r&&r.type==="item"&&!r.disabled)return t;t=this.collection().getKeyAfter(t)}}getKeyAbove(e){let t=this.collection().getKeyBefore(e);for(;t!=null;){const r=this.collection().getItem(t);if(r&&r.type==="item"&&!r.disabled)return t;t=this.collection().getKeyBefore(t)}}getFirstKey(){let e=this.collection().getFirstKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyAfter(e)}}getLastKey(){let e=this.collection().getLastKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyBefore(e)}}getItem(e){var t,r;return((r=(t=this.ref)==null?void 0:t.call(this))==null?void 0:r.querySelector(`[data-key="${e}"]`))??null}getKeyPageAbove(e){var o;const t=(o=this.ref)==null?void 0:o.call(this);let r=this.getItem(e);if(!t||!r)return;const n=Math.max(0,r.offsetTop+r.offsetHeight-t.offsetHeight);let i=e;for(;i&&r&&r.offsetTop>n;)i=this.getKeyAbove(i),r=i!=null?this.getItem(i):null;return i}getKeyPageBelow(e){var o;const t=(o=this.ref)==null?void 0:o.call(this);let r=this.getItem(e);if(!t||!r)return;const n=Math.min(t.scrollHeight,r.offsetTop-r.offsetHeight+t.offsetHeight);let i=e;for(;i&&r&&r.offsetTop<n;)i=this.getKeyBelow(i),r=i!=null?this.getItem(i):null;return i}getKeyForSearch(e,t){var i;const r=(i=this.collator)==null?void 0:i.call(this);if(!r)return;let n=t!=null?this.getKeyBelow(t):this.getFirstKey();for(;n!=null;){const o=this.collection().getItem(n);if(o){const a=o.textValue.slice(0,e.length);if(o.textValue&&r.compare(a,e)===0)return n}n=this.getKeyBelow(n)}}};function Xoe(e,t,r){const n=x8({usage:"search",sensitivity:"base"}),i=me(()=>{const o=j(e.keyboardDelegate);return o||new E8(e.collection,t,n)});return Voe({selectionManager:()=>j(e.selectionManager),keyboardDelegate:i,autoFocus:()=>j(e.autoFocus),deferAutoFocus:()=>j(e.deferAutoFocus),shouldFocusWrap:()=>j(e.shouldFocusWrap),disallowEmptySelection:()=>j(e.disallowEmptySelection),selectOnFocus:()=>j(e.selectOnFocus),disallowTypeAhead:()=>j(e.disallowTypeAhead),shouldUseVirtualFocus:()=>j(e.shouldUseVirtualFocus),allowsTabNavigation:()=>j(e.allowsTabNavigation),isVirtualized:()=>j(e.isVirtualized),scrollToKey:o=>{var a;return(a=j(e.scrollToKey))==null?void 0:a(o)},orientation:()=>j(e.orientation)},t,r)}var Qoe={};Rm(Qoe,{Item:()=>nv,ItemDescription:()=>iv,ItemIndicator:()=>ov,ItemLabel:()=>av,Listbox:()=>Zoe,Root:()=>ok,Section:()=>sv,useListboxContext:()=>A8});var M8=en();function A8(){const e=tn(M8);if(e===void 0)throw new Error("[kobalte]: `useListboxContext` must be used within a `Listbox` component");return e}var I8=en();function ik(){const e=tn(I8);if(e===void 0)throw new Error("[kobalte]: `useListboxItemContext` must be used within a `Listbox.Item` component");return e}function nv(e){let t;const r=A8(),n=`${r.generateId("item")}-${ac()}`,i=rt({id:n},e),[o,a]=Ie(i,["ref","item","aria-label","aria-labelledby","aria-describedby","onPointerMove","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[s,l]=J(),[c,u]=J(),f=()=>r.listState().selectionManager(),d=()=>f().focusedKey()===o.item.key,h=Woe({key:()=>o.item.key,selectionManager:f,shouldSelectOnPressUp:r.shouldSelectOnPressUp,allowsDifferentPressOrigin:()=>r.shouldSelectOnPressUp()&&r.shouldFocusOnHover(),shouldUseVirtualFocus:r.shouldUseVirtualFocus,disabled:()=>o.item.disabled},()=>t),p=()=>{if(f().selectionMode()!=="none")return h.isSelected()},g=me(()=>!(Lf()&&LG())),m=()=>g()?o["aria-label"]:void 0,v=()=>g()?s():void 0,b=()=>g()?c():void 0,y=()=>{var D;if(!r.isVirtualized())return;const T=(D=r.listState().collection().getItem(o.item.key))==null?void 0:D.index;return T!=null?T+1:void 0},w=()=>{if(r.isVirtualized())return Joe(r.listState().collection())},$=T=>{Dt(T,o.onPointerMove),T.pointerType==="mouse"&&!h.isDisabled()&&r.shouldFocusOnHover()&&(Mr(T.currentTarget),f().setFocused(!0),f().setFocusedKey(o.item.key))},k=me(()=>({"data-disabled":h.isDisabled()?"":void 0,"data-selected":h.isSelected()?"":void 0,"data-highlighted":d()?"":void 0})),O={isSelected:h.isSelected,dataset:k,generateId:Df(()=>a.id),registerLabelId:Ui(l),registerDescriptionId:Ui(u)};return M(I8.Provider,{value:O,get children(){return M(xt,ye({as:"li",ref(T){var D=Nr(L=>t=L,o.ref);typeof D=="function"&&D(T)},role:"option",get tabIndex(){return h.tabIndex()},get"aria-disabled"(){return h.isDisabled()},get"aria-selected"(){return p()},get"aria-label"(){return m()},get"aria-labelledby"(){return v()},get"aria-describedby"(){return b()},get"aria-posinset"(){return y()},get"aria-setsize"(){return w()},get"data-key"(){return h.dataKey()},get onPointerDown(){return fn([o.onPointerDown,h.onPointerDown])},get onPointerUp(){return fn([o.onPointerUp,h.onPointerUp])},get onClick(){return fn([o.onClick,h.onClick])},get onKeyDown(){return fn([o.onKeyDown,h.onKeyDown])},get onMouseDown(){return fn([o.onMouseDown,h.onMouseDown])},get onFocus(){return fn([o.onFocus,h.onFocus])},onPointerMove:$},k,a))}})}function iv(e){const t=ik(),r=rt({id:t.generateId("description")},e);return oe(()=>be(t.registerDescriptionId(r.id))),M(xt,ye({as:"div"},()=>t.dataset(),r))}function ov(e){const t=ik(),r=rt({id:t.generateId("indicator")},e),[n,i]=Ie(r,["forceMount"]);return M(Tt,{get when(){return n.forceMount||t.isSelected()},get children(){return M(xt,ye({as:"div","aria-hidden":"true"},()=>t.dataset(),i))}})}function av(e){const t=ik(),r=rt({id:t.generateId("label")},e);return oe(()=>be(t.registerLabelId(r.id))),M(xt,ye({as:"div"},()=>t.dataset(),r))}function ok(e){let t;const r=`listbox-${ac()}`,n=rt({id:r,selectionMode:"single",virtualized:!1},e),[i,o]=Ie(n,["ref","children","renderItem","renderSection","value","defaultValue","onChange","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","state","keyboardDelegate","autoFocus","selectionMode","shouldFocusWrap","shouldUseVirtualFocus","shouldSelectOnPressUp","shouldFocusOnHover","allowDuplicateSelectionEvents","disallowEmptySelection","selectionBehavior","selectOnFocus","disallowTypeAhead","allowsTabNavigation","virtualized","scrollToItem","scrollRef","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),a=me(()=>i.state?i.state:C8({selectedKeys:()=>i.value,defaultSelectedKeys:()=>i.defaultValue,onSelectionChange:i.onChange,allowDuplicateSelectionEvents:()=>j(i.allowDuplicateSelectionEvents),disallowEmptySelection:()=>j(i.disallowEmptySelection),selectionBehavior:()=>j(i.selectionBehavior),selectionMode:()=>j(i.selectionMode),dataSource:()=>i.options??[],getKey:()=>i.optionValue,getTextValue:()=>i.optionTextValue,getDisabled:()=>i.optionDisabled,getSectionChildren:()=>i.optionGroupChildren})),s=Xoe({selectionManager:()=>a().selectionManager(),collection:()=>a().collection(),autoFocus:()=>j(i.autoFocus),shouldFocusWrap:()=>j(i.shouldFocusWrap),keyboardDelegate:()=>i.keyboardDelegate,disallowEmptySelection:()=>j(i.disallowEmptySelection),selectOnFocus:()=>j(i.selectOnFocus),disallowTypeAhead:()=>j(i.disallowTypeAhead),shouldUseVirtualFocus:()=>j(i.shouldUseVirtualFocus),allowsTabNavigation:()=>j(i.allowsTabNavigation),isVirtualized:()=>i.virtualized,scrollToKey:()=>i.scrollToItem},()=>t,()=>{var c;return(c=i.scrollRef)==null?void 0:c.call(i)}),l={listState:a,generateId:Df(()=>o.id),shouldUseVirtualFocus:()=>n.shouldUseVirtualFocus,shouldSelectOnPressUp:()=>n.shouldSelectOnPressUp,shouldFocusOnHover:()=>n.shouldFocusOnHover,isVirtualized:()=>i.virtualized};return M(M8.Provider,{value:l,get children(){return M(xt,ye({as:"ul",ref(c){var u=Nr(f=>t=f,i.ref);typeof u=="function"&&u(c)},role:"listbox",get tabIndex(){return s.tabIndex()},get"aria-multiselectable"(){return a().selectionManager().selectionMode()==="multiple"?!0:void 0},get onKeyDown(){return fn([i.onKeyDown,s.onKeyDown])},get onMouseDown(){return fn([i.onMouseDown,s.onMouseDown])},get onFocusIn(){return fn([i.onFocusIn,s.onFocusIn])},get onFocusOut(){return fn([i.onFocusOut,s.onFocusOut])}},o,{get children(){return M(Tt,{get when(){return!i.virtualized},get fallback(){var c;return(c=i.children)==null?void 0:c.call(i,a().collection)},get children(){return M(CG,{get each(){return[...a().collection()]},by:"key",children:c=>M(Pf,{get children(){return[M(Qe,{get when(){return c().type==="section"},get children(){var u;return(u=i.renderSection)==null?void 0:u.call(i,c())}}),M(Qe,{get when(){return c().type==="item"},get children(){var u;return(u=i.renderItem)==null?void 0:u.call(i,c())}})]}})})}})}}))}})}function sv(e){return M(xt,ye({as:"li",role:"presentation"},e))}var Zoe=Object.assign(ok,{Item:nv,ItemDescription:iv,ItemIndicator:ov,ItemLabel:av,Section:sv});const eae=["top","right","bottom","left"],Qo=Math.min,Ur=Math.max,Ng=Math.round,Kd=Math.floor,li=e=>({x:e,y:e}),tae={left:"right",right:"left",bottom:"top",top:"bottom"},rae={start:"end",end:"start"};function Uw(e,t,r){return Ur(e,Qo(t,r))}function Os(e,t){return typeof e=="function"?e(t):e}function Zo(e){return e.split("-")[0]}function uc(e){return e.split("-")[1]}function P8(e){return e==="x"?"y":"x"}function ak(e){return e==="y"?"height":"width"}const nae=new Set(["top","bottom"]);function Vi(e){return nae.has(Zo(e))?"y":"x"}function sk(e){return P8(Vi(e))}function iae(e,t,r){r===void 0&&(r=!1);const n=uc(e),i=sk(e),o=ak(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Rg(a)),[a,Rg(a)]}function oae(e){const t=Rg(e);return[Vw(e),t,Vw(t)]}function Vw(e){return e.replace(/start|end/g,t=>rae[t])}const BM=["left","right"],zM=["right","left"],aae=["top","bottom"],sae=["bottom","top"];function lae(e,t,r){switch(e){case"top":case"bottom":return r?t?zM:BM:t?BM:zM;case"left":case"right":return t?aae:sae;default:return[]}}function cae(e,t,r,n){const i=uc(e);let o=lae(Zo(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Vw)))),o}function Rg(e){return e.replace(/left|right|bottom|top/g,t=>tae[t])}function uae(e){return{top:0,right:0,bottom:0,left:0,...e}}function _8(e){return typeof e!="number"?uae(e):{top:e,right:e,bottom:e,left:e}}function Fg(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function HM(e,t,r){let{reference:n,floating:i}=e;const o=Vi(t),a=sk(t),s=ak(a),l=Zo(t),c=o==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d=n[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:n.y-i.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-i.width,y:f};break;default:h={x:n.x,y:n.y}}switch(uc(t)){case"start":h[a]-=d*(r&&c?-1:1);break;case"end":h[a]+=d*(r&&c?-1:1);break}return h}const fae=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=HM(c,n,l),d=n,h={},p=0;for(let g=0;g<s.length;g++){const{name:m,fn:v}=s[g],{x:b,y,data:w,reset:$}=await v({x:u,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:e,floating:t}});u=b??u,f=y??f,h={...h,[m]:{...h[m],...w}},$&&p<=50&&(p++,typeof $=="object"&&($.placement&&(d=$.placement),$.rects&&(c=$.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:u,y:f}=HM(c,d,l)),g=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function ff(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Os(t,e),p=_8(h),m=s[d?f==="floating"?"reference":"floating":f],v=Fg(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),w=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},$=Fg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:y,strategy:l}):b);return{top:(v.top-$.top+p.top)/w.y,bottom:($.bottom-v.bottom+p.bottom)/w.y,left:(v.left-$.left+p.left)/w.x,right:($.right-v.right+p.right)/w.x}}const dae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Os(e,t)||{};if(c==null)return{};const f=_8(u),d={x:r,y:n},h=sk(i),p=ak(h),g=await a.getDimensions(c),m=h==="y",v=m?"top":"left",b=m?"bottom":"right",y=m?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[h]-d[h]-o.floating[p],$=d[h]-o.reference[h],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let O=k?k[y]:0;(!O||!await(a.isElement==null?void 0:a.isElement(k)))&&(O=s.floating[y]||o.floating[p]);const T=w/2-$/2,D=O/2-g[p]/2-1,L=Qo(f[v],D),I=Qo(f[b],D),E=L,_=O-g[p]-I,S=O/2-g[p]/2+T,C=Uw(E,S,_),x=!l.arrow&&uc(i)!=null&&S!==C&&o.reference[p]/2-(S<E?L:I)-g[p]/2<0,P=x?S<E?S-E:S-_:0;return{[h]:d[h]+P,data:{[h]:C,centerOffset:S-C-P,...x&&{alignmentOffset:P}},reset:x}}}),hae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Os(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=Zo(i),b=Vi(s),y=Zo(s)===s,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),$=d||(y||!g?[Rg(s)]:oae(s)),k=p!=="none";!d&&k&&$.push(...cae(s,g,p,w));const O=[s,...$],T=await ff(t,m),D=[];let L=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&D.push(T[v]),f){const S=iae(i,a,w);D.push(T[S[0]],T[S[1]])}if(L=[...L,{placement:i,overflows:D}],!D.every(S=>S<=0)){var I,E;const S=(((I=o.flip)==null?void 0:I.index)||0)+1,C=O[S];if(C&&(!(f==="alignment"?b!==Vi(C):!1)||L.every(A=>Vi(A.placement)===b?A.overflows[0]>0:!0)))return{data:{index:S,overflows:L},reset:{placement:C}};let x=(E=L.filter(P=>P.overflows[0]<=0).sort((P,A)=>P.overflows[1]-A.overflows[1])[0])==null?void 0:E.placement;if(!x)switch(h){case"bestFit":{var _;const P=(_=L.filter(A=>{if(k){const N=Vi(A.placement);return N===b||N==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(N=>N>0).reduce((N,H)=>N+H,0)]).sort((A,N)=>A[1]-N[1])[0])==null?void 0:_[0];P&&(x=P);break}case"initialPlacement":x=s;break}if(i!==x)return{reset:{placement:x}}}return{}}}};function UM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function VM(e){return eae.some(t=>e[t]>=0)}const pae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Os(e,t);switch(n){case"referenceHidden":{const o=await ff(t,{...i,elementContext:"reference"}),a=UM(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:VM(a)}}}case"escaped":{const o=await ff(t,{...i,altBoundary:!0}),a=UM(o,r.floating);return{data:{escapedOffsets:a,escaped:VM(a)}}}default:return{}}}}},gae=new Set(["left","top"]);async function mae(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Zo(r),s=uc(r),l=Vi(r)==="y",c=gae.has(a)?-1:1,u=o&&l?-1:1,f=Os(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const vae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await mae(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},bae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:m=>{let{x:v,y:b}=m;return{x:v,y:b}}},...l}=Os(e,t),c={x:r,y:n},u=await ff(t,l),f=Vi(Zo(i)),d=P8(f);let h=c[d],p=c[f];if(o){const m=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=h+u[m],y=h-u[v];h=Uw(b,h,y)}if(a){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+u[m],y=p-u[v];p=Uw(b,p,y)}const g=s.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[d]:o,[f]:a}}}}}},yae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=Os(e,t),u=await ff(t,c),f=Zo(i),d=uc(i),h=Vi(i)==="y",{width:p,height:g}=o.floating;let m,v;f==="top"||f==="bottom"?(m=f,v=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=f,m=d==="end"?"top":"bottom");const b=g-u.top-u.bottom,y=p-u.left-u.right,w=Qo(g-u[m],b),$=Qo(p-u[v],y),k=!t.middlewareData.shift;let O=w,T=$;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=b),k&&!d){const L=Ur(u.left,0),I=Ur(u.right,0),E=Ur(u.top,0),_=Ur(u.bottom,0);h?T=p-2*(L!==0||I!==0?L+I:Ur(u.left,u.right)):O=g-2*(E!==0||_!==0?E+_:Ur(u.top,u.bottom))}await l({...t,availableWidth:T,availableHeight:O});const D=await a.getDimensions(s.floating);return p!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function lv(){return typeof window<"u"}function fc(e){return D8(e)?(e.nodeName||"").toLowerCase():"#document"}function Xr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ki(e){var t;return(t=(D8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D8(e){return lv()?e instanceof Node||e instanceof Xr(e).Node:!1}function zn(e){return lv()?e instanceof Element||e instanceof Xr(e).Element:!1}function gi(e){return lv()?e instanceof HTMLElement||e instanceof Xr(e).HTMLElement:!1}function WM(e){return!lv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xr(e).ShadowRoot}const $ae=new Set(["inline","contents"]);function Hf(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Hn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!$ae.has(i)}const wae=new Set(["table","td","th"]);function xae(e){return wae.has(fc(e))}const Sae=[":popover-open",":modal"];function cv(e){return Sae.some(t=>{try{return e.matches(t)}catch{return!1}})}const kae=["transform","translate","scale","rotate","perspective"],Oae=["transform","translate","scale","rotate","perspective","filter"],Tae=["paint","layout","strict","content"];function lk(e){const t=ck(),r=zn(e)?Hn(e):e;return kae.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Oae.some(n=>(r.willChange||"").includes(n))||Tae.some(n=>(r.contain||"").includes(n))}function Cae(e){let t=ea(e);for(;gi(t)&&!Wl(t);){if(lk(t))return t;if(cv(t))return null;t=ea(t)}return null}function ck(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Eae=new Set(["html","body","#document"]);function Wl(e){return Eae.has(fc(e))}function Hn(e){return Xr(e).getComputedStyle(e)}function uv(e){return zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ea(e){if(fc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||WM(e)&&e.host||ki(e);return WM(t)?t.host:t}function L8(e){const t=ea(e);return Wl(t)?e.ownerDocument?e.ownerDocument.body:e.body:gi(t)&&Hf(t)?t:L8(t)}function df(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=L8(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=Xr(i);if(o){const s=Ww(a);return t.concat(a,a.visualViewport||[],Hf(i)?i:[],s&&r?df(s):[])}return t.concat(i,df(i,[],r))}function Ww(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function N8(e){const t=Hn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=gi(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=Ng(r)!==o||Ng(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function uk(e){return zn(e)?e:e.contextElement}function Il(e){const t=uk(e);if(!gi(t))return li(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=N8(t);let a=(o?Ng(r.width):r.width)/n,s=(o?Ng(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const Mae=li(0);function R8(e){const t=Xr(e);return!ck()||!t.visualViewport?Mae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xr(e)?!1:t}function ns(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=uk(e);let a=li(1);t&&(n?zn(n)&&(a=Il(n)):a=Il(e));const s=Aae(o,r,n)?R8(o):li(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o){const d=Xr(o),h=n&&zn(n)?Xr(n):n;let p=d,g=Ww(p);for(;g&&n&&h!==p;){const m=Il(g),v=g.getBoundingClientRect(),b=Hn(g),y=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,w=v.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,f*=m.y,l+=y,c+=w,p=Xr(g),g=Ww(p)}}return Fg({width:u,height:f,x:l,y:c})}function fv(e,t){const r=uv(e).scrollLeft;return t?t.left+r:ns(ki(e)).left+r}function F8(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-fv(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Iae(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",a=ki(n),s=t?cv(t.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},c=li(1);const u=li(0),f=gi(n);if((f||!f&&!o)&&((fc(n)!=="body"||Hf(a))&&(l=uv(n)),gi(n))){const h=ns(n);c=Il(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const d=a&&!f&&!o?F8(a,l):li(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:r.y*c.y-l.scrollTop*c.y+u.y+d.y}}function Pae(e){return Array.from(e.getClientRects())}function _ae(e){const t=ki(e),r=uv(e),n=e.ownerDocument.body,i=Ur(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ur(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+fv(e);const s=-r.scrollTop;return Hn(n).direction==="rtl"&&(a+=Ur(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}const KM=25;function Dae(e,t){const r=Xr(e),n=ki(e),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=ck();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=fv(n);if(c<=0){const u=n.ownerDocument,f=u.body,d=getComputedStyle(f),h=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(n.clientWidth-f.clientWidth-h);p<=KM&&(o-=p)}else c<=KM&&(o+=c);return{width:o,height:a,x:s,y:l}}const Lae=new Set(["absolute","fixed"]);function Nae(e,t){const r=ns(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=gi(e)?Il(e):li(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=n*o.y;return{width:a,height:s,x:l,y:c}}function GM(e,t,r){let n;if(t==="viewport")n=Dae(e,r);else if(t==="document")n=_ae(ki(e));else if(zn(t))n=Nae(t,r);else{const i=R8(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Fg(n)}function j8(e,t){const r=ea(e);return r===t||!zn(r)||Wl(r)?!1:Hn(r).position==="fixed"||j8(r,t)}function Rae(e,t){const r=t.get(e);if(r)return r;let n=df(e,[],!1).filter(s=>zn(s)&&fc(s)!=="body"),i=null;const o=Hn(e).position==="fixed";let a=o?ea(e):e;for(;zn(a)&&!Wl(a);){const s=Hn(a),l=lk(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&Lae.has(i.position)||Hf(a)&&!l&&j8(e,a))?n=n.filter(u=>u!==a):i=s,a=ea(a)}return t.set(e,n),n}function Fae(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?cv(t)?[]:Rae(t,this._c):[].concat(r),n],s=a[0],l=a.reduce((c,u)=>{const f=GM(t,u,i);return c.top=Ur(f.top,c.top),c.right=Qo(f.right,c.right),c.bottom=Qo(f.bottom,c.bottom),c.left=Ur(f.left,c.left),c},GM(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function jae(e){const{width:t,height:r}=N8(e);return{width:t,height:r}}function Bae(e,t,r){const n=gi(t),i=ki(t),o=r==="fixed",a=ns(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=li(0);function c(){l.x=fv(i)}if(n||!n&&!o)if((fc(t)!=="body"||Hf(i))&&(s=uv(t)),n){const h=ns(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&c();o&&!n&&i&&c();const u=i&&!n&&!o?F8(i,s):li(0),f=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function zb(e){return Hn(e).position==="static"}function qM(e,t){if(!gi(e)||Hn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ki(e)===r&&(r=r.ownerDocument.body),r}function B8(e,t){const r=Xr(e);if(cv(e))return r;if(!gi(e)){let i=ea(e);for(;i&&!Wl(i);){if(zn(i)&&!zb(i))return i;i=ea(i)}return r}let n=qM(e,t);for(;n&&xae(n)&&zb(n);)n=qM(n,t);return n&&Wl(n)&&zb(n)&&!lk(n)?r:n||Cae(e)||r}const zae=async function(e){const t=this.getOffsetParent||B8,r=this.getDimensions,n=await r(e.floating);return{reference:Bae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Hae(e){return Hn(e).direction==="rtl"}const z8={convertOffsetParentRelativeRectToViewportRelativeRect:Iae,getDocumentElement:ki,getClippingRect:Fae,getOffsetParent:B8,getElementRects:zae,getClientRects:Pae,getDimensions:jae,getScale:Il,isElement:zn,isRTL:Hae};function H8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Uae(e,t){let r=null,n;const i=ki(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(s||t(),!d||!h)return;const p=Kd(f),g=Kd(i.clientWidth-(u+d)),m=Kd(i.clientHeight-(f+h)),v=Kd(u),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-v+"px",threshold:Ur(0,Qo(1,l))||1};let w=!0;function $(k){const O=k[0].intersectionRatio;if(O!==l){if(!w)return a();O?a(!1,O):n=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!H8(c,e.getBoundingClientRect())&&a(),w=!1}try{r=new IntersectionObserver($,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver($,y)}r.observe(e)}return a(!0),o}function Vae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=uk(e),u=i||o?[...c?df(c):[],...df(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const f=c&&s?Uae(c,r):null;let d=-1,h=null;a&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let p,g=l?ns(e):null;l&&m();function m(){const v=ns(e);g&&!H8(g,v)&&r(),g=v,p=requestAnimationFrame(m)}return r(),()=>{var v;u.forEach(b=>{i&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const Wae=vae,Kae=bae,Gae=hae,qae=yae,Yae=pae,Jae=dae,Xae=(e,t,r)=>{const n=new Map,i={platform:z8,...r},o={...i.platform,_c:n};return fae(e,t,{...i,platform:o})};var Qae=W('<svg display=block viewBox="0 0 30 30"style=transform:scale(1.02)><g><path fill=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z></path><path stroke=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z>'),fk=en();function dk(){const e=tn(fk);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}var Kw=30,YM=Kw/2,Zae={top:180,right:-90,bottom:0,left:90};function hk(e){const t=dk(),r=rt({size:Kw},e),[n,i]=Ie(r,["ref","style","size"]),o=()=>t.currentPlacement().split("-")[0],a=ese(t.contentRef),s=()=>{var d;return((d=a())==null?void 0:d.getPropertyValue("background-color"))||"none"},l=()=>{var d;return((d=a())==null?void 0:d.getPropertyValue(`border-${o()}-color`))||"none"},c=()=>{var d;return((d=a())==null?void 0:d.getPropertyValue(`border-${o()}-width`))||"0px"},u=()=>Number.parseInt(c())*2*(Kw/n.size),f=()=>`rotate(${Zae[o()]} ${YM} ${YM}) translate(0 2)`;return M(xt,ye({as:"div",ref(d){var h=Nr(t.setArrowRef,n.ref);typeof h=="function"&&h(d)},"aria-hidden":"true",get style(){return Lm({position:"absolute","font-size":`${n.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:s(),stroke:l(),"stroke-width":u()},n.style)}},i,{get children(){var d=Qae(),h=d.firstChild,p=h.firstChild;return p.nextSibling,ne(()=>q(h,"transform",f())),d}}))}function ese(e){const[t,r]=J();return oe(()=>{const n=e();n&&r(AG(n).getComputedStyle(n))}),t}function tse(e){const t=dk(),[r,n]=Ie(e,["ref","style"]);return M(xt,ye({as:"div",ref(i){var o=Nr(t.setPositionerRef,r.ref);typeof o=="function"&&o(i)},"data-popper-positioner":"",get style(){return Lm({position:"absolute",top:0,left:0,"min-width":"max-content"},r.style)}},n))}function JM(e){const{x:t=0,y:r=0,width:n=0,height:i=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(t,r,n,i);const o={x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:r+i,left:t};return{...o,toJSON:()=>o}}function rse(e,t){return{contextElement:e,getBoundingClientRect:()=>{const n=t(e);return n?JM(n):e?e.getBoundingClientRect():JM()}}}function nse(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}var ise={top:"bottom",right:"left",bottom:"top",left:"right"};function ose(e,t){const[r,n]=e.split("-"),i=ise[r];return n?r==="left"||r==="right"?`${i} ${n==="start"?"top":"bottom"}`:n==="start"?`${i} ${t==="rtl"?"right":"left"}`:`${i} ${t==="rtl"?"left":"right"}`:`${i} center`}function ase(e){const t=rt({getAnchorRect:d=>d==null?void 0:d.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e),[r,n]=J(),[i,o]=J(),[a,s]=J(t.placement),l=()=>{var d;return rse((d=t.anchorRef)==null?void 0:d.call(t),t.getAnchorRect)},{direction:c}=nk();async function u(){var k,O;const d=l(),h=r(),p=i();if(!d||!h)return;const g=((p==null?void 0:p.clientHeight)||0)/2,m=typeof t.gutter=="number"?t.gutter+g:t.gutter??g;h.style.setProperty("--kb-popper-content-overflow-padding",`${t.overflowPadding}px`),d.getBoundingClientRect();const v=[Wae(({placement:T})=>{const D=!!T.split("-")[1];return{mainAxis:m,crossAxis:D?void 0:t.shift,alignmentAxis:t.shift}})];if(t.flip!==!1){const T=typeof t.flip=="string"?t.flip.split(" "):void 0;if(T!==void 0&&!T.every(nse))throw new Error("`flip` expects a spaced-delimited list of placements");v.push(Gae({padding:t.overflowPadding,fallbackPlacements:T}))}(t.slide||t.overlap)&&v.push(Kae({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding})),v.push(qae({padding:t.overflowPadding,apply({availableWidth:T,availableHeight:D,rects:L}){const I=Math.round(L.reference.width);T=Math.floor(T),D=Math.floor(D),h.style.setProperty("--kb-popper-anchor-width",`${I}px`),h.style.setProperty("--kb-popper-content-available-width",`${T}px`),h.style.setProperty("--kb-popper-content-available-height",`${D}px`),t.sameWidth&&(h.style.width=`${I}px`),t.fitViewport&&(h.style.maxWidth=`${T}px`,h.style.maxHeight=`${D}px`)}})),t.hideWhenDetached&&v.push(Yae({padding:t.detachedPadding})),p&&v.push(Jae({element:p,padding:t.arrowPadding}));const b=await Xae(d,h,{placement:t.placement,strategy:"absolute",middleware:v,platform:{...z8,isRTL:()=>c()==="rtl"}});if(s(b.placement),(k=t.onCurrentPlacementChange)==null||k.call(t,b.placement),!h)return;h.style.setProperty("--kb-popper-content-transform-origin",ose(b.placement,c()));const y=Math.round(b.x),w=Math.round(b.y);let $;if(t.hideWhenDetached&&($=(O=b.middlewareData.hide)!=null&&O.referenceHidden?"hidden":"visible"),Object.assign(h.style,{top:"0",left:"0",transform:`translate3d(${y}px, ${w}px, 0)`,visibility:$}),p&&b.middlewareData.arrow){const{x:T,y:D}=b.middlewareData.arrow,L=b.placement.split("-")[0];Object.assign(p.style,{left:T!=null?`${T}px`:"",top:D!=null?`${D}px`:"",[L]:"100%"})}}oe(()=>{const d=l(),h=r();if(!d||!h)return;const p=Vae(d,h,u,{elementResize:typeof ResizeObserver=="function"});be(p)}),oe(()=>{var p;const d=r(),h=(p=t.contentRef)==null?void 0:p.call(t);!d||!h||queueMicrotask(()=>{d.style.zIndex=getComputedStyle(h).zIndex})});const f={currentPlacement:a,contentRef:()=>{var d;return(d=t.contentRef)==null?void 0:d.call(t)},setPositionerRef:n,setArrowRef:o};return M(fk.Provider,{value:f,get children(){return t.children}})}var U8=Object.assign(ase,{Arrow:hk,Context:fk,usePopperContext:dk,Positioner:tse}),jg="data-kb-top-layer",V8,Gw=!1,Zi=[];function hf(e){return Zi.findIndex(t=>t.node===e)}function sse(e){return Zi[hf(e)]}function lse(e){return Zi[Zi.length-1].node===e}function W8(){return Zi.filter(e=>e.isPointerBlocking)}function cse(){return[...W8()].slice(-1)[0]}function pk(){return W8().length>0}function K8(e){var r;const t=hf((r=cse())==null?void 0:r.node);return hf(e)<t}function use(e){Zi.push(e)}function fse(e){const t=hf(e);t<0||Zi.splice(t,1)}function dse(){for(const{node:e}of Zi)e.style.pointerEvents=K8(e)?"none":"auto"}function hse(e){if(pk()&&!Gw){const t=Qi(e);V8=document.body.style.pointerEvents,t.body.style.pointerEvents="none",Gw=!0}}function pse(e){if(pk())return;const t=Qi(e);t.body.style.pointerEvents=V8,t.body.style.length===0&&t.body.removeAttribute("style"),Gw=!1}var Hr={layers:Zi,isTopMostLayer:lse,hasPointerBlockingLayer:pk,isBelowPointerBlockingLayer:K8,addLayer:use,removeLayer:fse,indexOf:hf,find:sse,assignPointerEventToLayers:dse,disableBodyPointerEvents:hse,restoreBodyPointerEvents:pse},Hb="focusScope.autoFocusOnMount",Ub="focusScope.autoFocusOnUnmount",XM={bubbles:!1,cancelable:!0},QM={stack:[],active(){return this.stack[0]},add(e){var t;e!==this.active()&&((t=this.active())==null||t.pause()),this.stack=SC(this.stack,e),this.stack.unshift(e)},remove(e){var t;this.stack=SC(this.stack,e),(t=this.active())==null||t.resume()}};function gse(e,t){const[r,n]=J(!1),i={pause(){n(!0)},resume(){n(!1)}};let o=null;const a=p=>{var g;return(g=e.onMountAutoFocus)==null?void 0:g.call(e,p)},s=p=>{var g;return(g=e.onUnmountAutoFocus)==null?void 0:g.call(e,p)},l=()=>Qi(t()),c=()=>{const p=l().createElement("span");return p.setAttribute("data-focus-trap",""),p.tabIndex=0,Object.assign(p.style,tS),p},u=()=>{const p=t();return p?bL(p,!0).filter(g=>!g.hasAttribute("data-focus-trap")):[]},f=()=>{const p=u();return p.length>0?p[0]:null},d=()=>{const p=u();return p.length>0?p[p.length-1]:null},h=()=>{const p=t();if(!p)return!1;const g=iu(p);return!g||Po(p,g)?!1:yL(g)};oe(()=>{const p=t();if(!p)return;QM.add(i);const g=iu(p);if(!Po(p,g)){const v=new CustomEvent(Hb,XM);p.addEventListener(Hb,a),p.dispatchEvent(v),v.defaultPrevented||setTimeout(()=>{Mr(f()),iu(p)===g&&Mr(p)},0)}be(()=>{p.removeEventListener(Hb,a),setTimeout(()=>{const v=new CustomEvent(Ub,XM);h()&&v.preventDefault(),p.addEventListener(Ub,s),p.dispatchEvent(v),v.defaultPrevented||Mr(g??l().body),p.removeEventListener(Ub,s),QM.remove(i)},0)})}),oe(()=>{const p=t();if(!p||!j(e.trapFocus)||r())return;const g=v=>{const b=v.target;b!=null&&b.closest(`[${jg}]`)||(Po(p,b)?o=b:Mr(o))},m=v=>{const y=v.relatedTarget??iu(p);y!=null&&y.closest(`[${jg}]`)||Po(p,y)||Mr(o)};l().addEventListener("focusin",g),l().addEventListener("focusout",m),be(()=>{l().removeEventListener("focusin",g),l().removeEventListener("focusout",m)})}),oe(()=>{const p=t();if(!p||!j(e.trapFocus)||r())return;const g=c();p.insertAdjacentElement("afterbegin",g);const m=c();p.insertAdjacentElement("beforeend",m);function v(y){const w=f(),$=d();y.relatedTarget===w?Mr($):Mr(w)}g.addEventListener("focusin",v),m.addEventListener("focusin",v);const b=new MutationObserver(y=>{for(const w of y)w.previousSibling===m&&(m.remove(),p.insertAdjacentElement("beforeend",m)),w.nextSibling===g&&(g.remove(),p.insertAdjacentElement("afterbegin",g))});b.observe(p,{childList:!0,subtree:!1}),be(()=>{g.removeEventListener("focusin",v),m.removeEventListener("focusin",v),g.remove(),m.remove(),b.disconnect()})})}var mse="data-live-announcer";function vse(e){oe(()=>{j(e.isDisabled)||be(bse(j(e.targets),j(e.root)))})}var Dc=new WeakMap,on=[];function bse(e,t=document.body){const r=new Set(e),n=new Set,i=l=>{for(const d of l.querySelectorAll(`[${mse}], [${jg}]`))r.add(d);const c=d=>{if(r.has(d)||d.parentElement&&n.has(d.parentElement)&&d.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const h of r)if(d.contains(h))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),f=c(l);if(f===NodeFilter.FILTER_ACCEPT&&o(l),f!==NodeFilter.FILTER_REJECT){let d=u.nextNode();for(;d!=null;)o(d),d=u.nextNode()}},o=l=>{const c=Dc.get(l)??0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),n.add(l),Dc.set(l,c+1))};on.length&&on[on.length-1].disconnect(),i(t);const a=new MutationObserver(l=>{for(const c of l)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...r,...n].some(u=>u.contains(c.target))){for(const u of c.removedNodes)u instanceof Element&&(r.delete(u),n.delete(u));for(const u of c.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?r.add(u):u instanceof Element&&i(u)}});a.observe(t,{childList:!0,subtree:!0});const s={observe(){a.observe(t,{childList:!0,subtree:!0})},disconnect(){a.disconnect()}};return on.push(s),()=>{a.disconnect();for(const l of n){const c=Dc.get(l);if(c==null)return;c===1?(l.removeAttribute("aria-hidden"),Dc.delete(l)):Dc.set(l,c-1)}s===on[on.length-1]?(on.pop(),on.length&&on[on.length-1].observe()):on.splice(on.indexOf(s),1)}}var ZM="interactOutside.pointerDownOutside",e5="interactOutside.focusOutside";function yse(e,t){let r,n=GG;const i=()=>Qi(t()),o=f=>{var d;return(d=e.onPointerDownOutside)==null?void 0:d.call(e,f)},a=f=>{var d;return(d=e.onFocusOutside)==null?void 0:d.call(e,f)},s=f=>{var d;return(d=e.onInteractOutside)==null?void 0:d.call(e,f)},l=f=>{var h;const d=f.target;return!(d instanceof Element)||d.closest(`[${jg}]`)||!Po(i(),d)||Po(t(),d)?!1:!((h=e.shouldExcludeElement)!=null&&h.call(e,d))},c=f=>{function d(){const h=t(),p=f.target;if(!h||!p||!l(f))return;const g=fn([o,s]);p.addEventListener(ZM,g,{once:!0});const m=new CustomEvent(ZM,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,isContextMenu:f.button===2||RG(f)&&f.button===0}});p.dispatchEvent(m)}f.pointerType==="touch"?(i().removeEventListener("click",d),n=d,i().addEventListener("click",d,{once:!0})):d()},u=f=>{const d=t(),h=f.target;if(!d||!h||!l(f))return;const p=fn([a,s]);h.addEventListener(e5,p,{once:!0});const g=new CustomEvent(e5,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,isContextMenu:!1}});h.dispatchEvent(g)};oe(()=>{j(e.isDisabled)||(r=window.setTimeout(()=>{i().addEventListener("pointerdown",c,!0)},0),i().addEventListener("focusin",u,!0),be(()=>{window.clearTimeout(r),i().removeEventListener("click",n),i().removeEventListener("pointerdown",c,!0),i().removeEventListener("focusin",u,!0)}))})}function $se(e){const t=r=>{var n;r.key===Xx.Escape&&((n=e.onEscapeKeyDown)==null||n.call(e,r))};oe(()=>{var n;if(j(e.isDisabled))return;const r=((n=e.ownerDocument)==null?void 0:n.call(e))??Qi();r.addEventListener("keydown",t),be(()=>{r.removeEventListener("keydown",t)})})}var G8=en();function wse(){return tn(G8)}function xse(e){let t;const r=wse(),[n,i]=Ie(e,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),o=new Set([]),a=f=>{o.add(f);const d=r==null?void 0:r.registerNestedLayer(f);return()=>{o.delete(f),d==null||d()}};yse({shouldExcludeElement:f=>{var d;return t?((d=n.excludedElements)==null?void 0:d.some(h=>Po(h(),f)))||[...o].some(h=>Po(h,f)):!1},onPointerDownOutside:f=>{var d,h,p;!t||Hr.isBelowPointerBlockingLayer(t)||!n.bypassTopMostLayerCheck&&!Hr.isTopMostLayer(t)||((d=n.onPointerDownOutside)==null||d.call(n,f),(h=n.onInteractOutside)==null||h.call(n,f),f.defaultPrevented||(p=n.onDismiss)==null||p.call(n))},onFocusOutside:f=>{var d,h,p;(d=n.onFocusOutside)==null||d.call(n,f),(h=n.onInteractOutside)==null||h.call(n,f),f.defaultPrevented||(p=n.onDismiss)==null||p.call(n)}},()=>t),$se({ownerDocument:()=>Qi(t),onEscapeKeyDown:f=>{var d;!t||!Hr.isTopMostLayer(t)||((d=n.onEscapeKeyDown)==null||d.call(n,f),!f.defaultPrevented&&n.onDismiss&&(f.preventDefault(),n.onDismiss()))}}),lr(()=>{if(!t)return;Hr.addLayer({node:t,isPointerBlocking:n.disableOutsidePointerEvents,dismiss:n.onDismiss});const f=r==null?void 0:r.registerNestedLayer(t);Hr.assignPointerEventToLayers(),Hr.disableBodyPointerEvents(t),be(()=>{t&&(Hr.removeLayer(t),f==null||f(),Hr.assignPointerEventToLayers(),Hr.restoreBodyPointerEvents(t))})}),oe(di([()=>t,()=>n.disableOutsidePointerEvents],([f,d])=>{if(!f)return;const h=Hr.find(f);h&&h.isPointerBlocking!==d&&(h.isPointerBlocking=d,Hr.assignPointerEventToLayers()),d&&Hr.disableBodyPointerEvents(f),be(()=>{Hr.restoreBodyPointerEvents(f)})},{defer:!0}));const u={registerNestedLayer:a};return M(G8.Provider,{value:u,get children(){return M(xt,ye({as:"div",ref(f){var d=Nr(h=>t=h,n.ref);typeof d=="function"&&d(f)}},i))}})}function Sse(e={}){const[t,r]=i8({value:()=>j(e.open),defaultValue:()=>!!j(e.defaultOpen),onChange:a=>{var s;return(s=e.onOpenChange)==null?void 0:s.call(e,a)}}),n=()=>{r(!0)},i=()=>{r(!1)};return{isOpen:t,setIsOpen:r,open:n,close:i,toggle:()=>{t()?i():n()}}}var qw=(e,t)=>{if(e.contains(t))return!0;let r=t;for(;r;){if(r===e)return!0;r=r._$host??r.parentElement}return!1},Gd=new Map,kse=e=>{oe(()=>{const t=tr(e.style)??{},r=tr(e.properties)??[],n={};for(const o in t)n[o]=e.element.style[o];const i=Gd.get(e.key);i?i.activeCount++:Gd.set(e.key,{activeCount:1,originalStyles:n,properties:r.map(o=>o.key)}),Object.assign(e.element.style,e.style);for(const o of r)e.element.style.setProperty(o.key,o.value);be(()=>{var a;const o=Gd.get(e.key);if(o){if(o.activeCount!==1){o.activeCount--;return}Gd.delete(e.key);for(const[s,l]of Object.entries(o.originalStyles))e.element.style[s]=l;for(const s of o.properties)e.element.style.removeProperty(s);e.element.style.length===0&&e.element.removeAttribute("style"),(a=e.cleanup)==null||a.call(e)}})})},t5=kse,Ose=(e,t)=>{switch(t){case"x":return[e.clientWidth,e.scrollLeft,e.scrollWidth];case"y":return[e.clientHeight,e.scrollTop,e.scrollHeight]}},Tse=(e,t)=>{const r=getComputedStyle(e),n=t==="x"?r.overflowX:r.overflowY;return n==="auto"||n==="scroll"||e.tagName==="HTML"&&n==="visible"},Cse=(e,t,r)=>{const n=t==="x"&&window.getComputedStyle(e).direction==="rtl"?-1:1;let i=e,o=0,a=0,s=!1;do{const[l,c,u]=Ose(i,t),f=u-l-n*c;(c!==0||f!==0)&&Tse(i,t)&&(o+=f,a+=c),i===(r??document.documentElement)?s=!0:i=i._$host??i.parentElement}while(i&&!s);return[o,a]},[r5,n5]=J([]),Ese=e=>r5().indexOf(e)===r5().length-1,Mse=e=>{const t=ye({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},e),r=ac();let n=[0,0],i=null,o=null;oe(()=>{tr(t.enabled)&&(n5(c=>[...c,r]),be(()=>{n5(c=>c.filter(u=>u!==r))}))}),oe(()=>{if(!tr(t.enabled)||!tr(t.hideScrollbar))return;const{body:c}=document,u=window.innerWidth-c.offsetWidth;if(tr(t.preventScrollbarShift)){const f={overflow:"hidden"},d=[];u>0&&(tr(t.preventScrollbarShiftMode)==="padding"?f.paddingRight=`calc(${window.getComputedStyle(c).paddingRight} + ${u}px)`:f.marginRight=`calc(${window.getComputedStyle(c).marginRight} + ${u}px)`,d.push({key:"--scrollbar-width",value:`${u}px`}));const h=window.scrollY,p=window.scrollX;t5({key:"prevent-scroll",element:c,style:f,properties:d,cleanup:()=>{tr(t.restoreScrollPosition)&&u>0&&window.scrollTo(p,h)}})}else t5({key:"prevent-scroll",element:c,style:{overflow:"hidden"}})}),oe(()=>{!Ese(r)||!tr(t.enabled)||(document.addEventListener("wheel",s,{passive:!1}),document.addEventListener("touchstart",a,{passive:!1}),document.addEventListener("touchmove",l,{passive:!1}),be(()=>{document.removeEventListener("wheel",s),document.removeEventListener("touchstart",a),document.removeEventListener("touchmove",l)}))});const a=c=>{n=i5(c),i=null,o=null},s=c=>{const u=c.target,f=tr(t.element),d=Ase(c),h=Math.abs(d[0])>Math.abs(d[1])?"x":"y",p=h==="x"?d[0]:d[1],g=o5(u,h,p,f);let m;f&&qw(f,u)?m=!g:m=!0,m&&c.cancelable&&c.preventDefault()},l=c=>{const u=tr(t.element),f=c.target;let d;if(c.touches.length===2)d=!tr(t.allowPinchZoom);else{if(i==null||o===null){const h=i5(c).map((g,m)=>n[m]-g),p=Math.abs(h[0])>Math.abs(h[1])?"x":"y";i=p,o=p==="x"?h[0]:h[1]}if(f.type==="range")d=!1;else{const h=o5(f,i,o,u);u&&qw(u,f)?d=!h:d=!0}}d&&c.cancelable&&c.preventDefault()}},Ase=e=>[e.deltaX,e.deltaY],i5=e=>e.changedTouches[0]?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0],o5=(e,t,r,n)=>{const i=n!==null&&qw(n,e),[o,a]=Cse(e,t,i?n:void 0);return!(r>0&&Math.abs(o)<=1||r<0&&Math.abs(a)<1)},Ise=Mse,Pse=Ise,_se={};Rm(_se,{Arrow:()=>hk,Content:()=>Y8,Description:()=>tk,ErrorMessage:()=>rk,HiddenSelect:()=>J8,Icon:()=>X8,Item:()=>nv,ItemDescription:()=>iv,ItemIndicator:()=>ov,ItemLabel:()=>av,Label:()=>Q8,Listbox:()=>Z8,Portal:()=>e7,Root:()=>t7,Section:()=>sv,Select:()=>sr,Trigger:()=>r7,Value:()=>n7,useSelectContext:()=>fo});var q8=en();function fo(){const e=tn(q8);if(e===void 0)throw new Error("[kobalte]: `useSelectContext` must be used within a `Select` component");return e}function Y8(e){let t;const r=fo(),[n,i]=Ie(e,["ref","style","onCloseAutoFocus","onFocusOutside"]),o=s=>{r.close()},a=s=>{var l;(l=n.onFocusOutside)==null||l.call(n,s),r.isOpen()&&r.isModal()&&s.preventDefault()};return vse({isDisabled:()=>!(r.isOpen()&&r.isModal()),targets:()=>t?[t]:[]}),Pse({element:()=>t??null,enabled:()=>r.contentPresent()&&r.preventScroll()}),gse({trapFocus:()=>r.isOpen()&&r.isModal(),onMountAutoFocus:s=>{s.preventDefault()},onUnmountAutoFocus:s=>{var l;(l=n.onCloseAutoFocus)==null||l.call(n,s),s.defaultPrevented||(Mr(r.triggerRef()),s.preventDefault())}},()=>t),M(Tt,{get when(){return r.contentPresent()},get children(){return M(U8.Positioner,{get children(){return M(xse,ye({ref(s){var l=Nr(c=>{r.setContentRef(c),t=c},n.ref);typeof l=="function"&&l(s)},get disableOutsidePointerEvents(){return pt(()=>!!r.isModal())()&&r.isOpen()},get excludedElements(){return[r.triggerRef]},get style(){return Lm({"--kb-select-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},n.style)},onEscapeKeyDown:o,onFocusOutside:a,get onDismiss(){return r.close}},()=>r.dataset(),i))}})}})}function J8(e){const t=fo();return M(Yoe,ye({get collection(){return t.listState().collection()},get selectionManager(){return t.listState().selectionManager()},get isOpen(){return t.isOpen()},get isMultiple(){return t.isMultiple()},get isVirtualized(){return t.isVirtualized()},focusTrigger:()=>{var r;return(r=t.triggerRef())==null?void 0:r.focus()}},e))}function X8(e){const t=fo(),r=rt({children:""},e);return M(xt,ye({as:"span","aria-hidden":"true"},()=>t.dataset(),r))}function Q8(e){const t=fo(),[r,n]=Ie(e,["onClick"]);return M(c8,ye({as:"span",onClick:o=>{var a;Dt(o,r.onClick),t.isDisabled()||(a=t.triggerRef())==null||a.focus()}},n))}function Z8(e){const t=fo(),r=rt({id:t.generateId("listbox")},e),[n,i]=Ie(r,["ref","id","onKeyDown"]);return oe(()=>be(t.registerListboxId(n.id))),M(ok,ye({ref(a){var s=Nr(t.setListboxRef,n.ref);typeof s=="function"&&s(a)},get id(){return n.id},get state(){return t.listState()},get virtualized(){return t.isVirtualized()},get autoFocus(){return t.autoFocus()},shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,get shouldFocusWrap(){return t.shouldFocusWrap()},get disallowTypeAhead(){return t.disallowTypeAhead()},get"aria-labelledby"(){return t.listboxAriaLabelledBy()},get renderItem(){return t.renderItem},get renderSection(){return t.renderSection},onKeyDown:a=>{Dt(a,n.onKeyDown),a.key==="Escape"&&a.preventDefault()}},i))}function e7(e){const t=fo();return M(Tt,{get when(){return t.contentPresent()},get children(){return M(Yx,e)}})}function Dse(e){const t=`select-${ac()}`,r=rt({id:t,selectionMode:"single",disallowEmptySelection:!1,closeOnSelection:e.selectionMode==="single",allowDuplicateSelectionEvents:!0,gutter:8,sameWidth:!0,modal:!1},e),[n,i,o,a]=Ie(r,["itemComponent","sectionComponent","open","defaultOpen","onOpenChange","value","defaultValue","onChange","placeholder","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","keyboardDelegate","allowDuplicateSelectionEvents","disallowEmptySelection","closeOnSelection","disallowTypeAhead","shouldFocusWrap","selectionBehavior","selectionMode","virtualized","modal","preventScroll","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"],o8),[s,l]=J(),[c,u]=J(),[f,d]=J(),[h,p]=J(),[g,m]=J(),[v,b]=J(),[y,w]=J(),[$,k]=J(!0),O=Y=>{const de=n.optionValue;return de==null?String(Y):String(Nm(de)?de(Y):Y[de])},T=me(()=>{const Y=n.optionGroupChildren;return Y==null?n.options:n.options.flatMap(de=>de[Y]??de)}),D=me(()=>T().map(Y=>O(Y))),L=Y=>[...Y].map(de=>T().find(G=>O(G)===de)).filter(de=>de!=null),I=Sse({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:Y=>{var de;return(de=n.onOpenChange)==null?void 0:de.call(n,Y)}}),E=C8({selectedKeys:()=>n.value!=null?n.value.map(O):n.value,defaultSelectedKeys:()=>n.defaultValue!=null?n.defaultValue.map(O):n.defaultValue,onSelectionChange:Y=>{var de;(de=n.onChange)==null||de.call(n,L(Y)),n.closeOnSelection&&A()},allowDuplicateSelectionEvents:()=>j(n.allowDuplicateSelectionEvents),disallowEmptySelection:()=>j(n.disallowEmptySelection),selectionBehavior:()=>j(n.selectionBehavior),selectionMode:()=>n.selectionMode,dataSource:()=>n.options??[],getKey:()=>n.optionValue,getTextValue:()=>n.optionTextValue,getDisabled:()=>n.optionDisabled,getSectionChildren:()=>n.optionGroupChildren}),_=me(()=>L(E.selectionManager().selectedKeys())),S=Y=>{E.selectionManager().toggleSelection(O(Y))},{present:C}=f8({show:()=>n.forceMount||I.isOpen(),element:()=>g()??null}),x=()=>{const Y=v();Y&&Mr(Y)},P=Y=>{if(n.options.length<=0)return;k(Y),I.open();let de=E.selectionManager().firstSelectedKey();de==null&&(Y==="first"?de=E.collection().getFirstKey():Y==="last"&&(de=E.collection().getLastKey())),x(),E.selectionManager().setFocused(!0),E.selectionManager().setFocusedKey(de)},A=()=>{I.close(),E.selectionManager().setFocused(!1),E.selectionManager().setFocusedKey(void 0)},N=Y=>{I.isOpen()?A():P(Y)},{formControlContext:H}=a8(o);u8(h,()=>{const Y=n.defaultValue?[...n.defaultValue].map(O):new oi;E.selectionManager().setSelectedKeys(Y)});const U=x8({usage:"search",sensitivity:"base"}),ae=me(()=>{const Y=j(n.keyboardDelegate);return Y||new E8(E.collection,void 0,U)}),te=Y=>{var de;return(de=n.itemComponent)==null?void 0:de.call(n,{item:Y})},pe=Y=>{var de;return(de=n.sectionComponent)==null?void 0:de.call(n,{section:Y})};oe(di([D],([Y])=>{const G=[...E.selectionManager().selectedKeys()].filter(Q=>Y.includes(Q));E.selectionManager().setSelectedKeys(G)},{defer:!0}));const Se=me(()=>({"data-expanded":I.isOpen()?"":void 0,"data-closed":I.isOpen()?void 0:""})),Ge={dataset:Se,isOpen:I.isOpen,isDisabled:()=>H.isDisabled()??!1,isMultiple:()=>j(n.selectionMode)==="multiple",isVirtualized:()=>n.virtualized??!1,isModal:()=>n.modal??!1,preventScroll:()=>n.preventScroll??Ge.isModal(),disallowTypeAhead:()=>n.disallowTypeAhead??!1,shouldFocusWrap:()=>n.shouldFocusWrap??!1,selectedOptions:_,contentPresent:C,autoFocus:$,triggerRef:h,listState:()=>E,keyboardDelegate:ae,triggerId:s,valueId:c,listboxId:f,listboxAriaLabelledBy:y,setListboxAriaLabelledBy:w,setTriggerRef:p,setContentRef:m,setListboxRef:b,open:P,close:A,toggle:N,placeholder:()=>n.placeholder,renderItem:te,renderSection:pe,removeOptionFromSelection:S,generateId:Df(()=>j(o.id)),registerTriggerId:Ui(l),registerValueId:Ui(u),registerListboxId:Ui(d)};return M(ek.Provider,{value:H,get children(){return M(q8.Provider,{value:Ge,get children(){return M(U8,ye({anchorRef:h,contentRef:g},i,{get children(){return M(xt,ye({as:"div",role:"group",get id(){return j(o.id)}},()=>H.dataset(),Se,a))}}))}})}})}function t7(e){const[t,r]=Ie(e,["value","defaultValue","onChange","multiple"]),n=me(()=>t.value!=null?t.multiple?t.value:[t.value]:t.value),i=me(()=>t.defaultValue!=null?t.multiple?t.defaultValue:[t.defaultValue]:t.defaultValue);return M(Dse,ye({get value(){return n()},get defaultValue(){return i()},onChange:a=>{var s,l;t.multiple?(s=t.onChange)==null||s.call(t,a??[]):(l=t.onChange)==null||l.call(t,a[0]??null)},get selectionMode(){return t.multiple?"multiple":"single"}},r))}function r7(e){const t=Si(),r=fo(),n=rt({id:r.generateId("trigger")},e),[i,o,a]=Ie(n,["ref","disabled","onPointerDown","onClick","onKeyDown","onFocus","onBlur"],s8),s=()=>r.listState().selectionManager(),l=()=>r.keyboardDelegate(),c=()=>i.disabled||r.isDisabled(),{fieldProps:u}=l8(o),{typeSelectHandlers:f}=T8({keyboardDelegate:l,selectionManager:s,onTypeSelect:b=>s().select(b)}),d=()=>[r.listboxAriaLabelledBy(),r.valueId()].filter(Boolean).join(" ")||void 0,h=b=>{Dt(b,i.onPointerDown),b.currentTarget.dataset.pointerType=b.pointerType,!c()&&b.pointerType!=="touch"&&b.button===0&&(b.preventDefault(),r.toggle(!0))},p=b=>{Dt(b,i.onClick),!c()&&b.currentTarget.dataset.pointerType==="touch"&&r.toggle(!0)},g=b=>{var y,w,$,k,O,T,D,L;if(Dt(b,i.onKeyDown),!c())switch(Dt(b,f.onKeyDown),b.key){case"Enter":case" ":case"ArrowDown":b.stopPropagation(),b.preventDefault(),r.toggle("first");break;case"ArrowUp":b.stopPropagation(),b.preventDefault(),r.toggle("last");break;case"ArrowLeft":{if(b.preventDefault(),r.isMultiple())return;const I=s().firstSelectedKey(),E=I!=null?(w=(y=l()).getKeyAbove)==null?void 0:w.call(y,I):(k=($=l()).getFirstKey)==null?void 0:k.call($);E!=null&&s().select(E);break}case"ArrowRight":{if(b.preventDefault(),r.isMultiple())return;const I=s().firstSelectedKey(),E=I!=null?(T=(O=l()).getKeyBelow)==null?void 0:T.call(O,I):(L=(D=l()).getFirstKey)==null?void 0:L.call(D);E!=null&&s().select(E);break}}},m=b=>{Dt(b,i.onFocus),!s().isFocused()&&s().setFocused(!0)},v=b=>{Dt(b,i.onBlur),!r.isOpen()&&s().setFocused(!1)};return oe(()=>be(r.registerTriggerId(u.id()))),oe(()=>{r.setListboxAriaLabelledBy([u.ariaLabelledBy(),u.ariaLabel()&&!u.ariaLabelledBy()?u.id():null].filter(Boolean).join(" ")||void 0)}),M(rS,ye({ref(b){var y=Nr(r.setTriggerRef,i.ref);typeof y=="function"&&y(b)},get id(){return u.id()},get disabled(){return c()},"aria-haspopup":"listbox",get"aria-expanded"(){return r.isOpen()},get"aria-controls"(){return pt(()=>!!r.isOpen())()?r.listboxId():void 0},get"aria-label"(){return u.ariaLabel()},get"aria-labelledby"(){return d()},get"aria-describedby"(){return u.ariaDescribedBy()},onPointerDown:h,onClick:p,onKeyDown:g,onFocus:m,onBlur:v},()=>r.dataset(),()=>t.dataset(),a))}function n7(e){const t=Si(),r=fo(),n=rt({id:r.generateId("value")},e),[i,o]=Ie(n,["id","children"]),a=()=>r.listState().selectionManager(),s=()=>{const l=a().selectedKeys();return l.size===1&&l.has("")?!0:a().isEmpty()};return oe(()=>be(r.registerValueId(i.id))),M(xt,ye({as:"span",get id(){return i.id},get"data-placeholder-shown"(){return s()?"":void 0}},()=>t.dataset(),o,{get children(){return M(Tt,{get when(){return!s()},get fallback(){return r.placeholder()},get children(){return M(Lse,{state:{selectedOption:()=>r.selectedOptions()[0],selectedOptions:()=>r.selectedOptions(),remove:l=>r.removeOptionFromSelection(l),clear:()=>a().clearSelection()},get children(){return i.children}})}})}}))}function Lse(e){const t=Pm(()=>{const r=e.children;return Nm(r)?r(e.state):r});return pt(t)}var sr=Object.assign(t7,{Arrow:hk,Content:Y8,Description:tk,ErrorMessage:rk,HiddenSelect:J8,Icon:X8,Item:nv,ItemDescription:iv,ItemIndicator:ov,ItemLabel:av,Label:Q8,Listbox:Z8,Portal:e7,Section:sv,Trigger:r7,Value:n7}),Nse=W('<svg><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m8 9l4-4l4 4m0 6l-4 4l-4-4"></svg>',!1,!0,!1),Rse=W('<svg xmlns=http://www.w3.org/2000/svg class="h-4 w-4"viewBox="0 0 24 24"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m5 12l5 5L20 7"></path><title>Checked');const Fse=sr,jse=sr.Value;sr.Description;sr.ErrorMessage;sr.ItemDescription;sr.HiddenSelect;sr.Section;const Bse=e=>{const[t,r]=Ie(e,["class","children"]);return M(sr.Trigger,ye({get class(){return _f("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background transition-shadow placeholder:text-muted-foreground focus:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t.class)}},r,{get children(){return[pt(()=>t.children),M(sr.Icon,{as:"svg",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"flex size-4 items-center justify-center opacity-50",get children(){return Nse()}})]}}))},zse=e=>{const[t,r]=Ie(e,["class"]);return M(sr.Portal,{get children(){return M(sr.Content,ye({get class(){return _f("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[expanded]:animate-in data-[closed]:animate-out data-[closed]:fade-out-0 data-[expanded]:fade-in-0 data-[closed]:zoom-out-95 data-[expanded]:zoom-in-95",t.class)}},r,{get children(){return M(sr.Listbox,{class:"p-1 focus-visible:outline-none"})}}))}})},Hse=e=>{const[t,r]=Ie(e,["class","children"]);return M(sr.Item,ye({get class(){return _f("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50  divide-accent divide-2",t.class)}},r,{get children(){return[M(sr.ItemIndicator,{class:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",get children(){return Rse()}}),M(sr.ItemLabel,{get children(){return t.children}})]}}))};var a5=W("<div contenteditable>"),Use=W("<div class=relative>"),Vse=W('<div class="badge-selection-menu absolute z-50 border border-border rounded-md p-2 flex items-center justify-center cursor-pointer bg-background"><div class="flex flex-col divide-accent divide-2">'),Wse=W('<div class="px-4 py-2 hover:bg-accent rounded-md">'),Kse=W('<div class="badge border-2 rounded-md px-2 py-1 font-semibold flex items-center justify-center cursor-pointer">'),Gse=W('<div><div class="relative overflow-x-auto p-2"><div class="pb-4 flex space-x-4 justify-between"><div class="flex space-x-2 columnSelection"><button class="cursor-pointer px-4 py-1 border border-border hover:bg-red-500 w-fit">'),qse=W('<table class="overflow-x-auto w-full text-sm text-left rtl:text-right text-foreground border border-border">'),Yse=W("<tbody class>"),Jse=W('<thead class="text-xs uppercase bg-background text-foreground">'),Xse=W('<tr class="px-6 py-4 font-medium whitespace-nowrap text-foreground divide-x-1 divide-border">'),Qse=W('<th class><div class="px-6 py-4 flex items-center w-full cursor-pointer hover:bg-red-400">'),Zse=W('<tr class="px-6 py-4 font-medium whitespace-nowrap text-foreground border-t border-border divide-x-1 divide-border hover:bg-accent ">'),i7=W('<td class="px-6 py-4">'),ele=W('<td class="px-6 py-4 cursor-pointer hover:bg-red-400">'),tle=W('<div class="flex flex-row items-center justify-between pt-4 "><span class="text-md font-normal text-foreground mb-4 md:mb-0 block w-full md:inline md:w-auto">Showing <span class="font-semibold text-foreground">1-10</span> of <span class="font-semibold text-foreground">1000</span></span><div class="flex divide-x-1 divide-border"><button class="cursor-pointer hover:bg-muted border-y border-l border-border px-4">first</button><button class="cursor-pointer hover:bg-muted border-y border-r border-border px-4">last'),rle=W('<button class="cursor-pointer hover:bg-muted px-4 py-1 border-y border-border">'),nle=W('<div class="flex px-4 py-1 border border-border items-center"><input type=text name placeholder="filter here"id class=pl-4>');const o7=e=>{rv(e,e.is_child,{tags:["input"],classes:["columnSelection"]});const[t,r]=J("none"),[n,i]=J({x:0,y:0}),o=(u,f)=>{let d=e.columns.find(g=>g.key===u)??au.String;const p=typeof f=="object"&&f!==null&&"type"in f&&"label"in f?c(f.type,f.label):null;return M(Pf,{get children(){return[M(Qe,{get when(){return d.typeDef===au.String},get children(){var g=a5();return B(g,f),g}}),M(Qe,{get when(){return d.typeDef===au.Number},get children(){var g=a5();return B(g,f),g}}),M(Qe,{get when(){return d.typeDef===au.Badge},get children(){var g=Use();return B(g,M(s,{type:u,get text(){return p.label},get color(){return p.color}})),g}})]}})},a=u=>(()=>{var f=Vse(),d=f.firstChild;return B(d,M(Ot,{get each(){return l[u.type]},children:h=>(()=>{var p=Wse();return p.$$click=g=>{g.preventDefault(),console.log("000000000000000000000000000000000"),console.log("000000000000000000000000000000000"),console.log("000000000000000000000000000000000"),console.log("000000000000000000000000000000000"),r("none")},B(p,M(s,{get type(){return u.type},get text(){return h.label},get color(){return h.color}})),p})()})),ne(h=>{var p=n().x+"px",g=n().y+"px";return p!==h.e&&re(f,"top",h.e=p),g!==h.t&&re(f,"left",h.t=g),h},{e:void 0,t:void 0}),f})(),s=u=>(()=>{var f=Kse();return f.$$click=d=>{i({x:d.currentTarget.getBoundingClientRect().top-e.y-10,y:d.currentTarget.getBoundingClientRect().left-e.x-68}),r(u.type)},B(f,()=>u.text),ne(d=>{var h=u.color+"70",p=u.color;return h!==d.e&&re(f,"background",d.e=h),p!==d.t&&re(f,"border-color",d.t=p),d},{e:void 0,t:void 0}),f})(),l={status:[{id:"badge_0",label:"todo",color:"#999999"},{id:"badge_1",label:"in-progress",color:"#007bff"},{id:"badge_2",label:"done",color:"#28a745"},{id:"badge_3",label:"cancelled",color:"#dc3545"}],priority:[{id:"badge_4",label:"low",color:"#28a745"},{id:"badge_5",label:"medium",color:"#ffc107"},{id:"badge_6",label:"high",color:"#dc3545"}],label:[{id:"badge_7",label:"bug",color:"#e74c3c"},{id:"badge_8",label:"feature",color:"#2980b9"},{id:"badge_9",label:"enhancement",color:"#2ecc71"}]},c=(u,f)=>{const d=l[u].find(h=>h.label===f);return d||{id:"none",label:"unknown",color:"#ffffff"}};return(()=>{var u=Gse(),f=u.firstChild,d=f.firstChild,h=d.firstChild,p=h.firstChild;return u.$$click=g=>{g.target.closest(".badge, .badge-selection-menu")||r("none")},u.addEventListener("mouseleave",()=>r("none")),B(u,M(Ot,{get each(){return Object.entries(l)},children:([g,m])=>M(Tt,{get when(){return t()===g},get children(){return M(a,{type:g})}})}),f),B(d,M(hle,{}),h),B(h,M(Fse,{class:"rounded-none cursor-pointer",options:["Apple","Banana","Blueberry","Grapes","Pineapple"],placeholder:"Column filter",itemComponent:g=>M(Hse,{get item(){return g.item},get children(){return g.item.rawValue}}),get children(){return[M(Bse,{class:"",get children(){return M(jse,{children:g=>g.selectedOption()})}}),M(zse,{})]}}),p),B(p,M(mq,{size:16})),B(f,M(ile,{get children(){return[M(ale,{get children(){return M(sle,{get children(){return[M(Vb,{get children(){return M(s5,{})}}),M(Ot,{get each(){return e.columns},children:g=>M(lle,{get children(){return g.title}})}),M(Vb,{children:" "})]}})}}),M(ole,{get children(){return M(Ot,{get each(){return e.rows},children:g=>M(cle,{get children(){return[M(Vb,{get children(){return M(s5,{})}}),pt(()=>Object.entries(g).map(([m,v])=>M(ule,{get children(){return o(m,v)}}))),M(fle,{get children(){return M(pq,{})}})]}})})}})]}}),null),B(f,M(dle,{}),null),u})()},ile=e=>(()=>{var t=qse();return B(t,()=>e.children),t})(),ole=e=>(()=>{var t=Yse();return B(t,()=>e.children),t})(),ale=e=>(()=>{var t=Jse();return B(t,()=>e.children),t})(),sle=e=>(()=>{var t=Xse();return B(t,()=>e.children),t})(),lle=e=>(()=>{var t=Qse(),r=t.firstChild;return B(r,()=>e.children,null),B(r,M(Mq,{class:"ml-2",size:16}),null),t})(),cle=e=>(()=>{var t=Zse();return B(t,()=>e.children),t})(),ule=e=>(()=>{var t=i7();return B(t,()=>e.children),t})(),fle=e=>(()=>{var t=ele();return B(t,()=>e.children),t})(),Vb=e=>(()=>{var t=i7();return B(t,()=>e.children),t})(),dle=()=>(()=>{var e=tle(),t=e.firstChild,r=t.nextSibling,n=r.firstChild,i=n.nextSibling;return B(r,M(Ot,{each:[1,2,3,4,5],children:o=>(()=>{var a=rle();return a.classList.toggle("bg-secondary",o===1),B(a,o),a})()}),i),e})(),hle=()=>(()=>{var e=nle(),t=e.firstChild;return B(e,M(gq,{class:"text-foreground"}),t),e})(),s5=()=>M(Ioe,{class:"flex items-center space-x-2",get children(){return M(Poe,{})}});Ut(["click"]);var ple=W("<div><img>");const a7=e=>{const[t,r]=J(""),n=async i=>{const o=await CL(i,{baseDir:Ir.Document});return btoa(Array.from(o).map(s=>String.fromCharCode(s)).join(""))};return lr(async()=>{try{r(`data:image/png;base64,${await n(`GraphNote/${e.path}`)}`)}catch(i){console.error("Failed to load image:",i),r(`data:image/png;base64,${await n("GraphNote/placeholder.png")}`)}}),(()=>{var i=ple(),o=i.firstChild;return re(o,"width","100%"),ne(a=>{var s=t(),l=e.path;return s!==a.e&&q(o,"src",a.e=s),l!==a.t&&q(o,"alt",a.t=l),a},{e:void 0,t:void 0}),i})()};function gle(e,t){const[r,n]=J(e),i=o=>{o.preventDefault();const a=o.clientX,s=r(),l=u=>{const f=s+(u.clientX-a);n(Math.max(300,f))},c=()=>{window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",c),t&&(n(Math.round(r()/10)*10),t(r()))};window.addEventListener("pointermove",l),window.addEventListener("pointerup",c)};return be(()=>{window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",i)}),{width:r,setWidth:n,startResize:i}}var mle=W('<div class="z-50 resize_handle cursor-pointer absolute bottom-0 right-0 aspect-square hover:bg-background/40 border border-transparent hover:border-border opacity-0 group-hover/resize:opacity-100 pointer-events-none group-hover/resize:pointer-events-auto transition-all duration-200 ease-in-out">');const vle=e=>(()=>{var t=mle();return aa(t,"pointerdown",e.startResizeFunction,!0),B(t,M(uq,{size:16})),t})();Ut(["pointerdown"]);var ble=W('<div class="top_strip absolute top-0 left-0 h-1 w-full">'),yle=W("<div>");const $le=e=>{const t=(()=>{switch(e){case ie.Column:return{classes:["collapse_icon","titleHandle"]};case ie.Note:return{tags:["button"],ids:["editor"]};case ie.Todo:return{classes:["taskitem","taskitem-text","checkbox-check","tasklist_handle","sortable"]};case ie.Table:return{tags:["input"],classes:["columnSelection"]};case ie.Activity:return{classes:["activityCell","ch-subdomain-bg","activityChangers"]};default:return{}}})();return{...t,classes:Array.from(new Set([...t.classes??[],"resize_handle"]))}},s7=e=>{var o;const{startDrag:t}=rv(e.node,e.isChildNode,$le(e.node.type)),r=e.node.type===ie.Color?150:((o=F.nodes[Rr()].find(a=>a.id===e.node.id))==null?void 0:o.width)??void 0,{width:n,startResize:i}=gle(r,a=>{aY(e.node.id,a)});return(()=>{var a=yle();return aa(a,"pointerdown",t,!0),B(a,M(Tt,{get when(){return e.node.top_strip_color},get children(){var s=ble();return ne(l=>re(s,"background",e.node.top_strip_color)),s}}),null),B(a,()=>e.children,null),B(a,M(Tt,{get when(){return!e.isChildNode},get children(){return M(vle,{startResizeFunction:i})}}),null),ne(s=>{var l=`${e.node.type.toLowerCase()}`,c={child_node:e.isChildNode,"node group/resize":!e.isChildNode,selected_node:F.selectedNodes.has(e.node.id),"group/collapse ":e.node.type===ie.Column,"flex flex-col justify-center items-center":e.node.type===ie.Board,"flex flex-row justify-start p-2 pl-2.5":e.node.type===ie.Board&&e.isChildNode},u=e.node.id,f=e.isChildNode?"100%":n()?`${n()}px`:"fit-content",d=e.node.color,h=e.node.zIndex,p=`translate3d(${e.node.x}px, ${e.node.y}px, 0)`,g=e.node.textColor??"var(--color-foreground)";return l!==s.e&&Lr(a,s.e=l),s.t=za(a,c,s.t),u!==s.a&&q(a,"id",s.a=u),f!==s.o&&re(a,"width",s.o=f),d!==s.i&&re(a,"background",s.i=d),h!==s.n&&re(a,"z-index",s.n=h),p!==s.s&&re(a,"transform",s.s=p),g!==s.h&&re(a,"color",s.h=g),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),a})()};Ut(["pointerdown"]);var wle=W('<div><div class="aspect-5/4 w-full p-5"></div><div class="p-5 text-xs">by default is color name here, editable \\');const l7=e=>(()=>{var t=wle(),r=t.firstChild,n=r.nextSibling;return n.firstChild,B(r,()=>e.colorValue),B(n,()=>e.text,null),ne(i=>re(r,"background",e.colorValue)),t})(),xle="modulepreload",Sle=function(e){return"/"+e},l5={},kle=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=a(r.map(c=>{if(c=Sle(c),c in l5)return;l5[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":xle,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};var Yw="http://www.w3.org/1999/xhtml";const c5={svg:"http://www.w3.org/2000/svg",xhtml:Yw,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dv(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),c5.hasOwnProperty(t)?{space:c5[t],local:e}:e}function Ole(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Yw&&t.documentElement.namespaceURI===Yw?t.createElement(e):t.createElementNS(r,e)}}function Tle(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function c7(e){var t=dv(e);return(t.local?Tle:Ole)(t)}function Cle(){}function gk(e){return e==null?Cle:function(){return this.querySelector(e)}}function Ele(e){typeof e!="function"&&(e=gk(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Qr(n,this._parents)}function Mle(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ale(){return[]}function u7(e){return e==null?Ale:function(){return this.querySelectorAll(e)}}function Ile(e){return function(){return Mle(e.apply(this,arguments))}}function Ple(e){typeof e=="function"?e=Ile(e):e=u7(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var a=t[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(n.push(e.call(l,l.__data__,c,a)),i.push(l));return new Qr(n,i)}function f7(e){return function(){return this.matches(e)}}function d7(e){return function(t){return t.matches(e)}}var _le=Array.prototype.find;function Dle(e){return function(){return _le.call(this.children,e)}}function Lle(){return this.firstElementChild}function Nle(e){return this.select(e==null?Lle:Dle(typeof e=="function"?e:d7(e)))}var Rle=Array.prototype.filter;function Fle(){return Array.from(this.children)}function jle(e){return function(){return Rle.call(this.children,e)}}function Ble(e){return this.selectAll(e==null?Fle:jle(typeof e=="function"?e:d7(e)))}function zle(e){typeof e!="function"&&(e=f7(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new Qr(n,this._parents)}function h7(e){return new Array(e.length)}function Hle(){return new Qr(this._enter||this._groups.map(h7),this._parents)}function Bg(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Bg.prototype={constructor:Bg,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ule(e){return function(){return e}}function Vle(e,t,r,n,i,o){for(var a=0,s,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],n[a]=s):r[a]=new Bg(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function Wle(e,t,r,n,i,o,a){var s,l,c=new Map,u=t.length,f=o.length,d=new Array(u),h;for(s=0;s<u;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",c.has(h)?i[s]=l:c.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=c.get(h))?(n[s]=l,l.__data__=o[s],c.delete(h)):r[s]=new Bg(e,o[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(d[s])===l&&(i[s]=l)}function Kle(e){return e.__data__}function Gle(e,t){if(!arguments.length)return Array.from(this,Kle);var r=t?Wle:Vle,n=this._parents,i=this._groups;typeof e!="function"&&(e=Ule(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=n[c],f=i[c],d=f.length,h=qle(e.call(u,u&&u.__data__,c,n)),p=h.length,g=s[c]=new Array(p),m=a[c]=new Array(p),v=l[c]=new Array(d);r(u,f,g,m,v,h,t);for(var b=0,y=0,w,$;b<p;++b)if(w=g[b]){for(b>=y&&(y=b+1);!($=m[y])&&++y<p;);w._next=$||null}}return a=new Qr(a,n),a._enter=s,a._exit=l,a}function qle(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yle(){return new Qr(this._exit||this._groups.map(h7),this._parents)}function Jle(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function Xle(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=r[l],u=n[l],f=c.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=c[p]||u[p])&&(d[p]=h);for(;l<i;++l)s[l]=r[l];return new Qr(s,this._parents)}function Qle(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],a;--i>=0;)(a=n[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Zle(e){e||(e=ece);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a=r[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(t)}return new Qr(i,this._parents).order()}function ece(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function tce(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function rce(){return Array.from(this)}function nce(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function ice(){let e=0;for(const t of this)++e;return e}function oce(){return!this.node()}function ace(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function sce(e){return function(){this.removeAttribute(e)}}function lce(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cce(e,t){return function(){this.setAttribute(e,t)}}function uce(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function fce(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function dce(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function hce(e,t){var r=dv(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?lce:sce:typeof t=="function"?r.local?dce:fce:r.local?uce:cce)(r,t))}function p7(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pce(e){return function(){this.style.removeProperty(e)}}function gce(e,t,r){return function(){this.style.setProperty(e,t,r)}}function mce(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function vce(e,t,r){return arguments.length>1?this.each((t==null?pce:typeof t=="function"?mce:gce)(e,t,r??"")):Kl(this.node(),e)}function Kl(e,t){return e.style.getPropertyValue(t)||p7(e).getComputedStyle(e,null).getPropertyValue(t)}function bce(e){return function(){delete this[e]}}function yce(e,t){return function(){this[e]=t}}function $ce(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function wce(e,t){return arguments.length>1?this.each((t==null?bce:typeof t=="function"?$ce:yce)(e,t)):this.node()[e]}function g7(e){return e.trim().split(/^|\s+/)}function mk(e){return e.classList||new m7(e)}function m7(e){this._node=e,this._names=g7(e.getAttribute("class")||"")}m7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function v7(e,t){for(var r=mk(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function b7(e,t){for(var r=mk(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function xce(e){return function(){v7(this,e)}}function Sce(e){return function(){b7(this,e)}}function kce(e,t){return function(){(t.apply(this,arguments)?v7:b7)(this,e)}}function Oce(e,t){var r=g7(e+"");if(arguments.length<2){for(var n=mk(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?kce:t?xce:Sce)(r,t))}function Tce(){this.textContent=""}function Cce(e){return function(){this.textContent=e}}function Ece(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Mce(e){return arguments.length?this.each(e==null?Tce:(typeof e=="function"?Ece:Cce)(e)):this.node().textContent}function Ace(){this.innerHTML=""}function Ice(e){return function(){this.innerHTML=e}}function Pce(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _ce(e){return arguments.length?this.each(e==null?Ace:(typeof e=="function"?Pce:Ice)(e)):this.node().innerHTML}function Dce(){this.nextSibling&&this.parentNode.appendChild(this)}function Lce(){return this.each(Dce)}function Nce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rce(){return this.each(Nce)}function Fce(e){var t=typeof e=="function"?e:c7(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jce(){return null}function Bce(e,t){var r=typeof e=="function"?e:c7(e),n=t==null?jce:typeof t=="function"?t:gk(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function zce(){var e=this.parentNode;e&&e.removeChild(this)}function Hce(){return this.each(zce)}function Uce(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Vce(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wce(e){return this.select(e?Vce:Uce)}function Kce(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Gce(e){return function(t){e.call(this,t,this.__data__)}}function qce(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Yce(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function Jce(e,t,r){return function(){var n=this.__on,i,o=Gce(t);if(n){for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function Xce(e,t,r){var n=qce(e+""),i,o=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=n[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=t?Jce:Yce,i=0;i<o;++i)this.each(s(n[i],t,r));return this}function y7(e,t,r){var n=p7(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Qce(e,t){return function(){return y7(this,e,t)}}function Zce(e,t){return function(){return y7(this,e,t.apply(this,arguments))}}function eue(e,t){return this.each((typeof t=="function"?Zce:Qce)(e,t))}function*tue(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,a;i<o;++i)(a=n[i])&&(yield a)}var $7=[null];function Qr(e,t){this._groups=e,this._parents=t}function Uf(){return new Qr([[document.documentElement]],$7)}function rue(){return this}Qr.prototype=Uf.prototype={constructor:Qr,select:Ele,selectAll:Ple,selectChild:Nle,selectChildren:Ble,filter:zle,data:Gle,enter:Hle,exit:Yle,join:Jle,merge:Xle,selection:rue,order:Qle,sort:Zle,call:tce,nodes:rce,node:nce,size:ice,empty:oce,each:ace,attr:hce,style:vce,property:wce,classed:Oce,text:Mce,html:_ce,raise:Lce,lower:Rce,append:Fce,insert:Bce,remove:Hce,clone:Wce,datum:Kce,on:Xce,dispatch:eue,[Symbol.iterator]:tue};function zg(e){return typeof e=="string"?new Qr([[document.querySelector(e)]],[document.documentElement]):new Qr([[e]],$7)}function dc(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Vf(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ua(){}var is=.7,Gl=1/is,Pl="\\s*([+-]?\\d+)\\s*",pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nue=/^#([0-9a-f]{3,8})$/,iue=new RegExp(`^rgb\\(${Pl},${Pl},${Pl}\\)$`),oue=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),aue=new RegExp(`^rgba\\(${Pl},${Pl},${Pl},${pf}\\)$`),sue=new RegExp(`^rgba\\(${ci},${ci},${ci},${pf}\\)$`),lue=new RegExp(`^hsl\\(${pf},${ci},${ci}\\)$`),cue=new RegExp(`^hsla\\(${pf},${ci},${ci},${pf}\\)$`),u5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dc(ua,as,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:f5,formatHex:f5,formatHex8:uue,formatHsl:fue,formatRgb:d5,toString:d5});function f5(){return this.rgb().formatHex()}function uue(){return this.rgb().formatHex8()}function fue(){return w7(this).formatHsl()}function d5(){return this.rgb().formatRgb()}function as(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?h5(t):r===3?new Ft(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iue.exec(e))?new Ft(t[1],t[2],t[3],1):(t=oue.exec(e))?new Ft(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aue.exec(e))?qd(t[1],t[2],t[3],t[4]):(t=sue.exec(e))?qd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lue.exec(e))?m5(t[1],t[2]/100,t[3]/100,1):(t=cue.exec(e))?m5(t[1],t[2]/100,t[3]/100,t[4]):u5.hasOwnProperty(e)?h5(u5[e]):e==="transparent"?new Ft(NaN,NaN,NaN,0):null}function h5(e){return new Ft(e>>16&255,e>>8&255,e&255,1)}function qd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ft(e,t,r,n)}function vk(e){return e instanceof ua||(e=as(e)),e?(e=e.rgb(),new Ft(e.r,e.g,e.b,e.opacity)):new Ft}function gf(e,t,r,n){return arguments.length===1?vk(e):new Ft(e,t,r,n??1)}function Ft(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}dc(Ft,gf,Vf(ua,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new Ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?is:Math.pow(is,e),new Ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ft(qa(this.r),qa(this.g),qa(this.b),Hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p5,formatHex:p5,formatHex8:due,formatRgb:g5,toString:g5}));function p5(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}`}function due(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}${Ba((isNaN(this.opacity)?1:this.opacity)*255)}`}function g5(){const e=Hg(this.opacity);return`${e===1?"rgb(":"rgba("}${qa(this.r)}, ${qa(this.g)}, ${qa(this.b)}${e===1?")":`, ${e})`}`}function Hg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ba(e){return e=qa(e),(e<16?"0":"")+e.toString(16)}function m5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Nn(e,t,r,n)}function w7(e){if(e instanceof Nn)return new Nn(e.h,e.s,e.l,e.opacity);if(e instanceof ua||(e=as(e)),!e)return new Nn;if(e instanceof Nn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-t)/s+2:a=(t-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Nn(a,s,l,e.opacity)}function Jw(e,t,r,n){return arguments.length===1?w7(e):new Nn(e,t,r,n??1)}function Nn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dc(Nn,Jw,Vf(ua,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new Nn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?is:Math.pow(is,e),new Nn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ft(Wb(e>=240?e-240:e+120,i,n),Wb(e,i,n),Wb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Nn(v5(this.h),Yd(this.s),Yd(this.l),Hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hg(this.opacity);return`${e===1?"hsl(":"hsla("}${v5(this.h)}, ${Yd(this.s)*100}%, ${Yd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function v5(e){return e=(e||0)%360,e<0?e+360:e}function Yd(e){return Math.max(0,Math.min(1,e||0))}function Wb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const x7=Math.PI/180,S7=180/Math.PI,Ug=18,k7=.96422,O7=1,T7=.82521,C7=4/29,_l=6/29,E7=3*_l*_l,hue=_l*_l*_l;function M7(e){if(e instanceof ui)return new ui(e.l,e.a,e.b,e.opacity);if(e instanceof Wi)return A7(e);e instanceof Ft||(e=vk(e));var t=Yb(e.r),r=Yb(e.g),n=Yb(e.b),i=Kb((.2225045*t+.7168786*r+.0606169*n)/O7),o,a;return t===r&&r===n?o=a=i:(o=Kb((.4360747*t+.3850649*r+.1430804*n)/k7),a=Kb((.0139322*t+.0971045*r+.7141733*n)/T7)),new ui(116*i-16,500*(o-i),200*(i-a),e.opacity)}function Xw(e,t,r,n){return arguments.length===1?M7(e):new ui(e,t,r,n??1)}function ui(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}dc(ui,Xw,Vf(ua,{brighter(e){return new ui(this.l+Ug*(e??1),this.a,this.b,this.opacity)},darker(e){return new ui(this.l-Ug*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=k7*Gb(t),e=O7*Gb(e),r=T7*Gb(r),new Ft(qb(3.1338561*t-1.6168667*e-.4906146*r),qb(-.9787684*t+1.9161415*e+.033454*r),qb(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function Kb(e){return e>hue?Math.pow(e,1/3):e/E7+C7}function Gb(e){return e>_l?e*e*e:E7*(e-C7)}function qb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Yb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pue(e){if(e instanceof Wi)return new Wi(e.h,e.c,e.l,e.opacity);if(e instanceof ui||(e=M7(e)),e.a===0&&e.b===0)return new Wi(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*S7;return new Wi(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Vg(e,t,r,n){return arguments.length===1?pue(e):new Wi(e,t,r,n??1)}function Wi(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function A7(e){if(isNaN(e.h))return new ui(e.l,0,0,e.opacity);var t=e.h*x7;return new ui(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}dc(Wi,Vg,Vf(ua,{brighter(e){return new Wi(this.h,this.c,this.l+Ug*(e??1),this.opacity)},darker(e){return new Wi(this.h,this.c,this.l-Ug*(e??1),this.opacity)},rgb(){return A7(this).rgb()}}));var I7=-.14861,bk=1.78277,yk=-.29227,hv=-.90649,mf=1.97294,b5=mf*hv,y5=mf*bk,$5=bk*yk-hv*I7;function gue(e){if(e instanceof Ya)return new Ya(e.h,e.s,e.l,e.opacity);e instanceof Ft||(e=vk(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=($5*n+b5*t-y5*r)/($5+b5-y5),o=n-i,a=(mf*(r-i)-yk*o)/hv,s=Math.sqrt(a*a+o*o)/(mf*i*(1-i)),l=s?Math.atan2(a,o)*S7-120:NaN;return new Ya(l<0?l+360:l,s,i,e.opacity)}function mi(e,t,r,n){return arguments.length===1?gue(e):new Ya(e,t,r,n??1)}function Ya(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dc(Ya,mi,Vf(ua,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new Ya(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?is:Math.pow(is,e),new Ya(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*x7,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new Ft(255*(t+r*(I7*n+bk*i)),255*(t+r*(yk*n+hv*i)),255*(t+r*(mf*n)),this.opacity)}}));function qo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pv(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $k(e){let t,r,n;e.length!==2?(t=qo,r=(s,l)=>qo(e(s),l),n=(s,l)=>e(s)-l):(t=e===qo||e===pv?e:mue,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function mue(){return 0}function P7(e){return e===null?NaN:+e}function*vue(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const bue=$k(qo),wk=bue.right;$k(P7).center;function xk(e,t){let r,n;for(const i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));return[r,n]}class w5 extends Map{constructor(t,r=L7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Qw(this,t))}has(t){return super.has(Qw(this,t))}set(t,r){return super.set(_7(this,t),r)}delete(t){return super.delete(D7(this,t))}}class yue extends Set{constructor(t,r=L7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(Qw(this,t))}add(t){return super.add(_7(this,t))}delete(t){return super.delete(D7(this,t))}}function Qw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function D7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function L7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $ue(e,t){return Array.from(t,r=>e[r])}function wue(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){const n=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),n.sort((i,o)=>{for(const a of t){const s=Wg(a[i],a[o]);if(s)return s}})):(r=e.map(r),n.sort((i,o)=>Wg(r[i],r[o]))),$ue(e,n)}return e.sort(N7(r))}function N7(e=qo){if(e===qo)return Wg;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Wg(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xue=Math.sqrt(50),Sue=Math.sqrt(10),kue=Math.sqrt(2);function Kg(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=xue?10:o>=Sue?5:o>=kue?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Kg(e,t,r*2):[s,l,c]}function Gg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,a]=n?Kg(t,e,r):Kg(e,t,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Zw(e,t,r){return t=+t,e=+e,r=+r,Kg(e,t,r)[2]}function e2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Zw(t,e,r):Zw(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function ta(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function qg(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function R7(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Wg:N7(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*f/l+d)),p=Math.min(n,Math.floor(t+(l-c)*f/l+d));R7(e,t,h,p,i)}const o=e[t];let a=r,s=n;for(Lc(e,r,t),i(e[n],o)>0&&Lc(e,r,n);a<s;){for(Lc(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[r],o)===0?Lc(e,r,s):(++s,Lc(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Lc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function t2(e,t,r){if(e=Float64Array.from(vue(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return qg(e);if(t>=1)return ta(e);var n,i=(n-1)*t,o=Math.floor(i),a=ta(R7(e,o).subarray(0,o+1)),s=qg(e.subarray(o+1));return a+(s-a)*(i-o)}}function Oue(e,t,r=P7){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),a=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function x5(e,t){return t2(e,.5,t)}function r2(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Yg(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var Tue={value:()=>{}};function F7(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new lp(r)}function lp(e){this._=e}function Cue(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}lp.prototype=F7.prototype={constructor:lp,on:function(e,t){var r=this._,n=Cue(e+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(e=n[o]).type)&&(i=Eue(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=n[o]).type)r[i]=S5(r[i],e.name,t);else if(t==null)for(i in r)r[i]=S5(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new lp(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function Eue(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function S5(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Tue,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}function Mue(e,t,r,n,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*n+a*i)/6}function Aue(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],a=n>0?e[n-1]:2*i-o,s=n<t-1?e[n+2]:2*o-i;return Mue((r-n/t)*t,a,i,o,s)}}const gv=e=>()=>e;function j7(e,t){return function(r){return e+r*t}}function Iue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Sk(e,t){var r=t-e;return r?j7(e,r>180||r<-180?r-360*Math.round(r/360):r):gv(isNaN(e)?t:e)}function Pue(e){return(e=+e)==1?ir:function(t,r){return r-t?Iue(t,r,e):gv(isNaN(t)?r:t)}}function ir(e,t){var r=t-e;return r?j7(e,r):gv(isNaN(e)?t:e)}const ss=(function e(t){var r=Pue(t);function n(i,o){var a=r((i=gf(i)).r,(o=gf(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=ir(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function _ue(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),o=new Array(r),a,s;for(a=0;a<r;++a)s=gf(t[a]),n[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return n=e(n),i=e(i),o=e(o),s.opacity=1,function(l){return s.r=n(l),s.g=i(l),s.b=o(l),s+""}}}var Due=_ue(Aue);function Lue(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function Nue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rue(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=Wf(e[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function Fue(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function dr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jue(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Wf(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var n2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jb=new RegExp(n2.source,"g");function Bue(e){return function(){return e}}function zue(e){return function(t){return e(t)+""}}function B7(e,t){var r=n2.lastIndex=Jb.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(n=n2.exec(e))&&(i=Jb.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:dr(n,i)})),r=Jb.lastIndex;return r<t.length&&(o=t.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?zue(l[0].x):Bue(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Wf(e,t){var r=typeof t,n;return t==null||r==="boolean"?gv(t):(r==="number"?dr:r==="string"?(n=as(t))?(t=n,ss):B7:t instanceof as?ss:t instanceof Date?Fue:Nue(t)?Lue:Array.isArray(t)?Rue:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jue:dr)(e,t)}function kk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var k5=180/Math.PI,i2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function z7(e,t,r,n,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*k5,skewX:Math.atan(l)*k5,scaleX:a,scaleY:s}}var Jd;function Hue(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?i2:z7(t.a,t.b,t.c,t.d,t.e,t.f)}function Uue(e){return e==null||(Jd||(Jd=document.createElementNS("http://www.w3.org/2000/svg","g")),Jd.setAttribute("transform",e),!(e=Jd.transform.baseVal.consolidate()))?i2:(e=e.matrix,z7(e.a,e.b,e.c,e.d,e.e,e.f))}function H7(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push("translate(",null,t,null,r);p.push({i:g-4,x:dr(c,f)},{i:g-2,x:dr(u,d)})}else(f||d)&&h.push("translate("+f+t+d+r)}function a(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,n)-2,x:dr(c,u)})):u&&f.push(i(f)+"rotate("+u+n)}function s(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,n)-2,x:dr(c,u)}):u&&f.push(i(f)+"skewX("+u+n)}function l(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:dr(c,f)},{i:g-2,x:dr(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,d),a(c.rotate,u.rotate,f,d),s(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var Vue=H7(Hue,"px, ","px)","deg)"),Wue=H7(Uue,", ",")",")");function Kue(e){return function(t,r){var n=e((t=Jw(t)).h,(r=Jw(r)).h),i=ir(t.s,r.s),o=ir(t.l,r.l),a=ir(t.opacity,r.opacity);return function(s){return t.h=n(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const Gue=Kue(Sk);function que(e,t){var r=ir((e=Xw(e)).l,(t=Xw(t)).l),n=ir(e.a,t.a),i=ir(e.b,t.b),o=ir(e.opacity,t.opacity);return function(a){return e.l=r(a),e.a=n(a),e.b=i(a),e.opacity=o(a),e+""}}function Yue(e){return function(t,r){var n=e((t=Vg(t)).h,(r=Vg(r)).h),i=ir(t.c,r.c),o=ir(t.l,r.l),a=ir(t.opacity,r.opacity);return function(s){return t.h=n(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const Jue=Yue(Sk);function U7(e){return(function t(r){r=+r;function n(i,o){var a=e((i=mi(i)).h,(o=mi(o)).h),s=ir(i.s,o.s),l=ir(i.l,o.l),c=ir(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=s(u),i.l=l(Math.pow(u,r)),i.opacity=c(u),i+""}}return n.gamma=t,n})(1)}U7(Sk);var Ok=U7(ir);function V7(e,t){t===void 0&&(t=e,e=Wf);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function vi(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var ql=0,gu=0,Nc=0,W7=1e3,Jg,mu,Xg=0,ls=0,mv=0,vf=typeof performance=="object"&&performance.now?performance:Date,K7=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Tk(){return ls||(K7(Xue),ls=vf.now()+mv)}function Xue(){ls=0}function Qg(){this._call=this._time=this._next=null}Qg.prototype=G7.prototype={constructor:Qg,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Tk():+r)+(t==null?0:+t),!this._next&&mu!==this&&(mu?mu._next=this:Jg=this,mu=this),this._call=e,this._time=r,o2()},stop:function(){this._call&&(this._call=null,this._time=1/0,o2())}};function G7(e,t,r){var n=new Qg;return n.restart(e,t,r),n}function Que(){Tk(),++ql;for(var e=Jg,t;e;)(t=ls-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ql}function O5(){ls=(Xg=vf.now())+mv,ql=gu=0;try{Que()}finally{ql=0,efe(),ls=0}}function Zue(){var e=vf.now(),t=e-Xg;t>W7&&(mv-=t,Xg=e)}function efe(){for(var e,t=Jg,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Jg=r);mu=e,o2(n)}function o2(e){if(!ql){gu&&(gu=clearTimeout(gu));var t=e-ls;t>24?(e<1/0&&(gu=setTimeout(O5,e-vf.now()-mv)),Nc&&(Nc=clearInterval(Nc))):(Nc||(Xg=vf.now(),Nc=setInterval(Zue,W7)),ql=1,K7(O5))}}function T5(e,t,r){var n=new Qg;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var tfe=F7("start","end","cancel","interrupt"),rfe=[],q7=0,C5=1,a2=2,cp=3,E5=4,s2=5,up=6;function vv(e,t,r,n,i,o){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;nfe(e,r,{name:t,index:n,group:i,on:tfe,tween:rfe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:q7})}function Ck(e,t){var r=Un(e,t);if(r.state>q7)throw new Error("too late; already scheduled");return r}function Oi(e,t){var r=Un(e,t);if(r.state>cp)throw new Error("too late; already running");return r}function Un(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function nfe(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=G7(o,0,r.time);function o(c){r.state=C5,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var u,f,d,h;if(r.state!==C5)return l();for(u in n)if(h=n[u],h.name===r.name){if(h.state===cp)return T5(a);h.state===E5?(h.state=up,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[u]):+u<t&&(h.state=up,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[u])}if(T5(function(){r.state===cp&&(r.state=E5,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=a2,r.on.call("start",e,e.__data__,r.index,r.group),r.state===a2){for(r.state=cp,i=new Array(d=r.tween.length),u=0,f=-1;u<d;++u)(h=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=s2,1),f=-1,d=i.length;++f<d;)i[f].call(e,u);r.state===s2&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=up,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function ife(e,t){var r=e.__transition,n,i,o=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){o=!1;continue}i=n.state>a2&&n.state<s2,n.state=up,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}o&&delete e.__transition}}function ofe(e){return this.each(function(){ife(this,e)})}function afe(e,t){var r,n;return function(){var i=Oi(this,e),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function sfe(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Oi(this,e),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function lfe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Un(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?afe:sfe)(r,e,t))}function Ek(e,t,r){var n=e._id;return e.each(function(){var i=Oi(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Un(i,n).value[t]}}function Y7(e,t){var r;return(typeof t=="number"?dr:t instanceof as?ss:(r=as(t))?(t=r,ss):B7)(e,t)}function cfe(e){return function(){this.removeAttribute(e)}}function ufe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ffe(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===n?o:o=t(n=a,r)}}function dfe(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?o:o=t(n=a,r)}}function hfe(e,t,r){var n,i,o;return function(){var a,s=r(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s)))}}function pfe(e,t,r){var n,i,o;return function(){var a,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s)))}}function gfe(e,t){var r=dv(e),n=r==="transform"?Wue:Y7;return this.attrTween(e,typeof t=="function"?(r.local?pfe:hfe)(r,n,Ek(this,"attr."+e,t)):t==null?(r.local?ufe:cfe)(r):(r.local?dfe:ffe)(r,n,t))}function mfe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function vfe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function bfe(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&vfe(e,o)),r}return i._value=t,i}function yfe(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&mfe(e,o)),r}return i._value=t,i}function $fe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=dv(e);return this.tween(r,(n.local?bfe:yfe)(n,t))}function wfe(e,t){return function(){Ck(this,e).delay=+t.apply(this,arguments)}}function xfe(e,t){return t=+t,function(){Ck(this,e).delay=t}}function Sfe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wfe:xfe)(t,e)):Un(this.node(),t).delay}function kfe(e,t){return function(){Oi(this,e).duration=+t.apply(this,arguments)}}function Ofe(e,t){return t=+t,function(){Oi(this,e).duration=t}}function Tfe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kfe:Ofe)(t,e)):Un(this.node(),t).duration}function Cfe(e,t){if(typeof t!="function")throw new Error;return function(){Oi(this,e).ease=t}}function Efe(e){var t=this._id;return arguments.length?this.each(Cfe(t,e)):Un(this.node(),t).ease}function Mfe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Oi(this,e).ease=r}}function Afe(e){if(typeof e!="function")throw new Error;return this.each(Mfe(this._id,e))}function Ife(e){typeof e!="function"&&(e=f7(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new eo(n,this._parents,this._name,this._id)}function Pfe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var l=t[s],c=r[s],u=l.length,f=a[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<n;++s)a[s]=t[s];return new eo(a,this._parents,this._name,this._id)}function _fe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Dfe(e,t,r){var n,i,o=_fe(t)?Ck:Oi;return function(){var a=o(this,e),s=a.on;s!==n&&(i=(n=s).copy()).on(t,r),a.on=i}}function Lfe(e,t){var r=this._id;return arguments.length<2?Un(this.node(),r).on.on(e):this.each(Dfe(r,e,t))}function Nfe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Rfe(){return this.on("end.remove",Nfe(this._id))}function Ffe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=gk(e));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],l=s.length,c=o[a]=new Array(l),u,f,d=0;d<l;++d)(u=s[d])&&(f=e.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,vv(c[d],t,r,d,c,Un(u,r)));return new eo(o,this._parents,t,r)}function jfe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=u7(e));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var l=n[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),h,p=Un(u,r),g=0,m=d.length;g<m;++g)(h=d[g])&&vv(h,t,r,g,d,p);o.push(d),a.push(u)}return new eo(o,a,t,r)}var Bfe=Uf.prototype.constructor;function zfe(){return new Bfe(this._groups,this._parents)}function Hfe(e,t){var r,n,i;return function(){var o=Kl(this,e),a=(this.style.removeProperty(e),Kl(this,e));return o===a?null:o===r&&a===n?i:i=t(r=o,n=a)}}function J7(e){return function(){this.style.removeProperty(e)}}function Ufe(e,t,r){var n,i=r+"",o;return function(){var a=Kl(this,e);return a===i?null:a===n?o:o=t(n=a,r)}}function Vfe(e,t,r){var n,i,o;return function(){var a=Kl(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Kl(this,e))),a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s))}}function Wfe(e,t){var r,n,i,o="style."+t,a="end."+o,s;return function(){var l=Oi(this,e),c=l.on,u=l.value[o]==null?s||(s=J7(t)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(a,i=u),l.on=n}}function Kfe(e,t,r){var n=(e+="")=="transform"?Vue:Y7;return t==null?this.styleTween(e,Hfe(e,n)).on("end.style."+e,J7(e)):typeof t=="function"?this.styleTween(e,Vfe(e,n,Ek(this,"style."+e,t))).each(Wfe(this._id,e)):this.styleTween(e,Ufe(e,n,t),r).on("end.style."+e,null)}function Gfe(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function qfe(e,t,r){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&Gfe(e,a,r)),n}return o._value=t,o}function Yfe(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,qfe(e,t,r??""))}function Jfe(e){return function(){this.textContent=e}}function Xfe(e){return function(){var t=e(this);this.textContent=t??""}}function Qfe(e){return this.tween("text",typeof e=="function"?Xfe(Ek(this,"text",e)):Jfe(e==null?"":e+""))}function Zfe(e){return function(t){this.textContent=e.call(this,t)}}function ede(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&Zfe(i)),t}return n._value=e,n}function tde(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ede(e))}function rde(){for(var e=this._name,t=this._id,r=X7(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=Un(l,t);vv(l,e,r,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new eo(n,this._parents,e,r)}function nde(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};r.each(function(){var c=Oi(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),i===0&&o()})}var ide=0;function eo(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function X7(){return++ide}var Di=Uf.prototype;eo.prototype={constructor:eo,select:Ffe,selectAll:jfe,selectChild:Di.selectChild,selectChildren:Di.selectChildren,filter:Ife,merge:Pfe,selection:zfe,transition:rde,call:Di.call,nodes:Di.nodes,node:Di.node,size:Di.size,empty:Di.empty,each:Di.each,on:Lfe,attr:gfe,attrTween:$fe,style:Kfe,styleTween:Yfe,text:Qfe,textTween:tde,remove:Rfe,tween:lfe,delay:Sfe,duration:Tfe,ease:Efe,easeVarying:Afe,end:nde,[Symbol.iterator]:Di[Symbol.iterator]};function ode(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ade={time:null,delay:0,duration:250,ease:ode};function sde(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function lde(e){var t,r;e instanceof eo?(t=e._id,e=e._name):(t=X7(),(r=ade).time=Tk(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&vv(l,e,t,c,a,r||sde(l,t));return new eo(n,this._parents,e,t)}Uf.prototype.interrupt=ofe;Uf.prototype.transition=lde;var M5={},Xb={},Qb=34,Rc=10,Zb=13;function Q7(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function cde(e,t){var r=Q7(e);return function(n,i){return t(r(n),i,e)}}function A5(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function Tr(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function ude(e){return e<0?"-"+Tr(-e,6):e>9999?"+"+Tr(e,6):Tr(e,4)}function fde(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":ude(e.getUTCFullYear())+"-"+Tr(e.getUTCMonth()+1,2)+"-"+Tr(e.getUTCDate(),2)+(i?"T"+Tr(t,2)+":"+Tr(r,2)+":"+Tr(n,2)+"."+Tr(i,3)+"Z":n?"T"+Tr(t,2)+":"+Tr(r,2)+":"+Tr(n,2)+"Z":r||t?"T"+Tr(t,2)+":"+Tr(r,2)+"Z":"")}function Z7(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(f,d){var h,p,g=i(f,function(m,v){if(h)return h(m,v-1);p=m,h=d?cde(m,d):Q7(m)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,m=0,v,b=p<=0,y=!1;f.charCodeAt(p-1)===Rc&&--p,f.charCodeAt(p-1)===Zb&&--p;function w(){if(b)return Xb;if(y)return y=!1,M5;var k,O=g,T;if(f.charCodeAt(O)===Qb){for(;g++<p&&f.charCodeAt(g)!==Qb||f.charCodeAt(++g)===Qb;);return(k=g)>=p?b=!0:(T=f.charCodeAt(g++))===Rc?y=!0:T===Zb&&(y=!0,f.charCodeAt(g)===Rc&&++g),f.slice(O+1,k-1).replace(/""/g,'"')}for(;g<p;){if((T=f.charCodeAt(k=g++))===Rc)y=!0;else if(T===Zb)y=!0,f.charCodeAt(g)===Rc&&++g;else if(T!==r)continue;return f.slice(O,k)}return b=!0,f.slice(O,p)}for(;(v=w())!==Xb;){for(var $=[];v!==M5&&v!==Xb;)$.push(v),v=w();d&&($=d($,m++))==null||h.push($)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return u(h[p])}).join(e)})}function a(f,d){return d==null&&(d=A5(f)),[d.map(u).join(e)].concat(o(f,d)).join(`
`)}function s(f,d){return d==null&&(d=A5(f)),o(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?fde(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}var dde=Z7(","),hde=dde.parse;function pde(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Mk(e,t){return fetch(e,t).then(pde)}function gde(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),Mk(t,r).then(function(i){return e(i,n)})}}function mde(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var i=Z7(e);return Mk(t,r).then(function(o){return i.parse(o,n)})}var vde=gde(hde);function bde(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function yde(e,t){return fetch(e,t).then(bde)}function $de(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yl(e){return e=Zg(Math.abs(e)),e?e[1]:NaN}function wde(e,t){return function(r,n){for(var i=r.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function xde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Sde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bf(e){if(!(t=Sde.exec(e)))throw new Error("invalid format: "+e);var t;return new Ak({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bf.prototype=Ak.prototype;function Ak(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ak.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kde(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var e9;function Ode(e,t){var r=Zg(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(e9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Zg(e,Math.max(0,t+o-1))[0]}function I5(e,t){var r=Zg(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const P5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$de,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I5(e*100,t),r:I5,s:Ode,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _5(e){return e}var D5=Array.prototype.map,L5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Tde(e){var t=e.grouping===void 0||e.thousands===void 0?_5:wde(D5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?_5:xde(D5.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=bf(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,v=f.width,b=f.comma,y=f.precision,w=f.trim,$=f.type;$==="n"?(b=!0,$="g"):P5[$]||(y===void 0&&(y=12),w=!0,$="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var k=g==="$"?r:g==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",O=g==="$"?n:/[%p]/.test($)?a:"",T=P5[$],D=/[defgprs%]/.test($);y=y===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function L(I){var E=k,_=O,S,C,x;if($==="c")_=T(I)+_,I="";else{I=+I;var P=I<0||1/I<0;if(I=isNaN(I)?l:T(Math.abs(I),y),w&&(I=kde(I)),P&&+I==0&&p!=="+"&&(P=!1),E=(P?p==="("?p:s:p==="-"||p==="("?"":p)+E,_=($==="s"?L5[8+e9/3]:"")+_+(P&&p==="("?")":""),D){for(S=-1,C=I.length;++S<C;)if(x=I.charCodeAt(S),48>x||x>57){_=(x===46?i+I.slice(S+1):I.slice(S))+_,I=I.slice(0,S);break}}}b&&!m&&(I=t(I,1/0));var A=E.length+I.length+_.length,N=A<v?new Array(v-A+1).join(d):"";switch(b&&m&&(I=t(N+I,N.length?v-_.length:1/0),N=""),h){case"<":I=E+I+_+N;break;case"=":I=E+N+I+_;break;case"^":I=N.slice(0,A=N.length>>1)+E+I+_+N.slice(A);break;default:I=N+E+I+_;break}return o(I)}return L.toString=function(){return f+""},L}function u(f,d){var h=c((f=bf(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Yl(d)/3)))*3,g=Math.pow(10,-p),m=L5[8+p/3];return function(v){return h(g*v)+m}}return{format:c,formatPrefix:u}}var Xd,Ik,t9;Cde({thousands:",",grouping:[3],currency:["$",""]});function Cde(e){return Xd=Tde(e),Ik=Xd.format,t9=Xd.formatPrefix,Xd}function Ede(e){return Math.max(0,-Yl(Math.abs(e)))}function Mde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yl(t)/3)))*3-Yl(Math.abs(e)))}function Ade(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yl(t)-Yl(e))+1}function Ti(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bv(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const l2=Symbol("implicit");function Pk(){var e=new w5,t=[],r=[],n=l2;function i(o){let a=e.get(o);if(a===void 0){if(n!==l2)return n;e.set(o,a=t.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new w5;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Pk(t,r).unknown(n)},Ti.apply(i,arguments),i}function _k(){var e=Pk().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var d=t().length,h=i<n,p=h?i:n,g=h?n:i;o=(g-p)/Math.max(1,d-l+c*2),s&&(o=Math.floor(o)),p+=(g-p-o*(d-l))*u,a=o*(1-l),s&&(p=Math.round(p),a=Math.round(a));var m=r2(d).map(function(v){return p+o*v});return r(h?m.reverse():m)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.copy=function(){return _k(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ti.apply(f(),arguments)}function r9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return r9(t())},e}function Ide(){return r9(_k.apply(null,arguments).paddingInner(1))}function Pde(e){return function(){return e}}function c2(e){return+e}var N5=[0,1];function hn(e){return e}function u2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Pde(isNaN(t)?NaN:.5)}function _de(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Dde(e,t,r){var n=e[0],i=e[1],o=t[0],a=t[1];return i<n?(n=u2(i,n),o=r(a,o)):(n=u2(n,i),o=r(o,a)),function(s){return o(n(s))}}function Lde(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=u2(e[a],e[a+1]),o[a]=r(t[a],t[a+1]);return function(s){var l=wk(e,s,1,n)-1;return o[l](i[l](s))}}function Kf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yv(){var e=N5,t=N5,r=Wf,n,i,o,a=hn,s,l,c;function u(){var d=Math.min(e.length,t.length);return a!==hn&&(a=_de(e[0],e[d-1])),s=d>2?Lde:Dde,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(e.map(n),t,r)))(n(a(d)))}return f.invert=function(d){return a(i((c||(c=s(t,e.map(n),dr)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,c2),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),r=kk,u()},f.clamp=function(d){return arguments.length?(a=d?!0:hn,u()):a!==hn},f.interpolate=function(d){return arguments.length?(r=d,u()):r},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return n=d,i=h,u()}}function n9(){return yv()(hn,hn)}function Nde(e,t,r,n){var i=e2(e,t,r),o;switch(n=bf(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Mde(i,a))&&(n.precision=o),t9(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Ade(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Ede(i))&&(n.precision=o-(n.type==="%")*2);break}}return Ik(n)}function Gf(e){var t=e.domain;return e.ticks=function(r){var n=t();return Gg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Nde(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=Zw(a,s,r),c===l)return n[i]=a,n[o]=s,t(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function i9(){var e=n9();return e.copy=function(){return Kf(e,i9())},Ti.apply(e,arguments),Gf(e)}function o9(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,c2),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return o9(e).unknown(t)},e=arguments.length?Array.from(e,c2):[0,1],Gf(r)}function a9(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),e[r]=t.floor(i),e[n]=t.ceil(o),e}function R5(e){return Math.log(e)}function F5(e){return Math.exp(e)}function Rde(e){return-Math.log(-e)}function Fde(e){return-Math.exp(-e)}function jde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bde(e){return e===10?jde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function j5(e){return(t,r)=>-e(-t,r)}function s9(e){const t=e(R5,F5),r=t.domain;let n=10,i,o;function a(){return i=zde(n),o=Bde(n),r()[0]<0?(i=j5(i),o=j5(o),e(Rde,Fde)):e(R5,F5),t}return t.base=function(s){return arguments.length?(n=+s,a()):n},t.domain=function(s){return arguments.length?(r(s),a()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),p,g;const m=s==null?10:+s;let v=[];if(!(n%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(p=1;p<n;++p)if(g=d<0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;v.push(g)}}else for(;d<=h;++d)for(p=n-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;v.push(g)}v.length*2<m&&(v=Gg(c,u,m))}else v=Gg(d,h,Math.min(h-d,m)).map(o);return f?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=bf(l)).precision==null&&(l.trim=!0),l=Ik(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(a9(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function l9(){const e=s9(yv()).domain([1,10]);return e.copy=()=>Kf(e,l9()).base(e.base()),Ti.apply(e,arguments),e}function B5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function z5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function c9(e){var t=1,r=e(B5(t),z5(t));return r.constant=function(n){return arguments.length?e(B5(t=+n),z5(t)):t},Gf(r)}function u9(){var e=c9(yv());return e.copy=function(){return Kf(e,u9()).constant(e.constant())},Ti.apply(e,arguments)}function H5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Hde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ude(e){return e<0?-e*e:e*e}function f9(e){var t=e(hn,hn),r=1;function n(){return r===1?e(hn,hn):r===.5?e(Hde,Ude):e(H5(r),H5(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Gf(t)}function d9(){var e=f9(yv());return e.copy=function(){return Kf(e,d9()).exponent(e.exponent())},Ti.apply(e,arguments),e}function h9(){var e=[],t=[],r=[],n;function i(){var a=0,s=Math.max(1,t.length);for(r=new Array(s-1);++a<s;)r[a-1]=Oue(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:t[wk(r,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(qo),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return h9().domain(e).range(t).unknown(n)},Ti.apply(o,arguments)}function p9(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[wk(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return p9().domain(e).range(t).unknown(r)},Ti.apply(i,arguments)}const ey=new Date,ty=new Date;function Ct(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return l},i.filter=o=>Ct(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),r&&(i.count=(o,a)=>(ey.setTime(+o),ty.setTime(+a),e(ey),e(ty),Math.floor(r(ey,ty))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const em=Ct(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);em.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ct(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):em);em.range;const Ki=1e3,pn=Ki*60,Gi=pn*60,to=Gi*24,Dk=to*7,U5=to*30,ry=to*365,qi=Ct(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCSeconds());qi.range;const $v=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ki)},(e,t)=>{e.setTime(+e+t*pn)},(e,t)=>(t-e)/pn,e=>e.getMinutes());$v.range;const wv=Ct(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pn)},(e,t)=>(t-e)/pn,e=>e.getUTCMinutes());wv.range;const xv=Ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ki-e.getMinutes()*pn)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getHours());xv.range;const Sv=Ct(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCHours());Sv.range;const hc=Ct(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pn)/to,e=>e.getDate()-1);hc.range;const qf=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/to,e=>e.getUTCDate()-1);qf.range;const g9=Ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/to,e=>Math.floor(e/to));g9.range;function Ts(e){return Ct(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pn)/Dk)}const Jl=Ts(0),yf=Ts(1),m9=Ts(2),v9=Ts(3),cs=Ts(4),b9=Ts(5),y9=Ts(6);Jl.range;yf.range;m9.range;v9.range;cs.range;b9.range;y9.range;function Cs(e){return Ct(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Dk)}const Xl=Cs(0),$f=Cs(1),$9=Cs(2),w9=Cs(3),us=Cs(4),x9=Cs(5),S9=Cs(6);Xl.range;$f.range;$9.range;w9.range;us.range;x9.range;S9.range;const Dl=Ct(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dl.range;const Ll=Ct(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ll.range;const bi=Ct(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bi.range;const yi=Ct(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ct(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});yi.range;function k9(e,t,r,n,i,o){const a=[[qi,1,Ki],[qi,5,5*Ki],[qi,15,15*Ki],[qi,30,30*Ki],[o,1,pn],[o,5,5*pn],[o,15,15*pn],[o,30,30*pn],[i,1,Gi],[i,3,3*Gi],[i,6,6*Gi],[i,12,12*Gi],[n,1,to],[n,2,2*to],[r,1,Dk],[t,1,U5],[t,3,3*U5],[e,1,ry]];function s(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),p=h?h.range(c,+u+1):[];return d?p.reverse():p}function l(c,u,f){const d=Math.abs(u-c)/f,h=$k(([,,m])=>m).right(a,d);if(h===a.length)return e.every(e2(c/ry,u/ry,f));if(h===0)return em.every(Math.max(e2(c,u,f),1));const[p,g]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(g)}return[s,l]}const[Vde,Wde]=k9(yi,Ll,Xl,g9,Sv,wv),[Kde,Gde]=k9(bi,Dl,Jl,hc,xv,$v);function ny(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qde(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=jc(i),u=Bc(i),f=jc(o),d=Bc(o),h=jc(a),p=Bc(a),g=jc(s),m=Bc(s),v=jc(l),b=Bc(l),y={a:P,A,b:N,B:H,c:null,d:Y5,e:Y5,f:vhe,g:Che,G:Mhe,H:phe,I:ghe,j:mhe,L:O9,m:bhe,M:yhe,p:U,q:ae,Q:Q5,s:Z5,S:$he,u:whe,U:xhe,V:She,w:khe,W:Ohe,x:null,X:null,y:The,Y:Ehe,Z:Ahe,"%":X5},w={a:te,A:pe,b:Se,B:Ge,c:null,d:J5,e:J5,f:Dhe,g:Vhe,G:Khe,H:Ihe,I:Phe,j:_he,L:C9,m:Lhe,M:Nhe,p:Y,q:de,Q:Q5,s:Z5,S:Rhe,u:Fhe,U:jhe,V:Bhe,w:zhe,W:Hhe,x:null,X:null,y:Uhe,Y:Whe,Z:Ghe,"%":X5},$={a:L,A:I,b:E,B:_,c:S,d:G5,e:G5,f:uhe,g:K5,G:W5,H:q5,I:q5,j:ahe,L:che,m:ohe,M:she,p:D,q:ihe,Q:dhe,s:hhe,S:lhe,u:Zde,U:ehe,V:the,w:Qde,W:rhe,x:C,X:x,y:K5,Y:W5,Z:nhe,"%":fhe};y.x=k(r,y),y.X=k(n,y),y.c=k(t,y),w.x=k(r,w),w.X=k(n,w),w.c=k(t,w);function k(G,Q){return function(le){var z=[],ze=-1,Te=0,se=G.length,he,nt,ht;for(le instanceof Date||(le=new Date(+le));++ze<se;)G.charCodeAt(ze)===37&&(z.push(G.slice(Te,ze)),(nt=V5[he=G.charAt(++ze)])!=null?he=G.charAt(++ze):nt=he==="e"?" ":"0",(ht=Q[he])&&(he=ht(le,nt)),z.push(he),Te=ze+1);return z.push(G.slice(Te,ze)),z.join("")}}function O(G,Q){return function(le){var z=Fc(1900,void 0,1),ze=T(z,G,le+="",0),Te,se;if(ze!=le.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(Q&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Te=iy(Fc(z.y,0,1)),se=Te.getUTCDay(),Te=se>4||se===0?$f.ceil(Te):$f(Te),Te=qf.offset(Te,(z.V-1)*7),z.y=Te.getUTCFullYear(),z.m=Te.getUTCMonth(),z.d=Te.getUTCDate()+(z.w+6)%7):(Te=ny(Fc(z.y,0,1)),se=Te.getDay(),Te=se>4||se===0?yf.ceil(Te):yf(Te),Te=hc.offset(Te,(z.V-1)*7),z.y=Te.getFullYear(),z.m=Te.getMonth(),z.d=Te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),se="Z"in z?iy(Fc(z.y,0,1)).getUTCDay():ny(Fc(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(se+5)%7:z.w+z.U*7-(se+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,iy(z)):ny(z)}}function T(G,Q,le,z){for(var ze=0,Te=Q.length,se=le.length,he,nt;ze<Te;){if(z>=se)return-1;if(he=Q.charCodeAt(ze++),he===37){if(he=Q.charAt(ze++),nt=$[he in V5?Q.charAt(ze++):he],!nt||(z=nt(G,le,z))<0)return-1}else if(he!=le.charCodeAt(z++))return-1}return z}function D(G,Q,le){var z=c.exec(Q.slice(le));return z?(G.p=u.get(z[0].toLowerCase()),le+z[0].length):-1}function L(G,Q,le){var z=h.exec(Q.slice(le));return z?(G.w=p.get(z[0].toLowerCase()),le+z[0].length):-1}function I(G,Q,le){var z=f.exec(Q.slice(le));return z?(G.w=d.get(z[0].toLowerCase()),le+z[0].length):-1}function E(G,Q,le){var z=v.exec(Q.slice(le));return z?(G.m=b.get(z[0].toLowerCase()),le+z[0].length):-1}function _(G,Q,le){var z=g.exec(Q.slice(le));return z?(G.m=m.get(z[0].toLowerCase()),le+z[0].length):-1}function S(G,Q,le){return T(G,t,Q,le)}function C(G,Q,le){return T(G,r,Q,le)}function x(G,Q,le){return T(G,n,Q,le)}function P(G){return a[G.getDay()]}function A(G){return o[G.getDay()]}function N(G){return l[G.getMonth()]}function H(G){return s[G.getMonth()]}function U(G){return i[+(G.getHours()>=12)]}function ae(G){return 1+~~(G.getMonth()/3)}function te(G){return a[G.getUTCDay()]}function pe(G){return o[G.getUTCDay()]}function Se(G){return l[G.getUTCMonth()]}function Ge(G){return s[G.getUTCMonth()]}function Y(G){return i[+(G.getUTCHours()>=12)]}function de(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var Q=k(G+="",y);return Q.toString=function(){return G},Q},parse:function(G){var Q=O(G+="",!1);return Q.toString=function(){return G},Q},utcFormat:function(G){var Q=k(G+="",w);return Q.toString=function(){return G},Q},utcParse:function(G){var Q=O(G+="",!0);return Q.toString=function(){return G},Q}}}var V5={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,Yde=/^%/,Jde=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function Xde(e){return e.replace(Jde,"\\$&")}function jc(e){return new RegExp("^(?:"+e.map(Xde).join("|")+")","i")}function Bc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Qde(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Zde(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ehe(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function the(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rhe(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function W5(e,t,r){var n=Wt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function K5(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nhe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ihe(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ohe(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function G5(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ahe(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function q5(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function she(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lhe(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function che(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uhe(e,t,r){var n=Wt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fhe(e,t,r){var n=Yde.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function dhe(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hhe(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Y5(e,t){return Ae(e.getDate(),t,2)}function phe(e,t){return Ae(e.getHours(),t,2)}function ghe(e,t){return Ae(e.getHours()%12||12,t,2)}function mhe(e,t){return Ae(1+hc.count(bi(e),e),t,3)}function O9(e,t){return Ae(e.getMilliseconds(),t,3)}function vhe(e,t){return O9(e,t)+"000"}function bhe(e,t){return Ae(e.getMonth()+1,t,2)}function yhe(e,t){return Ae(e.getMinutes(),t,2)}function $he(e,t){return Ae(e.getSeconds(),t,2)}function whe(e){var t=e.getDay();return t===0?7:t}function xhe(e,t){return Ae(Jl.count(bi(e)-1,e),t,2)}function T9(e){var t=e.getDay();return t>=4||t===0?cs(e):cs.ceil(e)}function She(e,t){return e=T9(e),Ae(cs.count(bi(e),e)+(bi(e).getDay()===4),t,2)}function khe(e){return e.getDay()}function Ohe(e,t){return Ae(yf.count(bi(e)-1,e),t,2)}function The(e,t){return Ae(e.getFullYear()%100,t,2)}function Che(e,t){return e=T9(e),Ae(e.getFullYear()%100,t,2)}function Ehe(e,t){return Ae(e.getFullYear()%1e4,t,4)}function Mhe(e,t){var r=e.getDay();return e=r>=4||r===0?cs(e):cs.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function Ahe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function J5(e,t){return Ae(e.getUTCDate(),t,2)}function Ihe(e,t){return Ae(e.getUTCHours(),t,2)}function Phe(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function _he(e,t){return Ae(1+qf.count(yi(e),e),t,3)}function C9(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function Dhe(e,t){return C9(e,t)+"000"}function Lhe(e,t){return Ae(e.getUTCMonth()+1,t,2)}function Nhe(e,t){return Ae(e.getUTCMinutes(),t,2)}function Rhe(e,t){return Ae(e.getUTCSeconds(),t,2)}function Fhe(e){var t=e.getUTCDay();return t===0?7:t}function jhe(e,t){return Ae(Xl.count(yi(e)-1,e),t,2)}function E9(e){var t=e.getUTCDay();return t>=4||t===0?us(e):us.ceil(e)}function Bhe(e,t){return e=E9(e),Ae(us.count(yi(e),e)+(yi(e).getUTCDay()===4),t,2)}function zhe(e){return e.getUTCDay()}function Hhe(e,t){return Ae($f.count(yi(e)-1,e),t,2)}function Uhe(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function Vhe(e,t){return e=E9(e),Ae(e.getUTCFullYear()%100,t,2)}function Whe(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function Khe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?us(e):us.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function Ghe(){return"+0000"}function X5(){return"%"}function Q5(e){return+e}function Z5(e){return Math.floor(+e/1e3)}var qs,M9,A9;qhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qhe(e){return qs=qde(e),M9=qs.format,qs.parse,A9=qs.utcFormat,qs.utcParse,qs}function Yhe(e){return new Date(e)}function Jhe(e){return e instanceof Date?+e:+new Date(+e)}function Lk(e,t,r,n,i,o,a,s,l,c){var u=n9(),f=u.invert,d=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),b=c("%b %d"),y=c("%B"),w=c("%Y");function $(k){return(l(k)<k?h:s(k)<k?p:a(k)<k?g:o(k)<k?m:n(k)<k?i(k)<k?v:b:r(k)<k?y:w)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?d(Array.from(k,Jhe)):d().map(Yhe)},u.ticks=function(k){var O=d();return e(O[0],O[O.length-1],k??10)},u.tickFormat=function(k,O){return O==null?$:c(O)},u.nice=function(k){var O=d();return(!k||typeof k.range!="function")&&(k=t(O[0],O[O.length-1],k??10)),k?d(a9(O,k)):u},u.copy=function(){return Kf(u,Lk(e,t,r,n,i,o,a,s,l,c))},u}function Xhe(){return Ti.apply(Lk(Kde,Gde,bi,Dl,Jl,hc,xv,$v,qi,M9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qhe(){return Ti.apply(Lk(Vde,Wde,yi,Ll,Xl,qf,Sv,wv,qi,A9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ov(){var e=0,t=.5,r=1,n=1,i,o,a,s,l,c=hn,u,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-o)*(n*g<n*o?s:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=u(e=+e),o=u(t=+t),a=u(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(m){var v,b,y;return arguments.length?([v,b,y]=m,c=V7(g,[v,b,y]),h):[c(0),c(.5),c(1)]}}return h.range=p(Wf),h.rangeRound=p(kk),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,i=g(e),o=g(t),a=g(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,h}}function I9(){var e=Gf(Ov()(hn));return e.copy=function(){return kv(e,I9())},bv.apply(e,arguments)}function P9(){var e=s9(Ov()).domain([.1,1,10]);return e.copy=function(){return kv(e,P9()).base(e.base())},bv.apply(e,arguments)}function _9(){var e=c9(Ov());return e.copy=function(){return kv(e,_9()).constant(e.constant())},bv.apply(e,arguments)}function D9(){var e=f9(Ov());return e.copy=function(){return kv(e,D9()).exponent(e.exponent())},bv.apply(e,arguments)}function $e(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const Zhe=$e("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),epe=$e("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),tpe=$e("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),rpe=$e("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),npe=$e("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ipe=$e("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ope=$e("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ape=$e("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),spe=$e("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),lpe=$e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),We=e=>Due(e[e.length-1]);var L9=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map($e);const N9=We(L9);var R9=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map($e);const F9=We(R9);var j9=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map($e);const B9=We(j9);var z9=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map($e);const H9=We(z9);var f2=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map($e);const tm=We(f2);var U9=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map($e);const V9=We(U9);var d2=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map($e);const rm=We(d2);var W9=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map($e);const K9=We(W9);var G9=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map($e);const q9=We(G9);var Y9=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map($e);const J9=We(Y9);var X9=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map($e);const Q9=We(X9);var Z9=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map($e);const eF=We(Z9);var tF=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map($e);const rF=We(tF);var nF=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map($e);const iF=We(nF);var oF=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map($e);const aF=We(oF);var sF=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map($e);const lF=We(sF);var cF=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map($e);const uF=We(cF);var fF=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map($e);const dF=We(fF);var hF=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map($e);const pF=We(hF);var gF=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map($e);const mF=We(gF);var vF=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map($e);const bF=We(vF);var yF=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map($e);const $F=We(yF);var wF=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map($e);const xF=We(wF);var SF=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map($e);const kF=We(SF);var OF=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map($e);const TF=We(OF);var CF=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map($e);const EF=We(CF);var MF=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map($e);const AF=We(MF);function IF(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const PF=Ok(mi(300,.5,0),mi(-240,.5,1));var _F=Ok(mi(-100,.75,.35),mi(80,1.5,.8)),DF=Ok(mi(260,.75,.35),mi(80,1.5,.8)),Qd=mi();function LF(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Qd.h=360*e-100,Qd.s=1.5-1.5*t,Qd.l=.8-.9*t,Qd+""}var Zd=gf(),cpe=Math.PI/3,upe=Math.PI*2/3;function NF(e){var t;return e=(.5-e)*Math.PI,Zd.r=255*(t=Math.sin(e))*t,Zd.g=255*(t=Math.sin(e+cpe))*t,Zd.b=255*(t=Math.sin(e+upe))*t,Zd+""}function RF(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Tv(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const FF=Tv($e("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var jF=Tv($e("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),BF=Tv($e("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),zF=Tv($e("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const HF=Math.cos,Nk=Math.min,nm=Math.sin,Et=Math.sqrt,im=Math.PI,Cv=2*im,fpe=Et(3),UF={draw(e,t){const r=Et(t+Nk(t/28,.75))*.59436,n=r/2,i=n*fpe;e.moveTo(0,r),e.lineTo(0,-r),e.moveTo(-i,-n),e.lineTo(i,n),e.moveTo(-i,n),e.lineTo(i,-n)}},Rk={draw(e,t){const r=Et(t/im);e.moveTo(r,0),e.arc(0,0,r,0,Cv)}},VF={draw(e,t){const r=Et(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},WF=Et(1/3),dpe=WF*2,KF={draw(e,t){const r=Et(t/dpe),n=r*WF;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},GF={draw(e,t){const r=Et(t)*.62625;e.moveTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.lineTo(-r,0),e.closePath()}},qF={draw(e,t){const r=Et(t-Nk(t/7,2))*.87559;e.moveTo(-r,0),e.lineTo(r,0),e.moveTo(0,r),e.lineTo(0,-r)}},YF={draw(e,t){const r=Et(t),n=-r/2;e.rect(n,n,r,r)}},JF={draw(e,t){const r=Et(t)*.4431;e.moveTo(r,r),e.lineTo(r,-r),e.lineTo(-r,-r),e.lineTo(-r,r),e.closePath()}},hpe=.8908130915292852,XF=nm(im/10)/nm(7*im/10),ppe=nm(Cv/10)*XF,gpe=-HF(Cv/10)*XF,QF={draw(e,t){const r=Et(t*hpe),n=ppe*r,i=gpe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const a=Cv*o/5,s=HF(a),l=nm(a);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},oy=Et(3),ZF={draw(e,t){const r=-Et(t/(oy*3));e.moveTo(0,r*2),e.lineTo(-oy*r,-r),e.lineTo(oy*r,-r),e.closePath()}},mpe=Et(3),ej={draw(e,t){const r=Et(t)*.6824,n=r/2,i=r*mpe/2;e.moveTo(0,-r),e.lineTo(i,n),e.lineTo(-i,n),e.closePath()}},an=-.5,sn=Et(3)/2,h2=1/Et(12),vpe=(h2/2+1)*3,tj={draw(e,t){const r=Et(t/vpe),n=r/2,i=r*h2,o=n,a=r*h2+r,s=-o,l=a;e.moveTo(n,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(an*n-sn*i,sn*n+an*i),e.lineTo(an*o-sn*a,sn*o+an*a),e.lineTo(an*s-sn*l,sn*s+an*l),e.lineTo(an*n+sn*i,an*i-sn*n),e.lineTo(an*o+sn*a,an*a-sn*o),e.lineTo(an*s+sn*l,an*l-sn*s),e.closePath()}},rj={draw(e,t){const r=Et(t-Nk(t/6,1.7))*.6189;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r)}},bpe=[Rk,VF,KF,YF,QF,ZF,tj],ype=[Rk,qF,rj,ej,UF,JF,GF];function vu(e,t,r){this.k=e,this.x=t,this.y=r}vu.prototype={constructor:vu,scale:function(e){return e===1?this:new vu(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new vu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};vu.prototype;function $pe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function fs(){fs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(E,_,S){E[_]=S.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(E,_,S){return Object.defineProperty(E,_,{value:S,enumerable:!0,configurable:!0,writable:!0}),E[_]}try{l({},"")}catch{l=function(_,S,C){return _[S]=C}}function c(E,_,S,C){var x=_&&_.prototype instanceof d?_:d,P=Object.create(x.prototype),A=new D(C||[]);return n(P,"_invoke",{value:$(E,S,A)}),P}function u(E,_,S){try{return{type:"normal",arg:E.call(_,S)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var g={};l(g,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(g=v);var b=p.prototype=d.prototype=Object.create(g);function y(E){["next","throw","return"].forEach(function(_){l(E,_,function(S){return this._invoke(_,S)})})}function w(E,_){function S(x,P,A,N){var H=u(E[x],E,P);if(H.type!=="throw"){var U=H.arg,ae=U.value;return ae&&typeof ae=="object"&&r.call(ae,"__await")?_.resolve(ae.__await).then(function(te){S("next",te,A,N)},function(te){S("throw",te,A,N)}):_.resolve(ae).then(function(te){U.value=te,A(U)},function(te){return S("throw",te,A,N)})}N(H.arg)}var C;n(this,"_invoke",{value:function(x,P){function A(){return new _(function(N,H){S(x,P,N,H)})}return C=C?C.then(A,A):A()}})}function $(E,_,S){var C="suspendedStart";return function(x,P){if(C==="executing")throw new Error("Generator is already running");if(C==="completed"){if(x==="throw")throw P;return I()}for(S.method=x,S.arg=P;;){var A=S.delegate;if(A){var N=k(A,S);if(N){if(N===f)continue;return N}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(C==="suspendedStart")throw C="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);C="executing";var H=u(E,_,S);if(H.type==="normal"){if(C=S.done?"completed":"suspendedYield",H.arg===f)continue;return{value:H.arg,done:S.done}}H.type==="throw"&&(C="completed",S.method="throw",S.arg=H.arg)}}}function k(E,_){var S=_.method,C=E.iterator[S];if(C===void 0)return _.delegate=null,S==="throw"&&E.iterator.return&&(_.method="return",_.arg=void 0,k(E,_),_.method==="throw")||S!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+S+"' method")),f;var x=u(C,E.iterator,_.arg);if(x.type==="throw")return _.method="throw",_.arg=x.arg,_.delegate=null,f;var P=x.arg;return P?P.done?(_[E.resultName]=P.value,_.next=E.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,f):P:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,f)}function O(E){var _={tryLoc:E[0]};1 in E&&(_.catchLoc=E[1]),2 in E&&(_.finallyLoc=E[2],_.afterLoc=E[3]),this.tryEntries.push(_)}function T(E){var _=E.completion||{};_.type="normal",delete _.arg,E.completion=_}function D(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(O,this),this.reset(!0)}function L(E){if(E){var _=E[o];if(_)return _.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var S=-1,C=function x(){for(;++S<E.length;)if(r.call(E,S))return x.value=E[S],x.done=!1,x;return x.value=void 0,x.done=!0,x};return C.next=C}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(E){var _=typeof E=="function"&&E.constructor;return!!_&&(_===h||(_.displayName||_.name)==="GeneratorFunction")},e.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,p):(E.__proto__=p,l(E,s,"GeneratorFunction")),E.prototype=Object.create(b),E},e.awrap=function(E){return{__await:E}},y(w.prototype),l(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(E,_,S,C,x){x===void 0&&(x=Promise);var P=new w(c(E,_,S,C),x);return e.isGeneratorFunction(_)?P:P.next().then(function(A){return A.done?A.value:P.next()})},y(b),l(b,s,"Generator"),l(b,o,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(E){var _=Object(E),S=[];for(var C in _)S.push(C);return S.reverse(),function x(){for(;S.length;){var P=S.pop();if(P in _)return x.value=P,x.done=!1,x}return x.done=!0,x}},e.values=L,D.prototype={constructor:D,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!E)for(var _ in this)_.charAt(0)==="t"&&r.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var E=this.tryEntries[0].completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var _=this;function S(H,U){return P.type="throw",P.arg=E,_.next=H,U&&(_.method="next",_.arg=void 0),!!U}for(var C=this.tryEntries.length-1;C>=0;--C){var x=this.tryEntries[C],P=x.completion;if(x.tryLoc==="root")return S("end");if(x.tryLoc<=this.prev){var A=r.call(x,"catchLoc"),N=r.call(x,"finallyLoc");if(A&&N){if(this.prev<x.catchLoc)return S(x.catchLoc,!0);if(this.prev<x.finallyLoc)return S(x.finallyLoc)}else if(A){if(this.prev<x.catchLoc)return S(x.catchLoc,!0)}else{if(!N)throw new Error("try statement without catch or finally");if(this.prev<x.finallyLoc)return S(x.finallyLoc)}}}},abrupt:function(E,_){for(var S=this.tryEntries.length-1;S>=0;--S){var C=this.tryEntries[S];if(C.tryLoc<=this.prev&&r.call(C,"finallyLoc")&&this.prev<C.finallyLoc){var x=C;break}}x&&(E==="break"||E==="continue")&&x.tryLoc<=_&&_<=x.finallyLoc&&(x=null);var P=x?x.completion:{};return P.type=E,P.arg=_,x?(this.method="next",this.next=x.finallyLoc,f):this.complete(P)},complete:function(E,_){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&_&&(this.next=_),f},finish:function(E){for(var _=this.tryEntries.length-1;_>=0;--_){var S=this.tryEntries[_];if(S.finallyLoc===E)return this.complete(S.completion,S.afterLoc),T(S),f}},catch:function(E){for(var _=this.tryEntries.length-1;_>=0;--_){var S=this.tryEntries[_];if(S.tryLoc===E){var C=S.completion;if(C.type==="throw"){var x=C.arg;T(S)}return x}}throw new Error("illegal catch attempt")},delegateYield:function(E,_,S){return this.delegate={iterator:L(E),resultName:_,nextLoc:S},this.method==="next"&&(this.arg=void 0),f}},e}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oj(n.key),n)}}function fr(e,t,r){return t&&wpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xpe(e,t,r){return t=oj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nj(e,t){return kpe(e)||$pe(e,t)||ij(e,t)||Cpe()}function p2(e){return Spe(e)||Ope(e)||ij(e)||Tpe()}function Spe(e){if(Array.isArray(e))return g2(e)}function kpe(e){if(Array.isArray(e))return e}function Ope(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ij(e,t){if(e){if(typeof e=="string")return g2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g2(e,t)}}function g2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function oj(e){var t=Epe(e,"string");return typeof t=="symbol"?t:String(t)}var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zc=function(e){return e&&e.Math===Math&&e},ct=zc(typeof globalThis=="object"&&globalThis)||zc(typeof window=="object"&&window)||zc(typeof self=="object"&&self)||zc(typeof jt=="object"&&jt)||zc(typeof jt=="object"&&jt)||(function(){return this})()||Function("return this")(),aj={exports:{}},eA=ct,Mpe=Object.defineProperty,Fk=function(e,t){try{Mpe(eA,e,{value:t,configurable:!0,writable:!0})}catch{eA[e]=t}return t},Ape=ct,Ipe=Fk,tA="__core-js_shared__",Ppe=Ape[tA]||Ipe(tA,{}),jk=Ppe,rA=jk;(aj.exports=function(e,t){return rA[e]||(rA[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Bk=aj.exports,De=function(e){try{return!!e()}catch{return!0}},_pe=De,Ev=!_pe(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),sj=Ev,lj=Function.prototype,m2=lj.call,Dpe=sj&&lj.bind.bind(m2,m2),Be=sj?Dpe:function(e){return function(){return m2.apply(e,arguments)}},fa=function(e){return e==null},Lpe=fa,Npe=TypeError,Es=function(e){if(Lpe(e))throw new Npe("Can't call method on "+e);return e},Rpe=Es,Fpe=Object,Ci=function(e){return Fpe(Rpe(e))},jpe=Be,Bpe=Ci,zpe=jpe({}.hasOwnProperty),wn=Object.hasOwn||function(t,r){return zpe(Bpe(t),r)},Hpe=Be,Upe=0,Vpe=Math.random(),Wpe=Hpe(1 .toString),zk=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Wpe(++Upe+Vpe,36)},Ms=typeof navigator<"u"&&String(navigator.userAgent)||"",cj=ct,ay=Ms,nA=cj.process,iA=cj.Deno,oA=nA&&nA.versions||iA&&iA.version,aA=oA&&oA.v8,In,om;aA&&(In=aA.split("."),om=In[0]>0&&In[0]<4?1:+(In[0]+In[1]));!om&&ay&&(In=ay.match(/Edge\/(\d+)/),(!In||In[1]>=74)&&(In=ay.match(/Chrome\/(\d+)/),In&&(om=+In[1])));var Yf=om,sA=Yf,Kpe=De,Gpe=ct,qpe=Gpe.String,uj=!!Object.getOwnPropertySymbols&&!Kpe(function(){var e=Symbol("symbol detection");return!qpe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&sA&&sA<41}),Ype=uj,fj=Ype&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Jpe=ct,Xpe=Bk,lA=wn,Qpe=zk,Zpe=uj,ege=fj,bl=Jpe.Symbol,sy=Xpe("wks"),tge=ege?bl.for||bl:bl&&bl.withoutSetter||Qpe,ut=function(e){return lA(sy,e)||(sy[e]=Zpe&&lA(bl,e)?bl[e]:tge("Symbol."+e)),sy[e]},rge=ut,nge=rge("toStringTag"),dj={};dj[nge]="z";var Hk=String(dj)==="[object z]",v2=typeof document=="object"&&document.all,ige=typeof v2>"u"&&v2!==void 0,hj={all:v2,IS_HTMLDDA:ige},pj=hj,oge=pj.all,et=pj.IS_HTMLDDA?function(e){return typeof e=="function"||e===oge}:function(e){return typeof e=="function"},Vn={},age=De,Fr=!age(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),cA=et,gj=hj,sge=gj.all,Jt=gj.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:cA(e)||e===sge}:function(e){return typeof e=="object"?e!==null:cA(e)},lge=ct,uA=Jt,b2=lge.document,cge=uA(b2)&&uA(b2.createElement),Mv=function(e){return cge?b2.createElement(e):{}},uge=Fr,fge=De,dge=Mv,mj=!uge&&!fge(function(){return Object.defineProperty(dge("div"),"a",{get:function(){return 7}}).a!==7}),hge=Fr,pge=De,vj=hge&&pge(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),gge=Jt,mge=String,vge=TypeError,br=function(e){if(gge(e))return e;throw new vge(mge(e)+" is not an object")},bge=Ev,eh=Function.prototype.call,Xt=bge?eh.bind(eh):function(){return eh.apply(eh,arguments)},ly=ct,yge=et,$ge=function(e){return yge(e)?e:void 0},As=function(e,t){return arguments.length<2?$ge(ly[e]):ly[e]&&ly[e][t]},wge=Be,Uk=wge({}.isPrototypeOf),xge=As,Sge=et,kge=Uk,Oge=fj,Tge=Object,bj=Oge?function(e){return typeof e=="symbol"}:function(e){var t=xge("Symbol");return Sge(t)&&kge(t.prototype,Tge(e))},Cge=String,Jf=function(e){try{return Cge(e)}catch{return"Object"}},Ege=et,Mge=Jf,Age=TypeError,Ei=function(e){if(Ege(e))return e;throw new Age(Mge(e)+" is not a function")},Ige=Ei,Pge=fa,Av=function(e,t){var r=e[t];return Pge(r)?void 0:Ige(r)},cy=Xt,uy=et,fy=Jt,_ge=TypeError,Dge=function(e,t){var r,n;if(t==="string"&&uy(r=e.toString)&&!fy(n=cy(r,e))||uy(r=e.valueOf)&&!fy(n=cy(r,e))||t!=="string"&&uy(r=e.toString)&&!fy(n=cy(r,e)))return n;throw new _ge("Can't convert object to primitive value")},Lge=Xt,fA=Jt,dA=bj,Nge=Av,Rge=Dge,Fge=ut,jge=TypeError,Bge=Fge("toPrimitive"),zge=function(e,t){if(!fA(e)||dA(e))return e;var r=Nge(e,Bge),n;if(r){if(t===void 0&&(t="default"),n=Lge(r,e,t),!fA(n)||dA(n))return n;throw new jge("Can't convert object to primitive value")}return t===void 0&&(t="number"),Rge(e,t)},Hge=zge,Uge=bj,Vk=function(e){var t=Hge(e,"string");return Uge(t)?t:t+""},Vge=Fr,Wge=mj,Kge=vj,th=br,hA=Vk,Gge=TypeError,dy=Object.defineProperty,qge=Object.getOwnPropertyDescriptor,hy="enumerable",py="configurable",gy="writable";Vn.f=Vge?Kge?function(t,r,n){if(th(t),r=hA(r),th(n),typeof t=="function"&&r==="prototype"&&"value"in n&&gy in n&&!n[gy]){var i=qge(t,r);i&&i[gy]&&(t[r]=n.value,n={configurable:py in n?n[py]:i[py],enumerable:hy in n?n[hy]:i[hy],writable:!1})}return dy(t,r,n)}:dy:function(t,r,n){if(th(t),r=hA(r),th(n),Wge)try{return dy(t,r,n)}catch{}if("get"in n||"set"in n)throw new Gge("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var yj={exports:{}},y2=Fr,Yge=wn,$j=Function.prototype,Jge=y2&&Object.getOwnPropertyDescriptor,Wk=Yge($j,"name"),Xge=Wk&&(function(){}).name==="something",Qge=Wk&&(!y2||y2&&Jge($j,"name").configurable),Iv={EXISTS:Wk,PROPER:Xge,CONFIGURABLE:Qge},Zge=Be,eme=et,$2=jk,tme=Zge(Function.toString);eme($2.inspectSource)||($2.inspectSource=function(e){return tme(e)});var Kk=$2.inspectSource,rme=ct,nme=et,pA=rme.WeakMap,ime=nme(pA)&&/native code/.test(String(pA)),Pv=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},ome=Fr,ame=Vn,sme=Pv,pc=ome?function(e,t,r){return ame.f(e,t,sme(1,r))}:function(e,t,r){return e[t]=r,e},lme=Bk,cme=zk,gA=lme("keys"),Gk=function(e){return gA[e]||(gA[e]=cme(e))},_v={},ume=ime,wj=ct,fme=Jt,dme=pc,my=wn,vy=jk,hme=Gk,pme=_v,mA="Object already initialized",w2=wj.TypeError,gme=wj.WeakMap,am,wf,sm,mme=function(e){return sm(e)?wf(e):am(e,{})},vme=function(e){return function(t){var r;if(!fme(t)||(r=wf(t)).type!==e)throw new w2("Incompatible receiver, "+e+" required");return r}};if(ume||vy.state){var Jn=vy.state||(vy.state=new gme);Jn.get=Jn.get,Jn.has=Jn.has,Jn.set=Jn.set,am=function(e,t){if(Jn.has(e))throw new w2(mA);return t.facade=e,Jn.set(e,t),t},wf=function(e){return Jn.get(e)||{}},sm=function(e){return Jn.has(e)}}else{var Ys=hme("state");pme[Ys]=!0,am=function(e,t){if(my(e,Ys))throw new w2(mA);return t.facade=e,dme(e,Ys,t),t},wf=function(e){return my(e,Ys)?e[Ys]:{}},sm=function(e){return my(e,Ys)}}var Is={set:am,get:wf,has:sm,enforce:mme,getterFor:vme},qk=Be,bme=De,yme=et,rh=wn,x2=Fr,$me=Iv.CONFIGURABLE,wme=Kk,xj=Is,xme=xj.enforce,Sme=xj.get,vA=String,fp=Object.defineProperty,kme=qk("".slice),Ome=qk("".replace),Tme=qk([].join),Cme=x2&&!bme(function(){return fp(function(){},"length",{value:8}).length!==8}),Eme=String(String).split("String"),Mme=yj.exports=function(e,t,r){kme(vA(t),0,7)==="Symbol("&&(t="["+Ome(vA(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!rh(e,"name")||$me&&e.name!==t)&&(x2?fp(e,"name",{value:t,configurable:!0}):e.name=t),Cme&&r&&rh(r,"arity")&&e.length!==r.arity&&fp(e,"length",{value:r.arity});try{r&&rh(r,"constructor")&&r.constructor?x2&&fp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=xme(e);return rh(n,"source")||(n.source=Tme(Eme,typeof t=="string"?t:"")),e};Function.prototype.toString=Mme(function(){return yme(this)&&Sme(this).source||wme(this)},"toString");var Sj=yj.exports,Ame=et,Ime=Vn,Pme=Sj,_me=Fk,ho=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(Ame(r)&&Pme(r,o,n),n.global)i?e[t]=r:_me(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:Ime.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},kj=Be,Dme=kj({}.toString),Lme=kj("".slice),po=function(e){return Lme(Dme(e),8,-1)},Nme=Hk,Rme=et,dp=po,Fme=ut,jme=Fme("toStringTag"),Bme=Object,zme=dp((function(){return arguments})())==="Arguments",Hme=function(e,t){try{return e[t]}catch{}},Dv=Nme?dp:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=Hme(t=Bme(e),jme))=="string"?r:zme?dp(t):(n=dp(t))==="Object"&&Rme(t.callee)?"Arguments":n},Ume=Hk,Vme=Dv,Wme=Ume?{}.toString:function(){return"[object "+Vme(this)+"]"},Kme=Hk,Gme=ho,qme=Wme;Kme||Gme(Object.prototype,"toString",qme,{unsafe:!0});var Xf={},Lv={},Oj={}.propertyIsEnumerable,Tj=Object.getOwnPropertyDescriptor,Yme=Tj&&!Oj.call({1:2},1);Lv.f=Yme?function(t){var r=Tj(this,t);return!!r&&r.enumerable}:Oj;var Jme=Be,Xme=De,Qme=po,by=Object,Zme=Jme("".split),Nv=Xme(function(){return!by("z").propertyIsEnumerable(0)})?function(e){return Qme(e)==="String"?Zme(e,""):by(e)}:by,eve=Nv,tve=Es,go=function(e){return eve(tve(e))},rve=Fr,nve=Xt,ive=Lv,ove=Pv,ave=go,sve=Vk,lve=wn,cve=mj,bA=Object.getOwnPropertyDescriptor;Xf.f=rve?bA:function(t,r){if(t=ave(t),r=sve(r),cve)try{return bA(t,r)}catch{}if(lve(t,r))return ove(!nve(ive.f,t,r),t[r])};var Rv={},uve=Math.ceil,fve=Math.floor,dve=Math.trunc||function(t){var r=+t;return(r>0?fve:uve)(r)},hve=dve,Fv=function(e){var t=+e;return t!==t||t===0?0:hve(t)},pve=Fv,gve=Math.max,mve=Math.min,jv=function(e,t){var r=pve(e);return r<0?gve(r+t,0):mve(r,t)},vve=Fv,bve=Math.min,Yk=function(e){return e>0?bve(vve(e),9007199254740991):0},yve=Yk,mo=function(e){return yve(e.length)},$ve=go,wve=jv,xve=mo,yA=function(e){return function(t,r,n){var i=$ve(t),o=xve(i),a=wve(n,o),s;if(e&&r!==r){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},Cj={includes:yA(!0),indexOf:yA(!1)},Sve=Be,yy=wn,kve=go,Ove=Cj.indexOf,Tve=_v,$A=Sve([].push),Ej=function(e,t){var r=kve(e),n=0,i=[],o;for(o in r)!yy(Tve,o)&&yy(r,o)&&$A(i,o);for(;t.length>n;)yy(r,o=t[n++])&&(~Ove(i,o)||$A(i,o));return i},Jk=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Cve=Ej,Eve=Jk,Mve=Eve.concat("length","prototype");Rv.f=Object.getOwnPropertyNames||function(t){return Cve(t,Mve)};var Xk={};Xk.f=Object.getOwnPropertySymbols;var Ave=As,Ive=Be,Pve=Rv,_ve=Xk,Dve=br,Lve=Ive([].concat),Nve=Ave("Reflect","ownKeys")||function(t){var r=Pve.f(Dve(t)),n=_ve.f;return n?Lve(r,n(t)):r},wA=wn,Rve=Nve,Fve=Xf,jve=Vn,Bve=function(e,t,r){for(var n=Rve(t),i=jve.f,o=Fve.f,a=0;a<n.length;a++){var s=n[a];!wA(e,s)&&!(r&&wA(r,s))&&i(e,s,o(t,s))}},zve=De,Hve=et,Uve=/#|\.prototype\./,Qf=function(e,t){var r=Wve[Vve(e)];return r===Gve?!0:r===Kve?!1:Hve(t)?zve(t):!!t},Vve=Qf.normalize=function(e){return String(e).replace(Uve,".").toLowerCase()},Wve=Qf.data={},Kve=Qf.NATIVE="N",Gve=Qf.POLYFILL="P",Qk=Qf,$y=ct,qve=Xf.f,Yve=pc,Jve=ho,Xve=Fk,Qve=Bve,Zve=Qk,Ke=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,s,l,c,u;if(n?a=$y:i?a=$y[r]||Xve(r,{}):a=($y[r]||{}).prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=qve(a,s),l=u&&u.value):l=a[s],o=Zve(n?s:r+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;Qve(c,l)}(e.sham||l&&l.sham)&&Yve(c,"sham",!0),Jve(a,s,c,e)}},e0e=ct,t0e=po,Bv=t0e(e0e.process)==="process",r0e=Be,n0e=Ei,i0e=function(e,t,r){try{return r0e(n0e(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},o0e=et,a0e=String,s0e=TypeError,l0e=function(e){if(typeof e=="object"||o0e(e))return e;throw new s0e("Can't set "+a0e(e)+" as a prototype")},c0e=i0e,u0e=br,f0e=l0e,Zk=Object.setPrototypeOf||("__proto__"in{}?(function(){var e=!1,t={},r;try{r=c0e(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,o){return u0e(i),f0e(o),e?r(i,o):i.__proto__=o,i}})():void 0),d0e=Vn.f,h0e=wn,p0e=ut,xA=p0e("toStringTag"),Zf=function(e,t,r){e&&!r&&(e=e.prototype),e&&!h0e(e,xA)&&d0e(e,xA,{configurable:!0,value:t})},SA=Sj,g0e=Vn,eO=function(e,t,r){return r.get&&SA(r.get,t,{getter:!0}),r.set&&SA(r.set,t,{setter:!0}),g0e.f(e,t,r)},m0e=As,v0e=eO,b0e=ut,y0e=Fr,kA=b0e("species"),Mj=function(e){var t=m0e(e);y0e&&t&&!t[kA]&&v0e(t,kA,{configurable:!0,get:function(){return this}})},$0e=Uk,w0e=TypeError,zv=function(e,t){if($0e(t,e))return e;throw new w0e("Incorrect invocation")},x0e=Be,S0e=De,Aj=et,k0e=Dv,O0e=As,T0e=Kk,Ij=function(){},C0e=[],Pj=O0e("Reflect","construct"),tO=/^\s*(?:class|function)\b/,E0e=x0e(tO.exec),M0e=!tO.test(Ij),Hc=function(t){if(!Aj(t))return!1;try{return Pj(Ij,C0e,t),!0}catch{return!1}},_j=function(t){if(!Aj(t))return!1;switch(k0e(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return M0e||!!E0e(tO,T0e(t))}catch{return!0}};_j.sham=!0;var Hv=!Pj||S0e(function(){var e;return Hc(Hc.call)||!Hc(Object)||!Hc(function(){e=!0})||e})?_j:Hc,A0e=Hv,I0e=Jf,P0e=TypeError,_0e=function(e){if(A0e(e))return e;throw new P0e(I0e(e)+" is not a constructor")},OA=br,D0e=_0e,L0e=fa,N0e=ut,R0e=N0e("species"),F0e=function(e,t){var r=OA(e).constructor,n;return r===void 0||L0e(n=OA(r)[R0e])?t:D0e(n)},j0e=Ev,Dj=Function.prototype,TA=Dj.apply,CA=Dj.call,Lj=typeof Reflect=="object"&&Reflect.apply||(j0e?CA.bind(TA):function(){return CA.apply(TA,arguments)}),B0e=po,z0e=Be,rO=function(e){if(B0e(e)==="Function")return z0e(e)},EA=rO,H0e=Ei,U0e=Ev,V0e=EA(EA.bind),gc=function(e,t){return H0e(e),t===void 0?e:U0e?V0e(e,t):function(){return e.apply(t,arguments)}},W0e=As,Nj=W0e("document","documentElement"),K0e=Be,Rj=K0e([].slice),G0e=TypeError,q0e=function(e,t){if(e<t)throw new G0e("Not enough arguments");return e},Y0e=Ms,Fj=/(?:ipad|iphone|ipod).*applewebkit/i.test(Y0e),Wr=ct,J0e=Lj,X0e=gc,MA=et,Q0e=wn,jj=De,AA=Nj,Z0e=Rj,IA=Mv,ebe=q0e,tbe=Fj,rbe=Bv,S2=Wr.setImmediate,PA=Wr.clearImmediate,nbe=Wr.process,wy=Wr.Dispatch,ibe=Wr.Function,_A=Wr.MessageChannel,obe=Wr.String,xy=0,Ru={},DA="onreadystatechange",xf,Ta,Sy,ky;jj(function(){xf=Wr.location});var nO=function(e){if(Q0e(Ru,e)){var t=Ru[e];delete Ru[e],t()}},Oy=function(e){return function(){nO(e)}},LA=function(e){nO(e.data)},NA=function(e){Wr.postMessage(obe(e),xf.protocol+"//"+xf.host)};(!S2||!PA)&&(S2=function(t){ebe(arguments.length,1);var r=MA(t)?t:ibe(t),n=Z0e(arguments,1);return Ru[++xy]=function(){J0e(r,void 0,n)},Ta(xy),xy},PA=function(t){delete Ru[t]},rbe?Ta=function(e){nbe.nextTick(Oy(e))}:wy&&wy.now?Ta=function(e){wy.now(Oy(e))}:_A&&!tbe?(Sy=new _A,ky=Sy.port2,Sy.port1.onmessage=LA,Ta=X0e(ky.postMessage,ky)):Wr.addEventListener&&MA(Wr.postMessage)&&!Wr.importScripts&&xf&&xf.protocol!=="file:"&&!jj(NA)?(Ta=NA,Wr.addEventListener("message",LA,!1)):DA in IA("script")?Ta=function(e){AA.appendChild(IA("script"))[DA]=function(){AA.removeChild(this),nO(e)}}:Ta=function(e){setTimeout(Oy(e),0)});var Bj={set:S2},zj=function(){this.head=null,this.tail=null};zj.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var Hj=zj,abe=Ms,sbe=/ipad|iphone|ipod/i.test(abe)&&typeof Pebble<"u",lbe=Ms,cbe=/web0s(?!.*chrome)/i.test(lbe),ds=ct,RA=gc,ube=Xf.f,Ty=Bj.set,fbe=Hj,dbe=Fj,hbe=sbe,pbe=cbe,Cy=Bv,FA=ds.MutationObserver||ds.WebKitMutationObserver,jA=ds.document,BA=ds.process,nh=ds.Promise,zA=ube(ds,"queueMicrotask"),k2=zA&&zA.value,Js,Ey,My,ih,HA;if(!k2){var oh=new fbe,ah=function(){var e,t;for(Cy&&(e=BA.domain)&&e.exit();t=oh.get();)try{t()}catch(r){throw oh.head&&Js(),r}e&&e.enter()};!dbe&&!Cy&&!pbe&&FA&&jA?(Ey=!0,My=jA.createTextNode(""),new FA(ah).observe(My,{characterData:!0}),Js=function(){My.data=Ey=!Ey}):!hbe&&nh&&nh.resolve?(ih=nh.resolve(void 0),ih.constructor=nh,HA=RA(ih.then,ih),Js=function(){HA(ah)}):Cy?Js=function(){BA.nextTick(ah)}:(Ty=RA(Ty,ds),Js=function(){Ty(ah)}),k2=function(e){oh.head||Js(),oh.add(e)}}var gbe=k2,mbe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},Uv=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},vbe=ct,Vv=vbe.Promise,Uj=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",bbe=Uj,ybe=Bv,$be=!bbe&&!ybe&&typeof window=="object"&&typeof document=="object",wbe=ct,Fu=Vv,xbe=et,Sbe=Qk,kbe=Kk,Obe=ut,Tbe=$be,Cbe=Uj,Ay=Yf;Fu&&Fu.prototype;var Ebe=Obe("species"),O2=!1,Vj=xbe(wbe.PromiseRejectionEvent),Mbe=Sbe("Promise",function(){var e=kbe(Fu),t=e!==String(Fu);if(!t&&Ay===66)return!0;if(!Ay||Ay<51||!/native code/.test(e)){var r=new Fu(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[Ebe]=n,O2=r.then(function(){})instanceof n,!O2)return!0}return!t&&(Tbe||Cbe)&&!Vj}),ed={CONSTRUCTOR:Mbe,REJECTION_EVENT:Vj,SUBCLASSING:O2},Ps={},UA=Ei,Abe=TypeError,Ibe=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new Abe("Bad Promise constructor");t=n,r=i}),this.resolve=UA(t),this.reject=UA(r)};Ps.f=function(e){return new Ibe(e)};var Pbe=Ke,lm=Bv,ra=ct,Ql=Xt,VA=ho,WA=Zk,_be=Zf,Dbe=Mj,Lbe=Ei,hp=et,Nbe=Jt,Rbe=zv,Fbe=F0e,Wj=Bj.set,iO=gbe,jbe=mbe,Bbe=Uv,zbe=Hj,Kj=Is,cm=Vv,oO=ed,Gj=Ps,Wv="Promise",qj=oO.CONSTRUCTOR,Hbe=oO.REJECTION_EVENT,Ube=oO.SUBCLASSING,Iy=Kj.getterFor(Wv),Vbe=Kj.set,hl=cm&&cm.prototype,_a=cm,sh=hl,Yj=ra.TypeError,T2=ra.document,aO=ra.process,C2=Gj.f,Wbe=C2,Kbe=!!(T2&&T2.createEvent&&ra.dispatchEvent),Jj="unhandledrejection",Gbe="rejectionhandled",KA=0,Xj=1,qbe=2,sO=1,Qj=2,lh,GA,Ybe,qA,Zj=function(e){var t;return Nbe(e)&&hp(t=e.then)?t:!1},eB=function(e,t){var r=t.value,n=t.state===Xj,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,l,c,u;try{i?(n||(t.rejection===Qj&&Xbe(t),t.rejection=sO),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),u=!0)),l===e.promise?a(new Yj("Promise-chain cycle")):(c=Zj(l))?Ql(c,l,o,a):o(l)):a(r)}catch(f){s&&!u&&s.exit(),a(f)}},tB=function(e,t){e.notified||(e.notified=!0,iO(function(){for(var r=e.reactions,n;n=r.get();)eB(n,e);e.notified=!1,t&&!e.rejection&&Jbe(e)}))},rB=function(e,t,r){var n,i;Kbe?(n=T2.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),ra.dispatchEvent(n)):n={promise:t,reason:r},!Hbe&&(i=ra["on"+e])?i(n):e===Jj&&jbe("Unhandled promise rejection",r)},Jbe=function(e){Ql(Wj,ra,function(){var t=e.facade,r=e.value,n=YA(e),i;if(n&&(i=Bbe(function(){lm?aO.emit("unhandledRejection",r,t):rB(Jj,t,r)}),e.rejection=lm||YA(e)?Qj:sO,i.error))throw i.value})},YA=function(e){return e.rejection!==sO&&!e.parent},Xbe=function(e){Ql(Wj,ra,function(){var t=e.facade;lm?aO.emit("rejectionHandled",t):rB(Gbe,t,e.value)})},yl=function(e,t,r){return function(n){e(t,n,r)}},Nl=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=qbe,tB(e,!0))},E2=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new Yj("Promise can't be resolved itself");var n=Zj(t);n?iO(function(){var i={done:!1};try{Ql(n,t,yl(E2,i,e),yl(Nl,i,e))}catch(o){Nl(i,o,e)}}):(e.value=t,e.state=Xj,tB(e,!1))}catch(i){Nl({done:!1},i,e)}}};if(qj&&(_a=function(t){Rbe(this,sh),Lbe(t),Ql(lh,this);var r=Iy(this);try{t(yl(E2,r),yl(Nl,r))}catch(n){Nl(r,n)}},sh=_a.prototype,lh=function(t){Vbe(this,{type:Wv,done:!1,notified:!1,parent:!1,reactions:new zbe,rejection:!1,state:KA,value:void 0})},lh.prototype=VA(sh,"then",function(t,r){var n=Iy(this),i=C2(Fbe(this,_a));return n.parent=!0,i.ok=hp(t)?t:!0,i.fail=hp(r)&&r,i.domain=lm?aO.domain:void 0,n.state===KA?n.reactions.add(i):iO(function(){eB(i,n)}),i.promise}),GA=function(){var e=new lh,t=Iy(e);this.promise=e,this.resolve=yl(E2,t),this.reject=yl(Nl,t)},Gj.f=C2=function(e){return e===_a||e===Ybe?new GA(e):Wbe(e)},hp(cm)&&hl!==Object.prototype)){qA=hl.then,Ube||VA(hl,"then",function(t,r){var n=this;return new _a(function(i,o){Ql(qA,n,i,o)}).then(t,r)},{unsafe:!0});try{delete hl.constructor}catch{}WA&&WA(hl,sh)}Pbe({global:!0,constructor:!0,wrap:!0,forced:qj},{Promise:_a});_be(_a,Wv,!1);Dbe(Wv);var td={},Qbe=ut,Zbe=td,eye=Qbe("iterator"),tye=Array.prototype,nB=function(e){return e!==void 0&&(Zbe.Array===e||tye[eye]===e)},rye=Dv,JA=Av,nye=fa,iye=td,oye=ut,aye=oye("iterator"),lO=function(e){if(!nye(e))return JA(e,aye)||JA(e,"@@iterator")||iye[rye(e)]},sye=Xt,lye=Ei,cye=br,uye=Jf,fye=lO,dye=TypeError,iB=function(e,t){var r=arguments.length<2?fye(e):t;if(lye(r))return cye(sye(r,e));throw new dye(uye(e)+" is not iterable")},hye=Xt,XA=br,pye=Av,oB=function(e,t,r){var n,i;XA(e);try{if(n=pye(e,"return"),!n){if(t==="throw")throw r;return r}n=hye(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return XA(n),r},gye=gc,mye=Xt,vye=br,bye=Jf,yye=nB,$ye=mo,QA=Uk,wye=iB,xye=lO,ZA=oB,Sye=TypeError,pp=function(e,t){this.stopped=e,this.result=t},eI=pp.prototype,mc=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=gye(t,n),c,u,f,d,h,p,g,m=function(b){return c&&ZA(c,"normal",b),new pp(!0,b)},v=function(b){return i?(vye(b),s?l(b[0],b[1],m):l(b[0],b[1])):s?l(b,m):l(b)};if(o)c=e.iterator;else if(a)c=e;else{if(u=xye(e),!u)throw new Sye(bye(e)+" is not iterable");if(yye(u)){for(f=0,d=$ye(e);d>f;f++)if(h=v(e[f]),h&&QA(eI,h))return h;return new pp(!1)}c=wye(e,u)}for(p=o?e.next:c.next;!(g=mye(p,c)).done;){try{h=v(g.value)}catch(b){ZA(c,"throw",b)}if(typeof h=="object"&&h&&QA(eI,h))return h}return new pp(!1)},kye=ut,aB=kye("iterator"),sB=!1;try{var Oye=0,tI={next:function(){return{done:!!Oye++}},return:function(){sB=!0}};tI[aB]=function(){return this},Array.from(tI,function(){throw 2})}catch{}var cO=function(e,t){try{if(!t&&!sB)return!1}catch{return!1}var r=!1;try{var n={};n[aB]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},Tye=Vv,Cye=cO,Eye=ed.CONSTRUCTOR,uO=Eye||!Cye(function(e){Tye.all(e).then(void 0,function(){})}),Mye=Ke,Aye=Xt,Iye=Ei,Pye=Ps,_ye=Uv,Dye=mc,Lye=uO;Mye({target:"Promise",stat:!0,forced:Lye},{all:function(t){var r=this,n=Pye.f(r),i=n.resolve,o=n.reject,a=_ye(function(){var s=Iye(r.resolve),l=[],c=0,u=1;Dye(t,function(f){var d=c++,h=!1;u++,Aye(s,r,f).then(function(p){h||(h=!0,l[d]=p,--u||i(l))},o)}),--u||i(l)});return a.error&&o(a.value),n.promise}});var Nye=Ke,Rye=ed.CONSTRUCTOR,M2=Vv,Fye=As,jye=et,Bye=ho,rI=M2&&M2.prototype;Nye({target:"Promise",proto:!0,forced:Rye,real:!0},{catch:function(e){return this.then(void 0,e)}});if(jye(M2)){var nI=Fye("Promise").prototype.catch;rI.catch!==nI&&Bye(rI,"catch",nI,{unsafe:!0})}var zye=Ke,Hye=Xt,Uye=Ei,Vye=Ps,Wye=Uv,Kye=mc,Gye=uO;zye({target:"Promise",stat:!0,forced:Gye},{race:function(t){var r=this,n=Vye.f(r),i=n.reject,o=Wye(function(){var a=Uye(r.resolve);Kye(t,function(s){Hye(a,r,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var qye=Ke,Yye=Xt,Jye=Ps,Xye=ed.CONSTRUCTOR;qye({target:"Promise",stat:!0,forced:Xye},{reject:function(t){var r=Jye.f(this);return Yye(r.reject,void 0,t),r.promise}});var Qye=br,Zye=Jt,e1e=Ps,t1e=function(e,t){if(Qye(e),Zye(t)&&t.constructor===e)return t;var r=e1e.f(e),n=r.resolve;return n(t),r.promise},r1e=Ke,n1e=As,i1e=ed.CONSTRUCTOR,o1e=t1e;n1e("Promise");r1e({target:"Promise",stat:!0,forced:i1e},{resolve:function(t){return o1e(this,t)}});var lB={},a1e=Ej,s1e=Jk,Kv=Object.keys||function(t){return a1e(t,s1e)},l1e=Fr,c1e=vj,u1e=Vn,f1e=br,d1e=go,h1e=Kv;lB.f=l1e&&!c1e?Object.defineProperties:function(t,r){f1e(t);for(var n=d1e(r),i=h1e(r),o=i.length,a=0,s;o>a;)u1e.f(t,s=i[a++],n[s]);return t};var p1e=br,g1e=lB,iI=Jk,m1e=_v,v1e=Nj,b1e=Mv,y1e=Gk,oI=">",aI="<",A2="prototype",I2="script",cB=y1e("IE_PROTO"),Py=function(){},uB=function(e){return aI+I2+oI+e+aI+"/"+I2+oI},sI=function(e){e.write(uB("")),e.close();var t=e.parentWindow.Object;return e=null,t},$1e=function(){var e=b1e("iframe"),t="java"+I2+":",r;return e.style.display="none",v1e.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(uB("document.F=Object")),r.close(),r.F},ch,gp=function(){try{ch=new ActiveXObject("htmlfile")}catch{}gp=typeof document<"u"?document.domain&&ch?sI(ch):$1e():sI(ch);for(var e=iI.length;e--;)delete gp[A2][iI[e]];return gp()};m1e[cB]=!0;var Gv=Object.create||function(t,r){var n;return t!==null?(Py[A2]=p1e(t),n=new Py,Py[A2]=null,n[cB]=t):n=gp(),r===void 0?n:g1e.f(n,r)},w1e=ut,x1e=Gv,S1e=Vn.f,P2=w1e("unscopables"),_2=Array.prototype;_2[P2]===void 0&&S1e(_2,P2,{configurable:!0,value:x1e(null)});var fO=function(e){_2[P2][e]=!0},k1e=De,O1e=!k1e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),T1e=wn,C1e=et,E1e=Ci,M1e=Gk,A1e=O1e,lI=M1e("IE_PROTO"),D2=Object,I1e=D2.prototype,dO=A1e?D2.getPrototypeOf:function(e){var t=E1e(e);if(T1e(t,lI))return t[lI];var r=t.constructor;return C1e(r)&&t instanceof r?r.prototype:t instanceof D2?I1e:null},P1e=De,_1e=et,D1e=Jt,cI=dO,L1e=ho,N1e=ut,L2=N1e("iterator"),fB=!1,hs,_y,Dy;[].keys&&(Dy=[].keys(),"next"in Dy?(_y=cI(cI(Dy)),_y!==Object.prototype&&(hs=_y)):fB=!0);var R1e=!D1e(hs)||P1e(function(){var e={};return hs[L2].call(e)!==e});R1e&&(hs={});_1e(hs[L2])||L1e(hs,L2,function(){return this});var dB={IteratorPrototype:hs,BUGGY_SAFARI_ITERATORS:fB},F1e=dB.IteratorPrototype,j1e=Gv,B1e=Pv,z1e=Zf,H1e=td,U1e=function(){return this},V1e=function(e,t,r,n){var i=t+" Iterator";return e.prototype=j1e(F1e,{next:B1e(+!n,r)}),z1e(e,i,!1),H1e[i]=U1e,e},W1e=Ke,K1e=Xt,hB=Iv,G1e=et,q1e=V1e,uI=dO,fI=Zk,Y1e=Zf,J1e=pc,Ly=ho,X1e=ut,Q1e=td,pB=dB,Z1e=hB.PROPER,e$e=hB.CONFIGURABLE,dI=pB.IteratorPrototype,uh=pB.BUGGY_SAFARI_ITERATORS,Uc=X1e("iterator"),hI="keys",Vc="values",pI="entries",t$e=function(){return this},hO=function(e,t,r,n,i,o,a){q1e(r,t,n);var s=function(v){if(v===i&&d)return d;if(!uh&&v&&v in u)return u[v];switch(v){case hI:return function(){return new r(this,v)};case Vc:return function(){return new r(this,v)};case pI:return function(){return new r(this,v)}}return function(){return new r(this)}},l=t+" Iterator",c=!1,u=e.prototype,f=u[Uc]||u["@@iterator"]||i&&u[i],d=!uh&&f||s(i),h=t==="Array"&&u.entries||f,p,g,m;if(h&&(p=uI(h.call(new e)),p!==Object.prototype&&p.next&&(uI(p)!==dI&&(fI?fI(p,dI):G1e(p[Uc])||Ly(p,Uc,t$e)),Y1e(p,l,!0))),Z1e&&i===Vc&&f&&f.name!==Vc&&(e$e?J1e(u,"name",Vc):(c=!0,d=function(){return K1e(f,this)})),i)if(g={values:s(Vc),keys:o?d:s(hI),entries:s(pI)},a)for(m in g)(uh||c||!(m in u))&&Ly(u,m,g[m]);else W1e({target:t,proto:!0,forced:uh||c},g);return u[Uc]!==d&&Ly(u,Uc,d,{name:i}),Q1e[t]=d,g},pO=function(e,t){return{value:e,done:t}},r$e=go,gO=fO,gI=td,gB=Is,n$e=Vn.f,i$e=hO,fh=pO,o$e=Fr,mB="Array Iterator",a$e=gB.set,s$e=gB.getterFor(mB),l$e=i$e(Array,"Array",function(e,t){a$e(this,{type:mB,target:r$e(e),index:0,kind:t})},function(){var e=s$e(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,fh(void 0,!0);switch(e.kind){case"keys":return fh(r,!1);case"values":return fh(t[r],!1)}return fh([r,t[r]],!1)},"values"),mI=gI.Arguments=gI.Array;gO("keys");gO("values");gO("entries");if(o$e&&mI.name!=="values")try{n$e(mI,"name",{value:"values"})}catch{}var c$e=Ke,u$e=Xt,f$e=Ei,d$e=Ps,h$e=Uv,p$e=mc,g$e=uO;c$e({target:"Promise",stat:!0,forced:g$e},{allSettled:function(t){var r=this,n=d$e.f(r),i=n.resolve,o=n.reject,a=h$e(function(){var s=f$e(r.resolve),l=[],c=0,u=1;p$e(t,function(f){var d=c++,h=!1;u++,u$e(s,r,f).then(function(p){h||(h=!0,l[d]={status:"fulfilled",value:p},--u||i(l))},function(p){h||(h=!0,l[d]={status:"rejected",reason:p},--u||i(l))})}),--u||i(l)});return a.error&&o(a.value),n.promise}});var m$e=Dv,v$e=String,da=function(e){if(m$e(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return v$e(e)},mO=Be,b$e=Fv,y$e=da,$$e=Es,w$e=mO("".charAt),vI=mO("".charCodeAt),x$e=mO("".slice),S$e=function(e){return function(t,r){var n=y$e($$e(t)),i=b$e(r),o=n.length,a,s;return i<0||i>=o?e?"":void 0:(a=vI(n,i),a<55296||a>56319||i+1===o||(s=vI(n,i+1))<56320||s>57343?e?w$e(n,i):a:e?x$e(n,i,i+2):(a-55296<<10)+(s-56320)+65536)}},vB={charAt:S$e(!0)},k$e=vB.charAt,O$e=da,bB=Is,T$e=hO,bI=pO,yB="String Iterator",C$e=bB.set,E$e=bB.getterFor(yB);T$e(String,"String",function(e){C$e(this,{type:yB,string:O$e(e),index:0})},function(){var t=E$e(this),r=t.string,n=t.index,i;return n>=r.length?bI(void 0,!0):(i=k$e(r,n),t.index+=i.length,bI(i,!1))});var $B={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},M$e=Mv,Ny=M$e("span").classList,yI=Ny&&Ny.constructor&&Ny.constructor.prototype,wB=yI===Object.prototype?void 0:yI,$I=ct,xB=$B,A$e=wB,bu=l$e,wI=pc,I$e=Zf,P$e=ut,Ry=P$e("iterator"),Fy=bu.values,SB=function(e,t){if(e){if(e[Ry]!==Fy)try{wI(e,Ry,Fy)}catch{e[Ry]=Fy}if(I$e(e,t,!0),xB[t]){for(var r in bu)if(e[r]!==bu[r])try{wI(e,r,bu[r])}catch{e[r]=bu[r]}}}};for(var jy in xB)SB($I[jy]&&$I[jy].prototype,jy);SB(A$e,"DOMTokenList");var _$e=Ci,xI=jv,D$e=mo,L$e=function(t){for(var r=_$e(this),n=D$e(r),i=arguments.length,o=xI(i>1?arguments[1]:void 0,n),a=i>2?arguments[2]:void 0,s=a===void 0?n:xI(a,n);s>o;)r[o++]=t;return r},N$e=Ke,R$e=L$e,F$e=fO;N$e({target:"Array",proto:!0},{fill:R$e});F$e("fill");var j$e=po,vO=Array.isArray||function(t){return j$e(t)==="Array"},B$e=Vk,z$e=Vn,H$e=Pv,qv=function(e,t,r){var n=B$e(t);n in e?z$e.f(e,n,H$e(0,r)):e[n]=r},U$e=De,V$e=ut,W$e=Yf,K$e=V$e("species"),Yv=function(e){return W$e>=51||!U$e(function(){var t=[],r=t.constructor={};return r[K$e]=function(){return{foo:1}},t[e](Boolean).foo!==1})},G$e=Ke,SI=vO,q$e=Hv,Y$e=Jt,kI=jv,J$e=mo,X$e=go,Q$e=qv,Z$e=ut,ewe=Yv,twe=Rj,rwe=ewe("slice"),nwe=Z$e("species"),By=Array,iwe=Math.max;G$e({target:"Array",proto:!0,forced:!rwe},{slice:function(t,r){var n=X$e(this),i=J$e(n),o=kI(t,i),a=kI(r===void 0?i:r,i),s,l,c;if(SI(n)&&(s=n.constructor,q$e(s)&&(s===By||SI(s.prototype))?s=void 0:Y$e(s)&&(s=s[nwe],s===null&&(s=void 0)),s===By||s===void 0))return twe(n,o,a);for(l=new(s===void 0?By:s)(iwe(a-o,0)),c=0;o<a;o++,c++)o in n&&Q$e(l,c,n[o]);return l.length=c,l}});function bO(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(f){a(f)}}function l(u){try{c(n.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,[])).next())})}function ge(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var kB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),p=r?r+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,d,h,p){var g=r?r+c:c;if(!this._events[g])return!1;var m=this._events[g],v=arguments.length,b,y;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,d),!0;case 5:return m.fn.call(m.context,u,f,d,h),!0;case 6:return m.fn.call(m.context,u,f,d,h,p),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];m.fn.apply(m.context,b)}else{var w=m.length,$;for(y=0;y<w;y++)switch(m[y].once&&this.removeListener(c,m[y].fn,void 0,!0),v){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,u);break;case 3:m[y].fn.call(m[y].context,u,f);break;case 4:m[y].fn.call(m[y].context,u,f,d);break;default:if(!b)for($=1,b=new Array(v-1);$<v;$++)b[$-1]=arguments[$];m[y].fn.apply(m[y].context,b)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,d){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&a(this,h);else{for(var g=0,m=[],v=p.length;g<v;g++)(p[g].fn!==u||d&&!p[g].once||f&&p[g].context!==f)&&m.push(p[g]);m.length?this._events[h]=m.length===1?m[0]:m:a(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(kB);var owe=kB.exports,awe=vr(owe),swe=Array.isArray,bn=swe;function Jv(){if(!arguments.length)return[];var e=arguments[0];return bn(e)?e:[e]}var OI=vO,lwe=Hv,cwe=Jt,uwe=ut,fwe=uwe("species"),TI=Array,dwe=function(e){var t;return OI(e)&&(t=e.constructor,lwe(t)&&(t===TI||OI(t.prototype))?t=void 0:cwe(t)&&(t=t[fwe],t===null&&(t=void 0))),t===void 0?TI:t},hwe=dwe,OB=function(e,t){return new(hwe(e))(t===0?0:t)},pwe=gc,gwe=Be,mwe=Nv,vwe=Ci,bwe=mo,ywe=OB,CI=gwe([].push),Wc=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,s=e===5||o;return function(l,c,u,f){for(var d=vwe(l),h=mwe(d),p=bwe(h),g=pwe(c,u),m=0,v=f||ywe,b=t?v(l,p):r||a?v(l,0):void 0,y,w;p>m;m++)if((s||m in h)&&(y=h[m],w=g(y,m,d),e))if(t)b[m]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:CI(b,y)}else switch(e){case 4:return!1;case 7:CI(b,y)}return o?-1:n||i?i:b}},Xv={forEach:Wc(0),map:Wc(1),filter:Wc(2),find:Wc(5),findIndex:Wc(6)},$we=Ke,wwe=Xv.map,xwe=Yv,Swe=xwe("map");$we({target:"Array",proto:!0,forced:!Swe},{map:function(t){return wwe(this,t,arguments.length>1?arguments[1]:void 0)}});var EI=Fr,kwe=Be,Owe=Xt,Twe=De,zy=Kv,Cwe=Xk,Ewe=Lv,Mwe=Ci,Awe=Nv,Xs=Object.assign,MI=Object.defineProperty,Iwe=kwe([].concat),Pwe=!Xs||Twe(function(){if(EI&&Xs({b:1},Xs(MI({},"a",{enumerable:!0,get:function(){MI(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),Xs({},e)[r]!==7||zy(Xs({},t)).join("")!==n})?function(t,r){for(var n=Mwe(t),i=arguments.length,o=1,a=Cwe.f,s=Ewe.f;i>o;)for(var l=Awe(arguments[o++]),c=a?Iwe(zy(l),a(l)):zy(l),u=c.length,f=0,d;u>f;)d=c[f++],(!EI||Owe(s,l,d))&&(n[d]=l[d]);return n}:Xs,_we=Ke,AI=Pwe;_we({target:"Object",stat:!0,arity:2,forced:Object.assign!==AI},{assign:AI});var TB={exports:{}},CB={},II=jv,Dwe=mo,Lwe=qv,Nwe=Array,Rwe=Math.max,EB=function(e,t,r){for(var n=Dwe(e),i=II(t,n),o=II(r===void 0?n:r,n),a=Nwe(Rwe(o-i,0)),s=0;i<o;i++,s++)Lwe(a,s,e[i]);return a.length=s,a},Fwe=po,jwe=go,MB=Rv.f,Bwe=EB,AB=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],zwe=function(e){try{return MB(e)}catch{return Bwe(AB)}};CB.f=function(t){return AB&&Fwe(t)==="Window"?zwe(t):MB(jwe(t))};var Hwe=De,Uwe=Hwe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Vwe=De,Wwe=Jt,Kwe=po,PI=Uwe,mp=Object.isExtensible,Gwe=Vwe(function(){mp(1)}),qwe=Gwe||PI?function(t){return!Wwe(t)||PI&&Kwe(t)==="ArrayBuffer"?!1:mp?mp(t):!0}:mp,Ywe=De,Jwe=!Ywe(function(){return Object.isExtensible(Object.preventExtensions({}))}),Xwe=Ke,Qwe=Be,Zwe=_v,e2e=Jt,yO=wn,t2e=Vn.f,_I=Rv,r2e=CB,$O=qwe,n2e=zk,i2e=Jwe,IB=!1,ro=n2e("meta"),o2e=0,wO=function(e){t2e(e,ro,{value:{objectID:"O"+o2e++,weakData:{}}})},a2e=function(e,t){if(!e2e(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!yO(e,ro)){if(!$O(e))return"F";if(!t)return"E";wO(e)}return e[ro].objectID},s2e=function(e,t){if(!yO(e,ro)){if(!$O(e))return!0;if(!t)return!1;wO(e)}return e[ro].weakData},l2e=function(e){return i2e&&IB&&$O(e)&&!yO(e,ro)&&wO(e),e},c2e=function(){u2e.enable=function(){},IB=!0;var e=_I.f,t=Qwe([].splice),r={};r[ro]=1,e(r).length&&(_I.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===ro){t(i,o,1);break}return i},Xwe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:r2e.f}))},u2e=TB.exports={enable:c2e,fastKey:a2e,getWeakData:s2e,onFreeze:l2e};Zwe[ro]=!0;var xO=TB.exports,f2e=et,d2e=Jt,DI=Zk,h2e=function(e,t,r){var n,i;return DI&&f2e(n=t.constructor)&&n!==r&&d2e(i=n.prototype)&&i!==r.prototype&&DI(e,i),e},p2e=Ke,g2e=ct,m2e=Be,LI=Qk,v2e=ho,b2e=xO,y2e=mc,$2e=zv,w2e=et,x2e=fa,Hy=Jt,Uy=De,S2e=cO,k2e=Zf,O2e=h2e,SO=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=g2e[e],s=a&&a.prototype,l=a,c={},u=function(v){var b=m2e(s[v]);v2e(s,v,v==="add"?function(w){return b(this,w===0?0:w),this}:v==="delete"?function(y){return i&&!Hy(y)?!1:b(this,y===0?0:y)}:v==="get"?function(w){return i&&!Hy(w)?void 0:b(this,w===0?0:w)}:v==="has"?function(w){return i&&!Hy(w)?!1:b(this,w===0?0:w)}:function(w,$){return b(this,w===0?0:w,$),this})},f=LI(e,!w2e(a)||!(i||s.forEach&&!Uy(function(){new a().entries().next()})));if(f)l=r.getConstructor(t,e,n,o),b2e.enable();else if(LI(e,!0)){var d=new l,h=d[o](i?{}:-0,1)!==d,p=Uy(function(){d.has(1)}),g=S2e(function(v){new a(v)}),m=!i&&Uy(function(){for(var v=new a,b=5;b--;)v[o](b,b);return!v.has(-0)});g||(l=t(function(v,b){$2e(v,s);var y=O2e(new a,v,l);return x2e(b)||y2e(b,y[o],{that:y,AS_ENTRIES:n}),y}),l.prototype=s,s.constructor=l),(p||m)&&(u("delete"),u("has"),n&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,p2e({global:!0,constructor:!0,forced:l!==a},c),k2e(l,e),i||r.setStrong(l,e,n),l},T2e=ho,PB=function(e,t,r){for(var n in t)T2e(e,n,t[n],r);return e},C2e=Be,NI=PB,dh=xO.getWeakData,E2e=zv,M2e=br,A2e=fa,Vy=Jt,I2e=mc,_B=Xv,RI=wn,DB=Is,P2e=DB.set,_2e=DB.getterFor,D2e=_B.find,L2e=_B.findIndex,N2e=C2e([].splice),R2e=0,hh=function(e){return e.frozen||(e.frozen=new LB)},LB=function(){this.entries=[]},Wy=function(e,t){return D2e(e.entries,function(r){return r[0]===t})};LB.prototype={get:function(e){var t=Wy(this,e);if(t)return t[1]},has:function(e){return!!Wy(this,e)},set:function(e,t){var r=Wy(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=L2e(this.entries,function(r){return r[0]===e});return~t&&N2e(this.entries,t,1),!!~t}};var F2e={getConstructor:function(e,t,r,n){var i=e(function(l,c){E2e(l,o),P2e(l,{type:t,id:R2e++,frozen:void 0}),A2e(c)||I2e(c,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,a=_2e(t),s=function(l,c,u){var f=a(l),d=dh(M2e(c),!0);return d===!0?hh(f).set(c,u):d[f.id]=u,l};return NI(o,{delete:function(l){var c=a(this);if(!Vy(l))return!1;var u=dh(l);return u===!0?hh(c).delete(l):u&&RI(u,c.id)&&delete u[c.id]},has:function(c){var u=a(this);if(!Vy(c))return!1;var f=dh(c);return f===!0?hh(u).has(c):f&&RI(f,u.id)}}),NI(o,r?{get:function(c){var u=a(this);if(Vy(c)){var f=dh(c);return f===!0?hh(u).get(c):f?f[u.id]:void 0}},set:function(c,u){return s(this,c,u)}}:{add:function(c){return s(this,c,!0)}}),i}},j2e=SO,B2e=F2e;j2e("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},B2e);var vt;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(vt||(vt={}));var $i;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})($i||($i={}));var z2e="hour",H2e="minute",U2e=10,V2e=10,W2e=2,K2e=0,G2e=200,q2e=12,Y2e="#cal-heatmap",J2e="light",X2e="en",Q2e="red",Z2e="YlOrBr",exe="quantize",txe=[0,100],vp,NB,RB,rxe=(function(){function e(t){ur(this,e),vp.add(this),this.calendar=t,this.maxDomainReached=!1,this.minDomainReached=!1}return fr(e,[{key:"loadNewDomains",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt.SCROLL_NONE,o=this.calendar.options.options,a=this.calendar.templateCollection,s=o.date.min?a.get(o.domain.type).extractUnit(+o.date.min):void 0,l=o.date.max?a.get(o.domain.type).extractUnit(+o.date.max):void 0,c=this.calendar.domainCollection;return ge(this,vp,"m",NB).call(this,r,s,l,i)?vt.SCROLL_NONE:(i!==vt.SCROLL_NONE&&r.clamp(s,l).slice(o.range,i===vt.SCROLL_FORWARD),c.merge(r,o.range,function(u,f){var d=null;return r.at(f+1)?d=r.at(f+1):d=n.calendar.dateHelper.intervals(o.domain.type,u,2).pop(),a.get(o.subDomain.type).mapping(u,d).map(function(h){return Object.assign(Object.assign({},h),{v:o.data.defaultValue})})}),ge(this,vp,"m",RB).call(this,c.min,c.max,s,l),i===vt.SCROLL_BACKWARD?this.calendar.eventEmitter.emit("domainsLoaded",[c.min]):i===vt.SCROLL_FORWARD&&this.calendar.eventEmitter.emit("domainsLoaded",[c.max]),i)}},{key:"jumpTo",value:function(r,n){var i=this.calendar,o=i.domainCollection,a=i.options,s=new Date(o.min),l=new Date(o.max);return r<s?this.loadNewDomains(this.calendar.createDomainCollection(r,s,!1),vt.SCROLL_BACKWARD):n?this.loadNewDomains(this.calendar.createDomainCollection(r,a.options.range),s<r?vt.SCROLL_FORWARD:vt.SCROLL_BACKWARD):r>l?this.loadNewDomains(this.calendar.createDomainCollection(l,r,!1),vt.SCROLL_FORWARD):vt.SCROLL_NONE}}]),e})();vp=new WeakSet,NB=function(t,r,n,i){return!!(n&&t.max>=n&&this.maxDomainReached&&i===vt.SCROLL_FORWARD||r&&t.min<=r&&this.minDomainReached&&i===vt.SCROLL_BACKWARD)},RB=function(t,r,n,i){if(n){var o=t<=n;this.calendar.eventEmitter.emit(o?"minDateReached":"minDateNotReached"),this.minDomainReached=o}if(i){var a=r>=i;this.calendar.eventEmitter.emit(a?"maxDateReached":"maxDateNotReached"),this.maxDomainReached=a}};var nxe=TypeError,ixe=9007199254740991,oxe=function(e){if(e>ixe)throw nxe("Maximum allowed index exceeded");return e},axe=Ke,sxe=De,lxe=vO,cxe=Jt,uxe=Ci,fxe=mo,FI=oxe,jI=qv,dxe=OB,hxe=Yv,pxe=ut,gxe=Yf,FB=pxe("isConcatSpreadable"),mxe=gxe>=51||!sxe(function(){var e=[];return e[FB]=!1,e.concat()[0]!==e}),vxe=function(e){if(!cxe(e))return!1;var t=e[FB];return t!==void 0?!!t:lxe(e)},bxe=!mxe||!hxe("concat");axe({target:"Array",proto:!0,arity:1,forced:bxe},{concat:function(t){var r=uxe(this),n=dxe(r,0),i=0,o,a,s,l,c;for(o=-1,s=arguments.length;o<s;o++)if(c=o===-1?r:arguments[o],vxe(c))for(l=fxe(c),FI(i+l),a=0;a<l;a++,i++)a in c&&jI(n,i,c[a]);else FI(i+1),jI(n,i++,c);return n.length=i,n}});var yxe=De,kO=function(e,t){var r=[][e];return!!r&&yxe(function(){r.call(null,t||function(){return 1},1)})},$xe=Ke,wxe=Be,xxe=Nv,Sxe=go,kxe=kO,Oxe=wxe([].join),Txe=xxe!==Object,Cxe=Txe||!kxe("join",",");$xe({target:"Array",proto:!0,forced:Cxe},{join:function(t){return Oxe(Sxe(this),t===void 0?",":t)}});var Exe=Gv,Mxe=eO,BI=PB,Axe=gc,Ixe=zv,Pxe=fa,_xe=mc,Dxe=hO,ph=pO,Lxe=Mj,Kc=Fr,zI=xO.fastKey,jB=Is,HI=jB.set,Ky=jB.getterFor,BB={getConstructor:function(e,t,r,n){var i=e(function(c,u){Ixe(c,o),HI(c,{type:t,index:Exe(null),first:void 0,last:void 0,size:0}),Kc||(c.size=0),Pxe(u)||_xe(u,c[n],{that:c,AS_ENTRIES:r})}),o=i.prototype,a=Ky(t),s=function(c,u,f){var d=a(c),h=l(c,u),p,g;return h?h.value=f:(d.last=h={index:g=zI(u,!0),key:u,value:f,previous:p=d.last,next:void 0,removed:!1},d.first||(d.first=h),p&&(p.next=h),Kc?d.size++:c.size++,g!=="F"&&(d.index[g]=h)),c},l=function(c,u){var f=a(c),d=zI(u),h;if(d!=="F")return f.index[d];for(h=f.first;h;h=h.next)if(h.key===u)return h};return BI(o,{clear:function(){for(var u=this,f=a(u),d=f.index,h=f.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete d[h.index],h=h.next;f.first=f.last=void 0,Kc?f.size=0:u.size=0},delete:function(c){var u=this,f=a(u),d=l(u,c);if(d){var h=d.next,p=d.previous;delete f.index[d.index],d.removed=!0,p&&(p.next=h),h&&(h.previous=p),f.first===d&&(f.first=h),f.last===d&&(f.last=p),Kc?f.size--:u.size--}return!!d},forEach:function(u){for(var f=a(this),d=Axe(u,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:f.first;)for(d(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(u){return!!l(this,u)}}),BI(o,r?{get:function(u){var f=l(this,u);return f&&f.value},set:function(u,f){return s(this,u===0?0:u,f)}}:{add:function(u){return s(this,u=u===0?0:u,u)}}),Kc&&Mxe(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=Ky(t),o=Ky(n);Dxe(e,t,function(a,s){HI(this,{type:n,target:a,state:i(a),kind:s,last:void 0})},function(){for(var a=o(this),s=a.kind,l=a.last;l&&l.removed;)l=l.previous;return!a.target||!(a.last=l=l?l.next:a.state.first)?(a.target=void 0,ph(void 0,!0)):ph(s==="keys"?l.key:s==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),Lxe(t)}},Nxe=SO,Rxe=BB;Nxe("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Rxe);var UI=Jf,Fxe=TypeError,jxe=function(e,t){if(!delete e[t])throw new Fxe("Cannot delete property "+UI(t)+" of "+UI(e))},VI=EB,Bxe=Math.floor,N2=function(e,t){var r=e.length,n=Bxe(r/2);return r<8?zxe(e,t):Hxe(e,N2(VI(e,0,n),t),N2(VI(e,n),t),t)},zxe=function(e,t){for(var r=e.length,n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}return e},Hxe=function(e,t,r,n){for(var i=t.length,o=r.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?n(t[a],r[s])<=0?t[a++]:r[s++]:a<i?t[a++]:r[s++];return e},Uxe=N2,Vxe=Ms,WI=Vxe.match(/firefox\/(\d+)/i),Wxe=!!WI&&+WI[1],Kxe=Ms,Gxe=/MSIE|Trident/.test(Kxe),qxe=Ms,KI=qxe.match(/AppleWebKit\/(\d+)\./),Yxe=!!KI&&+KI[1],Jxe=Ke,zB=Be,Xxe=Ei,Qxe=Ci,GI=mo,Zxe=jxe,qI=da,OO=De,eSe=Uxe,tSe=kO,YI=Wxe,rSe=Gxe,JI=Yf,XI=Yxe,jo=[],QI=zB(jo.sort),nSe=zB(jo.push),iSe=OO(function(){jo.sort(void 0)}),oSe=OO(function(){jo.sort(null)}),aSe=tSe("sort"),HB=!OO(function(){if(JI)return JI<70;if(!(YI&&YI>3)){if(rSe)return!0;if(XI)return XI<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)jo.push({k:r+i,v:n})}for(jo.sort(function(o,a){return a.v-o.v}),i=0;i<jo.length;i++)r=jo[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),sSe=iSe||!oSe||!aSe||!HB,lSe=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:qI(t)>qI(r)?1:-1}};Jxe({target:"Array",proto:!0,forced:sSe},{sort:function(t){t!==void 0&&Xxe(t);var r=Qxe(this);if(HB)return t===void 0?QI(r):QI(r,t);var n=[],i=GI(r),o,a;for(a=0;a<i;a++)a in r&&nSe(n,r[a]);for(eSe(n,lSe(t)),o=GI(n),a=0;a<o;)r[a]=n[a++];for(;a<i;)Zxe(r,a++);return r}});var cSe=Xv.forEach,uSe=kO,fSe=uSe("forEach"),dSe=fSe?[].forEach:function(t){return cSe(this,t,arguments.length>1?arguments[1]:void 0)},ZI=ct,e3=$B,hSe=wB,Gy=dSe,pSe=pc,UB=function(e){if(e&&e.forEach!==Gy)try{pSe(e,"forEach",Gy)}catch{e.forEach=Gy}};for(var qy in e3)e3[qy]&&UB(ZI[qy]&&ZI[qy].prototype);UB(hSe);function t3(e){return e==="top"||e==="bottom"}function VB(e){return e[$i.LEFT]+e[$i.RIGHT]}function WB(e){return e[$i.TOP]+e[$i.BOTTOM]}var bp,KB,GB,gSe=(function(){function e(t,r){ur(this,e),bp.add(this),this.calendar=t,this.domainPainter=r,this.collection=new Map,this.scrollDirection=vt.SCROLL_FORWARD}return fr(e,[{key:"get",value:function(r){return this.collection.get(r)}},{key:"update",value:function(r,n){var i=this,o=this.calendar.options.options,a=o.verticalOrientation,s=o.domain;this.scrollDirection=n;var l={width:0,height:0},c=0,u=n===vt.SCROLL_FORWARD?-1:1,f=r.keys;return this.calendar.options.options.domain.sort==="desc"&&(f.reverse(),u*=-1),r.yankedDomains.forEach(function(d){c+=i.collection.get(d)[a?"height":"width"]}),r.yankedDomains.forEach(function(d){var h=i.collection.get(d);i.collection.set(d,Object.assign(Object.assign({},h),{x:a?h.x:h.x+c*u,y:a?h.y+c*u:h.y}))}),f.forEach(function(d){var h=ge(i,bp,"m",KB).call(i,d),p=ge(i,bp,"m",GB).call(i,d);a?(l.height+=p,l.width=Math.max(h,l.width)):(l.width+=h,l.height=Math.max(p,l.height));var g=l.width-h,m=l.height-p;i.collection.set(d,Object.assign(Object.assign({},i.collection.get(d)),{x:a?0:g,y:a?m:0,pre_x:a?g:g-c*u,pre_y:a?m-c*u:m,width:h,height:p,inner_width:h-(a?0:s.gutter),inner_height:p-(a?s.gutter:0)}))}),l}}]),e})();bp=new WeakSet,KB=function(t){var r=this.calendar.options.options,n=r.domain,i=r.subDomain,o=r.x,a=r.verticalOrientation,s=this.calendar.templateCollection.get(i.type).columnsCount(t),l=(i.width+i.gutter)*s-i.gutter;return VB(n.padding)+o.domainHorizontalLabelWidth+(a?0:n.gutter)+l},GB=function(t){var r=this.calendar.options.options,n=r.domain,i=r.subDomain,o=r.x,a=r.verticalOrientation,s=this.calendar.templateCollection.get(i.type).rowsCount(t),l=(i.height+i.gutter)*s-i.gutter;return WB(n.padding)+l+(a?n.gutter:0)+o.domainVerticalLabelHeight};var R2,qB,yp=".ch-domain",mSe=(function(){function e(t){ur(this,e),R2.add(this),this.calendar=t,this.coordinates=new gSe(t,this),this.root=null,this.dimensions={width:0,height:0}}return fr(e,[{key:"paint",value:function(r,n){var i=this,o=this.calendar.options.options.animationDuration,a=n.transition().duration(o),s=this.coordinates;this.dimensions=s.update(this.calendar.domainCollection,r);var l=[];return this.root=n.selectAll(yp).data(this.calendar.domainCollection.keys,function(c){return c}).join(function(c){return c.append("svg").attr("x",function(u){return s.get(u).pre_x}).attr("y",function(u){return s.get(u).pre_y}).attr("width",function(u){return s.get(u).inner_width}).attr("height",function(u){return s.get(u).inner_height}).attr("class",function(u){return ge(i,R2,"m",qB).call(i,u)}).call(function(u){return u.append("rect").attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).attr("class","".concat(yp.slice(1),"-bg"))}).call(function(u){return l.push(u.transition(a).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).end())})},function(c){return c.call(function(u){return l.push(u.transition(a).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).end())}).call(function(u){return l.push(u.selectAll("".concat(yp,"-bg")).transition(a).attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).end())})},function(c){return c.call(function(u){return l.push(u.transition(a).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).remove().end())})}),l}}]),e})();R2=new WeakSet,qB=function(t){var r=yp.slice(1),n=this.calendar.dateHelper.date(t);switch(this.calendar.options.options.domain.type){case"hour":r+=" h_".concat(n.hour());break;case"day":r+=" d_".concat(n.date()," dy_").concat(n.format("d")+1);break;case"week":r+=" w_".concat(n.week());break;case"month":r+=" m_".concat(n.month()+1);break;case"year":r+=" y_".concat(n.year());break}return r};var vSe=Ke,bSe=Cj.includes,ySe=De,$Se=fO,wSe=ySe(function(){return!Array(1).includes()});vSe({target:"Array",proto:!0,forced:wSe},{includes:function(t){return bSe(this,t,arguments.length>1?arguments[1]:void 0)}});$Se("includes");var xSe=Ke,SSe=Xv.filter,kSe=Yv,OSe=kSe("filter");xSe({target:"Array",proto:!0,forced:!OSe},{filter:function(t){return SSe(this,t,arguments.length>1?arguments[1]:void 0)}});var TSe=br,CSe=oB,ESe=function(e,t,r,n){try{return n?t(TSe(r)[0],r[1]):t(r)}catch(i){CSe(e,"throw",i)}},MSe=gc,ASe=Xt,ISe=Ci,PSe=ESe,_Se=nB,DSe=Hv,LSe=mo,r3=qv,NSe=iB,RSe=lO,n3=Array,FSe=function(t){var r=ISe(t),n=DSe(this),i=arguments.length,o=i>1?arguments[1]:void 0,a=o!==void 0;a&&(o=MSe(o,i>2?arguments[2]:void 0));var s=RSe(r),l=0,c,u,f,d,h,p;if(s&&!(this===n3&&_Se(s)))for(d=NSe(r,s),h=d.next,u=n?new this:[];!(f=ASe(h,d)).done;l++)p=a?PSe(d,o,[f.value,l],!0):f.value,r3(u,l,p);else for(c=LSe(r),u=n?new this(c):n3(c);c>l;l++)p=a?o(r[l],l):r[l],r3(u,l,p);return u.length=l,u},jSe=Ke,BSe=FSe,zSe=cO,HSe=!zSe(function(e){Array.from(e)});jSe({target:"Array",stat:!0,forced:HSe},{from:BSe});var Co,YB,i3,yu,USe={year:"YYYY",month:"MMMM",week:"wo [week] YYYY",xDay:"Do MMM",ghDay:"Do MMM",day:"Do MMM",hour:"HH:00",minute:"HH:mm"},o3=(function(){function e(t,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ur(this,e),Co.add(this),this.collection=new Map,this.dateHelper=t,r&&n&&i){var a=this.dateHelper.intervals(r,n,i,o).map(function(s){return Jv(s)});this.collection=new Map(a)}this.min=0,this.max=0,this.keys=[],this.yankedDomains=[],this.collection.size>0&&ge(this,Co,"m",yu).call(this)}return fr(e,[{key:"has",value:function(r){return this.collection.has(r)}},{key:"get",value:function(r){return this.collection.get(r)}},{key:"forEach",value:function(r){return this.collection.forEach(r)}},{key:"at",value:function(r){return this.keys[r]}},{key:"clamp",value:function(r,n){var i=this;return r&&this.min<r&&this.keys.filter(function(o){return o<r}).forEach(function(o){return i.collection.delete(o)}),n&&this.max>n&&this.keys.filter(function(o){return o>n}).forEach(function(o){return i.collection.delete(o)}),ge(this,Co,"m",yu).call(this),this}},{key:"merge",value:function(r,n,i){var o=this;this.yankedDomains=[],r.keys.forEach(function(a,s){if(!o.has(a)){if(o.collection.size>=n){var l=o.max;a>o.max&&(l=o.min),l&&o.collection.delete(l)&&o.yankedDomains.push(l)}o.collection.set(a,i(a,s)),ge(o,Co,"m",yu).call(o)}}),this.yankedDomains=this.yankedDomains.sort(function(a,s){return a-s})}},{key:"slice",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.keys.length>n){var o=i?this.keys.slice(0,-n):this.keys.slice(n);o.forEach(function(a){r.collection.delete(a)}),ge(this,Co,"m",yu).call(this)}return this}},{key:"fill",value:function(r,n,i){var o=this,a=n.x,s=n.y,l=n.groupY,c=n.defaultValue,u=this.groupRecords(r,a,i);this.keys.forEach(function(f){var d=u.get(f)||{};ge(o,Co,"m",YB).call(o,f,d,s,l,c)})}},{key:"groupRecords",value:function(r,n,i){var o=this,a=new Map,s=new Map;return this.keys.forEach(function(l){o.get(l).forEach(function(c){s.set(c.t,l)})}),r.forEach(function(l){var c=o.extractTimestamp(l,n,i);if(s.has(c)){var u=s.get(c),f=a.get(u)||{};f[c]||(f[c]=[]),f[c].push(l),a.set(u,f)}}),a}},{key:"groupValues",value:function(r,n){var i=r.filter(function(o){return o!==null});if(typeof n=="string"){if(i.every(function(o){return typeof o=="number"}))switch(n){case"sum":return i.reduce(function(o,a){return o+a},0);case"count":return i.length;case"min":return Math.min.apply(Math,p2(i))||null;case"max":return Math.max.apply(Math,p2(i))||null;case"average":return i.length>0?i.reduce(function(o,a){return o+a},0)/i.length:null;default:return null}switch(n){case"count":return i.length;default:return null}}else if(typeof n=="function")return n(i);return null}},{key:"extractTimestamp",value:function(r,n,i){var o=typeof n=="function"?n(r):r[n];return typeof o=="string"&&(o=+new Date(o)),i(o)}}]),e})();Co=new WeakSet,YB=function(t,r,n,i,o){var a=this;this.get(t).forEach(function(s,l){var c=o;r.hasOwnProperty(s.t)&&(c=a.groupValues(ge(a,Co,"m",i3).call(a,r[s.t],n),i)),a.get(t)[l].v=c})},i3=function(t,r){return t.map(function(n){return typeof r=="function"?r(n):n[r]})},yu=function(){this.keys=Array.from(this.collection.keys()).map(function(r){return parseInt(r,10)}).sort(function(r,n){return r-n});var t=this.keys;return this.min=t[0],this.max=t[t.length-1],this.keys};var _t,F2,j2,B2,Qs,gh,z2,a3=".ch-domain-text",VSe=(function(){function e(t){ur(this,e),_t.add(this),this.calendar=t}return fr(e,[{key:"paint",value:function(r){var n=this,i=this.calendar.options.options.domain,o=i.label,a=i.type,s=this.calendar.dateHelper,l=o.text;l===null||l===""||(typeof l>"u"&&(l=USe[a]),r.selectAll(a3).data(function(c){return[c]},function(c){return c}).join(function(c){return c.append("text").attr("class",a3.slice(1)).attr("x",function(u){return ge(n,_t,"m",j2).call(n,u)}).attr("y",function(u){return ge(n,_t,"m",B2).call(n,u)}).attr("text-anchor",o.textAlign).attr("dominant-baseline",function(){return ge(n,_t,"m",F2).call(n)}).text(function(u,f,d){return s.format(u,l,d[f])}).call(function(u){return ge(n,_t,"m",z2).call(n,u)})},function(c){c.attr("x",function(u){return ge(n,_t,"m",j2).call(n,u)}).attr("y",function(u){return ge(n,_t,"m",B2).call(n,u)}).attr("text-anchor",o.textAlign).attr("dominant-baseline",function(){return ge(n,_t,"m",F2).call(n)}).text(function(u,f,d){return s.format(u,l,d[f])}).call(function(u){return ge(n,_t,"m",z2).call(n,u)})}))}}]),e})();_t=new WeakSet,F2=function(){var t=this.calendar.options.options.domain.label,r=t.position,n=t.rotate;return t3(r)?"middle":n==="left"&&r==="left"||n==="right"&&r==="right"?"bottom":"hanging"},j2=function(t){var r=this.calendar.options.options.domain,n=r.padding,i=r.label,o=i.position,a=i.textAlign,s=i.offset,l=this.calendar.options.options.x.domainHorizontalLabelWidth,c=n[$i.LEFT];return o==="right"&&(c+=ge(this,_t,"m",Qs).call(this,t)),a==="middle"&&(["top","bottom"].includes(o)?c+=ge(this,_t,"m",Qs).call(this,t)/2:c+=l/2),a==="end"&&(t3(o)?c+=ge(this,_t,"m",Qs).call(this,t):c+=l),c+s.x},B2=function(t){var r=this.calendar.options.options,n=r.domain,i=n.label,o=i.position,a=i.offset,s=n.padding,l=r.x,c=s[$i.TOP]+l.domainVerticalLabelHeight/2;return o==="bottom"&&(c+=ge(this,_t,"m",gh).call(this,t)),c+a.y},Qs=function(t){var r=this.calendar.options.options,n=r.domain.padding,i=r.x.domainHorizontalLabelWidth,o=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return o.get(t).inner_width-i-VB(n)},gh=function(t){var r=this.calendar.options.options,n=r.x.domainVerticalLabelHeight,i=r.domain.padding,o=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return o.get(t).inner_height-n-WB(i)},z2=function(t){var r=this,n=this.calendar.options.options,i=n.domain.label,o=i.rotate,a=i.textAlign,s=i.position,l=n.x,c=l.domainHorizontalLabelWidth;switch(o){case"right":t.attr("transform",function(u){var f=ge(r,_t,"m",Qs).call(r,u),d=ge(r,_t,"m",gh).call(r,u),h=["rotate(90, ".concat(s==="right"?f:c,", 0)")];switch(s){case"right":a==="middle"?h.push("translate(".concat(d/2-c/2,")")):a==="end"&&h.push("translate(".concat(d-c,")"));break;case"left":a==="start"?h.push("translate(".concat(c,")")):a==="middle"?h.push("translate(".concat(c/2+d/2,")")):a==="end"&&h.push("translate(".concat(d,")"));break}return h.join(",")});break;case"left":t.attr("transform",function(u){var f=ge(r,_t,"m",Qs).call(r,u),d=ge(r,_t,"m",gh).call(r,u),h=["rotate(270, ".concat(s==="right"?f:c,", 0)")];switch(s){case"right":a==="start"?h.push("translate(-".concat(d,")")):a==="middle"?h.push("translate(-".concat(d/2+c/2,")")):a==="end"&&h.push("translate(-".concat(c,")"));break;case"left":a==="start"?h.push("translate(".concat(c-d,")")):a==="middle"&&h.push("translate(".concat(c/2-d/2,")"));break}return h.join(",")});break}};var JB=`	
\v\f\r \u2028\u2029\uFEFF`,WSe=Be,KSe=Es,GSe=da,H2=JB,s3=WSe("".replace),qSe=RegExp("^["+H2+"]+"),YSe=RegExp("(^|[^"+H2+"])["+H2+"]+$"),JSe=function(e){return function(t){var r=GSe(KSe(t));return e&1&&(r=s3(r,qSe,"")),e&2&&(r=s3(r,YSe,"$1")),r}},XSe={trim:JSe(3)},QSe=Iv.PROPER,ZSe=De,l3=JB,c3="",eke=function(e){return ZSe(function(){return!!l3[e]()||c3[e]()!==c3||QSe&&l3[e].name!==e})},tke=Ke,rke=XSe.trim,nke=eke;tke({target:"String",proto:!0,forced:nke("trim")},{trim:function(){return rke(this)}});var rr,U2,um,XB,Yy,fm,dm,$p=".ch-subdomain",ike="highlight",oke=(function(){function e(t){ur(this,e),rr.add(this),this.calendar=t,this.root=null}return fr(e,[{key:"paint",value:function(r){var n=this;this.root=r||this.root;var i="".concat($p,"-container"),o=this.root.selectAll(i).data(function(d){return[d]},function(d){return d}).join(function(d){return d.append("svg").call(function(h){return ge(n,rr,"m",U2).call(n,h)}).attr("class",i.slice(1))},function(d){return d.call(function(h){return ge(n,rr,"m",U2).call(n,h)})}),a=this.calendar.options.options.subDomain,s=a.radius,l=a.width,c=a.height,u=a.sort,f=this.calendar.eventEmitter;o.selectAll("g").data(function(d){var h=n.calendar.domainCollection.get(d);if(u==="desc"){var p=Math.max.apply(Math,p2(h.map(function(g){return g.x})));h.forEach(function(g,m){h[m].x=Math.abs(g.x-p)})}return h}).join(function(d){return d.append("g").call(function(h){return h.insert("rect").attr("class",function(p){return ge(n,rr,"m",um).call(n,p.t,"".concat($p.slice(1),"-bg"))}).attr("width",l).attr("height",c).attr("x",function(p){return ge(n,rr,"m",fm).call(n,p)}).attr("y",function(p){return ge(n,rr,"m",dm).call(n,p)}).on("click",function(p,g){return f.emit("click",p,g.t,g.v)}).on("mouseover",function(p,g){return f.emit("mouseover",p,g.t,g.v)}).on("mouseout",function(p,g){return f.emit("mouseout",p,g.t,g.v)}).attr("rx",s>0?s:null).attr("ry",s>0?s:null)}).call(function(h){return ge(n,rr,"m",XB).call(n,h)})},function(d){return d.selectAll("rect").attr("class",function(h){return ge(n,rr,"m",um).call(n,h.t,"".concat($p.slice(1),"-bg"))}).attr("width",l).attr("height",c).attr("x",function(h){return ge(n,rr,"m",fm).call(n,h)}).attr("y",function(h){return ge(n,rr,"m",dm).call(n,h)}).attr("rx",s).attr("ry",s)})}}]),e})();rr=new WeakSet,U2=function(t){var r=this.calendar.options.options,n=r.domain,i=n.padding,o=n.label.position;t.attr("x",function(){var a=i[$i.LEFT];return o==="left"&&(a+=r.x.domainHorizontalLabelWidth),a}).attr("y",function(){var a=i[$i.TOP];return o==="top"&&(a+=r.x.domainVerticalLabelHeight),a})},um=function(t){var r=this,n=this.calendar.options.options,i=n.date.highlight,o=n.subDomain.type,a="";i.length>0&&i.forEach(function(u){var f=r.calendar.templateCollection.get(o).extractUnit;f(+u)===f(t)&&(a=ike)});for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return[a].concat(l).join(" ").trim()},XB=function(t){var r=this,n=this.calendar.options.options.subDomain,i=n.width,o=n.height,a=n.label;return a?t.append("text").attr("class",function(s){return ge(r,rr,"m",um).call(r,s.t,"".concat($p.slice(1),"-text"))}).attr("x",function(s){return ge(r,rr,"m",fm).call(r,s)+i/2}).attr("y",function(s){return ge(r,rr,"m",dm).call(r,s)+o/2}).attr("text-anchor","middle").attr("dominant-baseline","central").text(function(s,l,c){return r.calendar.dateHelper.format(s.t,a,s.v,c[l])}):null},Yy=function(t,r){var n=this.calendar.options.options.subDomain;return r[t]*(n[t==="x"?"width":"height"]+n.gutter)},fm=function(t){return ge(this,rr,"m",Yy).call(this,"x",t)},dm=function(t){return ge(this,rr,"m",Yy).call(this,"y",t)};var pl,V2,QB,ZB,u3=".ch-domain-container",f3="in-transition",ake=(function(){function e(t){ur(this,e),pl.add(this),this.calendar=t,this.domainPainter=new mSe(t),this.subDomainPainter=new oke(t),this.domainLabelPainter=new VSe(t),this.dimensions={width:0,height:0},this.transitionsQueueCount=0}return fr(e,[{key:"setup",value:function(){this.root=this.calendar.calendarPainter.root.attr("x",0).attr("y",0).append("svg").attr("class",u3.slice(1)).append("svg").attr("class","".concat(u3.slice(1),"-animation-wrapper"))}},{key:"paint",value:function(r){var n=this;ge(this,pl,"m",V2).call(this);var i=this.domainPainter.paint(r,this.root);return this.subDomainPainter.paint(this.domainPainter.root),this.domainLabelPainter.paint(this.domainPainter.root),ge(this,pl,"m",ZB).call(this),Promise.allSettled(i).then(function(){ge(n,pl,"m",QB).call(n)}),i}},{key:"updatePosition",value:function(){var r;if(!(!((r=this.root)===null||r===void 0)&&r.node()))return Promise.resolve();var n=this.calendar.options.options.animationDuration,i=this.calendar.pluginManager.getHeightFromPosition("top"),o=this.calendar.pluginManager.getWidthFromPosition("left");return[zg(this.root.node().parentNode).transition().duration(n).call(function(a){a.attr("x",o).attr("y",i)}).end()]}},{key:"width",value:function(){return this.dimensions.width}},{key:"height",value:function(){return this.dimensions.height}},{key:"destroy",value:function(){return ge(this,pl,"m",V2).call(this),Promise.resolve()}}]),e})();pl=new WeakSet,V2=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount+=1,zg(this.root.node().parentNode).classed(f3,!0))},QB=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount-=1,this.transitionsQueueCount===0&&zg(this.root.node().parentNode).classed(f3,!1))},ZB=function(){var t=this.calendar.options.options,r=t.animationDuration,n=t.verticalOrientation,i=t.domain.gutter,o=this.domainPainter.dimensions;this.dimensions={width:o.width-(n?0:i),height:o.height-(n?i:0)},this.root.transition().duration(r).attr("width",this.dimensions.width).attr("height",this.dimensions.height)};var ske=(function(){function e(t){ur(this,e),this.calendar=t}return fr(e,[{key:"paint",value:function(){var r=[];return r=r.concat(this.calendar.pluginManager.paintAll()),r=r.concat(this.setPluginsPosition()),r}},{key:"setPluginsPosition",value:function(){var r=this.calendar.pluginManager,n=this.calendar.options.options.animationDuration,i=this.calendar.calendarPainter.domainsContainerPainter,o=r.getFromPosition("top"),a=r.getFromPosition("right"),s=r.getFromPosition("bottom"),l=r.getFromPosition("left"),c=r.getHeightFromPosition("top"),u=r.getWidthFromPosition("left"),f=[],d=0;o.forEach(function(p){f.push(p.root.transition().duration(n).attr("y",d).attr("x",u).end()),d+=p.options.dimensions.height});var h=0;return l.forEach(function(p){f.push(p.root.transition().duration(n).attr("x",h).attr("y",c).end()),h+=p.options.dimensions.width}),s.forEach(function(p){f.push(p.root.transition().duration(n).attr("x",u).attr("y",c+i.height()).end())}),h+=i.width(),a.forEach(function(p){f.push(p.root.transition().duration(n).attr("x",h).attr("y",c).end()),h+=p.options.dimensions.width}),f}},{key:"insideWidth",value:function(){return this.calendar.pluginManager.getWidthFromPosition("left")+this.calendar.pluginManager.getWidthFromPosition("right")}},{key:"insideHeight",value:function(){return this.calendar.pluginManager.getHeightFromPosition("top")+this.calendar.pluginManager.getHeightFromPosition("bottom")}}]),e})(),ju,d3,h3,ez,lke=".ch-container",cke=(function(){function e(t){ur(this,e),ju.add(this),this.calendar=t,this.dimensions={width:0,height:0},this.root=null,this.domainsContainerPainter=new ake(t),this.pluginPainter=new ske(t)}return fr(e,[{key:"setup",value:function(){var r=this.calendar.options.options,n=r.itemSelector,i=r.theme;return this.root||(this.root=zg(n).append("svg").attr("data-theme",i).attr("class",lke.slice(1)),this.domainsContainerPainter.setup()),this.calendar.pluginManager.setupAll(),!0}},{key:"paint",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vt.SCROLL_NONE,n=this.domainsContainerPainter.paint(r).concat(this.pluginPainter.paint()).concat(this.domainsContainerPainter.updatePosition());return ge(this,ju,"m",ez).call(this),Promise.allSettled(n)}},{key:"destroy",value:function(){var r=this.calendar.pluginManager.destroyAll().concat(this.domainsContainerPainter.destroy());return this.root&&r.push(this.root.transition().duration(this.calendar.options.options.animationDuration).attr("width",0).attr("height",0).remove().end()),Promise.allSettled(r)}}]),e})();ju=new WeakSet,d3=function(){return this.domainsContainerPainter.height()+this.pluginPainter.insideHeight()},h3=function(){return this.domainsContainerPainter.width()+this.pluginPainter.insideWidth()},ez=function(){var t=this.calendar.options.options,r=ge(this,ju,"m",h3).call(this),n=ge(this,ju,"m",d3).call(this);this.root.transition().duration(t.animationDuration).attr("width",r).attr("height",n),(r!==this.dimensions.width||n!==this.dimensions.height)&&this.calendar.eventEmitter.emit("resize",r,n,this.dimensions.width,this.dimensions.height),this.dimensions={width:r,height:n}};var uke=typeof global=="object"&&global&&global.Object===Object&&global,tz=uke,fke=typeof self=="object"&&self&&self.Object===Object&&self,dke=tz||fke||Function("return this")(),Mi=dke,hke=Mi.Symbol,na=hke,rz=Object.prototype,pke=rz.hasOwnProperty,gke=rz.toString,Gc=na?na.toStringTag:void 0;function mke(e){var t=pke.call(e,Gc),r=e[Gc];try{e[Gc]=void 0;var n=!0}catch{}var i=gke.call(e);return n&&(t?e[Gc]=r:delete e[Gc]),i}var vke=Object.prototype,bke=vke.toString;function yke(e){return bke.call(e)}var $ke="[object Null]",wke="[object Undefined]",p3=na?na.toStringTag:void 0;function ha(e){return e==null?e===void 0?wke:$ke:p3&&p3 in Object(e)?mke(e):yke(e)}function no(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var xke="[object AsyncFunction]",Ske="[object Function]",kke="[object GeneratorFunction]",Oke="[object Proxy]";function rd(e){if(!no(e))return!1;var t=ha(e);return t==Ske||t==kke||t==xke||t==Oke}var Tke=Ke,Cke=Ci,nz=Kv,Eke=De,Mke=Eke(function(){nz(1)});Tke({target:"Object",stat:!0,forced:Mke},{keys:function(t){return nz(Cke(t))}});var Ake=Jt,Ike=po,Pke=ut,_ke=Pke("match"),Dke=function(e){var t;return Ake(e)&&((t=e[_ke])!==void 0?!!t:Ike(e)==="RegExp")},Lke=Dke,Nke=TypeError,iz=function(e){if(Lke(e))throw new Nke("The method doesn't accept regular expressions");return e},Rke=ut,Fke=Rke("match"),oz=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[Fke]=!1,"/./"[e](t)}catch{}}return!1},jke=Ke,az=rO,Bke=Xf.f,zke=Yk,g3=da,Hke=iz,Uke=Es,Vke=oz,m3=az("".startsWith),Wke=az("".slice),Kke=Math.min,sz=Vke("startsWith"),Gke=!sz&&!!(function(){var e=Bke(String.prototype,"startsWith");return e&&!e.writable})();jke({target:"String",proto:!0,forced:!Gke&&!sz},{startsWith:function(t){var r=g3(Uke(this));Hke(t);var n=zke(Kke(arguments.length>1?arguments[1]:void 0,r.length)),i=g3(t);return m3?m3(r,i,n):Wke(r,n,n+i.length)===i}});var lz=Fr,qke=De,cz=Be,Yke=dO,Jke=Kv,Xke=go,Qke=Lv.f,uz=cz(Qke),Zke=cz([].push),eOe=lz&&qke(function(){var e=Object.create(null);return e[2]=2,!uz(e,2)}),tOe=function(e){return function(t){for(var r=Xke(t),n=Jke(r),i=eOe&&Yke(r)===null,o=n.length,a=0,s=[],l;o>a;)l=n[a++],(!lz||(i?l in r:uz(r,l)))&&Zke(s,e?[l,r[l]]:r[l]);return s}},rOe={entries:tOe(!0)},nOe=Ke,iOe=rOe.entries;nOe({target:"Object",stat:!0},{entries:function(t){return iOe(t)}});function v3(e){return e!=null&&!Number.isNaN(e)}function oOe(e,t){return+v3(t)-+v3(e)||qo(e,t)}function fz(e){return isFinite(e)?e:NaN}function TO(e){return e>0&&isFinite(e)?e:NaN}function dz(e){return e<0&&isFinite(e)?e:NaN}const aOe=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function hz(e,t){return aOe.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const sOe=new Map([["second",qi],["minute",$v],["hour",xv],["day",hc],["week",Jl],["month",Dl],["quarter",Dl.every(3)],["half",Dl.every(6)],["year",bi],["monday",yf],["tuesday",m9],["wednesday",v9],["thursday",cs],["friday",b9],["saturday",y9],["sunday",Jl]]),lOe=new Map([["second",qi],["minute",wv],["hour",Sv],["day",qf],["week",Xl],["month",Ll],["quarter",Ll.every(3)],["half",Ll.every(6)],["year",yi],["monday",$f],["tuesday",$9],["wednesday",w9],["thursday",us],["friday",x9],["saturday",S9],["sunday",Xl]]);function cOe(e){const t=sOe.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function uOe(e){const t=lOe.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const pz=Object.getPrototypeOf(Uint8Array),fOe=Object.prototype.toString,dOe=e=>()=>e;function b3(e){return e instanceof pz?e:Qv(e,hOe,Float64Array)}function hOe(e){return e==null?NaN:Number(e)}function pOe(e){return Qv(e,gOe)}function gOe(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?hz(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function gz(e){return e==null||e instanceof Array||e instanceof pz?e:Array.from(e)}function Qv(e,t,r=Array){return e==null?e:e instanceof r?e.map(t):r.from(e,t)}function W2(e,t=Array){return e instanceof t?e.slice():t.from(e)}function mOe(e){return(e==null?void 0:e.toString)===fOe}function vOe(e){return mOe(e)&&(e.type!==void 0||e.domain!==void 0)}function bOe(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const r=Math.abs(e);return e<0?{floor:n=>Math.floor(n*r)/r,offset:n=>(n*r+1)/r,range:(n,i)=>r2(Math.ceil(n*r),i*r).map(o=>o/r)}:{floor:n=>Math.floor(n/r)*r,offset:n=>n+r,range:(n,i)=>r2(Math.ceil(n/r),i/r).map(o=>o*r)}}if(typeof e=="string")return(t==="time"?cOe:uOe)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function Zv(e,t){if(e=bOe(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function yOe(e,t){if(e=Zv(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function y3(e){for(const t of e){if(t==null)continue;const r=typeof t;return r==="string"||r==="boolean"}}function K2(e){for(const t of e)if(t!=null)return t instanceof Date}function $Oe(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&hz(t)}function wOe(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function xOe(e){return e==null||SOe(e)}function SOe(e){return/^\s*none\s*$/i.test(e)}function CO(e){if(e==null)return;const t=e[0],r=e[e.length-1];return pv(t,r)}const Bo=Symbol("position"),wi=Symbol("color"),e0=Symbol("radius"),t0=Symbol("length"),r0=Symbol("opacity"),n0=Symbol("symbol"),or=new Map([["x",Bo],["y",Bo],["fx",Bo],["fy",Bo],["r",e0],["color",wi],["opacity",r0],["symbol",n0],["length",t0]]),kOe=Math.sqrt(3),OOe=2/kOe,TOe={draw(e,t){const r=Math.sqrt(t/Math.PI),n=r*OOe,i=n/2;e.moveTo(0,n),e.lineTo(r,i),e.lineTo(r,-i),e.lineTo(0,-n),e.lineTo(-r,-i),e.lineTo(-r,i),e.closePath()}},COe=new Map([["asterisk",UF],["circle",Rk],["cross",VF],["diamond",KF],["diamond2",GF],["hexagon",TOe],["plus",qF],["square",YF],["square2",JF],["star",QF],["times",rj],["triangle",ZF],["triangle2",ej],["wye",tj]]);function EOe(e){return e&&typeof e.draw=="function"}function mz(e){if(e==null||EOe(e))return e;const t=COe.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function Jy(e){console.warn(e)}const $3=new Map([["accent",epe],["category10",Zhe],["dark2",tpe],["paired",rpe],["pastel1",npe],["pastel2",ipe],["set1",ope],["set2",ape],["set3",spe],["tableau10",lpe],["brbg",Li(L9,N9)],["prgn",Li(R9,F9)],["piyg",Li(j9,B9)],["puor",Li(z9,H9)],["rdbu",Li(f2,tm)],["rdgy",Li(U9,V9)],["rdylbu",Li(d2,rm)],["rdylgn",Li(W9,K9)],["spectral",Li(G9,q9)],["burd",w3(f2,tm)],["buylrd",w3(d2,rm)],["blues",Pt(yF,$F)],["greens",Pt(wF,xF)],["greys",Pt(SF,kF)],["oranges",Pt(MF,AF)],["purples",Pt(OF,TF)],["reds",Pt(CF,EF)],["turbo",Ni(RF)],["viridis",Ni(FF)],["magma",Ni(jF)],["inferno",Ni(BF)],["plasma",Ni(zF)],["cividis",Ni(IF)],["cubehelix",Ni(PF)],["warm",Ni(_F)],["cool",Ni(DF)],["bugn",Pt(Y9,J9)],["bupu",Pt(X9,Q9)],["gnbu",Pt(Z9,eF)],["orrd",Pt(tF,rF)],["pubu",Pt(oF,aF)],["pubugn",Pt(nF,iF)],["purd",Pt(sF,lF)],["rdpu",Pt(cF,uF)],["ylgn",Pt(hF,pF)],["ylgnbu",Pt(fF,dF)],["ylorbr",Pt(gF,mF)],["ylorrd",Pt(vF,bF)],["rainbow",x3(LF)],["sinebow",x3(NF)]]);function Pt(e,t){return({length:r})=>r===1?[e[3][1]]:r===2?[e[3][1],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?vi(t,r):e[r])}function Li(e,t){return({length:r})=>r===2?[e[3][0],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?vi(t,r):e[r])}function w3(e,t){return({length:r})=>r===2?[e[3][2],e[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?vi(n=>t(1-n),r):e[r].slice().reverse())}function Ni(e){return({length:t})=>vi(e,Math.max(2,Math.floor(t)))}function x3(e){return({length:t})=>vi(e,Math.floor(t)+1).slice(0,-1)}function vz(e){const t=`${e}`.toLowerCase();if(!$3.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return $3.get(t)}function i0(e,t){const r=vz(e),n=typeof r=="function"?r({length:t}):r;return n.length!==t?n.slice(0,t):n}function MOe(e,t="greys"){const r=new Set,[n,i]=i0(t,2);for(const o of e)if(o!=null)if(o===!0)r.add(i);else if(o===!1)r.add(n);else return;return[...r]}const S3=new Map([["brbg",N9],["prgn",F9],["piyg",B9],["puor",H9],["rdbu",tm],["rdgy",V9],["rdylbu",rm],["rdylgn",K9],["spectral",q9],["burd",e=>tm(1-e)],["buylrd",e=>rm(1-e)],["blues",$F],["greens",xF],["greys",kF],["purples",TF],["reds",EF],["oranges",AF],["turbo",RF],["viridis",FF],["magma",jF],["inferno",BF],["plasma",zF],["cividis",IF],["cubehelix",PF],["warm",_F],["cool",DF],["bugn",J9],["bupu",Q9],["gnbu",eF],["orrd",rF],["pubugn",iF],["pubu",aF],["purd",lF],["rdpu",uF],["ylgnbu",dF],["ylgn",pF],["ylorbr",mF],["ylorrd",bF],["rainbow",LF],["sinebow",NF]]);function EO(e){const t=`${e}`.toLowerCase();if(!S3.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return S3.get(t)}const AOe=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function k3(e){return e!=null&&AOe.has(`${e}`.toLowerCase())}const bz=e=>t=>e(1-t),Xy=[0,1],O3=new Map([["number",dr],["rgb",ss],["hsl",Gue],["hcl",Jue],["lab",que]]);function yz(e){const t=`${e}`.toLowerCase();if(!O3.has(t))throw new Error(`unknown interpolator: ${t}`);return O3.get(t)}function nd(e,t,r,{type:n,nice:i,clamp:o,zero:a,domain:s=wz(e,r),unknown:l,round:c,scheme:u,interval:f,range:d=or.get(e)===e0?zOe(r,s):or.get(e)===t0?HOe(r,s):or.get(e)===r0?Xy:void 0,interpolate:h=or.get(e)===wi?u==null&&d!==void 0?ss:EO(u!==void 0?u:n==="cyclical"?"rainbow":"turbo"):c?kk:dr,reverse:p}){if(f=Zv(f,n),(n==="cyclical"||n==="sequential")&&(n="linear"),p=!!p,typeof h!="function"&&(h=yz(h)),h.length===1?(p&&(h=bz(h),p=!1),d===void 0&&(d=Float64Array.from(s,(g,m)=>m/(s.length-1)),d.length===2&&(d=Xy)),t.interpolate((d===Xy?dOe:xz)(h))):t.interpolate(h),a){const[g,m]=xk(s);(g>0||m<0)&&(s=W2(s),CO(s)!==Math.sign(g)?s[s.length-1]=0:s[0]=0)}return p&&(s=Yg(s)),t.domain(s).unknown(l),i&&(t.nice(IOe(i,n)),s=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:n,domain:s,range:d,scale:t,interpolate:h,interval:f}}function IOe(e,t){return e===!0?void 0:typeof e=="number"?e:yOe(e,t)}function POe(e,t,r){return nd(e,i9(),t,r)}function _Oe(e,t,r){return $z(e,t,{...r,exponent:.5})}function $z(e,t,{exponent:r=1,...n}){return nd(e,d9().exponent(r),t,{...n,type:"pow"})}function DOe(e,t,{base:r=10,domain:n=UOe(t),...i}){return nd(e,l9().base(r),t,{...i,domain:n})}function LOe(e,t,{constant:r=1,...n}){return nd(e,u9().constant(r),t,n)}function NOe(e,t,{range:r,quantiles:n=r===void 0?5:(r=[...r]).length,n:i=n,scheme:o="rdylbu",domain:a=VOe(t),unknown:s,interpolate:l,reverse:c}){return r===void 0&&(r=l!==void 0?vi(l,i):or.get(e)===wi?i0(o,i):void 0),a.length>0&&(a=h9(a,r===void 0?{length:i}:r).quantiles()),MO(e,t,{domain:a,range:r,reverse:c,unknown:s})}function ROe(e,t,{range:r,n=r===void 0?5:(r=[...r]).length,scheme:i="rdylbu",domain:o=wz(e,t),unknown:a,interpolate:s,reverse:l}){const[c,u]=xk(o);let f;return r===void 0?(f=Gg(c,u,n),f[0]<=c&&f.splice(0,1),f[f.length-1]>=u&&f.pop(),n=f.length+1,r=s!==void 0?vi(s,n):or.get(e)===wi?i0(i,n):void 0):(f=vi(dr(c,u),n+1).slice(1,-1),c instanceof Date&&(f=f.map(d=>new Date(d)))),CO(gz(o))<0&&f.reverse(),MO(e,t,{domain:f,range:r,reverse:l,unknown:a})}function MO(e,t,{domain:r=[0],unknown:n,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?vi(o,r.length+1):or.get(e)===wi?i0(i,r.length+1):void 0,reverse:s}){r=gz(r);const l=CO(r);if(!isNaN(l)&&!FOe(r,l))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=Yg(a)),{type:"threshold",scale:p9(l<0?Yg(r):r,a===void 0?[]:a).unknown(n),domain:r,range:a}}function FOe(e,t){for(let r=1,n=e.length,i=e[0];r<n;++r){const o=pv(i,i=e[r]);if(o!==0&&o!==t)return!1}return!0}function jOe(){return{type:"identity",scale:o9()}}function Sf(e,t=fz){return e.length?[qg(e,({value:r})=>r===void 0?r:qg(r,t)),ta(e,({value:r})=>r===void 0?r:ta(r,t))]:[0,1]}function wz(e,t){const r=or.get(e);return(r===e0||r===r0||r===t0?BOe:Sf)(t)}function BOe(e){return[0,e.length?ta(e,({value:t})=>t===void 0?t:ta(t,fz)):1]}function zOe(e,t){const r=e.find(({radius:a})=>a!==void 0);if(r!==void 0)return[0,r.radius];const n=t2(e,.5,({value:a})=>a===void 0?NaN:t2(a,.25,TO)),i=t.map(a=>3*Math.sqrt(a/n)),o=30/ta(i);return o<1?i.map(a=>a*o):i}function HOe(e,t){const r=x5(e,({value:o})=>o===void 0?NaN:x5(o,Math.abs)),n=t.map(o=>12*o/r),i=60/ta(n);return i<1?n.map(o=>o*i):n}function UOe(e){for(const{value:t}of e)if(t!==void 0)for(let r of t){if(r>0)return Sf(e,TO);if(r<0)return Sf(e,dz)}return[1,10]}function VOe(e){const t=[];for(const{value:r}of e)if(r!==void 0)for(const n of r)t.push(n);return t}function xz(e){return(t,r)=>n=>e(t+n*(r-t))}function o0(e,t,r,n,{type:i,nice:o,clamp:a,domain:s=Sf(n),unknown:l,pivot:c=0,scheme:u,range:f,symmetric:d=!0,interpolate:h=or.get(e)===wi?u==null&&f!==void 0?ss:EO(u!==void 0?u:"rdbu"):dr,reverse:p}){c=+c;let[g,m]=s;if(pv(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,c),m=Math.max(m,c),typeof h!="function"&&(h=yz(h)),f!==void 0&&(h=h.length===1?xz(h)(...f):V7(h,f)),p&&(h=bz(h)),d){const v=r.apply(c),b=v-r.apply(g),y=r.apply(m)-v;b<y?g=r.invert(v-y):b>y&&(m=r.invert(v+b))}return t.domain([g,c,m]).unknown(l).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[g,m],pivot:c,interpolate:h,scale:t}}function WOe(e,t,r){return o0(e,I9(),YOe,t,r)}function KOe(e,t,r){return Sz(e,t,{...r,exponent:.5})}function Sz(e,t,{exponent:r=1,...n}){return o0(e,D9().exponent(r=+r),QOe(r),t,{...n,type:"diverging-pow"})}function GOe(e,t,{base:r=10,pivot:n=1,domain:i=Sf(t,n<0?dz:TO),...o}){return o0(e,P9().base(r=+r),JOe,t,{domain:i,pivot:n,...o})}function qOe(e,t,{constant:r=1,...n}){return o0(e,_9().constant(r=+r),ZOe(r),t,n)}const YOe={apply(e){return e},invert(e){return e}},JOe={apply:Math.log,invert:Math.exp},XOe={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function QOe(e){return e===.5?XOe:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function ZOe(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function kz(e,t,r,n){return nd(e,t,r,n)}function eTe(e,t,r){return kz(e,Xhe(),t,r)}function tTe(e,t,r){return kz(e,Qhe(),t,r)}const id=Symbol("ordinal");function Oz(e,t,r,{type:n,interval:i,domain:o,range:a,reverse:s,hint:l}){return i=Zv(i,n),o===void 0&&(o=Cz(r,i,e)),(n==="categorical"||n===id)&&(n="ordinal"),s&&(o=Yg(o)),t.domain(o),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:n,domain:o,range:a,scale:t,hint:l,interval:i}}function rTe(e,t,{type:r,interval:n,domain:i,range:o,scheme:a,unknown:s,...l}){n=Zv(n,r),i===void 0&&(i=Cz(t,n,e));let c;if(or.get(e)===n0)c=oTe(t),o=o===void 0?aTe(c):Qv(o,mz);else if(or.get(e)===wi&&(o===void 0&&(r==="ordinal"||r===id)&&(o=MOe(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=r==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const u=EO(a),f=o[0],d=o[1]-o[0];o=({length:h})=>vi(p=>u(f+d*p),h)}else o=vz(a);if(s===l2)throw new Error(`implicit unknown on ${e} scale is not supported`);return Oz(e,Pk().unknown(s),t,{...l,type:r,domain:i,range:o,hint:c})}function nTe(e,t,{align:r=.5,padding:n=.5,...i}){return Tz(Ide().align(r).padding(n),t,i,e)}function iTe(e,t,{align:r=.5,padding:n=.1,paddingInner:i=n,paddingOuter:o=e==="fx"||e==="fy"?0:n,...a}){return Tz(_k().align(r).paddingInner(i).paddingOuter(o),t,a,e)}function Tz(e,t,r,n){let{round:i}=r;return i!==void 0&&e.round(i=!!i),e=Oz(n,e,t,r),e.round=i,e}function Cz(e,t,r){const n=new yue;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)n.add(a)}if(t!==void 0){const[i,o]=xk(n).map(t.floor,t);return t.range(i,t.offset(o))}if(n.size>1e4&&or.get(r)===Bo)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return wue(n,oOe)}function T3(e,t){let r;for(const{hint:n}of e){const i=n==null?void 0:n[t];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}function oTe(e){return{fill:T3(e,"fill"),stroke:T3(e,"stroke")}}function aTe(e){return xOe(e.fill)?ype:bpe}function sTe(e,t,r){return lTe(e,void 0,{...t})}function lTe(e,t=[],r={}){const n=cTe(e,t,r);if(r.type===void 0&&r.domain===void 0&&r.range===void 0&&r.interval==null&&e!=="fx"&&e!=="fy"&&uTe({type:n})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(K2)?Jy(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Zs(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Zs(n)}".`):i.some($Oe)?Jy(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Zs(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Zs(n)}".`):i.some(wOe)&&Jy(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Zs(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Zs(n)}".`)}switch(r.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=mh(t,r,b3);break;case"identity":switch(or.get(e)){case Bo:r=mh(t,r,b3);break;case n0:r=mh(t,r,fTe);break}break;case"utc":case"time":r=mh(t,r,pOe);break}switch(n){case"diverging":return WOe(e,t,r);case"diverging-sqrt":return KOe(e,t,r);case"diverging-pow":return Sz(e,t,r);case"diverging-log":return GOe(e,t,r);case"diverging-symlog":return qOe(e,t,r);case"categorical":case"ordinal":case id:return rTe(e,t,r);case"cyclical":case"sequential":case"linear":return POe(e,t,r);case"sqrt":return _Oe(e,t,r);case"threshold":return MO(e,t,r);case"quantile":return NOe(e,t,r);case"quantize":return ROe(e,t,r);case"pow":return $z(e,t,r);case"log":return DOe(e,t,r);case"symlog":return LOe(e,t,r);case"utc":return tTe(e,t,r);case"time":return eTe(e,t,r);case"point":return nTe(e,t,r);case"band":return iTe(e,t,r);case"identity":return or.get(e)===Bo?jOe():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function Zs(e){return typeof e=="symbol"?e.description:e}const C3={toString:()=>"projection"};function cTe(e,t,{type:r,domain:n,range:i,scheme:o,pivot:a,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(r=C3);for(const{type:u}of t)if(u!==void 0){if(r===void 0)r=u;else if(r!==u)throw new Error(`scale incompatible with channel: ${r} !== ${u}`)}if(r===C3)return;if(r!==void 0)return r;if(n===void 0&&!t.some(({value:u})=>u!==void 0))return;const l=or.get(e);if(l===e0)return"sqrt";if(l===r0||l===t0)return"linear";if(l===n0)return"ordinal";if((n||i||[]).length>2)return Qy(l);if(n!==void 0)return y3(n)?Qy(l):K2(n)?"utc":l===wi&&(a!=null||k3(o))?"diverging":"linear";const c=t.map(({value:u})=>u).filter(u=>u!==void 0);return c.some(y3)?Qy(l):c.some(K2)?"utc":l===wi&&(a!=null||k3(o))?"diverging":"linear"}function Qy(e){switch(e){case Bo:return"point";case wi:return id;default:return"ordinal"}}function uTe({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===id}function mh(e,{domain:t,...r},n){for(const i of e)i.value!==void 0&&(i.value=n(i.value));return{domain:t===void 0?t:n(t),...r}}function fTe(e){return Qv(e,mz)}function dTe(e={}){let t;for(const r in e)if(or.has(r)&&vOe(e[r])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=hTe(sTe(r,e[r]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function hTe({scale:e,type:t,domain:r,range:n,interpolate:i,interval:o,transform:a,percent:s,pivot:l}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const c=e.unknown?e.unknown():void 0;return{type:t,domain:W2(r),...n!==void 0&&{range:W2(n)},...a!==void 0&&{transform:a},...s&&{percent:s},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function pTe(e){try{var t=Object.keys(e)[0];return dTe(xpe({},t,Object.assign(Object.assign({},e[t]),{clamp:!0})))}catch{return null}}function gTe(e,t){var r={};return t.hasOwnProperty("opacity")?(r.fill=function(){return t.opacity.baseColor||Q2e},r["fill-opacity"]=function(n){return e==null?void 0:e.apply(n)}):r.fill=function(n){return typeof n=="string"&&(n!=null&&n.startsWith("#"))?n:e==null?void 0:e.apply(n)},r}function mTe(e,t,r,n){Object.entries(gTe(t,r)).forEach(function(i){var o=nj(i,2),a=o[0],s=o[1];return e.style(a,function(l){return s(l[n])})})}var vTe=(function(){function e(t){ur(this,e),this.calendar=t}return fr(e,[{key:"populate",value:function(){var r=this.calendar,n=r.options.options,i=n.scale,o=n.subDomain,a=pTe(i);r.calendarPainter.root.selectAll(".ch-domain").selectAll("svg").selectAll("g").data(function(s){return r.domainCollection.get(s)||[]}).call(function(s){mTe(s.select("rect"),a,i,"v")}).call(function(s){s.select("text").attr("style",function(l){var c=Vg(a==null?void 0:a.apply(l.v)).l>60?"#000":"#fff",u=o.color||(l.v?c:null);return rd(u)&&(u=u(l.t,l.v,a==null?void 0:a.apply(l.v))),u?"fill: ".concat(u,";"):null}).text(function(l,c,u){return r.dateHelper.format(l.t,o.label,l.v,u[c])})}).call(function(){r.eventEmitter.emit("fill")})}}]),e})();function bTe(){this.__data__=[],this.size=0}function od(e,t){return e===t||e!==e&&t!==t}function a0(e,t){for(var r=e.length;r--;)if(od(e[r][0],t))return r;return-1}var yTe=Array.prototype,$Te=yTe.splice;function wTe(e){var t=this.__data__,r=a0(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():$Te.call(t,r,1),--this.size,!0}function xTe(e){var t=this.__data__,r=a0(t,e);return r<0?void 0:t[r][1]}function STe(e){return a0(this.__data__,e)>-1}function kTe(e,t){var r=this.__data__,n=a0(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function vo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vo.prototype.clear=bTe;vo.prototype.delete=wTe;vo.prototype.get=xTe;vo.prototype.has=STe;vo.prototype.set=kTe;function OTe(){this.__data__=new vo,this.size=0}function TTe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function CTe(e){return this.__data__.get(e)}function ETe(e){return this.__data__.has(e)}var MTe=Mi["__core-js_shared__"],Zy=MTe,E3=(function(){var e=/[^.]+$/.exec(Zy&&Zy.keys&&Zy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function ATe(e){return!!E3&&E3 in e}var ITe=Function.prototype,PTe=ITe.toString;function _s(e){if(e!=null){try{return PTe.call(e)}catch{}try{return e+""}catch{}}return""}var _Te=/[\\^$.*+?()[\]{}|]/g,DTe=/^\[object .+?Constructor\]$/,LTe=Function.prototype,NTe=Object.prototype,RTe=LTe.toString,FTe=NTe.hasOwnProperty,jTe=RegExp("^"+RTe.call(FTe).replace(_Te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BTe(e){if(!no(e)||ATe(e))return!1;var t=rd(e)?jTe:DTe;return t.test(_s(e))}function zTe(e,t){return e==null?void 0:e[t]}function Ds(e,t){var r=zTe(e,t);return BTe(r)?r:void 0}var HTe=Ds(Mi,"Map"),kf=HTe,UTe=Ds(Object,"create"),Of=UTe;function VTe(){this.__data__=Of?Of(null):{},this.size=0}function WTe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var KTe="__lodash_hash_undefined__",GTe=Object.prototype,qTe=GTe.hasOwnProperty;function YTe(e){var t=this.__data__;if(Of){var r=t[e];return r===KTe?void 0:r}return qTe.call(t,e)?t[e]:void 0}var JTe=Object.prototype,XTe=JTe.hasOwnProperty;function QTe(e){var t=this.__data__;return Of?t[e]!==void 0:XTe.call(t,e)}var ZTe="__lodash_hash_undefined__";function eCe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Of&&t===void 0?ZTe:t,this}function ps(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ps.prototype.clear=VTe;ps.prototype.delete=WTe;ps.prototype.get=YTe;ps.prototype.has=QTe;ps.prototype.set=eCe;function tCe(){this.size=0,this.__data__={hash:new ps,map:new(kf||vo),string:new ps}}function rCe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function s0(e,t){var r=e.__data__;return rCe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function nCe(e){var t=s0(this,e).delete(e);return this.size-=t?1:0,t}function iCe(e){return s0(this,e).get(e)}function oCe(e){return s0(this,e).has(e)}function aCe(e,t){var r=s0(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function bo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bo.prototype.clear=tCe;bo.prototype.delete=nCe;bo.prototype.get=iCe;bo.prototype.has=oCe;bo.prototype.set=aCe;var sCe=200;function lCe(e,t){var r=this.__data__;if(r instanceof vo){var n=r.__data__;if(!kf||n.length<sCe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new bo(n)}return r.set(e,t),this.size=r.size,this}function Xi(e){var t=this.__data__=new vo(e);this.size=t.size}Xi.prototype.clear=OTe;Xi.prototype.delete=TTe;Xi.prototype.get=CTe;Xi.prototype.has=ETe;Xi.prototype.set=lCe;var cCe=(function(){try{var e=Ds(Object,"defineProperty");return e({},"",{}),e}catch{}})(),hm=cCe;function AO(e,t,r){t=="__proto__"&&hm?hm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function G2(e,t,r){(r!==void 0&&!od(e[t],r)||r===void 0&&!(t in e))&&AO(e,t,r)}function uCe(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var l=a[++i];if(r(o[l],l,o)===!1)break}return t}}var fCe=uCe(),dCe=fCe,Ez=typeof qr=="object"&&qr&&!qr.nodeType&&qr,M3=Ez&&typeof Yr=="object"&&Yr&&!Yr.nodeType&&Yr,hCe=M3&&M3.exports===Ez,A3=hCe?Mi.Buffer:void 0;A3&&A3.allocUnsafe;function pCe(e,t){return e.slice()}var gCe=Mi.Uint8Array,pm=gCe;function mCe(e){var t=new e.constructor(e.byteLength);return new pm(t).set(new pm(e)),t}function vCe(e,t){var r=mCe(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function bCe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var I3=Object.create,yCe=(function(){function e(){}return function(t){if(!no(t))return{};if(I3)return I3(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})(),$Ce=yCe;function Mz(e,t){return function(r){return e(t(r))}}var wCe=Mz(Object.getPrototypeOf,Object),Az=wCe,xCe=Object.prototype;function IO(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||xCe;return e===r}function SCe(e){return typeof e.constructor=="function"&&!IO(e)?$Ce(Az(e)):{}}function io(e){return e!=null&&typeof e=="object"}var kCe="[object Arguments]";function P3(e){return io(e)&&ha(e)==kCe}var Iz=Object.prototype,OCe=Iz.hasOwnProperty,TCe=Iz.propertyIsEnumerable,CCe=P3((function(){return arguments})())?P3:function(e){return io(e)&&OCe.call(e,"callee")&&!TCe.call(e,"callee")},gm=CCe,ECe=9007199254740991;function PO(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ECe}function l0(e){return e!=null&&PO(e.length)&&!rd(e)}function MCe(e){return io(e)&&l0(e)}function ACe(){return!1}var Pz=typeof qr=="object"&&qr&&!qr.nodeType&&qr,_3=Pz&&typeof Yr=="object"&&Yr&&!Yr.nodeType&&Yr,ICe=_3&&_3.exports===Pz,D3=ICe?Mi.Buffer:void 0,PCe=D3?D3.isBuffer:void 0,_Ce=PCe||ACe,mm=_Ce,DCe="[object Object]",LCe=Function.prototype,NCe=Object.prototype,_z=LCe.toString,RCe=NCe.hasOwnProperty,FCe=_z.call(Object);function jCe(e){if(!io(e)||ha(e)!=DCe)return!1;var t=Az(e);if(t===null)return!0;var r=RCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&_z.call(r)==FCe}var BCe="[object Arguments]",zCe="[object Array]",HCe="[object Boolean]",UCe="[object Date]",VCe="[object Error]",WCe="[object Function]",KCe="[object Map]",GCe="[object Number]",qCe="[object Object]",YCe="[object RegExp]",JCe="[object Set]",XCe="[object String]",QCe="[object WeakMap]",ZCe="[object ArrayBuffer]",eEe="[object DataView]",tEe="[object Float32Array]",rEe="[object Float64Array]",nEe="[object Int8Array]",iEe="[object Int16Array]",oEe="[object Int32Array]",aEe="[object Uint8Array]",sEe="[object Uint8ClampedArray]",lEe="[object Uint16Array]",cEe="[object Uint32Array]",Ye={};Ye[tEe]=Ye[rEe]=Ye[nEe]=Ye[iEe]=Ye[oEe]=Ye[aEe]=Ye[sEe]=Ye[lEe]=Ye[cEe]=!0;Ye[BCe]=Ye[zCe]=Ye[ZCe]=Ye[HCe]=Ye[eEe]=Ye[UCe]=Ye[VCe]=Ye[WCe]=Ye[KCe]=Ye[GCe]=Ye[qCe]=Ye[YCe]=Ye[JCe]=Ye[XCe]=Ye[QCe]=!1;function uEe(e){return io(e)&&PO(e.length)&&!!Ye[ha(e)]}function fEe(e){return function(t){return e(t)}}var Dz=typeof qr=="object"&&qr&&!qr.nodeType&&qr,Bu=Dz&&typeof Yr=="object"&&Yr&&!Yr.nodeType&&Yr,dEe=Bu&&Bu.exports===Dz,e1=dEe&&tz.process,hEe=(function(){try{var e=Bu&&Bu.require&&Bu.require("util").types;return e||e1&&e1.binding&&e1.binding("util")}catch{}})(),L3=hEe,N3=L3&&L3.isTypedArray,pEe=N3?fEe(N3):uEe,_O=pEe;function q2(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var gEe=Object.prototype,mEe=gEe.hasOwnProperty;function Lz(e,t,r){var n=e[t];(!(mEe.call(e,t)&&od(n,r))||r===void 0&&!(t in e))&&AO(e,t,r)}function vEe(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=void 0;l===void 0&&(l=e[s]),i?AO(r,s,l):Lz(r,s,l)}return r}function bEe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var yEe=9007199254740991,$Ee=/^(?:0|[1-9]\d*)$/;function c0(e,t){var r=typeof e;return t=t??yEe,!!t&&(r=="number"||r!="symbol"&&$Ee.test(e))&&e>-1&&e%1==0&&e<t}var wEe=Object.prototype,xEe=wEe.hasOwnProperty;function Nz(e,t){var r=bn(e),n=!r&&gm(e),i=!r&&!n&&mm(e),o=!r&&!n&&!i&&_O(e),a=r||n||i||o,s=a?bEe(e.length,String):[],l=s.length;for(var c in e)(t||xEe.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||c0(c,l)))&&s.push(c);return s}function SEe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var kEe=Object.prototype,OEe=kEe.hasOwnProperty;function TEe(e){if(!no(e))return SEe(e);var t=IO(e),r=[];for(var n in e)n=="constructor"&&(t||!OEe.call(e,n))||r.push(n);return r}function Rz(e){return l0(e)?Nz(e,!0):TEe(e)}function CEe(e){return vEe(e,Rz(e))}function EEe(e,t,r,n,i,o,a){var s=q2(e,r),l=q2(t,r),c=a.get(l);if(c){G2(e,r,c);return}var u=o?o(s,l,r+"",e,t,a):void 0,f=u===void 0;if(f){var d=bn(l),h=!d&&mm(l),p=!d&&!h&&_O(l);u=l,d||h||p?bn(s)?u=s:MCe(s)?u=bCe(s):h?(f=!1,u=pCe(l)):p?(f=!1,u=vCe(l)):u=[]:jCe(l)||gm(l)?(u=s,gm(s)?u=CEe(s):(!no(s)||rd(s))&&(u=SCe(l))):f=!1}f&&(a.set(l,u),i(u,l,n,o,a),a.delete(l)),G2(e,r,u)}function Fz(e,t,r,n,i){e!==t&&dCe(t,function(o,a){if(i||(i=new Xi),no(o))EEe(e,t,a,r,Fz,n,i);else{var s=n?n(q2(e,a),o,a+"",e,t,i):void 0;s===void 0&&(s=o),G2(e,a,s)}},Rz)}function jz(e){return e}function MEe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var R3=Math.max;function AEe(e,t,r){return t=R3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=R3(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),MEe(e,this,s)}}function IEe(e){return function(){return e}}var PEe=hm?function(e,t){return hm(e,"toString",{configurable:!0,enumerable:!1,value:IEe(t),writable:!0})}:jz,_Ee=PEe,DEe=800,LEe=16,NEe=Date.now;function REe(e){var t=0,r=0;return function(){var n=NEe(),i=LEe-(n-r);if(r=n,i>0){if(++t>=DEe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var FEe=REe(_Ee),jEe=FEe;function BEe(e,t){return jEe(AEe(e,t,jz),e+"")}function zEe(e,t,r){if(!no(r))return!1;var n=typeof t;return(n=="number"?l0(r)&&c0(t,r.length):n=="string"&&t in r)?od(r[t],e):!1}function HEe(e){return BEe(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&zEe(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t})}var UEe=HEe(function(e,t,r,n){Fz(e,t,r,n)}),VEe=UEe,WEe="__lodash_hash_undefined__";function KEe(e){return this.__data__.set(e,WEe),this}function GEe(e){return this.__data__.has(e)}function vm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new bo;++t<r;)this.add(e[t])}vm.prototype.add=vm.prototype.push=KEe;vm.prototype.has=GEe;function qEe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function YEe(e,t){return e.has(t)}var JEe=1,XEe=2;function Bz(e,t,r,n,i,o){var a=r&JEe,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,d=!0,h=r&XEe?new vm:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(n)var m=a?n(g,p,f,t,e,o):n(p,g,f,e,t,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!qEe(t,function(v,b){if(!YEe(h,b)&&(p===v||i(p,v,r,n,o)))return h.push(b)})){d=!1;break}}else if(!(p===g||i(p,g,r,n,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function QEe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function ZEe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var eMe=1,tMe=2,rMe="[object Boolean]",nMe="[object Date]",iMe="[object Error]",oMe="[object Map]",aMe="[object Number]",sMe="[object RegExp]",lMe="[object Set]",cMe="[object String]",uMe="[object Symbol]",fMe="[object ArrayBuffer]",dMe="[object DataView]",F3=na?na.prototype:void 0,t1=F3?F3.valueOf:void 0;function hMe(e,t,r,n,i,o,a){switch(r){case dMe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fMe:return!(e.byteLength!=t.byteLength||!o(new pm(e),new pm(t)));case rMe:case nMe:case aMe:return od(+e,+t);case iMe:return e.name==t.name&&e.message==t.message;case sMe:case cMe:return e==t+"";case oMe:var s=QEe;case lMe:var l=n&eMe;if(s||(s=ZEe),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;n|=tMe,a.set(e,t);var u=Bz(s(e),s(t),n,i,o,a);return a.delete(e),u;case uMe:if(t1)return t1.call(e)==t1.call(t)}return!1}function pMe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function gMe(e,t,r){var n=t(e);return bn(e)?n:pMe(n,r(e))}function mMe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function vMe(){return[]}var bMe=Object.prototype,yMe=bMe.propertyIsEnumerable,j3=Object.getOwnPropertySymbols,$Me=j3?function(e){return e==null?[]:(e=Object(e),mMe(j3(e),function(t){return yMe.call(e,t)}))}:vMe,wMe=$Me,xMe=Mz(Object.keys,Object),SMe=xMe,kMe=Object.prototype,OMe=kMe.hasOwnProperty;function TMe(e){if(!IO(e))return SMe(e);var t=[];for(var r in Object(e))OMe.call(e,r)&&r!="constructor"&&t.push(r);return t}function CMe(e){return l0(e)?Nz(e):TMe(e)}function B3(e){return gMe(e,CMe,wMe)}var EMe=1,MMe=Object.prototype,AMe=MMe.hasOwnProperty;function IMe(e,t,r,n,i,o){var a=r&EMe,s=B3(e),l=s.length,c=B3(t),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in t:AMe.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var m=a;++f<l;){d=s[f];var v=e[d],b=t[d];if(n)var y=a?n(b,v,d,t,e,o):n(v,b,d,e,t,o);if(!(y===void 0?v===b||i(v,b,r,n,o):y)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var w=e.constructor,$=t.constructor;w!=$&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof $=="function"&&$ instanceof $)&&(g=!1)}return o.delete(e),o.delete(t),g}var PMe=Ds(Mi,"DataView"),Y2=PMe,_Me=Ds(Mi,"Promise"),J2=_Me,DMe=Ds(Mi,"Set"),X2=DMe,LMe=Ds(Mi,"WeakMap"),Q2=LMe,z3="[object Map]",NMe="[object Object]",H3="[object Promise]",U3="[object Set]",V3="[object WeakMap]",W3="[object DataView]",RMe=_s(Y2),FMe=_s(kf),jMe=_s(J2),BMe=_s(X2),zMe=_s(Q2),Aa=ha;(Y2&&Aa(new Y2(new ArrayBuffer(1)))!=W3||kf&&Aa(new kf)!=z3||J2&&Aa(J2.resolve())!=H3||X2&&Aa(new X2)!=U3||Q2&&Aa(new Q2)!=V3)&&(Aa=function(e){var t=ha(e),r=t==NMe?e.constructor:void 0,n=r?_s(r):"";if(n)switch(n){case RMe:return W3;case FMe:return z3;case jMe:return H3;case BMe:return U3;case zMe:return V3}return t});var K3=Aa,HMe=1,G3="[object Arguments]",q3="[object Array]",vh="[object Object]",UMe=Object.prototype,Y3=UMe.hasOwnProperty;function VMe(e,t,r,n,i,o){var a=bn(e),s=bn(t),l=a?q3:K3(e),c=s?q3:K3(t);l=l==G3?vh:l,c=c==G3?vh:c;var u=l==vh,f=c==vh,d=l==c;if(d&&mm(e)){if(!mm(t))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new Xi),a||_O(e)?Bz(e,t,r,n,i,o):hMe(e,t,l,r,n,i,o);if(!(r&HMe)){var h=u&&Y3.call(e,"__wrapped__"),p=f&&Y3.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,m=p?t.value():t;return o||(o=new Xi),i(g,m,r,n,o)}}return d?(o||(o=new Xi),IMe(e,t,r,n,i,o)):!1}function zz(e,t,r,n,i){return e===t?!0:e==null||t==null||!io(e)&&!io(t)?e!==e&&t!==t:VMe(e,t,r,n,zz,i)}function Hz(e,t){return zz(e,t)}var WMe=Object.prototype,KMe=WMe.hasOwnProperty;function GMe(e,t){return e!=null&&KMe.call(e,t)}var qMe="[object Symbol]";function DO(e){return typeof e=="symbol"||io(e)&&ha(e)==qMe}var YMe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JMe=/^\w*$/;function XMe(e,t){if(bn(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||DO(e)?!0:JMe.test(e)||!YMe.test(e)||t!=null&&e in Object(t)}var QMe="Expected a function";function LO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(QMe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(LO.Cache||bo),r}LO.Cache=bo;var ZMe=500;function e5e(e){var t=LO(e,function(n){return r.size===ZMe&&r.clear(),n}),r=t.cache;return t}var t5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r5e=/\\(\\)?/g,n5e=e5e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(t5e,function(r,n,i,o){t.push(i?o.replace(r5e,"$1"):n||r)}),t}),i5e=n5e;function o5e(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var J3=na?na.prototype:void 0,X3=J3?J3.toString:void 0;function Uz(e){if(typeof e=="string")return e;if(bn(e))return o5e(e,Uz)+"";if(DO(e))return X3?X3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function a5e(e){return e==null?"":Uz(e)}function NO(e,t){return bn(e)?e:XMe(e,t)?[e]:i5e(a5e(e))}function RO(e){if(typeof e=="string"||DO(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function s5e(e,t,r){t=NO(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=RO(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&PO(i)&&c0(a,i)&&(bn(e)||gm(e)))}function Q3(e,t){return e!=null&&s5e(e,t,GMe)}function l5e(e,t){t=NO(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[RO(t[r++])];return r&&r==n?e:void 0}function bh(e,t,r){var n=e==null?void 0:l5e(e,t);return n===void 0?r:n}function c5e(e,t,r,n){if(!no(e))return e;t=NO(t,e);for(var i=-1,o=t.length,a=o-1,s=e;s!=null&&++i<o;){var l=RO(t[i]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=a){var u=s[l];c=void 0,c===void 0&&(c=no(u)?u:c0(t[i+1])?[]:{})}Lz(s,l,c),s=s[l]}return e}function Z3(e,t,r){return e==null?e:c5e(e,t,r)}var u5e="[object String]";function f5e(e){return typeof e=="string"||!bn(e)&&io(e)&&ha(e)==u5e}var d5e={range:function(t){return Math.max(+t,1)},"date.highlight":function(t){return Jv(t)},"subDomain.label":function(t){return f5e(t)&&t!==""||rd(t)?t:null}},h5e=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d5e;ur(this,e),this.preProcessors=t,this.options={itemSelector:Y2e,range:q2e,domain:{type:z2e,gutter:4,padding:[0,0,0,0],dynamicDimension:!0,sort:"asc",label:{text:void 0,position:"bottom",textAlign:"middle",offset:{x:0,y:0},rotate:null,width:100,height:25}},subDomain:{type:H2e,width:U2e,height:V2e,gutter:W2e,radius:K2e,label:null,color:void 0,sort:"asc"},date:{start:new Date,min:void 0,max:void 0,highlight:[],locale:X2e,timezone:void 0},verticalOrientation:!1,data:{source:"",type:"json",requestInit:{},x:"",y:"",groupY:"sum",defaultValue:null},scale:void 0,animationDuration:G2e,theme:J2e,x:{domainHorizontalLabelWidth:0,domainVerticalLabelHeight:0}}}return fr(e,[{key:"set",value:function(r,n){return!Q3(this.options,r)||Hz(bh(this.options,r),n)?!1:(Z3(this.options,r,Q3(this.preProcessors,r)?bh(this.preProcessors,r)(n):n),!0)}},{key:"init",value:function(r){var n=this;this.options=Object.assign({},VEe(this.options,r,function(o,a){return Array.isArray(a)?a:void 0}));var i=this.options;Object.keys(this.preProcessors).forEach(function(o){Z3(i,o,bh(n.preProcessors,o)(bh(i,o)))}),typeof i.scale>"u"&&this.initScale(),i.x.domainVerticalLabelHeight=i.domain.label.height,i.domain.label.position==="top"||i.domain.label.position==="bottom"?i.x.domainHorizontalLabelWidth=0:(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=i.domain.label.width),(i.domain.label.text===null||i.domain.label.text==="")&&(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=0)}},{key:"initScale",value:function(){this.options.scale={color:{scheme:Z2e,type:exe,domain:txe}}}}]),e})(),p5e=br,g5e=function(){var e=p5e(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},FO=De,m5e=ct,jO=m5e.RegExp,Vz=FO(function(){var e=jO("a","y");return e.lastIndex=2,e.exec("abcd")!==null});Vz||FO(function(){return!jO("a","y").sticky});var v5e=Vz||FO(function(){var e=jO("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),b5e={BROKEN_CARET:v5e},y5e=De,$5e=ct,w5e=$5e.RegExp,x5e=y5e(function(){var e=w5e(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")}),S5e=De,k5e=ct,O5e=k5e.RegExp,T5e=S5e(function(){var e=O5e("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),$l=Xt,u0=Be,C5e=da,E5e=g5e,M5e=b5e,A5e=Bk,I5e=Gv,P5e=Is.get,_5e=x5e,D5e=T5e,L5e=A5e("native-string-replace",String.prototype.replace),bm=RegExp.prototype.exec,Z2=bm,N5e=u0("".charAt),R5e=u0("".indexOf),F5e=u0("".replace),r1=u0("".slice),ex=(function(){var e=/a/,t=/b*/g;return $l(bm,e,"a"),$l(bm,t,"a"),e.lastIndex!==0||t.lastIndex!==0})(),Wz=M5e.BROKEN_CARET,tx=/()??/.exec("")[1]!==void 0,j5e=ex||tx||Wz||_5e||D5e;j5e&&(Z2=function(t){var r=this,n=P5e(r),i=C5e(t),o=n.raw,a,s,l,c,u,f,d;if(o)return o.lastIndex=r.lastIndex,a=$l(Z2,o,i),r.lastIndex=o.lastIndex,a;var h=n.groups,p=Wz&&r.sticky,g=$l(E5e,r),m=r.source,v=0,b=i;if(p&&(g=F5e(g,"y",""),R5e(g,"g")===-1&&(g+="g"),b=r1(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&N5e(i,r.lastIndex-1)!==`
`)&&(m="(?: "+m+")",b=" "+b,v++),s=new RegExp("^(?:"+m+")",g)),tx&&(s=new RegExp("^"+m+"$(?!\\s)",g)),ex&&(l=r.lastIndex),c=$l(bm,p?s:r,b),p?c?(c.input=r1(c.input,v),c[0]=r1(c[0],v),c.index=r.lastIndex,r.lastIndex+=c[0].length):r.lastIndex=0:ex&&c&&(r.lastIndex=r.global?c.index+c[0].length:l),tx&&c&&c.length>1&&$l(L5e,c[0],s,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(c[u]=void 0)}),c&&h)for(c.groups=f=I5e(null),u=0;u<h.length;u++)d=h[u],f[d[0]]=c[d[1]];return c});var BO=Z2,B5e=Ke,eP=BO;B5e({target:"RegExp",proto:!0,forced:/./.exec!==eP},{exec:eP});var tP=rO,rP=ho,z5e=BO,nP=De,Kz=ut,H5e=pc,U5e=Kz("species"),n1=RegExp.prototype,V5e=function(e,t,r,n){var i=Kz(e),o=!nP(function(){var c={};return c[i]=function(){return 7},""[e](c)!==7}),a=o&&!nP(function(){var c=!1,u=/a/;return e==="split"&&(u={},u.constructor={},u.constructor[U5e]=function(){return u},u.flags="",u[i]=/./[i]),u.exec=function(){return c=!0,null},u[i](""),!c});if(!o||!a||r){var s=tP(/./[i]),l=t(i,""[e],function(c,u,f,d,h){var p=tP(c),g=u.exec;return g===z5e||g===n1.exec?o&&!h?{done:!0,value:s(u,f,d)}:{done:!0,value:p(f,u,d)}:{done:!1}});rP(String.prototype,e,l[0]),rP(n1,i,l[1])}n&&H5e(n1[i],"sham",!0)},W5e=vB.charAt,K5e=function(e,t,r){return t+(r?W5e(e,t).length:1)},zO=Be,G5e=Ci,q5e=Math.floor,i1=zO("".charAt),Y5e=zO("".replace),o1=zO("".slice),J5e=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,X5e=/\$([$&'`]|\d{1,2})/g,Q5e=function(e,t,r,n,i,o){var a=r+e.length,s=n.length,l=X5e;return i!==void 0&&(i=G5e(i),l=J5e),Y5e(o,l,function(c,u){var f;switch(i1(u,0)){case"$":return"$";case"&":return e;case"`":return o1(t,0,r);case"'":return o1(t,a);case"<":f=i[o1(u,1,-1)];break;default:var d=+u;if(d===0)return c;if(d>s){var h=q5e(d/10);return h===0?c:h<=s?n[h-1]===void 0?i1(u,1):n[h-1]+i1(u,1):c}f=n[d-1]}return f===void 0?"":f})},iP=Xt,Z5e=br,eAe=et,tAe=po,rAe=BO,nAe=TypeError,iAe=function(e,t){var r=e.exec;if(eAe(r)){var n=iP(r,e,t);return n!==null&&Z5e(n),n}if(tAe(e)==="RegExp")return iP(rAe,e,t);throw new nAe("RegExp#exec called on incompatible receiver")},oAe=Lj,oP=Xt,f0=Be,aAe=V5e,sAe=De,lAe=br,cAe=et,uAe=fa,fAe=Fv,dAe=Yk,el=da,hAe=Es,pAe=K5e,gAe=Av,mAe=Q5e,vAe=iAe,bAe=ut,rx=bAe("replace"),yAe=Math.max,$Ae=Math.min,wAe=f0([].concat),a1=f0([].push),aP=f0("".indexOf),sP=f0("".slice),xAe=function(e){return e===void 0?e:String(e)},SAe=(function(){return"a".replace(/./,"$0")==="$0"})(),lP=(function(){return/./[rx]?/./[rx]("a","$0")==="":!1})(),kAe=!sAe(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});aAe("replace",function(e,t,r){var n=lP?"$":"$0";return[function(o,a){var s=hAe(this),l=uAe(o)?void 0:gAe(o,rx);return l?oP(l,o,s,a):oP(t,el(s),o,a)},function(i,o){var a=lAe(this),s=el(i);if(typeof o=="string"&&aP(o,n)===-1&&aP(o,"$<")===-1){var l=r(t,a,s,o);if(l.done)return l.value}var c=cAe(o);c||(o=el(o));var u=a.global,f;u&&(f=a.unicode,a.lastIndex=0);for(var d=[],h;h=vAe(a,s),!(h===null||(a1(d,h),!u));){var p=el(h[0]);p===""&&(a.lastIndex=pAe(s,dAe(a.lastIndex),f))}for(var g="",m=0,v=0;v<d.length;v++){h=d[v];for(var b=el(h[0]),y=yAe($Ae(fAe(h.index),s.length),0),w=[],$,k=1;k<h.length;k++)a1(w,xAe(h[k]));var O=h.groups;if(c){var T=wAe([b],w,y,s);O!==void 0&&a1(T,O),$=el(oAe(o,void 0,T))}else $=mAe(b,s,y,w,O,o);y>=m&&(g+=sP(s,m,y)+$,m=y+b.length)}return g+sP(s,m)}]},!kAe||!SAe||lP);var nx,Gz,OAe=(function(){function e(t){ur(this,e),nx.add(this),this.calendar=t}return fr(e,[{key:"getDatas",value:function(r,n,i){return bO(this,void 0,void 0,fs().mark(function o(){var a;return fs().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(typeof r=="string"&&r.length>0)){l.next=2;break}return l.abrupt("return",ge(this,nx,"m",Gz).call(this,r,n,i));case 2:return a=[],Array.isArray(r)&&(a=r),l.abrupt("return",new Promise(function(c){c(a)}));case 5:case"end":return l.stop()}},o,this)}))}},{key:"parseURI",value:function(r,n,i){var o=this,a=r.replace(/\{\{start=(.*?)\}\}/g,function(s,l){return o.calendar.dateHelper.date(n).format(l)});return a=a.replace(/\{\{end=(.*?)\}\}/g,function(s,l){return o.calendar.dateHelper.date(i).format(l)}),a}}]),e})();nx=new WeakSet,Gz=function(t,r,n){var i=this.calendar.options.options.data,o=i.type,a=i.requestInit,s=this.parseURI(t,r,n);switch(o){case"json":return yde(s,a);case"csv":return vde(s,a);case"tsv":return mde("	",s,a);case"txt":return Mk(s,a);default:return new Promise(function(l){l([])})}};var TAe=Fr,CAe=Iv.EXISTS,qz=Be,EAe=eO,Yz=Function.prototype,MAe=qz(Yz.toString),Jz=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,AAe=qz(Jz.exec),IAe="name";TAe&&!CAe&&EAe(Yz,IAe,{configurable:!0,get:function(){try{return AAe(Jz,MAe(this))[1]}catch{return""}}});var Xz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){var r=1e3,n=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",c="day",u="week",f="month",d="quarter",h="year",p="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var C=["th","st","nd","rd"],x=S%100;return"["+S+(C[(x-20)%10]||C[x]||C[0])+"]"}},y=function(S,C,x){var P=String(S);return!P||P.length>=C?S:""+Array(C+1-P.length).join(x)+S},w={s:y,z:function(S){var C=-S.utcOffset(),x=Math.abs(C),P=Math.floor(x/60),A=x%60;return(C<=0?"+":"-")+y(P,2,"0")+":"+y(A,2,"0")},m:function S(C,x){if(C.date()<x.date())return-S(x,C);var P=12*(x.year()-C.year())+(x.month()-C.month()),A=C.clone().add(P,f),N=x-A<0,H=C.clone().add(P+(N?-1:1),f);return+(-(P+(x-A)/(N?A-H:H-A))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:f,y:h,w:u,d:c,D:p,h:l,m:s,s:a,ms:o,Q:d}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},$="en",k={};k[$]=b;var O="$isDayjsObject",T=function(S){return S instanceof E||!(!S||!S[O])},D=function S(C,x,P){var A;if(!C)return $;if(typeof C=="string"){var N=C.toLowerCase();k[N]&&(A=N),x&&(k[N]=x,A=N);var H=C.split("-");if(!A&&H.length>1)return S(H[0])}else{var U=C.name;k[U]=C,A=U}return!P&&A&&($=A),A||!P&&$},L=function(S,C){if(T(S))return S.clone();var x=typeof C=="object"?C:{};return x.date=S,x.args=arguments,new E(x)},I=w;I.l=D,I.i=T,I.w=function(S,C){return L(S,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var E=(function(){function S(x){this.$L=D(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[O]=!0}var C=S.prototype;return C.parse=function(x){this.$d=(function(P){var A=P.date,N=P.utc;if(A===null)return new Date(NaN);if(I.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var H=A.match(m);if(H){var U=H[2]-1||0,ae=(H[7]||"0").substring(0,3);return N?new Date(Date.UTC(H[1],U,H[3]||1,H[4]||0,H[5]||0,H[6]||0,ae)):new Date(H[1],U,H[3]||1,H[4]||0,H[5]||0,H[6]||0,ae)}}return new Date(A)})(x),this.init()},C.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},C.$utils=function(){return I},C.isValid=function(){return this.$d.toString()!==g},C.isSame=function(x,P){var A=L(x);return this.startOf(P)<=A&&A<=this.endOf(P)},C.isAfter=function(x,P){return L(x)<this.startOf(P)},C.isBefore=function(x,P){return this.endOf(P)<L(x)},C.$g=function(x,P,A){return I.u(x)?this[P]:this.set(A,x)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(x,P){var A=this,N=!!I.u(P)||P,H=I.p(x),U=function(G,Q){var le=I.w(A.$u?Date.UTC(A.$y,Q,G):new Date(A.$y,Q,G),A);return N?le:le.endOf(c)},ae=function(G,Q){return I.w(A.toDate()[G].apply(A.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(Q)),A)},te=this.$W,pe=this.$M,Se=this.$D,Ge="set"+(this.$u?"UTC":"");switch(H){case h:return N?U(1,0):U(31,11);case f:return N?U(1,pe):U(0,pe+1);case u:var Y=this.$locale().weekStart||0,de=(te<Y?te+7:te)-Y;return U(N?Se-de:Se+(6-de),pe);case c:case p:return ae(Ge+"Hours",0);case l:return ae(Ge+"Minutes",1);case s:return ae(Ge+"Seconds",2);case a:return ae(Ge+"Milliseconds",3);default:return this.clone()}},C.endOf=function(x){return this.startOf(x,!1)},C.$set=function(x,P){var A,N=I.p(x),H="set"+(this.$u?"UTC":""),U=(A={},A[c]=H+"Date",A[p]=H+"Date",A[f]=H+"Month",A[h]=H+"FullYear",A[l]=H+"Hours",A[s]=H+"Minutes",A[a]=H+"Seconds",A[o]=H+"Milliseconds",A)[N],ae=N===c?this.$D+(P-this.$W):P;if(N===f||N===h){var te=this.clone().set(p,1);te.$d[U](ae),te.init(),this.$d=te.set(p,Math.min(this.$D,te.daysInMonth())).$d}else U&&this.$d[U](ae);return this.init(),this},C.set=function(x,P){return this.clone().$set(x,P)},C.get=function(x){return this[I.p(x)]()},C.add=function(x,P){var A,N=this;x=Number(x);var H=I.p(P),U=function(pe){var Se=L(N);return I.w(Se.date(Se.date()+Math.round(pe*x)),N)};if(H===f)return this.set(f,this.$M+x);if(H===h)return this.set(h,this.$y+x);if(H===c)return U(1);if(H===u)return U(7);var ae=(A={},A[s]=n,A[l]=i,A[a]=r,A)[H]||1,te=this.$d.getTime()+x*ae;return I.w(te,this)},C.subtract=function(x,P){return this.add(-1*x,P)},C.format=function(x){var P=this,A=this.$locale();if(!this.isValid())return A.invalidDate||g;var N=x||"YYYY-MM-DDTHH:mm:ssZ",H=I.z(this),U=this.$H,ae=this.$m,te=this.$M,pe=A.weekdays,Se=A.months,Ge=A.meridiem,Y=function(Q,le,z,ze){return Q&&(Q[le]||Q(P,N))||z[le].slice(0,ze)},de=function(Q){return I.s(U%12||12,Q,"0")},G=Ge||function(Q,le,z){var ze=Q<12?"AM":"PM";return z?ze.toLowerCase():ze};return N.replace(v,(function(Q,le){return le||(function(z){switch(z){case"YY":return String(P.$y).slice(-2);case"YYYY":return I.s(P.$y,4,"0");case"M":return te+1;case"MM":return I.s(te+1,2,"0");case"MMM":return Y(A.monthsShort,te,Se,3);case"MMMM":return Y(Se,te);case"D":return P.$D;case"DD":return I.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return Y(A.weekdaysMin,P.$W,pe,2);case"ddd":return Y(A.weekdaysShort,P.$W,pe,3);case"dddd":return pe[P.$W];case"H":return String(U);case"HH":return I.s(U,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return G(U,ae,!0);case"A":return G(U,ae,!1);case"m":return String(ae);case"mm":return I.s(ae,2,"0");case"s":return String(P.$s);case"ss":return I.s(P.$s,2,"0");case"SSS":return I.s(P.$ms,3,"0");case"Z":return H}return null})(Q)||H.replace(":","")}))},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(x,P,A){var N,H=this,U=I.p(P),ae=L(x),te=(ae.utcOffset()-this.utcOffset())*n,pe=this-ae,Se=function(){return I.m(H,ae)};switch(U){case h:N=Se()/12;break;case f:N=Se();break;case d:N=Se()/3;break;case u:N=(pe-te)/6048e5;break;case c:N=(pe-te)/864e5;break;case l:N=pe/i;break;case s:N=pe/n;break;case a:N=pe/r;break;default:N=pe}return A?N:I.a(N)},C.daysInMonth=function(){return this.endOf(f).$D},C.$locale=function(){return k[this.$L]},C.locale=function(x,P){if(!x)return this.$L;var A=this.clone(),N=D(x,P,!0);return N&&(A.$L=N),A},C.clone=function(){return I.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},S})(),_=E.prototype;return L.prototype=_,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",c],["$M",f],["$y",h],["$D",p]].forEach((function(S){_[S[1]]=function(C){return this.$g(C,S[0],S[1])}})),L.extend=function(S,C){return S.$i||(S(C,E,L),S.$i=!0),L},L.locale=D,L.isDayjs=T,L.unix=function(S){return L(1e3*S)},L.en=k[$],L.Ls=k,L.p={},L}))})(Xz);var PAe=Xz.exports,Xe=vr(PAe),Qz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){var r="week",n="year";return function(i,o,a){var s=o.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=a(this).startOf(n).add(1,n).date(c),f=a(this).endOf(r);if(u.isBefore(f))return 1}var d=a(this).startOf(n).date(c).startOf(r).subtract(1,"millisecond"),h=this.diff(d,r,!0);return h<0?a(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}}))})(Qz);var _Ae=Qz.exports,DAe=vr(_Ae),Zz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){return function(r,n,i){n.prototype.dayOfYear=function(o){var a=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return o==null?a:this.add(o-a,"day")}}}))})(Zz);var LAe=Zz.exports,NAe=vr(LAe),eH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){return function(r,n){n.prototype.weekday=function(i){var o=this.$locale().weekStart||0,a=this.$W,s=(a<o?a+7:a)-o;return this.$utils().u(i)?s:this.subtract(s,"day").add(i,"day")}}}))})(eH);var RAe=eH.exports,FAe=vr(RAe),tH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){return function(r,n,i){var o=function(a,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter((function(u){return u})))[0];for(var c=1;c<s.length;c+=1)s[c].isValid()&&!s[c][a](l)||(l=s[c]);return l};i.max=function(){var a=[].slice.call(arguments,0);return o("isAfter",a)},i.min=function(){var a=[].slice.call(arguments,0);return o("isBefore",a)}}}))})(tH);var jAe=tH.exports,BAe=vr(jAe),rH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){return function(r,n){n.prototype.isoWeeksInYear=function(){var i=this.isLeapYear(),o=this.endOf("y").day();return o===4||i&&o===5?53:52}}}))})(rH);var zAe=rH.exports,HAe=vr(zAe),nH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){var r="day";return function(n,i,o){var a=function(c){return c.add(4-c.isoWeekday(),r)},s=i.prototype;s.isoWeekYear=function(){return a(this).year()},s.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),r);var u,f,d,h,p=a(this),g=(u=this.isoWeekYear(),f=this.$u,d=(f?o.utc:o)().year(u).startOf("year"),h=4-d.isoWeekday(),d.isoWeekday()>4&&(h+=7),d.add(h,r));return p.diff(g,"week")+1},s.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var l=s.startOf;s.startOf=function(c,u){var f=this.$utils(),d=!!f.u(u)||u;return f.p(c)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(c,u)}}}))})(nH);var UAe=nH.exports,VAe=vr(UAe),iH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(iH);var WAe=iH.exports,KAe=vr(WAe),oH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){return function(r,n){var i=n.prototype,o=i.format;i.format=function(a){var s=this,l=this.$locale();if(!this.isValid())return o.bind(this)(a);var c=this.$utils(),u=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return c.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return c.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return c.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}}));return o.bind(this)(u)}}}))})(oH);var GAe=oH.exports,qAe=vr(GAe),aH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,a,s){var l=a.prototype;s.utc=function(g){var m={date:g,utc:!0,args:arguments};return new a(m)},l.utc=function(g){var m=s(this.toDate(),{locale:this.$L,utc:!0});return g?m.add(this.utcOffset(),r):m},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(g,m){var v=this.$utils().u;if(v(g))return this.$u?0:v(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=(function($){$===void 0&&($="");var k=$.match(n);if(!k)return null;var O=(""+k[0]).match(i)||["-",0,0],T=O[0],D=60*+O[1]+ +O[2];return D===0?0:T==="+"?D:-D})(g),g===null))return this;var b=Math.abs(g)<=16?60*g:g,y=this;if(m)return y.$offset=b,y.$u=g===0,y;if(g!==0){var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(y=this.local().add(b+w,r)).$offset=b,y.$x.$localOffset=w}else y=this.utc();return y};var d=l.format;l.format=function(g){var m=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,m)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(g,m,v){if(g&&this.$u===g.$u)return p.call(this,g,m,v);var b=this.local(),y=s(g).local();return p.call(b,y,m,v)}}}))})(aH);var YAe=aH.exports,JAe=vr(YAe),sH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,o,a){var s,l=function(d,h,p){p===void 0&&(p={});var g=new Date(d),m=(function(v,b){b===void 0&&(b={});var y=b.timeZoneName||"short",w=v+"|"+y,$=n[w];return $||($=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:y}),n[w]=$),$})(h,p);return m.formatToParts(g)},c=function(d,h){for(var p=l(d,h),g=[],m=0;m<p.length;m+=1){var v=p[m],b=v.type,y=v.value,w=r[b];w>=0&&(g[w]=parseInt(y,10))}var $=g[3],k=$===24?0:$,O=g[0]+"-"+g[1]+"-"+g[2]+" "+k+":"+g[4]+":"+g[5]+":000",T=+d;return(a.utc(O).valueOf()-(T-=T%1e3))/6e4},u=o.prototype;u.tz=function(d,h){d===void 0&&(d=s);var p=this.utcOffset(),g=this.toDate(),m=g.toLocaleString("en-US",{timeZone:d}),v=Math.round((g-new Date(m))/1e3/60),b=a(m,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(g.getTimezoneOffset()/15)-v,!0);if(h){var y=b.utcOffset();b=b.add(p-y,"minute")}return b.$x.$timezone=d,b},u.offsetName=function(d){var h=this.$x.$timezone||a.tz.guess(),p=l(this.valueOf(),h,{timeZoneName:d}).find((function(g){return g.type.toLowerCase()==="timezonename"}));return p&&p.value};var f=u.startOf;u.startOf=function(d,h){if(!this.$x||!this.$x.$timezone)return f.call(this,d,h);var p=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(p,d,h).tz(this.$x.$timezone,!0)},a.tz=function(d,h,p){var g=p&&h,m=p||h||s,v=c(+a(),m);if(typeof d!="string")return a(d).tz(m);var b=(function(k,O,T){var D=k-60*O*1e3,L=c(D,T);if(O===L)return[D,O];var I=c(D-=60*(L-O)*1e3,T);return L===I?[D,L]:[k-60*Math.min(L,I)*1e3,Math.max(L,I)]})(a.utc(d,g).valueOf(),v,m),y=b[0],w=b[1],$=a(y).utcOffset(w);return $.$x.$timezone=m,$},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(d){s=d}}}))})(sH);var XAe=sH.exports,QAe=vr(XAe),lH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){return function(r,n,i){var o=n.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,p,g){var m=f.name?f:f.$locale(),v=a(m[d]),b=a(m[h]),y=v||b.map((function($){return $.slice(0,p)}));if(!g)return y;var w=m.weekStart;return y.map((function($,k){return y[(k+(w||0))%7]}))},l=function(){return i.Ls[i.locale()]},c=function(f,d){return f.formats[d]||(function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(p,g,m){return g||m.slice(1)}))})(f.formats[d.toUpperCase()])},u=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return c(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return c(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}}))})(lH);var ZAe=lH.exports,eIe=vr(ZAe),cH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var a=i.prototype,s=a.format;o.en.formats=r,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=(function(f,d){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(h,p,g){var m=g&&g.toUpperCase();return p||d[g]||r[g]||d[m].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(v,b,y){return b||y.slice(1)}))}))})(l,c===void 0?{}:c);return s.call(this,u)}}}))})(cH);var tIe=cH.exports,rIe=vr(tIe),uH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,(function(){return function(r,n,i){i.updateLocale=function(o,a){var s=i.Ls[o];if(s)return(a?Object.keys(a):[]).forEach((function(l){s[l]=a[l]})),s}}}))})(uH);var nIe=uH.exports,iIe=vr(nIe);Xe.extend(DAe);Xe.extend(HAe);Xe.extend(VAe);Xe.extend(KAe);Xe.extend(NAe);Xe.extend(FAe);Xe.extend(BAe);Xe.extend(qAe);Xe.extend(JAe);Xe.extend(QAe);Xe.extend(eIe);Xe.extend(rIe);Xe.extend(iIe);var s1="en",oIe=(function(){function e(){ur(this,e);var t;this.locale=s1,this.timezone=Xe.tz.guess(),(typeof window>"u"?"undefined":Nu(window))==="object"&&((t=window).dayjs||(t.dayjs=Xe))}return fr(e,[{key:"setup",value:function(r){var n=r.options;return bO(this,void 0,void 0,fs().mark(function i(){var o,a;return fs().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.timezone=n.date.timezone||Xe.tz.guess(),o=n.date.locale,!(typeof o=="string"&&o!==s1)){l.next=17;break}if((typeof window>"u"?"undefined":Nu(window))!=="object"){l.next=12;break}if(l.t0=window["dayjs_locale_".concat(o)],l.t0){l.next=9;break}return l.next=8,this.loadBrowserLocale(o);case 8:l.t0=l.sent;case 9:a=l.t0,l.next=15;break;case 12:return l.next=14,this.loadNodeLocale(o);case 14:a=l.sent;case 15:Xe.locale(o),this.locale=a;case 17:Nu(o)==="object"&&(o.hasOwnProperty("name")?(Xe.locale(o.name,o),this.locale=o):this.locale=Xe.updateLocale(s1,o));case 18:case"end":return l.stop()}},i,this)}))}},{key:"extend",value:function(r){return Xe.extend(r)}},{key:"getMonthWeekNumber",value:function(r){var n=this.date(r),i=n.startOf("day"),o=n.startOf("month").endOf("week");return i<=o?1:Math.ceil(i.diff(o,"weeks",!0))+1}},{key:"getWeeksCountInMonth",value:function(r){var n=this.date(r);return this.getLastWeekOfMonth(n).diff(this.getFirstWeekOfMonth(n),"week")+1}},{key:"getFirstWeekOfMonth",value:function(r){var n=this.date(r).startOf("month"),i=n.startOf("week");return n.weekday()>4&&(i=i.add(1,"week")),i}},{key:"getLastWeekOfMonth",value:function(r){var n=this.date(r).endOf("month"),i=n.endOf("week");return n.weekday()<4&&(i=i.subtract(1,"week")),i}},{key:"date",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return Xe.isDayjs(r)?r:Xe(r).tz(this.timezone).utcOffset(0).locale(this.locale)}},{key:"format",value:function(r,n){if(typeof n=="function"){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return n.apply(void 0,[r].concat(o))}return typeof n=="string"?this.date(r).format(n):null}},{key:"intervals",value:function(r,n,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=this.date(n),s;typeof i=="number"?s=a.add(i,r):Xe.isDayjs(i)?s=i:s=this.date(i),a=a.startOf(r),s=s.startOf(r);var l=Xe.min(a,s);s=Xe.max(a,s);var c=[];o||(s=s.add(1,"second"));do c.push(+l),l=l.add(1,r);while(l<s);return c}},{key:"loadBrowserLocale",value:function(r){return new Promise(function(n,i){var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/".concat(r,".js"),o.onerror=function(a){i(a)},o.onload=function(){n(window["dayjs_locale_".concat(r)])},document.head.appendChild(o)})}},{key:"loadNodeLocale",value:function(r){return kle(()=>import("dayjs/locale/".concat(r,".js")),[])}}]),e})(),aIe=Ke,sIe=Be,lIe=iz,cIe=Es,cP=da,uIe=oz,fIe=sIe("".indexOf);aIe({target:"String",proto:!0,forced:!uIe("includes")},{includes:function(t){return!!~fIe(cP(cIe(this)),cP(lIe(t)),arguments.length>1?arguments[1]:void 0)}});var dIe=["json","csv","tsv","txt"];function hIe(e,t){var r=t.domain,n=t.subDomain,i=t.data,o=r.type,a=n.type;if(!e.has(o))throw new Error("'".concat(o,"' is not a valid domain type'"));if(!e.has(a))throw new Error("'".concat(a,"' is not a valid subDomain type'"));if(i.type&&!dIe.includes(i.type))throw new Error("The data type '".concat(i.type,"' is not valid data type"));if(!(e.get(a).allowedDomainType||[]).includes(o))throw new Error("The subDomain.type '".concat(a,"' can not be used together ")+"with the domain type ".concat(o));return!0}var pIe=SO,gIe=BB;pIe("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},gIe);function mIe(e,t){return new e(t)}function vIe(e,t){return"".concat(new e().name).concat((t==null?void 0:t.key)||"")}var bIe=(function(){function e(t){ur(this,e),this.calendar=t,this.settings=new Map,this.plugins=new Map,this.pendingPaint=new Set}return fr(e,[{key:"add",value:function(r){var n=this;r.forEach(function(i){var o=nj(i,2),a=o[0],s=o[1],l=vIe(a,s),c=n.plugins.get(l);c&&n.settings.get(l)&&Hz(n.settings.get(l).options,s)||(n.settings.set(l,{options:s,dirty:!0}),n.plugins.has(l)||n.plugins.set(l,mIe(a,n.calendar)),n.pendingPaint.add(n.plugins.get(l)))})}},{key:"setupAll",value:function(){var r=this;this.plugins.forEach(function(n,i){var o=r.settings.get(i);typeof o<"u"&&o.dirty&&(n.setup(o.options),o.dirty=!1,r.settings.set(i,o))})}},{key:"paintAll",value:function(){return Array.from(this.pendingPaint.values()).map(function(r){return r.paint()})}},{key:"destroyAll",value:function(){return this.allPlugins().map(function(r){return r.destroy()})}},{key:"getFromPosition",value:function(r){return this.allPlugins().filter(function(n){var i;return((i=n.options)===null||i===void 0?void 0:i.position)===r})}},{key:"getHeightFromPosition",value:function(r){return this.getFromPosition(r).map(function(n){return n.options.dimensions.height}).reduce(function(n,i){return n+i},0)}},{key:"getWidthFromPosition",value:function(r){return this.getFromPosition(r).map(function(n){return n.options.dimensions.width}).reduce(function(n,i){return n+i},0)}},{key:"allPlugins",value:function(){return Array.from(this.plugins.values())}}]),e})(),yIe="4.2.4",$Ie=function(t){var r=10,n=6,i=["day","hour"];return{name:"minute",allowedDomainType:i,rowsCount:function(){return r},columnsCount:function(){return n},mapping:function(a,s){return t.intervals("minute",a,t.date(s)).map(function(l,c){return{t:l,x:Math.floor(c/r),y:c%r}})},extractUnit:function(a){return t.date(a).startOf("minute").valueOf()}}},wIe=function(t,r){var n=r.domain,i=24,o=6,a=["month","week","day"];return{name:"hour",allowedDomainType:a,rowsCount:function(){return o},columnsCount:function(l){switch(n.type){case"week":return i/o*7;case"month":return i/o*(n.dynamicDimension?t.date(l).daysInMonth():31);case"day":default:return i/o}},mapping:function(l,c){return t.intervals("hour",l,t.date(c)).map(function(u){var f=t.date(u),d=f.hour(),h=f.date(),p=Math.floor(d/o),g=i/o;return n.type==="month"&&(p+=(h-1)*g),n.type==="week"&&(p+=+f.format("d")*g),{t:u,x:p,y:Math.floor(d%o)}})},extractUnit:function(l){return t.date(l).startOf("hour").valueOf()}}},xIe=function(t,r){var n=r.domain,i=r.verticalOrientation,o=7,a=["year","month","week"];return{name:"day",allowedDomainType:a,rowsCount:function(){return n.type==="week"?1:o},columnsCount:function(l){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(l).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(l).endOf("year").dayOfYear()/o:54);case"week":default:return o}},mapping:function(l,c){var u=0,f=-1;return t.intervals("day",l,t.date(c)).map(function(d){var h=t.date(d);switch(n.type){case"month":f=t.getMonthWeekNumber(d)-1;break;case"year":u!==h.week()&&(u=h.week(),f+=1);break;case"week":f=h.weekday();break}return{t:d,x:f,y:n.type==="week"?0:h.weekday()}})},extractUnit:function(l){return t.date(l).startOf("day").valueOf()}}},SIe=function(t,r){var n=r.domain,i=r.verticalOrientation,o=7,a=["year","month","week"];return{name:"xDay",allowedDomainType:a,rowsCount:function(l){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(l).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(l).endOf("year").dayOfYear()/o:54);case"week":default:return o}},columnsCount:function(){return n.type==="week"?1:o},mapping:function(l,c){return t.intervals("day",l,t.date(c)).map(function(u){var f=t.date(u),d=f.endOf("year").week(),h=0;switch(n.type){case"month":h=t.getMonthWeekNumber(u)-1;break;case"year":d===1&&f.week()===d&&(h=f.subtract(1,"week").week()+1),h=f.week()-1;break;case"week":h=f.weekday();break}return{t:u,y:h,x:n.type==="week"?0:f.weekday()}})},extractUnit:function(l){return t.date(l).startOf("day").valueOf()}}},kIe=function(t){var r=7,n=["month"];return{name:"ghDay",allowedDomainType:n,rowsCount:function(){return r},columnsCount:function(o){return t.getWeeksCountInMonth(o)},mapping:function(o,a){var s=t.getFirstWeekOfMonth(o),l=t.getFirstWeekOfMonth(a),c=-1,u=s.weekday();return t.intervals("day",s,l).map(function(f){var d=t.date(f).weekday();return d===u&&(c+=1),{t:f,x:c,y:d}})},extractUnit:function(o){return t.date(o).startOf("day").valueOf()}}},OIe=function(t,r){var n=r.domain,i=["year","month"];return{name:"week",allowedDomainType:i,rowsCount:function(){return 1},columnsCount:function(a){switch(n.type){case"year":return n.dynamicDimension?t.date(a).endOf("year").isoWeeksInYear():53;case"month":return n.dynamicDimension?t.getWeeksCountInMonth(a):5;default:return 1}},mapping:function(a,s){var l=t.getFirstWeekOfMonth(a),c=t.getFirstWeekOfMonth(s);return t.intervals("week",l,c).map(function(u,f){return{t:u,x:f,y:0}})},extractUnit:function(a){return t.date(a).startOf("week").valueOf()}}},TIe=function(t){var r=["year"];return{name:"month",allowedDomainType:r,rowsCount:function(){return 1},columnsCount:function(){return 12},mapping:function(i,o){return t.intervals("month",i,t.date(o)).map(function(a){return{t:a,x:t.date(a).month(),y:0}})},extractUnit:function(i){return t.date(i).startOf("month").valueOf()}}},CIe=function(t){var r=[];return{name:"year",allowedDomainType:r,rowsCount:function(){return 1},columnsCount:function(){return 1},mapping:function(i,o){return t.intervals("year",i,t.date(o)).map(function(a,s){return{t:a,x:s,y:0}})},extractUnit:function(i){return t.date(i).startOf("year").valueOf()}}},EIe=[$Ie,wIe,xIe,SIe,kIe,OIe,TIe,CIe],MIe=(function(){function e(t,r){ur(this,e),this.settings=new Map,this.dateHelper=t,this.options=r,this.initiated=!1}return fr(e,[{key:"get",value:function(r){return this.settings.get(r)}},{key:"has",value:function(r){return this.settings.has(r)}},{key:"init",value:function(){this.initiated||(this.initiated=!0,this.add(EIe))}},{key:"add",value:function(r){var n=this;this.init();var i=[];Jv(r).forEach(function(o){var a=o(n.dateHelper,n.options.options);n.settings.set(a.name,a),a.hasOwnProperty("parent")&&i.push(a.name)}),i.forEach(function(o){var a=n.settings.get(n.settings.get(o).parent);a&&n.settings.set(o,Object.assign(Object.assign({},a),n.settings.get(o)))})}}]),e})(),fH=(function(){function e(){ur(this,e),this.options=new h5e,this.dateHelper=new oIe,this.templateCollection=new MIe(this.dateHelper,this.options),this.dataFetcher=new OAe(this),this.navigator=new rxe(this),this.populator=new vTe(this),this.calendarPainter=new cke(this),this.eventEmitter=new awe,this.pluginManager=new bIe(this)}return fr(e,[{key:"createDomainCollection",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return new o3(this.dateHelper,this.options.options.domain.type,r,n,i)}},{key:"paint",value:function(r,n){return bO(this,void 0,void 0,fs().mark(function i(){return fs().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.options.init(r),a.next=3,this.dateHelper.setup(this.options);case 3:this.templateCollection.init(),a.prev=4,hIe(this.templateCollection,this.options.options),a.next=11;break;case 8:return a.prev=8,a.t0=a.catch(4),a.abrupt("return",Promise.reject(a.t0));case 11:return n&&this.pluginManager.add(Jv(n)),this.calendarPainter.setup(),this.domainCollection=new o3(this.dateHelper),this.navigator.loadNewDomains(this.createDomainCollection(this.options.options.date.start,this.options.options.range)),a.abrupt("return",Promise.allSettled([this.calendarPainter.paint(),this.fill()]));case 16:case"end":return a.stop()}},i,this,[[4,8]])}))}},{key:"addTemplates",value:function(r){this.templateCollection.add(r)}},{key:"next",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.max,r+1).slice(r),vt.SCROLL_FORWARD);return Promise.allSettled([this.calendarPainter.paint(n),this.fill()])}},{key:"previous",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.min,-r),vt.SCROLL_BACKWARD);return Promise.allSettled([this.calendarPainter.paint(n),this.fill()])}},{key:"jumpTo",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Promise.allSettled([this.calendarPainter.paint(this.navigator.jumpTo(r,n)),this.fill()])}},{key:"fill",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.options.data.source,i=this.options.options,o=this.templateCollection,a=this.dateHelper.intervals(i.domain.type,this.domainCollection.max,2)[1],s=this.dataFetcher.getDatas(n,this.domainCollection.min,a);return new Promise(function(l,c){s.then(function(u){r.domainCollection.fill(u,i.data,o.get(i.subDomain.type).extractUnit),r.populator.populate(),l(null)},function(u){c(u)})})}},{key:"on",value:function(r,n){this.eventEmitter.on(r,n)}},{key:"dimensions",value:function(){return this.calendarPainter.dimensions}},{key:"destroy",value:function(){return this.calendarPainter.destroy()}},{key:"extendDayjs",value:function(r){return this.dateHelper.extend(r)}}]),e})();fH.VERSION=yIe;var _r="top",yn="bottom",$n="right",Dr="left",HO="auto",ad=[_r,yn,$n,Dr],Zl="start",Tf="end",AIe="clippingParents",dH="viewport",qc="popper",IIe="reference",uP=ad.reduce(function(e,t){return e.concat([t+"-"+Zl,t+"-"+Tf])},[]),hH=[].concat(ad,[HO]).reduce(function(e,t){return e.concat([t,t+"-"+Zl,t+"-"+Tf])},[]),PIe="beforeRead",_Ie="read",DIe="afterRead",LIe="beforeMain",NIe="main",RIe="afterMain",FIe="beforeWrite",jIe="write",BIe="afterWrite",zIe=[PIe,_Ie,DIe,LIe,NIe,RIe,FIe,jIe,BIe];function xi(e){return e?(e.nodeName||"").toLowerCase():null}function Zr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gs(e){var t=Zr(e).Element;return e instanceof t||e instanceof Element}function vn(e){var t=Zr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function UO(e){if(typeof ShadowRoot>"u")return!1;var t=Zr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function HIe(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!vn(o)||!xi(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function UIe(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=a.reduce(function(l,c){return l[c]="",l},{});!vn(i)||!xi(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const VIe={name:"applyStyles",enabled:!0,phase:"write",fn:HIe,effect:UIe,requires:["computeStyles"]};function fi(e){return e.split("-")[0]}var Ja=Math.max,ym=Math.min,ec=Math.round;function ix(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function pH(){return!/^((?!chrome|android).)*safari/i.test(ix())}function tc(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&vn(e)&&(i=e.offsetWidth>0&&ec(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ec(n.height)/e.offsetHeight||1);var a=gs(e)?Zr(e):window,s=a.visualViewport,l=!pH()&&r,c=(n.left+(l&&s?s.offsetLeft:0))/i,u=(n.top+(l&&s?s.offsetTop:0))/o,f=n.width/i,d=n.height/o;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function VO(e){var t=tc(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function gH(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&UO(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function oo(e){return Zr(e).getComputedStyle(e)}function WIe(e){return["table","td","th"].indexOf(xi(e))>=0}function pa(e){return((gs(e)?e.ownerDocument:e.document)||window.document).documentElement}function d0(e){return xi(e)==="html"?e:e.assignedSlot||e.parentNode||(UO(e)?e.host:null)||pa(e)}function fP(e){return!vn(e)||oo(e).position==="fixed"?null:e.offsetParent}function KIe(e){var t=/firefox/i.test(ix()),r=/Trident/i.test(ix());if(r&&vn(e)){var n=oo(e);if(n.position==="fixed")return null}var i=d0(e);for(UO(i)&&(i=i.host);vn(i)&&["html","body"].indexOf(xi(i))<0;){var o=oo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function sd(e){for(var t=Zr(e),r=fP(e);r&&WIe(r)&&oo(r).position==="static";)r=fP(r);return r&&(xi(r)==="html"||xi(r)==="body"&&oo(r).position==="static")?t:r||KIe(e)||t}function WO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function zu(e,t,r){return Ja(e,ym(t,r))}function GIe(e,t,r){var n=zu(e,t,r);return n>r?r:n}function mH(){return{top:0,right:0,bottom:0,left:0}}function vH(e){return Object.assign({},mH(),e)}function bH(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var qIe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,vH(typeof t!="number"?t:bH(t,ad))};function YIe(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=fi(r.placement),l=WO(s),c=[Dr,$n].indexOf(s)>=0,u=c?"height":"width";if(!(!o||!a)){var f=qIe(i.padding,r),d=VO(o),h=l==="y"?_r:Dr,p=l==="y"?yn:$n,g=r.rects.reference[u]+r.rects.reference[l]-a[l]-r.rects.popper[u],m=a[l]-r.rects.reference[l],v=sd(o),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,y=g/2-m/2,w=f[h],$=b-d[u]-f[p],k=b/2-d[u]/2+y,O=zu(w,k,$),T=l;r.modifiersData[n]=(t={},t[T]=O,t.centerOffset=O-k,t)}}function JIe(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||gH(t.elements.popper,i)&&(t.elements.arrow=i))}const XIe={name:"arrow",enabled:!0,phase:"main",fn:YIe,effect:JIe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rc(e){return e.split("-")[1]}var QIe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZIe(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:ec(r*i)/i||0,y:ec(n*i)/i||0}}function dP(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,d=a.x,h=d===void 0?0:d,p=a.y,g=p===void 0?0:p,m=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),y=Dr,w=_r,$=window;if(c){var k=sd(r),O="clientHeight",T="clientWidth";if(k===Zr(r)&&(k=pa(r),oo(k).position!=="static"&&s==="absolute"&&(O="scrollHeight",T="scrollWidth")),k=k,i===_r||(i===Dr||i===$n)&&o===Tf){w=yn;var D=f&&k===$&&$.visualViewport?$.visualViewport.height:k[O];g-=D-n.height,g*=l?1:-1}if(i===Dr||(i===_r||i===yn)&&o===Tf){y=$n;var L=f&&k===$&&$.visualViewport?$.visualViewport.width:k[T];h-=L-n.width,h*=l?1:-1}}var I=Object.assign({position:s},c&&QIe),E=u===!0?ZIe({x:h,y:g},Zr(r)):{x:h,y:g};if(h=E.x,g=E.y,l){var _;return Object.assign({},I,(_={},_[w]=b?"0":"",_[y]=v?"0":"",_.transform=($.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",_))}return Object.assign({},I,(t={},t[w]=b?g+"px":"",t[y]=v?h+"px":"",t.transform="",t))}function e3e(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,l=s===void 0?!0:s,c={placement:fi(t.placement),variation:rc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,dP(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,dP(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const t3e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:e3e,data:{}};var yh={passive:!0};function r3e(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=Zr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",r.update,yh)}),s&&l.addEventListener("resize",r.update,yh),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",r.update,yh)}),s&&l.removeEventListener("resize",r.update,yh)}}const n3e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:r3e,data:{}};var i3e={left:"right",right:"left",bottom:"top",top:"bottom"};function wp(e){return e.replace(/left|right|bottom|top/g,function(t){return i3e[t]})}var o3e={start:"end",end:"start"};function hP(e){return e.replace(/start|end/g,function(t){return o3e[t]})}function KO(e){var t=Zr(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function GO(e){return tc(pa(e)).left+KO(e).scrollLeft}function a3e(e,t){var r=Zr(e),n=pa(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=pH();(c||!c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+GO(e),y:l}}function s3e(e){var t,r=pa(e),n=KO(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Ja(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ja(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+GO(e),l=-n.scrollTop;return oo(i||r).direction==="rtl"&&(s+=Ja(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function qO(e){var t=oo(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function yH(e){return["html","body","#document"].indexOf(xi(e))>=0?e.ownerDocument.body:vn(e)&&qO(e)?e:yH(d0(e))}function Hu(e,t){var r;t===void 0&&(t=[]);var n=yH(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=Zr(n),a=i?[o].concat(o.visualViewport||[],qO(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(Hu(d0(a)))}function ox(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function l3e(e,t){var r=tc(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function pP(e,t,r){return t===dH?ox(a3e(e,r)):gs(t)?l3e(t,r):ox(s3e(pa(e)))}function c3e(e){var t=Hu(d0(e)),r=["absolute","fixed"].indexOf(oo(e).position)>=0,n=r&&vn(e)?sd(e):e;return gs(n)?t.filter(function(i){return gs(i)&&gH(i,n)&&xi(i)!=="body"}):[]}function u3e(e,t,r,n){var i=t==="clippingParents"?c3e(e):[].concat(t),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(l,c){var u=pP(e,c,n);return l.top=Ja(u.top,l.top),l.right=ym(u.right,l.right),l.bottom=ym(u.bottom,l.bottom),l.left=Ja(u.left,l.left),l},pP(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function $H(e){var t=e.reference,r=e.element,n=e.placement,i=n?fi(n):null,o=n?rc(n):null,a=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(i){case _r:l={x:a,y:t.y-r.height};break;case yn:l={x:a,y:t.y+t.height};break;case $n:l={x:t.x+t.width,y:s};break;case Dr:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var c=i?WO(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Zl:l[c]=l[c]-(t[u]/2-r[u]/2);break;case Tf:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function Cf(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,a=o===void 0?e.strategy:o,s=r.boundary,l=s===void 0?AIe:s,c=r.rootBoundary,u=c===void 0?dH:c,f=r.elementContext,d=f===void 0?qc:f,h=r.altBoundary,p=h===void 0?!1:h,g=r.padding,m=g===void 0?0:g,v=vH(typeof m!="number"?m:bH(m,ad)),b=d===qc?IIe:qc,y=e.rects.popper,w=e.elements[p?b:d],$=u3e(gs(w)?w:w.contextElement||pa(e.elements.popper),l,u,a),k=tc(e.elements.reference),O=$H({reference:k,element:y,placement:i}),T=ox(Object.assign({},y,O)),D=d===qc?T:k,L={top:$.top-D.top+v.top,bottom:D.bottom-$.bottom+v.bottom,left:$.left-D.left+v.left,right:D.right-$.right+v.right},I=e.modifiersData.offset;if(d===qc&&I){var E=I[i];Object.keys(L).forEach(function(_){var S=[$n,yn].indexOf(_)>=0?1:-1,C=[_r,yn].indexOf(_)>=0?"y":"x";L[_]+=E[C]*S})}return L}function f3e(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?hH:l,u=rc(n),f=u?s?uP:uP.filter(function(p){return rc(p)===u}):ad,d=f.filter(function(p){return c.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,g){return p[g]=Cf(e,{placement:g,boundary:i,rootBoundary:o,padding:a})[fi(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function d3e(e){if(fi(e)===HO)return[];var t=wp(e);return[hP(e),t,hP(t)]}function h3e(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,p=h===void 0?!0:h,g=r.allowedAutoPlacements,m=t.options.placement,v=fi(m),b=v===m,y=l||(b||!p?[wp(m)]:d3e(m)),w=[m].concat(y).reduce(function(pe,Se){return pe.concat(fi(Se)===HO?f3e(t,{placement:Se,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):Se)},[]),$=t.rects.reference,k=t.rects.popper,O=new Map,T=!0,D=w[0],L=0;L<w.length;L++){var I=w[L],E=fi(I),_=rc(I)===Zl,S=[_r,yn].indexOf(E)>=0,C=S?"width":"height",x=Cf(t,{placement:I,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),P=S?_?$n:Dr:_?yn:_r;$[C]>k[C]&&(P=wp(P));var A=wp(P),N=[];if(o&&N.push(x[E]<=0),s&&N.push(x[P]<=0,x[A]<=0),N.every(function(pe){return pe})){D=I,T=!1;break}O.set(I,N)}if(T)for(var H=p?3:1,U=function(Se){var Ge=w.find(function(Y){var de=O.get(Y);if(de)return de.slice(0,Se).every(function(G){return G})});if(Ge)return D=Ge,"break"},ae=H;ae>0;ae--){var te=U(ae);if(te==="break")break}t.placement!==D&&(t.modifiersData[n]._skip=!0,t.placement=D,t.reset=!0)}}const p3e={name:"flip",enabled:!0,phase:"main",fn:h3e,requiresIfExists:["offset"],data:{_skip:!1}};function gP(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function mP(e){return[_r,$n,yn,Dr].some(function(t){return e[t]>=0})}function g3e(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Cf(t,{elementContext:"reference"}),s=Cf(t,{altBoundary:!0}),l=gP(a,n),c=gP(s,i,o),u=mP(l),f=mP(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const m3e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:g3e};function v3e(e,t,r){var n=fi(e),i=[Dr,_r].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Dr,$n].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function b3e(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,a=hH.reduce(function(u,f){return u[f]=v3e(f,t.rects,o),u},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}const y3e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:b3e};function $3e(e){var t=e.state,r=e.name;t.modifiersData[r]=$H({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const w3e={name:"popperOffsets",enabled:!0,phase:"read",fn:$3e,data:{}};function x3e(e){return e==="x"?"y":"x"}function S3e(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,d=r.tether,h=d===void 0?!0:d,p=r.tetherOffset,g=p===void 0?0:p,m=Cf(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),v=fi(t.placement),b=rc(t.placement),y=!b,w=WO(v),$=x3e(w),k=t.modifiersData.popperOffsets,O=t.rects.reference,T=t.rects.popper,D=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,L=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(k){if(o){var _,S=w==="y"?_r:Dr,C=w==="y"?yn:$n,x=w==="y"?"height":"width",P=k[w],A=P+m[S],N=P-m[C],H=h?-T[x]/2:0,U=b===Zl?O[x]:T[x],ae=b===Zl?-T[x]:-O[x],te=t.elements.arrow,pe=h&&te?VO(te):{width:0,height:0},Se=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:mH(),Ge=Se[S],Y=Se[C],de=zu(0,O[x],pe[x]),G=y?O[x]/2-H-de-Ge-L.mainAxis:U-de-Ge-L.mainAxis,Q=y?-O[x]/2+H+de+Y+L.mainAxis:ae+de+Y+L.mainAxis,le=t.elements.arrow&&sd(t.elements.arrow),z=le?w==="y"?le.clientTop||0:le.clientLeft||0:0,ze=(_=I==null?void 0:I[w])!=null?_:0,Te=P+G-ze-z,se=P+Q-ze,he=zu(h?ym(A,Te):A,P,h?Ja(N,se):N);k[w]=he,E[w]=he-P}if(s){var nt,ht=w==="x"?_r:Dr,ya=w==="x"?yn:$n,Br=k[$],He=$==="y"?"height":"width",zr=Br+m[ht],$a=Br-m[ya],yo=[_r,Dr].indexOf(v)!==-1,Bs=(nt=I==null?void 0:I[$])!=null?nt:0,xc=yo?zr:Br-O[He]-T[He]-Bs+L.altAxis,Sc=yo?Br+O[He]+T[He]-Bs-L.altAxis:$a,cC=h&&yo?GIe(xc,Br,Sc):zu(h?xc:zr,Br,h?Sc:$a);k[$]=cC,E[$]=cC-Br}t.modifiersData[n]=E}}const k3e={name:"preventOverflow",enabled:!0,phase:"main",fn:S3e,requiresIfExists:["offset"]};function O3e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function T3e(e){return e===Zr(e)||!vn(e)?KO(e):O3e(e)}function C3e(e){var t=e.getBoundingClientRect(),r=ec(t.width)/e.offsetWidth||1,n=ec(t.height)/e.offsetHeight||1;return r!==1||n!==1}function E3e(e,t,r){r===void 0&&(r=!1);var n=vn(t),i=vn(t)&&C3e(t),o=pa(t),a=tc(e,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((xi(t)!=="body"||qO(o))&&(s=T3e(t)),vn(t)?(l=tc(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=GO(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function M3e(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&i(l)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function A3e(e){var t=M3e(e);return zIe.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function I3e(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function P3e(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var vP={placement:"bottom",modifiers:[],strategy:"absolute"};function bP(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function _3e(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?vP:i;return function(s,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},vP,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(v){var b=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},o,u.options,b),u.scrollParents={reference:gs(s)?Hu(s):s.contextElement?Hu(s.contextElement):[],popper:Hu(l)};var y=A3e(P3e([].concat(n,u.options.modifiers)));return u.orderedModifiers=y.filter(function(w){return w.enabled}),p(),h.update()},forceUpdate:function(){if(!d){var v=u.elements,b=v.reference,y=v.popper;if(bP(b,y)){u.rects={reference:E3e(b,sd(y),u.options.strategy==="fixed"),popper:VO(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(L){return u.modifiersData[L.name]=Object.assign({},L.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var $=u.orderedModifiers[w],k=$.fn,O=$.options,T=O===void 0?{}:O,D=$.name;typeof k=="function"&&(u=k({state:u,options:T,name:D,instance:h})||u)}}}},update:I3e(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){g(),d=!0}};if(!bP(s,l))return h;h.setOptions(c).then(function(m){!d&&c.onFirstUpdate&&c.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var v=m.name,b=m.options,y=b===void 0?{}:b,w=m.effect;if(typeof w=="function"){var $=w({state:u,name:v,instance:h,options:y}),k=function(){};f.push($||k)}})}function g(){f.forEach(function(m){return m()}),f=[]}return h}}var D3e=[n3e,w3e,t3e,VIe,y3e,p3e,k3e,XIe,m3e],L3e=_3e({defaultModifiers:D3e});function N3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V3e(n.key),n)}}function F3e(e,t,r){return t&&R3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yP(e){return j3e(e)||B3e(e)||z3e(e)||H3e()}function j3e(e){if(Array.isArray(e))return ax(e)}function B3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z3e(e,t){if(e){if(typeof e=="string")return ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(e,t)}}function ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U3e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function V3e(e){var t=U3e(e,"string");return typeof t=="symbol"?t:String(t)}var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yc=function(e){return e&&e.Math===Math&&e},Kt=Yc(typeof globalThis=="object"&&globalThis)||Yc(typeof window=="object"&&window)||Yc(typeof self=="object"&&self)||Yc(typeof $h=="object"&&$h)||Yc(typeof $h=="object"&&$h)||(function(){return this})()||Function("return this")(),h0={},Mt=function(e){try{return!!e()}catch{return!0}},W3e=Mt,xn=!W3e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),K3e=Mt,p0=!K3e(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),G3e=p0,wh=Function.prototype.call,Sn=G3e?wh.bind(wh):function(){return wh.apply(wh,arguments)},YO={},wH={}.propertyIsEnumerable,xH=Object.getOwnPropertyDescriptor,q3e=xH&&!wH.call({1:2},1);YO.f=q3e?function(t){var r=xH(this,t);return!!r&&r.enumerable}:wH;var g0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},SH=p0,kH=Function.prototype,sx=kH.call,Y3e=SH&&kH.bind.bind(sx,sx),St=SH?Y3e:function(e){return function(){return sx.apply(e,arguments)}},OH=St,J3e=OH({}.toString),X3e=OH("".slice),Ls=function(e){return X3e(J3e(e),8,-1)},Q3e=St,Z3e=Mt,ePe=Ls,l1=Object,tPe=Q3e("".split),JO=Z3e(function(){return!l1("z").propertyIsEnumerable(0)})?function(e){return ePe(e)==="String"?tPe(e,""):l1(e)}:l1,vc=function(e){return e==null},rPe=vc,nPe=TypeError,XO=function(e){if(rPe(e))throw new nPe("Can't call method on "+e);return e},iPe=JO,oPe=XO,bc=function(e){return iPe(oPe(e))},lx=typeof document=="object"&&document.all,aPe=typeof lx>"u"&&lx!==void 0,TH={all:lx,IS_HTMLDDA:aPe},CH=TH,sPe=CH.all,ft=CH.IS_HTMLDDA?function(e){return typeof e=="function"||e===sPe}:function(e){return typeof e=="function"},$P=ft,EH=TH,lPe=EH.all,yr=EH.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:$P(e)||e===lPe}:function(e){return typeof e=="object"?e!==null:$P(e)},c1=Kt,cPe=ft,uPe=function(e){return cPe(e)?e:void 0},Ns=function(e,t){return arguments.length<2?uPe(c1[e]):c1[e]&&c1[e][t]},fPe=St,QO=fPe({}.isPrototypeOf),m0=typeof navigator<"u"&&String(navigator.userAgent)||"",MH=Kt,u1=m0,wP=MH.process,xP=MH.Deno,SP=wP&&wP.versions||xP&&xP.version,kP=SP&&SP.v8,Pn,$m;kP&&(Pn=kP.split("."),$m=Pn[0]>0&&Pn[0]<4?1:+(Pn[0]+Pn[1]));!$m&&u1&&(Pn=u1.match(/Edge\/(\d+)/),(!Pn||Pn[1]>=74)&&(Pn=u1.match(/Chrome\/(\d+)/),Pn&&($m=+Pn[1])));var v0=$m,OP=v0,dPe=Mt,hPe=Kt,pPe=hPe.String,AH=!!Object.getOwnPropertySymbols&&!dPe(function(){var e=Symbol("symbol detection");return!pPe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&OP&&OP<41}),gPe=AH,IH=gPe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",mPe=Ns,vPe=ft,bPe=QO,yPe=IH,$Pe=Object,PH=yPe?function(e){return typeof e=="symbol"}:function(e){var t=mPe("Symbol");return vPe(t)&&bPe(t.prototype,$Pe(e))},wPe=String,b0=function(e){try{return wPe(e)}catch{return"Object"}},xPe=ft,SPe=b0,kPe=TypeError,ga=function(e){if(xPe(e))return e;throw new kPe(SPe(e)+" is not a function")},OPe=ga,TPe=vc,ZO=function(e,t){var r=e[t];return TPe(r)?void 0:OPe(r)},f1=Sn,d1=ft,h1=yr,CPe=TypeError,EPe=function(e,t){var r,n;if(t==="string"&&d1(r=e.toString)&&!h1(n=f1(r,e))||d1(r=e.valueOf)&&!h1(n=f1(r,e))||t!=="string"&&d1(r=e.toString)&&!h1(n=f1(r,e)))return n;throw new CPe("Can't convert object to primitive value")},_H={exports:{}},TP=Kt,MPe=Object.defineProperty,eT=function(e,t){try{MPe(TP,e,{value:t,configurable:!0,writable:!0})}catch{TP[e]=t}return t},APe=Kt,IPe=eT,CP="__core-js_shared__",PPe=APe[CP]||IPe(CP,{}),tT=PPe,EP=tT;(_H.exports=function(e,t){return EP[e]||(EP[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var DH=_H.exports,_Pe=XO,DPe=Object,ld=function(e){return DPe(_Pe(e))},LPe=St,NPe=ld,RPe=LPe({}.hasOwnProperty),kn=Object.hasOwn||function(t,r){return RPe(NPe(t),r)},FPe=St,jPe=0,BPe=Math.random(),zPe=FPe(1 .toString),rT=function(e){return"Symbol("+(e===void 0?"":e)+")_"+zPe(++jPe+BPe,36)},HPe=Kt,UPe=DH,MP=kn,VPe=rT,WPe=AH,KPe=IH,wl=HPe.Symbol,p1=UPe("wks"),GPe=KPe?wl.for||wl:wl&&wl.withoutSetter||VPe,Qt=function(e){return MP(p1,e)||(p1[e]=WPe&&MP(wl,e)?wl[e]:GPe("Symbol."+e)),p1[e]},qPe=Sn,AP=yr,IP=PH,YPe=ZO,JPe=EPe,XPe=Qt,QPe=TypeError,ZPe=XPe("toPrimitive"),e_e=function(e,t){if(!AP(e)||IP(e))return e;var r=YPe(e,ZPe),n;if(r){if(t===void 0&&(t="default"),n=qPe(r,e,t),!AP(n)||IP(n))return n;throw new QPe("Can't convert object to primitive value")}return t===void 0&&(t="number"),JPe(e,t)},t_e=e_e,r_e=PH,nT=function(e){var t=t_e(e,"string");return r_e(t)?t:t+""},n_e=Kt,PP=yr,cx=n_e.document,i_e=PP(cx)&&PP(cx.createElement),y0=function(e){return i_e?cx.createElement(e):{}},o_e=xn,a_e=Mt,s_e=y0,LH=!o_e&&!a_e(function(){return Object.defineProperty(s_e("div"),"a",{get:function(){return 7}}).a!==7}),l_e=xn,c_e=Sn,u_e=YO,f_e=g0,d_e=bc,h_e=nT,p_e=kn,g_e=LH,_P=Object.getOwnPropertyDescriptor;h0.f=l_e?_P:function(t,r){if(t=d_e(t),r=h_e(r),g_e)try{return _P(t,r)}catch{}if(p_e(t,r))return f_e(!c_e(u_e.f,t,r),t[r])};var Wn={},m_e=xn,v_e=Mt,NH=m_e&&v_e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),b_e=yr,y_e=String,$_e=TypeError,Kn=function(e){if(b_e(e))return e;throw new $_e(y_e(e)+" is not an object")},w_e=xn,x_e=LH,S_e=NH,xh=Kn,DP=nT,k_e=TypeError,g1=Object.defineProperty,O_e=Object.getOwnPropertyDescriptor,m1="enumerable",v1="configurable",b1="writable";Wn.f=w_e?S_e?function(t,r,n){if(xh(t),r=DP(r),xh(n),typeof t=="function"&&r==="prototype"&&"value"in n&&b1 in n&&!n[b1]){var i=O_e(t,r);i&&i[b1]&&(t[r]=n.value,n={configurable:v1 in n?n[v1]:i[v1],enumerable:m1 in n?n[m1]:i[m1],writable:!1})}return g1(t,r,n)}:g1:function(t,r,n){if(xh(t),r=DP(r),xh(n),x_e)try{return g1(t,r,n)}catch{}if("get"in n||"set"in n)throw new k_e("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var T_e=xn,C_e=Wn,E_e=g0,$0=T_e?function(e,t,r){return C_e.f(e,t,E_e(1,r))}:function(e,t,r){return e[t]=r,e},RH={exports:{}},ux=xn,M_e=kn,FH=Function.prototype,A_e=ux&&Object.getOwnPropertyDescriptor,iT=M_e(FH,"name"),I_e=iT&&(function(){}).name==="something",P_e=iT&&(!ux||ux&&A_e(FH,"name").configurable),oT={EXISTS:iT,PROPER:I_e,CONFIGURABLE:P_e},__e=St,D_e=ft,fx=tT,L_e=__e(Function.toString);D_e(fx.inspectSource)||(fx.inspectSource=function(e){return L_e(e)});var aT=fx.inspectSource,N_e=Kt,R_e=ft,LP=N_e.WeakMap,F_e=R_e(LP)&&/native code/.test(String(LP)),j_e=DH,B_e=rT,NP=j_e("keys"),sT=function(e){return NP[e]||(NP[e]=B_e(e))},w0={},z_e=F_e,jH=Kt,H_e=yr,U_e=$0,y1=kn,$1=tT,V_e=sT,W_e=w0,RP="Object already initialized",dx=jH.TypeError,K_e=jH.WeakMap,wm,Ef,xm,G_e=function(e){return xm(e)?Ef(e):wm(e,{})},q_e=function(e){return function(t){var r;if(!H_e(t)||(r=Ef(t)).type!==e)throw new dx("Incompatible receiver, "+e+" required");return r}};if(z_e||$1.state){var Xn=$1.state||($1.state=new K_e);Xn.get=Xn.get,Xn.has=Xn.has,Xn.set=Xn.set,wm=function(e,t){if(Xn.has(e))throw new dx(RP);return t.facade=e,Xn.set(e,t),t},Ef=function(e){return Xn.get(e)||{}},xm=function(e){return Xn.has(e)}}else{var tl=V_e("state");W_e[tl]=!0,wm=function(e,t){if(y1(e,tl))throw new dx(RP);return t.facade=e,U_e(e,tl,t),t},Ef=function(e){return y1(e,tl)?e[tl]:{}},xm=function(e){return y1(e,tl)}}var cd={set:wm,get:Ef,has:xm,enforce:G_e,getterFor:q_e},lT=St,Y_e=Mt,J_e=ft,Sh=kn,hx=xn,X_e=oT.CONFIGURABLE,Q_e=aT,BH=cd,Z_e=BH.enforce,e4e=BH.get,FP=String,xp=Object.defineProperty,t4e=lT("".slice),r4e=lT("".replace),n4e=lT([].join),i4e=hx&&!Y_e(function(){return xp(function(){},"length",{value:8}).length!==8}),o4e=String(String).split("String"),a4e=RH.exports=function(e,t,r){t4e(FP(t),0,7)==="Symbol("&&(t="["+r4e(FP(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Sh(e,"name")||X_e&&e.name!==t)&&(hx?xp(e,"name",{value:t,configurable:!0}):e.name=t),i4e&&r&&Sh(r,"arity")&&e.length!==r.arity&&xp(e,"length",{value:r.arity});try{r&&Sh(r,"constructor")&&r.constructor?hx&&xp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=Z_e(e);return Sh(n,"source")||(n.source=n4e(o4e,typeof t=="string"?t:"")),e};Function.prototype.toString=a4e(function(){return J_e(this)&&e4e(this).source||Q_e(this)},"toString");var zH=RH.exports,s4e=ft,l4e=Wn,c4e=zH,u4e=eT,ma=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(s4e(r)&&c4e(r,o,n),n.global)i?e[t]=r:u4e(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:l4e.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},x0={},f4e=Math.ceil,d4e=Math.floor,h4e=Math.trunc||function(t){var r=+t;return(r>0?d4e:f4e)(r)},p4e=h4e,cT=function(e){var t=+e;return t!==t||t===0?0:p4e(t)},g4e=cT,m4e=Math.max,v4e=Math.min,HH=function(e,t){var r=g4e(e);return r<0?m4e(r+t,0):v4e(r,t)},b4e=cT,y4e=Math.min,$4e=function(e){return e>0?y4e(b4e(e),9007199254740991):0},w4e=$4e,ud=function(e){return w4e(e.length)},x4e=bc,S4e=HH,k4e=ud,O4e=function(e){return function(t,r,n){var i=x4e(t),o=k4e(i),a=S4e(n,o),s;if(e&&r!==r){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},T4e={indexOf:O4e(!1)},C4e=St,w1=kn,E4e=bc,M4e=T4e.indexOf,A4e=w0,jP=C4e([].push),UH=function(e,t){var r=E4e(e),n=0,i=[],o;for(o in r)!w1(A4e,o)&&w1(r,o)&&jP(i,o);for(;t.length>n;)w1(r,o=t[n++])&&(~M4e(i,o)||jP(i,o));return i},uT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],I4e=UH,P4e=uT,_4e=P4e.concat("length","prototype");x0.f=Object.getOwnPropertyNames||function(t){return I4e(t,_4e)};var fT={};fT.f=Object.getOwnPropertySymbols;var D4e=Ns,L4e=St,N4e=x0,R4e=fT,F4e=Kn,j4e=L4e([].concat),B4e=D4e("Reflect","ownKeys")||function(t){var r=N4e.f(F4e(t)),n=R4e.f;return n?j4e(r,n(t)):r},BP=kn,z4e=B4e,H4e=h0,U4e=Wn,V4e=function(e,t,r){for(var n=z4e(t),i=U4e.f,o=H4e.f,a=0;a<n.length;a++){var s=n[a];!BP(e,s)&&!(r&&BP(r,s))&&i(e,s,o(t,s))}},W4e=Mt,K4e=ft,G4e=/#|\.prototype\./,fd=function(e,t){var r=Y4e[q4e(e)];return r===X4e?!0:r===J4e?!1:K4e(t)?W4e(t):!!t},q4e=fd.normalize=function(e){return String(e).replace(G4e,".").toLowerCase()},Y4e=fd.data={},J4e=fd.NATIVE="N",X4e=fd.POLYFILL="P",dT=fd,x1=Kt,Q4e=h0.f,Z4e=$0,eDe=ma,tDe=eT,rDe=V4e,nDe=dT,Gn=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,s,l,c,u;if(n?a=x1:i?a=x1[r]||tDe(r,{}):a=(x1[r]||{}).prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=Q4e(a,s),l=u&&u.value):l=a[s],o=nDe(n?s:r+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;rDe(c,l)}(e.sham||l&&l.sham)&&Z4e(c,"sham",!0),eDe(a,s,c,e)}},iDe=Ls,VH=Array.isArray||function(t){return iDe(t)==="Array"},oDe=TypeError,aDe=9007199254740991,sDe=function(e){if(e>aDe)throw oDe("Maximum allowed index exceeded");return e},lDe=nT,cDe=Wn,uDe=g0,WH=function(e,t,r){var n=lDe(t);n in e?cDe.f(e,n,uDe(0,r)):e[n]=r},fDe=Qt,dDe=fDe("toStringTag"),KH={};KH[dDe]="z";var hT=String(KH)==="[object z]",hDe=hT,pDe=ft,Sp=Ls,gDe=Qt,mDe=gDe("toStringTag"),vDe=Object,bDe=Sp((function(){return arguments})())==="Arguments",yDe=function(e,t){try{return e[t]}catch{}},S0=hDe?Sp:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=yDe(t=vDe(e),mDe))=="string"?r:bDe?Sp(t):(n=Sp(t))==="Object"&&pDe(t.callee)?"Arguments":n},$De=St,wDe=Mt,GH=ft,xDe=S0,SDe=Ns,kDe=aT,qH=function(){},ODe=[],YH=SDe("Reflect","construct"),pT=/^\s*(?:class|function)\b/,TDe=$De(pT.exec),CDe=!pT.test(qH),Jc=function(t){if(!GH(t))return!1;try{return YH(qH,ODe,t),!0}catch{return!1}},JH=function(t){if(!GH(t))return!1;switch(xDe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return CDe||!!TDe(pT,kDe(t))}catch{return!0}};JH.sham=!0;var XH=!YH||wDe(function(){var e;return Jc(Jc.call)||!Jc(Object)||!Jc(function(){e=!0})||e})?JH:Jc,zP=VH,EDe=XH,MDe=yr,ADe=Qt,IDe=ADe("species"),HP=Array,PDe=function(e){var t;return zP(e)&&(t=e.constructor,EDe(t)&&(t===HP||zP(t.prototype))?t=void 0:MDe(t)&&(t=t[IDe],t===null&&(t=void 0))),t===void 0?HP:t},_De=PDe,QH=function(e,t){return new(_De(e))(t===0?0:t)},DDe=Mt,LDe=Qt,NDe=v0,RDe=LDe("species"),FDe=function(e){return NDe>=51||!DDe(function(){var t=[],r=t.constructor={};return r[RDe]=function(){return{foo:1}},t[e](Boolean).foo!==1})},jDe=Gn,BDe=Mt,zDe=VH,HDe=yr,UDe=ld,VDe=ud,UP=sDe,VP=WH,WDe=QH,KDe=FDe,GDe=Qt,qDe=v0,ZH=GDe("isConcatSpreadable"),YDe=qDe>=51||!BDe(function(){var e=[];return e[ZH]=!1,e.concat()[0]!==e}),JDe=function(e){if(!HDe(e))return!1;var t=e[ZH];return t!==void 0?!!t:zDe(e)},XDe=!YDe||!KDe("concat");jDe({target:"Array",proto:!0,arity:1,forced:XDe},{concat:function(t){var r=UDe(this),n=WDe(r,0),i=0,o,a,s,l,c;for(o=-1,s=arguments.length;o<s;o++)if(c=o===-1?r:arguments[o],JDe(c))for(l=VDe(c),UP(i+l),a=0;a<l;a++,i++)a in c&&VP(n,i,c[a]);else UP(i+1),VP(n,i++,c);return n.length=i,n}});var WP=zH,QDe=Wn,eU=function(e,t,r){return r.get&&WP(r.get,t,{getter:!0}),r.set&&WP(r.set,t,{setter:!0}),QDe.f(e,t,r)},ZDe=xn,eLe=oT.EXISTS,tU=St,tLe=eU,rU=Function.prototype,rLe=tU(rU.toString),nU=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,nLe=tU(nU.exec),iLe="name";ZDe&&!eLe&&tLe(rU,iLe,{configurable:!0,get:function(){try{return nLe(nU,rLe(this))[1]}catch{return""}}});var oLe=UH,aLe=uT,iU=Object.keys||function(t){return oLe(t,aLe)},KP=xn,sLe=St,lLe=Sn,cLe=Mt,S1=iU,uLe=fT,fLe=YO,dLe=ld,hLe=JO,rl=Object.assign,GP=Object.defineProperty,pLe=sLe([].concat),gLe=!rl||cLe(function(){if(KP&&rl({b:1},rl(GP({},"a",{enumerable:!0,get:function(){GP(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),rl({},e)[r]!==7||S1(rl({},t)).join("")!==n})?function(t,r){for(var n=dLe(t),i=arguments.length,o=1,a=uLe.f,s=fLe.f;i>o;)for(var l=hLe(arguments[o++]),c=a?pLe(S1(l),a(l)):S1(l),u=c.length,f=0,d;u>f;)d=c[f++],(!KP||lLe(s,l,d))&&(n[d]=l[d]);return n}:rl,mLe=Gn,qP=gLe;mLe({target:"Object",stat:!0,arity:2,forced:Object.assign!==qP},{assign:qP});var vLe=hT,bLe=S0,yLe=vLe?{}.toString:function(){return"[object "+bLe(this)+"]"},$Le=hT,wLe=ma,xLe=yLe;$Le||wLe(Object.prototype,"toString",xLe,{unsafe:!0});var SLe=Kt,kLe=Ls,k0=kLe(SLe.process)==="process",OLe=St,TLe=ga,CLe=function(e,t,r){try{return OLe(TLe(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},ELe=ft,MLe=String,ALe=TypeError,ILe=function(e){if(typeof e=="object"||ELe(e))return e;throw new ALe("Can't set "+MLe(e)+" as a prototype")},PLe=CLe,_Le=Kn,DLe=ILe,gT=Object.setPrototypeOf||("__proto__"in{}?(function(){var e=!1,t={},r;try{r=PLe(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,o){return _Le(i),DLe(o),e?r(i,o):i.__proto__=o,i}})():void 0),LLe=Wn.f,NLe=kn,RLe=Qt,YP=RLe("toStringTag"),dd=function(e,t,r){e&&!r&&(e=e.prototype),e&&!NLe(e,YP)&&LLe(e,YP,{configurable:!0,value:t})},FLe=Ns,jLe=eU,BLe=Qt,zLe=xn,JP=BLe("species"),HLe=function(e){var t=FLe(e);zLe&&t&&!t[JP]&&jLe(t,JP,{configurable:!0,get:function(){return this}})},ULe=QO,VLe=TypeError,mT=function(e,t){if(ULe(t,e))return e;throw new VLe("Incorrect invocation")},WLe=XH,KLe=b0,GLe=TypeError,qLe=function(e){if(WLe(e))return e;throw new GLe(KLe(e)+" is not a constructor")},XP=Kn,YLe=qLe,JLe=vc,XLe=Qt,QLe=XLe("species"),ZLe=function(e,t){var r=XP(e).constructor,n;return r===void 0||JLe(n=XP(r)[QLe])?t:YLe(n)},eNe=p0,oU=Function.prototype,QP=oU.apply,ZP=oU.call,tNe=typeof Reflect=="object"&&Reflect.apply||(eNe?ZP.bind(QP):function(){return ZP.apply(QP,arguments)}),rNe=Ls,nNe=St,iNe=function(e){if(rNe(e)==="Function")return nNe(e)},e_=iNe,oNe=ga,aNe=p0,sNe=e_(e_.bind),O0=function(e,t){return oNe(e),t===void 0?e:aNe?sNe(e,t):function(){return e.apply(t,arguments)}},lNe=Ns,aU=lNe("document","documentElement"),cNe=St,uNe=cNe([].slice),fNe=TypeError,dNe=function(e,t){if(e<t)throw new fNe("Not enough arguments");return e},hNe=m0,sU=/(?:ipad|iphone|ipod).*applewebkit/i.test(hNe),Kr=Kt,pNe=tNe,gNe=O0,t_=ft,mNe=kn,lU=Mt,r_=aU,vNe=uNe,n_=y0,bNe=dNe,yNe=sU,$Ne=k0,px=Kr.setImmediate,i_=Kr.clearImmediate,wNe=Kr.process,k1=Kr.Dispatch,xNe=Kr.Function,o_=Kr.MessageChannel,SNe=Kr.String,O1=0,Uu={},a_="onreadystatechange",Mf,Ca,T1,C1;lU(function(){Mf=Kr.location});var vT=function(e){if(mNe(Uu,e)){var t=Uu[e];delete Uu[e],t()}},E1=function(e){return function(){vT(e)}},s_=function(e){vT(e.data)},l_=function(e){Kr.postMessage(SNe(e),Mf.protocol+"//"+Mf.host)};(!px||!i_)&&(px=function(t){bNe(arguments.length,1);var r=t_(t)?t:xNe(t),n=vNe(arguments,1);return Uu[++O1]=function(){pNe(r,void 0,n)},Ca(O1),O1},i_=function(t){delete Uu[t]},$Ne?Ca=function(e){wNe.nextTick(E1(e))}:k1&&k1.now?Ca=function(e){k1.now(E1(e))}:o_&&!yNe?(T1=new o_,C1=T1.port2,T1.port1.onmessage=s_,Ca=gNe(C1.postMessage,C1)):Kr.addEventListener&&t_(Kr.postMessage)&&!Kr.importScripts&&Mf&&Mf.protocol!=="file:"&&!lU(l_)?(Ca=l_,Kr.addEventListener("message",s_,!1)):a_ in n_("script")?Ca=function(e){r_.appendChild(n_("script"))[a_]=function(){r_.removeChild(this),vT(e)}}:Ca=function(e){setTimeout(E1(e),0)});var cU={set:px},uU=function(){this.head=null,this.tail=null};uU.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var fU=uU,kNe=m0,ONe=/ipad|iphone|ipod/i.test(kNe)&&typeof Pebble<"u",TNe=m0,CNe=/web0s(?!.*chrome)/i.test(TNe),ms=Kt,c_=O0,ENe=h0.f,M1=cU.set,MNe=fU,ANe=sU,INe=ONe,PNe=CNe,A1=k0,u_=ms.MutationObserver||ms.WebKitMutationObserver,f_=ms.document,d_=ms.process,kh=ms.Promise,h_=ENe(ms,"queueMicrotask"),gx=h_&&h_.value,nl,I1,P1,Oh,p_;if(!gx){var Th=new MNe,Ch=function(){var e,t;for(A1&&(e=d_.domain)&&e.exit();t=Th.get();)try{t()}catch(r){throw Th.head&&nl(),r}e&&e.enter()};!ANe&&!A1&&!PNe&&u_&&f_?(I1=!0,P1=f_.createTextNode(""),new u_(Ch).observe(P1,{characterData:!0}),nl=function(){P1.data=I1=!I1}):!INe&&kh&&kh.resolve?(Oh=kh.resolve(void 0),Oh.constructor=kh,p_=c_(Oh.then,Oh),nl=function(){p_(Ch)}):A1?nl=function(){d_.nextTick(Ch)}:(M1=c_(M1,ms),nl=function(){M1(Ch)}),gx=function(e){Th.head||nl(),Th.add(e)}}var _Ne=gx,DNe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},bT=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},LNe=Kt,T0=LNe.Promise,dU=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",NNe=dU,RNe=k0,FNe=!NNe&&!RNe&&typeof window=="object"&&typeof document=="object",jNe=Kt,Vu=T0,BNe=ft,zNe=dT,HNe=aT,UNe=Qt,VNe=FNe,WNe=dU,_1=v0;Vu&&Vu.prototype;var KNe=UNe("species"),mx=!1,hU=BNe(jNe.PromiseRejectionEvent),GNe=zNe("Promise",function(){var e=HNe(Vu),t=e!==String(Vu);if(!t&&_1===66)return!0;if(!_1||_1<51||!/native code/.test(e)){var r=new Vu(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[KNe]=n,mx=r.then(function(){})instanceof n,!mx)return!0}return!t&&(VNe||WNe)&&!hU}),hd={CONSTRUCTOR:GNe,REJECTION_EVENT:hU,SUBCLASSING:mx},yc={},g_=ga,qNe=TypeError,YNe=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new qNe("Bad Promise constructor");t=n,r=i}),this.resolve=g_(t),this.reject=g_(r)};yc.f=function(e){return new YNe(e)};var JNe=Gn,Sm=k0,ia=Kt,nc=Sn,m_=ma,v_=gT,XNe=dd,QNe=HLe,ZNe=ga,kp=ft,eRe=yr,tRe=mT,rRe=ZLe,pU=cU.set,yT=_Ne,nRe=DNe,iRe=bT,oRe=fU,gU=cd,km=T0,$T=hd,mU=yc,C0="Promise",vU=$T.CONSTRUCTOR,aRe=$T.REJECTION_EVENT,sRe=$T.SUBCLASSING,D1=gU.getterFor(C0),lRe=gU.set,gl=km&&km.prototype,Da=km,Eh=gl,bU=ia.TypeError,vx=ia.document,wT=ia.process,bx=mU.f,cRe=bx,uRe=!!(vx&&vx.createEvent&&ia.dispatchEvent),yU="unhandledrejection",fRe="rejectionhandled",b_=0,$U=1,dRe=2,xT=1,wU=2,Mh,y_,hRe,$_,xU=function(e){var t;return eRe(e)&&kp(t=e.then)?t:!1},SU=function(e,t){var r=t.value,n=t.state===$U,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,l,c,u;try{i?(n||(t.rejection===wU&&gRe(t),t.rejection=xT),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),u=!0)),l===e.promise?a(new bU("Promise-chain cycle")):(c=xU(l))?nc(c,l,o,a):o(l)):a(r)}catch(f){s&&!u&&s.exit(),a(f)}},kU=function(e,t){e.notified||(e.notified=!0,yT(function(){for(var r=e.reactions,n;n=r.get();)SU(n,e);e.notified=!1,t&&!e.rejection&&pRe(e)}))},OU=function(e,t,r){var n,i;uRe?(n=vx.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),ia.dispatchEvent(n)):n={promise:t,reason:r},!aRe&&(i=ia["on"+e])?i(n):e===yU&&nRe("Unhandled promise rejection",r)},pRe=function(e){nc(pU,ia,function(){var t=e.facade,r=e.value,n=w_(e),i;if(n&&(i=iRe(function(){Sm?wT.emit("unhandledRejection",r,t):OU(yU,t,r)}),e.rejection=Sm||w_(e)?wU:xT,i.error))throw i.value})},w_=function(e){return e.rejection!==xT&&!e.parent},gRe=function(e){nc(pU,ia,function(){var t=e.facade;Sm?wT.emit("rejectionHandled",t):OU(fRe,t,e.value)})},xl=function(e,t,r){return function(n){e(t,n,r)}},Rl=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=dRe,kU(e,!0))},yx=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new bU("Promise can't be resolved itself");var n=xU(t);n?yT(function(){var i={done:!1};try{nc(n,t,xl(yx,i,e),xl(Rl,i,e))}catch(o){Rl(i,o,e)}}):(e.value=t,e.state=$U,kU(e,!1))}catch(i){Rl({done:!1},i,e)}}};if(vU&&(Da=function(t){tRe(this,Eh),ZNe(t),nc(Mh,this);var r=D1(this);try{t(xl(yx,r),xl(Rl,r))}catch(n){Rl(r,n)}},Eh=Da.prototype,Mh=function(t){lRe(this,{type:C0,done:!1,notified:!1,parent:!1,reactions:new oRe,rejection:!1,state:b_,value:void 0})},Mh.prototype=m_(Eh,"then",function(t,r){var n=D1(this),i=bx(rRe(this,Da));return n.parent=!0,i.ok=kp(t)?t:!0,i.fail=kp(r)&&r,i.domain=Sm?wT.domain:void 0,n.state===b_?n.reactions.add(i):yT(function(){SU(i,n)}),i.promise}),y_=function(){var e=new Mh,t=D1(e);this.promise=e,this.resolve=xl(yx,t),this.reject=xl(Rl,t)},mU.f=bx=function(e){return e===Da||e===hRe?new y_(e):cRe(e)},kp(km)&&gl!==Object.prototype)){$_=gl.then,sRe||m_(gl,"then",function(t,r){var n=this;return new Da(function(i,o){nc($_,n,i,o)}).then(t,r)},{unsafe:!0});try{delete gl.constructor}catch{}v_&&v_(gl,Eh)}JNe({global:!0,constructor:!0,wrap:!0,forced:vU},{Promise:Da});XNe(Da,C0,!1);QNe(C0);var pd={},mRe=Qt,vRe=pd,bRe=mRe("iterator"),yRe=Array.prototype,$Re=function(e){return e!==void 0&&(vRe.Array===e||yRe[bRe]===e)},wRe=S0,x_=ZO,xRe=vc,SRe=pd,kRe=Qt,ORe=kRe("iterator"),TU=function(e){if(!xRe(e))return x_(e,ORe)||x_(e,"@@iterator")||SRe[wRe(e)]},TRe=Sn,CRe=ga,ERe=Kn,MRe=b0,ARe=TU,IRe=TypeError,PRe=function(e,t){var r=arguments.length<2?ARe(e):t;if(CRe(r))return ERe(TRe(r,e));throw new IRe(MRe(e)+" is not iterable")},_Re=Sn,S_=Kn,DRe=ZO,LRe=function(e,t,r){var n,i;S_(e);try{if(n=DRe(e,"return"),!n){if(t==="throw")throw r;return r}n=_Re(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return S_(n),r},NRe=O0,RRe=Sn,FRe=Kn,jRe=b0,BRe=$Re,zRe=ud,k_=QO,HRe=PRe,URe=TU,O_=LRe,VRe=TypeError,Op=function(e,t){this.stopped=e,this.result=t},T_=Op.prototype,E0=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=NRe(t,n),c,u,f,d,h,p,g,m=function(b){return c&&O_(c,"normal",b),new Op(!0,b)},v=function(b){return i?(FRe(b),s?l(b[0],b[1],m):l(b[0],b[1])):s?l(b,m):l(b)};if(o)c=e.iterator;else if(a)c=e;else{if(u=URe(e),!u)throw new VRe(jRe(e)+" is not iterable");if(BRe(u)){for(f=0,d=zRe(e);d>f;f++)if(h=v(e[f]),h&&k_(T_,h))return h;return new Op(!1)}c=HRe(e,u)}for(p=o?e.next:c.next;!(g=RRe(p,c)).done;){try{h=v(g.value)}catch(b){O_(c,"throw",b)}if(typeof h=="object"&&h&&k_(T_,h))return h}return new Op(!1)},WRe=Qt,CU=WRe("iterator"),EU=!1;try{var KRe=0,C_={next:function(){return{done:!!KRe++}},return:function(){EU=!0}};C_[CU]=function(){return this},Array.from(C_,function(){throw 2})}catch{}var MU=function(e,t){try{if(!t&&!EU)return!1}catch{return!1}var r=!1;try{var n={};n[CU]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},GRe=T0,qRe=MU,YRe=hd.CONSTRUCTOR,AU=YRe||!qRe(function(e){GRe.all(e).then(void 0,function(){})}),JRe=Gn,XRe=Sn,QRe=ga,ZRe=yc,e6e=bT,t6e=E0,r6e=AU;JRe({target:"Promise",stat:!0,forced:r6e},{all:function(t){var r=this,n=ZRe.f(r),i=n.resolve,o=n.reject,a=e6e(function(){var s=QRe(r.resolve),l=[],c=0,u=1;t6e(t,function(f){var d=c++,h=!1;u++,XRe(s,r,f).then(function(p){h||(h=!0,l[d]=p,--u||i(l))},o)}),--u||i(l)});return a.error&&o(a.value),n.promise}});var n6e=Gn,i6e=hd.CONSTRUCTOR,$x=T0,o6e=Ns,a6e=ft,s6e=ma,E_=$x&&$x.prototype;n6e({target:"Promise",proto:!0,forced:i6e,real:!0},{catch:function(e){return this.then(void 0,e)}});if(a6e($x)){var M_=o6e("Promise").prototype.catch;E_.catch!==M_&&s6e(E_,"catch",M_,{unsafe:!0})}var l6e=Gn,c6e=Sn,u6e=ga,f6e=yc,d6e=bT,h6e=E0,p6e=AU;l6e({target:"Promise",stat:!0,forced:p6e},{race:function(t){var r=this,n=f6e.f(r),i=n.reject,o=d6e(function(){var a=u6e(r.resolve);h6e(t,function(s){c6e(a,r,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var g6e=Gn,m6e=Sn,v6e=yc,b6e=hd.CONSTRUCTOR;g6e({target:"Promise",stat:!0,forced:b6e},{reject:function(t){var r=v6e.f(this);return m6e(r.reject,void 0,t),r.promise}});var y6e=Kn,$6e=yr,w6e=yc,x6e=function(e,t){if(y6e(e),$6e(t)&&t.constructor===e)return t;var r=w6e.f(e),n=r.resolve;return n(t),r.promise},S6e=Gn,k6e=Ns,O6e=hd.CONSTRUCTOR,T6e=x6e;k6e("Promise");S6e({target:"Promise",stat:!0,forced:O6e},{resolve:function(t){return T6e(this,t)}});var IU={},C6e=xn,E6e=NH,M6e=Wn,A6e=Kn,I6e=bc,P6e=iU;IU.f=C6e&&!E6e?Object.defineProperties:function(t,r){A6e(t);for(var n=I6e(r),i=P6e(r),o=i.length,a=0,s;o>a;)M6e.f(t,s=i[a++],n[s]);return t};var _6e=Kn,D6e=IU,A_=uT,L6e=w0,N6e=aU,R6e=y0,F6e=sT,I_=">",P_="<",wx="prototype",xx="script",PU=F6e("IE_PROTO"),L1=function(){},_U=function(e){return P_+xx+I_+e+P_+"/"+xx+I_},__=function(e){e.write(_U("")),e.close();var t=e.parentWindow.Object;return e=null,t},j6e=function(){var e=R6e("iframe"),t="java"+xx+":",r;return e.style.display="none",N6e.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(_U("document.F=Object")),r.close(),r.F},Ah,Tp=function(){try{Ah=new ActiveXObject("htmlfile")}catch{}Tp=typeof document<"u"?document.domain&&Ah?__(Ah):j6e():__(Ah);for(var e=A_.length;e--;)delete Tp[wx][A_[e]];return Tp()};L6e[PU]=!0;var DU=Object.create||function(t,r){var n;return t!==null?(L1[wx]=_6e(t),n=new L1,L1[wx]=null,n[PU]=t):n=Tp(),r===void 0?n:D6e.f(n,r)},B6e=Qt,z6e=DU,H6e=Wn.f,Sx=B6e("unscopables"),kx=Array.prototype;kx[Sx]===void 0&&H6e(kx,Sx,{configurable:!0,value:z6e(null)});var U6e=function(e){kx[Sx][e]=!0},V6e=Mt,W6e=!V6e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),K6e=kn,G6e=ft,q6e=ld,Y6e=sT,J6e=W6e,D_=Y6e("IE_PROTO"),Ox=Object,X6e=Ox.prototype,LU=J6e?Ox.getPrototypeOf:function(e){var t=q6e(e);if(K6e(t,D_))return t[D_];var r=t.constructor;return G6e(r)&&t instanceof r?r.prototype:t instanceof Ox?X6e:null},Q6e=Mt,Z6e=ft,e8e=yr,L_=LU,t8e=ma,r8e=Qt,Tx=r8e("iterator"),NU=!1,vs,N1,R1;[].keys&&(R1=[].keys(),"next"in R1?(N1=L_(L_(R1)),N1!==Object.prototype&&(vs=N1)):NU=!0);var n8e=!e8e(vs)||Q6e(function(){var e={};return vs[Tx].call(e)!==e});n8e&&(vs={});Z6e(vs[Tx])||t8e(vs,Tx,function(){return this});var RU={IteratorPrototype:vs,BUGGY_SAFARI_ITERATORS:NU},i8e=RU.IteratorPrototype,o8e=DU,a8e=g0,s8e=dd,l8e=pd,c8e=function(){return this},u8e=function(e,t,r,n){var i=t+" Iterator";return e.prototype=o8e(i8e,{next:a8e(+!n,r)}),s8e(e,i,!1),l8e[i]=c8e,e},f8e=Gn,d8e=Sn,FU=oT,h8e=ft,p8e=u8e,N_=LU,R_=gT,g8e=dd,m8e=$0,F1=ma,v8e=Qt,b8e=pd,jU=RU,y8e=FU.PROPER,$8e=FU.CONFIGURABLE,F_=jU.IteratorPrototype,Ih=jU.BUGGY_SAFARI_ITERATORS,Xc=v8e("iterator"),j_="keys",Qc="values",B_="entries",w8e=function(){return this},BU=function(e,t,r,n,i,o,a){p8e(r,t,n);var s=function(v){if(v===i&&d)return d;if(!Ih&&v&&v in u)return u[v];switch(v){case j_:return function(){return new r(this,v)};case Qc:return function(){return new r(this,v)};case B_:return function(){return new r(this,v)}}return function(){return new r(this)}},l=t+" Iterator",c=!1,u=e.prototype,f=u[Xc]||u["@@iterator"]||i&&u[i],d=!Ih&&f||s(i),h=t==="Array"&&u.entries||f,p,g,m;if(h&&(p=N_(h.call(new e)),p!==Object.prototype&&p.next&&(N_(p)!==F_&&(R_?R_(p,F_):h8e(p[Xc])||F1(p,Xc,w8e)),g8e(p,l,!0))),y8e&&i===Qc&&f&&f.name!==Qc&&($8e?m8e(u,"name",Qc):(c=!0,d=function(){return d8e(f,this)})),i)if(g={values:s(Qc),keys:o?d:s(j_),entries:s(B_)},a)for(m in g)(Ih||c||!(m in u))&&F1(u,m,g[m]);else f8e({target:t,proto:!0,forced:Ih||c},g);return u[Xc]!==d&&F1(u,Xc,d,{name:i}),b8e[t]=d,g},zU=function(e,t){return{value:e,done:t}},x8e=bc,ST=U6e,z_=pd,HU=cd,S8e=Wn.f,k8e=BU,Ph=zU,O8e=xn,UU="Array Iterator",T8e=HU.set,C8e=HU.getterFor(UU),E8e=k8e(Array,"Array",function(e,t){T8e(this,{type:UU,target:x8e(e),index:0,kind:t})},function(){var e=C8e(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Ph(void 0,!0);switch(e.kind){case"keys":return Ph(r,!1);case"values":return Ph(t[r],!1)}return Ph([r,t[r]],!1)},"values"),H_=z_.Arguments=z_.Array;ST("keys");ST("values");ST("entries");if(O8e&&H_.name!=="values")try{S8e(H_,"name",{value:"values"})}catch{}var M8e=S0,A8e=String,VU=function(e){if(M8e(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return A8e(e)},kT=St,I8e=cT,P8e=VU,_8e=XO,D8e=kT("".charAt),U_=kT("".charCodeAt),L8e=kT("".slice),N8e=function(e){return function(t,r){var n=P8e(_8e(t)),i=I8e(r),o=n.length,a,s;return i<0||i>=o?e?"":void 0:(a=U_(n,i),a<55296||a>56319||i+1===o||(s=U_(n,i+1))<56320||s>57343?e?D8e(n,i):a:e?L8e(n,i,i+2):(a-55296<<10)+(s-56320)+65536)}},R8e={charAt:N8e(!0)},F8e=R8e.charAt,j8e=VU,WU=cd,B8e=BU,V_=zU,KU="String Iterator",z8e=WU.set,H8e=WU.getterFor(KU);B8e(String,"String",function(e){z8e(this,{type:KU,string:j8e(e),index:0})},function(){var t=H8e(this),r=t.string,n=t.index,i;return n>=r.length?V_(void 0,!0):(i=F8e(r,n),t.index+=i.length,V_(i,!1))});var GU={exports:{}},qU={},W_=HH,U8e=ud,V8e=WH,W8e=Array,K8e=Math.max,G8e=function(e,t,r){for(var n=U8e(e),i=W_(t,n),o=W_(r===void 0?n:r,n),a=W8e(K8e(o-i,0)),s=0;i<o;i++,s++)V8e(a,s,e[i]);return a.length=s,a},q8e=Ls,Y8e=bc,YU=x0.f,J8e=G8e,JU=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],X8e=function(e){try{return YU(e)}catch{return J8e(JU)}};qU.f=function(t){return JU&&q8e(t)==="Window"?X8e(t):YU(Y8e(t))};var Q8e=Mt,Z8e=Q8e(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),e7e=Mt,t7e=yr,r7e=Ls,K_=Z8e,Cp=Object.isExtensible,n7e=e7e(function(){Cp(1)}),i7e=n7e||K_?function(t){return!t7e(t)||K_&&r7e(t)==="ArrayBuffer"?!1:Cp?Cp(t):!0}:Cp,o7e=Mt,a7e=!o7e(function(){return Object.isExtensible(Object.preventExtensions({}))}),s7e=Gn,l7e=St,c7e=w0,u7e=yr,OT=kn,f7e=Wn.f,G_=x0,d7e=qU,TT=i7e,h7e=rT,p7e=a7e,XU=!1,ao=h7e("meta"),g7e=0,CT=function(e){f7e(e,ao,{value:{objectID:"O"+g7e++,weakData:{}}})},m7e=function(e,t){if(!u7e(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!OT(e,ao)){if(!TT(e))return"F";if(!t)return"E";CT(e)}return e[ao].objectID},v7e=function(e,t){if(!OT(e,ao)){if(!TT(e))return!0;if(!t)return!1;CT(e)}return e[ao].weakData},b7e=function(e){return p7e&&XU&&TT(e)&&!OT(e,ao)&&CT(e),e},y7e=function(){$7e.enable=function(){},XU=!0;var e=G_.f,t=l7e([].splice),r={};r[ao]=1,e(r).length&&(G_.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===ao){t(i,o,1);break}return i},s7e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d7e.f}))},$7e=GU.exports={enable:y7e,fastKey:m7e,getWeakData:v7e,onFreeze:b7e};c7e[ao]=!0;var QU=GU.exports,w7e=ft,x7e=yr,q_=gT,S7e=function(e,t,r){var n,i;return q_&&w7e(n=t.constructor)&&n!==r&&x7e(i=n.prototype)&&i!==r.prototype&&q_(e,i),e},k7e=Gn,O7e=Kt,T7e=St,Y_=dT,C7e=ma,E7e=QU,M7e=E0,A7e=mT,I7e=ft,P7e=vc,j1=yr,B1=Mt,_7e=MU,D7e=dd,L7e=S7e,N7e=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=O7e[e],s=a&&a.prototype,l=a,c={},u=function(v){var b=T7e(s[v]);C7e(s,v,v==="add"?function(w){return b(this,w===0?0:w),this}:v==="delete"?function(y){return i&&!j1(y)?!1:b(this,y===0?0:y)}:v==="get"?function(w){return i&&!j1(w)?void 0:b(this,w===0?0:w)}:v==="has"?function(w){return i&&!j1(w)?!1:b(this,w===0?0:w)}:function(w,$){return b(this,w===0?0:w,$),this})},f=Y_(e,!I7e(a)||!(i||s.forEach&&!B1(function(){new a().entries().next()})));if(f)l=r.getConstructor(t,e,n,o),E7e.enable();else if(Y_(e,!0)){var d=new l,h=d[o](i?{}:-0,1)!==d,p=B1(function(){d.has(1)}),g=_7e(function(v){new a(v)}),m=!i&&B1(function(){for(var v=new a,b=5;b--;)v[o](b,b);return!v.has(-0)});g||(l=t(function(v,b){A7e(v,s);var y=L7e(new a,v,l);return P7e(b)||M7e(b,y[o],{that:y,AS_ENTRIES:n}),y}),l.prototype=s,s.constructor=l),(p||m)&&(u("delete"),u("has"),n&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,k7e({global:!0,constructor:!0,forced:l!==a},c),D7e(l,e),i||r.setStrong(l,e,n),l},R7e=ma,F7e=function(e,t,r){for(var n in t)R7e(e,n,t[n],r);return e},j7e=O0,B7e=St,z7e=JO,H7e=ld,U7e=ud,V7e=QH,J_=B7e([].push),X_=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,s=e===5||o;return function(l,c,u,f){for(var d=H7e(l),h=z7e(d),p=U7e(h),g=j7e(c,u),m=0,v=f||V7e,b=t?v(l,p):r||a?v(l,0):void 0,y,w;p>m;m++)if((s||m in h)&&(y=h[m],w=g(y,m,d),e))if(t)b[m]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:J_(b,y)}else switch(e){case 4:return!1;case 7:J_(b,y)}return o?-1:n||i?i:b}},W7e={find:X_(5),findIndex:X_(6)},K7e=St,Q_=F7e,_h=QU.getWeakData,G7e=mT,q7e=Kn,Y7e=vc,z1=yr,J7e=E0,ZU=W7e,Z_=kn,eV=cd,X7e=eV.set,Q7e=eV.getterFor,Z7e=ZU.find,e9e=ZU.findIndex,t9e=K7e([].splice),r9e=0,Dh=function(e){return e.frozen||(e.frozen=new tV)},tV=function(){this.entries=[]},H1=function(e,t){return Z7e(e.entries,function(r){return r[0]===t})};tV.prototype={get:function(e){var t=H1(this,e);if(t)return t[1]},has:function(e){return!!H1(this,e)},set:function(e,t){var r=H1(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=e9e(this.entries,function(r){return r[0]===e});return~t&&t9e(this.entries,t,1),!!~t}};var n9e={getConstructor:function(e,t,r,n){var i=e(function(l,c){G7e(l,o),X7e(l,{type:t,id:r9e++,frozen:void 0}),Y7e(c)||J7e(c,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,a=Q7e(t),s=function(l,c,u){var f=a(l),d=_h(q7e(c),!0);return d===!0?Dh(f).set(c,u):d[f.id]=u,l};return Q_(o,{delete:function(l){var c=a(this);if(!z1(l))return!1;var u=_h(l);return u===!0?Dh(c).delete(l):u&&Z_(u,c.id)&&delete u[c.id]},has:function(c){var u=a(this);if(!z1(c))return!1;var f=_h(c);return f===!0?Dh(u).has(c):f&&Z_(f,u.id)}}),Q_(o,r?{get:function(c){var u=a(this);if(z1(c)){var f=_h(c);return f===!0?Dh(u).get(c):f?f[u.id]:void 0}},set:function(c,u){return s(this,c,u)}}:{add:function(c){return s(this,c,!0)}}),i}},i9e=N7e,o9e=n9e;i9e("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},o9e);var a9e={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},s9e=y0,U1=s9e("span").classList,e4=U1&&U1.constructor&&U1.constructor.prototype,l9e=e4===Object.prototype?void 0:e4,t4=Kt,rV=a9e,c9e=l9e,$u=E8e,r4=$0,u9e=dd,f9e=Qt,V1=f9e("iterator"),W1=$u.values,nV=function(e,t){if(e){if(e[V1]!==W1)try{r4(e,V1,W1)}catch{e[V1]=W1}if(u9e(e,t,!0),rV[t]){for(var r in $u)if(e[r]!==$u[r])try{r4(e,r,$u[r])}catch{e[r]=$u[r]}}}};for(var K1 in rV)nV(t4[K1]&&t4[K1].prototype,K1);nV(c9e,"DOMTokenList");function n4(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var Ep,iV,oV,wu="#ch-tooltip",i4={enabled:!0,text:function(t,r,n){return"".concat(r," - ").concat(n.format("LLLL"))}},d9e={placement:"top",modifiers:[{name:"offset",options:{offset:[0,8]}}]},aV={getBoundingClientRect:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{width:0,height:0,top:r,right:t,bottom:r,left:t,x:t,y:r,toJSON:function(){}}}},h9e=(function(){function e(t){N3e(this,e),Ep.add(this),this.name="Tooltip",this.calendar=t,this.root=null,this.popperInstance=null,this.options=i4,this.listenerAttached=!1}return F3e(e,[{key:"setup",value:function(r){this.options=Object.assign(Object.assign({},i4),r);var n=this.calendar.eventEmitter;if(!this.options.enabled){this.listenerAttached&&(n.off("mouseover",this.mouseOverCallback,this),n.off("mouseout",this.mouseOutCallback,this),this.listenerAttached=!1),this.destroy();return}if(this.popperOptions=Object.assign(Object.assign({},d9e),this.options),this.root=document.getElementById(wu.slice(1)),!this.root){var i=document.createElement("div");i.setAttribute("id",wu.slice(1)),i.setAttribute("role","tooltip"),i.innerHTML='<div id="'.concat(wu.slice(1),'-arrow" data-popper-arrow="true"></div>')+'<span id="'.concat(wu.slice(1),'-body"></span>'),this.root=document.body.appendChild(i)}this.root.setAttribute("data-theme",this.calendar.options.options.theme),this.popperInstance=L3e(aV,this.root,this.popperOptions),this.listenerAttached||(n.on("mouseover",this.mouseOverCallback,this),n.on("mouseout",this.mouseOutCallback,this),this.listenerAttached=!0)}},{key:"mouseOverCallback",value:function(r,n,i){n4(this,Ep,"m",iV).call(this,r.target,n,i)}},{key:"mouseOutCallback",value:function(){n4(this,Ep,"m",oV).call(this)}},{key:"paint",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){return this.root&&this.root.remove(),Promise.resolve()}}]),e})();Ep=new WeakSet,iV=function(t,r,n){var i=this,o=this.options.text,a=o?o(r,n,this.calendar.dateHelper.date(r)):null;a&&(aV.getBoundingClientRect=function(){return t.getBoundingClientRect()},document.getElementById("".concat(wu.slice(1),"-body")).innerHTML=a,this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},i.popperOptions),{modifiers:[].concat(yP(i.popperOptions.modifiers),[{name:"eventListeners",enabled:!0}])})}),this.popperInstance.update(),this.root.setAttribute("data-show","1"))},oV=function(){var t=this;this.root.removeAttribute("data-show"),this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},t.popperOptions),{modifiers:[].concat(yP(t.popperOptions.modifiers),[{name:"eventListeners",enabled:!1}])})})};function p9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b9e(n.key),n)}}function m9e(e,t,r){return t&&g9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v9e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b9e(e){var t=v9e(e,"string");return typeof t=="symbol"?t:String(t)}var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},At=function(e){try{return!!e()}catch{return!0}},y9e=At,On=!y9e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),$9e=At,M0=!$9e(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),sV=M0,lV=Function.prototype,Cx=lV.call,w9e=sV&&lV.bind.bind(Cx,Cx),gt=sV?w9e:function(e){return function(){return Cx.apply(e,arguments)}},$c=function(e){return e==null},x9e=$c,S9e=TypeError,ET=function(e){if(x9e(e))throw new S9e("Can't call method on "+e);return e},k9e=ET,O9e=Object,gd=function(e){return O9e(k9e(e))},T9e=gt,C9e=gd,E9e=T9e({}.hasOwnProperty),Tn=Object.hasOwn||function(t,r){return E9e(C9e(t),r)},Ex=On,M9e=Tn,cV=Function.prototype,A9e=Ex&&Object.getOwnPropertyDescriptor,MT=M9e(cV,"name"),I9e=MT&&(function(){}).name==="something",P9e=MT&&(!Ex||Ex&&A9e(cV,"name").configurable),AT={EXISTS:MT,PROPER:I9e,CONFIGURABLE:P9e},uV={exports:{}},Mx=typeof document=="object"&&document.all,_9e=typeof Mx>"u"&&Mx!==void 0,fV={all:Mx,IS_HTMLDDA:_9e},dV=fV,D9e=dV.all,dt=dV.IS_HTMLDDA?function(e){return typeof e=="function"||e===D9e}:function(e){return typeof e=="function"},Zc=function(e){return e&&e.Math===Math&&e},It=Zc(typeof globalThis=="object"&&globalThis)||Zc(typeof window=="object"&&window)||Zc(typeof self=="object"&&self)||Zc(typeof Lh=="object"&&Lh)||Zc(typeof Lh=="object"&&Lh)||(function(){return this})()||Function("return this")(),o4=It,L9e=Object.defineProperty,IT=function(e,t){try{L9e(o4,e,{value:t,configurable:!0,writable:!0})}catch{o4[e]=t}return t},N9e=It,R9e=IT,a4="__core-js_shared__",F9e=N9e[a4]||R9e(a4,{}),PT=F9e,j9e=gt,B9e=dt,Ax=PT,z9e=j9e(Function.toString);B9e(Ax.inspectSource)||(Ax.inspectSource=function(e){return z9e(e)});var _T=Ax.inspectSource,H9e=It,U9e=dt,s4=H9e.WeakMap,V9e=U9e(s4)&&/native code/.test(String(s4)),l4=dt,hV=fV,W9e=hV.all,jr=hV.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:l4(e)||e===W9e}:function(e){return typeof e=="object"?e!==null:l4(e)},qn={},K9e=It,c4=jr,Ix=K9e.document,G9e=c4(Ix)&&c4(Ix.createElement),A0=function(e){return G9e?Ix.createElement(e):{}},q9e=On,Y9e=At,J9e=A0,pV=!q9e&&!Y9e(function(){return Object.defineProperty(J9e("div"),"a",{get:function(){return 7}}).a!==7}),X9e=On,Q9e=At,gV=X9e&&Q9e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Z9e=jr,eFe=String,tFe=TypeError,Yn=function(e){if(Z9e(e))return e;throw new tFe(eFe(e)+" is not an object")},rFe=M0,Nh=Function.prototype.call,Cn=rFe?Nh.bind(Nh):function(){return Nh.apply(Nh,arguments)},G1=It,nFe=dt,iFe=function(e){return nFe(e)?e:void 0},Rs=function(e,t){return arguments.length<2?iFe(G1[e]):G1[e]&&G1[e][t]},oFe=gt,DT=oFe({}.isPrototypeOf),I0=typeof navigator<"u"&&String(navigator.userAgent)||"",mV=It,q1=I0,u4=mV.process,f4=mV.Deno,d4=u4&&u4.versions||f4&&f4.version,h4=d4&&d4.v8,_n,Om;h4&&(_n=h4.split("."),Om=_n[0]>0&&_n[0]<4?1:+(_n[0]+_n[1]));!Om&&q1&&(_n=q1.match(/Edge\/(\d+)/),(!_n||_n[1]>=74)&&(_n=q1.match(/Chrome\/(\d+)/),_n&&(Om=+_n[1])));var vV=Om,p4=vV,aFe=At,sFe=It,lFe=sFe.String,bV=!!Object.getOwnPropertySymbols&&!aFe(function(){var e=Symbol("symbol detection");return!lFe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&p4&&p4<41}),cFe=bV,yV=cFe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",uFe=Rs,fFe=dt,dFe=DT,hFe=yV,pFe=Object,$V=hFe?function(e){return typeof e=="symbol"}:function(e){var t=uFe("Symbol");return fFe(t)&&dFe(t.prototype,pFe(e))},gFe=String,P0=function(e){try{return gFe(e)}catch{return"Object"}},mFe=dt,vFe=P0,bFe=TypeError,va=function(e){if(mFe(e))return e;throw new bFe(vFe(e)+" is not a function")},yFe=va,$Fe=$c,LT=function(e,t){var r=e[t];return $Fe(r)?void 0:yFe(r)},Y1=Cn,J1=dt,X1=jr,wFe=TypeError,xFe=function(e,t){var r,n;if(t==="string"&&J1(r=e.toString)&&!X1(n=Y1(r,e))||J1(r=e.valueOf)&&!X1(n=Y1(r,e))||t!=="string"&&J1(r=e.toString)&&!X1(n=Y1(r,e)))return n;throw new wFe("Can't convert object to primitive value")},wV={exports:{}},g4=PT;(wV.exports=function(e,t){return g4[e]||(g4[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var xV=wV.exports,SFe=gt,kFe=0,OFe=Math.random(),TFe=SFe(1 .toString),NT=function(e){return"Symbol("+(e===void 0?"":e)+")_"+TFe(++kFe+OFe,36)},CFe=It,EFe=xV,m4=Tn,MFe=NT,AFe=bV,IFe=yV,Sl=CFe.Symbol,Q1=EFe("wks"),PFe=IFe?Sl.for||Sl:Sl&&Sl.withoutSetter||MFe,$r=function(e){return m4(Q1,e)||(Q1[e]=AFe&&m4(Sl,e)?Sl[e]:PFe("Symbol."+e)),Q1[e]},_Fe=Cn,v4=jr,b4=$V,DFe=LT,LFe=xFe,NFe=$r,RFe=TypeError,FFe=NFe("toPrimitive"),jFe=function(e,t){if(!v4(e)||b4(e))return e;var r=DFe(e,FFe),n;if(r){if(t===void 0&&(t="default"),n=_Fe(r,e,t),!v4(n)||b4(n))return n;throw new RFe("Can't convert object to primitive value")}return t===void 0&&(t="number"),LFe(e,t)},BFe=jFe,zFe=$V,RT=function(e){var t=BFe(e,"string");return zFe(t)?t:t+""},HFe=On,UFe=pV,VFe=gV,Rh=Yn,y4=RT,WFe=TypeError,Z1=Object.defineProperty,KFe=Object.getOwnPropertyDescriptor,e$="enumerable",t$="configurable",r$="writable";qn.f=HFe?VFe?function(t,r,n){if(Rh(t),r=y4(r),Rh(n),typeof t=="function"&&r==="prototype"&&"value"in n&&r$ in n&&!n[r$]){var i=KFe(t,r);i&&i[r$]&&(t[r]=n.value,n={configurable:t$ in n?n[t$]:i[t$],enumerable:e$ in n?n[e$]:i[e$],writable:!1})}return Z1(t,r,n)}:Z1:function(t,r,n){if(Rh(t),r=y4(r),Rh(n),UFe)try{return Z1(t,r,n)}catch{}if("get"in n||"set"in n)throw new WFe("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var _0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},GFe=On,qFe=qn,YFe=_0,md=GFe?function(e,t,r){return qFe.f(e,t,YFe(1,r))}:function(e,t,r){return e[t]=r,e},JFe=xV,XFe=NT,$4=JFe("keys"),FT=function(e){return $4[e]||($4[e]=XFe(e))},D0={},QFe=V9e,SV=It,ZFe=jr,eje=md,n$=Tn,i$=PT,tje=FT,rje=D0,w4="Object already initialized",Px=SV.TypeError,nje=SV.WeakMap,Tm,Af,Cm,ije=function(e){return Cm(e)?Af(e):Tm(e,{})},oje=function(e){return function(t){var r;if(!ZFe(t)||(r=Af(t)).type!==e)throw new Px("Incompatible receiver, "+e+" required");return r}};if(QFe||i$.state){var Qn=i$.state||(i$.state=new nje);Qn.get=Qn.get,Qn.has=Qn.has,Qn.set=Qn.set,Tm=function(e,t){if(Qn.has(e))throw new Px(w4);return t.facade=e,Qn.set(e,t),t},Af=function(e){return Qn.get(e)||{}},Cm=function(e){return Qn.has(e)}}else{var il=tje("state");rje[il]=!0,Tm=function(e,t){if(n$(e,il))throw new Px(w4);return t.facade=e,eje(e,il,t),t},Af=function(e){return n$(e,il)?e[il]:{}},Cm=function(e){return n$(e,il)}}var vd={set:Tm,get:Af,has:Cm,enforce:ije,getterFor:oje},jT=gt,aje=At,sje=dt,Fh=Tn,_x=On,lje=AT.CONFIGURABLE,cje=_T,kV=vd,uje=kV.enforce,fje=kV.get,x4=String,Mp=Object.defineProperty,dje=jT("".slice),hje=jT("".replace),pje=jT([].join),gje=_x&&!aje(function(){return Mp(function(){},"length",{value:8}).length!==8}),mje=String(String).split("String"),vje=uV.exports=function(e,t,r){dje(x4(t),0,7)==="Symbol("&&(t="["+hje(x4(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Fh(e,"name")||lje&&e.name!==t)&&(_x?Mp(e,"name",{value:t,configurable:!0}):e.name=t),gje&&r&&Fh(r,"arity")&&e.length!==r.arity&&Mp(e,"length",{value:r.arity});try{r&&Fh(r,"constructor")&&r.constructor?_x&&Mp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=uje(e);return Fh(n,"source")||(n.source=pje(mje,typeof t=="string"?t:"")),e};Function.prototype.toString=vje(function(){return sje(this)&&fje(this).source||cje(this)},"toString");var OV=uV.exports,S4=OV,bje=qn,TV=function(e,t,r){return r.get&&S4(r.get,t,{getter:!0}),r.set&&S4(r.set,t,{setter:!0}),bje.f(e,t,r)},yje=On,$je=AT.EXISTS,CV=gt,wje=TV,EV=Function.prototype,xje=CV(EV.toString),MV=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Sje=CV(MV.exec),kje="name";yje&&!$je&&wje(EV,kje,{configurable:!0,get:function(){try{return Sje(MV,xje(this))[1]}catch{return""}}});var L0={},BT={},AV={}.propertyIsEnumerable,IV=Object.getOwnPropertyDescriptor,Oje=IV&&!AV.call({1:2},1);BT.f=Oje?function(t){var r=IV(this,t);return!!r&&r.enumerable}:AV;var PV=gt,Tje=PV({}.toString),Cje=PV("".slice),Fs=function(e){return Cje(Tje(e),8,-1)},Eje=gt,Mje=At,Aje=Fs,o$=Object,Ije=Eje("".split),N0=Mje(function(){return!o$("z").propertyIsEnumerable(0)})?function(e){return Aje(e)==="String"?Ije(e,""):o$(e)}:o$,Pje=N0,_je=ET,js=function(e){return Pje(_je(e))},Dje=On,Lje=Cn,Nje=BT,Rje=_0,Fje=js,jje=RT,Bje=Tn,zje=pV,k4=Object.getOwnPropertyDescriptor;L0.f=Dje?k4:function(t,r){if(t=Fje(t),r=jje(r),zje)try{return k4(t,r)}catch{}if(Bje(t,r))return Rje(!Lje(Nje.f,t,r),t[r])};var Hje=dt,Uje=qn,Vje=OV,Wje=IT,ba=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(Hje(r)&&Vje(r,o,n),n.global)i?e[t]=r:Wje(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:Uje.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},R0={},Kje=Math.ceil,Gje=Math.floor,qje=Math.trunc||function(t){var r=+t;return(r>0?Gje:Kje)(r)},Yje=qje,zT=function(e){var t=+e;return t!==t||t===0?0:Yje(t)},Jje=zT,Xje=Math.max,Qje=Math.min,_V=function(e,t){var r=Jje(e);return r<0?Xje(r+t,0):Qje(r,t)},Zje=zT,eBe=Math.min,tBe=function(e){return e>0?eBe(Zje(e),9007199254740991):0},rBe=tBe,F0=function(e){return rBe(e.length)},nBe=js,iBe=_V,oBe=F0,aBe=function(e){return function(t,r,n){var i=nBe(t),o=oBe(i),a=iBe(n,o),s;if(e&&r!==r){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},sBe={indexOf:aBe(!1)},lBe=gt,a$=Tn,cBe=js,uBe=sBe.indexOf,fBe=D0,O4=lBe([].push),DV=function(e,t){var r=cBe(e),n=0,i=[],o;for(o in r)!a$(fBe,o)&&a$(r,o)&&O4(i,o);for(;t.length>n;)a$(r,o=t[n++])&&(~uBe(i,o)||O4(i,o));return i},HT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dBe=DV,hBe=HT,pBe=hBe.concat("length","prototype");R0.f=Object.getOwnPropertyNames||function(t){return dBe(t,pBe)};var UT={};UT.f=Object.getOwnPropertySymbols;var gBe=Rs,mBe=gt,vBe=R0,bBe=UT,yBe=Yn,$Be=mBe([].concat),wBe=gBe("Reflect","ownKeys")||function(t){var r=vBe.f(yBe(t)),n=bBe.f;return n?$Be(r,n(t)):r},T4=Tn,xBe=wBe,SBe=L0,kBe=qn,OBe=function(e,t,r){for(var n=xBe(t),i=kBe.f,o=SBe.f,a=0;a<n.length;a++){var s=n[a];!T4(e,s)&&!(r&&T4(r,s))&&i(e,s,o(t,s))}},TBe=At,CBe=dt,EBe=/#|\.prototype\./,bd=function(e,t){var r=ABe[MBe(e)];return r===PBe?!0:r===IBe?!1:CBe(t)?TBe(t):!!t},MBe=bd.normalize=function(e){return String(e).replace(EBe,".").toLowerCase()},ABe=bd.data={},IBe=bd.NATIVE="N",PBe=bd.POLYFILL="P",VT=bd,s$=It,_Be=L0.f,DBe=md,LBe=ba,NBe=IT,RBe=OBe,FBe=VT,En=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,s,l,c,u;if(n?a=s$:i?a=s$[r]||NBe(r,{}):a=(s$[r]||{}).prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=_Be(a,s),l=u&&u.value):l=a[s],o=FBe(n?s:r+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;RBe(c,l)}(e.sham||l&&l.sham)&&DBe(c,"sham",!0),LBe(a,s,c,e)}},jBe=DV,BBe=HT,WT=Object.keys||function(t){return jBe(t,BBe)},C4=On,zBe=gt,HBe=Cn,UBe=At,l$=WT,VBe=UT,WBe=BT,KBe=gd,GBe=N0,ol=Object.assign,E4=Object.defineProperty,qBe=zBe([].concat),YBe=!ol||UBe(function(){if(C4&&ol({b:1},ol(E4({},"a",{enumerable:!0,get:function(){E4(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),ol({},e)[r]!==7||l$(ol({},t)).join("")!==n})?function(t,r){for(var n=KBe(t),i=arguments.length,o=1,a=VBe.f,s=WBe.f;i>o;)for(var l=GBe(arguments[o++]),c=a?qBe(l$(l),a(l)):l$(l),u=c.length,f=0,d;u>f;)d=c[f++],(!C4||HBe(s,l,d))&&(n[d]=l[d]);return n}:ol,JBe=En,M4=YBe;JBe({target:"Object",stat:!0,arity:2,forced:Object.assign!==M4},{assign:M4});var XBe=$r,QBe=XBe("toStringTag"),LV={};LV[QBe]="z";var KT=String(LV)==="[object z]",ZBe=KT,eze=dt,Ap=Fs,tze=$r,rze=tze("toStringTag"),nze=Object,ize=Ap((function(){return arguments})())==="Arguments",oze=function(e,t){try{return e[t]}catch{}},j0=ZBe?Ap:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=oze(t=nze(e),rze))=="string"?r:ize?Ap(t):(n=Ap(t))==="Object"&&eze(t.callee)?"Arguments":n},aze=KT,sze=j0,lze=aze?{}.toString:function(){return"[object "+sze(this)+"]"},cze=KT,uze=ba,fze=lze;cze||uze(Object.prototype,"toString",fze,{unsafe:!0});var dze=It,hze=Fs,B0=hze(dze.process)==="process",pze=gt,gze=va,mze=function(e,t,r){try{return pze(gze(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},vze=dt,bze=String,yze=TypeError,$ze=function(e){if(typeof e=="object"||vze(e))return e;throw new yze("Can't set "+bze(e)+" as a prototype")},wze=mze,xze=Yn,Sze=$ze,GT=Object.setPrototypeOf||("__proto__"in{}?(function(){var e=!1,t={},r;try{r=wze(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,o){return xze(i),Sze(o),e?r(i,o):i.__proto__=o,i}})():void 0),kze=qn.f,Oze=Tn,Tze=$r,A4=Tze("toStringTag"),yd=function(e,t,r){e&&!r&&(e=e.prototype),e&&!Oze(e,A4)&&kze(e,A4,{configurable:!0,value:t})},Cze=Rs,Eze=TV,Mze=$r,Aze=On,I4=Mze("species"),Ize=function(e){var t=Cze(e);Aze&&t&&!t[I4]&&Eze(t,I4,{configurable:!0,get:function(){return this}})},Pze=DT,_ze=TypeError,qT=function(e,t){if(Pze(t,e))return e;throw new _ze("Incorrect invocation")},Dze=gt,Lze=At,NV=dt,Nze=j0,Rze=Rs,Fze=_T,RV=function(){},jze=[],FV=Rze("Reflect","construct"),YT=/^\s*(?:class|function)\b/,Bze=Dze(YT.exec),zze=!YT.test(RV),eu=function(t){if(!NV(t))return!1;try{return FV(RV,jze,t),!0}catch{return!1}},jV=function(t){if(!NV(t))return!1;switch(Nze(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return zze||!!Bze(YT,Fze(t))}catch{return!0}};jV.sham=!0;var BV=!FV||Lze(function(){var e;return eu(eu.call)||!eu(Object)||!eu(function(){e=!0})||e})?jV:eu,Hze=BV,Uze=P0,Vze=TypeError,Wze=function(e){if(Hze(e))return e;throw new Vze(Uze(e)+" is not a constructor")},P4=Yn,Kze=Wze,Gze=$c,qze=$r,Yze=qze("species"),Jze=function(e,t){var r=P4(e).constructor,n;return r===void 0||Gze(n=P4(r)[Yze])?t:Kze(n)},Xze=M0,zV=Function.prototype,_4=zV.apply,D4=zV.call,Qze=typeof Reflect=="object"&&Reflect.apply||(Xze?D4.bind(_4):function(){return D4.apply(_4,arguments)}),Zze=Fs,eHe=gt,tHe=function(e){if(Zze(e)==="Function")return eHe(e)},L4=tHe,rHe=va,nHe=M0,iHe=L4(L4.bind),z0=function(e,t){return rHe(e),t===void 0?e:nHe?iHe(e,t):function(){return e.apply(t,arguments)}},oHe=Rs,HV=oHe("document","documentElement"),aHe=gt,sHe=aHe([].slice),lHe=TypeError,cHe=function(e,t){if(e<t)throw new lHe("Not enough arguments");return e},uHe=I0,UV=/(?:ipad|iphone|ipod).*applewebkit/i.test(uHe),Gr=It,fHe=Qze,dHe=z0,N4=dt,hHe=Tn,VV=At,R4=HV,pHe=sHe,F4=A0,gHe=cHe,mHe=UV,vHe=B0,Dx=Gr.setImmediate,j4=Gr.clearImmediate,bHe=Gr.process,c$=Gr.Dispatch,yHe=Gr.Function,B4=Gr.MessageChannel,$He=Gr.String,u$=0,Wu={},z4="onreadystatechange",If,Ea,f$,d$;VV(function(){If=Gr.location});var JT=function(e){if(hHe(Wu,e)){var t=Wu[e];delete Wu[e],t()}},h$=function(e){return function(){JT(e)}},H4=function(e){JT(e.data)},U4=function(e){Gr.postMessage($He(e),If.protocol+"//"+If.host)};(!Dx||!j4)&&(Dx=function(t){gHe(arguments.length,1);var r=N4(t)?t:yHe(t),n=pHe(arguments,1);return Wu[++u$]=function(){fHe(r,void 0,n)},Ea(u$),u$},j4=function(t){delete Wu[t]},vHe?Ea=function(e){bHe.nextTick(h$(e))}:c$&&c$.now?Ea=function(e){c$.now(h$(e))}:B4&&!mHe?(f$=new B4,d$=f$.port2,f$.port1.onmessage=H4,Ea=dHe(d$.postMessage,d$)):Gr.addEventListener&&N4(Gr.postMessage)&&!Gr.importScripts&&If&&If.protocol!=="file:"&&!VV(U4)?(Ea=U4,Gr.addEventListener("message",H4,!1)):z4 in F4("script")?Ea=function(e){R4.appendChild(F4("script"))[z4]=function(){R4.removeChild(this),JT(e)}}:Ea=function(e){setTimeout(h$(e),0)});var WV={set:Dx},KV=function(){this.head=null,this.tail=null};KV.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var GV=KV,wHe=I0,xHe=/ipad|iphone|ipod/i.test(wHe)&&typeof Pebble<"u",SHe=I0,kHe=/web0s(?!.*chrome)/i.test(SHe),bs=It,V4=z0,OHe=L0.f,p$=WV.set,THe=GV,CHe=UV,EHe=xHe,MHe=kHe,g$=B0,W4=bs.MutationObserver||bs.WebKitMutationObserver,K4=bs.document,G4=bs.process,jh=bs.Promise,q4=OHe(bs,"queueMicrotask"),Lx=q4&&q4.value,al,m$,v$,Bh,Y4;if(!Lx){var zh=new THe,Hh=function(){var e,t;for(g$&&(e=G4.domain)&&e.exit();t=zh.get();)try{t()}catch(r){throw zh.head&&al(),r}e&&e.enter()};!CHe&&!g$&&!MHe&&W4&&K4?(m$=!0,v$=K4.createTextNode(""),new W4(Hh).observe(v$,{characterData:!0}),al=function(){v$.data=m$=!m$}):!EHe&&jh&&jh.resolve?(Bh=jh.resolve(void 0),Bh.constructor=jh,Y4=V4(Bh.then,Bh),al=function(){Y4(Hh)}):g$?al=function(){G4.nextTick(Hh)}:(p$=V4(p$,bs),al=function(){p$(Hh)}),Lx=function(e){zh.head||al(),zh.add(e)}}var AHe=Lx,IHe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},XT=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},PHe=It,H0=PHe.Promise,qV=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",_He=qV,DHe=B0,LHe=!_He&&!DHe&&typeof window=="object"&&typeof document=="object",NHe=It,Ku=H0,RHe=dt,FHe=VT,jHe=_T,BHe=$r,zHe=LHe,HHe=qV,b$=vV;Ku&&Ku.prototype;var UHe=BHe("species"),Nx=!1,YV=RHe(NHe.PromiseRejectionEvent),VHe=FHe("Promise",function(){var e=jHe(Ku),t=e!==String(Ku);if(!t&&b$===66)return!0;if(!b$||b$<51||!/native code/.test(e)){var r=new Ku(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[UHe]=n,Nx=r.then(function(){})instanceof n,!Nx)return!0}return!t&&(zHe||HHe)&&!YV}),$d={CONSTRUCTOR:VHe,REJECTION_EVENT:YV,SUBCLASSING:Nx},wc={},J4=va,WHe=TypeError,KHe=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new WHe("Bad Promise constructor");t=n,r=i}),this.resolve=J4(t),this.reject=J4(r)};wc.f=function(e){return new KHe(e)};var GHe=En,Em=B0,oa=It,ic=Cn,X4=ba,Q4=GT,qHe=yd,YHe=Ize,JHe=va,Ip=dt,XHe=jr,QHe=qT,ZHe=Jze,JV=WV.set,QT=AHe,eUe=IHe,tUe=XT,rUe=GV,XV=vd,Mm=H0,ZT=$d,QV=wc,U0="Promise",ZV=ZT.CONSTRUCTOR,nUe=ZT.REJECTION_EVENT,iUe=ZT.SUBCLASSING,y$=XV.getterFor(U0),oUe=XV.set,ml=Mm&&Mm.prototype,La=Mm,Uh=ml,eW=oa.TypeError,Rx=oa.document,eC=oa.process,Fx=QV.f,aUe=Fx,sUe=!!(Rx&&Rx.createEvent&&oa.dispatchEvent),tW="unhandledrejection",lUe="rejectionhandled",Z4=0,rW=1,cUe=2,tC=1,nW=2,Vh,eD,uUe,tD,iW=function(e){var t;return XHe(e)&&Ip(t=e.then)?t:!1},oW=function(e,t){var r=t.value,n=t.state===rW,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,l,c,u;try{i?(n||(t.rejection===nW&&dUe(t),t.rejection=tC),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),u=!0)),l===e.promise?a(new eW("Promise-chain cycle")):(c=iW(l))?ic(c,l,o,a):o(l)):a(r)}catch(f){s&&!u&&s.exit(),a(f)}},aW=function(e,t){e.notified||(e.notified=!0,QT(function(){for(var r=e.reactions,n;n=r.get();)oW(n,e);e.notified=!1,t&&!e.rejection&&fUe(e)}))},sW=function(e,t,r){var n,i;sUe?(n=Rx.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),oa.dispatchEvent(n)):n={promise:t,reason:r},!nUe&&(i=oa["on"+e])?i(n):e===tW&&eUe("Unhandled promise rejection",r)},fUe=function(e){ic(JV,oa,function(){var t=e.facade,r=e.value,n=rD(e),i;if(n&&(i=tUe(function(){Em?eC.emit("unhandledRejection",r,t):sW(tW,t,r)}),e.rejection=Em||rD(e)?nW:tC,i.error))throw i.value})},rD=function(e){return e.rejection!==tC&&!e.parent},dUe=function(e){ic(JV,oa,function(){var t=e.facade;Em?eC.emit("rejectionHandled",t):sW(lUe,t,e.value)})},kl=function(e,t,r){return function(n){e(t,n,r)}},Fl=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=cUe,aW(e,!0))},jx=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new eW("Promise can't be resolved itself");var n=iW(t);n?QT(function(){var i={done:!1};try{ic(n,t,kl(jx,i,e),kl(Fl,i,e))}catch(o){Fl(i,o,e)}}):(e.value=t,e.state=rW,aW(e,!1))}catch(i){Fl({done:!1},i,e)}}};if(ZV&&(La=function(t){QHe(this,Uh),JHe(t),ic(Vh,this);var r=y$(this);try{t(kl(jx,r),kl(Fl,r))}catch(n){Fl(r,n)}},Uh=La.prototype,Vh=function(t){oUe(this,{type:U0,done:!1,notified:!1,parent:!1,reactions:new rUe,rejection:!1,state:Z4,value:void 0})},Vh.prototype=X4(Uh,"then",function(t,r){var n=y$(this),i=Fx(ZHe(this,La));return n.parent=!0,i.ok=Ip(t)?t:!0,i.fail=Ip(r)&&r,i.domain=Em?eC.domain:void 0,n.state===Z4?n.reactions.add(i):QT(function(){oW(i,n)}),i.promise}),eD=function(){var e=new Vh,t=y$(e);this.promise=e,this.resolve=kl(jx,t),this.reject=kl(Fl,t)},QV.f=Fx=function(e){return e===La||e===uUe?new eD(e):aUe(e)},Ip(Mm)&&ml!==Object.prototype)){tD=ml.then,iUe||X4(ml,"then",function(t,r){var n=this;return new La(function(i,o){ic(tD,n,i,o)}).then(t,r)},{unsafe:!0});try{delete ml.constructor}catch{}Q4&&Q4(ml,Uh)}GHe({global:!0,constructor:!0,wrap:!0,forced:ZV},{Promise:La});qHe(La,U0,!1);YHe(U0);var wd={},hUe=$r,pUe=wd,gUe=hUe("iterator"),mUe=Array.prototype,vUe=function(e){return e!==void 0&&(pUe.Array===e||mUe[gUe]===e)},bUe=j0,nD=LT,yUe=$c,$Ue=wd,wUe=$r,xUe=wUe("iterator"),lW=function(e){if(!yUe(e))return nD(e,xUe)||nD(e,"@@iterator")||$Ue[bUe(e)]},SUe=Cn,kUe=va,OUe=Yn,TUe=P0,CUe=lW,EUe=TypeError,MUe=function(e,t){var r=arguments.length<2?CUe(e):t;if(kUe(r))return OUe(SUe(r,e));throw new EUe(TUe(e)+" is not iterable")},AUe=Cn,iD=Yn,IUe=LT,PUe=function(e,t,r){var n,i;iD(e);try{if(n=IUe(e,"return"),!n){if(t==="throw")throw r;return r}n=AUe(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return iD(n),r},_Ue=z0,DUe=Cn,LUe=Yn,NUe=P0,RUe=vUe,FUe=F0,oD=DT,jUe=MUe,BUe=lW,aD=PUe,zUe=TypeError,Pp=function(e,t){this.stopped=e,this.result=t},sD=Pp.prototype,V0=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=_Ue(t,n),c,u,f,d,h,p,g,m=function(b){return c&&aD(c,"normal",b),new Pp(!0,b)},v=function(b){return i?(LUe(b),s?l(b[0],b[1],m):l(b[0],b[1])):s?l(b,m):l(b)};if(o)c=e.iterator;else if(a)c=e;else{if(u=BUe(e),!u)throw new zUe(NUe(e)+" is not iterable");if(RUe(u)){for(f=0,d=FUe(e);d>f;f++)if(h=v(e[f]),h&&oD(sD,h))return h;return new Pp(!1)}c=jUe(e,u)}for(p=o?e.next:c.next;!(g=DUe(p,c)).done;){try{h=v(g.value)}catch(b){aD(c,"throw",b)}if(typeof h=="object"&&h&&oD(sD,h))return h}return new Pp(!1)},HUe=$r,cW=HUe("iterator"),uW=!1;try{var UUe=0,lD={next:function(){return{done:!!UUe++}},return:function(){uW=!0}};lD[cW]=function(){return this},Array.from(lD,function(){throw 2})}catch{}var fW=function(e,t){try{if(!t&&!uW)return!1}catch{return!1}var r=!1;try{var n={};n[cW]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},VUe=H0,WUe=fW,KUe=$d.CONSTRUCTOR,dW=KUe||!WUe(function(e){VUe.all(e).then(void 0,function(){})}),GUe=En,qUe=Cn,YUe=va,JUe=wc,XUe=XT,QUe=V0,ZUe=dW;GUe({target:"Promise",stat:!0,forced:ZUe},{all:function(t){var r=this,n=JUe.f(r),i=n.resolve,o=n.reject,a=XUe(function(){var s=YUe(r.resolve),l=[],c=0,u=1;QUe(t,function(f){var d=c++,h=!1;u++,qUe(s,r,f).then(function(p){h||(h=!0,l[d]=p,--u||i(l))},o)}),--u||i(l)});return a.error&&o(a.value),n.promise}});var eVe=En,tVe=$d.CONSTRUCTOR,Bx=H0,rVe=Rs,nVe=dt,iVe=ba,cD=Bx&&Bx.prototype;eVe({target:"Promise",proto:!0,forced:tVe,real:!0},{catch:function(e){return this.then(void 0,e)}});if(nVe(Bx)){var uD=rVe("Promise").prototype.catch;cD.catch!==uD&&iVe(cD,"catch",uD,{unsafe:!0})}var oVe=En,aVe=Cn,sVe=va,lVe=wc,cVe=XT,uVe=V0,fVe=dW;oVe({target:"Promise",stat:!0,forced:fVe},{race:function(t){var r=this,n=lVe.f(r),i=n.reject,o=cVe(function(){var a=sVe(r.resolve);uVe(t,function(s){aVe(a,r,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var dVe=En,hVe=Cn,pVe=wc,gVe=$d.CONSTRUCTOR;dVe({target:"Promise",stat:!0,forced:gVe},{reject:function(t){var r=pVe.f(this);return hVe(r.reject,void 0,t),r.promise}});var mVe=Yn,vVe=jr,bVe=wc,yVe=function(e,t){if(mVe(e),vVe(t)&&t.constructor===e)return t;var r=bVe.f(e),n=r.resolve;return n(t),r.promise},$Ve=En,wVe=Rs,xVe=$d.CONSTRUCTOR,SVe=yVe;wVe("Promise");$Ve({target:"Promise",stat:!0,forced:xVe},{resolve:function(t){return SVe(this,t)}});var kVe=At,hW=function(e,t){var r=[][e];return!!r&&kVe(function(){r.call(null,t||function(){return 1},1)})},OVe=En,TVe=gt,CVe=N0,EVe=js,MVe=hW,AVe=TVe([].join),IVe=CVe!==Object,PVe=IVe||!MVe("join",",");OVe({target:"Array",proto:!0,forced:PVe},{join:function(t){return AVe(EVe(this),t===void 0?",":t)}});var pW={},_Ve=On,DVe=gV,LVe=qn,NVe=Yn,RVe=js,FVe=WT;pW.f=_Ve&&!DVe?Object.defineProperties:function(t,r){NVe(t);for(var n=RVe(r),i=FVe(r),o=i.length,a=0,s;o>a;)LVe.f(t,s=i[a++],n[s]);return t};var jVe=Yn,BVe=pW,fD=HT,zVe=D0,HVe=HV,UVe=A0,VVe=FT,dD=">",hD="<",zx="prototype",Hx="script",gW=VVe("IE_PROTO"),$$=function(){},mW=function(e){return hD+Hx+dD+e+hD+"/"+Hx+dD},pD=function(e){e.write(mW("")),e.close();var t=e.parentWindow.Object;return e=null,t},WVe=function(){var e=UVe("iframe"),t="java"+Hx+":",r;return e.style.display="none",HVe.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(mW("document.F=Object")),r.close(),r.F},Wh,_p=function(){try{Wh=new ActiveXObject("htmlfile")}catch{}_p=typeof document<"u"?document.domain&&Wh?pD(Wh):WVe():pD(Wh);for(var e=fD.length;e--;)delete _p[zx][fD[e]];return _p()};zVe[gW]=!0;var vW=Object.create||function(t,r){var n;return t!==null?($$[zx]=jVe(t),n=new $$,$$[zx]=null,n[gW]=t):n=_p(),r===void 0?n:BVe.f(n,r)},KVe=$r,GVe=vW,qVe=qn.f,Ux=KVe("unscopables"),Vx=Array.prototype;Vx[Ux]===void 0&&qVe(Vx,Ux,{configurable:!0,value:GVe(null)});var YVe=function(e){Vx[Ux][e]=!0},JVe=At,XVe=!JVe(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),QVe=Tn,ZVe=dt,eWe=gd,tWe=FT,rWe=XVe,gD=tWe("IE_PROTO"),Wx=Object,nWe=Wx.prototype,bW=rWe?Wx.getPrototypeOf:function(e){var t=eWe(e);if(QVe(t,gD))return t[gD];var r=t.constructor;return ZVe(r)&&t instanceof r?r.prototype:t instanceof Wx?nWe:null},iWe=At,oWe=dt,aWe=jr,mD=bW,sWe=ba,lWe=$r,Kx=lWe("iterator"),yW=!1,ys,w$,x$;[].keys&&(x$=[].keys(),"next"in x$?(w$=mD(mD(x$)),w$!==Object.prototype&&(ys=w$)):yW=!0);var cWe=!aWe(ys)||iWe(function(){var e={};return ys[Kx].call(e)!==e});cWe&&(ys={});oWe(ys[Kx])||sWe(ys,Kx,function(){return this});var $W={IteratorPrototype:ys,BUGGY_SAFARI_ITERATORS:yW},uWe=$W.IteratorPrototype,fWe=vW,dWe=_0,hWe=yd,pWe=wd,gWe=function(){return this},mWe=function(e,t,r,n){var i=t+" Iterator";return e.prototype=fWe(uWe,{next:dWe(+!n,r)}),hWe(e,i,!1),pWe[i]=gWe,e},vWe=En,bWe=Cn,wW=AT,yWe=dt,$We=mWe,vD=bW,bD=GT,wWe=yd,xWe=md,S$=ba,SWe=$r,kWe=wd,xW=$W,OWe=wW.PROPER,TWe=wW.CONFIGURABLE,yD=xW.IteratorPrototype,Kh=xW.BUGGY_SAFARI_ITERATORS,tu=SWe("iterator"),$D="keys",ru="values",wD="entries",CWe=function(){return this},SW=function(e,t,r,n,i,o,a){$We(r,t,n);var s=function(v){if(v===i&&d)return d;if(!Kh&&v&&v in u)return u[v];switch(v){case $D:return function(){return new r(this,v)};case ru:return function(){return new r(this,v)};case wD:return function(){return new r(this,v)}}return function(){return new r(this)}},l=t+" Iterator",c=!1,u=e.prototype,f=u[tu]||u["@@iterator"]||i&&u[i],d=!Kh&&f||s(i),h=t==="Array"&&u.entries||f,p,g,m;if(h&&(p=vD(h.call(new e)),p!==Object.prototype&&p.next&&(vD(p)!==yD&&(bD?bD(p,yD):yWe(p[tu])||S$(p,tu,CWe)),wWe(p,l,!0))),OWe&&i===ru&&f&&f.name!==ru&&(TWe?xWe(u,"name",ru):(c=!0,d=function(){return bWe(f,this)})),i)if(g={values:s(ru),keys:o?d:s($D),entries:s(wD)},a)for(m in g)(Kh||c||!(m in u))&&S$(u,m,g[m]);else vWe({target:t,proto:!0,forced:Kh||c},g);return u[tu]!==d&&S$(u,tu,d,{name:i}),kWe[t]=d,g},kW=function(e,t){return{value:e,done:t}},EWe=js,rC=YVe,xD=wd,OW=vd,MWe=qn.f,AWe=SW,Gh=kW,IWe=On,TW="Array Iterator",PWe=OW.set,_We=OW.getterFor(TW),DWe=AWe(Array,"Array",function(e,t){PWe(this,{type:TW,target:EWe(e),index:0,kind:t})},function(){var e=_We(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Gh(void 0,!0);switch(e.kind){case"keys":return Gh(r,!1);case"values":return Gh(t[r],!1)}return Gh([r,t[r]],!1)},"values"),SD=xD.Arguments=xD.Array;rC("keys");rC("values");rC("entries");if(IWe&&SD.name!=="values")try{MWe(SD,"name",{value:"values"})}catch{}var LWe=j0,NWe=String,CW=function(e){if(LWe(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return NWe(e)},nC=gt,RWe=zT,FWe=CW,jWe=ET,BWe=nC("".charAt),kD=nC("".charCodeAt),zWe=nC("".slice),HWe=function(e){return function(t,r){var n=FWe(jWe(t)),i=RWe(r),o=n.length,a,s;return i<0||i>=o?e?"":void 0:(a=kD(n,i),a<55296||a>56319||i+1===o||(s=kD(n,i+1))<56320||s>57343?e?BWe(n,i):a:e?zWe(n,i,i+2):(a-55296<<10)+(s-56320)+65536)}},UWe={charAt:HWe(!0)},VWe=UWe.charAt,WWe=CW,EW=vd,KWe=SW,OD=kW,MW="String Iterator",GWe=EW.set,qWe=EW.getterFor(MW);KWe(String,"String",function(e){GWe(this,{type:MW,string:WWe(e),index:0})},function(){var t=qWe(this),r=t.string,n=t.index,i;return n>=r.length?OD(void 0,!0):(i=VWe(r,n),t.index+=i.length,OD(i,!1))});var AW={exports:{}},IW={},YWe=RT,JWe=qn,XWe=_0,QWe=function(e,t,r){var n=YWe(t);n in e?JWe.f(e,n,XWe(0,r)):e[n]=r},TD=_V,ZWe=F0,eKe=QWe,tKe=Array,rKe=Math.max,nKe=function(e,t,r){for(var n=ZWe(e),i=TD(t,n),o=TD(r===void 0?n:r,n),a=tKe(rKe(o-i,0)),s=0;i<o;i++,s++)eKe(a,s,e[i]);return a.length=s,a},iKe=Fs,oKe=js,PW=R0.f,aKe=nKe,_W=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],sKe=function(e){try{return PW(e)}catch{return aKe(_W)}};IW.f=function(t){return _W&&iKe(t)==="Window"?sKe(t):PW(oKe(t))};var lKe=At,cKe=lKe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),uKe=At,fKe=jr,dKe=Fs,CD=cKe,Dp=Object.isExtensible,hKe=uKe(function(){Dp(1)}),pKe=hKe||CD?function(t){return!fKe(t)||CD&&dKe(t)==="ArrayBuffer"?!1:Dp?Dp(t):!0}:Dp,gKe=At,mKe=!gKe(function(){return Object.isExtensible(Object.preventExtensions({}))}),vKe=En,bKe=gt,yKe=D0,$Ke=jr,iC=Tn,wKe=qn.f,ED=R0,xKe=IW,oC=pKe,SKe=NT,kKe=mKe,DW=!1,so=SKe("meta"),OKe=0,aC=function(e){wKe(e,so,{value:{objectID:"O"+OKe++,weakData:{}}})},TKe=function(e,t){if(!$Ke(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!iC(e,so)){if(!oC(e))return"F";if(!t)return"E";aC(e)}return e[so].objectID},CKe=function(e,t){if(!iC(e,so)){if(!oC(e))return!0;if(!t)return!1;aC(e)}return e[so].weakData},EKe=function(e){return kKe&&DW&&oC(e)&&!iC(e,so)&&aC(e),e},MKe=function(){AKe.enable=function(){},DW=!0;var e=ED.f,t=bKe([].splice),r={};r[so]=1,e(r).length&&(ED.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===so){t(i,o,1);break}return i},vKe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:xKe.f}))},AKe=AW.exports={enable:MKe,fastKey:TKe,getWeakData:CKe,onFreeze:EKe};yKe[so]=!0;var LW=AW.exports,IKe=dt,PKe=jr,MD=GT,_Ke=function(e,t,r){var n,i;return MD&&IKe(n=t.constructor)&&n!==r&&PKe(i=n.prototype)&&i!==r.prototype&&MD(e,i),e},DKe=En,LKe=It,NKe=gt,AD=VT,RKe=ba,FKe=LW,jKe=V0,BKe=qT,zKe=dt,HKe=$c,k$=jr,O$=At,UKe=fW,VKe=yd,WKe=_Ke,KKe=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=LKe[e],s=a&&a.prototype,l=a,c={},u=function(v){var b=NKe(s[v]);RKe(s,v,v==="add"?function(w){return b(this,w===0?0:w),this}:v==="delete"?function(y){return i&&!k$(y)?!1:b(this,y===0?0:y)}:v==="get"?function(w){return i&&!k$(w)?void 0:b(this,w===0?0:w)}:v==="has"?function(w){return i&&!k$(w)?!1:b(this,w===0?0:w)}:function(w,$){return b(this,w===0?0:w,$),this})},f=AD(e,!zKe(a)||!(i||s.forEach&&!O$(function(){new a().entries().next()})));if(f)l=r.getConstructor(t,e,n,o),FKe.enable();else if(AD(e,!0)){var d=new l,h=d[o](i?{}:-0,1)!==d,p=O$(function(){d.has(1)}),g=UKe(function(v){new a(v)}),m=!i&&O$(function(){for(var v=new a,b=5;b--;)v[o](b,b);return!v.has(-0)});g||(l=t(function(v,b){BKe(v,s);var y=WKe(new a,v,l);return HKe(b)||jKe(b,y[o],{that:y,AS_ENTRIES:n}),y}),l.prototype=s,s.constructor=l),(p||m)&&(u("delete"),u("has"),n&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,DKe({global:!0,constructor:!0,forced:l!==a},c),VKe(l,e),i||r.setStrong(l,e,n),l},GKe=ba,qKe=function(e,t,r){for(var n in t)GKe(e,n,t[n],r);return e},YKe=Fs,JKe=Array.isArray||function(t){return YKe(t)==="Array"},ID=JKe,XKe=BV,QKe=jr,ZKe=$r,eGe=ZKe("species"),PD=Array,tGe=function(e){var t;return ID(e)&&(t=e.constructor,XKe(t)&&(t===PD||ID(t.prototype))?t=void 0:QKe(t)&&(t=t[eGe],t===null&&(t=void 0))),t===void 0?PD:t},rGe=tGe,nGe=function(e,t){return new(rGe(e))(t===0?0:t)},iGe=z0,oGe=gt,aGe=N0,sGe=gd,lGe=F0,cGe=nGe,_D=oGe([].push),T$=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,s=e===5||o;return function(l,c,u,f){for(var d=sGe(l),h=aGe(d),p=lGe(h),g=iGe(c,u),m=0,v=f||cGe,b=t?v(l,p):r||a?v(l,0):void 0,y,w;p>m;m++)if((s||m in h)&&(y=h[m],w=g(y,m,d),e))if(t)b[m]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:_D(b,y)}else switch(e){case 4:return!1;case 7:_D(b,y)}return o?-1:n||i?i:b}},NW={forEach:T$(0),find:T$(5),findIndex:T$(6)},uGe=gt,DD=qKe,qh=LW.getWeakData,fGe=qT,dGe=Yn,hGe=$c,C$=jr,pGe=V0,RW=NW,LD=Tn,FW=vd,gGe=FW.set,mGe=FW.getterFor,vGe=RW.find,bGe=RW.findIndex,yGe=uGe([].splice),$Ge=0,Yh=function(e){return e.frozen||(e.frozen=new jW)},jW=function(){this.entries=[]},E$=function(e,t){return vGe(e.entries,function(r){return r[0]===t})};jW.prototype={get:function(e){var t=E$(this,e);if(t)return t[1]},has:function(e){return!!E$(this,e)},set:function(e,t){var r=E$(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=bGe(this.entries,function(r){return r[0]===e});return~t&&yGe(this.entries,t,1),!!~t}};var wGe={getConstructor:function(e,t,r,n){var i=e(function(l,c){fGe(l,o),gGe(l,{type:t,id:$Ge++,frozen:void 0}),hGe(c)||pGe(c,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,a=mGe(t),s=function(l,c,u){var f=a(l),d=qh(dGe(c),!0);return d===!0?Yh(f).set(c,u):d[f.id]=u,l};return DD(o,{delete:function(l){var c=a(this);if(!C$(l))return!1;var u=qh(l);return u===!0?Yh(c).delete(l):u&&LD(u,c.id)&&delete u[c.id]},has:function(c){var u=a(this);if(!C$(c))return!1;var f=qh(c);return f===!0?Yh(u).has(c):f&&LD(f,u.id)}}),DD(o,r?{get:function(c){var u=a(this);if(C$(c)){var f=qh(c);return f===!0?Yh(u).get(c):f?f[u.id]:void 0}},set:function(c,u){return s(this,c,u)}}:{add:function(c){return s(this,c,!0)}}),i}},xGe=KKe,SGe=wGe;xGe("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},SGe);var BW={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},kGe=A0,M$=kGe("span").classList,ND=M$&&M$.constructor&&M$.constructor.prototype,zW=ND===Object.prototype?void 0:ND,RD=It,HW=BW,OGe=zW,xu=DWe,FD=md,TGe=yd,CGe=$r,A$=CGe("iterator"),I$=xu.values,UW=function(e,t){if(e){if(e[A$]!==I$)try{FD(e,A$,I$)}catch{e[A$]=I$}if(TGe(e,t,!0),HW[t]){for(var r in xu)if(e[r]!==xu[r])try{FD(e,r,xu[r])}catch{e[r]=xu[r]}}}};for(var P$ in HW)UW(RD[P$]&&RD[P$].prototype,P$);UW(OGe,"DOMTokenList");var EGe=NW.forEach,MGe=hW,AGe=MGe("forEach"),IGe=AGe?[].forEach:function(t){return EGe(this,t,arguments.length>1?arguments[1]:void 0)},jD=It,BD=BW,PGe=zW,_$=IGe,_Ge=md,VW=function(e){if(e&&e.forEach!==_$)try{_Ge(e,"forEach",_$)}catch{e.forEach=_$}};for(var D$ in BD)BD[D$]&&VW(jD[D$]&&jD[D$].prototype);VW(PGe);var DGe=En,LGe=gd,WW=WT,NGe=At,RGe=NGe(function(){WW(1)});DGe({target:"Object",stat:!0,forced:RGe},{keys:function(t){return WW(LGe(t))}});function zi(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var zD;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(zD||(zD={}));var si;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})(si||(si={}));function FGe(e){return e==="left"||e==="right"}function HD(e){return e==="top"||e==="bottom"}function jGe(e){return e[si.LEFT]+e[si.RIGHT]}function BGe(e){return e[si.TOP]+e[si.BOTTOM]}var Dn,KW,GW,qW,YW,UD,L$,N$,R$=".ch-plugin-calendar-label",VD={enabled:!0,dimensions:{width:0,height:0},position:"left",text:function(){return[]},padding:[0,0,0,0]},zGe=(function(){function e(t){p9e(this,e);var r,n;Dn.add(this),this.name="CalendarLabel";var i=(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.options)===null||n===void 0?void 0:n.subDomain;this.calendar=t,this.root=null,this.shown=!1,this.options=VD,this.computedOptions={radius:i==null?void 0:i.radius,width:i==null?void 0:i.width,height:i==null?void 0:i.height,gutter:i==null?void 0:i.gutter,textAlign:"start"}}return m9e(e,[{key:"setup",value:function(r){this.options=Object.assign(Object.assign({},VD),r)}},{key:"paint",value:function(){var r=this.options.enabled;if(!r)return this.destroy();this.shown=!0;var n=this.calendar.calendarPainter.root;return this.root||(this.root=n.append("svg").attr("class",R$.slice(1)).attr("data-key",this.options.key).attr("x",0).attr("y",0)),this.build(),Promise.resolve()}},{key:"destroy",value:function(){return this.root!==null&&(this.root.remove(),this.root=null),Promise.resolve()}},{key:"build",value:function(){var r=this;return zi(this,Dn,"m",KW).call(this),zi(this,Dn,"m",GW).call(this),this.root.selectAll("g").data(this.options.text).join(function(n){return n.append("g").call(function(i){return i.append("rect").attr("class","".concat(R$.slice(1),"-bg")).attr("style","fill: transparent").call(function(o){return zi(r,Dn,"m",qW).call(r,o)})}).call(function(i){return i.append("text").attr("class","".concat(R$.slice(1),"-text")).attr("dominant-baseline","central").attr("text-anchor","middle").attr("style","fill: currentColor; font-size: 10px").call(function(o){return zi(r,Dn,"m",YW).call(r,o)})})}),Promise.resolve()}}]),e})();Dn=new WeakSet,KW=function(){var t=this;Object.keys(this.computedOptions).forEach(function(r){typeof t.options[r]<"u"&&(t.computedOptions[r]=t.options[r])})},GW=function(){var t=this.computedOptions,r=t.width,n=t.height,i=t.gutter,o=this.options,a=o.text,s=o.padding,l=o.position,c=a().length;this.options.dimensions={width:r+jGe(s),height:n+BGe(s)},HD(l)?this.options.dimensions.width+=(r+i)*(c-1):this.options.dimensions.height+=(n+i)*(c-1)},qW=function(t){var r=this,n=this.computedOptions,i=n.width,o=n.height,a=n.radius;t.attr("width",i).attr("height",o).attr("rx",a&&a>0?a:null).attr("ry",a&&a>0?a:null).attr("x",function(s,l){return zi(r,Dn,"m",L$).call(r,l)}).attr("y",function(s,l){return zi(r,Dn,"m",N$).call(r,l)})},YW=function(t){var r=this,n=this.computedOptions,i=n.height,o=n.textAlign;t.attr("text-anchor",o).attr("x",function(a,s){return zi(r,Dn,"m",UD).call(r)+zi(r,Dn,"m",L$).call(r,s)}).attr("y",function(a,s){return zi(r,Dn,"m",N$).call(r,s)+i/2}).text(function(a){return a})},UD=function(){var t=this.computedOptions,r=t.width,n=t.textAlign;switch(n){case"start":return 0;case"middle":return r/2;case"end":return r;default:return 0}},L$=function(t){var r=this.options,n=r.position,i=r.padding,o=this.computedOptions,a=o.width,s=o.gutter;return FGe(n)?i[si.LEFT]:i[si.LEFT]+(a+s)*t},N$=function(t){var r=this.options,n=r.position,i=r.padding,o=this.computedOptions,a=o.height,s=o.gutter;return HD(n)?i[si.TOP]:i[si.TOP]+(a+s)*t};function HGe(e){const t=e.match(/rgba?\(([^)]+)\)/i);if(t){const i=t[1].split(",").map(o=>o.trim());return i.length===4?parseFloat(i[3]):1}const r=e.match(/hsla?\(([^)]+)\)/i);if(r){const i=r[1].split(",").map(o=>o.trim());return i.length===4?parseFloat(i[3]):1}const n=e.match(/oklch\(([^)]+)\)/i);if(n){const i=n[1].split(" "),o=i[i.length-1],a=parseFloat(o);return isNaN(a)?1:a}return 1}function UGe(e){e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(r=>r+r).join(""));const t=parseInt(e,16);return[t>>16&255,t>>8&255,t&255]}function VGe(e,t){var a;const r=HGe(e);let n=0,i=0,o=0;if(t.startsWith("#"))[n,i,o]=UGe(t);else if(t.startsWith("rgb"))[n,i,o]=((a=t.match(/rgba?\(([^)]+)\)/i))==null?void 0:a[1].split(",").map(l=>parseFloat(l.trim())))??[0,0,0];else return console.warn("Unsupported color format for newColor:",t),t;return`rgba(${n}, ${i}, ${o}, ${r})`}var WGe=W("<div class=top_strip>"),KGe=W('<div class><div class="p-5 overflow-auto"><div class="flex mb-4"><div class="ActivityButton1 border-2 border-border size-14 flex justify-center items-center">logo</div><div class="flex-1 px-4"><div class="activityTitle text-xl font-bold ">title</div><div class="activityDesc ">desc</div></div><div class="ActivityButton2 border-2 border-border size-14 flex justify-center items-center">logo</div></div><div class="border-2 border-border size-fit p-4 pb-0"></div><div><div class="overflow-hidden transition-[height] duration-300 ease-out w-full"><div class="p-4 flex items-center justify-between"><div></div><div id=controls class="flex flex-row items-center justify-center"><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-l-md activityChangers">-</div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2"></div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-r-md activityChangers">+');const JW=e=>{let t,r;const[n,i]=J(!1),[o,a]=J("string"),s=u=>{mY(e.id,o(),u)};let l;oe(()=>{const u=Object.entries(e.progress).map(([f,d])=>({date:f,value:d}));l==null||l.fill(u)}),oe(()=>{e.textColor,c()}),lr(()=>{l=new fH,l.paint({itemSelector:t,domain:{type:"year",sort:"asc"},subDomain:{color:"var(--color-foreground)",type:"day",radius:0,width:15,height:15,label:function(u,f){return`${f??""}`},style:{stroke:"#ccc",strokeWidth:1}},range:1,start:new Date(2025,1),theme:"dark",scale:{color:{type:"linear",domain:[0,30],range:["transparent",e.textColor??"#f64a03"]}},data:{source:Object.entries(e.progress).map(([u,f])=>({date:u,value:f})),type:"json",x:"date",y:"value"}},[[h9e,{text:function(u,f,d){return(f?f+" times":"No data")+" on "+d.format("LL")}}],[zGe,{width:30,textAlign:"start",text:()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((u,f)=>f%2==0?"":u)}]]),l.on("click",(u,f,d)=>{i(!0),a(new Date(f).toISOString().split("T")[0]),console.log(new Date(f).toISOString().split("T")[0]+"/"+d)}),c()});const c=()=>{setTimeout(()=>{const u=Array.from(t.getElementsByClassName("ch-subdomain-bg")),f=e.textColor??"#f64a03";u.forEach(d=>{if(d.style.fill){const h=VGe(d.style.fill,f);d.style.strokeWidth="1px",d.style.stroke=f,d.style.fill=h}})},0)};return(()=>{var u=KGe(),f=u.firstChild,d=f.firstChild,h=d.nextSibling,p=h.nextSibling,g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=b.firstChild,w=y.nextSibling,$=w.nextSibling;B(u,M(Tt,{get when(){return e.top_strip_color},get children(){var T=WGe();return ne(D=>re(T,"background",e.top_strip_color)),T}}),f);var k=t;typeof k=="function"?Ht(k,h):t=h;var O=r;return typeof O=="function"?Ht(O,g):r=g,B(v,o),y.$$click=()=>s(-1),B(w,()=>e.progress[o()]??0),$.$$click=()=>s(1),ne(T=>{var D={"border-2 border-border mt-4":n()},L=n()?`${(r==null?void 0:r.scrollHeight)??0}px`:"0px";return T.e=za(p,D,T.e),L!==T.t&&re(g,"height",T.t=L),T},{e:void 0,t:void 0}),u})()};Ut(["click"]);var GGe=W("<div class=p-5>widget"),qGe=W("<div><div></div><div>"),YGe=W("<div>"),JGe=W("<div>Not Found"),XGe=W("<object type=application/pdf width=100% height=600px><div>No PDF viewer available"),QGe=W("<div>Loading PDF...");const XW=e=>{const[t,r]=J("");function n(i){let o="";for(let s=0;s<i.length;s+=32768){const l=i.subarray(s,s+32768);o+=String.fromCharCode(...l)}return btoa(o)}return lr(async()=>{try{const i=await CL(e.path,{baseDir:Ir.Document}),a=`data:application/pdf;base64,${n(new Uint8Array(i))}`;r(a)}catch(i){console.error("Failed to load PDF:",i),r("")}}),(()=>{var i=YGe();return B(i,M(Pf,{get fallback(){return JGe()},get children(){return[M(Qe,{get when(){return e.docType==="widget"},get children(){return GGe()}}),M(Qe,{get when(){return e.docType==="card"},children:"test1"}),M(Qe,{get when(){return e.docType==="reader"},get children(){var o=qGe(),a=o.firstChild,s=a.nextSibling;return B(a,(()=>{var l=pt(()=>!!t());return()=>l()?(()=>{var c=XGe();return ne(()=>q(c,"data",t())),c})():QGe()})()),B(s,()=>e.path.split("/")[1]),o}})]}})),i})()};var ZGe=W('<div class="content flex flex-col p-2"><div class="collapse_icon self-end w-6 h-6 collapse_icon cursor-pointer flex justify-center items-center hover:bg-background/40 border border-transparent hover:border-border opacity-0 group-hover/collapse:opacity-100 pointer-events-none group-hover/collapse:pointer-events-auto transition-all duration-200 ease-in-out"></div><div class="title text-xl font-extrabold mb-2 text-center focus:outline-0"></div><div class="subtitle mb-4 text-center">subtitle</div><div class="children_container flex flex-col">'),eqe=W('<div class="empty_children_containe h-[65px] w-full bg-gray-950">'),tqe=W('<div class="column_spacer pt-2 bg-transparent">'),rqe=W("<div>Not Found");const nqe=e=>(J(!1),(()=>{var t=ZGe(),r=t.firstChild,n=r.nextSibling,i=n.nextSibling,o=i.nextSibling;return B(r,M(yN,{width:16,height:16,classes:"",icon_name:"collapse"})),B(n,M(Q6,{get nodeId(){return e.id},get title(){return e.title}})),re(o,"position","relative"),B(o,M(Tt,{get when(){return pt(()=>!!F.nodes[e.id])()&&F.nodes[e.id].length>0},get fallback(){return eqe()},get children(){return M(Ot,{get each(){return F.nodes[e.id]},children:(a,s)=>[pt(()=>pt(()=>a.type===ie.Board)()?M(r8,ye(a,{is_child:!0})):M(s7,{node:a,isChildNode:!0,get children(){return M(Pf,{get fallback(){return rqe()},get children(){return[M(Qe,{get when(){return a.type===ie.Note},get children(){return M(Y6,a)}}),M(Qe,{get when(){return a.type===ie.Todo},get children(){return M(e8,a)}}),M(Qe,{get when(){return a.type===ie.Url},get children(){return M(t8,a)}}),M(Qe,{get when(){return a.type===ie.Table},get children(){return M(o7,a)}}),M(Qe,{get when(){return a.type===ie.Image},get children(){return M(a7,a)}}),M(Qe,{get when(){return a.type===ie.Color},get children(){return M(l7,a)}}),M(Qe,{get when(){return a.type===ie.Activity},get children(){return M(JW,a)}}),M(Qe,{get when(){return a.type===ie.Document},get children(){return M(XW,a)}})]}})}})),M(Tt,{get when(){return s()<F.nodes[e.id].length-1},get children(){return tqe()}})]})}})),t})());var iqe=W("<div id=nodes class=bg-red-600>"),oqe=W("<div>"),aqe=W("<div>Not Found");const sqe=()=>{let e;return lr(()=>{setTimeout(()=>{let t=0,r=0;const n=Array.from(e.getElementsByClassName("node"));console.log(n),n.forEach(i=>{const o=i.getBoundingClientRect();i.id==="block_10"&&(console.log("==================="),console.log("==================="),console.log("==================="),console.log("==================="),console.log(o)),o.x+o.width>t&&(t=Math.round((o.x+o.width+50)/10)*10),o.y+o.height>r&&(r=Math.round((o.y+o.height+50)/10)*10)}),console.log("changing viewport size to:",t,r),ue("viewport",{width:t,height:r})},1e3)}),(()=>{var t=iqe(),r=e;return typeof r=="function"?Ht(r,t):e=t,B(t,M(Ot,{get each(){var n;return F.nodes[((n=F.activeBoards.at(-1))==null?void 0:n.id)??"home"]},children:n=>(()=>{var i=oqe();return B(i,(()=>{var o=pt(()=>n.type===ie.Board);return()=>o()?M(r8,n):M(s7,{node:n,get children(){return M(Pf,{get fallback(){return aqe()},get children(){return[M(Qe,{get when(){return n.type===ie.Column},get children(){return M(nqe,n)}}),M(Qe,{get when(){return n.type===ie.Note},get children(){return M(Y6,n)}}),M(Qe,{get when(){return n.type===ie.Todo},get children(){return M(e8,n)}}),M(Qe,{get when(){return n.type===ie.Url},get children(){return M(t8,n)}}),M(Qe,{get when(){return n.type===ie.Table},get children(){return M(o7,n)}}),M(Qe,{get when(){return n.type===ie.Image},get children(){return M(a7,n)}}),M(Qe,{get when(){return n.type===ie.Color},get children(){return M(l7,n)}}),M(Qe,{get when(){return n.type===ie.Activity},get children(){return M(JW,n)}}),M(Qe,{get when(){return n.type===ie.Document},get children(){return M(XW,n)}})]}})}})})()),i})()})),t})()};var lqe=W("<div id=pan>/");const cqe=e=>{const[t,r]=J(!1);let n={x:0,y:0};const i=u=>{(u.which===2||u.ctrlKey)&&(u.preventDefault(),r(!0),n={x:u.clientX,y:u.clientY})};function o(u,f){const d=window.innerWidth,h=window.innerHeight,p=F.viewport.width*F.viewport.scale,g=F.viewport.height*F.viewport.scale,m=0,v=0,b=d-p,y=h-g;let w=F.viewport.x+u,$=F.viewport.y+f;w>m&&(w=m),w<b&&(w=b),$>v&&($=v),$<y&&($=y),ue("viewport","x",w),ue("viewport","y",$)}const a=u=>{if(!t())return;const f=u.clientX-n.x,d=u.clientY-n.y;F.viewport.width*F.viewport.scale,F.viewport.height*F.viewport.scale,F.viewport.x+f,F.viewport.y+d,o(f,d),n={x:u.clientX,y:u.clientY}},s=u=>{r(!1)},l=()=>{console.log("stopping the drag now"),r(!1)};vN("tauri://blur",u=>{console.log("mouse left thew window from tauri")}),lr(()=>{window.addEventListener("blur",l),be(()=>{window.removeEventListener("blur",l)})});const c=u=>{if(u.ctrlKey)return;const f=u.shiftKey?"x":"y",d=f==="y"?u.deltaY>0?-100:100:u.deltaX>0?-100:100;o(f==="x"?d:0,f==="y"?d:0)};return(()=>{var u=lqe(),f=u.firstChild;return u.addEventListener("wheel",c),u.$$mouseup=s,u.$$mousemove=a,u.$$mousedown=i,re(u,"width","100%"),re(u,"height","100%"),re(u,"position","absolute"),re(u,"top","0"),re(u,"left","0"),re(u,"overflow","hidden"),B(u,()=>F.viewport.x,f),B(u,()=>F.viewport.y,null),B(u,()=>e.children,null),u})()};Ut(["mousedown","mousemove","mouseup"]);var uqe=W('<div id=viewport style=z-index:10><div id=viewport-content style="transform-origin:50% 50%;min-height:100%;min-width:100%">');const fqe=e=>(lr(async()=>{oe(()=>{F.nodes})}),(()=>{var t=uqe(),r=t.firstChild;return re(t,"position","absolute"),re(t,"top","0"),re(t,"left","0"),re(t,"width","100%"),re(t,"height","100%"),re(t,"overflow","hidden"),r.$$dblclick=n=>{n.target===n.currentTarget&&(console.log("canvas double click"),n.stopPropagation())},r.$$click=n=>{console.log("canvas click"),console.log(n.target,n.currentTarget),n.target===n.currentTarget&&(console.log("canvas click"),n.stopPropagation(),ue("selectedNodes",new Set),ue("showColorMenu",!1))},re(r,"transition","all 0.2s ease-out"),B(r,()=>e.children),ne(n=>{var i=`translate(${F.viewport.x}px, ${F.viewport.y}px) scale(${F.viewport.scale})`,o=F.viewport.width?`${F.viewport.width}px`:"100%",a=F.viewport.height?`${F.viewport.height}px`:"100%";return i!==n.e&&re(r,"transform",n.e=i),o!==n.t&&re(r,"width",n.t=o),a!==n.a&&re(r,"height",n.a=a),n},{e:void 0,t:void 0,a:void 0}),t})());Ut(["click","dblclick"]);var dqe=W("<div id=zoom>");const hqe=e=>{let t;const r=async n=>{if(n.ctrlKey){n.preventDefault();let i=F.viewport.scale;if(n.deltaY>0){if(i<=.7)return;i-=.1}else{if(i>=1.5)return;i+=.1}ue("viewport",{scale:i})}};return(()=>{var n=dqe();n.addEventListener("wheel",r);var i=t;return typeof i=="function"?Ht(i,n):t=n,B(n,()=>e.children),n})()};var pqe=W("<div id=wrapper>");const gqe=()=>(()=>{var e=pqe();return B(e,M(uX,{}),null),B(e,M(wX,{get children(){return M(hqe,{get children(){return M(cqe,{get children(){return[M(fqe,{get children(){return M(sqe,{})}}),M(mX,{})]}})}})}}),null),e})();var mqe=W('<div id=main class="relative h-full w-[calc(100%-65px)] overflow-hidden">');const vqe=async()=>{const e=await Yq();e&&(ue("nodes",(e==null?void 0:e.nodes)??[]),ue("edges",(e==null?void 0:e.edges)??[]))},bqe=()=>(lr(async()=>{await vqe()}),(()=>{var e=mqe();return B(e,M(gqe,{})),e})());var yqe=W('<div class="h-full overflow-hidden w-[65px] p-4 bg-card"><div class="flex flex-col space-y-4 overflow-x-visible relative">'),$qe=W('<div class="absolute bg-card z-50 pointer-events-none w-[300px] p-5">New Note'),wqe=W("<div>Loading..."),xqe=W('<div class="icon cursor-pointer flex flex-col justify-center items-center transition duration-200 ease-out hover:translate-x-2 z-10"><div class></div><span class=text-sm>');const Sqe=[{name:"note",width:32,height:24},{name:"todo",width:32,height:24},{name:"comment",width:32,height:24},{name:"table",width:32,height:24},{name:"url",width:32,height:24},{name:"arrow",width:32,height:32},{name:"board",width:32,height:32},{name:"column",width:32,height:32},{name:"code",width:24,height:24},{name:"document",width:26,height:32},{name:"upload",width:32,height:32},{name:"drawing",width:32,height:32},{name:"sketch",width:32,height:24},{name:"color",width:28,height:32},{name:"image",width:32,height:32},{name:"activity",width:32,height:32}],kqe=e=>t=>{t.preventDefault(),eK(e),QW(!0),ZW({x:t.clientX,y:t.clientY}),window.addEventListener("mousemove",sC),window.addEventListener("mouseup",lC)},[Oqe,QW]=J(!1),[Am,ZW]=J({x:0,y:0}),[Tqe,eK]=J(null),sC=e=>{ZW({x:e.clientX,y:e.clientY})},lC=()=>{fY(Cqe(Tqe()??""),Am().x,Am().y),QW(!1),eK(null),window.removeEventListener("mousemove",sC),window.removeEventListener("mouseup",lC)},Cqe=e=>{switch(console.log("PPPPPPPPPPPPPPPPPPPPPPPP"),console.log(e),e){case"note":return ie.Note;case"todo":return ie.Todo;case"comment":return ie.Comment;case"table":return ie.Table;case"url":return ie.Url;case"arrow":return ie.Arrow;case"board":return ie.Board;case"column":return ie.Column;case"code":return ie.Code;case"document":return ie.Document;case"upload":return ie.Upload;case"drawing":return ie.Drawing;case"sketch":return ie.Sketch;case"color":return ie.Color;case"image":return ie.Image;case"activity":return ie.Activity;default:throw new Error(`Unsupported node type: ${e}`)}},Eqe=()=>(be(()=>{window.removeEventListener("mousemove",sC),window.removeEventListener("mouseup",lC)}),[(()=>{var e=yqe(),t=e.firstChild;return B(t,M(Ot,{each:Sqe,get fallback(){return wqe()},children:r=>(()=>{var n=xqe(),i=n.firstChild,o=i.nextSibling;return aa(n,"mousedown",kqe(r.name),!0),B(n,M(yN,{get width(){return r.width},get height(){return r.height},classes:"",get icon_name(){return r.name}}),i),B(o,()=>r.name),n})()})),e})(),M(Yx,{get children(){var e=$qe();return ne(t=>{var r=Oqe()?"block":"none",n=`${Am().y}px`,i=`${Am().x}px`;return r!==t.e&&re(e,"display",t.e=r),n!==t.t&&re(e,"top",t.t=n),i!==t.a&&re(e,"left",t.a=i),t},{e:void 0,t:void 0,a:void 0}),e}})]);Ut(["mousedown"]);var Mqe=W('<div class="h-full overflow-hidden w-[65px] py-4 flex justify-center bg-card"><div class="flex flex-col space-y-4 relative"><div class="h-full overflow-hidden space-y-2">'),Aqe=W("<div>Loading..."),Iqe=W('<div><button class="icon cursor-pointer flex flex-col justify-center items-center z-10 bg-accent aspect-square hover:bg-muted-foreground transition-colors duration-150 ease-in-out"><div class="flex flex-col size-full p-2">');const Pqe=[{name:"bold",icon:dq},{name:"italic",icon:Sq},{name:"underline",icon:Pq},{name:"strike",icon:Iq},{name:"paragraph",icon:Cq},{name:"header 1",icon:vq,attrs:{level:1}},{name:"header 2",icon:bq,attrs:{level:2}},{name:"header 3",icon:yq,attrs:{level:3}},{name:"header 4",icon:$q,attrs:{level:4}},{name:"header 5",icon:wq,attrs:{level:5}},{name:"header 6",icon:xq,attrs:{level:6}},{name:"list",icon:Oq},{name:"numberedList",icon:kq},{name:"codeBlock",icon:TL},{name:"blockQuote",icon:fq},{name:"verticalRule",icon:Aq},{name:"alignLeft",icon:lq},{name:"alignCenter",icon:aq},{name:"alignRight",icon:cq},{name:"alignJustify",icon:sq}],_qe=()=>(()=>{var e=Mqe(),t=e.firstChild,r=t.firstChild;return B(r,M(Ot,{each:Pqe,get fallback(){return Aqe()},children:n=>(()=>{var i=Iqe(),o=i.firstChild,a=o.firstChild;return o.$$click=()=>{const s=F.noteEditor;s&&Dqe(s,n.name)},B(a,M(n.icon,{})),ne(()=>o.classList.toggle("bg-primary",!!(F.noteEditor&&Lqe(F.noteEditor,n.name)))),i})()})),e})(),Dqe=(e,t)=>{switch(t){case"bold":e.chain().focus().toggleBold().run();break;case"italic":e.chain().focus().toggleItalic().run();break;case"underline":e.chain().focus().toggleUnderline().run();break;case"strike":e.chain().focus().toggleStrike().run();break;case"paragraph":e.chain().focus().setParagraph().run();break;case"header 1":e.chain().focus().toggleHeading({level:1}).run();break;case"header 2":e.chain().focus().toggleHeading({level:2}).run();break;case"header 3":e.chain().focus().toggleHeading({level:3}).run();break;case"header 4":e.chain().focus().toggleHeading({level:4}).run();break;case"header 5":e.chain().focus().toggleHeading({level:5}).run();break;case"header 6":e.chain().focus().toggleHeading({level:6}).run();break;case"list":e.chain().focus().toggleBulletList().run();break;case"numberedList":e.chain().focus().toggleOrderedList().run();break;case"codeBlock":e.chain().focus().toggleCodeBlock().run();break;case"blockQuote":e.chain().focus().toggleBlockquote().run();break;case"verticalRule":e.chain().focus().setHorizontalRule().run();break;case"alignLeft":e.chain().focus().setTextAlign("left").run();break;case"alignCenter":e.chain().focus().setTextAlign("center").run();break;case"alignRight":e.chain().focus().setTextAlign("right").run();break;case"alignJustify":e.chain().focus().setTextAlign("justify").run();break;default:console.warn("Unhandled action:",t)}},Lqe=(e,t)=>{switch(t){case"bold":return F.activeTags.includes("strong")||F.activeTags.includes("b");case"italic":return F.activeTags.includes("em")||F.activeTags.includes("i");case"underline":return F.activeTags.includes("u");case"strike":return F.activeTags.includes("s")||F.activeTags.includes("del");case"paragraph":return F.activeTags.includes("p");case"header 1":return F.activeTags.includes("h1");case"header 2":return F.activeTags.includes("h2");case"header 3":return F.activeTags.includes("h3");case"header 4":return F.activeTags.includes("h4");case"header 5":return F.activeTags.includes("h5");case"header 6":return F.activeTags.includes("h6");case"list":return F.activeTags.includes("ul");case"numberedList":return F.activeTags.includes("ol");case"codeBlock":return F.activeTags.includes("pre");case"blockQuote":return F.activeTags.includes("blockquote");case"verticalRule":return F.activeTags.includes("hr");case"alignLeft":return!1;case"alignCenter":return!1;case"alignRight":return!1;case"alignJustify":return!1;default:return console.warn("Unhandled action:",t),!1}};Ut(["click"]);var Nqe=W('<div class="h-full overflow-hidden w-[65px] p-4 bg-card "><div class="flex group/hov flex-col space-y-4 overflow-x-visible relative transition duration-200 ease-out hover:translate-x-2 cursor-pointer "><div><div class="icon flex flex-col justify-center items-center z-10 bg-accent aspect-square group-hover/hov:bg-red-500"><div class="flex flex-col size-full p-2"><div class="border-b-0 h-1/6 w-full"></div><div class="h-5/6 w-full flex items-center justify-center">A</div></div></div><p class="text-sm text-center">colors');oe(()=>{console.log(F.selectedNodes),F.selectedNodes.size===0?ue("activeSidebar","nodes"):ue("activeSidebar","nodeStyles")});const Rqe=()=>{const[e,t]=J("#EC4899"),[r,n]=J("#8B5CF6"),[i,o]=J("#8B5CF6"),a=()=>{const s=F.selectedNodes.values().next().value;if(s){const l=Xa(s);t((l==null?void 0:l.color)??"#444444"),n((l==null?void 0:l.top_strip_color)??"#333333"),o((l==null?void 0:l.textColor)??getComputedStyle(document.documentElement).getPropertyValue("--color-foreground").trim())}};return oe(()=>{(F.selectedNodes.size===1||F.selectedNodes.size>1)&&a()}),(()=>{var s=Nqe(),l=s.firstChild,c=l.firstChild,u=c.firstChild,f=u.firstChild,d=f.firstChild,h=d.nextSibling;return l.$$click=()=>ue("showColorMenu",!F.showColorMenu),ne(p=>{var g=r(),m=e(),v=i()??"var(--color-foreground)";return g!==p.e&&re(d,"background",p.e=g),m!==p.t&&re(h,"background",p.t=m),v!==p.a&&re(h,"color",p.a=v),p},{e:void 0,t:void 0,a:void 0}),s})()};Ut(["click"]);var Fqe=W('<div class="flex overflow-hidden h-full w-[65px] border-r border-border"><div class="w-[65px] h-full transition-transform duration-300 ease-in-out"></div><div class="w-[65px] h-full transition-transform duration-300 ease-in-out"></div><div class="w-[65px] h-full transition-transform duration-300 ease-in-out">');oe(()=>{console.info("store value serelcterd nodes is changed")});const jqe=()=>(()=>{var e=Fqe(),t=e.firstChild,r=t.nextSibling,n=r.nextSibling;return B(t,M(Eqe,{})),B(r,M(_qe,{})),B(n,M(Rqe,{})),ne(i=>{var o=F.activeSidebar==="nodes",a=F.activeSidebar=="noteStyles",s=F.activeSidebar=="nodeStyles",l=F.activeSidebar==="noteStyles",c=F.activeSidebar==="nodeStyles",u=F.activeSidebar!=="nodeStyles";return o!==i.e&&t.classList.toggle("translate-x-0",i.e=o),a!==i.t&&t.classList.toggle("-translate-x-full",i.t=a),s!==i.a&&t.classList.toggle("translate-x-full",i.a=s),l!==i.o&&r.classList.toggle("-translate-x-full",i.o=l),c!==i.i&&n.classList.toggle("-translate-x-[200%]",i.i=c),u!==i.n&&n.classList.toggle("-translate-x-[300%]",i.n=u),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),e})();var Bqe=W('<div id=app class="size-full overflow-hidden flex flex-col"><div id=center class="flex flex-row size-full overflow-hidden">');function zqe(){return(()=>{var e=Bqe(),t=e.firstChild;return B(e,M(Fq,{}),t),B(t,M(jqe,{}),null),B(t,M(bqe,{}),null),e})()}IK(()=>M(zqe,{}),document.getElementById("root"))});export default Hqe();
