var eK=Object.defineProperty;var tK=(e,t,r)=>t in e?eK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rK=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var R=(e,t,r)=>tK(e,typeof t!="symbol"?t+"":t,r);var Qqe=rK((qr,Yr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const Oe={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return fC(this.context.count)},getNextContextId(){return fC(this.context.count++)}};function fC(e){const t=String(e),r=t.length-1;return Oe.context.id+(r?String.fromCharCode(96+r):"")+t}function iu(e){Oe.context=e}const nK=!1,iK=(e,t)=>e===t,zn=Symbol("solid-proxy"),KD=typeof Proxy=="function",Np=Symbol("solid-track"),Rp={equals:iK};let GD=XD;const co=1,Fp=2,qD={owned:null,cleanups:null,context:null,owner:null};var je=null;let K0=null,oK=null,Ze=null,sr=null,Bn=null,Pm=0;function Ho(e,t){const r=Ze,n=je,i=e.length===0,o=t===void 0?n:t,a=i?qD:{owned:null,cleanups:null,context:o?o.context:null,owner:o},s=i?e:()=>e(()=>_e(()=>qu(a)));je=a,Ze=null;try{return $s(s,!0)}finally{Ze=r,je=n}}function Y(e,t){t=t?Object.assign({},Rp,t):Rp;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(r.value)),JD(r,i));return[YD.bind(r),n]}function aK(e,t,r){const n=Dm(e,t,!0,co);oc(n)}function ee(e,t,r){const n=Dm(e,t,!1,co);oc(n)}function oe(e,t,r){GD=dK;const n=Dm(e,t,!1,co),i=jp&&rn(jp);i&&(n.suspense=i),(!r||!r.render)&&(n.user=!0),Bn?Bn.push(n):oc(n)}function me(e,t,r){r=r?Object.assign({},Rp,r):Rp;const n=Dm(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,oc(n),YD.bind(n)}function Fi(e){return $s(e,!1)}function _e(e){if(Ze===null)return e();const t=Ze;Ze=null;try{return e()}finally{Ze=t}}function hi(e,t,r){const n=Array.isArray(e);let i,o=r&&r.defer;return a=>{let s;if(n){s=Array(e.length);for(let c=0;c<e.length;c++)s[c]=e[c]()}else s=e();if(o)return o=!1,a;const l=_e(()=>t(s,i,a));return i=s,l}}function Vt(e){oe(()=>_e(e))}function be(e){return je===null||(je.cleanups===null?je.cleanups=[e]:je.cleanups.push(e)),e}function j$(){return Ze}function B$(){return je}function sK(e,t){const r=je,n=Ze;je=e,Ze=null;try{return $s(t,!0)}catch(i){qx(i)}finally{je=r,Ze=n}}function lK(e){Bn.push.apply(Bn,e),e.length=0}function tn(e,t){const r=Symbol("context");return{id:r,Provider:pK(r),defaultValue:e}}function rn(e){let t;return je&&je.context&&(t=je.context[e.id])!==void 0?t:e.defaultValue}function _m(e){const t=me(e),r=me(()=>z$(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let jp;function cK(){return jp||(jp=tn())}function YD(){if(this.sources&&this.state)if(this.state===co)oc(this);else{const e=sr;sr=null,$s(()=>zp(this),!1),sr=e}if(Ze){const e=this.observers?this.observers.length:0;Ze.sources?(Ze.sources.push(this),Ze.sourceSlots.push(e)):(Ze.sources=[this],Ze.sourceSlots=[e]),this.observers?(this.observers.push(Ze),this.observerSlots.push(Ze.sources.length-1)):(this.observers=[Ze],this.observerSlots=[Ze.sources.length-1])}return this.value}function JD(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&$s(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=K0&&K0.running;a&&K0.disposed.has(o),(a?!o.tState:!o.state)&&(o.pure?sr.push(o):Bn.push(o),o.observers&&QD(o)),a||(o.state=co)}if(sr.length>1e6)throw sr=[],new Error},!1)),t}function oc(e){if(!e.fn)return;qu(e);const t=Pm;uK(e,e.value,t)}function uK(e,t,r){let n;const i=je,o=Ze;Ze=je=e;try{n=e.fn(t)}catch(a){return e.pure&&(e.state=co,e.owned&&e.owned.forEach(qu),e.owned=null),e.updatedAt=r+1,qx(a)}finally{Ze=o,je=i}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?JD(e,n):e.value=n,e.updatedAt=r)}function Dm(e,t,r,n=co,i){const o={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:je,context:je?je.context:null,pure:r};return je===null||je!==qD&&(je.owned?je.owned.push(o):je.owned=[o]),o}function Bp(e){if(e.state===0)return;if(e.state===Fp)return zp(e);if(e.suspense&&_e(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Pm);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===co)oc(e);else if(e.state===Fp){const n=sr;sr=null,$s(()=>zp(e,t[0]),!1),sr=n}}function $s(e,t){if(sr)return e();let r=!1;t||(sr=[]),Bn?r=!0:Bn=[],Pm++;try{const n=e();return fK(r),n}catch(n){r||(Bn=null),sr=null,qx(n)}}function fK(e){if(sr&&(XD(sr),sr=null),e)return;const t=Bn;Bn=null,t.length&&$s(()=>GD(t),!1)}function XD(e){for(let t=0;t<e.length;t++)Bp(e[t])}function dK(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:Bp(n)}if(Oe.context){if(Oe.count){Oe.effects||(Oe.effects=[]),Oe.effects.push(...e.slice(0,r));return}iu()}for(Oe.effects&&(Oe.done||!Oe.count)&&(e=[...Oe.effects,...e],r+=Oe.effects.length,delete Oe.effects),t=0;t<r;t++)Bp(e[t])}function zp(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const i=n.state;i===co?n!==t&&(!n.updatedAt||n.updatedAt<Pm)&&Bp(n):i===Fp&&zp(n,t)}}}function QD(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Fp,r.pure?sr.push(r):Bn.push(r),r.observers&&QD(r))}}function qu(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),i=r.observers;if(i&&i.length){const o=i.pop(),a=r.observerSlots.pop();n<i.length&&(o.sourceSlots[a]=n,i[n]=o,r.observerSlots[n]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)qu(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)qu(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function hK(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function qx(e,t=je){throw hK(e)}function z$(e){if(typeof e=="function"&&!e.length)return z$(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=z$(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function pK(e,t){return function(n){let i;return ee(()=>i=_e(()=>(je.context={...je.context,[e]:n.value},_m(()=>n.children))),void 0),i}}const gK=Symbol("fallback");function dC(e){for(let t=0;t<e.length;t++)e[t]()}function mK(e,t,r={}){let n=[],i=[],o=[],a=0,s=t.length>1?[]:null;return be(()=>dC(o)),()=>{let l=e()||[],c=l.length,u,f;return l[Np],_e(()=>{let h,p,g,m,v,b,y,w,$;if(c===0)a!==0&&(dC(o),o=[],n=[],i=[],a=0,s&&(s=[])),r.fallback&&(n=[gK],i[0]=Ho(x=>(o[0]=x,r.fallback())),a=1);else if(a===0){for(i=new Array(c),f=0;f<c;f++)n[f]=l[f],i[f]=Ho(d);a=c}else{for(g=new Array(c),m=new Array(c),s&&(v=new Array(c)),b=0,y=Math.min(a,c);b<y&&n[b]===l[b];b++);for(y=a-1,w=c-1;y>=b&&w>=b&&n[y]===l[w];y--,w--)g[w]=i[y],m[w]=o[y],s&&(v[w]=s[y]);for(h=new Map,p=new Array(w+1),f=w;f>=b;f--)$=l[f],u=h.get($),p[f]=u===void 0?-1:u,h.set($,f);for(u=b;u<=y;u++)$=n[u],f=h.get($),f!==void 0&&f!==-1?(g[f]=i[u],m[f]=o[u],s&&(v[f]=s[u]),f=p[f],h.set($,f)):o[u]();for(f=b;f<c;f++)f in g?(i[f]=g[f],o[f]=m[f],s&&(s[f]=v[f],s[f](f))):i[f]=Ho(d);i=i.slice(0,a=c),n=l.slice(0)}return i});function d(h){if(o[f]=h,s){const[p,g]=Y(f);return s[f]=g,t(l[f],p)}return t(l[f])}}}function M(e,t){return _e(()=>e(t||{}))}function xd(){return!0}const H$={get(e,t,r){return t===zn?r:e.get(t)},has(e,t){return t===zn?!0:e.has(t)},set:xd,deleteProperty:xd,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:xd,deleteProperty:xd}},ownKeys(e){return e.keys()}};function G0(e){return(e=typeof e=="function"?e():e)?e:{}}function vK(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function ye(...e){let t=!1;for(let a=0;a<e.length;a++){const s=e[a];t=t||!!s&&zn in s,e[a]=typeof s=="function"?(t=!0,me(s)):s}if(KD&&t)return new Proxy({get(a){for(let s=e.length-1;s>=0;s--){const l=G0(e[s])[a];if(l!==void 0)return l}},has(a){for(let s=e.length-1;s>=0;s--)if(a in G0(e[s]))return!0;return!1},keys(){const a=[];for(let s=0;s<e.length;s++)a.push(...Object.keys(G0(e[s])));return[...new Set(a)]}},H$);const r={},n=Object.create(null);for(let a=e.length-1;a>=0;a--){const s=e[a];if(!s)continue;const l=Object.getOwnPropertyNames(s);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const f=Object.getOwnPropertyDescriptor(s,u);if(!n[u])n[u]=f.get?{enumerable:!0,configurable:!0,get:vK.bind(r[u]=[f.get.bind(s)])}:f.value!==void 0?f:void 0;else{const d=r[u];d&&(f.get?d.push(f.get.bind(s)):f.value!==void 0&&d.push(()=>f.value))}}}const i={},o=Object.keys(n);for(let a=o.length-1;a>=0;a--){const s=o[a],l=n[s];l&&l.get?Object.defineProperty(i,s,l):i[s]=l?l.value:void 0}return i}function Ae(e,...t){if(KD&&zn in e){const i=new Set(t.length>1?t.flat():t[0]),o=t.map(a=>new Proxy({get(s){return a.includes(s)?e[s]:void 0},has(s){return a.includes(s)&&s in e},keys(){return a.filter(s=>s in e)}},H$));return o.push(new Proxy({get(a){return i.has(a)?void 0:e[a]},has(a){return i.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!i.has(a))}},H$)),o}const r={},n=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,i),a=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let s=!1,l=0;for(const c of t)c.includes(i)&&(s=!0,a?n[l][i]=o.value:Object.defineProperty(n[l],i,o)),++l;s||(a?r[i]=o.value:Object.defineProperty(r,i,o))}return[...n,r]}let bK=0;function ac(){return Oe.context?Oe.getNextContextId():`cl-${bK++}`}const ZD=e=>`Stale read from <${e}>.`;function yt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return me(mK(()=>e.each,e.children,t||void 0))}function Tt(e){const t=e.keyed,r=me(()=>e.when,void 0,void 0),n=t?r:me(r,void 0,{equals:(i,o)=>!i==!o});return me(()=>{const i=n();if(i){const o=e.children;return typeof o=="function"&&o.length>0?_e(()=>o(t?i:()=>{if(!_e(n))throw ZD("Show");return r()})):o}return e.fallback},void 0,void 0)}function sc(e){const t=_m(()=>e.children),r=me(()=>{const n=t(),i=Array.isArray(n)?n:[n];let o=()=>{};for(let a=0;a<i.length;a++){const s=a,l=i[a],c=o,u=me(()=>c()?void 0:l.when,void 0,void 0),f=l.keyed?u:me(u,void 0,{equals:(d,h)=>!d==!h});o=()=>c()||(f()?[s,u,l]:void 0)}return o});return me(()=>{const n=r()();if(!n)return e.fallback;const[i,o,a]=n,s=a.children;return typeof s=="function"&&s.length>0?_e(()=>s(a.keyed?o():()=>{var c;if(((c=_e(r)())==null?void 0:c[0])!==i)throw ZD("Match");return o()})):s},void 0,void 0)}function Fe(e){return e}const yK=tn();function $K(e){let t=0,r,n,i,o,a;const[s,l]=Y(!1),c=cK(),u={increment:()=>{++t===1&&l(!0)},decrement:()=>{--t===0&&l(!1)},inFallback:s,effects:[],resolved:!1},f=B$();if(Oe.context&&Oe.load){const p=Oe.getContextId();let g=Oe.load(p);if(g&&(typeof g!="object"||g.s!==1?i=g:Oe.gather(p)),i&&i!=="$$f"){const[m,v]=Y(void 0,{equals:!1});o=m,i.then(()=>{if(Oe.done)return v();Oe.gather(p),iu(n),v(),iu()},b=>{a=b,v()})}}const d=rn(yK);d&&(r=d.register(u.inFallback));let h;return be(()=>h&&h()),M(c.Provider,{value:u,get children(){return me(()=>{if(a)throw a;if(n=Oe.context,o)return o(),o=void 0;n&&i==="$$f"&&iu();const p=me(()=>e.children);return me(g=>{const m=u.inFallback(),{showContent:v=!0,showFallback:b=!0}=r?r():{};if((!m||i&&i!=="$$f")&&v)return u.resolved=!0,h&&h(),h=n=i=void 0,lK(u.effects),p();if(b)return h?g:Ho(y=>(h=y,n&&(iu({id:n.id+"F",count:0}),n=void 0),e.fallback),f)})})}})}const wK=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],xK=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...wK]),SK=new Set(["innerHTML","textContent","innerText","children"]),kK=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),OK=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function TK(e,t){const r=OK[e];return typeof r=="object"?r[t]?r.$:void 0:r}const CK=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),eL=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),EK={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},pt=e=>me(()=>e());function MK(e,t,r){let n=r.length,i=t.length,o=n,a=0,s=0,l=t[i-1].nextSibling,c=null;for(;a<i||s<o;){if(t[a]===r[s]){a++,s++;continue}for(;t[i-1]===r[o-1];)i--,o--;if(i===a){const u=o<n?s?r[s-1].nextSibling:r[o-s]:l;for(;s<o;)e.insertBefore(r[s++],u)}else if(o===s)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===r[o-1]&&r[s]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(r[s++],t[a++].nextSibling),e.insertBefore(r[--o],u),t[i]=r[o]}else{if(!c){c=new Map;let f=s;for(;f<o;)c.set(r[f],f++)}const u=c.get(t[a]);if(u!=null)if(s<u&&u<o){let f=a,d=1,h;for(;++f<i&&f<o&&!((h=c.get(t[f]))==null||h!==u+d);)d++;if(d>u-s){const p=t[a];for(;s<u;)e.insertBefore(r[s++],p)}else e.replaceChild(r[s++],t[a++])}else a++;else t[a++].remove()}}}const hC="_$DX_DELEGATE";function AK(e,t,r,n={}){let i;return Ho(o=>{i=o,t===document?e():B(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{i(),t.textContent=""}}function W(e,t,r,n){let i;const o=()=>{const s=n?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return s.innerHTML=e,r?s.content.firstChild.firstChild:n?s.firstChild:s.content.firstChild},a=t?()=>_e(()=>document.importNode(i||(i=o()),!0)):()=>(i||(i=o())).cloneNode(!0);return a.cloneNode=a,a}function Ct(e,t=window.document){const r=t[hC]||(t[hC]=new Set);for(let n=0,i=e.length;n<i;n++){const o=e[n];r.has(o)||(r.add(o),t.addEventListener(o,NK))}}function z(e,t,r){ws(e)||(r==null?e.removeAttribute(t):e.setAttribute(t,r))}function IK(e,t,r,n){ws(e)||(n==null?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,n))}function PK(e,t,r){ws(e)||(r?e.setAttribute(t,""):e.removeAttribute(t))}function Lr(e,t){ws(e)||(t==null?e.removeAttribute("class"):e.className=t)}function sa(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const i=r[0];e.addEventListener(t,r[0]=o=>i.call(e,r[1],o))}else e.addEventListener(t,r,typeof r!="function"&&r)}function Ha(e,t,r={}){const n=Object.keys(t||{}),i=Object.keys(r);let o,a;for(o=0,a=i.length;o<a;o++){const s=i[o];!s||s==="undefined"||t[s]||(pC(e,s,!1),delete r[s])}for(o=0,a=n.length;o<a;o++){const s=n[o],l=!!t[s];!s||s==="undefined"||r[s]===l||!l||(pC(e,s,!0),r[s]=l)}return r}function Lm(e,t,r){if(!t)return r?z(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),t||(t={});let i,o;for(o in r)t[o]==null&&n.removeProperty(o),delete r[o];for(o in t)i=t[o],i!==r[o]&&(n.setProperty(o,i),r[o]=i);return r}function Z(e,t,r){r!=null?e.style.setProperty(t,r):e.style.removeProperty(t)}function Yx(e,t={},r,n){const i={};return n||ee(()=>i.children=jl(e,t.children,i.children)),ee(()=>typeof t.ref=="function"&&Ut(t.ref,e)),ee(()=>tL(e,t,r,!0,i,!0)),i}function _K(e,t){const r=e[t];return Object.defineProperty(e,t,{get(){return r()},enumerable:!0}),e}function Ut(e,t,r){return _e(()=>e(t,r))}function B(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return jl(e,t,n,r);ee(i=>jl(e,t(),i,r),n)}function tL(e,t,r,n,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=gC(e,a,null,i[a],r,o,t)}for(const a in t){if(a==="children"){n||jl(e,t.children);continue}const s=t[a];i[a]=gC(e,a,s,i[a],r,o,t)}}function DK(e){let t,r;return!ws()||!(t=Oe.registry.get(r=RK()))?e():(Oe.completed&&Oe.completed.add(t),Oe.registry.delete(r),t)}function ws(e){return!!Oe.context&&!Oe.done&&(!e||e.isConnected)}function LK(e){return e.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function pC(e,t,r){const n=t.trim().split(/\s+/);for(let i=0,o=n.length;i<o;i++)e.classList.toggle(n[i],r)}function gC(e,t,r,n,i,o,a){let s,l,c,u,f;if(t==="style")return Lm(e,r,n);if(t==="classList")return Ha(e,r,n);if(r===n)return n;if(t==="ref")o||r(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);n&&e.removeEventListener(d,n,typeof n!="function"&&n),r&&e.addEventListener(d,r,typeof r!="function"&&r)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);n&&e.removeEventListener(d,n,!0),r&&e.addEventListener(d,r,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),h=CK.has(d);if(!h&&n){const p=Array.isArray(n)?n[0]:n;e.removeEventListener(d,p)}(h||r)&&(sa(e,d,r,h),h&&Ct([d]))}else if(t.slice(0,5)==="attr:")z(e,t.slice(5),r);else if(t.slice(0,5)==="bool:")PK(e,t.slice(5),r);else if((f=t.slice(0,5)==="prop:")||(c=SK.has(t))||!i&&((u=TK(t,e.tagName))||(l=xK.has(t)))||(s=e.nodeName.includes("-")||"is"in a)){if(f)t=t.slice(5),l=!0;else if(ws(e))return r;t==="class"||t==="className"?Lr(e,r):s&&!l&&!c?e[LK(t)]=r:e[u||t]=r}else{const d=i&&t.indexOf(":")>-1&&EK[t.split(":")[0]];d?IK(e,d,t,r):z(e,kK[t]||t,r)}return r}function NK(e){if(Oe.registry&&Oe.events&&Oe.events.find(([l,c])=>c===e))return;let t=e.target;const r=`$$${e.type}`,n=e.target,i=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),a=()=>{const l=t[r];if(l&&!t.disabled){const c=t[`${r}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},s=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),Oe.registry&&!Oe.done&&(Oe.done=_$HY.done=!0),e.composedPath){const l=e.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!a());c++){if(t._$host){t=t._$host,s();break}if(t.parentNode===i)break}}else s();o(n)}function jl(e,t,r,n,i){const o=ws(e);if(o){!r&&(r=[...e.childNodes]);let l=[];for(let c=0;c<r.length;c++){const u=r[c];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():l.push(u)}r=l}for(;typeof r=="function";)r=r();if(t===r)return r;const a=typeof t,s=n!==void 0;if(e=s&&r[0]&&r[0].parentNode||e,a==="string"||a==="number"){if(o||a==="number"&&(t=t.toString(),t===r))return r;if(s){let l=r[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),r=zs(e,r,n,l)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||a==="boolean"){if(o)return r;r=zs(e,r,n)}else{if(a==="function")return ee(()=>{let l=t();for(;typeof l=="function";)l=l();r=jl(e,l,r,n)}),()=>r;if(Array.isArray(t)){const l=[],c=r&&Array.isArray(r);if(U$(l,t,r,i))return ee(()=>r=jl(e,l,r,n,!0)),()=>r;if(o){if(!l.length)return r;if(n===void 0)return r=[...e.childNodes];let u=l[0];if(u.parentNode!==e)return r;const f=[u];for(;(u=u.nextSibling)!==n;)f.push(u);return r=f}if(l.length===0){if(r=zs(e,r,n),s)return r}else c?r.length===0?mC(e,l,n):MK(e,r,l):(r&&zs(e),mC(e,l));r=l}else if(t.nodeType){if(o&&t.parentNode)return r=s?[t]:t;if(Array.isArray(r)){if(s)return r=zs(e,r,n,t);zs(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function U$(e,t,r,n){let i=!1;for(let o=0,a=t.length;o<a;o++){let s=t[o],l=r&&r[e.length],c;if(!(s==null||s===!0||s===!1))if((c=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))i=U$(e,s,l)||i;else if(c==="function")if(n){for(;typeof s=="function";)s=s();i=U$(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||i}else e.push(s),i=!0;else{const u=String(s);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function mC(e,t,r=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],r)}function zs(e,t,r,n){if(r===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const s=t[a];if(i!==s){const l=s.parentNode===e;!o&&!a?l?e.replaceChild(i,s):e.insertBefore(i,r):l&&s.remove()}else o=!0}}else e.insertBefore(i,r);return[i]}function RK(){return Oe.getNextContextId()}const FK="http://www.w3.org/2000/svg";function rL(e,t=!1,r=void 0){return t?document.createElementNS(FK,e):document.createElement(e,{is:r})}function Jx(e){const{useShadow:t}=e,r=document.createTextNode(""),n=()=>e.mount||document.body,i=B$();let o,a=!!Oe.context;return oe(()=>{a&&(B$().user=a=!1),o||(o=sK(i,()=>me(()=>e.children)));const s=n();if(s instanceof HTMLHeadElement){const[l,c]=Y(!1),u=()=>c(!0);Ho(f=>B(s,()=>l()?f():o(),null)),be(u)}else{const l=rL(e.isSVG?"g":"div",e.isSVG),c=t&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return r.parentNode},configurable:!0}),B(c,o),s.appendChild(l),e.ref&&e.ref(l),be(()=>s.removeChild(l))}},void 0,{render:!a}),r}function jK(e,t){const r=me(e);return me(()=>{const n=r();switch(typeof n){case"function":return _e(()=>n(t));case"string":const i=eL.has(n),o=Oe.context?DK():rL(n,i,_e(()=>t.is));return Yx(o,t,i),o}})}function nL(e){const[,t]=Ae(e,["component"]);return jK(()=>e.component,t)}function iL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=iL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function oL(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=iL(e))&&(n&&(n+=" "),n+=t);return n}const Xx="-",BK=e=>{const t=HK(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const s=a.split(Xx);return s[0]===""&&s.length!==1&&s.shift(),aL(s,t)||zK(a)},getConflictingClassGroupIds:(a,s)=>{const l=r[a]||[];return s&&n[a]?[...l,...n[a]]:l}}},aL=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?aL(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Xx);return(a=t.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},vC=/^\[(.+)\]$/,zK=e=>{if(vC.test(e)){const t=vC.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},HK=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)V$(r[i],n,i,t);return n},V$=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:bC(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(UK(i)){V$(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{V$(a,bC(t,o),r,n)})})},bC=(e,t)=>{let r=e;return t.split(Xx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},UK=e=>e.isThemeGetter,VK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},W$="!",K$=":",WK=K$.length,KK=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let a=0,s=0,l=0,c;for(let p=0;p<i.length;p++){let g=i[p];if(a===0&&s===0){if(g===K$){o.push(i.slice(l,p)),l=p+WK;continue}if(g==="/"){c=p;continue}}g==="["?a++:g==="]"?a--:g==="("?s++:g===")"&&s--}const u=o.length===0?i:i.substring(l),f=GK(u),d=f!==u,h=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const i=t+K$,o=n;n=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},GK=e=>e.endsWith(W$)?e.substring(0,e.length-1):e.startsWith(W$)?e.substring(1):e,qK=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(a=>{a[0]==="["||t[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},YK=e=>({cache:VK(e.cacheSize),parseClassName:KK(e),sortModifiers:qK(e),...BK(e)}),JK=/\s+/,XK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],s=e.trim().split(JK);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{isExternal:f,modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=r(u);if(f){l=u+(l.length>0?" "+l:l);continue}let m=!!g,v=n(m?p.substring(0,g):p);if(!v){if(!m){l=u+(l.length>0?" "+l:l);continue}if(v=n(p),!v){l=u+(l.length>0?" "+l:l);continue}m=!1}const b=o(d).join(":"),y=h?b+W$:b,w=y+v;if(a.includes(w))continue;a.push(w);const $=i(v,m);for(let x=0;x<$.length;++x){const O=$[x];a.push(y+O)}l=u+(l.length>0?" "+l:l)}return l};function QK(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=sL(t))&&(n&&(n+=" "),n+=r);return n}const sL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=sL(e[n]))&&(r&&(r+=" "),r+=t);return r};function ZK(e,...t){let r,n,i,o=a;function a(l){const c=t.reduce((u,f)=>f(u),e());return r=YK(c),n=r.cache.get,i=r.cache.set,o=s,s(l)}function s(l){const c=n(l);if(c)return c;const u=XK(l,r);return i(l,u),u}return function(){return o(QK.apply(null,arguments))}}const Ot=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},lL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eG=/^\d+\/\d+$/,tG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hs=e=>eG.test(e),ke=e=>!!e&&!Number.isNaN(Number(e)),wo=e=>!!e&&Number.isInteger(Number(e)),q0=e=>e.endsWith("%")&&ke(e.slice(0,-1)),Ii=e=>tG.test(e),aG=()=>!0,sG=e=>rG.test(e)&&!nG.test(e),uL=()=>!1,lG=e=>iG.test(e),cG=e=>oG.test(e),uG=e=>!te(e)&&!re(e),fG=e=>lc(e,hL,uL),te=e=>lL.test(e),xa=e=>lc(e,pL,sG),Y0=e=>lc(e,mG,ke),yC=e=>lc(e,fL,uL),dG=e=>lc(e,dL,cG),Sd=e=>lc(e,gL,lG),re=e=>cL.test(e),Oc=e=>cc(e,pL),hG=e=>cc(e,vG),$C=e=>cc(e,fL),pG=e=>cc(e,hL),gG=e=>cc(e,dL),kd=e=>cc(e,gL,!0),lc=(e,t,r)=>{const n=lL.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},cc=(e,t,r=!1)=>{const n=cL.exec(e);return n?n[1]?t(n[1]):r:!1},fL=e=>e==="position"||e==="percentage",dL=e=>e==="image"||e==="url",hL=e=>e==="length"||e==="size"||e==="bg-size",pL=e=>e==="length",mG=e=>e==="number",vG=e=>e==="family-name",gL=e=>e==="shadow",bG=()=>{const e=Ot("color"),t=Ot("font"),r=Ot("text"),n=Ot("font-weight"),i=Ot("tracking"),o=Ot("leading"),a=Ot("breakpoint"),s=Ot("container"),l=Ot("spacing"),c=Ot("radius"),u=Ot("shadow"),f=Ot("inset-shadow"),d=Ot("text-shadow"),h=Ot("drop-shadow"),p=Ot("blur"),g=Ot("perspective"),m=Ot("aspect"),v=Ot("ease"),b=Ot("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...w(),re,te],x=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],T=()=>[re,te,l],D=()=>[Hs,"full","auto",...T()],L=()=>[wo,"none","subgrid",re,te],I=()=>["auto",{span:["full",wo,re,te]},wo,re,te],E=()=>[wo,"auto",re,te],_=()=>["auto","min","max","fr",re,te],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],C=()=>["start","end","center","stretch","center-safe","end-safe"],S=()=>["auto",...T()],P=()=>[Hs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],A=()=>[e,re,te],N=()=>[...w(),$C,yC,{position:[re,te]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",pG,fG,{size:[re,te]}],ae=()=>[q0,Oc,xa],ne=()=>["","none","full",c,re,te],pe=()=>["",ke,Oc,xa],Se=()=>["solid","dashed","dotted","double"],qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[ke,q0,$C,yC],de=()=>["","none",p,re,te],q=()=>["none",ke,re,te],Q=()=>["none",ke,re,te],ce=()=>[ke,re,te],H=()=>[Hs,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ii],breakpoint:[Ii],color:[aG],container:[Ii],"drop-shadow":[Ii],ease:["in","out","in-out"],font:[uG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ii],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ii],shadow:[Ii],spacing:["px",ke],text:[Ii],"text-shadow":[Ii],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hs,te,re,m]}],container:["container"],columns:[{columns:[ke,te,re,s]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[wo,"auto",re,te]}],basis:[{basis:[Hs,"full","auto",s,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Hs,"auto","initial","none",te]}],grow:[{grow:["",ke,re,te]}],shrink:[{shrink:["",ke,re,te]}],order:[{order:[wo,"first","last","none",re,te]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_()}],"auto-rows":[{"auto-rows":_()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...C(),"normal"]}],"justify-self":[{"justify-self":["auto",...C()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...C(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...C(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...C(),"baseline"]}],"place-self":[{"place-self":["auto",...C()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[s,"screen",...P()]}],"min-w":[{"min-w":[s,"screen","none",...P()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",r,Oc,xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,re,Y0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",q0,te]}],"font-family":[{font:[hG,te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,re,te]}],"line-clamp":[{"line-clamp":[ke,"none",re,Y0]}],leading:[{leading:[o,...T()]}],"list-image":[{"list-image":["none",re,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",re,xa]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[ke,"auto",re,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:N()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wo,re,te],radial:["",re,te],conic:[wo,re,te]},gG,dG]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,re,te]}],"outline-w":[{outline:["",ke,Oc,xa]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",u,kd,Sd]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,kd,Sd]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[ke,xa]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",d,kd,Sd]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[ke,re,te]}],"mix-blend":[{"mix-blend":[...qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[re,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:N()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,te]}],filter:[{filter:["","none",re,te]}],blur:[{blur:de()}],brightness:[{brightness:[ke,re,te]}],contrast:[{contrast:[ke,re,te]}],"drop-shadow":[{"drop-shadow":["","none",h,kd,Sd]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",ke,re,te]}],"hue-rotate":[{"hue-rotate":[ke,re,te]}],invert:[{invert:["",ke,re,te]}],saturate:[{saturate:[ke,re,te]}],sepia:[{sepia:["",ke,re,te]}],"backdrop-filter":[{"backdrop-filter":["","none",re,te]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[ke,re,te]}],"backdrop-contrast":[{"backdrop-contrast":[ke,re,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,re,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,re,te]}],"backdrop-invert":[{"backdrop-invert":["",ke,re,te]}],"backdrop-opacity":[{"backdrop-opacity":[ke,re,te]}],"backdrop-saturate":[{"backdrop-saturate":[ke,re,te]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,re,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",re,te]}],ease:[{ease:["linear","initial",v,re,te]}],delay:[{delay:[ke,re,te]}],animate:[{animate:["none",b,re,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,re,te]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:q()}],"rotate-x":[{"rotate-x":q()}],"rotate-y":[{"rotate-y":q()}],"rotate-z":[{"rotate-z":q()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[re,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:H()}],"translate-x":[{"translate-x":H()}],"translate-y":[{"translate-y":H()}],"translate-z":[{"translate-z":H()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,te]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[ke,Oc,xa,Y0]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yG=ZK(bG);function _f(...e){return yG(oL(e))}function $G(e){return(...t)=>{for(const r of e)r&&r(...t)}}const j=e=>typeof e=="function"&&!e.length?e():e,wC=e=>Array.isArray(e)?e:e?[e]:[];function wG(e,...t){return typeof e=="function"?e(...t):e}const xG=be;function SG(e,t,r,n){return e.addEventListener(t,r,n),xG(e.removeEventListener.bind(e,t,r,n))}function kG(e,t,r,n){const i=()=>{wC(j(e)).forEach(o=>{o&&wC(j(t)).forEach(a=>SG(o,a,r,n))})};typeof e=="function"?oe(i):ee(i)}const J0=Symbol("fallback");function xC(e){for(const t of e)t.dispose()}function OG(e,t,r,n={}){const i=new Map;return be(()=>xC(i.values())),()=>{const a=e()||[];return a[Np],_e(()=>{var u,f;if(!a.length)return xC(i.values()),i.clear(),n.fallback?[Ho(h=>(i.set(J0,{dispose:h}),n.fallback()))]:[];const s=new Array(a.length),l=i.get(J0);if(!i.size||l){l==null||l.dispose(),i.delete(J0);for(let d=0;d<a.length;d++){const h=a[d],p=t(h,d);o(s,h,d,p)}return s}const c=new Set(i.keys());for(let d=0;d<a.length;d++){const h=a[d],p=t(h,d);c.delete(p);const g=i.get(p);g?(s[d]=g.mapped,(u=g.setIndex)==null||u.call(g,d),g.setItem(()=>h)):o(s,h,d,p)}for(const d of c)(f=i.get(d))==null||f.dispose(),i.delete(d);return s})};function o(a,s,l,c){Ho(u=>{const[f,d]=Y(s),h={setItem:d,dispose:u};if(r.length>1){const[p,g]=Y(l);h.setIndex=g,h.mapped=r(f,p)}else h.mapped=r(f);i.set(c,h),a[l]=h.mapped})}}function TG(e){const{by:t}=e;return me(OG(()=>e.each,typeof t=="function"?t:r=>r[t],e.children,"fallback"in e?{fallback:()=>e.fallback}:void 0))}const CG=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function SC(e){const t={};let r;for(;r=CG.exec(e);)t[r[1]]=r[2];return t}function Nm(e,t){if(typeof e=="string"){if(typeof t=="string")return`${e};${t}`;e=SC(e)}else typeof t=="string"&&(t=SC(t));return{...e,...t}}function Nr(...e){return $G(e)}function kC(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function EG(e){return typeof e=="number"}function sl(e){return Object.prototype.toString.call(e)==="[object String]"}function Rm(e){return typeof e=="function"}function Df(e){return t=>`${e()}-${t}`}function _o(e,t){return e?e===t||e.contains(t):!1}function ou(e,t=!1){const{activeElement:r}=Zi(e);if(!(r!=null&&r.nodeName))return null;if(mL(r)&&r.contentDocument)return ou(r.contentDocument.body,t);if(t){const n=r.getAttribute("aria-activedescendant");if(n){const i=Zi(r).getElementById(n);if(i)return i}}return r}function MG(e){return Zi(e).defaultView||window}function Zi(e){return e?e.ownerDocument||e:document}function mL(e){return e.tagName==="IFRAME"}var Qx=(e=>(e.Escape="Escape",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e))(Qx||{});function vL(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)==null?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function Zx(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)==null?void 0:t.platform)||window.navigator.platform):!1}function Lf(){return Zx(/^Mac/i)}function AG(){return Zx(/^iPhone/i)}function IG(){return Zx(/^iPad/i)||Lf()&&navigator.maxTouchPoints>1}function PG(){return AG()||IG()}function _G(){return Lf()||PG()}function DG(){return vL(/AppleWebKit/i)&&!LG()}function LG(){return vL(/Chrome/i)}function Lt(e,t){return t&&(Rm(t)?t(e):t[0](t[1],e)),e==null?void 0:e.defaultPrevented}function dn(e){return t=>{for(const r of e)Lt(t,r)}}function NG(e){return Lf()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}function Mr(e){if(e)if(RG())e.focus({preventScroll:!0});else{const t=FG(e);e.focus(),jG(t)}}var Od=null;function RG(){if(Od==null){Od=!1;try{document.createElement("div").focus({get preventScroll(){return Od=!0,!0}})}catch{}}return Od}function FG(e){let t=e.parentNode;const r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function jG(e){for(const{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}var bL=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],BG=[...bL,'[tabindex]:not([tabindex="-1"]):not([disabled])'],eS=`${bL.join(":not([hidden]),")},[tabindex]:not([disabled]):not([hidden])`,zG=BG.join(':not([hidden]):not([tabindex="-1"]),');function yL(e,t){const n=Array.from(e.querySelectorAll(eS)).filter(OC);return t&&OC(e)&&n.unshift(e),n.forEach((i,o)=>{if(mL(i)&&i.contentDocument){const a=i.contentDocument.body,s=yL(a,!1);n.splice(o,1,...s)}}),n}function OC(e){return $L(e)&&!HG(e)}function $L(e){return e.matches(eS)&&tS(e)}function HG(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function tS(e,t){return e.nodeName!=="#comment"&&UG(e)&&VG(e,t)&&(!e.parentElement||tS(e.parentElement,e))}function UG(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;const{display:t,visibility:r}=e.style;let n=t!=="none"&&r!=="hidden"&&r!=="collapse";if(n){if(!e.ownerDocument.defaultView)return n;const{getComputedStyle:i}=e.ownerDocument.defaultView,{display:o,visibility:a}=i(e);n=o!=="none"&&a!=="hidden"&&a!=="collapse"}return n}function VG(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function WG(e,t,r){const n=t!=null&&t.tabbable?zG:eS,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(o){var a;return(a=t==null?void 0:t.from)!=null&&a.contains(o)?NodeFilter.FILTER_REJECT:o.matches(n)&&tS(o)&&(!(t!=null&&t.accept)||t.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}function KG(){}function rt(e,t){return ye(e,t)}var Tc=new Map,TC=new Set;function CC(){if(typeof window>"u")return;const e=r=>{if(!r.target)return;let n=Tc.get(r.target);n||(n=new Set,Tc.set(r.target,n),r.target.addEventListener("transitioncancel",t)),n.add(r.propertyName)},t=r=>{if(!r.target)return;const n=Tc.get(r.target);if(n&&(n.delete(r.propertyName),n.size===0&&(r.target.removeEventListener("transitioncancel",t),Tc.delete(r.target)),Tc.size===0)){for(const i of TC)i();TC.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?CC():document.addEventListener("DOMContentLoaded",CC));function EC(e,t){const r=MC(e,t,"left"),n=MC(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight;let a=e.scrollLeft,s=e.scrollTop;const l=a+e.offsetWidth,c=s+e.offsetHeight;r<=a?a=r:r+i>l&&(a+=r+i-l),n<=s?s=n:n+o>c&&(s+=n+o-c),e.scrollLeft=a,e.scrollTop=s}function MC(e,t,r){const n=r==="left"?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[n],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[n];break}t=t.offsetParent}return i}var rS={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"};function wL(e,t){const[r,n]=Y(AC(t==null?void 0:t()));return oe(()=>{var i;n(((i=e())==null?void 0:i.tagName.toLowerCase())||AC(t==null?void 0:t()))}),r}function AC(e){return sl(e)?e:void 0}function St(e){const[t,r]=Ae(e,["as"]);if(!t.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return M(nL,ye(r,{get component(){return t.as}}))}var GG=Object.defineProperty,Fm=(e,t)=>{for(var r in t)GG(e,r,{get:t[r],enumerable:!0})},qG={};Fm(qG,{Button:()=>xL,Root:()=>nS});var YG=["button","color","file","image","reset","submit"];function JG(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?YG.indexOf(e.type)!==-1:!1}function nS(e){let t;const r=rt({type:"button"},e),[n,i]=Ae(r,["ref","type","disabled"]),o=wL(()=>t,()=>"button"),a=me(()=>{const c=o();return c==null?!1:JG({tagName:c,type:n.type})}),s=me(()=>o()==="input"),l=me(()=>o()==="a"&&(t==null?void 0:t.getAttribute("href"))!=null);return M(St,ye({as:"button",ref(c){var u=Nr(f=>t=f,n.ref);typeof u=="function"&&u(c)},get type(){return pt(()=>!!(a()||s()))()?n.type:void 0},get role(){return!a()&&!l()?"button":void 0},get tabIndex(){return!a()&&!l()&&!n.disabled?0:void 0},get disabled(){return pt(()=>!!(a()||s()))()?n.disabled:void 0},get"aria-disabled"(){return!a()&&!s()&&n.disabled?!0:void 0},get"data-disabled"(){return n.disabled?"":void 0}},i))}var xL=nS;const IC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PC=oL,XG=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return PC(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],f=o==null?void 0:o[c];if(u===null)return null;const d=IC(u)||IC(f);return i[c][d]}),s=r&&Object.entries(r).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(p=>{let[g,m]=p;return Array.isArray(m)?m.includes({...o,...s}[g]):{...o,...s}[g]===m})?[...c,f,d]:c},[]);return PC(e,a,l,r==null?void 0:r.class,r==null?void 0:r.className)},QG=XG("inline-flex items-center justify-center rounded-md text-sm font-medium transition-[color,background-color,box-shadow] focus-visible:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"cursor-pointer bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"cursor-pointer bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"cursor-pointer border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"cursor-pointer bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"cursor-pointer hover:bg-accent hover:text-accent-foreground",link:"cursor-pointer text-primary underline-offset-4 hover:underline",table:"cursor-pointer hover:bg-accent hover:text-accent-foreground size-full items-left justify-between px-2"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9",table:""}},defaultVariants:{variant:"default",size:"default"}}),_C=e=>{const[t,r]=Ae(e,["class","variant","size"]);return M(xL,ye({get class(){return _f(QG({size:t.size,variant:t.variant}),t.class)}},r))},G$=Symbol("store-raw"),Ol=Symbol("store-node"),zi=Symbol("store-has"),SL=Symbol("store-self");function kL(e){let t=e[zn];if(!t&&(Object.defineProperty(e,zn,{value:t=new Proxy(e,tq)}),!Array.isArray(e))){const r=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,o=r.length;i<o;i++){const a=r[i];n[a].get&&Object.defineProperty(e,a,{enumerable:n[a].enumerable,get:n[a].get.bind(t)})}}return t}function Hp(e){let t;return e!=null&&typeof e=="object"&&(e[zn]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Yu(e,t=new Set){let r,n,i,o;if(r=e!=null&&e[G$])return r;if(!Hp(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,s=e.length;a<s;a++)i=e[a],(n=Yu(i,t))!==i&&(e[a]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let l=0,c=a.length;l<c;l++)o=a[l],!s[o].get&&(i=e[o],(n=Yu(i,t))!==i&&(e[o]=n))}return e}function Up(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Ju(e,t,r){if(e[t])return e[t];const[n,i]=Y(r,{equals:!1,internal:!0});return n.$=i,e[t]=n}function ZG(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===zn||t===Ol||(delete r.value,delete r.writable,r.get=()=>e[zn][t]),r}function OL(e){j$()&&Ju(Up(e,Ol),SL)()}function eq(e){return OL(e),Reflect.ownKeys(e)}const tq={get(e,t,r){if(t===G$)return e;if(t===zn)return r;if(t===Np)return OL(e),r;const n=Up(e,Ol),i=n[t];let o=i?i():e[t];if(t===Ol||t===zi||t==="__proto__")return o;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);j$()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=Ju(n,t,o)())}return Hp(o)?kL(o):o},has(e,t){return t===G$||t===zn||t===Np||t===Ol||t===zi||t==="__proto__"?!0:(j$()&&Ju(Up(e,zi),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:eq,getOwnPropertyDescriptor:ZG};function Vp(e,t,r,n=!1){if(!n&&e[t]===r)return;const i=e[t],o=e.length;r===void 0?(delete e[t],e[zi]&&e[zi][t]&&i!==void 0&&e[zi][t].$()):(e[t]=r,e[zi]&&e[zi][t]&&i===void 0&&e[zi][t].$());let a=Up(e,Ol),s;if((s=Ju(a,t,i))&&s.$(()=>r),Array.isArray(e)&&e.length!==o){for(let l=e.length;l<o;l++)(s=a[l])&&s.$();(s=Ju(a,"length",o))&&s.$(e.length)}(s=a[SL])&&s.$()}function TL(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const i=r[n];Vp(e,i,t[i])}}function rq(e,t){if(typeof t=="function"&&(t=t(e)),t=Yu(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const i=t[r];e[r]!==i&&Vp(e,r,i)}Vp(e,"length",n)}else TL(e,t)}function au(e,t,r=[]){let n,i=e;if(t.length>1){n=t.shift();const a=typeof n,s=Array.isArray(e);if(Array.isArray(n)){for(let l=0;l<n.length;l++)au(e,[n[l]].concat(t),r);return}else if(s&&a==="function"){for(let l=0;l<e.length;l++)n(e[l],l)&&au(e,[l].concat(t),r);return}else if(s&&a==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=n;for(let f=l;f<=c;f+=u)au(e,[f].concat(t),r);return}else if(t.length>1){au(e[n],t,[n].concat(r));return}i=e[n],r=[n].concat(r)}let o=t[0];typeof o=="function"&&(o=o(i,r),o===i)||n===void 0&&o==null||(o=Yu(o),n===void 0||Hp(i)&&Hp(o)&&!Array.isArray(o)?TL(i,o):Vp(e,n,o))}function iS(...[e,t]){const r=Yu(e||{}),n=Array.isArray(r),i=kL(r);function o(...a){Fi(()=>{n&&a.length===1?rq(r,a[0]):au(r,a)})}return[i,o]}const[F,le]=iS({nodes:{},edges:{},panZoom:null,snapGrid:[10,10],activeBoards:[{name:"home",id:"home"}],activeSidebar:"nodes",showColorMenu:!1,noteEditor:null,activeTags:[],dragThreshold:5,dragging:null,selectedNodes:new Set([]),copiedNodes:[],viewport:{x:0,y:0,width:0,height:0,scale:1}});/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}},Td=Symbol("hyper-element");function iq(e){function t(){let r=[].slice.call(arguments),n,i=[],o=!1;for(;Array.isArray(r[0]);)r=r[0];r[0][Td]&&r.unshift(t.Fragment),typeof r[0]=="string"&&c(r);const a=()=>{for(;r.length;)s(r.shift());return n instanceof Element&&i.length&&n.classList.add(...i),n};return a[Td]=!0,a;function s(u){const f=typeof u;if(u!=null){if(f==="string")n?n.appendChild(document.createTextNode(u)):l(u);else if(f==="number"||f==="boolean"||f==="bigint"||f==="symbol"||u instanceof Date||u instanceof RegExp)n.appendChild(document.createTextNode(u.toString()));else if(Array.isArray(u))for(let d=0;d<u.length;d++)s(u[d]);else if(u instanceof Element)e.insert(n,u,o?null:void 0);else if(f==="object"){let d=!1;const h=Object.getOwnPropertyDescriptors(u);for(const p in h){if(p==="class"&&i.length!==0){const g=i.join(" "),m=typeof h.class.value=="function"?()=>g+" "+h.class.value():g+" "+u.class;Object.defineProperty(u,"class",{...h[p],value:m}),i=[]}p!=="ref"&&p.slice(0,2)!=="on"&&typeof h[p].value=="function"?(e.dynamicProperty(u,p),d=!0):h[p].get&&(d=!0)}d?e.spread(n,u,n instanceof SVGElement,!!r.length):e.assign(n,u,n instanceof SVGElement,!!r.length)}else if(f==="function")if(n){for(;u[Td];)u=u();e.insert(n,u,o?null:void 0)}else{let d,h=r[0];(h==null||typeof h=="object"&&!Array.isArray(h)&&!(h instanceof Element))&&(d=r.shift()),d||(d={}),r.length&&(d.children=r.length>1?r:r[0]);const p=Object.getOwnPropertyDescriptors(d);for(const g in p)if(Array.isArray(p[g].value)){const m=p[g].value;d[g]=()=>{for(let v=0;v<m.length;v++)for(;m[v][Td];)m[v]=m[v]();return m},e.dynamicProperty(d,g)}else typeof p[g].value=="function"&&!p[g].value.length&&e.dynamicProperty(d,g);n=e.createComponent(u,d),r=[]}}}function l(u){const f=u.split(/([\.#]?[^\s#.]+)/);/^\.|#/.test(f[1])&&(n=document.createElement("div"));for(let d=0;d<f.length;d++){const h=f[d],p=h.substring(1,h.length);h&&(n?h[0]==="."?i.push(p):h[0]==="#"&&n.setAttribute("id",p):n=e.SVGElements.has(h)?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h))}}function c(u){for(let f=1;f<u.length;f++)if(typeof u[f]=="function"){o=!0;return}else Array.isArray(u[f])&&c(u[f])}}return t.Fragment=r=>r.children,t}const X0=iq({spread:Yx,assign:tL,insert:B,createComponent:M,dynamicProperty:_K,SVGElements:eL});/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t,r,n)=>{const i=o=>{const[a,s]=Ae(o,["color","size","stroke","title","children","class"]),l=nq[e],c={...l,width:()=>a.size!=null?a.size:l.width,height:()=>a.size!=null?a.size:l.height,title:()=>a.title!=null?a.title:void 0,...e==="filled"?{fill:()=>a.color!=null?a.color:"currentColor"}:{stroke:()=>a.color!=null?a.color:"currentColor","stroke-width":()=>a.stroke!=null?a.stroke:l["stroke-width"]},class:()=>`tabler-icon tabler-icon-${t} ${a.class!=null?a.class:""}`};return X0("svg",[c,s],[a.title&&X0("title",{},a.title),...n.map(([u,f])=>X0(u,f)),a.children])};return i.displayName=`${r}`,i};/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oq=Re("outline","align-center","AlignCenter",[["path",{d:"M4 6l16 0"}],["path",{d:"M8 12l8 0"}],["path",{d:"M6 18l12 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aq=Re("outline","align-justified","AlignJustified",[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l16 0"}],["path",{d:"M4 18l12 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sq=Re("outline","align-left","AlignLeft",[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l10 0"}],["path",{d:"M4 18l14 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lq=Re("outline","align-right","AlignRight",[["path",{d:"M4 6l16 0"}],["path",{d:"M10 12l10 0"}],["path",{d:"M6 18l14 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cq=Re("outline","arrow-bar-both","ArrowBarBoth",[["path",{d:"M8 12h-6"}],["path",{d:"M5 15l-3 -3l3 -3"}],["path",{d:"M22 12h-6"}],["path",{d:"M19 15l3 -3l-3 -3"}],["path",{d:"M12 4v16"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uq=Re("outline","blockquote","Blockquote",[["path",{d:"M6 15h15"}],["path",{d:"M21 19h-15"}],["path",{d:"M15 11h6"}],["path",{d:"M21 7h-6"}],["path",{d:"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}],["path",{d:"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fq=Re("outline","bold","Bold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dq=Re("outline","chevrons-right","ChevronsRight",[["path",{d:"M7 7l5 5l-5 5"}],["path",{d:"M13 7l5 5l-5 5"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var CL=Re("outline","code","Code",[["path",{d:"M7 8l-4 4l4 4"}],["path",{d:"M17 8l4 4l-4 4"}],["path",{d:"M14 4l-4 16"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hq=Re("outline","dots-vertical","DotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pq=Re("outline","filter","Filter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gq=Re("outline","graph","Graph",[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mq=Re("outline","h-1","H1",[["path",{d:"M19 18v-8l-2 2"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vq=Re("outline","h-2","H2",[["path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bq=Re("outline","h-3","H3",[["path",{d:"M19 14a2 2 0 1 0 -2 -2"}],["path",{d:"M17 16a2 2 0 1 0 2 -2"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yq=Re("outline","h-4","H4",[["path",{d:"M20 18v-8l-4 6h5"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $q=Re("outline","h-5","H5",[["path",{d:"M17 18h2a2 2 0 1 0 0 -4h-2v-4h4"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wq=Re("outline","h-6","H6",[["path",{d:"M19 14a2 2 0 1 0 0 4a2 2 0 0 0 0 -4z"}],["path",{d:"M21 12a2 2 0 1 0 -4 0v4"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xq=Re("outline","italic","Italic",[["path",{d:"M11 5l6 0"}],["path",{d:"M7 19l6 0"}],["path",{d:"M14 5l-4 14"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sq=Re("outline","list-numbers","ListNumbers",[["path",{d:"M11 6h9"}],["path",{d:"M11 12h9"}],["path",{d:"M12 18h8"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4"}],["path",{d:"M6 10v-6l-2 2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kq=Re("outline","list","List",[["path",{d:"M9 6l11 0"}],["path",{d:"M9 12l11 0"}],["path",{d:"M9 18l11 0"}],["path",{d:"M5 6l0 .01"}],["path",{d:"M5 12l0 .01"}],["path",{d:"M5 18l0 .01"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oq=Re("outline","menu-2","Menu2",[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l16 0"}],["path",{d:"M4 18l16 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tq=Re("outline","pilcrow","Pilcrow",[["path",{d:"M13 4v16"}],["path",{d:"M17 4v16"}],["path",{d:"M19 4h-9.5a4.5 4.5 0 0 0 0 9h3.5"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cq=Re("outline","settings","Settings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eq=Re("outline","sort-descending","SortDescending",[["path",{d:"M4 6l9 0"}],["path",{d:"M4 12l7 0"}],["path",{d:"M4 18l7 0"}],["path",{d:"M15 15l3 3l3 -3"}],["path",{d:"M18 6l0 12"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mq=Re("outline","spacing-vertical","SpacingVertical",[["path",{d:"M4 20v-2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2"}],["path",{d:"M4 4v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}],["path",{d:"M16 12h-8"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aq=Re("outline","strikethrough","Strikethrough",[["path",{d:"M5 12l14 0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iq=Re("outline","underline","Underline",[["path",{d:"M7 5v5a5 5 0 0 0 10 0v-5"}],["path",{d:"M5 19h14"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pq=Re("filled","moon-filled","MoonFilled",[["path",{d:"M12 1.992a10 10 0 1 0 9.236 13.838c.341 -.82 -.476 -1.644 -1.298 -1.31a6.5 6.5 0 0 1 -6.864 -10.787l.077 -.08c.551 -.63 .113 -1.653 -.758 -1.653h-.266l-.068 -.006l-.06 -.002z"}]]),_q=W('<div id=topbar class="h-[50px] border-b border-border flex flex-row justify-between items-center bg-card px-8"><div id=breadcrumb class="bg-card flex flex-row space-y-4 overflow-x-visible "><div class="flex flex-row"></div></div><div class="flex justify-center items-center space-x-4">'),Dq=W('<div class="p-[5px] border-2 border-border rounded-[5px] transition duration-100 ease-out">[logo]'),Lq=W('<span class="self-center mx-1 my-0 ">'),Nq=W('<div class="absolute h-full w-30 p-3"><div class="border border-border p-2 rounded-md h-full bg-card flex flex-col space-y-4 overflow-x-visible ">');const Rq=()=>{const e=(t,r)=>{console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log(F.activeBoards),le("activeBoards",n=>n.slice(0,t+1)),console.log(F.activeBoards)};return(()=>{var t=_q(),r=t.firstChild,n=r.firstChild,i=r.nextSibling;return B(n,M(yt,{get each(){return F.activeBoards},children:(o,a)=>[(()=>{var s=Dq();return s.firstChild,s.$$click=()=>a()!==F.activeBoards.length-1?e(a(),o.id):void 0,B(s,()=>o.name,null),ee(l=>{var c={breadcrumb_path:!0,"hover:bg-primary":a()!==F.activeBoards.length-1,"border-primary":a()===F.activeBoards.length-1},u=a()!==F.activeBoards.length-1?"pointer":"default";return l.e=Ha(s,c,l.e),u!==l.t&&Z(s,"cursor",l.t=u),l},{e:void 0,t:void 0}),s})(),pt(()=>pt(()=>a()!==F.activeBoards.length-1)()&&(()=>{var s=Lq();return B(s,M(dq,{})),s})())]})),B(i,M(_C,{variant:"secondary",get children(){return M(Cq,{})}}),null),B(i,M(_C,{variant:"secondary",get children(){return M(Pq,{})}}),null),t})()};Nq();Ct(["click"]);var ie=(e=>(e.Note="Note",e.Comment="Comment",e.Todo="Todo",e.Table="Table",e.Url="Url",e.Activity="Activity",e.Arrow="Arrow",e.Board="Board",e.Column="Column",e.Code="Code",e.Document="Document",e.Upload="Upload",e.Drawing="Drawing",e.Sketch="Sketch",e.Color="Color",e.Image="Image",e))(ie||{}),su=(e=>(e.String="String",e.Number="Number",e.Boolean="Boolean",e.Date="Date",e.Badge="Badge",e))(su||{}),Jh=(e=>(e.Bezier="Bezier",e.Straight="Straight",e.Step="Step",e))(Jh||{});function Fq(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function jq(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Xh;function Bq(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function Ft(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}class zq{get rid(){return Fq(this,Xh,"f")}constructor(t){Xh.set(this,void 0),jq(this,Xh,t)}async close(){return Ft("plugin:resources|close",{rid:this.rid})}}Xh=new WeakMap;var Ir;(function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Document=6]="Document",e[e.Download=7]="Download",e[e.Picture=8]="Picture",e[e.Public=9]="Public",e[e.Video=10]="Video",e[e.Resource=11]="Resource",e[e.Temp=12]="Temp",e[e.AppConfig=13]="AppConfig",e[e.AppData=14]="AppData",e[e.AppLocalData=15]="AppLocalData",e[e.AppCache=16]="AppCache",e[e.AppLog=17]="AppLog",e[e.Desktop=18]="Desktop",e[e.Executable=19]="Executable",e[e.Font=20]="Font",e[e.Home=21]="Home",e[e.Runtime=22]="Runtime",e[e.Template=23]="Template"})(Ir||(Ir={}));async function Hq(...e){return Ft("plugin:path|join",{paths:e})}var DC;(function(e){e[e.Start=0]="Start",e[e.Current=1]="Current",e[e.End=2]="End"})(DC||(DC={}));async function Uq(e,t,r){if(e instanceof URL&&e.protocol!=="file:"||t instanceof URL&&t.protocol!=="file:")throw new TypeError("Must be a file URL.");await Ft("plugin:fs|copy_file",{fromPath:e instanceof URL?e.toString():e,toPath:t instanceof URL?t.toString():t,options:r})}async function Vq(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await Ft("plugin:fs|mkdir",{path:e instanceof URL?e.toString():e,options:t})}async function EL(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await Ft("plugin:fs|read_file",{path:e instanceof URL?e.toString():e,options:t});return r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}async function Wq(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await Ft("plugin:fs|read_text_file",{path:e instanceof URL?e.toString():e,options:t}),n=r instanceof ArrayBuffer?r:Uint8Array.from(r);return new TextDecoder().decode(n)}async function oS(e,t,r){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");const n=new TextEncoder;await Ft("plugin:fs|write_text_file",n.encode(t),{headers:{path:encodeURIComponent(e instanceof URL?e.toString():e),options:JSON.stringify(r)}})}async function q$(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");return await Ft("plugin:fs|exists",{path:e instanceof URL?e.toString():e,options:t})}async function Kq(){let e=F.nodes;const t=JSON.stringify(e,null,2);await oS("GraphNote/nodes.json",t,{baseDir:Ir.Document})}async function Gq(){let e=F.nodes;const t=JSON.stringify(e,null,2);await oS("GraphNote/nodes_old.json",t,{baseDir:Ir.Document})}async function qq(){let e=await LC("GraphNote","GraphNote/nodes.json"),t=await LC("GraphNote","GraphNote/edges.json"),r=null,n=null;return e&&(r=Yq(e)),t&&(n=Jq(t)),{nodes:r,edges:n}}const Yq=e=>{const t=JSON.parse(e),r=Object.values(t).flat();//! maybe do each workspace at a time
r.sort((i,o)=>(i.zIndex??0)-(o.zIndex??0));for(let i=0;i<r.length;i++)r[i].zIndex=i;r.forEach(i=>{(i.zIndex===void 0||i.zIndex===null)&&(i.zIndex=0)});const n={};for(const[i,o]of Object.entries(t))n[i]=o.map(a=>r.find(s=>s.id===a.id));return n},Jq=e=>JSON.parse(e),LC=async(e,t)=>{try{return await q$(e,{baseDir:Ir.Document})||(console.info("Creating directory:",e),await Vq("GraphNote",{baseDir:Ir.Document,recursive:!0}),console.info("Created directory:",e)),await q$(t,{baseDir:Ir.Document})||(console.info("Creating empty JSON file:",t),await oS(t,JSON.stringify({},null,2),{baseDir:Ir.Document})),await Wq(t,{baseDir:Ir.Document})}catch(r){return console.error(`Failed to read or parse ${t}:`,r),null}};function Xq(e,t){const r=e.split("."),n=r.length>1?"."+r.pop():"",i=r.join(".");let o=e;return o=`${i}${t}${n}`,o}const Qq=async e=>{let t,r=0;for(;;){const n=e.split("/").splice(-1)[0],i=r===0?n:Xq(n,r),a=await Hq("GraphNote",i);if(!await q$(a,{baseDir:Ir.Document})){t=a;break}r++}return t},Zq=async e=>{try{const t=await Qq(e);return console.log("creating file:",t),await Uq(e,t,{fromPathBaseDir:Ir.Document,toPathBaseDir:Ir.Document}),console.info("finished copying:",e,"to:",t),{res:!0,text:t}}catch(t){return console.log("error copying the file: ",t),{res:!1,text:t}}},eY=(e,t)=>{if(console.log("selecting:",t),e.stopPropagation(),F.selectedNodes.has(t)){const r=new Set(F.selectedNodes);r.delete(t),le("selectedNodes",r)}else le("selectedNodes",r=>new Set(r).add(t));console.log("adding :",F.selectedNodes)},wt=()=>{setTimeout(()=>{Kq(),Gq()},0)};function aS(e,t){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>e(...n),t)}}const tY={image:["png","jpg","jpeg","gif","webp","svg","bmp","tiff","ico"],video:["mp4","mkv","mov","avi","webm","flv"],music:["mp3","wav","ogg","flac","m4a"],document:["doc","docx","xls","xlsx","ppt","pptx","csv","pdf"],code:["js","ts","py","rs","java","c","cpp","cs","html","css","js","ts","jsx","tsx","json","xml","yaml","yml","sh","php","go","rb","swift","kt","dart"],text:["txt","md","log"]},rY=e=>{console.log("event :",e);const t=e.payload;console.log("file path:",t.paths),console.log("file pos:",t.position),!(!t.paths||t.paths.length===0)&&t.paths.forEach(async(r,n)=>{const i=await Zq(r);if(i.res){console.log("+==============================="),console.log(r.split(".").splice(-1)[0].toLowerCase());const o=r.split(".").splice(-1)[0].toLowerCase();let a="unknown";for(const[s,l]of Object.entries(tY))if(l.includes(o)){a=s;break}switch(console.log("file type:",a),a){case"image":const s=e.payload.position;console.log(e.payload.position),console.log(e.payload.paths),console.info("test"),fY(i.text,s.x+n*300,s.y+n*300);break;case"video":break;case"music":break;case"document":const l=e.payload.position;mY(i.text,l.x+n*300,l.y+n*300,"widget"),console.log("we recieved a pdf file");break;case"code":break;case"text":break;default:console.warn(`file type ${o} is unknown and cannot be handled`);break}}else console.error("failed to save file:",i.text)})},nY=(e,t,r)=>{for(const[n,i]of Object.entries(F.nodes)){const o=i.findIndex(s=>s.id===e);let a;if(typeof t=="boolean")a="check";else if(typeof t=="string")a="text";else return;if(o!==-1){const s=F.nodes[n][o];"tasks"in s&&Array.isArray(s.tasks)&&s.tasks[r]?(console.log("Updating:",n,o,"tasks",r,a,t),le("nodes",n,o,"tasks",r,a,t)):console.warn("Node found but tasks array or index is invalid");break}}wt()},iY=(e,t)=>{for(const[r,n]of Object.entries(F.nodes)){const i=n.findIndex(o=>o.id===e);if(i!==-1){le("nodes",r,i,"text",t);break}}wt()},Rr=()=>F.activeBoards[F.activeBoards.length-1].id,ML=e=>{const t=Rr();if(!t)return;const r=F.nodes[t]??[],n=Math.max(...r.map(o=>o.zIndex??0)),i=r.findIndex(o=>o.id===e);i!==-1&&le("nodes",t,i,"zIndex",n+1)},Q0=(e,t,r)=>{const n=Rr(),o=(F.nodes[n]??[]).findIndex(a=>a.id===e);o!==-1&&(t>0&&le("nodes",n,o,"x",t),r>0&&le("nodes",n,o,"y",r))},Cd=(e,t)=>{F.selectedNodes.forEach(r=>{const n=Rr(),o=(F.nodes[n]??[]).findIndex(a=>a.id===r);o!==-1&&(e&&le("nodes",n,o,"x",a=>a+e),t&&le("nodes",n,o,"y",a=>a+t))}),wt()},oY=(e,t)=>{const r=Rr(),i=(F.nodes[r]??[]).findIndex(o=>o.id===e);i!==-1&&le("nodes",r,i,"width",t),wt()},aY=(e,t,r)=>{const n=Rr();e:for(const i of F.nodes[n]||[])if(i.type===ie.Column){const o=F.nodes[i.id]||[];for(let a=0;a<o.length;a++){const s=o[a];if(s.id===e){console.log(s),le("nodes",i.id,a,"x",t),le("nodes",i.id,a,"y",r);break e}}}wt()},sY=e=>{const t=Rr();return(F.nodes[t]??[]).some(i=>i.id===e&&i.type===ie.Column)},Qr=e=>{for(const t of Object.values(F.nodes)){const r=t.find(n=>n.id===e);if(r)return r}},lY=e=>{for(const[t,r]of Object.entries(F.nodes))if(r.some(n=>n.id===e))return t;return null},Y$=(e,t)=>{var i;let r;t?r=t:r=Rr();const n=(i=F.nodes[r])==null?void 0:i.filter(o=>o.id!==e);n&&le("nodes",r,n),wt()},Z0=(e,t)=>{if(t)le("nodes",t,(r=[])=>[...r,e]);else{const r=Rr();le("nodes",r,(n=[])=>[...n,e])}wt()},sS=()=>{const e=Object.values(F.nodes).flat();let t=0;for(const r of e){const n=r.id.match(/^node_(\d+)$/);if(n){const i=parseInt(n[1],10);i>t&&(t=i)}}return`node_${t+1}`},cY=(e,t,r)=>{const n={id:sS(),type:e,width:300,x:t,y:r,index:0};switch(e){case ie.Note:return{...n,text:'{"type":"doc","content":[{"type":"paragraph"}]}'};case ie.Comment:return{...n,comment:""};case ie.Todo:return{...n,title:"",tasks:[{text:"test",check:!1,nestLevel:0}]};case ie.Table:return{...n,columns:[],rows:[],title:"",description:""};case ie.Url:return{...n,url:""};case ie.Board:return{...n,name:"New Board",icon_path:""};case ie.Column:return{...n,title:"New Column"};case ie.Document:return{...n,text:""};case ie.Color:return{...n,colorValue:"#ffffff",text:"Color Node"};case ie.Image:return{...n,path:"",title:"Untitled Image",description:""};case ie.Activity:return{...n,width:void 0};default:throw new Error(`Unsupported node type: ${e}`)}},uY=(e,t,r)=>{const n=Rr();let i,o;F.snapGrid&&(i=Math.round(t/10)*10,o=Math.round(r/10)*10),le("nodes",n,(a=[])=>[...a,cY(e,i??t,o??r)]),wt()},fY=(e,t,r)=>{const n=Rr();let i=t,o=r;F.snapGrid&&(i=Math.round(t/10)*10,o=Math.round(r/10)*10);const a={id:sS(),type:ie.Image,width:300,x:i,y:o,index:0,path:e,title:"Untitled Image",description:"test"};le("nodes",n,(s=[])=>[...s,a]),wt()},Xu=(e,t,r)=>{const n=Rr(),o=(F.nodes[n]??[]).findIndex(a=>a.id===e);if(o!==-1)switch(t){case"bg":le("nodes",n,o,"color",r);break;case"fg":le("nodes",n,o,"textColor",r);break;case"strip":le("nodes",n,o,"top_strip_color",r);break}wt()},dY=()=>{F.selectedNodes.forEach(e=>{const t=Rr(),n=(F.nodes[t]??[]).findIndex(i=>i.id===e);n!==-1&&le("nodes",t,n,i=>({...i,top_strip_color:void 0}))}),wt()},hY=(e,t)=>{for(const[r,n]of Object.entries(F.nodes)){const i=n.findIndex(o=>o.id===e);if(i!==-1){le("nodes",r,i,o=>({...o,type:ie.Url,url:t,text:void 0}));break}}wt()},pY=(e,t)=>{for(const[r,n]of Object.entries(F.nodes)){const i=n.findIndex(o=>o.id===e);if(i!==-1){le("nodes",r,i,"title",t);break}}wt()},gY=(e,t,r)=>{console.log(e,t,r);for(const[n,i]of Object.entries(F.nodes)){const o=i.findIndex(a=>a.id===e);if(o!==-1){le("nodes",n,o,"progress",t,a=>(a??0)+r);break}}wt()},Us=(e,t)=>{for(const[r,n]of Object.entries(F.nodes)){const i=n.findIndex(o=>o.id===e);i!==-1&&le("nodes",r,i,"tasks",t)}wt()},mY=(e,t,r,n)=>{const i=Rr();let o=t,a=r;F.snapGrid&&(o=Math.round(t/10)*10,a=Math.round(r/10)*10);const s={id:sS(),type:ie.Document,width:300,x:o,y:a,index:0,path:e,description:"test",docType:n};le("nodes",i,(l=[])=>[...l,s]),wt()},lS=["transparent","currentColor","inherit","revert","initial"],Ie=e=>{const t=Math.floor(e);return e-t<.5?t:Math.round(e)},Wp=[["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["goldenrod",{r:218,g:165,b:32}],["gold",{r:255,g:215,b:0}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavenderblush",{r:255,g:240,b:245}],["lavender",{r:230,g:230,b:250}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]],AL="deg|rad|grad|turn",IL="[-\\+]?\\d+%?",PL="[-\\+]?\\d*\\.\\d+%?",_L=`[-\\+]?\\d*\\.?\\d+(?:${AL})?`,Qh=`(?:${PL})|(?:${IL})`,J$=`(?:${Qh})|(?:${_L}?)`,vY="(?:[\\s|\\(\\s|\\s\\(\\s]+)?",bY="(?:[\\s|\\)\\s]+)?",NC="(?:[,|\\s]+)",yY="(?:[,|\\/\\s]*)?",Cc=`${vY}(${J$})${NC}(${Qh})${NC}(${Qh})${yY}(${Qh})?${bY}`,ei={CSS_UNIT:new RegExp(J$),ANGLES:AL,CSS_ANGLE:_L,CSS_INTEGER:IL,CSS_NUMBER:PL,CSS_UNIT2:J$,PERMISSIVE_MATCH:Cc,hwb:new RegExp(`hwb${Cc}`),rgb:new RegExp(`rgb(?:a)?${Cc}`),hsl:new RegExp(`hsl(?:a)?${Cc}`),hsv:new RegExp(`hsv(?:a)?${Cc}`),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},DL=e=>lS.includes(e),lu=(e,t)=>e!==null&&typeof e=="object"&&Object.keys(t).every(r=>r in e),LL=e=>`${e}`.includes(".")&&parseFloat(e)===1,cS=e=>typeof e=="string"&&e.includes("%"),wr=e=>!!ei.CSS_UNIT.exec(`${e}`),NL=["rgb","hex","hsl","hsv","hwb"],RL=e=>lS.includes(e)||["#",...NL].some(t=>e.includes(t))?!1:Wp.some(([t])=>e===t),RC=1e-6,$Y=(e,t)=>Math.abs(e*t-t)<RC?1:e<RC?0:e,Cr=(e,t)=>{let r=e;return LL(e)&&(r="100%"),cS(r)?Number.parseFloat(r)/100:(r=typeof r!="number"?Number.parseFloat(r):r,t===360?r=(r<0?r%t+t:r>360?r%t:r)/t:(r=Math.min(t,Math.max(0,r)),r=r/t),$Y(r,t))},X$=e=>{let t=parseFloat(e);return(Number.isNaN(t)||t<0||t>1)&&(t=1),t},Ed=e=>Math.min(1,Math.max(0,e)),Do=e=>e.length===1?`0${e}`:String(e),FL=e=>{const[[,t]]=Wp.filter(([r])=>r===e.toLowerCase());return t},Sr=e=>parseInt(e,16),Q$=e=>Sr(e)/255,jL=e=>Ie(e*255).toString(16),FC=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0,a=0;const s=(n+i)/2;if(n===i)a=0,o=0;else{const l=n-i;a=s>.5?l/(2-n-i):l/(n+i),n===e&&(o=(t-r)/l+(t<r?6:0)),n===t&&(o=(r-e)/l+2),n===r&&(o=(e-t)/l+4),o/=6}return{h:o,s:a,l:s}},Zh=(e,t,r)=>{let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e},ku=(e,t,r)=>{let n=0,i=0,o=0;if(t===0)i=r,o=r,n=r;else{const a=r<.5?r*(1+t):r+t-r*t,s=2*r-a;n=Zh(s,a,e+1/3),i=Zh(s,a,e),o=Zh(s,a,e-1/3)}return{r:n,g:i,b:o}},jC=(e,t,r)=>{let n=0,i=0;const o=Math.min(e,t,r),a=Math.max(e,t,r),s=1-a;if(a===o)return{h:0,w:o,b:s};e===o?(n=t-r,i=3):(n=t===o?r-e:e-t,i=t===o?5:1);const l=(i-n/(a-o))/6;return{h:l===1?0:l,w:o,b:s}},BL=(e,t,r)=>{if(t+r>=1){const a=t/(t+r);return{r:a,g:a,b:a}}let{r:n,g:i,b:o}=ku(e,1,.5);return[n,i,o]=[n,i,o].map(a=>a*(1-t-r)+t),{r:n,g:i,b:o}},BC=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0;const a=n,s=n-i,l=n===0?0:s/n;return n===i?o=0:(e===n&&(o=(t-r)/s+(t<r?6:0)),t===n&&(o=(r-e)/s+2),r===n&&(o=(e-t)/s+4),o/=6),{h:o,s:l,v:a}},Z$=(e,t,r)=>{const n=e*6,i=t,o=r,a=Math.floor(n),s=n-a,l=o*(1-i),c=o*(1-s*i),u=o*(1-(1-s)*i),f=a%6,d=[o,c,l,l,u,o][f],h=[u,o,o,c,l,l][f],p=[l,l,u,o,o,c][f];return{r:d,g:h,b:p}},eb=(e,t,r,n)=>{const i=[Do(Ie(e).toString(16)),Do(Ie(t).toString(16)),Do(Ie(r).toString(16))];return n&&i[0].charAt(0)===i[0].charAt(1)&&i[1].charAt(0)===i[1].charAt(1)&&i[2].charAt(0)===i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")},tb=(e,t,r,n,i)=>{const o=[Do(Ie(e).toString(16)),Do(Ie(t).toString(16)),Do(Ie(r).toString(16)),Do(jL(n))];return i&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)&&o[3].charAt(0)===o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")},zL=e=>{const t=String(e).trim().toLowerCase();if(RL(t))return Object.assign(FL(t),{a:1,format:"rgb",ok:!0});if(DL(t))return{r:0,g:0,b:0,a:t==="transparent"?0:1,format:"rgb",ok:!0};let[,r,n,i,o]=ei.rgb.exec(t)||[];return r&&n&&i?{r,g:n,b:i,a:o!==void 0?o:1,format:"rgb",ok:!0}:([,r,n,i,o]=ei.hsl.exec(t)||[],r&&n&&i?{h:r,s:n,l:i,a:o!==void 0?o:1,format:"hsl",ok:!0}:([,r,n,i,o]=ei.hsv.exec(t)||[],r&&n&&i?{h:r,s:n,v:i,a:o!==void 0?o:1,format:"hsv",ok:!0}:([,r,n,i,o]=ei.hwb.exec(t)||[],r&&n&&i?{h:r,w:n,b:i,a:o!==void 0?o:1,format:"hwb",ok:!0}:([,r,n,i,o]=ei.hex8.exec(t)||[],r&&n&&i&&o?{r:Sr(r),g:Sr(n),b:Sr(i),a:Q$(o),format:"hex",ok:!0}:([,r,n,i]=ei.hex6.exec(t)||[],r&&n&&i?{r:Sr(r),g:Sr(n),b:Sr(i),a:1,format:"hex",ok:!0}:([,r,n,i,o]=ei.hex4.exec(t)||[],r&&n&&i&&o?{r:Sr(r+r),g:Sr(n+n),b:Sr(i+i),a:Q$(o+o),format:"hex",ok:!0}:([,r,n,i]=ei.hex3.exec(t)||[],r&&n&&i?{r:Sr(r+r),g:Sr(n+n),b:Sr(i+i),a:1,format:"hex",ok:!0}:{r:0,g:0,b:0,a:1,format:"rgb",ok:!e})))))))},wY=(e,t,r)=>({r:Cr(e,255),g:Cr(t,255),b:Cr(r,255)}),zC=e=>{let t={r:0,g:0,b:0},r=e,n=1,i,o,a,s,l,c,u,f,d="rgb",h=!1;if((!r||typeof r=="string")&&(r=zL(r),h=r.ok||h),lu(r,t)&&wr(r.r)&&wr(r.g)&&wr(r.b)){if(["format","ok","originalInput"].every(p=>p in r))return{...r};({r:u,g:f,b:l}=r),t=wY(u,f,l),d="format"in r?r.format:"rgb"}return lu(r,{h:0,s:0,v:0})&&wr(r.h)&&wr(r.s)&&wr(r.v)&&({h:c,s:i,v:o}=r,c=Cr(c,360),i=Cr(i,100),o=Cr(o,100),t=Z$(c,i,o),d="hsv"),lu(r,{h:0,s:0,l:0})&&wr(r.h)&&wr(r.s)&&wr(r.l)&&({h:c,s:i,l:a}=r,c=Cr(c,360),i=Cr(i,100),a=Cr(a,100),t=ku(c,i,a),d="hsl"),lu(r,{h:0,w:0,b:0})&&wr(r.h)&&wr(r.w)&&wr(r.b)&&({h:c,w:s,b:l}=r,c=Cr(c,360),s=Cr(s,100),l=Cr(l,100),t=BL(c,s,l),d="hwb"),wr(r.a)&&(n=r.a,n=cS(n)||parseFloat(`${n}`)>1?Cr(n,100):n),{...t,a:X$(n),format:d,ok:h}},xY="1.0.14",Ce=class Ce{constructor(t,r){R(this,"r");R(this,"g");R(this,"b");R(this,"a");R(this,"format");R(this,"ok");R(this,"originalInput");const n=r&&NL.includes(r)?r:"",{r:i,g:o,b:a,a:s,ok:l,format:c}=zC(t);this.originalInput=t,this.r=i,this.g=o,this.b=a,this.a=s,this.ok=l,this.format=n||c}get isValid(){return this.ok}get isDark(){return this.brightness<120}get luminance(){const{r:t,g:r,b:n}=this;let i=0,o=0,a=0;return t<=.03928?i=t/12.92:i=((t+.055)/1.055)**2.4,r<=.03928?o=r/12.92:o=((r+.055)/1.055)**2.4,n<=.03928?a=n/12.92:a=((n+.055)/1.055)**2.4,.2126*i+.7152*o+.0722*a}get brightness(){const{r:t,g:r,b:n}=this.toRgb();return(t*299+r*587+n*114)/1e3}get name(){const{r:t,g:r,b:n}=this.toRgb(),[i]=Wp.map(([o,a])=>{const s=(((a.r-t)*.3)**2+((a.g-r)*.6)**2+((a.b-n)*.1)**2)**.5;return[o,s]}).find(([,o],a,s)=>o===Math.min(...s.map(([,l])=>l)));return i}toRgb(){let{r:t,g:r,b:n,a:i}=this;return[t,r,n]=[t,r,n].map(o=>Ie(o*255*100)/100),i=Ie(i*100)/100,{r:t,g:r,b:n,a:i}}toRgbString(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Ie);return i===1?`rgb(${o}, ${a}, ${s})`:`rgba(${o}, ${a}, ${s}, ${i})`}toRgbCSS4String(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Ie),l=i===1?"":` / ${Ie(i*100)}%`;return`rgb(${o} ${a} ${s}${l})`}toHex(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Ie(a*255)),o=Ie(o*100)/100,o===1?eb(r,n,i,t):tb(r,n,i,o,t)}toHexString(t){return`#${this.toHex(t)}`}toHex8(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Ie(a*255)),o=Ie(o*100)/100,o===1?eb(r,n,i,t):tb(r,n,i,o,t)}toHex8String(t){return`#${this.toHex8(t)}`}toHsv(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,v:s}=BC(t,r,n);return{h:o,s:a,v:s,a:i}}toHsl(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,l:s}=FC(t,r,n);return{h:o,s:a,l:s,a:i}}toHslString(){let{h:t,s:r,l:n,a:i}=this.toHsl();return t=Ie(t*360),r=Ie(r*100),n=Ie(n*100),i=Ie(i*100)/100,i===1?`hsl(${t}, ${r}%, ${n}%)`:`hsla(${t}, ${r}%, ${n}%, ${i})`}toHslCSS4String(){let{h:t,s:r,l:n,a:i}=this.toHsl();t=Ie(t*360),r=Ie(r*100),n=Ie(n*100),i=Ie(i*100);const o=i<100?` / ${Ie(i)}%`:"";return`hsl(${t}deg ${r}% ${n}%${o})`}toHwb(){const{r:t,g:r,b:n,a:i}=this,{h:o,w:a,b:s}=jC(t,r,n);return{h:o,w:a,b:s,a:i}}toHwbString(){let{h:t,w:r,b:n,a:i}=this.toHwb();t=Ie(t*360),r=Ie(r*100),n=Ie(n*100),i=Ie(i*100);const o=i<100?` / ${Ie(i)}%`:"";return`hwb(${t}deg ${r}% ${n}%${o})`}setAlpha(t){return typeof t!="number"?this:(this.a=X$(t),this)}saturate(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=ku(r,Ed(n+t/100),i);return Object.assign(this,{r:o,g:a,b:s}),this}desaturate(t){return typeof t=="number"?this.saturate(-t):this}greyscale(){return this.saturate(-100)}lighten(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=ku(r,n,Ed(i+t/100));return Object.assign(this,{r:o,g:a,b:s}),this}darken(t){return typeof t=="number"?this.lighten(-t):this}spin(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=ku(Ed((r*360+t)%360/360),n,i);return Object.assign(this,{r:o,g:a,b:s}),this}clone(){return new Ce(this)}toString(t){const{format:r}=this;return r==="hex"?this.toHexString(t):r==="hsl"?this.toHslString():r==="hwb"?this.toHwbString():this.toRgbString()}};R(Ce,"matchers",ei),R(Ce,"isOnePointZero",LL),R(Ce,"isPercentage",cS),R(Ce,"isValidCSSUnit",wr),R(Ce,"isNonColor",DL),R(Ce,"isColorName",RL),R(Ce,"isColorType",lu),R(Ce,"pad2",Do),R(Ce,"clamp01",Ed),R(Ce,"bound01",Cr),R(Ce,"boundAlpha",X$),R(Ce,"getRGBFromName",FL),R(Ce,"convertHexToDecimal",Q$),R(Ce,"convertDecimalToHex",jL),R(Ce,"rgbToHsl",FC),R(Ce,"rgbToHex",eb),R(Ce,"rgbToHsv",BC),R(Ce,"rgbToHwb",jC),R(Ce,"rgbaToHex",tb),R(Ce,"hslToRgb",Z$),R(Ce,"hsvToRgb",Z$),R(Ce,"hueToRgb",Zh),R(Ce,"hwbToRgb",BL),R(Ce,"parseIntFromHex",Sr),R(Ce,"stringInputToObject",zL),R(Ce,"inputToRGB",zC),R(Ce,"roundPart",Ie),R(Ce,"webColors",Wp),R(Ce,"nonColors",lS),R(Ce,"version",xY);let Ve=Ce;const Mo="ArrowDown",Ou="ArrowUp",Kp="ArrowLeft",Pa="ArrowRight",HL="Enter",SY="Escape",HC="Space",kY="transitionDuration",OY="transitionDelay",rb="transitionend",UL="transitionProperty",VL=(e,t,r,n)=>{const i=n||!1;e.addEventListener(t,r,i)},WL=(e,t,r,n)=>{const i=n||!1;e.removeEventListener(t,r,i)},TY=(e,t)=>e.classList.contains(t),CY=(e,...t)=>Object.assign(e,...t),EY=(e,t)=>e.dispatchEvent(t),Qu=(e,t,r)=>{const n=getComputedStyle(e,r),i=t.replace("webkit","Webkit").replace(/([A-Z])/g,"-$1").toLowerCase();return n.getPropertyValue(i)},MY=e=>{const t=Qu(e,UL),r=Qu(e,OY),n=r.includes("ms")?1:1e3,i=t&&t!=="none"?parseFloat(r)*n:0;return Number.isNaN(i)?0:i},AY=e=>{const t=Qu(e,UL),r=Qu(e,kY),n=r.includes("ms")?1:1e3,i=t&&t!=="none"?parseFloat(r)*n:0;return Number.isNaN(i)?0:i},UC=(e,t)=>{let r=0;const n=new Event(rb),i=AY(e),o=MY(e);if(i){const a=s=>{s.target===e&&(t.apply(e,[s]),e.removeEventListener(rb,a),r=1)};e.addEventListener(rb,a),setTimeout(()=>{r||EY(e,n)},i+o+17)}else t.apply(e,[n])},Aa=(e,t)=>e.focus(t),IY=e=>Object.entries(e),VC=e=>Object.keys(e),Md=e=>e.offsetHeight,ew=(e,t)=>{const{width:r,height:n,top:i,right:o,bottom:a,left:s}=e.getBoundingClientRect();let l=1,c=1;return{width:r/l,height:n/c,top:i/c,right:o/l,bottom:a/c,left:s/l,x:s/l,y:i/c}},WC="aria-description",tw="aria-expanded",PY="aria-hidden",nb="aria-selected",Ec="aria-valuenow",Mc="aria-valuetext",_Y="change",DY="focusin",LY="focusout",KC="keydown",NY="keyup",rw="click",RY="pointerdown",KL="pointermove",FY="pointerup",jY="resize",BY="scroll",zY="touchmove",xo="ArrowDown",Ac="ArrowUp",Ad="ArrowLeft",Sa="ArrowRight",HY="Enter",UY="Escape",GC="Space",VY="transitionDuration",WY="transitionProperty",Tl="tabindex",GL=(e,t,r,n)=>{const i=n||!1;e.addEventListener(t,r,i)},qL=(e,t,r,n)=>{const i=n||!1;e.removeEventListener(t,r,i)},jm=(e,t)=>e.getAttribute(t),Ne=(e,t,r)=>e.setAttribute(t,r),ib=(e,t)=>e.removeAttribute(t),Ao=(e,...t)=>{e.classList.add(...t)},An=(e,...t)=>{e.classList.remove(...t)},cn=(e,t)=>e.classList.contains(t),uS=e=>e!=null&&typeof e=="object"||!1,Nf=e=>uS(e)&&typeof e.nodeType=="number"&&[1,2,3,4,5,6,7,8,9,10,11].some(t=>e.nodeType===t)||!1,Ua=e=>Nf(e)&&e.nodeType===1||!1,Vs=new Map,Zu={data:Vs,set:(e,t,r)=>{Ua(e)&&(Vs.has(t)||Vs.set(t,new Map),Vs.get(t).set(e,r))},getAllFor:e=>Vs.get(e)||null,get:(e,t)=>{if(!Ua(e)||!t)return null;const r=Zu.getAllFor(t);return e&&r&&r.get(e)||null},remove:(e,t)=>{const r=Zu.getAllFor(t);!r||!Ua(e)||(r.delete(e),r.size===0&&Vs.delete(t))}},KY=(e,t)=>Zu.get(e,t),GY=e=>e==null?void 0:e.trim().replace(/(?:^\w|[A-Z]|\b\w)/g,(t,r)=>r===0?t.toLowerCase():t.toUpperCase()).replace(/\s+/g,""),Lo=e=>typeof e=="string"||!1,qY=e=>uS(e)&&e.constructor.name==="Window"||!1,YL=e=>Nf(e)&&e.nodeType===9||!1,si=e=>YL(e)?e:Nf(e)?e.ownerDocument:qY(e)?e.document:globalThis.document,oi=(e,...t)=>Object.assign(e,...t),Nt=e=>{if(!e)return;if(Lo(e))return si().createElement(e);const{tagName:t}=e,r=Nt(t);if(!r)return;const n={...e};return delete n.tagName,oi(r,n)},nw=(e,t)=>{if(!e||!t)return;if(Lo(t))return si().createElementNS(e,t);const{tagName:r}=t,n=nw(e,r);if(!n)return;const i={...t};return delete i.tagName,oi(n,i)},YY=(e,t)=>e.dispatchEvent(t),iw=(e,t,r)=>{const n=getComputedStyle(e,r),i=t.replace("webkit","Webkit").replace(/([A-Z])/g,"-$1").toLowerCase();return n.getPropertyValue(i)},JY=e=>{const t=iw(e,WY),r=iw(e,VY),n=r.includes("ms")?1:1e3,i=t&&t!=="none"?parseFloat(r)*n:0;return Number.isNaN(i)?0:i},ka=(e,t)=>e.focus(t),qC=e=>["true",!0].includes(e)?!0:["false",!1].includes(e)?!1:["null","",null,void 0].includes(e)?null:e!==""&&!Number.isNaN(+e)?+e:e,ep=e=>Object.entries(e),XY=(e,t,r,n)=>{if(!Ua(e))return t;const i={...r},o={...e.dataset},a={...t},s={},l="title";return ep(o).forEach(([c,u])=>{const f=GY(c);s[f]=qC(u)}),ep(i).forEach(([c,u])=>{i[c]=qC(u)}),ep(t).forEach(([c,u])=>{c in i?a[c]=i[c]:c in s?a[c]=s[c]:a[c]=c===l?jm(e,l):u}),a},YC=e=>Object.fromEntries(e),QY=e=>e.offsetHeight,In=(e,t)=>{ep(t).forEach(([r,n])=>{if(n&&Lo(r)&&r.includes("--"))e.style.setProperty(r,n);else{const i={};i[r]=n,oi(e.style,i)}})},ZY=e=>uS(e)&&e.constructor.name==="Map"||!1,JL=e=>e.toUpperCase(),XL=e=>Ua(e)&&"offsetWidth"in e||!1,Id=(e,t)=>{const{width:r,height:n,top:i,right:o,bottom:a,left:s}=e.getBoundingClientRect();let l=1,c=1;if(t&&XL(e)){const{offsetWidth:u,offsetHeight:f}=e;l=u>0?Math.round(r)/u:1,c=f>0?Math.round(n)/f:1}return{width:r/l,height:n/c,top:i/c,right:o/l,bottom:a/c,left:s/l,x:s/l,y:i/c}},ob=e=>si(e).documentElement,eJ=e=>{var t;return e?YL(e)?e.defaultView:Nf(e)?(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView:e:window};let JC=0,XC=0;const Ws=new Map,QL=(e,t)=>{let r=t?JC:XC;if(t){const n=QL(e),i=Ws.get(n)||new Map;Ws.has(n)||Ws.set(n,i),ZY(i)&&!i.has(t)?(i.set(t,r),JC+=1):r=i.get(t)}else{const n=e.id||e;Ws.has(n)?r=Ws.get(n):(Ws.set(n,r),XC+=1)}return r},ab=e=>Array.isArray(e)||!1,ZL=(e,t)=>!e||!t?null:e.closest(t)||ZL(e.getRootNode().host,t)||null,Oa=(e,t)=>Ua(e)?e:(Ua(t)?t:si()).querySelector(e),Ic=(e,t)=>(t&&Nf(t)?t:si()).getElementsByClassName(e),fS=["transparent","currentColor","inherit","revert","initial"],Pe=e=>{const t=Math.floor(e);return e-t<.5?t:Math.round(e)},Gp=[["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["goldenrod",{r:218,g:165,b:32}],["gold",{r:255,g:215,b:0}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavenderblush",{r:255,g:240,b:245}],["lavender",{r:230,g:230,b:250}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]],eN="deg|rad|grad|turn",tN="[-\\+]?\\d+%?",rN="[-\\+]?\\d*\\.\\d+%?",nN=`[-\\+]?\\d*\\.?\\d+(?:${eN})?`,tp=`(?:${rN})|(?:${tN})`,ow=`(?:${tp})|(?:${nN}?)`,tJ="(?:[\\s|\\(\\s|\\s\\(\\s]+)?",rJ="(?:[\\s|\\)\\s]+)?",QC="(?:[,|\\s]+)",nJ="(?:[,|\\/\\s]*)?",Pc=`${tJ}(${ow})${QC}(${tp})${QC}(${tp})${nJ}(${tp})?${rJ}`,ti={CSS_UNIT:new RegExp(ow),ANGLES:eN,CSS_ANGLE:nN,CSS_INTEGER:tN,CSS_NUMBER:rN,CSS_UNIT2:ow,PERMISSIVE_MATCH:Pc,hwb:new RegExp(`hwb${Pc}`),rgb:new RegExp(`rgb(?:a)?${Pc}`),hsl:new RegExp(`hsl(?:a)?${Pc}`),hsv:new RegExp(`hsv(?:a)?${Pc}`),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},iN=e=>fS.includes(e),cu=(e,t)=>e!==null&&typeof e=="object"&&Object.keys(t).every(r=>r in e),oN=e=>`${e}`.includes(".")&&parseFloat(e)===1,dS=e=>typeof e=="string"&&e.includes("%"),xr=e=>!!ti.CSS_UNIT.exec(`${e}`),aN=["rgb","hex","hsl","hsv","hwb"],sN=e=>fS.includes(e)||["#",...aN].some(t=>e.includes(t))?!1:Gp.some(([t])=>e===t),ZC=1e-6,iJ=(e,t)=>Math.abs(e*t-t)<ZC?1:e<ZC?0:e,Er=(e,t)=>{let r=e;return oN(e)&&(r="100%"),dS(r)?Number.parseFloat(r)/100:(r=typeof r!="number"?Number.parseFloat(r):r,t===360?r=(r<0?r%t+t:r>360?r%t:r)/t:(r=Math.min(t,Math.max(0,r)),r=r/t),iJ(r,t))},aw=e=>{let t=parseFloat(e);return(Number.isNaN(t)||t<0||t>1)&&(t=1),t},Pd=e=>Math.min(1,Math.max(0,e)),No=e=>e.length===1?`0${e}`:String(e),lN=e=>{const[[,t]]=Gp.filter(([r])=>r===e.toLowerCase());return t},kr=e=>parseInt(e,16),sw=e=>kr(e)/255,cN=e=>Pe(e*255).toString(16),eE=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0,a=0;const s=(n+i)/2;if(n===i)a=0,o=0;else{const l=n-i;a=s>.5?l/(2-n-i):l/(n+i),n===e&&(o=(t-r)/l+(t<r?6:0)),n===t&&(o=(r-e)/l+2),n===r&&(o=(e-t)/l+4),o/=6}return{h:o,s:a,l:s}},rp=(e,t,r)=>{let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e},Tu=(e,t,r)=>{let n=0,i=0,o=0;if(t===0)i=r,o=r,n=r;else{const a=r<.5?r*(1+t):r+t-r*t,s=2*r-a;n=rp(s,a,e+1/3),i=rp(s,a,e),o=rp(s,a,e-1/3)}return{r:n,g:i,b:o}},tE=(e,t,r)=>{let n=0,i=0;const o=Math.min(e,t,r),a=Math.max(e,t,r),s=1-a;if(a===o)return{h:0,w:o,b:s};e===o?(n=t-r,i=3):(n=t===o?r-e:e-t,i=t===o?5:1);const l=(i-n/(a-o))/6;return{h:l===1?0:l,w:o,b:s}},uN=(e,t,r)=>{if(t+r>=1){const a=t/(t+r);return{r:a,g:a,b:a}}let{r:n,g:i,b:o}=Tu(e,1,.5);return[n,i,o]=[n,i,o].map(a=>a*(1-t-r)+t),{r:n,g:i,b:o}},rE=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0;const a=n,s=n-i,l=n===0?0:s/n;return n===i?o=0:(e===n&&(o=(t-r)/s+(t<r?6:0)),t===n&&(o=(r-e)/s+2),r===n&&(o=(e-t)/s+4),o/=6),{h:o,s:l,v:a}},lw=(e,t,r)=>{const n=e*6,i=t,o=r,a=Math.floor(n),s=n-a,l=o*(1-i),c=o*(1-s*i),u=o*(1-(1-s)*i),f=a%6,d=[o,c,l,l,u,o][f],h=[u,o,o,c,l,l][f],p=[l,l,u,o,o,c][f];return{r:d,g:h,b:p}},sb=(e,t,r,n)=>{const i=[No(Pe(e).toString(16)),No(Pe(t).toString(16)),No(Pe(r).toString(16))];return n&&i[0].charAt(0)===i[0].charAt(1)&&i[1].charAt(0)===i[1].charAt(1)&&i[2].charAt(0)===i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")},lb=(e,t,r,n,i)=>{const o=[No(Pe(e).toString(16)),No(Pe(t).toString(16)),No(Pe(r).toString(16)),No(cN(n))];return i&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)&&o[3].charAt(0)===o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")},fN=e=>{const t=String(e).trim().toLowerCase();if(sN(t))return Object.assign(lN(t),{a:1,format:"rgb",ok:!0});if(iN(t))return{r:0,g:0,b:0,a:t==="transparent"?0:1,format:"rgb",ok:!0};let[,r,n,i,o]=ti.rgb.exec(t)||[];return r&&n&&i?{r,g:n,b:i,a:o!==void 0?o:1,format:"rgb",ok:!0}:([,r,n,i,o]=ti.hsl.exec(t)||[],r&&n&&i?{h:r,s:n,l:i,a:o!==void 0?o:1,format:"hsl",ok:!0}:([,r,n,i,o]=ti.hsv.exec(t)||[],r&&n&&i?{h:r,s:n,v:i,a:o!==void 0?o:1,format:"hsv",ok:!0}:([,r,n,i,o]=ti.hwb.exec(t)||[],r&&n&&i?{h:r,w:n,b:i,a:o!==void 0?o:1,format:"hwb",ok:!0}:([,r,n,i,o]=ti.hex8.exec(t)||[],r&&n&&i&&o?{r:kr(r),g:kr(n),b:kr(i),a:sw(o),format:"hex",ok:!0}:([,r,n,i]=ti.hex6.exec(t)||[],r&&n&&i?{r:kr(r),g:kr(n),b:kr(i),a:1,format:"hex",ok:!0}:([,r,n,i,o]=ti.hex4.exec(t)||[],r&&n&&i&&o?{r:kr(r+r),g:kr(n+n),b:kr(i+i),a:sw(o+o),format:"hex",ok:!0}:([,r,n,i]=ti.hex3.exec(t)||[],r&&n&&i?{r:kr(r+r),g:kr(n+n),b:kr(i+i),a:1,format:"hex",ok:!0}:{r:0,g:0,b:0,a:1,format:"rgb",ok:!e})))))))},oJ=(e,t,r)=>({r:Er(e,255),g:Er(t,255),b:Er(r,255)}),nE=e=>{let t={r:0,g:0,b:0},r=e,n=1,i,o,a,s,l,c,u,f,d="rgb",h=!1;if((!r||typeof r=="string")&&(r=fN(r),h=r.ok||h),cu(r,t)&&xr(r.r)&&xr(r.g)&&xr(r.b)){if(["format","ok","originalInput"].every(p=>p in r))return{...r};({r:u,g:f,b:l}=r),t=oJ(u,f,l),d="format"in r?r.format:"rgb"}return cu(r,{h:0,s:0,v:0})&&xr(r.h)&&xr(r.s)&&xr(r.v)&&({h:c,s:i,v:o}=r,c=Er(c,360),i=Er(i,100),o=Er(o,100),t=lw(c,i,o),d="hsv"),cu(r,{h:0,s:0,l:0})&&xr(r.h)&&xr(r.s)&&xr(r.l)&&({h:c,s:i,l:a}=r,c=Er(c,360),i=Er(i,100),a=Er(a,100),t=Tu(c,i,a),d="hsl"),cu(r,{h:0,w:0,b:0})&&xr(r.h)&&xr(r.w)&&xr(r.b)&&({h:c,w:s,b:l}=r,c=Er(c,360),s=Er(s,100),l=Er(l,100),t=uN(c,s,l),d="hwb"),xr(r.a)&&(n=r.a,n=dS(n)||parseFloat(`${n}`)>1?Er(n,100):n),{...t,a:aw(n),format:d,ok:h}},aJ="1.0.14",Ee=class Ee{constructor(t,r){R(this,"r");R(this,"g");R(this,"b");R(this,"a");R(this,"format");R(this,"ok");R(this,"originalInput");const n=r&&aN.includes(r)?r:"",{r:i,g:o,b:a,a:s,ok:l,format:c}=nE(t);this.originalInput=t,this.r=i,this.g=o,this.b=a,this.a=s,this.ok=l,this.format=n||c}get isValid(){return this.ok}get isDark(){return this.brightness<120}get luminance(){const{r:t,g:r,b:n}=this;let i=0,o=0,a=0;return t<=.03928?i=t/12.92:i=((t+.055)/1.055)**2.4,r<=.03928?o=r/12.92:o=((r+.055)/1.055)**2.4,n<=.03928?a=n/12.92:a=((n+.055)/1.055)**2.4,.2126*i+.7152*o+.0722*a}get brightness(){const{r:t,g:r,b:n}=this.toRgb();return(t*299+r*587+n*114)/1e3}get name(){const{r:t,g:r,b:n}=this.toRgb(),[i]=Gp.map(([o,a])=>{const s=(((a.r-t)*.3)**2+((a.g-r)*.6)**2+((a.b-n)*.1)**2)**.5;return[o,s]}).find(([,o],a,s)=>o===Math.min(...s.map(([,l])=>l)));return i}toRgb(){let{r:t,g:r,b:n,a:i}=this;return[t,r,n]=[t,r,n].map(o=>Pe(o*255*100)/100),i=Pe(i*100)/100,{r:t,g:r,b:n,a:i}}toRgbString(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Pe);return i===1?`rgb(${o}, ${a}, ${s})`:`rgba(${o}, ${a}, ${s}, ${i})`}toRgbCSS4String(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Pe),l=i===1?"":` / ${Pe(i*100)}%`;return`rgb(${o} ${a} ${s}${l})`}toHex(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Pe(a*255)),o=Pe(o*100)/100,o===1?sb(r,n,i,t):lb(r,n,i,o,t)}toHexString(t){return`#${this.toHex(t)}`}toHex8(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Pe(a*255)),o=Pe(o*100)/100,o===1?sb(r,n,i,t):lb(r,n,i,o,t)}toHex8String(t){return`#${this.toHex8(t)}`}toHsv(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,v:s}=rE(t,r,n);return{h:o,s:a,v:s,a:i}}toHsl(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,l:s}=eE(t,r,n);return{h:o,s:a,l:s,a:i}}toHslString(){let{h:t,s:r,l:n,a:i}=this.toHsl();return t=Pe(t*360),r=Pe(r*100),n=Pe(n*100),i=Pe(i*100)/100,i===1?`hsl(${t}, ${r}%, ${n}%)`:`hsla(${t}, ${r}%, ${n}%, ${i})`}toHslCSS4String(){let{h:t,s:r,l:n,a:i}=this.toHsl();t=Pe(t*360),r=Pe(r*100),n=Pe(n*100),i=Pe(i*100);const o=i<100?` / ${Pe(i)}%`:"";return`hsl(${t}deg ${r}% ${n}%${o})`}toHwb(){const{r:t,g:r,b:n,a:i}=this,{h:o,w:a,b:s}=tE(t,r,n);return{h:o,w:a,b:s,a:i}}toHwbString(){let{h:t,w:r,b:n,a:i}=this.toHwb();t=Pe(t*360),r=Pe(r*100),n=Pe(n*100),i=Pe(i*100);const o=i<100?` / ${Pe(i)}%`:"";return`hwb(${t}deg ${r}% ${n}%${o})`}setAlpha(t){return typeof t!="number"?this:(this.a=aw(t),this)}saturate(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Tu(r,Pd(n+t/100),i);return Object.assign(this,{r:o,g:a,b:s}),this}desaturate(t){return typeof t=="number"?this.saturate(-t):this}greyscale(){return this.saturate(-100)}lighten(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Tu(r,n,Pd(i+t/100));return Object.assign(this,{r:o,g:a,b:s}),this}darken(t){return typeof t=="number"?this.lighten(-t):this}spin(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Tu(Pd((r*360+t)%360/360),n,i);return Object.assign(this,{r:o,g:a,b:s}),this}clone(){return new Ee(this)}toString(t){const{format:r}=this;return r==="hex"?this.toHexString(t):r==="hsl"?this.toHslString():r==="hwb"?this.toHwbString():this.toRgbString()}};R(Ee,"matchers",ti),R(Ee,"isOnePointZero",oN),R(Ee,"isPercentage",dS),R(Ee,"isValidCSSUnit",xr),R(Ee,"isNonColor",iN),R(Ee,"isColorName",sN),R(Ee,"isColorType",cu),R(Ee,"pad2",No),R(Ee,"clamp01",Pd),R(Ee,"bound01",Er),R(Ee,"boundAlpha",aw),R(Ee,"getRGBFromName",lN),R(Ee,"convertHexToDecimal",sw),R(Ee,"convertDecimalToHex",cN),R(Ee,"rgbToHsl",eE),R(Ee,"rgbToHex",sb),R(Ee,"rgbToHsv",rE),R(Ee,"rgbToHwb",tE),R(Ee,"rgbaToHex",lb),R(Ee,"hslToRgb",lw),R(Ee,"hsvToRgb",lw),R(Ee,"hueToRgb",rp),R(Ee,"hwbToRgb",uN),R(Ee,"parseIntFromHex",kr),R(Ee,"stringInputToObject",fN),R(Ee,"inputToRGB",nE),R(Ee,"roundPart",Pe),R(Ee,"webColors",Gp),R(Ee,"nonColors",fS),R(Ee,"version",aJ);let bt=Ee;class qp{constructor(...t){R(this,"hue");R(this,"hueSteps");R(this,"lightSteps");R(this,"saturation");R(this,"colors");let r=0,n=12,i=10,o=[.5],a=100;if(t.length===4)[r,n,i,a]=t;else if(t.length===3)[r,n,i]=t;else if(t.length===2&&([n,i]=t,[n,i].some(p=>p<1)))throw TypeError("ColorPalette: the two minimum arguments must be numbers higher than 0.");const s=[],l=360/n,c=bt.roundPart((i-(i%2?1:0))/2),u=[.25,.2,.15,.11,.09,.075],f=[[1,2,3],[4,5],[6,7],[8,9],[10,11],[12,13]],d=f.find(p=>p.includes(i)),h=d?u[f.indexOf(d)]:100/(i+(i%2?0:1))/100;for(let p=1;p<c+1;p+=1)o=[...o,.5+h*p];for(let p=1;p<i-c;p+=1)o=[.5-h*p,...o];for(let p=0;p<n;p+=1){const g=(r+p*l)%360;o.forEach(m=>{const v=new bt({h:g,s:100,l:m*100});s.push(a<100?v.saturate(a-100):v)})}this.hue=r,this.hueSteps=n,this.lightSteps=i,this.saturation=a,this.colors=s}}R(qp,"Color",bt);const cw={pickerLabel:"Colour Picker",appearanceLabel:"Colour Appearance",valueLabel:"Colour Value",toggleLabel:"Select Colour",presetsLabel:"Colour Presets",defaultsLabel:"Colour Defaults",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadecimal",hueLabel:"Hue",whitenessLabel:"Whiteness",blacknessLabel:"Blackness",saturationLabel:"Saturation",lightnessLabel:"Lightness",redLabel:"Red",greenLabel:"Green",blueLabel:"Blue"},uu=["white","black","grey","red","orange","brown","gold","olive","yellow","lime","green","teal","cyan","blue","violet","magenta","pink"],iE=e=>{if(!Lo(e))return!1;try{JSON.parse(e)}catch{return!1}return!0},uw="v-hidden",sJ=e=>{const{format:t,id:r,componentLabels:n}=e,i=Nt({tagName:"div",className:`color-form ${t}`});let o=["hex"];return t==="rgb"?o=["red","green","blue","alpha"]:t==="hsl"?o=["hue","saturation","lightness","alpha"]:t==="hwb"&&(o=["hue","whiteness","blackness","alpha"]),o.forEach(a=>{const[s]=t==="hex"?["#"]:JL(a).split(""),l=`color_${t}_${a}_${r}`,c=n[`${a}Label`],u=Nt({tagName:"label"});Ne(u,"for",l),u.append(Nt({tagName:"span",ariaHidden:"true",innerText:`${s}:`}),Nt({tagName:"span",className:uw,innerText:c}));const f=Nt({tagName:"input",id:l,type:t==="hex"?"text":"number",value:a==="alpha"?"100":"0",className:`color-input ${a}`,autocomplete:"off",spellcheck:!1});let d="100",h="1";a!=="alpha"&&(t==="rgb"?(d="255",h="1"):a==="hue"&&(d="360",h="1")),oi(f,{min:"0",max:d,step:h}),i.append(u,f)}),i},lJ=e=>{const{format:t,componentLabels:r}=e,{hueLabel:n,alphaLabel:i,lightnessLabel:o,saturationLabel:a,whitenessLabel:s,blacknessLabel:l}=r,c=t==="hsl"?360:100,u=t==="hsl"?100:360,f=100;let d=t==="hsl"?`${n} & ${o}`:`${o} & ${a}`;d=t==="hwb"?`${s} & ${l}`:d;const h=t==="hsl"?`${a}`:`${n}`,p=Nt({tagName:"div",className:`color-controls ${t}`}),g="color-pointer",m="color-slider";return[{i:1,c:g,l:d,min:0,max:c},{i:2,c:m,l:h,min:0,max:u},{i:3,c:m,l:i,min:0,max:f}].forEach(v=>{const{i:b,c:y,l:w,min:$,max:x}=v,O=Nt({tagName:"div",className:"color-control",role:"presentation"});O.append(Nt({tagName:"div",className:`visual-control visual-control${b}`}));const T=Nt({tagName:"div",className:`${y} knob`,ariaLive:"polite",ariaLabel:w,role:"slider",tabIndex:0,ariaValueMin:`${$}`,ariaValueMax:`${x}`});O.append(T),p.append(O)}),p},oE=(e,t,r)=>{const{input:n,format:i,componentLabels:o}=e,{defaultsLabel:a,presetsLabel:s}=o,l=r==="color-options",c=t instanceof qp,u=l?s:a,f=c?t.colors:t,d=f.length,{lightSteps:h}=c?t:{lightSteps:null},p=h||[9,10].find(D=>d>=D*2&&!(d%D))||5,g=l&&d>p;let m=2;m=g&&d>p*2?3:m,m=g&&d>p*3?4:m,m=g&&d>p*4?5:m;const v=m-(d<=p*3?1:2),b=g&&d>v*p;let y=r;y+=b?" scrollable":"",y+=g?" multiline":"";const w=g?"1px":"0.25rem";let $=g?1.75:2;$=p>5&&g?1.5:$;const x=`${v*$}rem`,O=`calc(${m} * ${$}rem + ${m-1} * ${w})`,T=Nt({tagName:"ul",className:y,role:"listbox",ariaLabel:u});return b&&In(T,{"--grid-item-size":`${$}rem`,"--grid-fit":`${p}`,"--grid-gap":w,"--grid-height":x,"--grid-hover-height":O}),f.forEach(D=>{let[L,I]=typeof D=="string"?D.trim().split(":"):[];D instanceof bt&&(L=D.toHexString(),I=L);const E=new bt(D instanceof bt?D:L,i).toString()===jm(n,"value"),_=Nt({tagName:"li",className:`color-option${E?" active":""}`,innerText:`${I||L}`,tabIndex:0,role:"option",ariaSelected:E?"true":"false"});Ne(_,"data-value",`${L}`),l&&In(_,{backgroundColor:L}),T.append(_)}),T},cJ=e=>{const{input:t,parent:r,format:n,id:i,componentLabels:o,colorKeywords:a,colorPresets:s}=e,l=jm(t,"value")||"#fff",{nonColors:c}=bt,{toggleLabel:u,pickerLabel:f,formatLabel:d,hexLabel:h}=o,p=c.includes(l)?"#fff":l;e.color=new bt(p,n);const g=n==="hex"?h:JL(n),m=Nt({id:`picker-btn-${i}`,tagName:"button",type:"button",className:"picker-toggle btn-appearance",ariaExpanded:"false",ariaHasPopup:"true"});m.append(Nt({tagName:"span",className:uw,innerText:`${f}. ${d}: ${g}`}));const v=Nt({tagName:"div",className:"color-dropdown picker",role:"group",ariaLabelledBy:`picker-btn-${i}`}),b=lJ(e),y=sJ(e);if(v.append(b,y),t.before(m),r.append(v),a||s){const w=Nt({tagName:"div",className:"color-dropdown scrollable menu"});s&&w.append(oE(e,s,"color-options")),a&&a.length&&w.append(oE(e,a,"color-defaults"));const $=Nt({tagName:"button",type:"button",className:"menu-toggle btn-appearance",tabIndex:-1,ariaExpanded:"false",ariaHasPopup:"true"}),x=encodeURI("http://www.w3.org/2000/svg"),O=nw(x,{tagName:"svg"});Ne(O,"xmlns",x),Ne(O,"viewBox","0 0 512 512"),Ne(O,PY,"true");const T=nw(x,{tagName:"path"});Ne(T,"d","M98,158l157,156L411,158l27,27L255,368L71,185L98,158z"),Ne(T,"fill","#fff"),O.append(T),$.append(Nt({tagName:"span",className:uw,innerText:`${u}`}),O),r.append($,w)}a&&c.includes(l)&&(e.value=l),Ne(t,Tl,"-1")},uJ="2.0.4",Cl="color-picker",fJ=`[data-function="${Cl}"]`,aE=`.${Cl}`,dJ={componentLabels:cw,colorLabels:uu,format:"rgb",colorPresets:!1,colorKeywords:!1},{roundPart:mt,nonColors:_d}=bt,hJ=e=>KY(e,Cl),pJ=e=>new Or(e),sE=(e,t)=>{const r=t?GL:qL,{input:n,pickerToggle:i,menuToggle:o}=e;r(n,DY,e.showPicker),r(i,rw,e.togglePicker),o&&r(o,rw,e.toggleMenu)},dN=(e,t)=>{const r=t?GL:qL,{input:n,colorMenu:i,parent:o}=e,a=si(n),s=eJ(a);r(e.controls,RY,e.pointerDown),e.controlKnobs.forEach(l=>r(l,KC,e.handleKnobs)),r(s,BY,e.handleScroll),r(s,jY,e.update),[n,...e.inputs].forEach(l=>r(l,_Y,e.changeHandler)),i&&(r(i,rw,e.menuClickHandler),r(i,KC,e.menuKeyHandler)),r(a,KL,e.pointerMove),r(a,FY,e.pointerUp),r(o,LY,e.handleFocusOut),r(a,NY,e.handleDismiss)},lE=e=>{YY(e.input,new CustomEvent("colorpicker.change"))},hN=e=>{e&&["bottom","top"].forEach(t=>An(e,t))},cb=(e,t)=>{const{colorPicker:r,colorMenu:n,menuToggle:i,pickerToggle:o,parent:a}=e,s=t===r,l=s?n:r,c=s?i:o,u=s?o:i;cn(a,"open")||Ao(a,"open"),l&&(An(l,"show"),hN(l)),Ao(t,"bottom"),QY(t),Ao(t,"show"),s&&e.update(),e.isOpen||(dN(e,!0),e.updateDropdownPosition(),e.isOpen=!0,Ne(e.input,Tl,"0"),i&&Ne(i,Tl,"0")),Ne(u,tw,"true"),c&&Ne(c,tw,"false")};class Or{constructor(t,r){R(this,"id");R(this,"input");R(this,"color");R(this,"format","rgb");R(this,"parent");R(this,"dragElement");R(this,"isOpen",!1);R(this,"controlPositions");R(this,"colorLabels",YC(uu.map(t=>[t,t])));R(this,"colorKeywords");R(this,"colorPresets");R(this,"componentLabels");R(this,"pickerToggle");R(this,"menuToggle");R(this,"colorPicker");R(this,"colorMenu");R(this,"controls");R(this,"inputs");R(this,"controlKnobs");R(this,"visuals");R(this,"handleFocusOut",({relatedTarget:t})=>{t&&!this.parent.contains(t)&&this.hide(!0)});R(this,"handleDismiss",({code:t})=>{this.isOpen&&t===UY&&this.hide()});R(this,"handleScroll",t=>{const{activeElement:r}=si(this.input);this.updateDropdownPosition(),([KL,zY].includes(t.type)&&this.dragElement||r&&this.controlKnobs.includes(r))&&(t.stopPropagation(),t.preventDefault())});R(this,"menuKeyHandler",t=>{const{target:r,code:n}=t,{previousElementSibling:i,nextElementSibling:o,parentElement:a}=r,s=a&&cn(a,"color-options"),l=a?[...a.children]:[],c=s&&Number(iw(a,"--grid-fit")),u=l.indexOf(r),f=u>-1&&c&&l[u-c],d=u>-1&&c&&l[u+c];[xo,Ac,GC].includes(n)&&t.preventDefault(),s?f&&n===Ac?ka(f):d&&n===xo?ka(d):i&&n===Ad?ka(i):o&&n===Sa&&ka(o):i&&[Ad,Ac].includes(n)?ka(i):o&&[Sa,xo].includes(n)&&ka(o),[HY,GC].includes(n)&&this.menuClickHandler(t)});R(this,"menuClickHandler",t=>{const{target:r}=t,{colorMenu:n}=this,i=(jm(r,"data-value")||"").trim();if(!i.length)return;const o=Oa("li.active",n);let a=i;a=_d.includes(a)?"white":a,a=a==="transparent"?"rgba(0,0,0,0)":a;const{r:s,g:l,b:c,a:u}=new bt(a);oi(this.color,{r:s,g:l,b:c,a:u}),this.update(),o!==r&&(o&&(An(o,"active"),ib(o,nb)),Ao(r,"active"),Ne(r,nb,"true"),_d.includes(i)&&(this.value=i),lE(this))});R(this,"pointerDown",t=>{if(t.button!==0)return;const{target:r,pageX:n,pageY:i}=t,{colorMenu:o,visuals:a,controlKnobs:s}=this,[l,c,u]=a,[f,d,h]=s,p=s.includes(r)?r.previousElementSibling:r,g=Id(p),m=ob(l),v=n-m.scrollLeft-g.left,b=i-m.scrollTop-g.top;if(r===l||r===f?(this.dragElement=p,this.changeControl1(v,b)):r===c||r===d?(this.dragElement=p,this.changeControl2(b)):(r===u||r===h)&&(this.dragElement=p,this.changeAlpha(b)),o){const y=Oa("li.active",o);y&&(An(y,"active"),ib(y,nb))}t.preventDefault()});R(this,"pointerUp",({target:t})=>{const{parent:r}=this,n=si(r),i=Oa(`${aE}.open`,n)!==null,o=n.getSelection();!this.dragElement&&(!o||!o.toString().length)&&!r.contains(t)&&this.hide(i),this.dragElement=void 0});R(this,"pointerMove",t=>{const{dragElement:r,visuals:n}=this,[i,o,a]=n,{pageX:s,pageY:l}=t;if(!r)return;const c=Id(r),u=ob(i),f=s-u.scrollLeft-c.left,d=l-u.scrollTop-c.top;r===i&&this.changeControl1(f,d),r===o&&this.changeControl2(d),r===a&&this.changeAlpha(d)});R(this,"handleKnobs",t=>{const{target:r,code:n}=t;if(![Ac,xo,Ad,Sa].includes(n))return;t.preventDefault();const{controlKnobs:i,visuals:o}=this,{offsetWidth:a,offsetHeight:s}=o[0],[l,c,u]=i,{activeElement:f}=si(l),d=i.find(p=>p===f),h=s/360;if(d){let p=0,g=0;if(r===l){const m=a/100;[Ad,Sa].includes(n)?this.controlPositions.c1x+=n===Sa?m:-m:[Ac,xo].includes(n)&&(this.controlPositions.c1y+=n===xo?h:-h),p=this.controlPositions.c1x,g=this.controlPositions.c1y,this.changeControl1(p,g)}else r===c?(this.controlPositions.c2y+=[xo,Sa].includes(n)?h:-h,g=this.controlPositions.c2y,this.changeControl2(g)):r===u&&(this.controlPositions.c3y+=[xo,Sa].includes(n)?h:-h,g=this.controlPositions.c3y,this.changeAlpha(g));this.handleScroll(t)}});R(this,"changeHandler",()=>{let t;const{inputs:r,format:n,value:i,input:o,controlPositions:a,visuals:s}=this,{activeElement:l}=si(o),{offsetHeight:c}=s[0],[u,,,f]=r,[d,h,p,g]=n==="rgb"?r.map(b=>parseFloat(b.value)/(b===f?100:1)):r.map(b=>parseFloat(b.value)/(b!==u?100:360)),m=this.hasNonColor&&_d.includes(i),v=f?g:1-a.c3y/c;if(l===o||l&&r.includes(l)){l===o?m?t=i==="transparent"?"rgba(0,0,0,0)":"rgb(0,0,0)":t=i:n==="hex"?t=u.value:n==="hsl"?t={h:d,s:h,l:p,a:v}:n==="hwb"?t={h:d,w:h,b:p,a:v}:t={r:d,g:h,b:p,a:v};const{r:b,g:y,b:w,a:$}=new bt(t);oi(this.color,{r:b,g:y,b:w,a:$}),this.setControlPositions(),this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals(),l===o&&m&&(this.value=i)}});R(this,"update",()=>{this.updateDropdownPosition(),this.updateAppearance(),this.setControlPositions(),this.updateInputs(!0),this.updateControls(),this.updateVisuals()});R(this,"togglePicker",t=>{t&&t.preventDefault();const{colorPicker:r}=this;this.isOpen&&cn(r,"show")?this.hide(!0):cb(this,r)});R(this,"showPicker",()=>{const{colorPicker:t}=this;["top","bottom"].some(r=>cn(t,r))||cb(this,t)});R(this,"toggleMenu",t=>{t&&t.preventDefault();const{colorMenu:r}=this;this.isOpen&&cn(r,"show")?this.hide(!0):cb(this,r)});const n=Oa(t);if(typeof t>"u")throw new TypeError("ColorPicker target not specified.");if(!XL(n))throw new TypeError(`ColorPicker target "${t}" cannot be found.`);this.input=n;const i=ZL(n,aE);if(!i)throw new TypeError("ColorPicker requires a specific markup to work.");this.parent=i,this.id=QL(n,Cl),this.dragElement=void 0,this.isOpen=!1,this.controlPositions={c1x:0,c1y:0,c2y:0,c3y:0},this.colorKeywords=!1,this.colorPresets=!1;const{format:o,componentLabels:a,colorLabels:s,colorKeywords:l,colorPresets:c}=XY(n,dJ,r||{});let u=uu;ab(s)&&s.length===17?u=s:Lo(s)&&s.split(",").length===17&&(u=s.split(",")),oi(this.colorLabels,YC(u.map((g,m)=>[uu[m],g])));const f=Lo(a)&&iE(a)?JSON.parse(a):a;if(this.componentLabels=oi({...cw},f),this.color=new bt(n.value||"#fff",o),this.format=o,ab(l)&&l.length?this.colorKeywords=l:Lo(l)&&l.length&&(this.colorKeywords=l.split(",").map(g=>g.trim())),ab(c)&&c.length)this.colorPresets=c;else if(c&&iE(c)){const{hue:g,hueSteps:m,lightSteps:v,saturation:b}=JSON.parse(c);this.colorPresets=new qp(g,m,v,b)}else Lo(c)&&(this.colorPresets=c.split(",").map(g=>g.trim()));cJ(this);const[d,h]=Ic("color-dropdown",i);this.pickerToggle=Oa(".picker-toggle",i),this.menuToggle=Oa(".menu-toggle",i),this.colorPicker=d,this.colorMenu=h,this.inputs=[...Ic("color-input",i)];const[p]=Ic("color-controls",i);this.controls=p,this.controlKnobs=[...Ic("knob",p)],this.visuals=[...Ic("visual-control",p)],this.update(),sE(this,!0),Zu.set(n,Cl,this)}get value(){return this.input.value}set value(t){this.input.value=t}get hasNonColor(){return this.colorKeywords instanceof Array&&this.colorKeywords.some(t=>_d.includes(t))}get hex(){return this.color.toHex(!0)}get hsv(){return this.color.toHsv()}get hsl(){return this.color.toHsl()}get hwb(){return this.color.toHwb()}get rgb(){return this.color.toRgb()}get brightness(){return this.color.brightness}get luminance(){return this.color.luminance}get isDark(){const{color:t,brightness:r}=this;return r<120&&t.a>.33}get isValid(){const t=this.input.value;return t!==""&&new bt(t).isValid}get appearance(){const{colorLabels:t,hsl:r,hsv:n,format:i}=this,o=mt(r.h*360),a=i==="hsl"?r.s:n.s,s=mt(a*100),l=mt(r.l*100),c=n.v*100;let u="black";if(l===100&&s===0)u=t.white;else if(l===0)u=t.black;else if(s===0)u=t.grey;else if(o<15||o>=345)u=t.red;else if(o>=15&&o<45)u=c>80&&s>80?t.orange:t.brown;else if(o>=45&&o<75){const f=o>46&&o<54&&c<80&&s>90,d=o>=54&&o<75&&c<80;u=f?t.gold:t.yellow,u=d?t.olive:u}else o>=75&&o<155?u=c<68?t.green:t.lime:o>=155&&o<175?u=t.teal:o>=175&&o<195?u=t.cyan:o>=195&&o<255?u=t.blue:o>=255&&o<270?u=t.violet:o>=270&&o<295?u=t.magenta:o>=295&&o<345&&(u=t.pink);return u}updateVisuals(){const{controlPositions:t,visuals:r}=this,[n,i,o]=r,{offsetHeight:a}=n,s=t.c2y/a,{r:l,g:c,b:u}=new bt({h:s*360,s:100,l:50}).toRgb(),f="linear-gradient(rgb(255,255,255) 0%, rgb(255,255,255) 100%)",d=1-t.c3y/a,h=mt(d*100)/100,p=new bt({h:s*360,s:100,l:50,a:d}).toRgbString();In(n,{background:`linear-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,${h}) 100%),
      linear-gradient(to right, rgba(255,255,255,${h}) 0%, ${p} 100%),
      ${f}`}),In(i,{background:`linear-gradient(
      rgb(255,0,0) 0%, rgb(255,255,0) 16.67%,
      rgb(0,255,0) 33.33%, rgb(0,255,255) 50%,
      rgb(0,0,255) 66.67%, rgb(255,0,255) 83.33%,
      rgb(255,0,0) 100%)`}),In(o,{background:`linear-gradient(rgba(${l},${c},${u},1) 0%,rgba(${l},${c},${u},0) 100%)`})}changeControl1(t,r){let[n,i]=[0,0];const{controlPositions:o,visuals:a}=this,{offsetHeight:s,offsetWidth:l}=a[0];t>l?n=l:t>=0&&(n=t),r>s?i=s:r>=0&&(i=r);const c=o.c2y/s,u=n/l,f=1-i/s,d=1-o.c3y/s,{r:h,g:p,b:g,a:m}=new bt({h:c*360,s:u*100,v:f*100,a:d});oi(this.color,{r:h,g:p,b:g,a:m}),this.controlPositions.c1x=n,this.controlPositions.c1y=i,this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals()}changeControl2(t){const{controlPositions:r,visuals:n}=this,{offsetHeight:i,offsetWidth:o}=n[0];let a=0;t>i?a=i:t>=0&&(a=t);const s=a/i,l=r.c1x/o,c=1-r.c1y/i,u=1-r.c3y/i,{r:f,g:d,b:h,a:p}=new bt({h:s*360,s:l*100,v:c*100,a:u});oi(this.color,{r:f,g:d,b:h,a:p}),this.controlPositions.c2y=a,this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals()}changeAlpha(t){const{visuals:r}=this,{offsetHeight:n}=r[0];let i=0;t>n?i=n:t>=0&&(i=t);const o=1-i/n;this.color.setAlpha(o),this.controlPositions.c3y=i,this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals()}updateDropdownPosition(){const{input:t,colorPicker:r,colorMenu:n}=this,i=Id(t),{top:o,bottom:a}=i,{offsetHeight:s}=t,l=ob(t).clientHeight,c=cn(r,"show")?r:n;if(!c)return;const{offsetHeight:u}=c,f=l-a,d=o,h=o+u+s>l,p=o-u<0;(cn(c,"bottom")||!p)&&f<d&&h?(An(c,"bottom"),Ao(c,"top")):(An(c,"top"),Ao(c,"bottom"))}setControlPositions(){const{visuals:t,color:r,hsv:n}=this,{offsetHeight:i,offsetWidth:o}=t[0],a=r.a,s=n.h,l=n.s,c=n.v;this.controlPositions.c1x=l*o,this.controlPositions.c1y=(1-c)*i,this.controlPositions.c2y=s*i,this.controlPositions.c3y=(1-a)*i}updateAppearance(){const{componentLabels:t,color:r,parent:n,hsv:i,hex:o,format:a,controlKnobs:s}=this,{appearanceLabel:l,hexLabel:c,valueLabel:u}=t;let{r:f,g:d,b:h}=r.toRgb();const[p,g,m]=s,v=mt(i.h*360),b=r.a,y=mt(i.s*100),w=mt(i.v*100),$=this.appearance;let x=`${c} ${o.split("").join(" ")}`;if(a==="hwb"){const{hwb:D}=this,L=mt(D.w*100),I=mt(D.b*100);x=`HWB: ${v}, ${L}%, ${I}%`,Ne(p,Mc,`${L}% & ${I}%`),Ne(p,Ec,`${L}`),Ne(g,WC,`${u}: ${x}. ${l}: ${$}.`),Ne(g,Mc,`${v}%`),Ne(g,Ec,`${v}`)}else[f,d,h]=[f,d,h].map(mt),x=a==="hsl"?`HSL: ${v}, ${y}%, ${w}%`:x,x=a==="rgb"?`RGB: ${f}, ${d}, ${h}`:x,Ne(p,Mc,`${w}% & ${y}%`),Ne(p,Ec,`${w}`),Ne(g,WC,`${u}: ${x}. ${l}: ${$}.`),Ne(g,Mc,`${v}`),Ne(g,Ec,`${v}`);const O=mt(b*100);Ne(m,Mc,`${O}%`),Ne(m,Ec,`${O}`);const T=r.toString();In(this.input,{backgroundColor:T}),this.isDark?(cn(n,"txt-light")&&An(n,"txt-light"),cn(n,"txt-dark")||Ao(n,"txt-dark")):(cn(n,"txt-dark")&&An(n,"txt-dark"),cn(n,"txt-light")||Ao(n,"txt-light"))}updateControls(){const{controlKnobs:t,controlPositions:r}=this;let{c1x:n,c1y:i,c2y:o,c3y:a}=r;const[s,l,c]=t;[n,i,o,a]=[n,i,o,a].map(mt),In(s,{transform:`translate3d(${n-4}px,${i-4}px,0)`}),In(l,{transform:`translate3d(0,${o-4}px,0)`}),In(c,{transform:`translate3d(0,${a-4}px,0)`})}updateInputs(t){const{value:r,format:n,inputs:i,color:o,hsl:a}=this,[s,l,c,u]=i,f=mt(o.a*100),d=mt(a.h*360);let h=o.toString();if(n==="hex")h=this.color.toHexString(!0),s.value=this.hex;else if(n==="hsl"){const p=mt(a.l*100),g=mt(a.s*100);h=this.color.toHslString(),s.value=`${d}`,l.value=`${g}`,c.value=`${p}`,u.value=`${f}`}else if(n==="hwb"){const{w:p,b:g}=this.hwb,m=mt(p*100),v=mt(g*100);h=this.color.toHwbString(),s.value=`${d}`,l.value=`${m}`,c.value=`${v}`,u.value=`${f}`}else if(n==="rgb"){let{r:p,g,b:m}=this.rgb;[p,g,m]=[p,g,m].map(mt),h=this.color.toRgbString(),s.value=`${p}`,l.value=`${g}`,c.value=`${m}`,u.value=`${f}`}this.value=h,!t&&h!==r&&lE(this)}hide(t){if(!this.isOpen)return;const{pickerToggle:r,menuToggle:n,colorPicker:i,colorMenu:o,parent:a,input:s}=this,l=cn(i,"show"),c=l?i:o,u=l?r:n,f=c&&JY(c);this.value=this.color.toString(!0),c&&(An(c,"show"),Ne(u,tw,"false"),setTimeout(()=>{hN(c),Oa(".show",a)||(An(a,"open"),dN(this),this.isOpen=!1)},f)),t||ka(r),Ne(s,Tl,"-1"),u===n&&Ne(n,Tl,"-1")}dispose(){const{input:t,parent:r}=this;this.hide(!0),sE(this),[...r.children].forEach(n=>{n!==t&&n.remove()}),ib(t,Tl),In(t,{backgroundColor:""}),["txt-light","txt-dark"].forEach(n=>An(r,n)),Zu.remove(t,Cl)}}R(Or,"Color",bt),R(Or,"ColorPalette",qp),R(Or,"getInstance",hJ),R(Or,"init",pJ),R(Or,"selector",fJ),R(Or,"roundPart",mt),R(Or,"setElementStyle",In),R(Or,"setAttribute",Ne),R(Or,"getBoundingClientRect",Id),R(Or,"version",uJ),R(Or,"colorNames",uu),R(Or,"colorPickerLabels",cw);var gJ=W('<div><div class=color-control role=presentation tabindex=-1><div class="visual-control visual-control1"></div><div class="color-pointer knob"role=slider tabindex=0 aria-live=polite aria-valuemin=0 aria-valuemax=100></div></div><div class=color-control role=presentation tabindex=-1><div class="visual-control visual-control2"></div><div class="color-slider knob"aria-live=polite role=slider tabindex=0 aria-valuemin=0 aria-valuemax=360></div></div><div class=color-control role=presentation tabindex=-1><div class="visual-control visual-control3"></div><div class="color-slider knob"aria-live=polite role=slider tabindex=0 aria-valuemin=0 aria-valuemax=100>'),mJ=W('<div role=group><div class="color-form rgb"><label><span aria-hidden>R:</span><span class=v-hidden></span></label><input type=number class="color-input red"autocomplete=off min=0 max=255 step=1><label><span aria-hidden>G:</span><span class=v-hidden></span></label><input type=number class="color-input green"autocomplete=off min=0 max=255 step=1><label><span aria-hidden>B:</span><span class=v-hidden></span></label><input type=number class="color-input blue"autocomplete=off min=0 max=255 step=1><label><span aria-hidden>A:</span><span class=v-hidden></span></label><input type=number class="color-input alpha"autocomplete=off min=0 max=100 step=1>'),vJ=W('<div role=group><div class="color-form hsl"><label><span aria-hidden>H:</span><span class=v-hidden></span></label><input type=number class="color-input hue"autocomplete=off min=0 max=360 step=1><label><span aria-hidden>S:</span><span class=v-hidden></span></label><input type=number class="color-input saturation"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>L:</span><span class=v-hidden></span></label><input type=number class="color-input lightness"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>A:</span><span class=v-hidden></span></label><input type=number class="color-input alpha"autocomplete=off min=0 max=100 step=1>'),bJ=W('<div role=group><div class="color-form hwb"><label><span aria-hidden>H:</span><span class=v-hidden></span></label><input type=number class="color-input hue"autocomplete=off min=0 max=360 step=1><label><span aria-hidden>W:</span><span class=v-hidden></span></label><input type=number class="color-input whiteness"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>B:</span><span class=v-hidden></span></label><input type=number class="color-input blackness"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>A:</span><span class=v-hidden></span></label><input type=number class="color-input alpha"autocomplete=off min=0 max=100 step=1>'),yJ=W('<div role=group><div class="color-form hex"><label for=color_hex_hex_1><span aria-hidden>#:</span><span class=v-hidden></span></label><input type=text class="color-input hex"autocomplete=off>'),$J=W("<ul role=listbox>"),pN=W("<li tabindex=0 role=option>"),wJ=W("<ul class=color-defaults role=listbox>"),xJ=W('<button class="menu-toggle btn-appearance"type=button aria-haspopup><span class=v-hidden></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"aria-hidden=true><path d=M98,158l157,156L411,158l27,27L255,368L71,185L98,158z fill=#fff>'),SJ=W("<div>"),kJ=W('<div><button class="picker-toggle btn-appearance"aria-haspopup type=button><span class=v-hidden></span></button><input type=text class="color-preview btn-appearance"autocomplete=off>'),gN=tn({}),la=()=>rn(gN),OJ=()=>globalThis.innerWidth>980?300:230,Ye=OJ,{roundPart:er}=Ve,Bm=e=>{const{drag:t,setDrag:r,color:n,setColor:i,locale:o,format:a,controlPositions:s,setControlPositions:l}=la();let c;const{stringValue:u}=e,f=()=>s().c2y/Ye(),d=()=>er(n().toHsv().v*100),h=()=>er(n().toHsv().s*100),p=()=>1-s().c3y/Ye(),g=()=>new Ve({h:f()*360,s:100,l:50,a:p()}),m=()=>{const L=er(p()*100)/100;return`linear-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,${L}) 100%),
          linear-gradient(to right, rgba(255,255,255,${L}) 0%, ${g().toRgbString()} 100%), 
          linear-gradient(rgb(255,255,255) 0%, rgb(255,255,255) 100%)`},v=()=>{const L=n().toHsl(),I=n().toHsv(),E=er(L.h*360),_=a()==="hsl"?L.s:I.s,k=er(_*100),C=er(L.l*100),S=I.v*100;let P="black";if(C===100&&k===0)P=o().white;else if(C===0)P=o().black;else if(k===0)P=o().grey;else if(E<15||E>=345)P=o().red;else if(E>=15&&E<45)P=S>80&&k>80?o().orange:o().brown;else if(E>=45&&E<75){const A=E>46&&E<54&&S<80&&k>90,N=E>=54&&E<75&&S<80;P=A?o().gold:o().yellow,P=N?o().olive:P}else E>=75&&E<155?P=S<68?o().green:o().lime:E>=155&&E<175?P=o().teal:E>=175&&E<195?P=o().cyan:E>=195&&E<255?P=o().blue:E>=255&&E<270?P=o().violet:E>=270&&E<295?P=o().magenta:E>=295&&E<345&&(P=o().pink);return P},b=L=>{if(L.button!==0)return;const{currentTarget:I,target:E,pageX:_,pageY:k}=L,C=[...c.children],[S]=[...I.children],{left:P,top:A}=ew(S),{documentElement:N}=document,U=_-N.scrollLeft-P,V=k-N.scrollTop-A;r(S),C[0].contains(E)?x(U,V):C[1].contains(E)?O(V):C[2].contains(E)&&T(V),L.preventDefault()},y=L=>{const{pageX:I,pageY:E}=L;if(!t())return;const _=[...c.children],k=ew(t()),{documentElement:C}=document,S=I-C.scrollLeft-k.left,P=E-C.scrollTop-k.top;_[0].contains(t())?x(S,P):_[1].contains(t())?O(P):_[2].contains(t())&&T(P)},w=L=>{const{activeElement:I}=document;(["pointermove","touchmove"].includes(L.type)&&t()||I&&c.contains(I))&&(L.stopPropagation(),L.preventDefault())},$=L=>{const{target:I,code:E}=L;if(![Ou,Mo,Kp,Pa].includes(E))return;L.preventDefault();const _=[...c.children],{activeElement:k}=document,C=Ye()/360,S=s();if(k===I){if(_[0].contains(I)){const P=Ye()/100;if([Kp,Pa].includes(E)){const A=S.c1x+(E===Pa?P:-P);x(A,S.c1y)}else if([Ou,Mo].includes(E)){const A=S.c1y+(E===Mo?C:-C);x(S.c1x,A)}}else if(_[1].contains(I)){const P=S.c2y+([Mo,Pa].includes(E)?C:-C);O(P)}else if(_[2].contains(I)){const P=S.c3y+([Mo,Pa].includes(E)?C:-C);T(P)}w(L)}},x=(L,I)=>{let[E,_]=[0,0];L>Ye()?E=Ye():L>=0&&(E=L),I>Ye()?_=Ye():I>=0&&(_=I);const k=s(),C=k.c2y/Ye(),S=E/Ye(),P=1-_/Ye(),A=1-k.c3y/Ye(),N=new Ve({h:C*360,s:S*100,v:P*100,a:A},a());i(N),l(U=>({...U,c1x:E,c1y:_}))},O=L=>{let I=0;L>Ye()?I=Ye():L>=0&&(I=L);const E=s(),_=I/Ye(),k=E.c1x/Ye(),C=1-E.c1y/Ye(),S=1-E.c3y/Ye(),P=new Ve({h:_*360,s:k*100,v:C*100,a:S},a());i(P),l(A=>({...A,c2y:I}))},T=L=>{let I=0;L>Ye()?I=Ye():L>=0&&(I=L);const E=1-I/Ye(),_=new Ve(n().setAlpha(E),a());i(_),l(k=>({...k,c3y:I}))},D=L=>{(L?VL:WL)(document,"pointermove",y)};return oe(()=>{t()?D(!0):D(),be(D)}),(()=>{var L=gJ(),I=L.firstChild,E=I.firstChild,_=E.nextSibling,k=I.nextSibling,C=k.firstChild,S=C.nextSibling,P=k.nextSibling,A=P.firstChild,N=A.nextSibling,U=c;return typeof U=="function"?Ut(U,L):c=L,I.$$pointerdown=b,_.$$keydown=$,k.$$pointerdown=b,Z(C,"background",`linear-gradient(
    rgb(255, 0, 0) 0%, rgb(255, 255, 0) 16.67%, 
    rgb(0, 255, 0) 33.33%, 
    rgb(0, 255, 255) 50%, 
    rgb(0, 0, 255) 66.67%, 
    rgb(255, 0, 255) 83.33%, 
    rgb(255, 0, 0) 100%
  )`),S.$$keydown=$,P.$$pointerdown=b,N.$$keydown=$,ee(V=>{var ae=`color-controls ${a()}`,ne=m(),pe=`${o().lightnessLabel} &amp; ${o().saturationLabel}`,Se=`${d()}% &amp; ${h()}%`,qe=d(),J=`translate3d(${s().c1x-4}px, ${s().c1y-4}px, 0px)`,de=o().hueLabel,q=`${o().valueLabel}: ${u()}. ${o().appearanceLabel}: ${v()}.`,Q=`${er(f()*100)}`,ce=er(f()*100),H=`translate3d(0px, ${s().c2y-4}px, 0px)`,He=`linear-gradient(${g().setAlpha(1).toRgbString()} 0%, ${g().setAlpha(0).toRgbString()} 100%)`,Te=o().alphaLabel,se=`${er(p()*100)}%`,he=er(p()*100),nt=`translate3d(0px, ${s().c3y-4}px, 0px)`;return ae!==V.e&&Lr(L,V.e=ae),ne!==V.t&&Z(E,"background",V.t=ne),pe!==V.a&&z(_,"aria-label",V.a=pe),Se!==V.o&&z(_,"aria-valuetext",V.o=Se),qe!==V.i&&z(_,"aria-valuenow",V.i=qe),J!==V.n&&Z(_,"transform",V.n=J),de!==V.s&&z(S,"aria-label",V.s=de),q!==V.h&&z(S,"aria-description",V.h=q),Q!==V.r&&z(S,"aria-valuetext",V.r=Q),ce!==V.d&&z(S,"aria-valuenow",V.d=ce),H!==V.l&&Z(S,"transform",V.l=H),He!==V.u&&Z(A,"background",V.u=He),Te!==V.c&&z(N,"aria-label",V.c=Te),se!==V.w&&z(N,"aria-valuetext",V.w=se),he!==V.m&&z(N,"aria-valuenow",V.m=he),nt!==V.f&&Z(N,"transform",V.f=nt),V},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),L})()},TJ=e=>{const{locale:t,format:r,color:n,setColor:i,updateControlPositions:o}=la(),{id:a}=e,s=()=>{let{r:p,g,b:m,a:v}=n().toRgb();return[p,g,m]=[p,g,m].map(er),v=er(v*100),{r:p,g,b:m,a:v}},l=()=>{const{r:p,g,b:m}=s();return`${r().toUpperCase()}: ${p} ${g} ${m}`},c=p=>{i(p),o()},u=p=>c(new Ve({...s(),r:Number(p.currentTarget.value)},r())),f=p=>c(new Ve({...s(),g:Number(p.currentTarget.value)},r())),d=p=>c(new Ve({...s(),b:Number(p.currentTarget.value)},r())),h=p=>c(new Ve({...s(),a:Number(p.currentTarget.value)/100},r()));return(()=>{var p=mJ(),g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=m.nextSibling,w=y.nextSibling,$=w.firstChild,x=$.nextSibling,O=w.nextSibling,T=O.nextSibling,D=T.firstChild,L=D.nextSibling,I=T.nextSibling,E=I.nextSibling,_=E.firstChild,k=_.nextSibling,C=E.nextSibling,S=e.ref;return typeof S=="function"?Ut(S,p):e.ref=p,z(p,"id",`${a}-picker`),B(p,M(Bm,{stringValue:l}),g),z(m,"for",`color_rgb_red_${a}`),B(b,()=>t().redLabel),y.addEventListener("change",u),z(y,"id",`color_rgb_red_${a}`),z(y,"spellcheck",!1),z(w,"for",`color_rgb_green_${a}`),B(x,()=>t().greenLabel),O.addEventListener("change",f),z(O,"id",`color_rgb_green_${a}`),z(O,"spellcheck",!1),z(T,"for",`color_rgb_blue_${a}`),B(L,()=>t().blueLabel),I.addEventListener("change",d),z(I,"id",`color_rgb_blue_${a}`),z(I,"spellcheck",!1),z(E,"for",`color_rgb_alpha_${a}`),B(k,()=>t().alphaLabel),C.addEventListener("change",h),z(C,"id",`color_rgb_alpha_${a}`),z(C,"spellcheck",!1),ee(()=>Lr(p,`color-dropdown picker${e.class()}`)),ee(()=>y.value=s().r),ee(()=>O.value=s().g),ee(()=>I.value=s().b),ee(()=>C.value=s().a),p})()},CJ=e=>{const{format:t,locale:r,color:n,setColor:i,updateControlPositions:o}=la(),{id:a}=e,s=()=>{let{h:p,s:g,l:m,a:v}=n().toHsl();return[p,g,m]=[p,g,m].map((b,y)=>er(b*(y?100:360))),v=er(v*100),{h:p,s:g,l:m,a:v}},l=()=>{const{h:p,s:g,l:m}=s();return`${t().toUpperCase()}: ${p} ${g}% ${m}%`},c=p=>{i(p),o()},u=p=>c(new Ve({...s(),h:Number(p.currentTarget.value)},t())),f=p=>c(new Ve({...s(),s:Number(p.currentTarget.value)},t())),d=p=>c(new Ve({...s(),l:Number(p.currentTarget.value)},t())),h=p=>c(new Ve({...s(),a:Number(p.currentTarget.value)/100},t()));return(()=>{var p=vJ(),g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=m.nextSibling,w=y.nextSibling,$=w.firstChild,x=$.nextSibling,O=w.nextSibling,T=O.nextSibling,D=T.firstChild,L=D.nextSibling,I=T.nextSibling,E=I.nextSibling,_=E.firstChild,k=_.nextSibling,C=E.nextSibling,S=e.ref;return typeof S=="function"?Ut(S,p):e.ref=p,z(p,"id",`${a}-picker`),B(p,M(Bm,{stringValue:l}),g),z(m,"for",`color_hsl_hue_${a}`),B(b,()=>r().hueLabel),y.addEventListener("change",u),z(y,"id",`color_hsl_hue_${a}`),z(y,"spellcheck",!1),z(w,"for",`color_hsl_saturation_${a}`),B(x,()=>r().saturationLabel),O.addEventListener("change",f),z(O,"id",`color_hsl_saturation_${a}`),z(O,"spellcheck",!1),z(T,"for",`color_hsl_lightness_${a}`),B(L,()=>r().lightnessLabel),I.addEventListener("change",d),z(I,"id",`color_hsl_lightness_${a}`),z(I,"spellcheck",!1),z(E,"for",`color_hsl_alpha_${a}`),B(k,()=>r().alphaLabel),C.addEventListener("change",h),z(C,"id",`color_hsl_alpha_${a}`),z(C,"spellcheck",!1),ee(()=>Lr(p,`color-dropdown picker${e.class()}`)),ee(()=>y.value=s().h),ee(()=>O.value=s().s),ee(()=>I.value=s().l),ee(()=>C.value=s().a),p})()},EJ=e=>{const{locale:t,format:r,color:n,setColor:i,updateControlPositions:o}=la(),{id:a}=e,s=()=>{let{h:p,w:g,b:m,a:v}=n().toHwb();return[p,g,m]=[p,g,m].map((b,y)=>er(b*(y?100:360))),v=er(v*100),{h:p,w:g,b:m,a:v}},l=()=>{const{h:p,w:g,b:m}=s();return`${r().toUpperCase()}: ${p} ${g}% ${m}%`},c=p=>{i(p),o()},u=p=>c(new Ve({...s(),h:Number(p.currentTarget.value)},r())),f=p=>c(new Ve({...s(),w:Number(p.currentTarget.value)},r())),d=p=>c(new Ve({...s(),b:Number(p.currentTarget.value)},r())),h=p=>c(new Ve({...s(),a:Number(p.currentTarget.value)/100},r()));return(()=>{var p=bJ(),g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=m.nextSibling,w=y.nextSibling,$=w.firstChild,x=$.nextSibling,O=w.nextSibling,T=O.nextSibling,D=T.firstChild,L=D.nextSibling,I=T.nextSibling,E=I.nextSibling,_=E.firstChild,k=_.nextSibling,C=E.nextSibling,S=e.ref;return typeof S=="function"?Ut(S,p):e.ref=p,z(p,"id",`${a}-picker`),B(p,M(Bm,{stringValue:l}),g),z(m,"for",`color_hwb_hue_${a}`),B(b,()=>t().hueLabel),y.addEventListener("change",u),z(y,"id",`color_hwb_hue_${a}`),z(y,"spellcheck",!1),z(w,"for",`color_hwb_whiteness_${a}`),B(x,()=>t().whitenessLabel),O.addEventListener("change",f),z(O,"id",`color_hwb_whiteness_${a}`),z(O,"spellcheck",!1),z(T,"for",`color_hwb_blackness-${a}`),B(L,()=>t().blacknessLabel),I.addEventListener("change",d),z(I,"id",`color_hwb_blackness-${a}`),z(I,"spellcheck",!1),z(E,"for",`color_hwb_alpha_${a}`),B(k,()=>t().alphaLabel),C.addEventListener("change",h),z(C,"id",`color_hwb_alpha_${a}`),z(C,"spellcheck",!1),ee(()=>Lr(p,`color-dropdown picker${e.class()}`)),ee(()=>y.value=s().h),ee(()=>O.value=s().w),ee(()=>I.value=s().b),ee(()=>C.value=s().a),p})()},MJ=e=>{const{format:t,locale:r,color:n,setColor:i,updateControlPositions:o}=la(),{id:a}=e,s=()=>n().toHex(),l=()=>`${r().hexLabel}: ${s().toUpperCase()}`,c=u=>{const f=u.currentTarget.value,d=new Ve(f,t());f&&f.length&&d.isValid&&(i(d),o())};return(()=>{var u=yJ(),f=u.firstChild,d=f.firstChild,h=d.firstChild,p=h.nextSibling,g=d.nextSibling,m=e.ref;return typeof m=="function"?Ut(m,u):e.ref=u,z(u,"id",`${a}-picker`),B(u,M(Bm,{stringValue:l}),f),B(p,()=>r().hexLabel),g.addEventListener("change",c),z(g,"id",`color_hex_${a}`),z(g,"spellcheck",!1),ee(()=>Lr(u,`color-dropdown picker${e.class()}`)),ee(()=>g.value=s()),u})()},AJ={rgb:TJ,hex:MJ,hsl:CJ,hwb:EJ},IJ=e=>{const{format:t}=la(),r=()=>M(AJ[t()],e),[n,i]=Y(r());return oe(()=>i(r())),M($K,{get children(){return n()}})},PJ=IJ,{ColorPalette:_J}=Or,DJ=e=>{const[t,r]=Ae(e,["colorPresets"]),{locale:n,value:i,setColor:o,format:a}=la(),s=()=>new _J(t.colorPresets().hue,t.colorPresets().hueSteps,t.colorPresets().lightSteps,t.colorPresets().saturation).colors,l=()=>s().length,c=()=>t.colorPresets().lightSteps,u=()=>l()>c(),f=()=>u()&&l()>c()*4?5:u()&&l()>c()*3?4:u()&&l()>c()*2?3:2,d=()=>f()-(l()<=c()*3?1:2),h=()=>"color-options"+(u()&&l()>d()*c()?" scrollable":"")+(u()?" multiline":""),p=()=>{const g=u()?"1px":"0.25rem",m=c()>5&&u()?1.5:u()?1.75:2,v=`${d()*m}rem`,b=`calc(${f()} * ${m}rem + ${f()-1} * ${g})`;return{"--grid-item-size":`${m}rem`,"--grid-fit":c(),"--grid-gap":g,"--grid-height":v,"--grid-hover-height":b}};return(()=>{var g=$J();return sa(g,"keydown",r.keyHandler,!0),B(g,M(yt,{get each(){return s()},children:m=>{const v=()=>new Ve(m,a()),b=()=>v().toString(),y=()=>b()===i(),w=()=>`color-option${y()?" active":""}`;return(()=>{var $=pN();return $.$$click=()=>o(v()),B($,b),ee(x=>{var O=y(),T=w(),D=b(),L=m.toRgbString();return O!==x.e&&z($,"aria-selected",x.e=O),T!==x.t&&Lr($,x.t=T),D!==x.a&&z($,"data-value",x.a=D),L!==x.o&&Z($,"background-color",x.o=L),x},{e:void 0,t:void 0,a:void 0,o:void 0}),$})()}})),ee(m=>{var v=h(),b=n().presetsLabel,y=p();return v!==m.e&&Lr(g,m.e=v),b!==m.t&&z(g,"aria-label",m.t=b),m.a=Lm(g,y,m.a),m},{e:void 0,t:void 0,a:void 0}),g})()},LJ=e=>{const[t,r]=Ae(e,["colorKeywords"]),{locale:n,value:i,setColor:o,format:a}=la();return(()=>{var s=wJ();return sa(s,"keydown",r.keyHandler,!0),B(s,M(yt,{get each(){return t.colorKeywords()},children:l=>{const[c,u]=typeof l=="string"?[l,l]:IY(l)[0],f=()=>[l,u].some(h=>h===i()),d=()=>`color-option${f()?" active":""}`;return(()=>{var h=pN();return h.$$click=()=>o(new Ve(u,a())),z(h,"data-value",u),B(h,c),ee(p=>{var g=d(),m=f();return g!==p.e&&Lr(h,p.e=g),m!==p.t&&z(h,"aria-selected",p.t=m),p},{e:void 0,t:void 0}),h})()}})),ee(()=>z(s,"aria-label",n().defaultsLabel)),s})()},NJ=e=>{const[t,r]=Ae(e,["id","class","ref","toggleMenu","expanded","locale"]),n=()=>`${t.id}-menu`,i=()=>`color-dropdown menu${t.class()}`,o=a=>{const{target:s,currentTarget:l,code:c}=a,{previousElementSibling:u,nextElementSibling:f,parentElement:d}=s,h=TY(l,"color-options"),p=[...d.children],g=h&&Number(Qu(d,"--grid-fit")||0)||0,m=p.indexOf(s),v=m>-1&&g&&p[m-g],b=m>-1&&g&&p[m+g];[Mo,Ou,HC].includes(c)&&a.preventDefault(),h?v&&c===Ou?Aa(v):b&&c===Mo?Aa(b):u&&c===Kp?Aa(u):f&&c===Pa&&Aa(f):u&&[Kp,Ou].includes(c)?Aa(u):f&&[Pa,Mo].includes(c)&&Aa(f),[HL,HC,"NumpadEnter"].includes(c)&&s.click()};return M(Tt,{get when(){return r.colorKeywords()||r.colorPresets()},get children(){return[(()=>{var a=xJ(),s=a.firstChild;return sa(a,"click",t.toggleMenu,!0),B(s,()=>t.locale().toggleLabel),ee(l=>{var c=t.expanded?0:-1,u=t.expanded;return c!==l.e&&z(a,"tabindex",l.e=c),u!==l.t&&z(a,"aria-expanded",l.t=u),l},{e:void 0,t:void 0}),a})(),(()=>{var a=SJ(),s=t.ref;return typeof s=="function"?Ut(s,a):t.ref=a,B(a,M(Tt,{get when(){return pt(()=>typeof r.colorPresets<"u")()&&r.colorPresets()},get children(){return M(DJ,{get colorPresets(){return r.colorPresets},keyHandler:o})}}),null),B(a,M(Tt,{get when(){return pt(()=>typeof r.colorKeywords<"u")()&&r.colorKeywords()},get children(){return M(LJ,{get colorKeywords(){return r.colorKeywords},keyHandler:o})}}),null),ee(l=>{var c=n(),u=i();return c!==l.e&&z(a,"id",l.e=c),u!==l.t&&Lr(a,l.t=u),l},{e:void 0,t:void 0}),a})()]}})},RJ=NJ,FJ={c1x:0,c1y:0,c2y:0,c3y:0},jJ=FJ,BJ={white:"white",black:"black",grey:"grey",red:"red",orange:"orange",brown:"brown",gold:"gold",olive:"olive",yellow:"yellow",lime:"lime",green:"green",teal:"teal",cyan:"cyan",blue:"blue",violet:"violet",magenta:"magenta",pink:"pink",pickerLabel:"Colour Picker",appearanceLabel:"Colour Appearance",valueLabel:"Colour Value",toggleLabel:"Select Colour",placeholder:"Type colour value in % format",presetsLabel:"Colour Presets",defaultsLabel:"Colour Defaults",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadecimal",hueLabel:"Hue",whitenessLabel:"Whiteness",blacknessLabel:"Blackness",saturationLabel:"Saturation",lightnessLabel:"Lightness",redLabel:"Red",greenLabel:"Green",blueLabel:"Blue"},zJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:" ",appearanceLabel:"  ",valueLabel:" ",toggleLabel:" ",placeholder:"     %",presetsLabel:" ",defaultsLabel:"   ",formatLabel:"",alphaLabel:"",hexLabel:"",hueLabel:"",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},HJ={white:"blanc",black:"noir",grey:"gris",red:"rouge",orange:"orange",brown:"marron",gold:"or",olive:"olive",yellow:"jaune",lime:"citron",green:"vert",teal:"sarcelle",cyan:"cyan",blue:"bleu",violet:"violet",magenta:"magenta",pink:"rose",pickerLabel:"Slecteur de couleur",appearanceLabel:"Apparence de la couleur",valueLabel:"Valeur de la couleur",toggleLabel:"Slectionner la couleur",placeholder:"Tapez la valeur de la couleur en format %",presetsLabel:"Prrglages de couleur",defaultsLabel:"Couleurs par dfaut",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadcimal",hueLabel:"Teinte",whitenessLabel:"Blancheur",blacknessLabel:"Noirceur",saturationLabel:"Saturation",lightnessLabel:"Luminosit",redLabel:"Rouge",greenLabel:"Vert",blueLabel:"Bleu"},UJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:" ",appearanceLabel:" ",valueLabel:" ",toggleLabel:" ",placeholder:"    %",presetsLabel:"  ",defaultsLabel:" ",formatLabel:"",alphaLabel:"",hexLabel:" ",hueLabel:" ",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},VJ={white:"alb",black:"negru",grey:"gri",red:"rou",orange:"portocaliu",brown:"maro",gold:"auriu",olive:"msliniu",yellow:"galben",lime:"lmi",green:"verde",teal:"turcoaz",cyan:"cian",blue:"albastru",violet:"violet",magenta:"magenta",pink:"roz",pickerLabel:"Panel de culori",appearanceLabel:"Aparena vizual",valueLabel:"Valoarea actual",toggleLabel:"Selecteaz culoare",placeholder:"Tasteaz culoare n format %",presetsLabel:"Culori prestabilite",defaultsLabel:"Valori implicite",formatLabel:"Format",alphaLabel:"Alfa",hexLabel:"Hexazecimal",whitenessLabel:"Alb",blacknessLabel:"Negru",hueLabel:"Nuan",saturationLabel:"Saturaie",lightnessLabel:"Luminozitate",redLabel:"Rou",greenLabel:"Verde",blueLabel:"Albastru"},WJ={white:"wei",black:"schwarz",grey:"grau",red:"rot",orange:"orange",brown:"braun",gold:"gold",olive:"olivgrn",yellow:"gelb",lime:"limone",green:"grn",teal:"krickente",cyan:"zyan",blue:"blau",violet:"violett",magenta:"magenta",pink:"rosa",pickerLabel:"Farbauswahl",appearanceLabel:"Farberscheinung",valueLabel:"Farbwert",toggleLabel:"Farbe auswhlen",placeholder:"Geben Sie den Farbwert im %-Format ein",presetsLabel:"Farbvoreinstellungen",defaultsLabel:"Farbstandards",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadezimal",hueLabel:"Farbton",whitenessLabel:"Weigrad",blacknessLabel:"Schwarzgrad",saturationLabel:"Sttigung",lightnessLabel:"Helligkeit",redLabel:"Rot",greenLabel:"Grn",blueLabel:"Blau"},KJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:"",appearanceLabel:"",valueLabel:"",toggleLabel:"",placeholder:"%",presetsLabel:"",defaultsLabel:"",formatLabel:"",alphaLabel:"",hexLabel:"",hueLabel:"",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},GJ={white:"blanco",black:"negro",grey:"gris",red:"rojo",orange:"naranja",brown:"marrn",gold:"oro",olive:"aceituna",yellow:"amarillo",lime:"lima",green:"verde",teal:"cerceta",cyan:"cian",blue:"azul",violet:"violeta",magenta:"magenta",pink:"rosado",pickerLabel:"Selector de color",appearanceLabel:"Apariencia de color",valueLabel:"Valor de color",toggleLabel:"Seleccionar color",placeholder:"Escriba el valor del color en formato %",presetsLabel:"Ajustes preestablecidos de color",defaultsLabel:"Valores predeterminados de color",formatLabel:"Formato",alphaLabel:"Alfabeto",hexLabel:"Hexadecimal",hueLabel:"Tinte",whitenessLabel:"Blancura",blacknessLabel:"Negrura",saturationLabel:"Saturacin",lightnessLabel:"Ligereza",redLabel:"Rojo",greenLabel:"Verde",blueLabel:"Azul"},qJ={white:"Branco",black:"preto",grey:"cinzento",red:"vermelho",orange:"laranja",brown:"castanho",gold:"ouro",olive:"azeitona",yellow:"amarelo",lime:"cal",green:"verde",teal:"azul-marinho",cyan:"ciano",blue:"azul",violet:"violeta",magenta:"magenta",pink:"pink",pickerLabel:"Seletor de cores",appearanceLabel:"Aparncia da cor",valueLabel:"Valor da cor",toggleLabel:"Selecionar Cor",placeholder:"Digite o valor da cor no formato %",presetsLabel:"Predefinies de cor",defaultsLabel:"Padres de cor",formatLabel:"Formato",alphaLabel:"Alfa",hexLabel:"Hexadecimal",hueLabel:"Matiz",whitenessLabel:"Brancura",blacknessLabel:"Negritude",saturationLabel:"Saturao",lightnessLabel:"Leveza",redLabel:"Vermelho",greenLabel:"Verde",blueLabel:"Azul"},YJ={white:"biay",black:"czarny",grey:"szary",red:"czerwony",orange:"pomaraczowy",brown:"brzowy",gold:"zoto",olive:"oliwka",yellow:"ty",lime:"wapno",green:"zielony",teal:"turkus",cyan:"cyan",blue:"niebieski",violet:"fiolet",magenta:"purpura",pink:"rowy",pickerLabel:"Wybr koloru",appearanceLabel:"Wygld koloru",valueLabel:"Warto koloru",toggleLabel:"Wybierz kolor",placeholder:"Wpisz warto koloru w formacie %",presetsLabel:"Predefiniowane kolory",defaultsLabel:"Domylne kolory",formatLabel:"Format",alphaLabel:"Alfa",hexLabel:"Heksadecymalny",hueLabel:"Barwa",whitenessLabel:"Biela",blacknessLabel:"Czer",saturationLabel:"Nasycenie",lightnessLabel:"Jasno",redLabel:"Czerwony",greenLabel:"Zielony",blueLabel:"Niebieski"},JJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:"",appearanceLabel:"",valueLabel:"",toggleLabel:"",placeholder:"%",presetsLabel:"",defaultsLabel:"",formatLabel:"",alphaLabel:"",hexLabel:"",hueLabel:"",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},XJ={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:" ",appearanceLabel:" ",valueLabel:" ",toggleLabel:" ",placeholder:"%    ",presetsLabel:"  ",defaultsLabel:" ",formatLabel:" ",alphaLabel:" ",hexLabel:" ",hueLabel:" ",whitenessLabel:" ",blacknessLabel:"blackness ",saturationLabel:" ",lightnessLabel:" ",redLabel:" ",greenLabel:" ",blueLabel:""},mN={en:BJ,ru:zJ,ar:UJ,fr:HJ,de:WJ,ro:VJ,es:GJ,pt:qJ,pl:YJ,zh:KJ,ja:JJ,ko:XJ},fw=e=>mN[e||"en"],QJ={value:"rgb(255,0,0)",placeholder:fw("en").placeholder,format:"rgb",lang:"en",theme:"dark"},Dd=QJ,cE=0,ZJ=e=>{const t=e.id?e.id:`color-picker-${cE}`,r=()=>e.lang||Dd.lang,n=()=>e.theme||Dd.theme,i=()=>e.format||Dd.format,o=()=>e.value||Dd.value,a=()=>e.colorPresets,s=()=>e.colorKeywords,l=()=>e.placeholder?e.placeholder:I().placeholder.replace(/%/g,i().toUpperCase()),[c,u]=Y(o()),[f,d]=Y(o()),[h,p]=Y(new Ve(o(),i())),[g,m]=Y(void 0),[v,b]=Y(void 0),[y,w]=Y(!1),[$,x]=Y(!1),[O,T]=Y(""),[D,L]=Y(jJ),I=me(()=>{if(r()!=="en"&&VC(mN).includes(r()))return fw(r());const se=fw(r());return e.locale&&VC(e.locale).length===35&&CY(se,e.locale),se}),E=()=>{const se=new Ve(f());return se.isDark&&se.a>.33},_=()=>["color-picker",e.class?e.class.split(/\s/):"",E()?"txt-dark":"txt-light",n()==="light"?" light":"",g()?"open":""].filter(se=>se).join(" ");cE+=1;let k,C,S,P;const A=()=>`${g()===C?" "+O():""}${y()?" show":""}`,N=()=>`${g()===S?" "+O():""}${$()?" show":""}`,U=()=>{m(S),T("bottom"),setTimeout(()=>{x(!0),Md(S),q(),w(!1)},17)},V=()=>{x(!1),Md(S),UC(S,H)},ae=()=>{y()?Se():$()&&V()},ne=()=>{g()!==S?U():V()},pe=()=>{m(C),T("bottom"),Q(),setTimeout(()=>{w(!0),Md(C),q(),x(!1),P.focus()},17)},Se=()=>{w(!1),Md(C),UC(C,H)},qe=({currentTarget:se,relatedTarget:he})=>{he&&!se.contains(he)&&ae()},J=se=>{g()&&se.key===SY&&ae()},de=se=>{const he=document.getSelection();!v()&&(!he||!he.toString().length)&&!k.contains(se.target)&&ae(),b()},q=()=>{const se=ew(P),{top:he,bottom:nt}=se,{offsetHeight:ht}=P,{clientHeight:$a}=document.documentElement,Br=g();if(!Br)return;const{offsetHeight:Ue}=Br,zr=$a-nt,wa=he,$o=he+Ue+ht>$a;!(he-Ue<0)&&$o||zr<wa?T("top"):T("bottom")},Q=()=>{const{h:se,s:he,v:nt}=h().toHsv(),ht=h().a;L({c1x:he*Ye(),c1y:(1-nt)*Ye(),c2y:se*Ye(),c3y:(1-ht)*Ye()})},ce=se=>{const he=se?VL:WL;he(window,"scroll",q),he(window,"resize",Q),he(document,"keyup",J),he(document,"pointerup",de)},H=()=>{T(""),m(),Aa(P.previousElementSibling),u(f())},He=se=>{u(se.currentTarget.value)},Te=se=>{if(se.key===HL){let he=se.currentTarget.value;Ve.isNonColor(he)&&(he=he==="transparent"?"rgba(0,0,0,0)":"rgb(0,0,0)");const nt=new Ve(he,i());he.length&&nt.isValid&&(p(nt),Q())}};return oe(()=>{y()||$()?ce(!0):ce(),be(ce)}),oe(hi(i,se=>{p(new Ve(f(),se)),Q()})),oe(hi(h,se=>{const he=se.toString();d(he),u(he),typeof e.onChange=="function"&&e.onChange(he)})),M(gN.Provider,{value:{format:i,locale:I,value:f,setValue:d,setInputValue:u,color:h,setColor:p,drag:v,setDrag:b,controlPositions:D,setControlPositions:L,updateControlPositions:Q},get children(){var se=kJ(),he=se.firstChild,nt=he.firstChild,ht=he.nextSibling;se.addEventListener("blur",qe);var $a=k;typeof $a=="function"?Ut($a,se):k=se,he.$$click=pe,B(nt,()=>`${I().pickerLabel}. ${I().formatLabel}: ${i().toUpperCase()}`),ht.$$keyup=Te,ht.addEventListener("change",He),ht.addEventListener("focus",pe);var Br=P;return typeof Br=="function"?Ut(Br,ht):P=ht,z(ht,"name",t),z(ht,"id",t),z(ht,"spellcheck",!1),B(se,M(PJ,{id:t,class:A,ref(Ue){var zr=C;typeof zr=="function"?zr(Ue):C=Ue}}),null),B(se,M(RJ,{id:t,class:N,ref(Ue){var zr=S;typeof zr=="function"?zr(Ue):S=Ue},colorPresets:a,colorKeywords:s,get expanded(){return $()||y()},locale:I,toggleMenu:ne}),null),ee(Ue=>{var zr=_(),wa=r(),$o=y(),Bs=y()?-1:0,Sc=l(),kc=f();return zr!==Ue.e&&Lr(se,Ue.e=zr),wa!==Ue.t&&z(se,"lang",Ue.t=wa),$o!==Ue.a&&z(he,"aria-expanded",Ue.a=$o),Bs!==Ue.o&&z(ht,"tabindex",Ue.o=Bs),Sc!==Ue.i&&z(ht,"placeholder",Ue.i=Sc),kc!==Ue.n&&Z(ht,"background-color",Ue.n=kc),Ue},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),ee(()=>ht.value=c()),se}})},dw=ZJ;/* istanbul ignore else @preserve */// istanbul ignore next @preserve
/* istanbul ignore next @preserve */// istanbul ignore else @preserve
Ct(["pointerdown","keydown","click","keyup"]);var eX=W('<div><div id=colorSelectMenu class="border border-border p-4 w-fit bg-card space-y-4"><div class="flex space-x-4"><div class="flex items-center justify-center w-1/2 p-2 aspect-2/1 rounded cursor-pointer transition-colors duration-200 ease-in-out hover:bg-primary">bg</div><div class="flex items-center justify-center w-1/2 p-2 aspect-2/1 rounded cursor-pointer transition-colors duration-200 ease-in-out hover:bg-primary">strip'),tX=W('<div class=space-y-2><div class="grid grid-cols-5 gap-2"></div><div class="w-full border-t border-border"></div><div class="grid grid-cols-5 gap-2"></div><div class="w-full border-t border-border"></div><div class="grid grid-cols-5 gap-2">'),rX=W('<div class="border border-border hover:border-foreground/70 cursor-pointer w-10 aspect-3/2 p-2">'),nX=W('<div class="border border-border hover:border-foreground/70 cursor-pointer bg-accent w-10 aspect-3/2 flex items-center justify-center">A'),iX=W('<div class="border border-border hover:border-foreground/70 cursor-pointer w-10 aspect-3/2 flex items-center justify-center">A'),oX=W('<div class=space-y-2><div class="grid grid-cols-5 gap-2"><div class="relative border border-border hover:border-foreground/70 cursor-pointer w-10 aspect-[3/2] bg-transparent"><div class="absolute top-1/2 left-1/2 w-[120%] h-[2px] bg-destructive rotate-30 -translate-x-1/2 -translate-y-1/2">'),aX=W('<div class="border border-transparent hover:border-foreground/70 cursor-pointer w-10 aspect-3/2 p-2">');const vN=[getComputedStyle(document.documentElement).getPropertyValue("--color-card").trim(),"#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"],sX=[getComputedStyle(document.documentElement).getPropertyValue("--color-foreground").trim(),"#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"],lX=[{bg:getComputedStyle(document.documentElement).getPropertyValue("--color-card").trim(),fg:getComputedStyle(document.documentElement).getPropertyValue("--color-foreground").trim()},{bg:"#F59E0B",fg:"#8B5CF6"},{bg:"#EF4444",fg:"#8B5CF6"}],cX=()=>{const[e,t]=Y(0),r=[M(dX,{}),M(hX,{})];return(()=>{var n=eX(),i=n.firstChild,o=i.firstChild,a=o.firstChild,s=a.nextSibling;return a.$$click=()=>t(0),s.$$click=()=>t(1),B(i,M(nL,{get component(){return r[e()]}}),null),ee(l=>{var c=`z-50 transition-all duration-200 ease-in-out absolute top-4 left-4 [box-shadow:5px_5px_var(--color-primary)]
          ${F.showColorMenu?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,u=e()===0,f=e()===1;return c!==l.e&&Lr(n,l.e=c),u!==l.t&&a.classList.toggle("bg-primary",l.t=u),f!==l.a&&s.classList.toggle("bg-primary",l.a=f),l},{e:void 0,t:void 0,a:void 0}),n})()},uE=e=>{F.selectedNodes.forEach(t=>{Xu(t,"bg",e)})},fE=e=>{F.selectedNodes.forEach(t=>{Xu(t,"fg",e)})},uX=e=>{F.selectedNodes.forEach(t=>{Xu(t,"bg",e.bg),Xu(t,"fg",e.fg)})},fX=e=>{F.selectedNodes.forEach(t=>{Xu(t,"strip",e)})},dX=()=>(()=>{var e=tX(),t=e.firstChild,r=t.nextSibling,n=r.nextSibling,i=n.nextSibling,o=i.nextSibling;return B(t,M(yt,{each:vN,children:a=>(()=>{var s=rX();return s.$$click=()=>uE(a),Z(s,"background",a),s})()})),B(e,M(dw,{value:"rgb(25,25,25)",onChange:a=>uE(a)}),r),B(n,M(yt,{each:sX,children:a=>(()=>{var s=nX();return s.$$click=()=>fE(a),Z(s,"color",a),s})()})),B(e,M(dw,{value:"rgb(25,25,25)",onChange:a=>fE(a)}),i),B(o,M(yt,{each:lX,children:a=>(()=>{var s=iX();return s.$$click=()=>uX(a),ee(l=>{var c=a.fg,u=a.bg;return c!==l.e&&Z(s,"color",l.e=c),u!==l.t&&Z(s,"background",l.t=u),l},{e:void 0,t:void 0}),s})()})),e})(),hX=()=>(()=>{var e=oX(),t=e.firstChild,r=t.firstChild;return r.$$click=()=>dY(),B(t,M(yt,{each:vN,children:n=>(()=>{var i=aX();return i.$$click=()=>fX(n),Z(i,"background",n),i})()}),null),B(e,M(dw,{value:"rgb(25,25,25)",onChange:n=>console.log(n)}),null),e})();Ct(["click"]);var pX=W('<div id=controls class="flex flex-row items-center justify-center absolute left-2.5 bottom-2.5 z-50"><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-l-md">-</div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2">%</div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-r-md">+');const gX=()=>{function e(t){let r=F.viewport.scale;if(t>0){if(r<=.7)return;r-=.1}else{if(r>=1.5)return;r+=.1}le("viewport",{scale:r}),wt()}return(()=>{var t=pX(),r=t.firstChild,n=r.nextSibling,i=n.firstChild,o=n.nextSibling;return r.$$click=()=>e(-1),B(n,()=>Math.round(F.viewport.scale*100),i),o.$$click=()=>e(1),t})()};Ct(["click"]);var mX=W('<svg class="size-full pointer-events-none absolute top-0 left-0"><path fill=none></path><circle r=4 fill=black></circle><circle r=4 fill=black>');function vX(e){const[t,r]=Y({x:0,y:0}),[n,i]=Y({x:0,y:0}),o=()=>{const s=Qr(e.srcNodeId),l=Qr(e.distNodeId);if(!s||!l)return;const c={x:s.x+(s.width??300)/2,y:s.y},u={x:l.x+(l.width??300)/2,y:l.y};r(c),i(u)};Vt(()=>{o();const s=setInterval(o,100);be(()=>clearInterval(s))});const a=()=>{const s=t(),l=n(),c=(s.x+l.x)/2;return`M ${s.x} ${s.y} L ${c} ${s.y} L ${c} ${l.y} L ${l.x} ${l.y}`};return(()=>{var s=mX(),l=s.firstChild,c=l.nextSibling,u=c.nextSibling;return ee(f=>{var d=a(),h=e.color??"blue",p=e.stroke??2,g=t().x,m=t().y,v=n().x,b=n().y;return d!==f.e&&z(l,"d",f.e=d),h!==f.t&&z(l,"stroke",f.t=h),p!==f.a&&z(l,"stroke-width",f.a=p),g!==f.o&&z(c,"cx",f.o=g),m!==f.i&&z(c,"cy",f.i=m),v!==f.n&&z(u,"cx",f.n=v),b!==f.s&&z(u,"cy",f.s=b),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),s})()}var bX=W("<svg class=size-full><path stroke=blue fill=transparent stroke-width=2></path><line stroke=red stroke-dasharray=3></line><line stroke=blue stroke-dasharray=3></line><circle r=8 fill=red cursor=pointer></circle><circle r=5 fill=green></circle><circle r=5 fill=green>");function yX(e){const[t,r]=Y({x:0,y:0}),[n,i]=Y({x:0,y:0}),[o,a]=Y({x:0,y:0}),[s,l]=Y(!1),c=()=>{const g=Qr(e.srcNodeId),m=Qr(e.distNodeId);if(!g||!m)return;const v={x:g.x+(g.width??300)/2,y:g.y},b={x:m.x+(g.width??300)/2,y:m.y};r(v),i(b),a({x:(v.x+b.x)/2,y:Math.min(v.y,b.y)-200})};Vt(()=>{c();const g=setInterval(c,0);be(()=>clearInterval(g))});const u=g=>{const m=g.currentTarget.closest("svg"),v=m.createSVGPoint();v.x=g.clientX,v.y=g.clientY;const b=v.matrixTransform(m.getScreenCTM().inverse());return{x:b.x,y:b.y}},f=()=>l(!0),d=()=>l(!1),h=g=>{s()&&a(u(g))},p=()=>`M ${t().x} ${t().y} Q ${o().x} ${o().y} ${n().x} ${n().y}`;return(()=>{var g=bX(),m=g.firstChild,v=m.nextSibling,b=v.nextSibling,y=b.nextSibling,w=y.nextSibling,$=w.nextSibling;return g.$$mouseup=d,g.$$mousemove=h,y.$$mousedown=f,ee(x=>{var O=p(),T=t().x,D=t().y,L=o().x,I=o().y,E=n().x,_=n().y,k=o().x,C=o().y,S=o().x,P=o().y,A=t().x,N=t().y,U=n().x,V=n().y;return O!==x.e&&z(m,"d",x.e=O),T!==x.t&&z(v,"x1",x.t=T),D!==x.a&&z(v,"y1",x.a=D),L!==x.o&&z(v,"x2",x.o=L),I!==x.i&&z(v,"y2",x.i=I),E!==x.n&&z(b,"x1",x.n=E),_!==x.s&&z(b,"y1",x.s=_),k!==x.h&&z(b,"x2",x.h=k),C!==x.r&&z(b,"y2",x.r=C),S!==x.d&&z(y,"cx",x.d=S),P!==x.l&&z(y,"cy",x.l=P),A!==x.u&&z(w,"cx",x.u=A),N!==x.c&&z(w,"cy",x.c=N),U!==x.w&&z($,"cx",x.w=U),V!==x.m&&z($,"cy",x.m=V),x},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),g})()}Ct(["mousemove","mouseup","mousedown"]);var $X=W('<svg class="size-full pointer-events-none absolute top-0 left-0"><path fill=none></path><circle r=4 fill=black></circle><circle r=4 fill=black>');function wX(e){const[t,r]=Y({x:0,y:0}),[n,i]=Y({x:0,y:0}),o=()=>{const s=Qr(e.srcNodeId),l=Qr(e.distNodeId);if(!s||!l)return;const c={x:s.x+(s.width??300)/2,y:s.y+(s.height??150)/2},u={x:l.x+(l.width??300)/2,y:l.y+(l.height??150)/2};r(c),i(u)};Vt(()=>{o();const s=setInterval(o,100);be(()=>clearInterval(s))});const a=()=>{const s=t(),l=n();return`M ${s.x} ${s.y} L ${l.x} ${l.y}`};return(()=>{var s=$X(),l=s.firstChild,c=l.nextSibling,u=c.nextSibling;return ee(f=>{var d=a(),h=e.color??"black",p=e.stroke??2,g=t().x,m=t().y,v=n().x,b=n().y;return d!==f.e&&z(l,"d",f.e=d),h!==f.t&&z(l,"stroke",f.t=h),p!==f.a&&z(l,"stroke-width",f.a=p),g!==f.o&&z(c,"cx",f.o=g),m!==f.i&&z(c,"cy",f.i=m),v!==f.n&&z(u,"cx",f.n=v),b!==f.s&&z(u,"cy",f.s=b),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),s})()}var xX=W("<div id=edges class=size-full>"),SX=W("<div>Not Found");const kX=()=>(()=>{var e=xX();return B(e,M(yt,{get each(){var t;return F.edges[((t=F.activeBoards.at(-1))==null?void 0:t.id)??"home"]},children:t=>M(sc,{get fallback(){return SX()},get children(){return[M(Fe,{get when(){return t.type===Jh.Bezier},get children(){return M(yX,t)}}),M(Fe,{get when(){return t.type===Jh.Straight},get children(){return M(wX,t)}}),M(Fe,{get when(){return t.type===Jh.Step},get children(){return M(vX,t)}})]}})})),e})();var dE;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(dE||(dE={}));async function OX(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await Ft("plugin:event|unlisten",{event:e,eventId:t})}async function TX(e,t,r){var n;const i=(n=void 0)!==null&&n!==void 0?n:{kind:"Any"};return Ft("plugin:event|listen",{event:e,target:i,handler:Bq(t)}).then(o=>async()=>OX(e,o))}let bN=class np extends zq{constructor(t){super(t)}static async new(t,r,n){return Ft("plugin:image|new",{rgba:hE(t),width:r,height:n}).then(i=>new np(i))}static async fromBytes(t){return Ft("plugin:image|from_bytes",{bytes:hE(t)}).then(r=>new np(r))}static async fromPath(t){return Ft("plugin:image|from_path",{path:t}).then(r=>new np(r))}async rgba(){return Ft("plugin:image|rgba",{rid:this.rid}).then(t=>new Uint8Array(t))}async size(){return Ft("plugin:image|size",{rid:this.rid})}};function hE(e){return e==null?null:typeof e=="string"?e:e instanceof bN?e.rid:e}async function CX(){return await Ft("plugin:clipboard-manager|read_text")}async function EX(){return await Ft("plugin:clipboard-manager|read_image").then(e=>new bN(e))}var MX=W("<div id=eventhandler>");const AX=e=>(TX("tauri://drag-drop",t=>{console.log(t),rY(t)}),Vt(()=>{const t=async r=>{if(r.ctrlKey)switch(r.key){case"c":F.selectedNodes.forEach(o=>{let a=Qr(o);a&&le("copiedNodes",s=>[...s,a])});break;case"v":console.log("||||||||||||||||||||||||||||||||");const n=await CX();console.log(n),console.log("||||||||||||||||||||||||||||||||");const i=await EX();console.log(i),console.log("||||||||||||||||||||||||||||||||");break}else switch(r.key){case"Escape":le("selectedNodes",new Set);break;case"Delete":F.selectedNodes.forEach(n=>{Y$(n)});break;case"ArrowUp":Cd(0,-10);break;case"ArrowDown":Cd(0,10);break;case"ArrowLeft":Cd(-10,0);break;case"ArrowRight":Cd(10,0);break}};window.addEventListener("keydown",t),be(()=>{window.removeEventListener("keydown",t)})}),(()=>{var t=MX();return t.$$contextmenu=r=>{},B(t,()=>e.children),t})());Ct(["contextmenu"]);var IX=W('<div id=minimap class="absolute bottom-2.5 right-2.5 h-38 w-64 bg-primary p-2 z-[1000]"><div class="relative size-full border border-border bg-card z-[1000]"><div>');const PX=()=>(()=>{var e=IX(),t=e.firstChild,r=t.firstChild;return Z(r,"position","absolute"),Z(r,"top","50px"),Z(r,"left","10px"),Z(r,"width","20px"),Z(r,"height","20px"),Z(r,"background","#395"),e})();var _X=W("<div>Invalid icon name"),DX=W("<svg>");const yN=e=>{let t=e.width||32,r=e.height||32,n=e.icon_name,i=e.classes;const o=h=>getComputedStyle(document.documentElement).getPropertyValue(h).trim();let a=o("--color-background"),s=o("--color-foreground"),l=o("--color-primary");o("--color-border");let c=o("--color-secondary"),u=o("--color-destructive"),d={note:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                    <path fill="${s}"
                    d="M5.75 5h20.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 0 1 0-1.5zm0 5h20.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 1 1 0-1.5zm0 5h18.143a.75.75 0 1 1 0 1.5H5.75a.75.75 0 1 1 0-1.5z">
                    </path>
                </g>
            `},todo:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                    <path fill="${s}"
                    d="M6.28 7.77a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0l3-3a.75.75 0 0 0-1.06-1.06L7.25 8.74l-.97-.97zm0 6.5a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0l3-3a.75.75 0 0 0-1.06-1.06l-2.47 2.47-.97-.97zM14.75 8h11.3a.75.75 0 1 1 0 1.5h-11.3a.75.75 0 1 1 0-1.5zm0 6.4h11.3a.75.75 0 1 1 0 1.5h-11.3a.75.75 0 1 1 0-1.5z">
                    </path>
                </g>
            `},arrow:{width:t,height:r,svg:`
                <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                <path fill="${s}" fill-rule="evenodd"
                    d="m30.385 0-3 8-1.793-1.793-21.5 21.5a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L24.177 4.792 22.385 3l8-3z">
                </path>
            `},board:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="32" height="32" fill="${l}" rx="8"></rect>
                    <rect width="7" height="7" x="8" y="8" fill="#FFF" rx="2"></rect>
                    <rect width="7" height="7" x="8" y="17" fill="#FFF" fill-opacity="0.75" rx="2"></rect>
                    <rect width="7" height="7" x="17" y="8" fill="#FFF" fill-opacity="0.25" rx="3.5"></rect>
                    <rect width="7" height="7" x="17" y="17" fill="#FFF" fill-opacity="0.5" rx="2"></rect>
                </g>
            `},column:{width:t,height:r,svg:`
                <defs>
                    <filter id="ElementColumnIcon__a" width="131.2%" height="131.2%" x="-15.6%" y="-12.5%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <rect id="ElementColumnIcon__b" width="32" height="32" rx="2"></rect>
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <use xlink:href="#ElementColumnIcon__b" fill="#000" filter="url(#ElementColumnIcon__a)"></use>
                    <use xlink:href="#ElementColumnIcon__b" fill="#3D3D3D"></use>
                    <path fill="#333" d="M3 9h26v9H3zm0 11h26v9H3z"></path>
                    <rect width="18" height="1.5" x="7" y="4" fill="${u}" rx="0.75"></rect>
                </g>
            `},comment:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <path fill="${c}"
                        d="M2.002 22A1.995 1.995 0 0 1 0 20.009V1.99C0 .891.89 0 2.002 0h27.996C31.104 0 32 .89 32 1.991V20.01c0 1.1-.89 1.991-2.002 1.991H20l-4 4-4-4H2.002z">
                    </path>
                    <path fill="${l}"
                        d="M24.24 14c.385 0 .703.28.753.648l.007.102c0 .414-.33.75-.76.75H5.76a.753.753 0 0 1-.76-.75c0-.414.33-.75.76-.75h18.48zm2.003-4c.383 0 .7.28.75.648l.007.102c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 10.75c0-.414.346-.75.757-.75h20.486zm0-4c.383 0 .7.28.75.648L27 6.75c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 6.75c0-.414.346-.75.757-.75h20.486z">
                    </path>
                </g>
            `},table:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <path fill="#3D3D3D" d="M2 0h28a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z"></path>
                    <path fill="#4D4D4D" d="M2 0h28a2 2 0 0 1 2 2v3H0V2a2 2 0 0 1 2-2z"></path>
                    <path fill="#FFF" fill-opacity="0.1"
                        d="M11 0v10h10V0h1v10h10v1H22v6h10v1H22v6h-1v-6H11v6h-1v-6H0v-1h10v-6H0v-1h10V0h1zm10 17v-6H11v6h10z">
                    </path>
                </g>
            `},code:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                    <path d="M9 8L5 11.6923L9 16M15 8L19 11.6923L15 16" stroke="${s}" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
                    </path>
                </g>
            `},color:{width:t,height:r,svg:`
                <defs>
                    <filter id="ElementColorSwatchIcon__b" width="155.6%" height="143.5%" x="-27.8%" y="-17.4%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <filter id="ElementColorSwatchIcon__e" width="155.6%" height="143.5%" x="-27.8%" y="-17.4%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <path id="ElementColorSwatchIcon__a"
                        d="M0 1.003A.999.999 0 0 1 .993 0h16.014c.548 0 .993.439.993 1.003v20.994A.998.998 0 0 1 17.007 23H.993A.992.992 0 0 1 0 21.997V1.003z">
                    </path>
                    <path id="ElementColorSwatchIcon__d"
                        d="M0 1.003A.999.999 0 0 1 .993 0h16.014c.548 0 .993.439.993 1.003v20.994A.998.998 0 0 1 17.007 23H.993A.992.992 0 0 1 0 21.997V1.003z">
                    </path>
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <g transform="rotate(-4 17.978 .628)">
                        <mask id="ElementColorSwatchIcon__c" fill="#fff">
                            <use xlink:href="#ElementColorSwatchIcon__a"></use>
                        </mask>
                        <use xlink:href="#ElementColorSwatchIcon__a" fill="#000" filter="url(#ElementColorSwatchIcon__b)"></use>
                        <use xlink:href="#ElementColorSwatchIcon__a" fill="#3D3D3D"></use>
                        <path fill="#318295" d="M-2.685-2.024h23v18h-23z" mask="url(#ElementColorSwatchIcon__c)"></path>
                    </g>
                    <g transform="rotate(4 -109.493 148.676)">
                        <mask id="ElementColorSwatchIcon__f" fill="#fff">
                            <use xlink:href="#ElementColorSwatchIcon__d"></use>
                        </mask>
                        <use xlink:href="#ElementColorSwatchIcon__d" fill="#000" filter="url(#ElementColorSwatchIcon__e)"></use>
                        <use xlink:href="#ElementColorSwatchIcon__d" fill="#3D3D3D"></use>
                        <path fill="#E15678" d="M-2-2h22v18H-2z" mask="url(#ElementColorSwatchIcon__f)"></path>
                    </g>
                </g>
            `},document:{width:t,height:r,svg:`
                <defs>
                    <filter id="ElementDocumentIcon__b" width="138.5%" height="131.2%" x="-19.2%" y="-12.5%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <filter id="ElementDocumentIcon__d" width="279.6%" height="277.8%" x="-89.7%" y="-77.8%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="2.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" result="shadowMatrixOuter1"
                            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"></feColorMatrix>
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter2"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter2" result="shadowBlurOuter2" stdDeviation="1"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter2" result="shadowMatrixOuter2"
                            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                        <feMerge>
                            <feMergeNode in="shadowMatrixOuter1"></feMergeNode>
                            <feMergeNode in="shadowMatrixOuter2"></feMergeNode>
                        </feMerge>
                    </filter>
                    <path id="ElementDocumentIcon__a"
                        d="M.855 0H16.74c.228 0 .447.091.608.254l8.406 8.496c.158.16.247.376.247.602v21.793a.855.855 0 0 1-.855.855H.855A.855.855 0 0 1 0 31.145V.855C0 .383.383 0 .855 0z">
                    </path>
                    <path id="ElementDocumentIcon__e" d="m17.094 0 8.812 9h-8.042a.855.855 0 0 1-.855-.855v-.01L17.094 0z"></path>
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <g>
                        <mask id="ElementDocumentIcon__c" fill="#fff">
                            <use xlink:href="#ElementDocumentIcon__a"></use>
                        </mask>
                        <use xlink:href="#ElementDocumentIcon__a" fill="#000" filter="url(#ElementDocumentIcon__b)"></use>
                        <use xlink:href="#ElementDocumentIcon__a" fill="#3D3D3D"></use>
                        <g fill="#000" mask="url(#ElementDocumentIcon__c)">
                            <use xlink:href="#ElementDocumentIcon__e" filter="url(#ElementDocumentIcon__d)"></use>
                        </g>
                        <path fill="#4D4D4D" d="M17.095 0 26 9h-8.136a.855.855 0 0 1-.855-.855v-.01L17.095 0z"
                            mask="url(#ElementDocumentIcon__c)"></path>
                    </g>
                    <path fill="#F2F2F2"
                        d="M20.25 24c.38 0 .693.28.743.648l.007.102c0 .414-.334.75-.75.75H5.75a.749.749 0 1 1 0-1.5h14.5zm-9.962-8 .118 1.81h-.549c-.376-.917-.525-1.316-1.16-1.316h-.242v3.972c0 .43.172.517.69.54v.494H6.37v-.494c.525-.023.705-.11.705-.54v-3.972h-.25c-.635 0-.784.4-1.16 1.316h-.541L5.243 16h5.045zm9.96 4c.38 0 .695.28.745.648l.007.102c0 .414-.344.75-.753.75h-6.494a.75.75 0 1 1 0-1.5h6.494zm0-4c.38 0 .695.28.745.648l.007.102c0 .414-.344.75-.753.75h-6.494a.75.75 0 1 1 0-1.5h6.494z">
                    </path>
                </g>
            `},drawing:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="4"></rect>
                    <g fill="#F2F2F2" fill-rule="nonzero">
                        <path
                            d="M21.778 6.733a2.3 2.3 0 0 1 2.969.02l.13.12 1.062 1.063c.8.8.894 2.052.249 2.959l-.108.14-1.623 1.948a.8.8 0 0 1-1.293-.936l.063-.088 1.624-1.948a.7.7 0 0 0 .026-.862l-.07-.081-1.062-1.063a.702.702 0 0 0-.856-.105l-.087.062-1.948 1.623a.8.8 0 0 1-1.103-1.154l.079-.075 1.948-1.623zM8.391 21.754l-1.226 2.56a.998.998 0 0 0 1.333 1.334l2.561-1.226a.501.501 0 0 0 .138-.805l-2-2a.5.5 0 0 0-.805.137z">
                        </path>
                        <path
                            d="m18.575 9.117-6.877 6.875a9.503 9.503 0 0 0-1.78 2.47L8.501 21.3a1.501 1.501 0 0 0 .281 1.731l1 1a1.5 1.5 0 0 0 1.732.281l2.839-1.419a9.515 9.515 0 0 0 2.469-1.78l6.873-6.873a2.501 2.501 0 0 0 0-3.536l-1.586-1.586a2.501 2.501 0 0 0-3.536 0zm1.06 1.06a1 1 0 0 1 1.32-.082l.094.083 1.586 1.586a1 1 0 0 1 .083 1.32l-.083.094-6.875 6.875a8.016 8.016 0 0 1-1.754 1.326l-.325.172-2.839 1.42-1-1 1.42-2.84a8.034 8.034 0 0 1 1.244-1.812l.254-.266 6.875-6.875z">
                        </path>
                    </g>
                </g>
            `},sketch:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="2"></rect>
                    <path fill="#E6E6E6"
                        d="M20.79 4.344a.88.88 0 0 1-.095 1.18l-.078.066-2.54 1.878-1.34 1.005-.84.637-.613.47-.83.644-.744.586-.68.55-.641.53-.416.354-.414.362-.187.168-.34.312-.155.148-.286.282-.26.273c-.084.09-.164.18-.243.272a4.384 4.384 0 0 0-.353.466 1.75 1.75 0 0 0-.095.16l-.023.047.04-.003c.247-.028.525-.087.885-.182l.187-.05.236-.069.496-.153.54-.179.614-.215 1.042-.383 2.483-.94.877-.318.14-.049c.17-.058.322-.109.47-.155l.318-.095c.233-.066.394-.105.585-.13l.18-.019a1.1 1.1 0 0 1 .373.038c.066.02.136.051.229.106.103.07.2.169.242.256.05.086.085.18.095.246a.98.98 0 0 1-.039.502l-.055.14a2.15 2.15 0 0 1-.123.222 3.896 3.896 0 0 1-.132.197l-.152.199c-.056.07-.12.146-.193.233l-.202.227-.204.223-.333.35-.256.261-2.02 2.007-.123.125 1.598-.444.588-.155.338-.08.158-.033.306-.058.15-.024.307-.042a6.977 6.977 0 0 1 1.51-.03c.578.065 1.086.205 1.526.443.497.258.923.658 1.214 1.136.107.174.197.36.27.554l.069.197c.065.21.108.408.132.611l.016.205a.567.567 0 0 1-1.123.149l-.013-.093a2.248 2.248 0 0 0-.334-1.013 1.954 1.954 0 0 0-.778-.706c-.3-.157-.666-.252-1.093-.294a5.794 5.794 0 0 0-1.242.044c-.41.056-.831.149-1.36.295l-1.843.54-.269.073-.24.061-.24.055-.214.042-.182.026a1.803 1.803 0 0 1-.507.005.917.917 0 0 1-.404-.151l-.106-.08-.062-.063-.042-.05-.036-.056a.761.761 0 0 1-.086-.218l-.012-.092a.688.688 0 0 1 .003-.153l.03-.145.032-.09c.047-.109.09-.188.155-.283l.108-.15.152-.193.16-.189.184-.204.465-.495 1.818-1.855.346-.363.147-.158-.61.23-3.009 1.186-.671.256-.627.229c-.493.176-.924.32-1.35.446l-.399.111a6.207 6.207 0 0 1-1.103.206c-.19.013-.332.013-.501-.007a1.526 1.526 0 0 1-.347-.087 1.089 1.089 0 0 1-.436-.298 1.496 1.496 0 0 1-.32-1.315c.069-.31.19-.575.375-.868.135-.216.287-.423.465-.637.249-.297.497-.567.785-.857l.304-.297.34-.32.385-.352.212-.19.423-.37.428-.367.668-.56.722-.592.802-.644 1.237-.976 1.574-1.222 1.458-1.115L19.55 4.18a.89.89 0 0 1 1.24.164z">
                    </path>
                </g>
            `},upload:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="4"></rect>
                    <path fill="#E6E6E6" d="M18.586 6a1 1 0 0 1 .707.293l4.414 4.414a1 1 0 0 1 .293.707V24a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h8.586zM17 7.5h-7a.5.5 0 0 0-.5.5v16a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V13h-4.75a.75.75 0 0 1-.743-.648L17 12.25V7.5zm5.379 4L18.5 7.622V11.5h3.879z"></path>
                </g>
            `},image:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="32" height="32" fill="#3D3D3D" rx="4"></rect>
                    <path fill="#E6E6E6"
                        d="M22 7a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H10a3 3 0 0 1-3-3V10a3 3 0 0 1 3-3h12zm-8 11.06-4.97 4.97a.758.758 0 0 1-.063.057A1.49 1.49 0 0 0 10 23.5h12c.401 0 .765-.157 1.034-.414l-.064-.056L19 19.06l-1.47 1.47a.75.75 0 0 1-1.06 0L14 18.06zm8-9.56H10A1.5 1.5 0 0 0 8.5 10v11.438l4.97-4.968a.75.75 0 0 1 .976-.073l.084.073L17 18.94l1.47-1.47a.75.75 0 0 1 1.06 0l3.97 3.969V10A1.5 1.5 0 0 0 22 8.5zM19 10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z">
                    </path>
                </g>
            `},url:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="2"></rect>
                    <path fill="#E6E6E6" fill-rule="nonzero"
                        d="M17.986 10.014a4.285 4.285 0 0 1 0 6.06l-1.67 1.67a4.285 4.285 0 0 1-6.06-6.06.741.741 0 0 1 1.048 1.05 2.802 2.802 0 0 0 3.963 3.962l1.67-1.67a2.802 2.802 0 0 0 0-3.964.741.741 0 1 1 1.049-1.048zm3.759-3.759a4.285 4.285 0 0 1 0 6.06.741.741 0 0 1-1.049-1.048 2.802 2.802 0 0 0-3.963-3.963l-1.67 1.67a2.802 2.802 0 0 0 0 3.964.741.741 0 1 1-1.049 1.048 4.285 4.285 0 0 1 0-6.06l1.67-1.67a4.285 4.285 0 0 1 6.06 0z">
                    </path>
                </g>
            `},collapse:{width:t,height:r,svg:`
                <path fill="#fff" fill-opacity="1" fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1 0-1h7a.5.5 0 0 1 .5.5z"></path>
            `}}[n];return d?(()=>{var h=DX();return z(h,"class",i),ee(p=>{var g=d.width,m=d.height,v=`0 0 ${d.width} ${d.height}`,b=d.svg;return g!==p.e&&z(h,"width",p.e=g),m!==p.t&&z(h,"height",p.t=m),v!==p.a&&z(h,"viewBox",p.a=v),b!==p.o&&(h.innerHTML=p.o=b),p},{e:void 0,t:void 0,a:void 0,o:void 0}),h})():_X()};function qt(e){this.content=e}qt.prototype={constructor:qt,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var n=r&&r!=e?this.remove(r):this,i=n.find(e),o=n.content.slice();return i==-1?o.push(r||e,t):(o[i+1]=t,r&&(o[i]=r)),new qt(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new qt(r)},addToStart:function(e,t){return new qt([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new qt(r)},addBefore:function(e,t,r){var n=this.remove(t),i=n.content.slice(),o=n.find(e);return i.splice(o==-1?i.length:o,0,t,r),new qt(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=qt.from(e),e.size?new qt(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=qt.from(e),e.size?new qt(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=qt.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}};qt.from=function(e){if(e instanceof qt)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new qt(t)};function $N(e,t,r){for(let n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:r;let i=e.child(n),o=t.child(n);if(i==o){r+=i.nodeSize;continue}if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)r++;return r}if(i.content.size||o.content.size){let a=$N(i.content,o.content,r+1);if(a!=null)return a}r+=i.nodeSize}}function wN(e,t,r,n){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:r,b:n};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a==s){r-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:r,b:n};if(a.isText&&a.text!=s.text){let c=0,u=Math.min(a.text.length,s.text.length);for(;c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(a.content.size||s.content.size){let c=wN(a.content,s.content,r-1,n-1);if(c)return c}r-=l,n-=l}}class K{constructor(t,r){if(this.content=t,this.size=r||0,r==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,r,n,i=0,o){for(let a=0,s=0;s<r;a++){let l=this.content[a],c=s+l.nodeSize;if(c>t&&n(l,i+s,o||null,a)!==!1&&l.content.size){let u=s+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,r-u),n,i+u)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,n,i){let o="",a=!0;return this.nodesBetween(t,r,(s,l)=>{let c=s.isText?s.text.slice(Math.max(t,l)-l,r-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&n&&(a?a=!1:o+=n),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,n=t.firstChild,i=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new K(i,this.size+t.size)}cut(t,r=this.size){if(t==0&&r==this.size)return this;let n=[],i=0;if(r>t)for(let o=0,a=0;a<r;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>r)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,r-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,r-a-1))),n.push(s),i+=s.nodeSize),a=l}return new K(n,i)}cutByIndex(t,r){return t==r?K.empty:t==0&&r==this.content.length?this:new K(this.content.slice(t,r))}replaceChild(t,r){let n=this.content[t];if(n==r)return this;let i=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return i[t]=r,new K(i,o)}addToStart(t){return new K([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new K(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];t(i,n,r),n+=i.nodeSize}}findDiffStart(t,r=0){return $N(this,t,r)}findDiffEnd(t,r=this.size,n=t.size){return wN(this,t,r,n)}findIndex(t){if(t==0)return Ld(0,t);if(t==this.size)return Ld(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=this.child(r),o=n+i.nodeSize;if(o>=t)return o==t?Ld(r+1,o):Ld(r,n);n=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return K.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return K.empty;let r,n=0;for(let i=0;i<t.length;i++){let o=t[i];n+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(r||(r=t.slice(0,i)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new K(r||t,n)}static from(t){if(!t)return K.empty;if(t instanceof K)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new K([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const ub={index:0,offset:0};function Ld(e,t){return ub.index=e,ub.offset=t,ub}function Yp(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Yp(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!Yp(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let We=class hw{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,n=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))r||(r=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(r||(r=t.slice(0,i)),r.push(this),n=!0),r&&r.push(o)}}return r||(r=t.slice()),n||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Yp(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(r[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return hw.none;if(t instanceof hw)return[t];let r=t.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};We.none=[];class Jp extends Error{}class X{constructor(t,r,n){this.content=t,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let n=SN(this.content,t+this.openStart,r);return n&&new X(n,this.openStart,this.openEnd)}removeBetween(t,r){return new X(xN(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return X.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new X(K.fromJSON(t,r.content),n,i)}static maxOpen(t,r=!0){let n=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.lastChild)i++;return new X(t,n,i)}}X.empty=new X(K.empty,0,0);function xN(e,t,r){let{index:n,offset:i}=e.findIndex(t),o=e.maybeChild(n),{index:a,offset:s}=e.findIndex(r);if(i==t||o.isText){if(s!=r&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(n,o.copy(xN(o.content,t-i-1,r-i-1)))}function SN(e,t,r,n){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return n&&!n.canReplace(i,i,r)?null:e.cut(0,t).append(r).append(e.cut(t));let s=SN(a.content,t-o-1,r,a);return s&&e.replaceChild(i,a.copy(s))}function LX(e,t,r){if(r.openStart>e.depth)throw new Jp("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new Jp("Inconsistent open depths");return kN(e,t,r,0)}function kN(e,t,r,n){let i=e.index(n),o=e.node(n);if(i==t.index(n)&&n<e.depth-r.openStart){let a=kN(e,t,r,n+1);return o.copy(o.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==n&&t.depth==n){let a=e.parent,s=a.content;return Wa(a,s.cut(0,e.parentOffset).append(r.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=NX(r,e);return Wa(o,TN(e,a,s,t,n))}else return Wa(o,Xp(e,t,n))}function ON(e,t){if(!t.type.compatibleContent(e.type))throw new Jp("Cannot join "+t.type.name+" onto "+e.type.name)}function pw(e,t,r){let n=e.node(r);return ON(n,t.node(r)),n}function Va(e,t){let r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function Cu(e,t,r,n){let i=(t||e).node(r),o=0,a=t?t.index(r):i.childCount;e&&(o=e.index(r),e.depth>r?o++:e.textOffset&&(Va(e.nodeAfter,n),o++));for(let s=o;s<a;s++)Va(i.child(s),n);t&&t.depth==r&&t.textOffset&&Va(t.nodeBefore,n)}function Wa(e,t){return e.type.checkContent(t),e.copy(t)}function TN(e,t,r,n,i){let o=e.depth>i&&pw(e,t,i+1),a=n.depth>i&&pw(r,n,i+1),s=[];return Cu(null,e,i,s),o&&a&&t.index(i)==r.index(i)?(ON(o,a),Va(Wa(o,TN(e,t,r,n,i+1)),s)):(o&&Va(Wa(o,Xp(e,t,i+1)),s),Cu(t,r,i,s),a&&Va(Wa(a,Xp(r,n,i+1)),s)),Cu(n,null,i,s),new K(s)}function Xp(e,t,r){let n=[];if(Cu(null,e,r,n),e.depth>r){let i=pw(e,t,r+1);Va(Wa(i,Xp(e,t,r+1)),n)}return Cu(t,null,r,n),new K(n)}function NX(e,t){let r=t.depth-e.openStart,i=t.node(r).copy(e.content);for(let o=r-1;o>=0;o--)i=t.node(o).copy(K.from(i));return{start:i.resolveNoCache(e.openStart+r),end:i.resolveNoCache(i.content.size-e.openEnd-r)}}class ef{constructor(t,r,n){this.pos=t,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=t.child(r);return n?t.child(r).cut(n):i}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):t==0?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let o=0;o<t;o++)i+=n.child(o).nodeSize;return i}marks(){let t=this.parent,r=this.index();if(t.content.size==0)return We.none;if(this.textOffset)return t.child(r).marks;let n=t.maybeChild(r-1),i=t.maybeChild(r);if(!n){let s=n;n=i,i=s}let o=n.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!r||r(this.node(n))))return new Qp(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,o=r;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(n.push(a,s,i+l),!c||(a=a.child(s),a.isText))break;o=c-1,i+=l+1}return new ef(r,n,o)}static resolveCached(t,r){let n=pE.get(t);if(n)for(let o=0;o<n.elts.length;o++){let a=n.elts[o];if(a.pos==r)return a}else pE.set(t,n=new RX);let i=n.elts[n.i]=ef.resolve(t,r);return n.i=(n.i+1)%FX,i}}class RX{constructor(){this.elts=[],this.i=0}}const FX=12,pE=new WeakMap;class Qp{constructor(t,r,n){this.$from=t,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const jX=Object.create(null);let Uo=class gw{constructor(t,r,n,i=We.none){this.type=t,this.attrs=r,this.marks=i,this.content=n||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,n,i=0){this.content.nodesBetween(t,r,n,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,n,i){return this.content.textBetween(t,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,n){return this.type==t&&Yp(this.attrs,r||t.defaultAttrs||jX)&&We.sameSet(this.marks,n||We.none)}copy(t=null){return t==this.content?this:new gw(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new gw(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,n=!1){if(t==r)return X.empty;let i=this.resolve(t),o=this.resolve(r),a=n?0:i.sharedDepth(r),s=i.start(a),c=i.node(a).content.cut(i.pos-s,o.pos-s);return new X(c,i.depth-a,o.depth-a)}replace(t,r,n){return LX(this.resolve(t),this.resolve(r),n)}nodeAt(t){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(t);if(r=r.maybeChild(n),!r)return null;if(i==t||r.isText)return r;t-=i+1}}childAfter(t){let{index:r,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(t){return ef.resolveCached(this,t)}resolveNoCache(t){return ef.resolve(this,t)}rangeHasMark(t,r,n){let i=!1;return r>t&&this.nodesBetween(t,r,o=>(n.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),CN(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,n=K.empty,i=0,o=n.childCount){let a=this.contentMatchAt(t).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(n),a=o&&o.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=We.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!We.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,n)}let i=K.fromJSON(t,r.content),o=t.nodeType(r.type).create(r.attrs,i,n);return o.type.checkAttrs(o.attrs),o}};Uo.prototype.text=void 0;class Zp extends Uo{constructor(t,r,n,i){if(super(t,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):CN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Zp(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Zp(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return t==0&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function CN(e,t){for(let r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}class Qa{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let n=new BX(t,r);if(n.next==null)return Qa.empty;let i=EN(n);n.next&&n.err("Unexpected trailing text");let o=GX(KX(i));return qX(o,n),o}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,n=t.childCount){let i=this;for(let o=r;i&&o<n;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let n=0;n<t.next.length;n++)if(this.next[r].type==t.next[n].type)return!0;return!1}fillBefore(t,r=!1,n=0){let i=[this];function o(a,s){let l=a.matchFragment(t,n);if(l&&(!r||l.validEnd))return K.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:u,next:f}=a.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(u));if(d)return d}}return null}return o(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in r)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),r[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function r(n){t.push(n);for(let i=0;i<n.next.length;i++)t.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),t.map((n,i)=>{let o=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)o+=(a?", ":"")+n.next[a].type.name+"->"+t.indexOf(n.next[a].next);return o}).join(`
`)}}Qa.empty=new Qa(!0);class BX{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function EN(e){let t=[];do t.push(zX(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function zX(e){let t=[];do t.push(HX(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function HX(e){let t=WX(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=UX(e,t);else break;return t}function gE(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function UX(e,t){let r=gE(e),n=r;return e.eat(",")&&(e.next!="}"?n=gE(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:t}}function VX(e,t){let r=e.nodeTypes,n=r[t];if(n)return[n];let i=[];for(let o in r){let a=r[o];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function WX(e){if(e.eat("(")){let t=EN(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=VX(e,e.next).map(r=>(e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function KX(e){let t=[[]];return i(o(e,0),r()),t;function r(){return t.push([])-1}function n(a,s,l){let c={term:l,to:s};return t[a].push(c),c}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=r())}else if(a.type=="star"){let l=r();return n(s,l),i(o(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return i(o(a.expr,s),l),i(o(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let u=r();i(o(a.expr,l),u),l=u}if(a.max==-1)i(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let u=r();n(l,u),i(o(a.expr,l),u),l=u}return[n(l)]}else{if(a.type=="name")return[n(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function MN(e,t){return t-e}function mE(e,t){let r=[];return n(t),r.sort(MN);function n(i){let o=e[i];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&r.indexOf(l)==-1&&n(l)}}}function GX(e){let t=Object.create(null);return r(mE(e,0));function r(n){let i=[];n.forEach(a=>{e[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let u=0;u<i.length;u++)i[u][0]==s&&(c=i[u][1]);mE(e,l).forEach(u=>{c||i.push([s,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[n.join(",")]=new Qa(n.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(MN);o.next.push({type:i[a][0],next:t[s.join(",")]||r(s)})}return o}}function qX(e,t){for(let r=0,n=[e];r<n.length;r++){let i=n[r],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:c}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function AN(e){let t=Object.create(null);for(let r in e){let n=e[r];if(!n.hasDefault)return null;t[r]=n.default}return t}function IN(e,t){let r=Object.create(null);for(let n in e){let i=t&&t[n];if(i===void 0){let o=e[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function PN(e,t,r,n){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function _N(e,t){let r=Object.create(null);if(t)for(let n in t)r[n]=new JX(e,n,t[n]);return r}let vE=class DN{constructor(t,r,n){this.name=t,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=_N(t,n.attrs),this.defaultAttrs=AN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:IN(this.attrs,t)}create(t=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Uo(this,this.computeAttrs(t),K.from(r),We.setFrom(n))}createChecked(t=null,r,n){return r=K.from(r),this.checkContent(r),new Uo(this,this.computeAttrs(t),r,We.setFrom(n))}createAndFill(t=null,r,n){if(t=this.computeAttrs(t),r=K.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let i=this.contentMatch.matchFragment(r),o=i&&i.fillBefore(K.empty,!0);return o?new Uo(this,t,r.append(o),We.setFrom(n)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){PN(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let r;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?r&&r.push(t[n]):r||(r=t.slice(0,n));return r?r.length?r:We.none:t}static compile(t,r){let n=Object.create(null);t.forEach((o,a)=>n[o]=new DN(o,r,a));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function YX(e,t,r){let n=r.split("|");return i=>{let o=i===null?"null":typeof i;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${e}, got ${o}`)}}class JX{constructor(t,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?YX(t,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class zm{constructor(t,r,n,i){this.name=t,this.rank=r,this.schema=n,this.spec=i,this.attrs=_N(t,i.attrs),this.excluded=null;let o=AN(this.attrs);this.instance=o?new We(this,o):null}create(t=null){return!t&&this.instance?this.instance:new We(this,IN(this.attrs,t))}static compile(t,r){let n=Object.create(null),i=0;return t.forEach((o,a)=>n[o]=new zm(o,i++,r,a)),n}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}checkAttrs(t){PN(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class LN{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in t)r[i]=t[i];r.nodes=qt.from(t.nodes),r.marks=qt.from(t.marks||{}),this.nodes=vE.compile(this.spec.nodes,this),this.marks=zm.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=n[a]||(n[a]=Qa.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?bE(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:bE(this,a.split(" "))}this.nodeFromJSON=i=>Uo.fromJSON(this,i),this.markFromJSON=i=>We.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,n,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof vE){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(r,n,i)}text(t,r){let n=this.nodes.text;return new Zp(n,n.defaultAttrs,t,We.setFrom(r))}mark(t,r){return typeof t=="string"&&(t=this.marks[t]),t.create(r)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}function bE(e,t){let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e.marks[i],a=o;if(o)r.push(o);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return r}function XX(e){return e.tag!=null}function QX(e){return e.style!=null}class Vo{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(XX(i))this.tags.push(i);else if(QX(i)){let o=/[^=]*/.exec(i.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,r={}){let n=new $E(this,r,!1);return n.addAll(t,We.none,r.from,r.to),n.finish()}parseSlice(t,r={}){let n=new $E(this,r,!0);return n.addAll(t,We.none,r.from,r.to),X.maxOpen(n.finish())}matchTag(t,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(tQ(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,r,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!n.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let r=[];function n(i){let o=i.priority==null?50:i.priority,a=0;for(;a<r.length;a++){let s=r[a];if((s.priority==null?50:s.priority)<o)break}r.splice(a,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(a=>{n(a=wE(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(a=>{n(a=wE(a)),a.node||a.ignore||a.mark||(a.node=i)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Vo(t,Vo.schemaRules(t)))}}const NN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ZX={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},RN={ol:!0,ul:!0},tf=1,mw=2,Eu=4;function yE(e,t,r){return t!=null?(t?tf:0)|(t==="full"?mw:0):e&&e.whitespace=="pre"?tf|mw:r&~Eu}class Nd{constructor(t,r,n,i,o,a){this.type=t,this.attrs=r,this.marks=n,this.solid=i,this.options=a,this.content=[],this.activeMarks=We.none,this.match=o||(a&Eu?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(K.from(t));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(t.type))?(this.match=n,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&tf)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let r=K.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!NN.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class $E{constructor(t,r,n){this.parser=t,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,o,a=yE(null,r.preserveWhitespace,0)|(n?Eu:0);i?o=new Nd(i.type,i.attrs,We.none,!0,r.topMatch||i.type.contentMatch,a):n?o=new Nd(null,null,We.none,!0,null,a):o=new Nd(t.schema.topNodeType,null,We.none,!0,null,a),this.nodes=[o],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,r){t.nodeType==3?this.addTextNode(t,r):t.nodeType==1&&this.addElement(t,r)}addTextNode(t,r){let n=t.nodeValue,i=this.top,o=i.options&mw?"full":this.localPreserveWS||(i.options&tf)>0;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(o)o!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],s=t.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,r,n){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;RN.hasOwnProperty(a)&&this.parser.normalizeLists&&eQ(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,n));e:if(l?l.ignore:ZX.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(NN.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,r);break e}let f=l&&l.skip?r:this.readStyles(t,r);f&&this.addAll(t,f),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(t,r);c&&this.addElementByRule(t,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(t,r){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),r)}ignoreFallback(t,r){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(t,r){let n=t.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=n.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return r}addElementByRule(t,r,n,i){let o,a;if(r.node)if(a=this.parser.schema.nodes[r.node],a.isLeaf)this.insertNode(a.create(r.attrs),n,t.nodeName=="BR")||this.leafFallback(t,n);else{let l=this.enter(a,r.attrs||null,n,r.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,n,i);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=t;typeof r.contentElement=="string"?l=t.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(t):r.contentElement&&(l=r.contentElement),this.findAround(t,l,!0),this.addAll(l,n),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,r,n,i){let o=n||0;for(let a=n?t.childNodes[n]:t.firstChild,s=i==null?null:t.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,r);this.findAtPoint(t,o)}findPlace(t,r,n){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+s)&&(i=c,o=l,!c.length))break;if(l.solid){if(n)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)r=this.enterInner(i[a],null,r,!1);return r}insertNode(t,r,n){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(r=this.enterInner(o,null,r))}let i=this.findPlace(t,r,n);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=We.none;for(let s of i.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):xE(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,r,n,i){let o=this.findPlace(t.create(r),n,!1);return o&&(o=this.enterInner(t,r,n,!0,i)),o}enterInner(t,r,n,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=yE(t,o,a.options);a.options&Eu&&a.content.length==0&&(s|=Eu);let l=We.none;return n=n.filter(c=>(a.type?a.type.allowsMarkType(c.type):xE(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Nd(t,r,l,i,null,s)),this.open++,n}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let r=this.open;r>=0;r--){if(this.nodes[r]==t)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=tf)}return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)t+=n[i].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,n){if(t!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let c=r[s];if(c==""){if(s==r.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return a(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let n=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function eQ(e){for(let t=e.firstChild,r=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&RN.hasOwnProperty(n)&&r?(r.appendChild(t),t=r):n=="li"?r=t:n&&(r=null)}}function tQ(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function wE(e){let t={};for(let r in e)t[r]=e[r];return t}function xE(e,t){let r=t.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(e))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:u}=s.edge(l);if(c==t||o.indexOf(u)<0&&a(u))return!0}};if(a(i.contentMatch))return!0}}class xs{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},n){n||(n=fb(r).createDocumentFragment());let i=n,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],u=this.serializeMark(c,a.isInline,r);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(t,r){let{dom:n,contentDOM:i}=ip(fb(r),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,i)}return n}serializeNode(t,r={}){let n=this.serializeNodeInner(t,r);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,r,n={}){let i=this.marks[t.type.name];return i&&ip(fb(n),i(t,r),null,t.attrs)}static renderSpec(t,r,n=null,i){return ip(t,r,n,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new xs(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=SE(t.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(t){return SE(t.marks)}}function SE(e){let t={};for(let r in e){let n=e[r].spec.toDOM;n&&(t[r]=n)}return t}function fb(e){return e.document||window.document}const kE=new WeakMap;function rQ(e){let t=kE.get(e);return t===void 0&&kE.set(e,t=nQ(e)),t}function nQ(e){let t=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(e),t}function ip(e,t,r,n){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=rQ(n))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),c[f]):f=="style"&&l.style?l.style.cssText=c[f]:l.setAttribute(f,c[f])}}for(let f=u;f<t.length;f++){let d=t[f];if(d===0){if(f<t.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=ip(e,d,r,n);if(l.appendChild(h),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}const FN=65535,jN=Math.pow(2,16);function iQ(e,t){return e+t*jN}function OE(e){return e&FN}function oQ(e){return(e-(e&FN))/jN}const BN=1,zN=2,op=4,HN=8;class vw{constructor(t,r,n){this.pos=t,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&HN)>0}get deletedBefore(){return(this.delInfo&(BN|op))>0}get deletedAfter(){return(this.delInfo&(zN|op))>0}get deletedAcross(){return(this.delInfo&op)>0}}class Vr{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&Vr.empty)return Vr.empty}recover(t){let r=0,n=OE(t);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+oQ(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,n){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[s+o],u=this.ranges[s+a],f=l+c;if(t<=f){let d=c?t==l?-1:t==f?1:r:r,h=l+i+(d<0?0:u);if(n)return h;let p=t==(r<0?l:f)?null:iQ(s/3,t-l),g=t==l?zN:t==f?BN:op;return(r<0?t!=l:t!=f)&&(g|=HN),new vw(h,g,p)}i+=u-c}return n?t+i:new vw(t+i,0,null)}touches(t,r){let n=0,i=OE(r),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>t)break;let c=this.ranges[s+o],u=l+c;if(t<=u&&s==i*3)return!0;n+=this.ranges[s+a]-c}return!1}forEach(t){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+r],u=this.ranges[i+n];t(s,s+c,l,l+u),o+=u-c}}invert(){return new Vr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Vr.empty:new Vr(t<0?[0,-t,0]:[0,0,t])}}Vr.empty=new Vr([]);class rf{constructor(t,r,n=0,i=t?t.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=t||[],this.ownData=!(t||r)}get maps(){return this._maps}slice(t=0,r=this.maps.length){return new rf(this._maps,this.mirror,t,r)}appendMap(t,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(t){for(let r=0,n=this._maps.length;r<t._maps.length;r++){let i=t.getMirror(r);this.appendMap(t._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(t){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,n=this._maps.length+t._maps.length;r>=0;r--){let i=t.getMirror(r);this.appendMap(t._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let t=new rf;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,n){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,r);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return n?t:new vw(t,i,null)}}const db=Object.create(null);class cr{getMap(){return Vr.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=db[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in db)throw new RangeError("Duplicate use of step JSON ID "+t);return db[t]=r,r.prototype.jsonID=t,r}}class $t{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new $t(t,null)}static fail(t){return new $t(null,t)}static fromReplace(t,r,n,i){try{return $t.ok(t.replace(r,n,i))}catch(o){if(o instanceof Jp)return $t.fail(o.message);throw o}}}function hS(e,t,r){let n=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(hS(o.content,t,o))),o.isInline&&(o=t(o,r,i)),n.push(o)}return K.fromArray(n)}class Ro extends cr{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new X(hS(r.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),r.openStart,r.openEnd);return $t.fromReplace(t,this.from,this.to,o)}invert(){return new Fn(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ro(r.pos,n.pos,this.mark)}merge(t){return t instanceof Ro&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ro(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ro(r.from,r.to,t.markFromJSON(r.mark))}}cr.jsonID("addMark",Ro);class Fn extends cr{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=new X(hS(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),r.openStart,r.openEnd);return $t.fromReplace(t,this.from,this.to,n)}invert(){return new Ro(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Fn(r.pos,n.pos,this.mark)}merge(t){return t instanceof Fn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Fn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fn(r.from,r.to,t.markFromJSON(r.mark))}}cr.jsonID("removeMark",Fn);class Fo extends cr{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return $t.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return $t.fromReplace(t,this.pos,this.pos+1,new X(K.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Fo(this.pos,r.marks[i]);return new Fo(this.pos,this.mark)}}return new Za(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Fo(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Fo(r.pos,t.markFromJSON(r.mark))}}cr.jsonID("addNodeMark",Fo);class Za extends cr{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return $t.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return $t.fromReplace(t,this.pos,this.pos+1,new X(K.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Fo(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Za(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Za(r.pos,t.markFromJSON(r.mark))}}cr.jsonID("removeNodeMark",Za);class Rt extends cr{constructor(t,r,n,i=!1){super(),this.from=t,this.to=r,this.slice=n,this.structure=i}apply(t){return this.structure&&bw(t,this.from,this.to)?$t.fail("Structure replace would overwrite content"):$t.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Vr([this.from,this.to-this.from,this.slice.size])}invert(t){return new Rt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Rt(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Rt)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let r=this.slice.size+t.slice.size==0?X.empty:new X(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Rt(this.from,this.to+(t.to-t.from),r,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let r=this.slice.size+t.slice.size==0?X.empty:new X(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Rt(t.from,this.to,r,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Rt(r.from,r.to,X.fromJSON(t,r.slice),!!r.structure)}}cr.jsonID("replace",Rt);class zt extends cr{constructor(t,r,n,i,o,a,s=!1){super(),this.from=t,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(bw(t,this.from,this.gapFrom)||bw(t,this.gapTo,this.to)))return $t.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return $t.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?$t.fromReplace(t,this.from,this.to,n):$t.fail("Content does not fit in gap")}getMap(){return new Vr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new zt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||o>n.pos?null:new zt(r.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zt(r.from,r.to,r.gapFrom,r.gapTo,X.fromJSON(t,r.slice),r.insert,!!r.structure)}}cr.jsonID("replaceAround",zt);function bw(e,t,r){let n=e.resolve(t),i=r-t,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let a=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function aQ(e,t,r,n){let i=[],o=[],a,s;e.doc.nodesBetween(t,r,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&u.type.allowsMarkType(n.type)){let d=Math.max(c,t),h=Math.min(c+l.nodeSize,r),p=n.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(p)||(a&&a.to==d&&a.mark.eq(f[g])?a.to=h:i.push(a=new Fn(d,h,f[g])));s&&s.to==d?s.to=h:o.push(s=new Ro(d,h,n))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function sQ(e,t,r,n){let i=[],o=0;e.doc.nodesBetween(t,r,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(n instanceof zm){let c=a.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,r);for(let u=0;u<l.length;u++){let f=l[u],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&f.eq(i[h].style)&&(d=p)}d?(d.to=c,d.step=o):i.push({style:f,from:Math.max(s,t),to:c,step:o})}}}),i.forEach(a=>e.step(new Fn(a.from,a.to,a.style)))}function pS(e,t,r,n=r.contentMatch,i=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=s+c.nodeSize,f=n.matchType(c.type);if(!f)a.push(new Rt(s,u,X.empty));else{n=f;for(let d=0;d<c.marks.length;d++)r.allowsMarkType(c.marks[d].type)||e.step(new Fn(s,u,c.marks[d]));if(i&&c.isText&&r.whitespace!="pre"){let d,h=/\r?\n|\r/g,p;for(;d=h.exec(c.text);)p||(p=new X(K.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),a.push(new Rt(s+d.index,s+d.index+d[0].length,p))}}s=u}if(!n.validEnd){let l=n.fillBefore(K.empty,!0);e.replace(s,s,new X(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function lQ(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function uc(e){let r=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let i=e.$from.node(n),o=e.$from.index(n),a=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(o,a,r))return n;if(n==0||i.type.spec.isolating||!lQ(i,o,a))break}return null}function cQ(e,t,r){let{$from:n,$to:i,depth:o}=t,a=n.before(o+1),s=i.after(o+1),l=a,c=s,u=K.empty,f=0;for(let p=o,g=!1;p>r;p--)g||n.index(p)>0?(g=!0,u=K.from(n.node(p).copy(u)),f++):l--;let d=K.empty,h=0;for(let p=o,g=!1;p>r;p--)g||i.after(p+1)<i.end(p)?(g=!0,d=K.from(i.node(p).copy(d)),h++):c++;e.step(new zt(l,c,a,s,new X(u.append(d),f,h),u.size-f,!0))}function gS(e,t,r=null,n=e){let i=uQ(e,t),o=i&&fQ(n,t);return o?i.map(TE).concat({type:t,attrs:r}).concat(o.map(TE)):null}function TE(e){return{type:e,attrs:null}}function uQ(e,t){let{parent:r,startIndex:n,endIndex:i}=e,o=r.contentMatchAt(n).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return r.canReplaceWith(n,i,a)?o:null}function fQ(e,t){let{parent:r,startIndex:n,endIndex:i}=e,o=r.child(n),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=n;l&&c<i;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:a}function dQ(e,t,r){let n=K.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let s=r[a].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=K.from(r[a].type.create(r[a].attrs,n))}let i=t.start,o=t.end;e.step(new zt(i,o,i,o,new X(n,0,0),r.length,!0))}function hQ(e,t,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,r,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(n,l)&&pQ(e.doc,e.mapping.slice(o).map(s),n)){let c=null;if(n.schema.linebreakReplacement){let h=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&VN(e,a,s,o),pS(e,e.mapping.slice(o).map(s,1),n,void 0,c===null);let u=e.mapping.slice(o),f=u.map(s,1),d=u.map(s+a.nodeSize,1);return e.step(new zt(f,d,f+1,d-1,new X(K.from(n.create(l,null,a.marks)),0,0),1,!0)),c===!0&&UN(e,a,s,o),!1}})}function UN(e,t,r,n){t.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=e.mapping.slice(n).map(r+1+o+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function VN(e,t,r,n){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(n).map(r+1+o);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function pQ(e,t,r){let n=e.resolve(t),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function gQ(e,t,r,n,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");r||(r=o.type);let a=r.create(n,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!r.validContent(o.content))throw new RangeError("Invalid content for node type "+r.name);e.step(new zt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new X(K.from(a),0,0),1,!0))}function Ji(e,t,r=1,n){let i=e.resolve(t),o=i.depth-r,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=r-2;c>o;c--,u--){let f=i.node(c),d=i.index(c);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=n&&n[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=n&&n[u]||f;if(!f.canReplace(d+1,f.childCount)||!g.type.validContent(h))return!1}let s=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function mQ(e,t,r=1,n){let i=e.doc.resolve(t),o=K.empty,a=K.empty;for(let s=i.depth,l=i.depth-r,c=r-1;s>l;s--,c--){o=K.from(i.node(s).copy(o));let u=n&&n[c];a=K.from(u?u.type.create(u.attrs,a):i.node(s).copy(a))}e.step(new Rt(t,t,new X(o.append(a),r,r),!0))}function ca(e,t){let r=e.resolve(t),n=r.index();return WN(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function vQ(e,t){t.content.size||e.type.compatibleContent(t.type);let r=e.contentMatchAt(e.childCount),{linebreakReplacement:n}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),a=o.type==n?e.type.schema.nodes.text:o.type;if(r=r.matchType(a),!r||!e.type.allowsMarks(o.marks))return!1}return r.validEnd}function WN(e,t){return!!(e&&t&&!e.isLeaf&&vQ(e,t))}function Hm(e,t,r=-1){let n=e.resolve(t);for(let i=n.depth;;i--){let o,a,s=n.index(i);if(i==n.depth?(o=n.nodeBefore,a=n.nodeAfter):r>0?(o=n.node(i+1),s++,a=n.node(i).maybeChild(s)):(o=n.node(i).maybeChild(s-1),a=n.node(i+1)),o&&!o.isTextblock&&WN(o,a)&&n.node(i).canReplace(s,s+1))return t;if(i==0)break;t=r<0?n.before(i):n.after(i)}}function bQ(e,t,r){let n=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-r),a=o.node().type;if(i&&a.inlineContent){let u=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);u&&!f?n=!1:!u&&f&&(n=!0)}let s=e.steps.length;if(n===!1){let u=e.doc.resolve(t+r);VN(e,u.node(),u.before(),s)}a.inlineContent&&pS(e,t+r-1,a,o.node().contentMatchAt(o.index()),n==null);let l=e.mapping.slice(s),c=l.map(t-r);if(e.step(new Rt(c,l.map(t+r,-1),X.empty,!0)),n===!0){let u=e.doc.resolve(c);UN(e,u.node(),u.before(),e.steps.length)}return e}function yQ(e,t,r){let n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),r))return t;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let o=n.indexAfter(i);if(n.node(i).canReplaceWith(o,o,r))return n.after(i+1);if(o<n.node(i).childCount)return null}return null}function KN(e,t,r){let n=e.resolve(t);if(!r.content.size)return t;let i=r.content;for(let o=0;o<r.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(r.openStart==0&&r.size?2:1);o++)for(let a=n.depth;a>=0;a--){let s=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(s>0?1:0),c=n.node(a),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return s==0?n.pos:s<0?n.before(a+1):n.after(a+1)}return null}function Um(e,t,r=t,n=X.empty){if(t==r&&!n.size)return null;let i=e.resolve(t),o=e.resolve(r);return GN(i,o,n)?new Rt(t,r,n):new $Q(i,o,n).fit()}function GN(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}class $Q{constructor(t,r,n){this.$from=t,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=K.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=K.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new X(o,a,s);return t>-1?new zt(n.pos,t,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Rt(n.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<t;n++){let o=r.firstChild;if(r.childCount>1&&(i=0),o.type.spec.isolating&&i<=n){t=n;break}r=o.content}for(let r=1;r<=2;r++)for(let n=r==1?t:this.unplaced.openStart;n>=0;n--){let i,o=null;n?(o=hb(this.unplaced.content,n-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],u,f=null;if(r==1&&(a?c.matchType(a.type)||(f=c.fillBefore(K.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:f};if(r==2&&a&&(u=c.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:r,openEnd:n}=this.unplaced,i=hb(t,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new X(t,r+1,Math.max(n,i.size+r>=t.size-n?r+1:0)),!0)}dropNode(){let{content:t,openStart:r,openEnd:n}=this.unplaced,i=hb(t,r);if(i.childCount<=1&&r>0){let o=t.size-r<=r+i.size;this.unplaced=new X(fu(t,r-1,1),r-1,o?r-1:n)}else this.unplaced=new X(fu(t,r,1),r,n)}placeNodes({sliceDepth:t,frontierDepth:r,parent:n,inject:i,wrap:o}){for(;this.depth>r;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-t,c=0,u=[],{match:f,type:d}=this.frontier[r];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));f=f.matchFragment(i)}let h=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let g=s.child(c),m=f.matchType(g.type);if(!m)break;c++,(c>1||l==0||g.content.size)&&(f=m,u.push(qN(g.mark(d.allowedMarks(g.marks)),c==1?l:0,c==s.childCount?h:-1)))}let p=c==s.childCount;p||(h=-1),this.placed=du(this.placed,r,K.from(u)),this.frontier[r].match=f,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=s;g<h;g++){let v=m.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),m=v.content}this.unplaced=p?t==0?X.empty:new X(fu(a.content,t-1,1),t-1,h<0?a.openEnd:t-1):new X(fu(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],r;if(!t.type.isTextblock||!pb(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],o=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),a=pb(t,r,i,n,o);if(a){for(let s=r-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],u=pb(t,s,c,l,!0);if(!u||u.childCount)continue e}return{depth:r,fit:a,move:o?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=du(this.placed,r.depth,r.fit)),t=r.move;for(let n=r.depth+1;n<=t.depth;n++){let i=t.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(n));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=du(this.placed,this.depth,K.from(t.create(r,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(K.empty,!0);r.childCount&&(this.placed=du(this.placed,this.frontier.length,r))}}function fu(e,t,r){return t==0?e.cutByIndex(r,e.childCount):e.replaceChild(0,e.firstChild.copy(fu(e.firstChild.content,t-1,r)))}function du(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(du(e.lastChild.content,t-1,r)))}function hb(e,t){for(let r=0;r<t;r++)e=e.firstChild.content;return e}function qN(e,t,r){if(t<=0)return e;let n=e.content;return t>1&&(n=n.replaceChild(0,qN(n.firstChild,t-1,n.childCount==1?r-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore(K.empty,!0)))),e.copy(n)}function pb(e,t,r,n,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!r.compatibleContent(o.type))return null;let s=n.fillBefore(o.content,!0,a);return s&&!wQ(r,o.content,a)?s:null}function wQ(e,t,r){for(let n=r;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function xQ(e){return e.spec.defining||e.spec.definingForContent}function SQ(e,t,r,n){if(!n.size)return e.deleteRange(t,r);let i=e.doc.resolve(t),o=e.doc.resolve(r);if(GN(i,o,n))return e.step(new Rt(t,r,n));let a=JN(i,e.doc.resolve(r));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==h&&a.splice(1,0,-d)}let l=a.indexOf(s),c=[],u=n.openStart;for(let d=n.content,h=0;;h++){let p=d.firstChild;if(c.push(p),h==n.openStart)break;d=p.content}for(let d=u-1;d>=0;d--){let h=c[d],p=xQ(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(s)-1)))u=d;else if(p||!h.type.isTextblock)break}for(let d=n.openStart;d>=0;d--){let h=(d+u+1)%(n.openStart+1),p=c[h];if(p)for(let g=0;g<a.length;g++){let m=a[(g+l)%a.length],v=!0;m<0&&(v=!1,m=-m);let b=i.node(m-1),y=i.index(m-1);if(b.canReplaceWith(y,y,p.type,p.marks))return e.replace(i.before(m),v?o.after(m):r,new X(YN(n.content,0,n.openStart,h),h,n.openEnd))}}let f=e.steps.length;for(let d=a.length-1;d>=0&&(e.replace(t,r,n),!(e.steps.length>f));d--){let h=a[d];h<0||(t=i.before(h),r=o.after(h))}}function YN(e,t,r,n,i){if(t<r){let o=e.firstChild;e=e.replaceChild(0,o.copy(YN(o.content,t+1,r,n,o)))}if(t>n){let o=i.contentMatchAt(0),a=o.fillBefore(e).append(e);e=a.append(o.matchFragment(a).fillBefore(K.empty,!0))}return e}function kQ(e,t,r,n){if(!n.isInline&&t==r&&e.doc.resolve(t).parent.content.size){let i=yQ(e.doc,t,n.type);i!=null&&(t=r=i)}e.replaceRange(t,r,new X(K.from(n),0,0))}function OQ(e,t,r){let n=e.doc.resolve(t),i=e.doc.resolve(r),o=JN(n,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return e.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return e.delete(n.before(s),i.after(s))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(t-n.start(a)==n.depth-a&&r>n.end(a)&&i.end(a)-r!=i.depth-a&&n.start(a-1)==i.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),i.index(a-1)))return e.delete(n.before(a),r);e.delete(t,r)}function JN(e,t){let r=[],n=Math.min(e.depth,t.depth);for(let i=n;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&r.push(i)}return r}class El extends cr{constructor(t,r,n){super(),this.pos=t,this.attr=r,this.value=n}apply(t){let r=t.nodeAt(this.pos);if(!r)return $t.fail("No node at attribute step's position");let n=Object.create(null);for(let o in r.attrs)n[o]=r.attrs[o];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return $t.fromReplace(t,this.pos,this.pos+1,new X(K.from(i),0,r.isLeaf?0:1))}getMap(){return Vr.empty}invert(t){return new El(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new El(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new El(r.pos,r.attr,r.value)}}cr.jsonID("attr",El);class nf extends cr{constructor(t,r){super(),this.attr=t,this.value=r}apply(t){let r=Object.create(null);for(let i in t.attrs)r[i]=t.attrs[i];r[this.attr]=this.value;let n=t.type.create(r,t.content,t.marks);return $t.ok(n)}getMap(){return Vr.empty}invert(t){return new nf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new nf(r.attr,r.value)}}cr.jsonID("docAttr",nf);let Bl=class extends Error{};Bl=function e(t){let r=Error.call(this,t);return r.__proto__=e.prototype,r};Bl.prototype=Object.create(Error.prototype);Bl.prototype.constructor=Bl;Bl.prototype.name="TransformError";let XN=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new rf}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new Bl(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,n=X.empty){let i=Um(this.doc,t,r,n);return i&&this.step(i),this}replaceWith(t,r,n){return this.replace(t,r,new X(K.from(n),0,0))}delete(t,r){return this.replace(t,r,X.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,n){return SQ(this,t,r,n),this}replaceRangeWith(t,r,n){return kQ(this,t,r,n),this}deleteRange(t,r){return OQ(this,t,r),this}lift(t,r){return cQ(this,t,r),this}join(t,r=1){return bQ(this,t,r),this}wrap(t,r){return dQ(this,t,r),this}setBlockType(t,r=t,n,i=null){return hQ(this,t,r,n,i),this}setNodeMarkup(t,r,n=null,i){return gQ(this,t,r,n,i),this}setNodeAttribute(t,r,n){return this.step(new El(t,r,n)),this}setDocAttribute(t,r){return this.step(new nf(t,r)),this}addNodeMark(t,r){return this.step(new Fo(t,r)),this}removeNodeMark(t,r){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(r instanceof We)r.isInSet(n.marks)&&this.step(new Za(t,r));else{let i=n.marks,o,a=[];for(;o=r.isInSet(i);)a.push(new Za(t,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,r=1,n){return mQ(this,t,r,n),this}addMark(t,r,n){return aQ(this,t,r,n),this}removeMark(t,r,n){return sQ(this,t,r,n),this}clearIncompatible(t,r,n){return pS(this,t,r,n),this}};const gb=Object.create(null);let xe=class{constructor(t,r,n){this.$anchor=t,this.$head=r,this.ranges=n||[new TQ(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=X.empty){let n=r.content.lastChild,i=null;for(let s=0;s<r.openEnd;s++)i=n,n=n.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),s?X.empty:r),s==0&&ME(t,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,r){let n=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=t.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,r),ME(t,n,r.isInline?-1:1))}}static findFrom(t,r,n=!1){let i=t.parent.inlineContent?new ve(t):ll(t.node(0),t.parent,t.pos,t.index(),r,n);if(i)return i;for(let o=t.depth-1;o>=0;o--){let a=r<0?ll(t.node(0),t.node(o),t.before(o+1),t.index(o),r,n):ll(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,r,n);if(a)return a}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new Jr(t.node(0))}static atStart(t){return ll(t,t,0,0,1)||new Jr(t)}static atEnd(t){return ll(t,t,t.content.size,t.childCount,-1)||new Jr(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=gb[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in gb)throw new RangeError("Duplicate use of selection JSON ID "+t);return gb[t]=r,r.prototype.jsonID=t,r}getBookmark(){return ve.between(this.$anchor,this.$head).getBookmark()}};xe.prototype.visible=!0;class TQ{constructor(t,r){this.$from=t,this.$to=r}}let CE=!1;function EE(e){!CE&&!e.parent.inlineContent&&(CE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ve extends xe{constructor(t,r=t){EE(t),EE(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let n=t.resolve(r.map(this.head));if(!n.parent.inlineContent)return xe.near(n);let i=t.resolve(r.map(this.anchor));return new ve(i.parent.inlineContent?i:n,n)}replace(t,r=X.empty){if(super.replace(t,r),r==X.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof ve&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Vm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ve(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,n=r){let i=t.resolve(r);return new this(i,n==r?i:t.resolve(n))}static between(t,r,n){let i=t.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let o=xe.findFrom(r,n,!0)||xe.findFrom(r,-n,!0);if(o)r=o.$head;else return xe.near(r,n)}return t.parent.inlineContent||(i==0?t=r:(t=(xe.findFrom(t,-n,!0)||xe.findFrom(t,n,!0)).$anchor,t.pos<r.pos!=i<0&&(t=r))),new ve(t,r)}}xe.jsonID("text",ve);class Vm{constructor(t,r){this.anchor=t,this.head=r}map(t){return new Vm(t.map(this.anchor),t.map(this.head))}resolve(t){return ve.between(t.resolve(this.anchor),t.resolve(this.head))}}class fe extends xe{constructor(t){let r=t.nodeAfter,n=t.node(0).resolve(t.pos+r.nodeSize);super(t,n),this.node=r}map(t,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),o=t.resolve(i);return n?xe.near(o):new fe(o)}content(){return new X(K.from(this.node),0,0)}eq(t){return t instanceof fe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mS(this.anchor)}static fromJSON(t,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new fe(t.resolve(r.anchor))}static create(t,r){return new fe(t.resolve(r))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}fe.prototype.visible=!1;xe.jsonID("node",fe);class mS{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:n}=t.mapResult(this.anchor);return r?new Vm(n,n):new mS(n)}resolve(t){let r=t.resolve(this.anchor),n=r.nodeAfter;return n&&fe.isSelectable(n)?new fe(r):xe.near(r)}}class Jr extends xe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=X.empty){if(r==X.empty){t.delete(0,t.doc.content.size);let n=xe.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new Jr(t)}map(t){return new Jr(t)}eq(t){return t instanceof Jr}getBookmark(){return CQ}}xe.jsonID("all",Jr);const CQ={map(){return this},resolve(e){return new Jr(e)}};function ll(e,t,r,n,i,o=!1){if(t.inlineContent)return ve.create(e,r);for(let a=n-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let s=t.child(a);if(s.isAtom){if(!o&&fe.isSelectable(s))return fe.create(e,r-(i<0?s.nodeSize:0))}else{let l=ll(e,s,r+i,i<0?s.childCount:0,i,o);if(l)return l}r+=s.nodeSize*i}return null}function ME(e,t,r){let n=e.steps.length-1;if(n<t)return;let i=e.steps[n];if(!(i instanceof Rt||i instanceof zt))return;let o=e.mapping.maps[n],a;o.forEach((s,l,c,u)=>{a==null&&(a=u)}),e.setSelection(xe.near(e.doc.resolve(a),r))}const AE=1,Rd=2,IE=4;class EQ extends XN{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|AE)&~Rd,this.storedMarks=null,this}get selectionSet(){return(this.updated&AE)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Rd,this}ensureMarks(t){return We.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Rd)>0}addStep(t,r){super.addStep(t,r),this.updated=this.updated&~Rd,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let n=this.selection;return r&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||We.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,n){let i=this.doc.type.schema;if(r==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!t)return this.deleteRange(r,n);let o=this.storedMarks;if(!o){let a=this.doc.resolve(r);o=n==r?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(t,o)),this.selection.empty||this.setSelection(xe.near(this.selection.$to)),this}}setMeta(t,r){return this.meta[typeof t=="string"?t:t.key]=r,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=IE,this}get scrolledIntoView(){return(this.updated&IE)>0}}function PE(e,t){return!t||!e?e:e.bind(t)}class hu{constructor(t,r,n){this.name=t,this.init=PE(r.init,n),this.apply=PE(r.apply,n)}}const MQ=[new hu("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new hu("selection",{init(e,t){return e.selection||xe.atStart(t.doc)},apply(e){return e.selection}}),new hu("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,r,n){return n.selection.$cursor?e.storedMarks:null}}),new hu("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class mb{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=MQ.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new hu(n.key,n.spec.state,n))})}}class vl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],n=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,u=l<r.length&&s.spec.appendTransaction.call(s,l?r.slice(l):r,c,n);if(u&&n.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),o=!0}i&&(i[a]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new vl(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];r[o.name]=o.apply(t,this[o.name],this,r)}return r}get tr(){return new EQ(this)}static create(t){let r=new mb(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new vl(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(t,n);return n}reconfigure(t){let r=new mb(this.schema,t.plugins),n=r.fields,i=new vl(r);for(let o=0;o<n.length;o++){let a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(t,i)}return i}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[n],o=i.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(i,this[i.key]))}return r}static fromJSON(t,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new mb(t.schema,t.plugins),o=new vl(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Uo.fromJSON(t.schema,r.doc);else if(a.name=="selection")o.selection=xe.fromJSON(o.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){o[a.name]=c.fromJSON.call(l,t,r[s],o);return}}o[a.name]=a.init(t,o)}}),o}}function QN(e,t,r){for(let n in e){let i=e[n];i instanceof Function?i=i.bind(t):n=="handleDOMEvents"&&(i=QN(i,t,{})),r[n]=i}return r}class st{constructor(t){this.spec=t,this.props={},t.props&&QN(t.props,this,this.props),this.key=t.key?t.key.key:ZN("plugin")}getState(t){return t[this.key]}}const vb=Object.create(null);function ZN(e){return e in vb?e+"$"+ ++vb[e]:(vb[e]=0,e+"$")}class Wt{constructor(t="key"){this.key=ZN(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const vS=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function eR(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("backward",e):r.parentOffset>0)?null:r}const tR=(e,t,r)=>{let n=eR(e,r);if(!n)return!1;let i=bS(n);if(!i){let a=n.blockRange(),s=a&&uc(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(uR(e,i,t,-1))return!0;if(n.parent.content.size==0&&(zl(o,"end")||fe.isSelectable(o)))for(let a=n.depth;;a--){let s=Um(e.doc,n.before(a),n.after(a),X.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(zl(o,"end")?xe.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):fe.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return o.isAtom&&i.depth==n.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},AQ=(e,t,r)=>{let n=eR(e,r);if(!n)return!1;let i=bS(n);return i?rR(e,i,t):!1},IQ=(e,t,r)=>{let n=iR(e,r);if(!n)return!1;let i=yS(n);return i?rR(e,i,t):!1};function rR(e,t,r){let n=t.nodeBefore,i=n,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let u=s.firstChild;if(!u)return!1;s=u}let c=Um(e.doc,o,l,X.empty);if(!c||c.from!=o||c instanceof Rt&&c.slice.size>=l-o)return!1;if(r){let u=e.tr.step(c);u.setSelection(ve.create(u.doc,o)),r(u.scrollIntoView())}return!0}function zl(e,t,r=!1){for(let n=e;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const nR=(e,t,r)=>{let{$head:n,empty:i}=e.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):n.parentOffset>0)return!1;o=bS(n)}let a=o&&o.nodeBefore;return!a||!fe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(fe.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function bS(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function iR(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)?null:r}const oR=(e,t,r)=>{let n=iR(e,r);if(!n)return!1;let i=yS(n);if(!i)return!1;let o=i.nodeAfter;if(uR(e,i,t,1))return!0;if(n.parent.content.size==0&&(zl(o,"start")||fe.isSelectable(o))){let a=Um(e.doc,n.before(),n.after(),X.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=e.tr.step(a);s.setSelection(zl(o,"start")?xe.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):fe.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},aR=(e,t,r)=>{let{$head:n,empty:i}=e.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)return!1;o=yS(n)}let a=o&&o.nodeAfter;return!a||!fe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(fe.create(e.doc,o.pos)).scrollIntoView()),!0)};function yS(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}const PQ=(e,t)=>{let r=e.selection,n=r instanceof fe,i;if(n){if(r.node.isTextblock||!ca(e.doc,r.from))return!1;i=r.from}else if(i=Hm(e.doc,r.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);n&&o.setSelection(fe.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},_Q=(e,t)=>{let r=e.selection,n;if(r instanceof fe){if(r.node.isTextblock||!ca(e.doc,r.to))return!1;n=r.to}else if(n=Hm(e.doc,r.to,1),n==null)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},DQ=(e,t)=>{let{$from:r,$to:n}=e.selection,i=r.blockRange(n),o=i&&uc(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},sR=(e,t)=>{let{$head:r,$anchor:n}=e.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function $S(e){for(let t=0;t<e.edgeCount;t++){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const LQ=(e,t)=>{let{$head:r,$anchor:n}=e.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),o=r.indexAfter(-1),a=$S(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let s=r.after(),l=e.tr.replaceWith(s,s,a.createAndFill());l.setSelection(xe.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},lR=(e,t)=>{let r=e.selection,{$from:n,$to:i}=r;if(r instanceof Jr||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=$S(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(ve.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},cR=(e,t)=>{let{$cursor:r}=e.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let o=r.before();if(Ji(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let n=r.blockRange(),i=n&&uc(n);return i==null?!1:(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)};function NQ(e){return(t,r)=>{let{$from:n,$to:i}=t.selection;if(t.selection instanceof fe&&t.selection.node.isBlock)return!n.parentOffset||!Ji(t.doc,n.pos)?!1:(r&&r(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],a,s,l=!1,c=!1;for(let h=n.depth;;h--)if(n.node(h).isBlock){l=n.end(h)==n.pos+(n.depth-h),c=n.start(h)==n.pos-(n.depth-h),s=$S(n.node(h-1).contentMatchAt(n.indexAfter(h-1))),o.unshift(l&&s?{type:s}:null),a=h;break}else{if(h==1)return!1;o.unshift(null)}let u=t.tr;(t.selection instanceof ve||t.selection instanceof Jr)&&u.deleteSelection();let f=u.mapping.map(n.pos),d=Ji(u.doc,f,o.length,o);if(d||(o[0]=s?{type:s}:null,d=Ji(u.doc,f,o.length,o)),!d)return!1;if(u.split(f,o.length,o),!l&&c&&n.node(a).type!=s){let h=u.mapping.map(n.before(a)),p=u.doc.resolve(h);s&&n.node(a-1).canReplaceWith(p.index(),p.index()+1,s)&&u.setNodeMarkup(u.mapping.map(n.before(a)),s)}return r&&r(u.scrollIntoView()),!0}}const RQ=NQ(),FQ=(e,t)=>{let{$from:r,to:n}=e.selection,i,o=r.sharedDepth(n);return o==0?!1:(i=r.before(o),t&&t(e.tr.setSelection(fe.create(e.doc,i))),!0)};function jQ(e,t,r){let n=t.nodeBefore,i=t.nodeAfter,o=t.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(r&&r(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||ca(e.doc,t.pos))?!1:(r&&r(e.tr.join(t.pos).scrollIntoView()),!0)}function uR(e,t,r,n){let i=t.nodeBefore,o=t.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&jQ(e,t,r))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(r){let h=t.pos+o.nodeSize,p=K.empty;for(let v=a.length-1;v>=0;v--)p=K.from(a[v].create(null,p));p=K.from(i.copy(p));let g=e.tr.step(new zt(t.pos-1,h,t.pos,h,new X(p,1,0),a.length,!0)),m=g.doc.resolve(h+2*a.length);m.nodeAfter&&m.nodeAfter.type==i.type&&ca(g.doc,m.pos)&&g.join(m.pos),r(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||n>0&&l?null:xe.findFrom(t,1),f=u&&u.$from.blockRange(u.$to),d=f&&uc(f);if(d!=null&&d>=t.depth)return r&&r(e.tr.lift(f,d).scrollIntoView()),!0;if(c&&zl(o,"start",!0)&&zl(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=o,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(r){let v=K.empty;for(let y=p.length-1;y>=0;y--)v=K.from(p[y].copy(v));let b=e.tr.step(new zt(t.pos-p.length,t.pos+o.nodeSize,t.pos+m,t.pos+o.nodeSize-m,new X(v,p.length,0),0,!0));r(b.scrollIntoView())}return!0}}return!1}function fR(e){return function(t,r){let n=t.selection,i=e<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(r&&r(t.tr.setSelection(ve.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const BQ=fR(-1),zQ=fR(1);function HQ(e,t=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o),s=a&&gS(a,e,t);return s?(n&&n(r.tr.wrap(a,s).scrollIntoView()),!0):!1}}function _E(e,t=null){return function(r,n){let i=!1;for(let o=0;o<r.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=r.selection.ranges[o];r.doc.nodesBetween(a,s,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=r.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(n){let o=r.tr;for(let a=0;a<r.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=r.selection.ranges[a];o.setBlockType(s,l,e,t)}n(o.scrollIntoView())}return!0}}function wS(...e){return function(t,r,n){for(let i=0;i<e.length;i++)if(e[i](t,r,n))return!0;return!1}}wS(vS,tR,nR);wS(vS,oR,aR);wS(sR,lR,cR,RQ);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function UQ(e,t=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o);if(!a)return!1;let s=n?r.tr:null;return VQ(s,a,e,t)?(n&&n(s.scrollIntoView()),!0):!1}}function VQ(e,t,r,n=null){let i=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(r)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new Qp(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Qp(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let s=gS(o,r,n,t);return s?(e&&WQ(e,t,s,i,r),!0):!1}function WQ(e,t,r,n,i){let o=K.empty;for(let u=r.length-1;u>=0;u--)o=K.from(r[u].type.create(r[u].attrs,o));e.step(new zt(t.start-(n?2:0),t.end,t.start,t.end,new X(o,0,0),r.length,!0));let a=0;for(let u=0;u<r.length;u++)r[u].type==i&&(a=u+1);let s=r.length-a,l=t.start+r.length-(n?2:0),c=t.parent;for(let u=t.startIndex,f=t.endIndex,d=!0;u<f;u++,d=!1)!d&&Ji(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(u).nodeSize;return e}function KQ(e){return function(t,r){let{$from:n,$to:i}=t.selection,o=n.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return o?r?n.node(o.depth-1).type==e?GQ(t,r,e,o):qQ(t,r,o):!0:!1}}function GQ(e,t,r,n){let i=e.tr,o=n.end,a=n.$to.end(n.depth);o<a&&(i.step(new zt(o-1,a,o,a,new X(K.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Qp(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth));const s=uc(n);if(s==null)return!1;i.lift(n,s);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return ca(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function qQ(e,t,r){let n=e.tr,i=r.parent;for(let h=r.end,p=r.endIndex-1,g=r.startIndex;p>g;p--)h-=i.child(p).nodeSize,n.delete(h-1,h+1);let o=n.doc.resolve(r.start),a=o.nodeAfter;if(n.mapping.map(r.end)!=r.start+o.nodeAfter.nodeSize)return!1;let s=r.startIndex==0,l=r.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?K.empty:K.from(i))))return!1;let f=o.pos,d=f+a.nodeSize;return n.step(new zt(f-(s?1:0),d+(l?1:0),f+1,d-1,new X((s?K.empty:K.from(i.copy(K.empty))).append(l?K.empty:K.from(i.copy(K.empty))),s?0:1,l?0:1),s?0:1)),t(n.scrollIntoView()),!0}function YQ(e){return function(t,r){let{$from:n,$to:i}=t.selection,o=n.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(r){let c=l.lastChild&&l.lastChild.type==s.type,u=K.from(c?e.create():null),f=new X(K.from(e.create(null,K.from(s.type.create(null,u)))),c?3:1,0),d=o.start,h=o.end;r(t.tr.step(new zt(d-(c?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}const Yt=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Hl=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let yw=null;const Bi=function(e,t,r){let n=yw||(yw=document.createRange());return n.setEnd(e,r??e.nodeValue.length),n.setStart(e,t||0),n},JQ=function(){yw=null},es=function(e,t,r,n){return r&&(DE(e,t,r,n,-1)||DE(e,t,r,n,1))},XQ=/^(img|br|input|textarea|hr)$/i;function DE(e,t,r,n,i){for(var o;;){if(e==r&&t==n)return!0;if(t==(i<0?0:hn(e))){let a=e.parentNode;if(!a||a.nodeType!=1||Rf(e)||XQ.test(e.nodeName)||e.contentEditable=="false")return!1;t=Yt(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?hn(e):0}else return!1}}function hn(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function QQ(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=hn(e)}else if(e.parentNode&&!Rf(e))t=Yt(e),e=e.parentNode;else return null}}function ZQ(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Rf(e))t=Yt(e)+1,e=e.parentNode;else return null}}function eZ(e,t,r){for(let n=t==0,i=t==hn(e);n||i;){if(e==r)return!0;let o=Yt(e);if(e=e.parentNode,!e)return!1;n=n&&o==0,i=i&&o==hn(e)}}function Rf(e){let t;for(let r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Wm=function(e){return e.focusNode&&es(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function _a(e,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function tZ(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function rZ(e,t,r){if(e.caretPositionFromPoint)try{let n=e.caretPositionFromPoint(t,r);if(n)return{node:n.offsetNode,offset:Math.min(hn(n.offsetNode),n.offset)}}catch{}if(e.caretRangeFromPoint){let n=e.caretRangeFromPoint(t,r);if(n)return{node:n.startContainer,offset:Math.min(hn(n.startContainer),n.startOffset)}}}const pi=typeof navigator<"u"?navigator:null,LE=typeof document<"u"?document:null,ua=pi&&pi.userAgent||"",$w=/Edge\/(\d+)/.exec(ua),dR=/MSIE \d/.exec(ua),ww=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ua),Pr=!!(dR||ww||$w),Wo=dR?document.documentMode:ww?+ww[1]:$w?+$w[1]:0,mn=!Pr&&/gecko\/(\d+)/i.test(ua);mn&&+(/Firefox\/(\d+)/.exec(ua)||[0,0])[1];const xw=!Pr&&/Chrome\/(\d+)/.exec(ua),ir=!!xw,hR=xw?+xw[1]:0,pr=!Pr&&!!pi&&/Apple Computer/.test(pi.vendor),Ul=pr&&(/Mobile\/\w+/.test(ua)||!!pi&&pi.maxTouchPoints>2),fn=Ul||(pi?/Mac/.test(pi.platform):!1),nZ=pi?/Win/.test(pi.platform):!1,Ui=/Android \d/.test(ua),Ff=!!LE&&"webkitFontSmoothing"in LE.documentElement.style,iZ=Ff?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function oZ(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Pi(e,t){return typeof e=="number"?e:e[t]}function aZ(e){let t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*n}}function NE(e,t,r){let n=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=r||e.dom;a;){if(a.nodeType!=1){a=Hl(a);continue}let s=a,l=s==o.body,c=l?oZ(o):aZ(s),u=0,f=0;if(t.top<c.top+Pi(n,"top")?f=-(c.top-t.top+Pi(i,"top")):t.bottom>c.bottom-Pi(n,"bottom")&&(f=t.bottom-t.top>c.bottom-c.top?t.top+Pi(i,"top")-c.top:t.bottom-c.bottom+Pi(i,"bottom")),t.left<c.left+Pi(n,"left")?u=-(c.left-t.left+Pi(i,"left")):t.right>c.right-Pi(n,"right")&&(u=t.right-c.right+Pi(i,"right")),u||f)if(l)o.defaultView.scrollBy(u,f);else{let h=s.scrollLeft,p=s.scrollTop;f&&(s.scrollTop+=f),u&&(s.scrollLeft+=u);let g=s.scrollLeft-h,m=s.scrollTop-p;t={left:t.left-g,top:t.top-m,right:t.right-g,bottom:t.bottom-m}}let d=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(d))break;a=d=="absolute"?a.offsetParent:Hl(a)}}function sZ(e){let t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),n,i;for(let o=(t.left+t.right)/2,a=r+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=e.root.elementFromPoint(o,a);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:pR(e.dom)}}function pR(e){let t=[],r=e.ownerDocument;for(let n=e;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),e!=r);n=Hl(n));return t}function lZ({refDOM:e,refTop:t,stack:r}){let n=e?e.getBoundingClientRect().top:0;gR(r,n==0?0:n-t)}function gR(e,t){for(let r=0;r<e.length;r++){let{dom:n,top:i,left:o}=e[r];n.scrollTop!=i+t&&(n.scrollTop=i+t),n.scrollLeft!=o&&(n.scrollLeft=o)}}let Ks=null;function cZ(e){if(e.setActive)return e.setActive();if(Ks)return e.focus(Ks);let t=pR(e);e.focus(Ks==null?{get preventScroll(){return Ks={preventScroll:!0},!0}}:void 0),Ks||(Ks=!1,gR(t,0))}function mR(e,t){let r,n=2e8,i,o=0,a=t.top,s=t.top,l,c;for(let u=e.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Bi(u).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);let g=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(g<n){r=u,n=g,i=g&&r.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&g&&(o=f+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!l&&p.left<=t.left&&p.right>=t.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!r&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=f+1)}}return!r&&l&&(r=l,i=c,n=0),r&&r.nodeType==3?uZ(r,i):!r||n&&r.nodeType==1?{node:e,offset:o}:mR(r,i)}function uZ(e,t){let r=e.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(e,i+1),n.setStart(e,i);let o=ko(n,1);if(o.top!=o.bottom&&xS(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function xS(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function fZ(e,t){let r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function dZ(e,t,r){let{node:n,offset:i}=mR(t,r),o=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();o=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(n,i,o)}function hZ(e,t,r,n){let i=-1;for(let o=t,a=!1;o!=e.dom;){let s=e.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>n.left||l.top>n.top?i=s.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,r,-1)}function vR(e,t,r){let n=e.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-r.top)/(r.bottom-r.top))-2)),o=i;;){let a=e.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(xS(t,c))return vR(a,t,c)}}if((o=(o+1)%n)==i)break}return e}function pZ(e,t){let r=e.dom.ownerDocument,n,i=0,o=rZ(r,t.left,t.top);o&&({node:n,offset:i}=o);let a=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top),s;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=e.dom.getBoundingClientRect();if(!xS(t,c)||(a=vR(e.dom,t,c),!a))return null}if(pr)for(let c=a;n&&c;c=Hl(c))c.draggable&&(n=void 0);if(a=fZ(a,t),n){if(mn&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let u=n.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let c;Ff&&i&&n.nodeType==1&&(c=n.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,n==e.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(s=hZ(e,n,i,t))}s==null&&(s=dZ(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function RE(e){return e.top<e.bottom||e.left<e.right}function ko(e,t){let r=e.getClientRects();if(r.length){let n=r[t<0?0:r.length-1];if(RE(n))return n}return Array.prototype.find.call(r,RE)||e.getBoundingClientRect()}const gZ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function bR(e,t,r){let{node:n,offset:i,atom:o}=e.docView.domFromPos(t,r<0?-1:1),a=Ff||mn;if(n.nodeType==3)if(a&&(gZ.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=ko(Bi(n,i,i),r);if(mn&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let c=ko(Bi(n,i-1,i-1),-1);if(c.top==l.top){let u=ko(Bi(n,i,i+1),-1);if(u.top!=l.top)return _c(u,u.left<c.left)}}return l}else{let l=i,c=i,u=r<0?1:-1;return r<0&&!i?(c++,u=-1):r>=0&&i==n.nodeValue.length?(l--,u=1):r<0?l--:c++,_c(ko(Bi(n,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(r<0||i==hn(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return bb(l.getBoundingClientRect(),!1)}if(o==null&&i<hn(n)){let l=n.childNodes[i];if(l.nodeType==1)return bb(l.getBoundingClientRect(),!0)}return bb(n.getBoundingClientRect(),r>=0)}if(o==null&&i&&(r<0||i==hn(n))){let l=n.childNodes[i-1],c=l.nodeType==3?Bi(l,hn(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return _c(ko(c,1),!1)}if(o==null&&i<hn(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Bi(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return _c(ko(c,-1),!0)}return _c(ko(n.nodeType==3?Bi(n):n,-r),r>=0)}function _c(e,t){if(e.width==0)return e;let r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function bb(e,t){if(e.height==0)return e;let r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function yR(e,t,r){let n=e.state,i=e.root.activeElement;n!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return r()}finally{n!=t&&e.updateState(n),i!=e.dom&&i&&i.focus()}}function mZ(e,t,r){let n=t.selection,i=r=="up"?n.$from:n.$to;return yR(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=bR(e,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Bi(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(r=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}const vZ=/[\u0590-\u08ac]/;function bZ(e,t,r){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,a=i==n.parent.content.size,s=e.domSelection();return s?!vZ.test(n.parent.textContent)||!s.modify?r=="left"||r=="backward"?o:a:yR(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=e.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",r,"character");let h=n.depth?e.docView.domAfterPos(n.before()):e.dom,{focusNode:p,focusOffset:g}=e.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{s.collapse(u,f),l&&(l!=u||c!=f)&&s.extend&&s.extend(l,c)}catch{}return d!=null&&(s.caretBidiLevel=d),m}):n.pos==n.start()||n.pos==n.end()}let FE=null,jE=null,BE=!1;function yZ(e,t,r){return FE==t&&jE==r?BE:(FE=t,jE=r,BE=r=="up"||r=="down"?mZ(e,t,r):bZ(e,t,r))}const vn=0,zE=1,Ra=2,gi=3;class jf{constructor(t,r,n,i){this.parent=t,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=vn,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==t)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let o,a;if(t==this.contentDOM)o=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=r>Yt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&r==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let n=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!r||o.node))if(n&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))n=!1;else return o}}getDesc(t){let r=t.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(t,r,n){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,r,n)}return-1}descAt(t){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==t&&o!=n){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(t<o)return i.descAt(t-n-i.border);n=o}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,i=0;for(let o=0;n<this.children.length;n++){let a=this.children[n],s=o+a.size;if(s>t||a instanceof wR){i=t-o;break}o=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof $R&&o.side>=0;n--);if(r<=0){let o,a=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,a=!1);return o&&r&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,r):{node:this.contentDOM,offset:o?Yt(o.dom)+1:0}}else{let o,a=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,r):{node:this.contentDOM,offset:o?Yt(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=n,s=0;;s++){let l=this.children[s],c=a+l.size;if(i==-1&&t<=c){let u=a+l.border;if(t>=u&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,r,u);t=a;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Yt(d.dom)+1;break}t-=d.size}i==-1&&(i=0)}if(i>-1&&(c>r||s==this.children.length-1)){r=c;for(let u=s+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Yt(f.dom);break}r+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:r,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:n}=this.domFromPos(t,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n]}setSelection(t,r,n,i=!1){let o=Math.min(t,r),a=Math.max(t,r);for(let h=0,p=0;h<this.children.length;h++){let g=this.children[h],m=p+g.size;if(o>p&&a<m)return g.setSelection(t-p-g.border,r-p-g.border,n,i);p=m}let s=this.domFromPos(t,t?-1:1),l=r==t?s:this.domFromPos(r,r?-1:1),c=n.root.getSelection(),u=n.domSelectionRange(),f=!1;if((mn||pr)&&t==r){let{node:h,offset:p}=s;if(h.nodeType==3){if(f=!!(p&&h.nodeValue[p-1]==`
`),f&&p==h.nodeValue.length)for(let g=h,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(s=l={node:m.parentNode,offset:Yt(m)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=h.childNodes[p-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(mn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||f&&pr)&&es(s.node,s.offset,u.anchorNode,u.anchorOffset)&&es(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((c.extend||t==r)&&!(f&&mn)){c.collapse(s.node,s.offset);try{t!=r&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(t>r){let p=s;s=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let n=0,i=0;i<this.children.length;i++){let o=this.children[i],a=n+o.size;if(n==a?t<=a&&r>=n:t<a&&r>n){let s=n+o.border,l=a-o.border;if(t>=s&&r<=l){this.dirty=t==n||r==a?Ra:zE,t==s&&r==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=gi:o.markDirty(t-s,r-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ra:gi}n=a}this.dirty=Ra}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let n=t==1?Ra:zE;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class $R extends jf{constructor(t,r,n,i){let o,a=r.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!r.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=r,this.widget=r,o=this}matchesWidget(t){return this.dirty==vn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return r?r(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class $Z extends jf{constructor(t,r,n,i){super(t,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class ts extends jf{constructor(t,r,n,i,o){super(t,[],n,i),this.mark=r,this.spec=o}static create(t,r,n,i){let o=i.nodeViews[r.type.name],a=o&&o(r,i,n);return(!a||!a.dom)&&(a=xs.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new ts(t,r,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&gi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=gi&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),this.dirty!=vn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=vn}}slice(t,r,n){let i=ts.create(this.parent,this.mark,!0,n),o=this.children,a=this.size;r<a&&(o=kw(o,r,a,n)),t>0&&(o=kw(o,0,t,n));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ko extends jf{constructor(t,r,n,i,o,a,s,l,c){super(t,[],o,a),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(t,r,n,i,o,a){let s=o.nodeViews[r.type.name],l,c=s&&s(r,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),u=c&&c.dom,f=c&&c.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=xs.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!f&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let d=u;return u=kR(u,n,r),c?l=new wZ(t,r,n,i,u,f||null,d,c,o,a+1):r.isText?new Km(t,r,n,i,u,d,o):new Ko(t,r,n,i,u,f||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>K.empty)}return t}matchesNode(t,r,n){return this.dirty==vn&&t.eq(this.node)&&eg(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let n=this.node.inlineContent,i=r,o=t.composing?this.localCompositionInfo(t,r):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new SZ(this,a&&a.node,t);TZ(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,t):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?We.none:this.node.child(u).marks,n,t),l.placeWidget(c,t,i)},(c,u,f,d)=>{l.syncToMarks(c.marks,n,t);let h;l.findNodeMatch(c,u,f,d)||s&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,f,h,t)||l.updateNextNode(c,u,f,t,d,i)||l.addNode(c,u,f,t,i),i+=c.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ra)&&(a&&this.protectLocalComposition(t,a),xR(this.contentDOM,this.children,t),Ul&&CZ(this.dom))}localCompositionInfo(t,r){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof ve)||n<r||i>r+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=EZ(this.node.content,a,n-r,i-r);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let o=r;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new $Z(this,o,r,i);t.input.compositionNodes.push(a),this.children=kw(this.children,n,n+i.length,t,a)}update(t,r,n,i){return this.dirty==gi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,r,n,i),!0)}updateInner(t,r,n,i){this.updateOuterDeco(r),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=vn}updateOuterDeco(t){if(eg(t,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=SR(this.dom,this.nodeDOM,Sw(this.outerDeco,this.node,r),Sw(t,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function HE(e,t,r,n,i){kR(n,t,e);let o=new Ko(void 0,e,t,r,n,n,n,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Km extends Ko{constructor(t,r,n,i,o,a,s){super(t,r,n,i,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,n,i){return this.dirty==gi||this.dirty!=vn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=vn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=vn,!0)}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,n){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,r,n){let i=this.node.cut(t,r),o=document.createTextNode(i.text);return new Km(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(t==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=gi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class wR extends jf{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==vn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class wZ extends Ko{constructor(t,r,n,i,o,a,s,l,c,u){super(t,r,n,i,o,a,s,c,u),this.spec=l}update(t,r,n,i){if(this.dirty==gi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,r,n);return o&&this.updateInner(t,r,n,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,n,i){this.spec.setSelection?this.spec.setSelection(t,r,n.root):super.setSelection(t,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function xR(e,t,r){let n=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=n;)n=UE(n),i=!0;n=n.nextSibling}else i=!0,e.insertBefore(s,n);if(a instanceof ts){let l=n?n.previousSibling:e.lastChild;xR(a.contentDOM,a.children,r),n=l?l.nextSibling:e.firstChild}}for(;n;)n=UE(n),i=!0;i&&r.trackWrites==e&&(r.trackWrites=null)}const Mu=function(e){e&&(this.nodeName=e)};Mu.prototype=Object.create(null);const Fa=[new Mu];function Sw(e,t,r){if(e.length==0)return Fa;let n=r?Fa[0]:new Mu,i=[n];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(n=new Mu(a.nodeName));for(let s in a){let l=a[s];l!=null&&(r&&i.length==1&&i.push(n=new Mu(t.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function SR(e,t,r,n){if(r==Fa&&n==Fa)return t;let i=t;for(let o=0;o<n.length;o++){let a=n[o],s=r[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Fa[0]),i=l}xZ(i,s||Fa[0],a)}return i}function xZ(e,t,r){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&e.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=t[n]&&e.setAttribute(n,r[n]);if(t.class!=r.class){let n=t.class?t.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)i.indexOf(n[o])==-1&&e.classList.remove(n[o]);for(let o=0;o<i.length;o++)n.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(t.style);)e.style.removeProperty(i[1])}r.style&&(e.style.cssText+=r.style)}}function kR(e,t,r){return SR(e,e,Fa,Sw(t,r,e.nodeType!=1))}function eg(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function UE(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class SZ{constructor(t,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=kZ(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let n=t;n<r;n++)this.top.children[n].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,n){let i=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=vn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=ts.create(this.top,t[o],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,r,n,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,r,n))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(t,r,n)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,r,n,i,o){let a=this.top.children[i];return a.dirty==gi&&a.dom==a.contentDOM&&(a.dirty=Ra),a.update(t,r,n,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}t=r}}updateNextNode(t,r,n,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Ko){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,f,d=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=gi&&eg(r,l.outerDeco));if(!d&&l.update(t,r,n,i))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(l,t,r,n,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Ra,f.updateChildren(i,a+1),f.dirty=vn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,n,i,o,a){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content)||!eg(n,t.outerDeco)||!i.eq(t.innerDeco))return null;let s=Ko.create(this.top,r,n,i,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,r,n,i,o){let a=Ko.create(this.top,t,r,n,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new $R(this.top,t,r,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof ts;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof Km)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((pr||ir)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new wR(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function kZ(e,t){let r=t,n=r.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(n){let c=r.children[n-1];if(c instanceof ts)r=c,n=c.children.length;else{s=c,n--;break}}else{if(r==t)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function OZ(e,t){return e.type.side-t.type.side}function TZ(e,t,r,n){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);n(u,i,t.forChild(o,u),c),o+=u.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,f;for(;a<i.length&&i[a].to==o;){let m=i[a++];m.widget&&(u?(f||(f=[u])).push(m):u=m)}if(u)if(f){f.sort(OZ);for(let m=0;m<f.length;m++)r(f[m],c,!!l)}else r(u,c,!!l);let d,h;if(l)h=-1,d=l,l=null;else if(c<e.childCount)h=c,d=e.child(c++);else break;for(let m=0;m<s.length;m++)s[m].to<=o&&s.splice(m--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let p=o+d.nodeSize;if(d.isText){let m=p;a<i.length&&i[a].from<m&&(m=i[a].from);for(let v=0;v<s.length;v++)s[v].to<m&&(m=s[v].to);m<p&&(l=d.cut(m-o),d=d.cut(0,m-o),p=m,h=-1)}else for(;a<i.length&&i[a].to<p;)a++;let g=d.isInline&&!d.isLeaf?s.filter(m=>!m.inline):s.slice();n(d,g,t.forChild(o,d),h),o=p}}function CZ(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function EZ(e,t,r,n){for(let i=0,o=0;i<e.childCount&&o<=n;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=r){if(o>=n&&l.slice(n-t.length-s,n-s)==t)return n-t.length;let c=s<n?l.lastIndexOf(t,n-s-1):-1;if(c>=0&&c+t.length+s>=r)return s+c;if(r==n&&l.length>=n+t.length-s&&l.slice(n-s,n-s+t.length)==t)return n}}return-1}function kw(e,t,r,n,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=r||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,n)),i&&(o.push(i),i=void 0),u>r&&o.push(l.slice(r-c,l.size,n)))}return o}function SS(e,t=null){let r=e.domSelectionRange(),n=e.state.doc;if(!r.focusNode)return null;let i=e.docView.nearestDesc(r.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let s=n.resolve(a),l,c;if(Wm(r)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&fe.isSelectable(f)&&i.parent&&!(f.isInline&&eZ(r.focusNode,r.focusOffset,i.dom))){let d=i.posBefore;c=new fe(a==d?s:n.resolve(d))}}else{if(r instanceof e.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let f=a,d=a;for(let h=0;h<r.rangeCount;h++){let p=r.getRangeAt(h);f=Math.min(f,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),d=Math.max(d,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(f<0)return null;[l,a]=d==e.state.selection.anchor?[d,f]:[f,d],s=n.resolve(a)}else l=e.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let u=n.resolve(l);if(!c){let f=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;c=kS(e,u,s,f)}return c}function OR(e){return e.editable?e.hasFocus():CR(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Xi(e,t=!1){let r=e.state.selection;if(TR(e,r),!!OR(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ir){let n=e.domSelectionRange(),i=e.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&es(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)AZ(e);else{let{anchor:n,head:i}=r,o,a;VE&&!(r instanceof ve)&&(r.$from.parent.inlineContent||(o=WE(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=WE(e,r.to))),e.docView.setSelection(n,i,e,t),VE&&(o&&KE(o),a&&KE(a)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&MZ(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const VE=pr||ir&&hR<63;function WE(e,t){let{node:r,offset:n}=e.docView.domFromPos(t,0),i=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(pr&&i&&i.contentEditable=="false")return yb(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return yb(i);if(o)return yb(o)}}function yb(e){return e.contentEditable="true",pr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function KE(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function MZ(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let r=e.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!OR(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function AZ(e){let t=e.domSelection();if(!t)return;let r=e.cursorWrapper.dom,n=r.nodeName=="IMG";n?t.collapse(r.parentNode,Yt(r)+1):t.collapse(r,0),!n&&!e.state.selection.visible&&Pr&&Wo<=11&&(r.disabled=!0,r.disabled=!1)}function TR(e,t){if(t instanceof fe){let r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(GE(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else GE(e)}function GE(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function kS(e,t,r,n){return e.someProp("createSelectionBetween",i=>i(e,t,r))||ve.between(t,r,n)}function qE(e){return e.editable&&!e.hasFocus()?!1:CR(e)}function CR(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function IZ(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.domSelectionRange();return es(t.node,t.offset,r.anchorNode,r.anchorOffset)}function Ow(e,t){let{$anchor:r,$head:n}=e.selection,i=t>0?r.max(n):r.min(n),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&xe.findFrom(o,t)}function Oo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function YE(e,t,r){let n=e.state.selection;if(n instanceof ve)if(r.indexOf("s")>-1){let{$head:i}=n,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return Oo(e,new ve(n.$anchor,a))}else if(n.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=Ow(e.state,t);return i&&i instanceof fe?Oo(e,i):!1}else if(!(fn&&r.indexOf("m")>-1)){let i=n.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM?fe.isSelectable(o)?Oo(e,new fe(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):Ff?Oo(e,new ve(e.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof fe&&n.node.isInline)return Oo(e,new ve(t>0?n.$to:n.$from));{let i=Ow(e.state,t);return i?Oo(e,i):!1}}}function tg(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Au(e,t){let r=e.pmViewDesc;return r&&r.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Gs(e,t){return t<0?PZ(e):_Z(e)}function PZ(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let i,o,a=!1;for(mn&&r.nodeType==1&&n<tg(r)&&Au(r.childNodes[n],-1)&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let s=r.childNodes[n-1];if(Au(s,-1))i=r,o=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}}else{if(ER(r))break;{let s=r.previousSibling;for(;s&&Au(s,-1);)i=r.parentNode,o=Yt(s),s=s.previousSibling;if(s)r=s,n=tg(r);else{if(r=r.parentNode,r==e.dom)break;n=0}}}a?Tw(e,r,n):i&&Tw(e,i,o)}function _Z(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let i=tg(r),o,a;for(;;)if(n<i){if(r.nodeType!=1)break;let s=r.childNodes[n];if(Au(s,1))o=r,a=++n;else break}else{if(ER(r))break;{let s=r.nextSibling;for(;s&&Au(s,1);)o=s.parentNode,a=Yt(s)+1,s=s.nextSibling;if(s)r=s,n=0,i=tg(r);else{if(r=r.parentNode,r==e.dom)break;n=i=0}}}o&&Tw(e,o,a)}function ER(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function DZ(e,t){for(;e&&t==e.childNodes.length&&!Rf(e);)t=Yt(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let r=e.childNodes[t];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=0}}function LZ(e,t){for(;e&&!t&&!Rf(e);)t=Yt(e),e=e.parentNode;for(;e&&t;){let r=e.childNodes[t-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=e.childNodes.length}}function Tw(e,t,r){if(t.nodeType!=3){let o,a;(a=DZ(t,r))?(t=a,r=0):(o=LZ(t,r))&&(t=o,r=o.nodeValue.length)}let n=e.domSelection();if(!n)return;if(Wm(n)){let o=document.createRange();o.setEnd(t,r),o.setStart(t,r),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(t,r);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Xi(e)},50)}function JE(e,t){let r=e.state.doc.resolve(t);if(!(ir||nZ)&&r.parent.inlineContent){let i=e.coordsAtPos(t);if(t>r.start()){let o=e.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<r.end()){let o=e.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function XE(e,t,r){let n=e.state.selection;if(n instanceof ve&&!n.empty||r.indexOf("s")>-1||fn&&r.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=Ow(e.state,t);if(a&&a instanceof fe)return Oo(e,a)}if(!i.parent.inlineContent){let a=t<0?i:o,s=n instanceof Jr?xe.near(a,t):xe.findFrom(a,t);return s?Oo(e,s):!1}return!1}function QE(e,t){if(!(e.state.selection instanceof ve))return!0;let{$head:r,$anchor:n,empty:i}=e.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let a=e.state.tr;return t<0?a.delete(r.pos-o.nodeSize,r.pos):a.delete(r.pos,r.pos+o.nodeSize),e.dispatch(a),!0}return!1}function ZE(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function NZ(e){if(!pr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(t&&t.nodeType==1&&r==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;ZE(e,n,"true"),setTimeout(()=>ZE(e,n,"false"),20)}return!1}function RZ(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function FZ(e,t){let r=t.keyCode,n=RZ(t);if(r==8||fn&&r==72&&n=="c")return QE(e,-1)||Gs(e,-1);if(r==46&&!t.shiftKey||fn&&r==68&&n=="c")return QE(e,1)||Gs(e,1);if(r==13||r==27)return!0;if(r==37||fn&&r==66&&n=="c"){let i=r==37?JE(e,e.state.selection.from)=="ltr"?-1:1:-1;return YE(e,i,n)||Gs(e,i)}else if(r==39||fn&&r==70&&n=="c"){let i=r==39?JE(e,e.state.selection.from)=="ltr"?1:-1:1;return YE(e,i,n)||Gs(e,i)}else{if(r==38||fn&&r==80&&n=="c")return XE(e,-1,n)||Gs(e,-1);if(r==40||fn&&r==78&&n=="c")return NZ(e)||XE(e,1,n)||Gs(e,1);if(n==(fn?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function OS(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let r=[],{content:n,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;let h=n.firstChild;r.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let a=e.someProp("clipboardSerializer")||xs.fromSchema(e.state.schema),s=DR(),l=s.createElement("div");l.appendChild(a.serializeFragment(n,{document:s}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=_R[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=s.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(r)}`);let d=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:d,slice:t}}function MR(e,t,r,n,i){let o=i.parent.type.spec.code,a,s;if(!r&&!t)return null;let l=!!t&&(n||o||!r);if(l){if(e.someProp("transformPastedText",d=>{t=d(t,o||n,e)}),o)return s=new X(K.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",d=>{s=d(s,e,!0)}),s;let f=e.someProp("clipboardTextParser",d=>d(t,i,n,e));if(f)s=f;else{let d=i.marks(),{schema:h}=e.state,p=xs.fromSchema(h);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=a.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(h.text(g,d)))})}}else e.someProp("transformPastedHTML",f=>{r=f(r,e)}),a=HZ(r),Ff&&UZ(a);let c=a&&a.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let d=a.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;a=d}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||Vo.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!jZ.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)s=VZ(eM(s,+u[1],+u[2]),u[4]);else if(s=X.maxOpen(BZ(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let h=s.content.firstChild;f<s.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=s.content.lastChild;d<s.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);s=eM(s,f,d)}return e.someProp("transformPasted",f=>{s=f(s,e,l)}),s}const jZ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function BZ(e,t){if(e.childCount<2)return e;for(let r=t.depth;r>=0;r--){let i=t.node(r).contentMatchAt(t.index(r)),o,a=[];if(e.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&IR(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=PR(a[a.length-1],o.length));let u=AR(s,l);a.push(u),i=i.matchType(u.type),o=l}}),a)return K.from(a)}return e}function AR(e,t,r=0){for(let n=t.length-1;n>=r;n--)e=t[n].create(null,K.from(e));return e}function IR(e,t,r,n,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=IR(e,t,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==e.length-1?r.type:e[i+1]))return n.copy(n.content.append(K.from(AR(r,e,i+1))))}}function PR(e,t){if(t==0)return e;let r=e.content.replaceChild(e.childCount-1,PR(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(K.empty,!0);return e.copy(r.append(n))}function Cw(e,t,r,n,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<n-1&&(s=Cw(s,t,r,n,i+1,o)),i>=r&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(K.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function eM(e,t,r){return t<e.openStart&&(e=new X(Cw(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new X(Cw(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}const _R={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let tM=null;function DR(){return tM||(tM=document.implementation.createHTMLDocument("title"))}let $b=null;function zZ(e){let t=window.trustedTypes;return t?($b||($b=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),$b.createHTML(e)):e}function HZ(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let r=DR().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),i;if((i=n&&_R[n[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),r.innerHTML=zZ(e),i)for(let o=0;o<i.length;o++)r=r.querySelector(i[o])||r;return r}function UZ(e){let t=e.querySelectorAll(ir?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let n=t[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function VZ(e,t){if(!e.size)return e;let r=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:a}=e;for(let s=n.length-2;s>=0;s-=2){let l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=K.from(l.create(n[s+1],i)),o++,a++}return new X(i,o,a)}const gr={},mr={},WZ={touchstart:!0,touchmove:!0};class KZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function GZ(e){for(let t in gr){let r=gr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=n=>{YZ(e,n)&&!TS(e,n)&&(e.editable||!(n.type in mr))&&r(e,n)},WZ[t]?{passive:!0}:void 0)}pr&&e.dom.addEventListener("input",()=>null),Ew(e)}function jo(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function qZ(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Ew(e){e.someProp("handleDOMEvents",t=>{for(let r in t)e.input.eventHandlers[r]||e.dom.addEventListener(r,e.input.eventHandlers[r]=n=>TS(e,n))})}function TS(e,t){return e.someProp("handleDOMEvents",r=>{let n=r[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function YZ(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function JZ(e,t){!TS(e,t)&&gr[t.type]&&(e.editable||!(t.type in mr))&&gr[t.type](e,t)}mr.keydown=(e,t)=>{let r=t;if(e.input.shiftKey=r.keyCode==16||r.shiftKey,!NR(e,r)&&(e.input.lastKeyCode=r.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Ui&&ir&&r.keyCode==13)))if(r.keyCode!=229&&e.domObserver.forceFlush(),Ul&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();e.input.lastIOSEnter=n,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==n&&(e.someProp("handleKeyDown",i=>i(e,_a(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",n=>n(e,r))||FZ(e,r)?r.preventDefault():jo(e,"key")};mr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};mr.keypress=(e,t)=>{let r=t;if(NR(e,r)||!r.charCode||r.ctrlKey&&!r.altKey||fn&&r.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,r))){r.preventDefault();return}let n=e.state.selection;if(!(n instanceof ve)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,n.$from.pos,n.$to.pos,i,o))&&e.dispatch(o()),r.preventDefault()}};function Gm(e){return{left:e.clientX,top:e.clientY}}function XZ(e,t){let r=t.x-e.clientX,n=t.y-e.clientY;return r*r+n*n<100}function CS(e,t,r,n,i){if(n==-1)return!1;let o=e.state.doc.resolve(n);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,s=>a>o.depth?s(e,r,o.nodeAfter,o.before(a),i,!0):s(e,r,o.node(a),o.before(a),i,!1)))return!0;return!1}function Ml(e,t,r){if(e.focused||e.focus(),e.state.selection.eq(t))return;let n=e.state.tr.setSelection(t);n.setMeta("pointer",!0),e.dispatch(n)}function QZ(e,t){if(t==-1)return!1;let r=e.state.doc.resolve(t),n=r.nodeAfter;return n&&n.isAtom&&fe.isSelectable(n)?(Ml(e,new fe(r)),!0):!1}function ZZ(e,t){if(t==-1)return!1;let r=e.state.selection,n,i;r instanceof fe&&(n=r.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(fe.isSelectable(s)){n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?i=o.before(r.$from.depth):i=o.before(a);break}}return i!=null?(Ml(e,fe.create(e.state.doc,i)),!0):!1}function eee(e,t,r,n,i){return CS(e,"handleClickOn",t,r,n)||e.someProp("handleClick",o=>o(e,t,n))||(i?ZZ(e,r):QZ(e,r))}function tee(e,t,r,n){return CS(e,"handleDoubleClickOn",t,r,n)||e.someProp("handleDoubleClick",i=>i(e,t,n))}function ree(e,t,r,n){return CS(e,"handleTripleClickOn",t,r,n)||e.someProp("handleTripleClick",i=>i(e,t,n))||nee(e,r,n)}function nee(e,t,r){if(r.button!=0)return!1;let n=e.state.doc;if(t==-1)return n.inlineContent?(Ml(e,ve.create(n,0,n.content.size)),!0):!1;let i=n.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Ml(e,ve.create(n,s+1,s+1+a.content.size));else if(fe.isSelectable(a))Ml(e,fe.create(n,s));else continue;return!0}}function ES(e){return rg(e)}const LR=fn?"metaKey":"ctrlKey";gr.mousedown=(e,t)=>{let r=t;e.input.shiftKey=r.shiftKey;let n=ES(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&XZ(r,e.input.lastClick)&&!r[LR]&&e.input.lastClick.button==r.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:o,button:r.button};let a=e.posAtCoords(Gm(r));a&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new iee(e,a,r,!!n)):(o=="doubleClick"?tee:ree)(e,a.pos,a.inside,r)?r.preventDefault():jo(e,"pointer"))};class iee{constructor(t,r,n,i){this.view=t,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[LR],this.allowDefault=n.shiftKey;let o,a;if(r.inside>-1)o=t.state.doc.nodeAt(r.inside),a=r.inside;else{let u=t.state.doc.resolve(r.pos);o=u.parent,a=u.depth?u.before():0}const s=i?null:n.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof fe&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&mn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),jo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Xi(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Gm(t))),this.updateAllowDefault(t),this.allowDefault||!r?jo(this.view,"pointer"):eee(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||pr&&this.mightDrag&&!this.mightDrag.node.isAtom||ir&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ml(this.view,xe.near(this.view.state.doc.resolve(r.pos))),t.preventDefault()):jo(this.view,"pointer")}move(t){this.updateAllowDefault(t),jo(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}gr.touchstart=e=>{e.input.lastTouch=Date.now(),ES(e),jo(e,"pointer")};gr.touchmove=e=>{e.input.lastTouch=Date.now(),jo(e,"pointer")};gr.contextmenu=e=>ES(e);function NR(e,t){return e.composing?!0:pr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const oee=Ui?5e3:-1;mr.compositionstart=mr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,r=t.selection.$to;if(t.selection instanceof ve&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||r.marks(),rg(e,!0),e.markCursor=null;else if(rg(e,!t.selection.empty),mn&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=e.domSelectionRange();for(let i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=e.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}e.input.composing=!0}RR(e,oee)};mr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,RR(e,20))};function RR(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>rg(e),t))}function FR(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=see());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function aee(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let r=QQ(t.focusNode,t.focusOffset),n=ZQ(t.focusNode,t.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(r==o||n==o)return o;if(!i||!i.isText(n.nodeValue))return n;if(e.input.compositionNode==n){let a=r.pmViewDesc;if(!(!a||!a.isText(r.nodeValue)))return n}}return r||n}function see(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function rg(e,t=!1){if(!(Ui&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),FR(e),t||e.docView&&e.docView.dirty){let r=SS(e),n=e.state.selection;return r&&!r.eq(n)?e.dispatch(e.state.tr.setSelection(r)):(e.markCursor||t)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function lee(e,t){if(!e.dom.parentNode)return;let r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}const of=Pr&&Wo<15||Ul&&iZ<604;gr.copy=mr.cut=(e,t)=>{let r=t,n=e.state.selection,i=r.type=="cut";if(n.empty)return;let o=of?null:r.clipboardData,a=n.content(),{dom:s,text:l}=OS(e,a);o?(r.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):lee(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function cee(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function uee(e,t){if(!e.dom.parentNode)return;let r=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),n.parentNode&&n.parentNode.removeChild(n),r?af(e,n.value,null,i,t):af(e,n.textContent,n.innerHTML,i,t)},50)}function af(e,t,r,n,i){let o=MR(e,t,r,n,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||X.empty)))return!0;if(!o)return!1;let a=cee(o),s=a?e.state.tr.replaceSelectionWith(a,n):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function jR(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let r=e.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}mr.paste=(e,t)=>{let r=t;if(e.composing&&!Ui)return;let n=of?null:r.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;n&&af(e,jR(n),n.getData("text/html"),i,r)?r.preventDefault():uee(e,r)};class BR{constructor(t,r,n){this.slice=t,this.move=r,this.node=n}}const fee=fn?"altKey":"ctrlKey";function zR(e,t){let r=e.someProp("dragCopies",n=>!n(t));return r??!t[fee]}gr.dragstart=(e,t)=>{let r=t,n=e.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(Gm(r)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof fe?i.to-1:i.to))){if(n&&n.mightDrag)a=fe.create(e.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let f=e.docView.nearestDesc(r.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&(a=fe.create(e.state.doc,f.posBefore))}}let s=(a||e.state.selection).content(),{dom:l,text:c,slice:u}=OS(e,s);(!r.dataTransfer.files.length||!ir||hR>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(of?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",of||r.dataTransfer.setData("text/plain",c),e.dragging=new BR(u,zR(e,r),a)};gr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};mr.dragover=mr.dragenter=(e,t)=>t.preventDefault();mr.drop=(e,t)=>{let r=t,n=e.dragging;if(e.dragging=null,!r.dataTransfer)return;let i=e.posAtCoords(Gm(r));if(!i)return;let o=e.state.doc.resolve(i.pos),a=n&&n.slice;a?e.someProp("transformPasted",p=>{a=p(a,e,!1)}):a=MR(e,jR(r.dataTransfer),of?null:r.dataTransfer.getData("text/html"),!1,o);let s=!!(n&&zR(e,r));if(e.someProp("handleDrop",p=>p(e,r,a||X.empty,s))){r.preventDefault();return}if(!a)return;r.preventDefault();let l=a?KN(e.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(s){let{node:p}=n;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(d))return;let h=c.doc.resolve(u);if(f&&fe.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new fe(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,m,v,b)=>p=b),c.setSelection(kS(e,h,c.doc.resolve(p)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};gr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Xi(e)},20))};gr.blur=(e,t)=>{let r=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),r.relatedTarget&&e.dom.contains(r.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};gr.beforeinput=(e,t)=>{if(ir&&Ui&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,_a(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in mr)gr[e]=mr[e];function sf(e,t){if(e==t)return!0;for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}class ng{constructor(t,r){this.toDOM=t,this.spec=r||Ka,this.side=this.spec.side||0}map(t,r,n,i){let{pos:o,deleted:a}=t.mapResult(r.from+i,this.side<0?-1:1);return a?null:new hr(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof ng&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&sf(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Go{constructor(t,r){this.attrs=t,this.spec=r||Ka}map(t,r,n,i){let o=t.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=t.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new hr(o,a,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof Go&&sf(this.attrs,t.attrs)&&sf(this.spec,t.spec)}static is(t){return t.type instanceof Go}destroy(){}}class MS{constructor(t,r){this.attrs=t,this.spec=r||Ka}map(t,r,n,i){let o=t.mapResult(r.from+i,1);if(o.deleted)return null;let a=t.mapResult(r.to+i,-1);return a.deleted||a.pos<=o.pos?null:new hr(o.pos-n,a.pos-n,this)}valid(t,r){let{index:n,offset:i}=t.content.findIndex(r.from),o;return i==r.from&&!(o=t.child(n)).isText&&i+o.nodeSize==r.to}eq(t){return this==t||t instanceof MS&&sf(this.attrs,t.attrs)&&sf(this.spec,t.spec)}destroy(){}}class hr{constructor(t,r,n){this.from=t,this.to=r,this.type=n}copy(t,r){return new hr(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,n){return this.type.map(t,this,r,n)}static widget(t,r,n){return new hr(t,t,new ng(r,n))}static inline(t,r,n,i){return new hr(t,r,new Go(n,i))}static node(t,r,n,i){return new hr(t,r,new MS(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Go}get widget(){return this.type instanceof ng}}const cl=[],Ka={};class tt{constructor(t,r){this.local=t.length?t:cl,this.children=r.length?r:cl}static create(t,r){return r.length?ig(r,t,0,Ka):tr}find(t,r,n){let i=[];return this.findInner(t??0,r??1e9,i,0,n),i}findInner(t,r,n,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=r&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,r-s,n,i+s,o)}}map(t,r,n){return this==tr||t.maps.length==0?this:this.mapInner(t,r,0,0,n||Ka)}mapInner(t,r,n,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,n,i);l&&l.type.valid(r,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?dee(this.children,a||[],t,r,n,i,o):a?new tt(a.sort(Ga),cl):tr}add(t,r){return r.length?this==tr?tt.create(t,r):this.addInner(t,r,0):this}addInner(t,r,n){let i,o=0;t.forEach((s,l)=>{let c=l+n,u;if(u=UR(r,s,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,u,c+1):i.splice(o,0,l,l+s.nodeSize,ig(u,s,c+1,Ka)),o+=3}});let a=HR(o?VR(r):r,-n);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new tt(a.length?this.local.concat(a).sort(Ga):this.local,i||this.children)}remove(t){return t.length==0||this==tr?this:this.removeInner(t,0)}removeInner(t,r){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let a,s=n[o]+r,l=n[o+1]+r;for(let u=0,f;u<t.length;u++)(f=t[u])&&f.from>s&&f.to<l&&(t[u]=null,(a||(a=[])).push(f));if(!a)continue;n==this.children&&(n=this.children.slice());let c=n[o+2].removeInner(a,s+1);c!=tr?n[o+2]=c:(n.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<i.length;s++)i[s].eq(a,r)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new tt(i,n):tr}forChild(t,r){if(this==tr)return this;if(r.isLeaf)return tt.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(n=this.children[s+2]);break}let o=t+1,a=o+r.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Go){let c=Math.max(o,l.from)-o,u=Math.min(a,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let s=new tt(i.sort(Ga),cl);return n?new Io([s,n]):s}return n||tr}eq(t){if(this==t)return!0;if(!(t instanceof tt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return AS(this.localsInner(t))}localsInner(t){if(this==tr)return cl;if(t.inlineContent||!this.local.some(Go.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Go||r.push(this.local[n]);return r}forEachSet(t){t(this)}}tt.empty=new tt([],[]);tt.removeOverlap=AS;const tr=tt.empty;class Io{constructor(t){this.members=t}map(t,r){const n=this.members.map(i=>i.map(t,r,Ka));return Io.from(n)}forChild(t,r){if(r.isLeaf)return tt.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,r);o!=tr&&(o instanceof Io?n=n.concat(o.members):n.push(o))}return Io.from(n)}eq(t){if(!(t instanceof Io)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(let a=0;a<o.length;a++)r.push(o[a])}}return r?AS(n?r:r.sort(Ga)):cl}static from(t){switch(t.length){case 0:return tr;case 1:return t[0];default:return new Io(t.every(r=>r instanceof tt)?t:t.reduce((r,n)=>r.concat(n instanceof tt?n:n.members),[]))}}forEachSet(t){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(t)}}function dee(e,t,r,n,i,o,a){let s=e.slice();for(let c=0,u=o;c<r.maps.length;c++){let f=0;r.maps[c].forEach((d,h,p,g)=>{let m=g-p-(h-d);for(let v=0;v<s.length;v+=3){let b=s[v+1];if(b<0||d>b+u-f)continue;let y=s[v]+u-f;h>=y?s[v+1]=d<=y?-2:-1:d>=u&&m&&(s[v]+=m,s[v+1]+=m)}f+=m}),u=r.maps[c].map(u,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let u=r.map(e[c]+o),f=u-i;if(f<0||f>=n.content.size){l=!0;continue}let d=r.map(e[c+1]+o,-1),h=d-i,{index:p,offset:g}=n.content.findIndex(f),m=n.maybeChild(p);if(m&&g==f&&g+m.nodeSize==h){let v=s[c+2].mapInner(r,m,u+1,e[c]+o+1,a);v!=tr?(s[c]=f,s[c+1]=h,s[c+2]=v):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=hee(s,e,t,r,i,o,a),u=ig(c,n,0,a);t=u.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<u.children.length;f+=3){let h=u.children[f];for(;d<s.length&&s[d]<h;)d+=3;s.splice(d,0,u.children[f],u.children[f+1],u.children[f+2])}}return new tt(t.sort(Ga),s)}function HR(e,t){if(!t||!e.length)return e;let r=[];for(let n=0;n<e.length;n++){let i=e[n];r.push(new hr(i.from+t,i.to+t,i.type))}return r}function hee(e,t,r,n,i,o,a){function s(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(n,i,c);f?r.push(f):a.onRemove&&a.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)s(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+o+1);return r}function UR(e,t,r){if(t.isLeaf)return null;let n=r+t.nodeSize,i=null;for(let o=0,a;o<e.length;o++)(a=e[o])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),e[o]=null);return i}function VR(e){let t=[];for(let r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function ig(e,t,r,n){let i=[],o=!1;t.forEach((s,l)=>{let c=UR(e,s,l+r);if(c){o=!0;let u=ig(c,s,r+l+1,n);u!=tr&&i.push(l,l+s.nodeSize,u)}});let a=HR(o?VR(e):e,-r).sort(Ga);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new tt(a,i):tr}function Ga(e,t){return e.from-t.from||e.to-t.to}function AS(e){let t=e;for(let r=0;r<t.length-1;r++){let n=t[r];if(n.from!=n.to)for(let i=r+1;i<t.length;i++){let o=t[i];if(o.from==n.from){o.to!=n.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,n.to),rM(t,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==e&&(t=e.slice()),t[r]=n.copy(n.from,o.from),rM(t,i,n.copy(o.from,n.to)));break}}}return t}function rM(e,t,r){for(;t<e.length&&Ga(r,e[t])>0;)t++;e.splice(t,0,r)}function wb(e){let t=[];return e.someProp("decorations",r=>{let n=r(e.state);n&&n!=tr&&t.push(n)}),e.cursorWrapper&&t.push(tt.create(e.state.doc,[e.cursorWrapper.deco])),Io.from(t)}const pee={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},gee=Pr&&Wo<=11;class mee{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class vee{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new mee,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Pr&&Wo<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),gee&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,pee)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(qE(this.view)){if(this.suppressingSelectionUpdates)return Xi(this.view);if(Pr&&Wo<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&es(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let r=new Set,n;for(let o=t.focusNode;o;o=Hl(o))r.add(o);for(let o=t.anchorNode;o;o=Hl(o))if(r.has(o)){n=o;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&qE(t)&&!this.ignoreSelectionChange(n),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let u=0;u<r.length;u++){let f=this.registerMutation(r[u],l);f&&(o=o<0?f.from:Math.min(f.from,o),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(s=!0))}if(mn&&l.length){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,d]=u;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of u){let h=d.parentNode;h&&h.nodeName=="LI"&&(!f||$ee(t,f)!=h)&&d.remove()}}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Wm(n)&&(c=SS(t))&&c.eq(xe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Xi(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,a),bee(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Xi(t),this.currentSelection.set(n))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let f=t.addedNodes[u];r.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Pr&&Wo<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:f,nextSibling:d}=t.addedNodes[u];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(o=d)}let a=i&&i.parentNode==t.target?Yt(i)+1:0,s=n.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?Yt(o):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:s,to:c}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let nM=new WeakMap,iM=!1;function bee(e){if(!nM.has(e)&&(nM.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=mn,iM)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),iM=!0}}function oM(e,t){let r=t.startContainer,n=t.startOffset,i=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return es(a.node,a.offset,i,o)&&([r,n,i,o]=[i,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}}function yee(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return oM(e,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0),r?oM(e,r):null}function $ee(e,t){for(let r=t.parentNode;r&&r!=e.dom;r=r.parentNode){let n=e.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function wee(e,t,r){let{node:n,fromOffset:i,toOffset:o,from:a,to:s}=e.docView.parseRange(t,r),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Wm(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ir&&e.input.lastKeyCode===8)for(let m=o;m>i;m--){let v=n.childNodes[m-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){o=m;break}if(!b||b.size)break}let f=e.state.doc,d=e.someProp("domParser")||Vo.fromSchema(e.state.schema),h=f.resolve(a),p=null,g=d.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:xee,context:h});if(c&&c[0].pos!=null){let m=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=m),p={anchor:m+a,head:v+a}}return{doc:g,sel:p,from:a,to:s}}function xee(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(pr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||pr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const See=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function kee(e,t,r,n,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let O=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,T=SS(e,O);if(T&&!e.state.selection.eq(T)){if(ir&&Ui&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",L=>L(e,_a(13,"Enter"))))return;let D=e.state.tr.setSelection(T);O=="pointer"?D.setMeta("pointer",!0):O=="key"&&D.scrollIntoView(),o&&D.setMeta("composition",o),e.dispatch(D)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(r);t=a.before(s+1),r=e.state.doc.resolve(r).after(s+1);let l=e.state.selection,c=wee(e,t,r),u=e.state.doc,f=u.slice(c.from,c.to),d,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(d=e.state.selection.to,h="end"):(d=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=Cee(f.content,c.doc.content,c.from,d,h);if(p&&e.input.domChangeCount++,(Ul&&e.input.lastIOSEnter>Date.now()-225||Ui)&&i.some(O=>O.nodeType==1&&!See.test(O.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",O=>O(e,_a(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(n&&l instanceof ve&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let O=aM(e,e.state.doc,c.sel);if(O&&!O.eq(e.state.selection)){let T=e.state.tr.setSelection(O);o&&T.setMeta("composition",o),e.dispatch(T)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof ve&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Pr&&Wo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),m=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),b=g.sameParent(m)&&g.parent.inlineContent&&v.end()>=p.endA;if((Ul&&e.input.lastIOSEnter>Date.now()-225&&(!b||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&(!g.sameParent(m)||!g.parent.inlineContent)&&g.pos<m.pos&&!/\S/.test(c.doc.textBetween(g.pos,m.pos,"","")))&&e.someProp("handleKeyDown",O=>O(e,_a(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&Tee(u,p.start,p.endA,g,m)&&e.someProp("handleKeyDown",O=>O(e,_a(8,"Backspace")))){Ui&&ir&&e.domObserver.suppressSelectionUpdates();return}ir&&p.endB==p.start&&(e.input.lastChromeDelete=Date.now()),Ui&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,m=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(O){return O(e,_a(13,"Enter"))})},20));let y=p.start,w=p.endA,$=O=>{let T=O||e.state.tr.replace(y,w,c.doc.slice(p.start-c.from,p.endB-c.from));if(c.sel){let D=aM(e,T.doc,c.sel);D&&!(ir&&e.composing&&D.empty&&(p.start!=p.endB||e.input.lastChromeDelete<Date.now()-100)&&(D.head==y||D.head==T.mapping.map(w)-1)||Pr&&D.empty&&D.head==y)&&T.setSelection(D)}return o&&T.setMeta("composition",o),T.scrollIntoView()},x;if(b)if(g.pos==m.pos){Pr&&Wo<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Xi(e),20));let O=$(e.state.tr.delete(y,w)),T=u.resolve(p.start).marksAcross(u.resolve(p.endA));T&&O.ensureMarks(T),e.dispatch(O)}else if(p.endA==p.endB&&(x=Oee(g.parent.content.cut(g.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start())))){let O=$(e.state.tr);x.type=="add"?O.addMark(y,w,x.mark):O.removeMark(y,w,x.mark),e.dispatch(O)}else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let O=g.parent.textBetween(g.parentOffset,m.parentOffset),T=()=>$(e.state.tr.insertText(O,y,w));e.someProp("handleTextInput",D=>D(e,y,w,O,T))||e.dispatch(T())}else e.dispatch($());else e.dispatch($())}function aM(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:kS(e,t.resolve(r.anchor),t.resolve(r.head))}function Oee(e,t){let r=e.firstChild.marks,n=t.firstChild.marks,i=r,o=n,a,s,l;for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=u=>u.mark(s.addToSet(u.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=u=>u.mark(s.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(K.from(c).eq(e))return{mark:s,type:a}}function Tee(e,t,r,n,i){if(r-t<=i.pos-n.pos||xb(n,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!n.parent.isTextblock){let s=o.nodeAfter;return s!=null&&r==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(xb(o,!0,!0));return!a.parent.isTextblock||a.pos>r||xb(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function xb(e,t,r){let n=e.depth,i=t?e.end():e.pos;for(;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,i++,t=!1;if(r){let o=e.node(n).maybeChild(e.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Cee(e,t,r,n,i){let o=e.findDiffStart(t,r);if(o==null)return null;let{a,b:s}=e.findDiffEnd(t,r+e.size,r+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&e.size<t.size){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<t.size&&sM(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<e.size&&sM(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function sM(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),r=e.charCodeAt(1);return t>=56320&&t<=57343&&r>=55296&&r<=56319}class WR{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new KZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(dM),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=uM(this),cM(this),this.nodeViews=fM(this),this.docView=HE(this.state.doc,lM(this),wb(this),this.dom,this),this.domObserver=new vee(this,(n,i,o,a)=>kee(this,n,i,o,a)),this.domObserver.start(),GZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Ew(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(dM),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in t)r[n]=t[n];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){var n;let i=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(FR(this),a=!0),this.state=t;let s=i.plugins!=t.plugins||this._props.plugins!=r.plugins;if(s||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let h=fM(this);Mee(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(s||r.handleDOMEvents!=this._props.handleDOMEvents)&&Ew(this),this.editable=uM(this),cM(this);let l=wb(this),c=lM(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(t.doc,c,l);(f||!t.selection.eq(i.selection))&&(a=!0);let d=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&sZ(this);if(a){this.domObserver.stop();let h=f&&(Pr||ir)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Eee(i.selection,t.selection);if(f){let p=ir?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=aee(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=HE(t.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&IZ(this))?Xi(this,h):(TR(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&lZ(d)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof fe){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&NE(this,r.getBoundingClientRect(),t)}else NE(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,t)}}updateDraggedNode(t,r){let n=t.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let o=n.from+(this.state.doc.content.size-r.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(i=o)}this.dragging=new BR(t.slice,t.move,i<0?void 0:fe.create(this.state.doc,i))}someProp(t,r){let n=this._props&&this._props[t],i;if(n!=null&&(i=r?r(n):n))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(i=r?r(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(i=r?r(s):s))return i}}hasFocus(){if(Pr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&cZ(this.dom),Xi(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return t||document}updateRoot(){this._root=null}posAtCoords(t){return pZ(this,t)}coordsAtPos(t,r=1){return bR(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,n=-1){let i=this.docView.posFromDOM(t,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,r){return yZ(this,r||this.state,t)}pasteHTML(t,r){return af(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return af(this,t,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(t){return OS(this,t)}destroy(){this.docView&&(qZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],wb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,JQ())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return JZ(this,t)}domSelectionRange(){let t=this.domSelection();return t?pr&&this.root.nodeType===11&&tZ(this.dom.ownerDocument)==this.dom&&yee(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}WR.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function lM(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(e.state)),r)for(let n in r)n=="class"?t.class+=" "+r[n]:n=="style"?t.style=(t.style?t.style+";":"")+r[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(r[n]))}),t.translate||(t.translate="no"),[hr.node(0,e.state.doc.content.size,t)]}function cM(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:hr.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function uM(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Eee(e,t){let r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function fM(e){let t=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=n[i])}return e.someProp("nodeViews",r),e.someProp("markViews",r),t}function Mee(e,t){let r=0,n=0;for(let i in e){if(e[i]!=t[i])return!0;r++}for(let i in t)n++;return r!=n}function dM(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Jo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},og={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Aee=typeof navigator<"u"&&/Mac/.test(navigator.platform),Iee=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jt=0;Jt<10;Jt++)Jo[48+Jt]=Jo[96+Jt]=String(Jt);for(var Jt=1;Jt<=24;Jt++)Jo[Jt+111]="F"+Jt;for(var Jt=65;Jt<=90;Jt++)Jo[Jt]=String.fromCharCode(Jt+32),og[Jt]=String.fromCharCode(Jt);for(var Sb in Jo)og.hasOwnProperty(Sb)||(og[Sb]=Jo[Sb]);function Pee(e){var t=Aee&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Iee&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?og:Jo)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const _ee=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Dee=typeof navigator<"u"&&/Win/.test(navigator.platform);function Lee(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))_ee?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Nee(e){let t=Object.create(null);for(let r in e)t[Lee(r)]=e[r];return t}function kb(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function Ree(e){return new st({props:{handleKeyDown:KR(e)}})}function KR(e){let t=Nee(e);return function(r,n){let i=Pee(n),o,a=t[kb(i,n)];if(a&&a(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let s=t[kb(i,n,!1)];if(s&&s(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(Dee&&n.ctrlKey&&n.altKey)&&(o=Jo[n.keyCode])&&o!=i){let s=t[kb(o,n)];if(s&&s(r.state,r.dispatch,r))return!0}}return!1}}var Fee=Object.defineProperty,IS=(e,t)=>{for(var r in t)Fee(e,r,{get:t[r],enumerable:!0})};function qm(e){const{state:t,transaction:r}=e;let{selection:n}=r,{doc:i}=r,{storedMarks:o}=r;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,o=r.storedMarks,r}}}var Ym=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:n}=t,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,s])=>[a,(...c)=>{const u=s(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:n,state:i}=this,{view:o}=n,a=[],s=!!e,l=e||i.tr,c=()=>(!s&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(r).map(([f,d])=>[f,(...p)=>{const g=this.buildProps(l,t),m=d(...p)(g);return a.push(m),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:r}=this,n=!1,i=e||r.tr,o=this.buildProps(i,n);return{...Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,n)}}buildProps(e,t=!0){const{rawCommands:r,editor:n,state:i}=this,{view:o}=n,a={tr:e,editor:n,view:o,state:qm({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([s,l])=>[s,(...c)=>l(...c)(a)]))}};return a}},GR={};IS(GR,{blur:()=>jee,clearContent:()=>Bee,clearNodes:()=>zee,command:()=>Hee,createParagraphNear:()=>Uee,cut:()=>Vee,deleteCurrentNode:()=>Wee,deleteNode:()=>Kee,deleteRange:()=>Gee,deleteSelection:()=>qee,enter:()=>Yee,exitCode:()=>Jee,extendMarkRange:()=>Xee,first:()=>Qee,focus:()=>ete,forEach:()=>tte,insertContent:()=>rte,insertContentAt:()=>ote,joinBackward:()=>lte,joinDown:()=>ste,joinForward:()=>cte,joinItemBackward:()=>ute,joinItemForward:()=>fte,joinTextblockBackward:()=>dte,joinTextblockForward:()=>hte,joinUp:()=>ate,keyboardShortcut:()=>gte,lift:()=>mte,liftEmptyBlock:()=>vte,liftListItem:()=>bte,newlineInCode:()=>yte,resetAttributes:()=>$te,scrollIntoView:()=>wte,selectAll:()=>xte,selectNodeBackward:()=>Ste,selectNodeForward:()=>kte,selectParentNode:()=>Ote,selectTextblockEnd:()=>Tte,selectTextblockStart:()=>Cte,setContent:()=>Ete,setMark:()=>Kte,setMeta:()=>Gte,setNode:()=>qte,setNodeSelection:()=>Yte,setTextSelection:()=>Jte,sinkListItem:()=>Xte,splitBlock:()=>Qte,splitListItem:()=>Zte,toggleList:()=>ere,toggleMark:()=>tre,toggleNode:()=>rre,toggleWrap:()=>nre,undoInputRule:()=>ire,unsetAllMarks:()=>ore,unsetMark:()=>are,updateAttributes:()=>sre,wrapIn:()=>lre,wrapInList:()=>cre});var jee=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),Bee=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),zee=()=>({state:e,tr:t,dispatch:r})=>{const{selection:n}=t,{ranges:i}=n;return r&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:c,mapping:u}=t,f=c.resolve(u.map(l)),d=c.resolve(u.map(l+s.nodeSize)),h=f.blockRange(d);if(!h)return;const p=uc(h);if(s.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(h.start,g)}(p||p===0)&&t.lift(h,p)})}),!0},Hee=e=>t=>e(t),Uee=()=>({state:e,dispatch:t})=>lR(e,t),Vee=(e,t)=>({editor:r,tr:n})=>{const{state:i}=r,o=i.doc.slice(e.from,e.to);n.deleteRange(e.from,e.to);const a=n.mapping.map(t);return n.insert(a,o.content),n.setSelection(new ve(n.doc.resolve(Math.max(a-1,0)))),!0},Wee=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,n=r.$anchor.node();if(n.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===n.type){if(t){const s=i.before(o),l=i.after(o);e.delete(s,l).scrollIntoView()}return!0}return!1};function xt(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Kee=e=>({tr:t,state:r,dispatch:n})=>{const i=xt(e,r.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(n){const l=o.before(a),c=o.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},Gee=e=>({tr:t,dispatch:r})=>{const{from:n,to:i}=e;return r&&t.delete(n,i),!0},qee=()=>({state:e,dispatch:t})=>vS(e,t),Yee=()=>({commands:e})=>e.keyboardShortcut("Enter"),Jee=()=>({state:e,dispatch:t})=>LQ(e,t);function PS(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ag(e,t,r={strict:!0}){const n=Object.keys(t);return n.length?n.every(i=>r.strict?t[i]===e[i]:PS(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function qR(e,t,r={}){return e.find(n=>n.type===t&&ag(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function hM(e,t,r={}){return!!qR(e,t,r)}function _S(e,t,r){var n;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===t)||(r=r||((n=i.node.marks[0])==null?void 0:n.attrs),!qR([...i.node.marks],t,r)))return;let a=i.index,s=e.start()+i.offset,l=a+1,c=s+i.node.nodeSize;for(;a>0&&hM([...e.parent.child(a-1).marks],t,r);)a-=1,s-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&hM([...e.parent.child(l).marks],t,r);)c+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function uo(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Xee=(e,t={})=>({tr:r,state:n,dispatch:i})=>{const o=uo(e,n.schema),{doc:a,selection:s}=r,{$from:l,from:c,to:u}=s;if(i){const f=_S(l,o,t);if(f&&f.from<=c&&f.to>=u){const d=ve.create(a,f.from,f.to);r.setSelection(d)}}return!0},Qee=e=>t=>{const r=typeof e=="function"?e(t):e;for(let n=0;n<r.length;n+=1)if(r[n](t))return!0;return!1};function YR(e){return e instanceof ve}function ja(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function JR(e,t=null){if(!t)return null;const r=xe.atStart(e),n=xe.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return n;const i=r.from,o=n.to;return t==="all"?ve.create(e,ja(0,i,o),ja(e.content.size,i,o)):ve.create(e,ja(t,i,o),ja(t,i,o))}function Zee(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function DS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var ete=(e=null,t={})=>({editor:r,view:n,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const a=()=>{(DS()||Zee())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),t!=null&&t.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!YR(r.state.selection))return a(),!0;const s=JR(i.doc,e)||r.state.selection,l=r.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},tte=(e,t)=>r=>e.every((n,i)=>t(n,{...r,index:i})),rte=(e,t)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},e,t),XR=e=>{const t=e.childNodes;for(let r=t.length-1;r>=0;r-=1){const n=t[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?e.removeChild(n):n.nodeType===1&&XR(n)}return e};function Fd(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,r=new window.DOMParser().parseFromString(t,"text/html").body;return XR(r)}function lf(e,t,r){if(e instanceof Uo||e instanceof K)return e;r={slice:!0,parseOptions:{},...r};const n=typeof e=="object"&&e!==null,i=typeof e=="string";if(n)try{if(Array.isArray(e)&&e.length>0)return K.fromArray(e.map(s=>t.nodeFromJSON(s)));const a=t.nodeFromJSON(e);return r.errorOnInvalidContent&&a.check(),a}catch(o){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),lf("",t,r)}if(i){if(r.errorOnInvalidContent){let a=!1,s="";const l=new LN({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,s=typeof c=="string"?c:c.outerHTML,null)}]}})});if(r.slice?Vo.fromSchema(l).parseSlice(Fd(e),r.parseOptions):Vo.fromSchema(l).parse(Fd(e),r.parseOptions),r.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const o=Vo.fromSchema(t);return r.slice?o.parseSlice(Fd(e),r.parseOptions).content:o.parse(Fd(e),r.parseOptions)}return lf("",t,r)}function nte(e,t,r){const n=e.steps.length-1;if(n<t)return;const i=e.steps[n];if(!(i instanceof Rt||i instanceof zt))return;const o=e.mapping.maps[n];let a=0;o.forEach((s,l,c,u)=>{a===0&&(a=u)}),e.setSelection(xe.near(e.doc.resolve(a),r))}var ite=e=>!("type"in e),ote=(e,t,r)=>({tr:n,dispatch:i,editor:o})=>{var a;if(i){r={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let s;const l=m=>{o.emit("contentError",{editor:o,error:m,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{lf(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(m){l(m)}try{s=lf(t,o.schema,{parseOptions:c,errorOnInvalidContent:(a=r.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(m){return l(m),!1}let{from:u,to:f}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},d=!0,h=!0;if((ite(s)?s:[s]).forEach(m=>{m.check(),d=d?m.isText&&m.marks.length===0:!1,h=h?m.isBlock:!1}),u===f&&h){const{parent:m}=n.doc.resolve(u);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(u-=1,f+=1)}let g;if(d){if(Array.isArray(t))g=t.map(m=>m.text||"").join("");else if(t instanceof K){let m="";t.forEach(v=>{v.text&&(m+=v.text)}),g=m}else typeof t=="object"&&t&&t.text?g=t.text:g=t;n.insertText(g,u,f)}else{g=s;const m=n.doc.resolve(u),v=m.node(),b=m.parentOffset===0,y=v.isText||v.isTextblock,w=v.content.size>0;b&&y&&w&&(u=Math.max(0,u-1)),n.replaceWith(u,f,g)}r.updateSelection&&nte(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:u,text:g}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:u,text:g})}return!0},ate=()=>({state:e,dispatch:t})=>PQ(e,t),ste=()=>({state:e,dispatch:t})=>_Q(e,t),lte=()=>({state:e,dispatch:t})=>tR(e,t),cte=()=>({state:e,dispatch:t})=>oR(e,t),ute=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Hm(e.doc,e.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},fte=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Hm(e.doc,e.selection.$from.pos,1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},dte=()=>({state:e,dispatch:t})=>AQ(e,t),hte=()=>({state:e,dispatch:t})=>IQ(e,t);function QR(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function pte(e){const t=e.split(/-(?!$)/);let r=t[t.length-1];r==="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<t.length-1;s+=1){const l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))DS()||QR()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),o&&(r=`Shift-${r}`),r}var gte=e=>({editor:t,view:r,tr:n,dispatch:i})=>{const o=pte(e).split(/-(?!$)/),a=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,s))});return l==null||l.steps.forEach(c=>{const u=c.map(n.mapping);u&&i&&n.maybeStep(u)}),!0};function Xo(e,t,r={}){const{from:n,to:i,empty:o}=e.selection,a=t?xt(t,e.schema):null,s=[];e.doc.nodesBetween(n,i,(f,d)=>{if(f.isText)return;const h=Math.max(n,d),p=Math.min(i,d+f.nodeSize);s.push({node:f,from:h,to:p})});const l=i-n,c=s.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>ag(f.node.attrs,r,{strict:!1}));return o?!!c.length:c.reduce((f,d)=>f+d.to-d.from,0)>=l}var mte=(e,t={})=>({state:r,dispatch:n})=>{const i=xt(e,r.schema);return Xo(r,i,t)?DQ(r,n):!1},vte=()=>({state:e,dispatch:t})=>cR(e,t),bte=e=>({state:t,dispatch:r})=>{const n=xt(e,t.schema);return KQ(n)(t,r)},yte=()=>({state:e,dispatch:t})=>sR(e,t);function Jm(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function pM(e,t){const r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,i)=>(r.includes(i)||(n[i]=e[i]),n),{})}var $te=(e,t)=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=Jm(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=xt(e,n.schema)),s==="mark"&&(a=uo(e,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&r.setNodeMarkup(u,void 0,pM(c.attrs,t)),a&&c.marks.length&&c.marks.forEach(f=>{a===f.type&&r.addMark(u,u+c.nodeSize,a.create(pM(f.attrs,t)))})})}),!0):!1},wte=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),xte=()=>({tr:e,dispatch:t})=>{if(t){const r=new Jr(e.doc);e.setSelection(r)}return!0},Ste=()=>({state:e,dispatch:t})=>nR(e,t),kte=()=>({state:e,dispatch:t})=>aR(e,t),Ote=()=>({state:e,dispatch:t})=>FQ(e,t),Tte=()=>({state:e,dispatch:t})=>zQ(e,t),Cte=()=>({state:e,dispatch:t})=>BQ(e,t);function Mw(e,t,r={},n={}){return lf(e,t,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var Ete=(e,{errorOnInvalidContent:t,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{const{doc:l}=o;if(n.preserveWhitespace!=="full"){const c=Mw(e,i.schema,n,{errorOnInvalidContent:t??i.options.enableContentCheck});return a&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!r),!0}return a&&o.setMeta("preventUpdate",!r),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:n,errorOnInvalidContent:t??i.options.enableContentCheck})};function ZR(e,t){const r=uo(t,e.schema),{from:n,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===r.name);return s?{...s.attrs}:{}}function e6(e,t){const r=new XN(e);return t.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function Mte(e){for(let t=0;t<e.edgeCount;t+=1){const{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function Ate(e,t,r){const n=[];return e.nodesBetween(t.from,t.to,(i,o)=>{r(i)&&n.push({node:i,pos:o})}),n}function Ite(e,t){for(let r=e.depth;r>0;r-=1){const n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}}function Xm(e){return t=>Ite(t.$from,e)}function ue(e,t,r){return e.config[t]===void 0&&e.parent?ue(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind({...r,parent:e.parent?ue(e.parent,t,r):null}):e.config[t]}function LS(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},n=ue(t,"addExtensions",r);return n?[t,...LS(n())]:t}).flat(10)}function NS(e,t){const r=xs.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function t6(e){return typeof e=="function"}function Le(e,t=void 0,...r){return t6(e)?t?e.bind(t)(...r):e(...r):e}function Pte(e={}){return Object.keys(e).length===0&&e.constructor===Object}function cf(e){const t=e.filter(i=>i.type==="extension"),r=e.filter(i=>i.type==="node"),n=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:n}}function r6(e){const t=[],{nodeExtensions:r,markExtensions:n}=cf(e),i=[...r,...n],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=ue(a,"addGlobalAttributes",s);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([d,h])=>{t.push({type:f,name:d,attribute:{...o,...h}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=ue(a,"addAttributes",s);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const d={...o,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,t.push({type:a.name,name:u,attribute:d})})}),t}function at(...e){return e.filter(t=>!!t).reduce((t,r)=>{const n={...t};return Object.entries(r).forEach(([i,o])=>{if(!n[i]){n[i]=o;return}if(i==="class"){const s=o?String(o).split(" "):[],l=n[i]?n[i].split(" "):[],c=s.filter(u=>!l.includes(u));n[i]=[...l,...c].join(" ")}else if(i==="style"){const s=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[f,d]=u.split(":").map(h=>h.trim());c.set(f,d)}),s.forEach(u=>{const[f,d]=u.split(":").map(h=>h.trim());c.set(f,d)}),n[i]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else n[i]=o}),n},{})}function sg(e,t){return t.filter(r=>r.type===e.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,n)=>at(r,n),{})}function _te(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function gM(e,t){return"style"in e?e:{...e,getAttrs:r=>{const n=e.getAttrs?e.getAttrs(r):e.attrs;if(n===!1)return!1;const i=t.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(r):_te(r.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...n,...i}}}}function mM(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&Pte(r)?!1:r!=null))}function Dte(e,t){var r;const n=r6(e),{nodeExtensions:i,markExtensions:o}=cf(e),a=(r=i.find(c=>ue(c,"topNode")))==null?void 0:r.name,s=Object.fromEntries(i.map(c=>{const u=n.filter(v=>v.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},d=e.reduce((v,b)=>{const y=ue(b,"extendNodeSchema",f);return{...v,...y?y(c):{}}},{}),h=mM({...d,content:Le(ue(c,"content",f)),marks:Le(ue(c,"marks",f)),group:Le(ue(c,"group",f)),inline:Le(ue(c,"inline",f)),atom:Le(ue(c,"atom",f)),selectable:Le(ue(c,"selectable",f)),draggable:Le(ue(c,"draggable",f)),code:Le(ue(c,"code",f)),whitespace:Le(ue(c,"whitespace",f)),linebreakReplacement:Le(ue(c,"linebreakReplacement",f)),defining:Le(ue(c,"defining",f)),isolating:Le(ue(c,"isolating",f)),attrs:Object.fromEntries(u.map(v=>{var b,y;return[v.name,{default:(b=v==null?void 0:v.attribute)==null?void 0:b.default,validate:(y=v==null?void 0:v.attribute)==null?void 0:y.validate}]}))}),p=Le(ue(c,"parseHTML",f));p&&(h.parseDOM=p.map(v=>gM(v,u)));const g=ue(c,"renderHTML",f);g&&(h.toDOM=v=>g({node:v,HTMLAttributes:sg(v,u)}));const m=ue(c,"renderText",f);return m&&(h.toText=m),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=n.filter(m=>m.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},d=e.reduce((m,v)=>{const b=ue(v,"extendMarkSchema",f);return{...m,...b?b(c):{}}},{}),h=mM({...d,inclusive:Le(ue(c,"inclusive",f)),excludes:Le(ue(c,"excludes",f)),group:Le(ue(c,"group",f)),spanning:Le(ue(c,"spanning",f)),code:Le(ue(c,"code",f)),attrs:Object.fromEntries(u.map(m=>{var v,b;return[m.name,{default:(v=m==null?void 0:m.attribute)==null?void 0:v.default,validate:(b=m==null?void 0:m.attribute)==null?void 0:b.validate}]}))}),p=Le(ue(c,"parseHTML",f));p&&(h.parseDOM=p.map(m=>gM(m,u)));const g=ue(c,"renderHTML",f);return g&&(h.toDOM=m=>g({mark:m,HTMLAttributes:sg(m,u)})),[c.name,h]}));return new LN({topNode:a,nodes:s,marks:l})}function Lte(e){const t=e.filter((r,n)=>e.indexOf(r)!==n);return Array.from(new Set(t))}function RS(e){return e.sort((r,n)=>{const i=ue(r,"priority")||100,o=ue(n,"priority")||100;return i>o?-1:i<o?1:0})}function n6(e){const t=RS(LS(e)),r=Lte(t.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),t}function i6(e,t,r){const{from:n,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=r||{};let s="";return e.nodesBetween(n,i,(l,c,u,f)=>{var d;l.isBlock&&c>n&&(s+=o);const h=a==null?void 0:a[l.type.name];if(h)return u&&(s+=h({node:l,pos:c,parent:u,index:f,range:t})),!1;l.isText&&(s+=(d=l==null?void 0:l.text)==null?void 0:d.slice(Math.max(n,c)-c,i-c))}),s}function Nte(e,t){const r={from:0,to:e.content.size};return i6(e,r,t)}function o6(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}function Rte(e,t){const r=xt(t,e.schema),{from:n,to:i}=e.selection,o=[];e.doc.nodesBetween(n,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===r.name);return a?{...a.attrs}:{}}function a6(e,t){const r=Jm(typeof t=="string"?t:t.name,e.schema);return r==="node"?Rte(e,t):r==="mark"?ZR(e,t):{}}function Fte(e,t=JSON.stringify){const r={};return e.filter(n=>{const i=t(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function jte(e){const t=Fte(e);return t.length===1?t:t.filter((r,n)=>!t.filter((o,a)=>a!==n).some(o=>r.oldRange.from>=o.oldRange.from&&r.oldRange.to<=o.oldRange.to&&r.newRange.from>=o.newRange.from&&r.newRange.to<=o.newRange.to))}function s6(e){const{mapping:t,steps:r}=e,n=[];return t.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=r[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const c=t.slice(o).map(s,-1),u=t.slice(o).map(l),f=t.invert().map(c,-1),d=t.invert().map(u);n.push({oldRange:{from:f,to:d},newRange:{from:c,to:u}})})}),jte(n)}function FS(e,t,r){const n=[];return e===t?r.resolve(e).marks().forEach(i=>{const o=r.resolve(e),a=_S(o,i.type);a&&n.push({mark:i,...a})}):r.nodesBetween(e,t,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||n.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),n}var Bte=(e,t,r,n=20)=>{const i=e.doc.resolve(r);let o=n,a=null;for(;o>0&&a===null;){const s=i.node(o);(s==null?void 0:s.type.name)===t?a=s:o-=1}return[a,o]};function Ob(e,t){return t.nodes[e]||t.marks[e]||null}function ap(e,t,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=e.find(o=>o.type===t&&o.name===n);return i?i.attribute.keepOnSplit:!1}))}var zte=(e,t=500)=>{let r="";const n=e.parentOffset;return e.parent.nodesBetween(Math.max(0,n-t),n,(i,o,a,s)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,n-o))}),r};function Aw(e,t,r={}){const{empty:n,ranges:i}=e.selection,o=t?uo(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>ag(f.attrs,r,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:f,$to:d})=>{const h=f.pos,p=d.pos;e.doc.nodesBetween(h,p,(g,m)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(h,m),b=Math.min(p,m+g.nodeSize),y=b-v;a+=y,s.push(...g.marks.map(w=>({mark:w,from:v,to:b})))})}),a===0)return!1;const l=s.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>ag(f.mark.attrs,r,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),c=s.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+c:l)>=a}function Hte(e,t,r={}){if(!t)return Xo(e,null,r)||Aw(e,null,r);const n=Jm(t,e.schema);return n==="node"?Xo(e,t,r):n==="mark"?Aw(e,t,r):!1}var Ute=(e,t)=>{const{$from:r,$to:n,$anchor:i}=e.selection;if(t){const o=Xm(s=>s.type.name===t)(e.selection);if(!o)return!1;const a=e.doc.resolve(o.pos+1);return i.pos+1===a.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},Vte=e=>{const{$from:t,$to:r}=e.selection;return!(t.parentOffset>0||t.pos!==r.pos)};function vM(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function bM(e,t){const{nodeExtensions:r}=cf(t),n=r.find(a=>a.name===e);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},o=Le(ue(n,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Qm(e,{checkChildren:t=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((n=e.text)!=null?n:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(Qm(o,{ignoreWhitespace:r,checkChildren:t})||(i=!1))}),i}return!1}function l6(e){return e instanceof fe}function Wte(e,t,r){var n;const{selection:i}=t;let o=null;if(YR(i)&&(o=i.$cursor),o){const s=(n=e.storedMarks)!=null?n:o.marks();return o.parent.type.allowsMarkType(r)&&(!!r.isInSet(s)||!s.some(c=>c.type.excludes(r)))}const{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let c=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(r):!1;return e.doc.nodesBetween(s.pos,l.pos,(u,f,d)=>{if(c)return!1;if(u.isInline){const h=!d||d.type.allowsMarkType(r),p=!!r.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(r));c=h&&p}return!c}),c})}var Kte=(e,t={})=>({tr:r,state:n,dispatch:i})=>{const{selection:o}=r,{empty:a,ranges:s}=o,l=uo(e,n.schema);if(i)if(a){const c=ZR(n,l);r.addStoredMark(l.create({...c,...t}))}else s.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;n.doc.nodesBetween(u,f,(d,h)=>{const p=Math.max(h,u),g=Math.min(h+d.nodeSize,f);d.marks.find(v=>v.type===l)?d.marks.forEach(v=>{l===v.type&&r.addMark(p,g,l.create({...v.attrs,...t}))}):r.addMark(p,g,l.create(t))})});return Wte(n,r,l)},Gte=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0),qte=(e,t={})=>({state:r,dispatch:n,chain:i})=>{const o=xt(e,r.schema);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>_E(o,{...a,...t})(r)?!0:s.clearNodes()).command(({state:s})=>_E(o,{...a,...t})(s,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Yte=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,i=ja(e,0,n.content.size),o=fe.create(n,i);t.setSelection(o)}return!0},Jte=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=ve.atStart(n).from,s=ve.atEnd(n).to,l=ja(i,a,s),c=ja(o,a,s),u=ve.create(n,l,c);t.setSelection(u)}return!0},Xte=e=>({state:t,dispatch:r})=>{const n=xt(e,t.schema);return YQ(n)(t,r)};function yM(e,t){const r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){const n=r.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(n)}}var Qte=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:n,editor:i})=>{const{selection:o,doc:a}=t,{$from:s,$to:l}=o,c=i.extensionManager.attributes,u=ap(c,s.node().type.name,s.node().attrs);if(o instanceof fe&&o.node.isBlock)return!s.parentOffset||!Ji(a,s.pos)?!1:(n&&(e&&yM(r,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,d=s.depth===0?void 0:Mte(s.node(-1).contentMatchAt(s.indexAfter(-1)));let h=f&&d?[{type:d,attrs:u}]:void 0,p=Ji(t.doc,t.mapping.map(s.pos),1,h);if(!h&&!p&&Ji(t.doc,t.mapping.map(s.pos),1,d?[{type:d}]:void 0)&&(p=!0,h=d?[{type:d,attrs:u}]:void 0),n){if(p&&(o instanceof ve&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,h),d&&!f&&!s.parentOffset&&s.parent.type!==d)){const g=t.mapping.map(s.before()),m=t.doc.resolve(g);s.node(-1).canReplaceWith(m.index(),m.index()+1,d)&&t.setNodeMarkup(t.mapping.map(s.before()),d)}e&&yM(r,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},Zte=(e,t={})=>({tr:r,state:n,dispatch:i,editor:o})=>{var a;const s=xt(e,n.schema),{$from:l,$to:c}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==s)return!1;const d=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=K.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-b;T>=l.depth-3;T-=1)v=K.from(l.node(T).copy(v));const y=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...ap(d,l.node().type.name,l.node().attrs),...t},$=((a=s.contentMatch.defaultType)==null?void 0:a.createAndFill(w))||void 0;v=v.append(K.from(s.createAndFill(null,$)||void 0));const x=l.before(l.depth-(b-1));r.replace(x,l.after(-y),new X(v,4-b,0));let O=-1;r.doc.nodesBetween(x,r.doc.content.size,(T,D)=>{if(O>-1)return!1;T.isTextblock&&T.content.size===0&&(O=D+1)}),O>-1&&r.setSelection(ve.near(r.doc.resolve(O))),r.scrollIntoView()}return!0}const h=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,p={...ap(d,f.type.name,f.attrs),...t},g={...ap(d,l.node().type.name,l.node().attrs),...t};r.delete(l.pos,c.pos);const m=h?[{type:s,attrs:p},{type:h,attrs:g}]:[{type:s,attrs:p}];if(!Ji(r.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:b}=n,{splittableMarks:y}=o.extensionManager,w=b||v.$to.parentOffset&&v.$from.marks();if(r.split(l.pos,2,m).scrollIntoView(),!w||!i)return!0;const $=w.filter(x=>y.includes(x.type.name));r.ensureMarks($)}return!0},Tb=(e,t)=>{const r=Xm(a=>a.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=e.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ca(e.doc,r.pos)&&e.join(r.pos),!0},Cb=(e,t)=>{const r=Xm(a=>a.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=e.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ca(e.doc,n)&&e.join(n),!0},ere=(e,t,r,n={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,h=xt(e,a.schema),p=xt(t,a.schema),{selection:g,storedMarks:m}=a,{$from:v,$to:b}=g,y=v.blockRange(b),w=m||g.$to.parentOffset&&g.$from.marks();if(!y)return!1;const $=Xm(x=>bM(x.type.name,f))(g);if(y.depth>=1&&$&&y.depth-$.depth<=1){if($.node.type===h)return c.liftListItem(p);if(bM($.node.type.name,f)&&h.validContent($.node.content)&&s)return l().command(()=>(o.setNodeMarkup($.pos,h),!0)).command(()=>Tb(o,h)).command(()=>Cb(o,h)).run()}return!r||!w||!s?l().command(()=>u().wrapInList(h,n)?!0:c.clearNodes()).wrapInList(h,n).command(()=>Tb(o,h)).command(()=>Cb(o,h)).run():l().command(()=>{const x=u().wrapInList(h,n),O=w.filter(T=>d.includes(T.type.name));return o.ensureMarks(O),x?!0:c.clearNodes()}).wrapInList(h,n).command(()=>Tb(o,h)).command(()=>Cb(o,h)).run()},tre=(e,t={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:o=!1}=r,a=uo(e,n.schema);return Aw(n,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},rre=(e,t,r={})=>({state:n,commands:i})=>{const o=xt(e,n.schema),a=xt(t,n.schema),s=Xo(n,o,r);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...r})},nre=(e,t={})=>({state:r,commands:n})=>{const i=xt(e,r.schema);return Xo(r,i,t)?n.lift(i):n.wrapIn(i,t)},ire=()=>({state:e,dispatch:t})=>{const r=e.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const a=e.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},ore=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,{empty:n,ranges:i}=r;return n||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},are=(e,t={})=>({tr:r,state:n,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=r,l=uo(e,n.schema),{$from:c,empty:u,ranges:f}=s;if(!i)return!0;if(u&&a){let{from:d,to:h}=s;const p=(o=c.marks().find(m=>m.type===l))==null?void 0:o.attrs,g=_S(c,l,p);g&&(d=g.from,h=g.to),r.removeMark(d,h,l)}else f.forEach(d=>{r.removeMark(d.$from.pos,d.$to.pos,l)});return r.removeStoredMark(l),!0},sre=(e,t={})=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=Jm(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=xt(e,n.schema)),s==="mark"&&(a=uo(e,n.schema)),i&&r.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let f,d,h,p;r.selection.empty?n.doc.nodesBetween(c,u,(g,m)=>{o&&o===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),f=m,d=g)}):n.doc.nodesBetween(c,u,(g,m)=>{m<c&&o&&o===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),f=m,d=g),m>=c&&m<=u&&(o&&o===g.type&&r.setNodeMarkup(m,void 0,{...g.attrs,...t}),a&&g.marks.length&&g.marks.forEach(v=>{if(a===v.type){const b=Math.max(m,c),y=Math.min(m+g.nodeSize,u);r.addMark(b,y,a.create({...v.attrs,...t}))}}))}),d&&(f!==void 0&&r.setNodeMarkup(f,void 0,{...d.attrs,...t}),a&&d.marks.length&&d.marks.forEach(g=>{a===g.type&&r.addMark(h,p,a.create({...g.attrs,...t}))}))}),!0):!1},lre=(e,t={})=>({state:r,dispatch:n})=>{const i=xt(e,r.schema);return HQ(i,t)(r,n)},cre=(e,t={})=>({state:r,dispatch:n})=>{const i=xt(e,r.schema);return UQ(i,t)(r,n)},ure=class{constructor(){this.callbacks={}}on(t,r){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),this}emit(t,...r){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,r)),this}off(t,r){const n=this.callbacks[t];return n&&(r?this.callbacks[t]=n.filter(i=>i!==r):delete this.callbacks[t]),this}once(t,r){const n=(...i)=>{this.off(t,n),r.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Bf=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},fre=(e,t)=>{if(PS(t))return t.exec(e);const r=t(e);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=e,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function jd(e){var t;const{editor:r,from:n,to:i,text:o,rules:a,plugin:s}=e,{view:l}=r;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(d=>d.type.spec.code))return!1;let u=!1;const f=zte(c)+o;return a.forEach(d=>{if(u)return;const h=fre(f,d.find);if(!h)return;const p=l.state.tr,g=qm({state:l.state,transaction:p}),m={from:n-(h[0].length-o.length),to:i},{commands:v,chain:b,can:y}=new Ym({editor:r,state:g});d.handler({state:g,range:m,match:h,commands:v,chain:b,can:y})===null||!p.steps.length||(d.undoable&&p.setMeta(s,{transform:p,from:n,to:i,text:o}),l.dispatch(p),u=!0)}),u}function dre(e){const{editor:t,rules:r}=e,n=new st({state:{init(){return null},apply(i,o,a){const s=i.getMeta(n);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=NS(K.from(u),a.schema);const{from:f}=l,d=f+u.length;jd({editor:t,from:f,to:d,text:u,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return jd({editor:t,from:o,to:a,text:s,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&jd({editor:t,from:o.pos,to:o.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?jd({editor:t,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function hre(e){return Object.prototype.toString.call(e).slice(8,-1)}function Bd(e){return hre(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function c6(e,t){const r={...e};return Bd(e)&&Bd(t)&&Object.keys(t).forEach(n=>{Bd(t[n])&&Bd(e[n])?r[n]=c6(e[n],t[n]):r[n]=t[n]}),r}var jS=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Le(ue(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Le(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>c6(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},fo=class u6 extends jS{constructor(){super(...arguments),this.type="mark"}static create(t={}){const r=typeof t=="function"?t():t;return new u6(r)}static handleExit({editor:t,mark:r}){const{tr:n}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>(c==null?void 0:c.type.name)===r.name))return!1;const l=a.find(c=>(c==null?void 0:c.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),t.view.dispatch(n),!0}return!1}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function pre(e){return typeof e=="number"}var gre=class{constructor(e){this.find=e.find,this.handler=e.handler}},mre=(e,t,r)=>{if(PS(t))return[...e.matchAll(t)];const n=t(e,r);return n?n.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function vre(e){const{editor:t,state:r,from:n,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new Ym({editor:t,state:r}),f=[];return r.doc.nodesBetween(n,i,(h,p)=>{var g,m,v,b,y;if((m=(g=h.type)==null?void 0:g.spec)!=null&&m.code||!(h.isText||h.isTextblock||h.isInline))return;const w=(y=(b=(v=h.content)==null?void 0:v.size)!=null?b:h.nodeSize)!=null?y:0,$=Math.max(n,p),x=Math.min(i,p+w);if($>=x)return;const O=h.isText?h.text||"":h.textBetween($-p,x-p,void 0,"");mre(O,o.find,a).forEach(D=>{if(D.index===void 0)return;const L=$+D.index+1,I=L+D[0].length,E={from:r.tr.mapping.map(L),to:r.tr.mapping.map(I)},_=o.handler({state:r,range:E,match:D,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});f.push(_)})}),f.every(h=>h!==null)}var zd=null,bre=e=>{var t;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=r.clipboardData)==null||t.setData("text/html",e),r};function yre(e){const{editor:t,rules:r}=e;let n=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}const l=({state:u,from:f,to:d,rule:h,pasteEvt:p})=>{const g=u.tr,m=qm({state:u,transaction:g});if(!(!vre({editor:t,state:m,from:Math.max(f-1,0),to:d.b-1,rule:h,pasteEvent:p,dropEvent:s})||!g.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return r.map(u=>new st({view(f){const d=p=>{var g;n=(g=f.dom.parentElement)!=null&&g.contains(p.target)?f.dom.parentElement:null,n&&(zd=t)},h=()=>{zd&&(zd=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,d)=>{if(o=n===f.dom.parentElement,s=d,!o){const h=zd;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(f,d)=>{var h;const p=(h=d.clipboardData)==null?void 0:h.getData("text/html");return a=d,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(f,d,h)=>{const p=f[0],g=p.getMeta("uiEvent")==="paste"&&!i,m=p.getMeta("uiEvent")==="drop"&&!o,v=p.getMeta("applyPasteRules"),b=!!v;if(!g&&!m&&!b)return;if(b){let{text:$}=v;typeof $=="string"?$=$:$=NS(K.from($),h.schema);const{from:x}=v,O=x+$.length,T=bre($);return l({rule:u,state:h,from:x,to:{b:O},pasteEvt:T})}const y=d.doc.content.findDiffStart(h.doc.content),w=d.doc.content.findDiffEnd(h.doc.content);if(!(!pre(y)||!w||y===w.b))return l({rule:u,state:h,from:y,to:w,pasteEvt:a})}}))}var Zm=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=n6(e),this.schema=Dte(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Ob(t.name,this.schema)},n=ue(t,"addCommands",r);return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this;return RS([...this.extensions].reverse()).flatMap(n=>{const i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Ob(n.name,this.schema)},o=[],a=ue(n,"addKeyboardShortcuts",i);let s={};if(n.type==="mark"&&ue(n,"exitable",i)&&(s.ArrowRight=()=>fo.handleExit({editor:e,mark:n})),a){const d=Object.fromEntries(Object.entries(a()).map(([h,p])=>[h,()=>p({editor:e})]));s={...s,...d}}const l=Ree(s);o.push(l);const c=ue(n,"addInputRules",i);if(vM(n,e.options.enableInputRules)&&c){const d=c();if(d&&d.length){const h=dre({editor:e,rules:d}),p=Array.isArray(h)?h:[h];o.push(...p)}}const u=ue(n,"addPasteRules",i);if(vM(n,e.options.enablePasteRules)&&u){const d=u();if(d&&d.length){const h=yre({editor:e,rules:d});o.push(...h)}}const f=ue(n,"addProseMirrorPlugins",i);if(f){const d=f();o.push(...d)}return o})}get attributes(){return r6(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=cf(this.extensions);return Object.fromEntries(t.filter(r=>!!ue(r,"addNodeView")).map(r=>{const n=this.attributes.filter(s=>s.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:xt(r.name,this.schema)},o=ue(r,"addNodeView",i);if(!o)return[];const a=(s,l,c,u,f)=>{const d=sg(s,n);return o()({node:s,view:l,getPos:c,decorations:u,innerDecorations:f,editor:e,extension:r,HTMLAttributes:d})};return[r.name,a]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=cf(this.extensions);return Object.fromEntries(t.filter(r=>!!ue(r,"addMarkView")).map(r=>{const n=this.attributes.filter(s=>s.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:uo(r.name,this.schema)},o=ue(r,"addMarkView",i);if(!o)return[];const a=(s,l,c)=>{const u=sg(s,n);return o()({mark:s,view:l,inline:c,editor:e,extension:r,HTMLAttributes:u,updateAttributes:f=>{_re(s,e,f)}})};return[r.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var r;const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Ob(t.name,this.schema)};t.type==="mark"&&((r=Le(ue(t,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(t.name);const i=ue(t,"onBeforeCreate",n),o=ue(t,"onCreate",n),a=ue(t,"onUpdate",n),s=ue(t,"onSelectionUpdate",n),l=ue(t,"onTransaction",n),c=ue(t,"onFocus",n),u=ue(t,"onBlur",n),f=ue(t,"onDestroy",n);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}};Zm.resolve=n6;Zm.sort=RS;Zm.flatten=LS;var $re={};IS($re,{ClipboardTextSerializer:()=>d6,Commands:()=>h6,Delete:()=>p6,Drop:()=>g6,Editable:()=>m6,FocusEvents:()=>b6,Keymap:()=>y6,Paste:()=>$6,Tabindex:()=>w6,focusEventsPluginKey:()=>v6});var Be=class f6 extends jS{constructor(){super(...arguments),this.type="extension"}static create(t={}){const r=typeof t=="function"?t():t;return new f6(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}},d6=Be.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new st({key:new Wt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:r}=e,{doc:n,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(u=>u.$from.pos)),s=Math.max(...o.map(u=>u.$to.pos)),l=o6(r);return i6(n,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),h6=Be.create({name:"commands",addCommands(){return{...GR}}}),p6=Be.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var r,n,i;const o=()=>{var a,s,l,c;if((c=(l=(s=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:s.filterTransaction)==null?void 0:l.call(s,e))!=null?c:e.getMeta("y-sync$"))return;const u=e6(e.before,[e,...t]);s6(u).forEach(h=>{u.mapping.mapResult(h.oldRange.from).deletedAfter&&u.mapping.mapResult(h.oldRange.to).deletedBefore&&u.before.nodesBetween(h.oldRange.from,h.oldRange.to,(p,g)=>{const m=g+p.nodeSize-2,v=h.oldRange.from<=g&&m<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:g,to:m,newFrom:u.mapping.map(g),newTo:u.mapping.map(m),deletedRange:h.oldRange,newRange:h.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const d=u.mapping;u.steps.forEach((h,p)=>{var g,m;if(h instanceof Fn){const v=d.slice(p).map(h.from,-1),b=d.slice(p).map(h.to),y=d.invert().map(v,-1),w=d.invert().map(b),$=(g=u.doc.nodeAt(v-1))==null?void 0:g.marks.some(O=>O.eq(h.mark)),x=(m=u.doc.nodeAt(b))==null?void 0:m.marks.some(O=>O.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:y,to:w},newRange:{from:v,to:b},partial:!!(x||$),editor:this.editor,transaction:e,combinedTransform:u})}})};(i=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||i?setTimeout(o,0):o()}}),g6=Be.create({name:"drop",addProseMirrorPlugins(){return[new st({key:new Wt("tiptapDrop"),props:{handleDrop:(e,t,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:r,moved:n})}}})]}}),m6=Be.create({name:"editable",addProseMirrorPlugins(){return[new st({key:new Wt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),v6=new Wt("focusEvents"),b6=Be.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new st({key:v6,props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;const n=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,r)=>{e.isFocused=!1;const n=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),y6=Be.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:u,$anchor:f}=l,{pos:d,parent:h}=f,p=f.parent.isTextblock&&d>0?s.doc.resolve(d-1):f,g=p.parent.type.spec.isolating,m=f.pos-f.parentOffset,v=g&&p.parent.childCount===1?m===f.pos:xe.atStart(c).from===d;return!u||!h.type.isTextblock||h.textContent.length||!v||v&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return DS()||QR()?o:i},addProseMirrorPlugins(){return[new st({key:new Wt("clearDocument"),appendTransaction:(e,t,r)=>{if(e.some(g=>g.getMeta("composition")))return;const n=e.some(g=>g.docChanged)&&!t.doc.eq(r.doc),i=e.some(g=>g.getMeta("preventClearDocument"));if(!n||i)return;const{empty:o,from:a,to:s}=t.selection,l=xe.atStart(t.doc).from,c=xe.atEnd(t.doc).to;if(o||!(a===l&&s===c)||!Qm(r.doc))return;const d=r.tr,h=qm({state:r,transaction:d}),{commands:p}=new Ym({editor:this.editor,state:h});if(p.clearNodes(),!!d.steps.length)return d}})]}}),$6=Be.create({name:"paste",addProseMirrorPlugins(){return[new st({key:new Wt("tiptapPaste"),props:{handlePaste:(e,t,r)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:r})}}})]}}),w6=Be.create({name:"tabindex",addProseMirrorPlugins(){return[new st({key:new Wt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),wre=class ul{constructor(t,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=r,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(t);return new ul(r,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new ul(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new ul(t,this.editor)}get children(){const t=[];return this.node.content.forEach((r,n)=>{const i=r.isBlock&&!r.isTextblock,o=r.isAtom&&!r.isText,a=this.pos+n+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;const l=new ul(s,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),t.push(new ul(s,this.editor,i,i?r:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===t)if(Object.keys(r).length>0){const o=i.node.attrs,a=Object.keys(r);for(let s=0;s<a.length;s+=1){const l=a[s];if(o[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(t,r={}){return this.querySelectorAll(t,r,!0)[0]||null}querySelectorAll(t,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(r);return this.children.forEach(a=>{n&&i.length>0||(a.node.type.name===t&&o.every(l=>r[l]===a.node.attrs[l])&&i.push(a),!(n&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,r,n))))}),i}setAttribute(t){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(r)}},xre=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Sre(e,t,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var kre=class extends ure{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:o})=>this.options.onDrop(n,i,o)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),r=JR(t,this.options.autofocus);this.editorState=vl.create({doc:t,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Sre(xre,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const r=t6(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;r=r.filter(a=>!a.key.startsWith(o))}),t.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[m6,d6.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),h6,b6,y6,w6,g6,$6,p6].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Zm(n,this)}createCommandManager(){this.commandManager=new Ym({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Mw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=Mw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new WR(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:t,transactions:r}=this.state.applyTransaction(e),n=!this.state.selection.eq(t.selection),i=r.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=r.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),s=a==null?void 0:a.getMeta("focus"),l=a==null?void 0:a.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(e.getMeta("preventUpdate")||!r.some(c=>c.docChanged)||o.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return a6(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,n=typeof e=="string"?t:e;return Hte(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return NS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Nte(this.state.doc,{blockSeparator:t,textSerializers:{...o6(this.schema),...r}})}get isEmpty(){return Qm(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new wre(t,this)}get $doc(){return this.$pos(0)}};function rs(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Le(e.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:o}=t,a=n[n.length-1],s=n[0];if(a){const l=s.search(/\S/),c=r.from+s.indexOf(a),u=c+a.length;if(FS(r.from,r.to,t.doc).filter(h=>h.mark.type.excluded.find(g=>g===e.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<r.to&&o.delete(u,r.to),c>r.from&&o.delete(r.from+l,c);const d=r.from+l+a.length;o.addMark(r.from+l,d,e.type.create(i||{})),o.removeStoredMark(e.type)}},undoable:e.undoable})}function Ore(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Le(e.getAttributes,void 0,n)||{},{tr:o}=t,a=r.from;let s=r.to;const l=e.type.create(i);if(n[1]){const c=n[0].lastIndexOf(n[1]);let u=a+c;u>s?u=s:s=u+n[1].length;const f=n[0][n[0].length-1];o.insertText(f,a+n[0].length-1),o.replaceWith(u,s,l)}else if(n[0]){const c=e.type.isInline?a:a-1;o.insert(c,e.type.create(i)).delete(o.mapping.map(a),o.mapping.map(s))}o.scrollIntoView()},undoable:e.undoable})}function Iw(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n})=>{const i=t.doc.resolve(r.from),o=Le(e.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,o)},undoable:e.undoable})}function lt(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n})=>{let i=e.replace,o=r.from;const a=r.to;if(n[1]){const s=n[0].lastIndexOf(n[1]);i+=n[0].slice(s+n[1].length),o+=s;const l=o-a;l>0&&(i=n[0].slice(s-l,s)+i,o=a)}t.tr.insertText(i,o,a)},undoable:e.undoable})}function Vl(e){return new Bf({find:e.find,handler:({state:t,range:r,match:n,chain:i})=>{const o=Le(e.getAttributes,void 0,n)||{},a=t.tr.delete(r.from,r.to),l=a.doc.resolve(r.from).blockRange(),c=l&&gS(l,e.type,o);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:f,storedMarks:d}=t,{splittableMarks:h}=e.editor.extensionManager,p=d||f.$to.parentOffset&&f.$from.marks();if(p){const g=p.filter(m=>h.includes(m.type.name));a.ensureMarks(g)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,o).run()}const u=a.doc.resolve(r.from-1).nodeBefore;u&&u.type===e.type&&ca(a.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(n,u))&&a.join(r.from-1)},undoable:e.undoable})}function Tre(e,t){const{selection:r}=e,{$from:n}=r;if(r instanceof fe){const o=n.index();return n.parent.canReplaceWith(o,o+1,t)}let i=n.depth;for(;i>=0;){const o=n.index(i);if(n.node(i).contentMatchAt(o).matchType(t))return!0;i-=1}return!1}var Cre={};IS(Cre,{createAtomBlockMarkdownSpec:()=>Ere,createBlockMarkdownSpec:()=>Mre,createInlineMarkdownSpec:()=>Pre,parseAttributes:()=>BS,parseIndentedBlocks:()=>Pw,renderNestedMarkdownContent:()=>HS,serializeAttributes:()=>zS});function BS(e){if(!(e!=null&&e.trim()))return{};const t={},r=[],n=e.replace(/["']([^"']*)["']/g,c=>(r.push(c),`__QUOTED_${r.length-1}__`)),i=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));t.class=c.join(" ")}const o=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(t.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(a)).forEach(([,c,u])=>{var f;const d=parseInt(((f=u.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),h=r[d];h&&(t[c]=h.slice(1,-1))});const l=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function zS(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(n=>t.push(`.${n}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?t.push(r):n!==!1&&n!=null&&t.push(`${r}="${String(n)}"`))}),t.join(" ")}function Ere(e){const{nodeName:t,name:r,parseAttributes:n=BS,serializeAttributes:i=zS,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:s}=e,l=r||t,c=u=>{if(!s)return u;const f={};return s.forEach(d=>{d in u&&(f[d]=u[d])}),f};return{parseMarkdown:(u,f)=>{const d={...o,...u.attributes};return f.createNode(t,d,[])},markdownTokenizer:{name:t,level:"block",start(u){var f;const d=new RegExp(`^:::${l}(?:\\s|$)`,"m"),h=(f=u.match(d))==null?void 0:f.index;return h!==void 0?h:-1},tokenize(u,f,d){const h=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),p=u.match(h);if(!p)return;const g=p[1]||"",m=n(g);if(!a.find(b=>!(b in m)))return{type:t,raw:p[0],attributes:m}}},renderMarkdown:u=>{const f=c(u.attrs||{}),d=i(f),h=d?` {${d}}`:"";return`:::${l}${h} :::`}}}function Mre(e){const{nodeName:t,name:r,getContent:n,parseAttributes:i=BS,serializeAttributes:o=zS,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=r||t,u=f=>{if(!l)return f;const d={};return l.forEach(h=>{h in f&&(d[h]=f[h])}),d};return{parseMarkdown:(f,d)=>{let h;if(n){const g=n(f);h=typeof g=="string"?[{type:"text",text:g}]:g}else s==="block"?h=d.parseChildren(f.tokens||[]):h=d.parseInline(f.tokens||[]);const p={...a,...f.attributes};return d.createNode(t,p,h)},markdownTokenizer:{name:t,level:"block",start(f){var d;const h=new RegExp(`^:::${c}`,"m"),p=(d=f.match(h))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(f,d,h){var p;const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),m=f.match(g);if(!m)return;const[v,b=""]=m,y=i(b);let w=1;const $=v.length;let x="";const O=/^:::([\w-]*)(\s.*)?/gm,T=f.slice($);for(O.lastIndex=0;;){const D=O.exec(T);if(D===null)break;const L=D.index,I=D[1];if(!((p=D[2])!=null&&p.endsWith(":::"))){if(I)w+=1;else if(w-=1,w===0){const E=T.slice(0,L);x=E.trim();const _=f.slice(0,$+L+D[0].length);let k=[];if(x)if(s==="block")for(k=h.blockTokens(E),k.forEach(C=>{C.text&&(!C.tokens||C.tokens.length===0)&&(C.tokens=h.inlineTokens(C.text))});k.length>0;){const C=k[k.length-1];if(C.type==="paragraph"&&(!C.text||C.text.trim()===""))k.pop();else break}else k=h.inlineTokens(x);return{type:t,raw:_,attributes:y,content:x,tokens:k}}}}}},renderMarkdown:(f,d)=>{const h=u(f.attrs||{}),p=o(h),g=p?` {${p}}`:"",m=d.renderChildren(f.content||[],`

`);return`:::${c}${g}

${m}

:::`}}}function Are(e){if(!e.trim())return{};const t={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(e);for(;n!==null;){const[,i,o,a]=n;t[i]=o||a,n=r.exec(e)}return t}function Ire(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,r])=>`${t}="${r}"`).join(" ")}function Pre(e){const{nodeName:t,name:r,getContent:n,parseAttributes:i=Are,serializeAttributes:o=Ire,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=r||t,u=d=>{if(!l)return d;const h={};return l.forEach(p=>{p in d&&(h[p]=d[p])}),h},f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(d,h)=>{const p={...a,...d.attributes};if(s)return h.createNode(t,p);const g=n?n(d):d.content||"";return g?h.createNode(t,p,[h.createTextNode(g)]):h.createNode(t,p,[])},markdownTokenizer:{name:t,level:"inline",start(d){const h=s?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),p=d.match(h),g=p==null?void 0:p.index;return g!==void 0?g:-1},tokenize(d,h,p){const g=s?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),m=d.match(g);if(!m)return;let v="",b="";if(s){const[,w]=m;b=w}else{const[,w,$]=m;b=w,v=$||""}const y=i(b.trim());return{type:t,raw:m[0],content:v.trim(),attributes:y}}},renderMarkdown:d=>{let h="";n?h=n(d):d.content&&d.content.length>0&&(h=d.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const p=u(d.attrs||{}),g=o(p),m=g?` ${g}`:"";return s?`[${c}${m}]`:`[${c}${m}]${h}[/${c}]`}}}function Pw(e,t,r){var n,i,o,a;const s=e.split(`
`),l=[];let c="",u=0;const f=t.baseIndentSize||2;for(;u<s.length;){const d=s[u],h=d.match(t.itemPattern);if(!h){if(l.length>0)break;if(d.trim()===""){u+=1;continue}else return}const p=t.extractItemData(h),{indentLevel:g,mainContent:m}=p;c=`${c}${d}
`;const v=[m];for(u+=1;u<s.length;){const $=s[u];if($.trim()===""){const O=s.slice(u+1).findIndex(L=>L.trim()!=="");if(O===-1)break;if((((i=(n=s[u+1+O].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:i.length)||0)>g){v.push($),c=`${c}${$}
`,u+=1;continue}else break}if((((a=(o=$.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>g)v.push($),c=`${c}${$}
`,u+=1;else break}let b;const y=v.slice(1);if(y.length>0){const $=y.map(x=>x.slice(g+f)).join(`
`);$.trim()&&(t.customNestedParser?b=t.customNestedParser($):b=r.blockTokens($))}const w=t.createToken(p,b);l.push(w)}if(l.length!==0)return{items:l,raw:c.trim()}}function HS(e,t,r,n){if(!e||!Array.isArray(e.content))return"";const i=typeof r=="function"?r(n):r,[o,...a]=e.content,s=t.renderChildren([o]),l=[`${i}${s}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const f=u.split(`
`).map(d=>d?t.indent(d):"").join(`
`);l.push(f)}}),l.join(`
`)}function _re(e,t,r={}){const{state:n}=t,{doc:i,tr:o}=n,a=e;i.descendants((s,l)=>{const c=o.mapping.map(l),u=o.mapping.map(l)+s.nodeSize;let f=null;if(s.marks.forEach(h=>{if(h!==a)return!1;f=h}),!f)return;let d=!1;if(Object.keys(r).forEach(h=>{r[h]!==f.attrs[h]&&(d=!0)}),d){const h=e.type.create({...e.attrs,...r});o.removeMark(c,u,e.type),o.addMark(c,u,h)}}),o.docChanged&&t.view.dispatch(o)}var nn=class x6 extends jS{constructor(){super(...arguments),this.type="node"}static create(t={}){const r=typeof t=="function"?t():t;return new x6(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Qo(e){return new gre({find:e.find,handler:({state:t,range:r,match:n,pasteEvent:i})=>{const o=Le(e.getAttributes,void 0,n,i);if(o===!1||o===null)return null;const{tr:a}=t,s=n[n.length-1],l=n[0];let c=r.to;if(s){const u=l.search(/\S/),f=r.from+l.indexOf(s),d=f+s.length;if(FS(r.from,r.to,t.doc).filter(p=>p.mark.type.excluded.find(m=>m===e.type&&m!==p.mark.type)).filter(p=>p.to>f).length)return null;d<r.to&&a.delete(d,r.to),f>r.from&&a.delete(r.from+u,f),c=r.from+u+s.length,a.addMark(r.from+u,c,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var lg=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:r,...n}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,n,r]},Dre=/^\s*>\s$/,Lre=nn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return lg("blockquote",{...at(this.options.HTMLAttributes,e),children:lg("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const r=[];return e.content.forEach(i=>{const a=t.renderChildren(i).split(`
`).map(s=>`> ${s}`).join(`
`);r.push(a)}),r.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Vl({find:Dre,type:this.type})]}}),Nre=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Rre=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Fre=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,jre=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bre=fo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return lg("strong",{...at(this.options.HTMLAttributes,e),children:lg("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[rs({find:Nre,type:this.type}),rs({find:Fre,type:this.type})]},addPasteRules(){return[Qo({find:Rre,type:this.type}),Qo({find:jre,type:this.type})]}}),zre=/(^|[^`])`([^`]+)`(?!`)$/,Hre=/(^|[^`])`([^`]+)`(?!`)/g,Ure=fo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[rs({find:zre,type:this.type})]},addPasteRules(){return[Qo({find:Hre,type:this.type})]}}),Eb=4,Vre=/^```([a-z]+)?[\s\n]$/,Wre=/^~~~([a-z]+)?[\s\n]$/,Kre=nn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Eb,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:r}=this.options;if(!r)return null;const o=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",at(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var r;return((r=e.raw)==null?void 0:r.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var r;let n="";const i=((r=e.attrs)==null?void 0:r.language)||"";return e.content?n=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):n=`\`\`\`${i}

\`\`\``,n},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,r=t.pos===1;return!e||t.parent.type.name!==this.name?!1:r||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Eb,{state:n}=e,{selection:i}=n,{$from:o,empty:a}=i;if(o.parent.type!==this.type)return!1;const s=" ".repeat(r);return a?e.commands.insertContent(s):e.commands.command(({tr:l})=>{const{from:c,to:u}=i,h=n.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>s+p).join(`
`);return l.replaceWith(c,u,n.schema.text(h)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Eb,{state:n}=e,{selection:i}=n,{$from:o,empty:a}=i;return o.parent.type!==this.type?!1:a?e.commands.command(({tr:s})=>{var l;const{pos:c}=o,u=o.start(),f=o.end(),h=n.doc.textBetween(u,f,`
`,`
`).split(`
`);let p=0,g=0;const m=c-u;for(let x=0;x<h.length;x+=1){if(g+h[x].length>=m){p=x;break}g+=h[x].length+1}const b=((l=h[p].match(/^ */))==null?void 0:l[0])||"",y=Math.min(b.length,r);if(y===0)return!0;let w=u;for(let x=0;x<p;x+=1)w+=h[x].length+1;return s.delete(w,w+y),c-w<=y&&s.setSelection(ve.create(s.doc,w)),!0}):e.commands.command(({tr:s})=>{const{from:l,to:c}=i,d=n.doc.textBetween(l,c,`
`,`
`).split(`
`).map(h=>{var p;const g=((p=h.match(/^ */))==null?void 0:p[0])||"",m=Math.min(g.length,r);return h.slice(m)}).join(`
`);return s.replaceWith(l,c,n.schema.text(d)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:r}=t,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const o=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!o||!a?!1:e.chain().command(({tr:s})=>(s.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:r,doc:n}=t,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();return s===void 0?!1:n.nodeAt(s)?e.commands.command(({tr:c})=>(c.setSelection(xe.near(n.resolve(s))),!0)):e.commands.exitCode()}}},addInputRules(){return[Iw({find:Vre,type:this.type,getAttributes:e=>({language:e[1]})}),Iw({find:Wre,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new st({key:new Wt("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const r=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,o=i==null?void 0:i.mode;if(!r||!o)return!1;const{tr:a,schema:s}=e.state,l=s.text(r.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(ve.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),Gre=nn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),qre=nn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",at(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:(e,t)=>t.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=n.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&a){const f=l.filter(d=>s.includes(d.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Yre=nn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,at(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var r;const n=(r=e.attrs)!=null&&r.level?parseInt(e.attrs.level,10):1,i="#".repeat(n);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Iw({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),Jre=nn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",at(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!Tre(t,t.schema.nodes[this.name]))return!1;const{selection:r}=t,{$to:n}=r,i=e();return l6(r)?i.insertContentAt(n.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:a,dispatch:s})=>{if(s){const{$to:l}=a.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(ve.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection(fe.create(a.doc,l.pos)):a.setSelection(ve.create(a.doc,l.pos));else{const u=o.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,f=u==null?void 0:u.create();f&&(a.insert(c,f),a.setSelection(ve.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Ore({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Xre=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Qre=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Zre=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,ene=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,tne=fo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",at(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[rs({find:Xre,type:this.type}),rs({find:Zre,type:this.type})]},addPasteRules(){return[Qo({find:Qre,type:this.type}),Qo({find:ene,type:this.type})]}});const rne="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",nne="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",_w="numeric",Dw="ascii",Lw="alpha",Iu="asciinumeric",pu="alphanumeric",Nw="domain",S6="emoji",ine="scheme",one="slashscheme",Mb="whitespace";function ane(e,t){return e in t||(t[e]=[]),t[e]}function Ba(e,t,r){t[_w]&&(t[Iu]=!0,t[pu]=!0),t[Dw]&&(t[Iu]=!0,t[Lw]=!0),t[Iu]&&(t[pu]=!0),t[Lw]&&(t[pu]=!0),t[pu]&&(t[Nw]=!0),t[S6]&&(t[Nw]=!0);for(const n in t){const i=ane(n,r);i.indexOf(e)<0&&i.push(e)}}function sne(e,t){const r={};for(const n in t)t[n].indexOf(e)>=0&&(r[n]=!0);return r}function Ar(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Ar.groups={};Ar.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let n=0;n<t.jr.length;n++){const i=t.jr[n][0],o=t.jr[n][1];if(o&&i.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,n){for(let i=0;i<e.length;i++)this.tt(e[i],t,r,n)},tr(e,t,r,n){n=n||Ar.groups;let i;return t&&t.j?i=t:(i=new Ar(t),r&&n&&Ba(t,r,n)),this.jr.push([e,i]),i},ts(e,t,r,n){let i=this;const o=e.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(e[a]);return i.tt(e[o-1],t,r,n)},tt(e,t,r,n){n=n||Ar.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let a,s=i.go(e);if(s?(a=new Ar,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new Ar,o){if(n)if(a.t&&typeof a.t=="string"){const l=Object.assign(sne(a.t,n),r);Ba(o,l,n)}else r&&Ba(o,r,n);a.t=o}return i.j[e]=a,a}};const we=(e,t,r,n,i)=>e.ta(t,r,n,i),it=(e,t,r,n,i)=>e.tr(t,r,n,i),$M=(e,t,r,n,i)=>e.ts(t,r,n,i),G=(e,t,r,n,i)=>e.tt(t,r,n,i),ji="WORD",Rw="UWORD",k6="ASCIINUMERICAL",O6="ALPHANUMERICAL",uf="LOCALHOST",Fw="TLD",jw="UTLD",sp="SCHEME",fl="SLASH_SCHEME",US="NUM",Bw="WS",VS="NL",Pu="OPENBRACE",_u="CLOSEBRACE",cg="OPENBRACKET",ug="CLOSEBRACKET",fg="OPENPAREN",dg="CLOSEPAREN",hg="OPENANGLEBRACKET",pg="CLOSEANGLEBRACKET",gg="FULLWIDTHLEFTPAREN",mg="FULLWIDTHRIGHTPAREN",vg="LEFTCORNERBRACKET",bg="RIGHTCORNERBRACKET",yg="LEFTWHITECORNERBRACKET",$g="RIGHTWHITECORNERBRACKET",wg="FULLWIDTHLESSTHAN",xg="FULLWIDTHGREATERTHAN",Sg="AMPERSAND",kg="APOSTROPHE",Og="ASTERISK",To="AT",Tg="BACKSLASH",Cg="BACKTICK",Eg="CARET",Po="COLON",WS="COMMA",Mg="DOLLAR",ri="DOT",Ag="EQUALS",KS="EXCLAMATION",un="HYPHEN",Du="PERCENT",Ig="PIPE",Pg="PLUS",_g="POUND",Lu="QUERY",GS="QUOTE",T6="FULLWIDTHMIDDLEDOT",qS="SEMI",ni="SLASH",Nu="TILDE",Dg="UNDERSCORE",C6="EMOJI",Lg="SYM";var E6=Object.freeze({__proto__:null,ALPHANUMERICAL:O6,AMPERSAND:Sg,APOSTROPHE:kg,ASCIINUMERICAL:k6,ASTERISK:Og,AT:To,BACKSLASH:Tg,BACKTICK:Cg,CARET:Eg,CLOSEANGLEBRACKET:pg,CLOSEBRACE:_u,CLOSEBRACKET:ug,CLOSEPAREN:dg,COLON:Po,COMMA:WS,DOLLAR:Mg,DOT:ri,EMOJI:C6,EQUALS:Ag,EXCLAMATION:KS,FULLWIDTHGREATERTHAN:xg,FULLWIDTHLEFTPAREN:gg,FULLWIDTHLESSTHAN:wg,FULLWIDTHMIDDLEDOT:T6,FULLWIDTHRIGHTPAREN:mg,HYPHEN:un,LEFTCORNERBRACKET:vg,LEFTWHITECORNERBRACKET:yg,LOCALHOST:uf,NL:VS,NUM:US,OPENANGLEBRACKET:hg,OPENBRACE:Pu,OPENBRACKET:cg,OPENPAREN:fg,PERCENT:Du,PIPE:Ig,PLUS:Pg,POUND:_g,QUERY:Lu,QUOTE:GS,RIGHTCORNERBRACKET:bg,RIGHTWHITECORNERBRACKET:$g,SCHEME:sp,SEMI:qS,SLASH:ni,SLASH_SCHEME:fl,SYM:Lg,TILDE:Nu,TLD:Fw,UNDERSCORE:Dg,UTLD:jw,UWORD:Rw,WORD:ji,WS:Bw});const _i=/[a-z]/,Dc=new RegExp("\\p{L}","u"),Ab=new RegExp("\\p{Emoji}","u"),Di=/\d/,Ib=/\s/,wM="\r",Pb=`
`,lne="",cne="",_b="";let Hd=null,Ud=null;function une(e=[]){const t={};Ar.groups=t;const r=new Ar;Hd==null&&(Hd=xM(rne)),Ud==null&&(Ud=xM(nne)),G(r,"'",kg),G(r,"{",Pu),G(r,"}",_u),G(r,"[",cg),G(r,"]",ug),G(r,"(",fg),G(r,")",dg),G(r,"<",hg),G(r,">",pg),G(r,"",gg),G(r,"",mg),G(r,"",vg),G(r,"",bg),G(r,"",yg),G(r,"",$g),G(r,"",wg),G(r,"",xg),G(r,"&",Sg),G(r,"*",Og),G(r,"@",To),G(r,"`",Cg),G(r,"^",Eg),G(r,":",Po),G(r,",",WS),G(r,"$",Mg),G(r,".",ri),G(r,"=",Ag),G(r,"!",KS),G(r,"-",un),G(r,"%",Du),G(r,"|",Ig),G(r,"+",Pg),G(r,"#",_g),G(r,"?",Lu),G(r,'"',GS),G(r,"/",ni),G(r,";",qS),G(r,"~",Nu),G(r,"_",Dg),G(r,"\\",Tg),G(r,"",T6);const n=it(r,Di,US,{[_w]:!0});it(n,Di,n);const i=it(n,_i,k6,{[Iu]:!0}),o=it(n,Dc,O6,{[pu]:!0}),a=it(r,_i,ji,{[Dw]:!0});it(a,Di,i),it(a,_i,a),it(i,Di,i),it(i,_i,i);const s=it(r,Dc,Rw,{[Lw]:!0});it(s,_i),it(s,Di,o),it(s,Dc,s),it(o,Di,o),it(o,_i),it(o,Dc,o);const l=G(r,Pb,VS,{[Mb]:!0}),c=G(r,wM,Bw,{[Mb]:!0}),u=it(r,Ib,Bw,{[Mb]:!0});G(r,_b,u),G(c,Pb,l),G(c,_b,u),it(c,Ib,u),G(u,wM),G(u,Pb),it(u,Ib,u),G(u,_b,u);const f=it(r,Ab,C6,{[S6]:!0});G(f,"#"),it(f,Ab,f),G(f,lne,f);const d=G(f,cne);G(d,"#"),it(d,Ab,f);const h=[[_i,a],[Di,i]],p=[[_i,null],[Dc,s],[Di,o]];for(let g=0;g<Hd.length;g++)So(r,Hd[g],Fw,ji,h);for(let g=0;g<Ud.length;g++)So(r,Ud[g],jw,Rw,p);Ba(Fw,{tld:!0,ascii:!0},t),Ba(jw,{utld:!0,alpha:!0},t),So(r,"file",sp,ji,h),So(r,"mailto",sp,ji,h),So(r,"http",fl,ji,h),So(r,"https",fl,ji,h),So(r,"ftp",fl,ji,h),So(r,"ftps",fl,ji,h),Ba(sp,{scheme:!0,ascii:!0},t),Ba(fl,{slashscheme:!0,ascii:!0},t),e=e.sort((g,m)=>g[0]>m[0]?1:-1);for(let g=0;g<e.length;g++){const m=e[g][0],b=e[g][1]?{[ine]:!0}:{[one]:!0};m.indexOf("-")>=0?b[Nw]=!0:_i.test(m)?Di.test(m)?b[Iu]=!0:b[Dw]=!0:b[_w]=!0,$M(r,m,m,b)}return $M(r,"localhost",uf,{ascii:!0}),r.jd=new Ar(Lg),{start:r,tokens:Object.assign({groups:t},E6)}}function M6(e,t){const r=fne(t.replace(/[A-Z]/g,s=>s.toLowerCase())),n=r.length,i=[];let o=0,a=0;for(;a<n;){let s=e,l=null,c=0,u=null,f=-1,d=-1;for(;a<n&&(l=s.go(r[a]));)s=l,s.accepts()?(f=0,d=0,u=s):f>=0&&(f+=r[a].length,d++),c+=r[a].length,o+=r[a].length,a++;o-=f,a-=d,c-=f,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function fne(e){const t=[],r=e.length;let n=0;for(;n<r;){let i=e.charCodeAt(n),o,a=i<55296||i>56319||n+1===r||(o=e.charCodeAt(n+1))<56320||o>57343?e[n]:e.slice(n,n+2);t.push(a),n+=a.length}return t}function So(e,t,r,n,i){let o;const a=t.length;for(let s=0;s<a-1;s++){const l=t[s];e.j[l]?o=e.j[l]:(o=new Ar(n),o.jr=i.slice(),e.j[l]=o),e=o}return o=new Ar(r),o.jr=i.slice(),e.j[t[a-1]]=o,o}function xM(e){const t=[],r=[];let n=0,i="0123456789";for(;n<e.length;){let o=0;for(;i.indexOf(e[n+o])>=0;)o++;if(o>0){t.push(r.join(""));for(let a=parseInt(e.substring(n,n+o),10);a>0;a--)r.pop();n+=o}else r.push(e[n]),n++}return t}const ff={defaultProtocol:"http",events:null,format:SM,formatHref:SM,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function YS(e,t=null){let r=Object.assign({},ff);e&&(r=Object.assign(r,e instanceof YS?e.o:e));const n=r.ignoreTags,i=[];for(let o=0;o<n.length;o++)i.push(n[o].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=i}YS.prototype={o:ff,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const n=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:ff[e],typeof i=="function"&&n&&(i=i(t,r))):typeof i=="function"&&n&&(i=i(t,r.t,r)),i)},getObj(e,t,r){let n=this.o[e];return typeof n=="function"&&t!=null&&(n=n(t,r.t,r)),n},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function SM(e){return e}function A6(e,t){this.t="token",this.v=e,this.tk=t}A6.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),n=e.get("format",t,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=ff.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",r,this),i=e.get("tagName",r,t),o=this.toFormattedString(e),a={},s=e.get("className",r,t),l=e.get("target",r,t),c=e.get("rel",r,t),u=e.getObj("attributes",r,t),f=e.getObj("events",r,t);return a.href=n,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:i,attributes:a,content:o,eventListeners:f}}};function ev(e,t){class r extends A6{constructor(i,o){super(i,o),this.t=e}}for(const n in t)r.prototype[n]=t[n];return r.t=e,r}const kM=ev("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),OM=ev("text"),dne=ev("nl"),Vd=ev("url",{isLink:!0,toHref(e=ff.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==uf&&e[1].t===Po}}),on=e=>new Ar(e);function hne({groups:e}){const t=e.domain.concat([Sg,Og,To,Tg,Cg,Eg,Mg,Ag,un,US,Du,Ig,Pg,_g,ni,Lg,Nu,Dg]),r=[kg,Po,WS,ri,KS,Du,Lu,GS,qS,hg,pg,Pu,_u,ug,cg,fg,dg,gg,mg,vg,bg,yg,$g,wg,xg],n=[Sg,kg,Og,Tg,Cg,Eg,Mg,Ag,un,Pu,_u,Du,Ig,Pg,_g,Lu,ni,Lg,Nu,Dg],i=on(),o=G(i,Nu);we(o,n,o),we(o,e.domain,o);const a=on(),s=on(),l=on();we(i,e.domain,a),we(i,e.scheme,s),we(i,e.slashscheme,l),we(a,n,o),we(a,e.domain,a);const c=G(a,To);G(o,To,c),G(s,To,c),G(l,To,c);const u=G(o,ri);we(u,n,o),we(u,e.domain,o);const f=on();we(c,e.domain,f),we(f,e.domain,f);const d=G(f,ri);we(d,e.domain,f);const h=on(kM);we(d,e.tld,h),we(d,e.utld,h),G(c,uf,h);const p=G(f,un);G(p,un,p),we(p,e.domain,f),we(h,e.domain,f),G(h,ri,d),G(h,un,p);const g=G(h,Po);we(g,e.numeric,kM);const m=G(a,un),v=G(a,ri);G(m,un,m),we(m,e.domain,a),we(v,n,o),we(v,e.domain,a);const b=on(Vd);we(v,e.tld,b),we(v,e.utld,b),we(b,e.domain,a),we(b,n,o),G(b,ri,v),G(b,un,m),G(b,To,c);const y=G(b,Po),w=on(Vd);we(y,e.numeric,w);const $=on(Vd),x=on();we($,t,$),we($,r,x),we(x,t,$),we(x,r,x),G(b,ni,$),G(w,ni,$);const O=G(s,Po),T=G(l,Po),D=G(T,ni),L=G(D,ni);we(s,e.domain,a),G(s,ri,v),G(s,un,m),we(l,e.domain,a),G(l,ri,v),G(l,un,m),we(O,e.domain,$),G(O,ni,$),G(O,Lu,$),we(L,e.domain,$),we(L,t,$),G(L,ni,$);const I=[[Pu,_u],[cg,ug],[fg,dg],[hg,pg],[gg,mg],[vg,bg],[yg,$g],[wg,xg]];for(let E=0;E<I.length;E++){const[_,k]=I[E],C=G($,_);G(x,_,C),G(C,k,$);const S=on(Vd);we(C,t,S);const P=on();we(C,r),we(S,t,S),we(S,r,P),we(P,t,S),we(P,r,P),G(S,k,$),G(P,k,$)}return G(i,uf,b),G(i,VS,dne),{start:i,tokens:E6}}function pne(e,t,r){let n=r.length,i=0,o=[],a=[];for(;i<n;){let s=e,l=null,c=null,u=0,f=null,d=-1;for(;i<n&&!(l=s.go(r[i].t));)a.push(r[i++]);for(;i<n&&(c=l||s.go(r[i].t));)l=null,s=c,s.accepts()?(d=0,f=s):d>=0&&d++,i++,u++;if(d<0)i-=u,i<n&&(a.push(r[i]),i++);else{a.length>0&&(o.push(Db(OM,t,a)),a=[]),i-=d,u-=d;const h=f.t,p=r.slice(i-u,i);o.push(Db(h,t,p))}}return a.length>0&&o.push(Db(OM,t,a)),o}function Db(e,t,r){const n=r[0].s,i=r[r.length-1].e,o=t.slice(n,i);return new e(o,r)}const gne=typeof console<"u"&&console&&console.warn||(()=>{}),mne="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Xe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function vne(){return Ar.groups={},Xe.scanner=null,Xe.parser=null,Xe.tokenQueue=[],Xe.pluginQueue=[],Xe.customSchemes=[],Xe.initialized=!1,Xe}function TM(e,t=!1){if(Xe.initialized&&gne(`linkifyjs: already initialized - will not register custom scheme "${e}" ${mne}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Xe.customSchemes.push([e,t])}function bne(){Xe.scanner=une(Xe.customSchemes);for(let e=0;e<Xe.tokenQueue.length;e++)Xe.tokenQueue[e][1]({scanner:Xe.scanner});Xe.parser=hne(Xe.scanner.tokens);for(let e=0;e<Xe.pluginQueue.length;e++)Xe.pluginQueue[e][1]({scanner:Xe.scanner,parser:Xe.parser});return Xe.initialized=!0,Xe}function JS(e){return Xe.initialized||bne(),pne(Xe.parser.start,e,M6(Xe.scanner.start,e))}JS.scan=M6;function I6(e,t=null,r=null){if(t&&typeof t=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);r=t,t=null}const n=new YS(r),i=JS(e),o=[];for(let a=0;a<i.length;a++){const s=i[a];s.isLink&&(!t||s.t===t)&&n.check(s)&&o.push(s.toFormattedObject(n))}return o}var XS="[\0- -\u2029]",yne=new RegExp(XS),$ne=new RegExp(`${XS}$`),wne=new RegExp(XS,"g");function xne(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function Sne(e){return new st({key:new Wt("autolink"),appendTransaction:(t,r,n)=>{const i=t.some(c=>c.docChanged)&&!r.doc.eq(n.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=n,s=e6(r.doc,[...t]);if(s6(s).forEach(({newRange:c})=>{const u=Ate(n.doc,c,h=>h.isTextblock);let f,d;if(u.length>1)f=u[0],d=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(u.length){const h=n.doc.textBetween(c.from,c.to," "," ");if(!$ne.test(h))return;f=u[0],d=n.doc.textBetween(f.pos,c.to,void 0," ")}if(f&&d){const h=d.split(yne).filter(Boolean);if(h.length<=0)return!1;const p=h[h.length-1],g=f.pos+d.lastIndexOf(p);if(!p)return!1;const m=JS(p).map(v=>v.toObject(e.defaultProtocol));if(!xne(m))return!1;m.filter(v=>v.isLink).map(v=>({...v,from:g+v.start+1,to:g+v.end+1})).filter(v=>n.schema.marks.code?!n.doc.rangeHasMark(v.from,v.to,n.schema.marks.code):!0).filter(v=>e.validate(v.value)).filter(v=>e.shouldAutoLink(v.value)).forEach(v=>{FS(v.from,v.to,n.doc).some(b=>b.mark.type===e.type)||a.addMark(v.from,v.to,e.type.create({href:v.href}))})}}),!!a.steps.length)return a}})}function kne(e){return new st({key:new Wt("handleClickLink"),props:{handleClick:(t,r,n)=>{var i,o;if(n.button!==0||!t.editable)return!1;let a=null;if(n.target instanceof HTMLAnchorElement)a=n.target;else{let u=n.target;const f=[];for(;u.nodeName!=="DIV";)f.push(u),u=u.parentNode;a=f.find(d=>d.nodeName==="A")}if(!a)return!1;const s=a6(t.state,e.type.name),l=(i=a==null?void 0:a.href)!=null?i:s.href,c=(o=a==null?void 0:a.target)!=null?o:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&l?(window.open(l,c),!0):!1}}})}function One(e){return new st({key:new Wt("handlePasteLink"),props:{handlePaste:(t,r,n)=>{const{shouldAutoLink:i}=e,{state:o}=t,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";n.content.forEach(u=>{l+=u.textContent});const c=I6(l,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function Ta(e,t){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(n=>{const i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!e||e.replace(wne,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Tne=fo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){TM(e);return}TM(e.scheme,e.optionalSlashes)})},onDestroy(){vne()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Ta(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:r=>!!Ta(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Ta(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",at(this.options.HTMLAttributes,e),0]:["a",at(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var r;const n=((r=e.attrs)==null?void 0:r.href)||"";return`[${t.renderChildren(e)}](${n})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Ta(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:r}=e||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Ta(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Qo({find:e=>{const t=[];if(e){const{protocols:r,defaultProtocol:n}=this.options,i=I6(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Ta(a,r),protocols:r,defaultProtocol:n}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&t.push({text:o.value,data:{href:o.href},index:o.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:r}=this.options;return this.options.autolink&&e.push(Sne({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:i=>!!Ta(i,t),protocols:t,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(kne({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(One({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),Cne=Object.defineProperty,Ene=(e,t)=>{for(var r in t)Cne(e,r,{get:t[r],enumerable:!0})},Mne="listItem",CM="textStyle",EM=/^\s*([-+*])\s$/,P6=nn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Mne,this.editor.getAttributes(CM)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Vl({find:EM,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Vl({find:EM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(CM),editor:this.editor})),[e]}}),_6=nn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let r=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))r=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(r=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const a=e.tokens.slice(1),s=t.parseChildren(a);r.push(...s)}}else r=t.parseChildren(e.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(e,t,r)=>HS(e,t,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Ane={};Ene(Ane,{findListItemPos:()=>zf,getNextListDepth:()=>QS,handleBackspace:()=>zw,handleDelete:()=>Hw,hasListBefore:()=>D6,hasListItemAfter:()=>Ine,hasListItemBefore:()=>L6,listItemHasSubList:()=>N6,nextListIsDeeper:()=>R6,nextListIsHigher:()=>F6});var zf=(e,t)=>{const{$from:r}=t.selection,n=xt(e,t.schema);let i=null,o=r.depth,a=r.pos,s=null;for(;o>0&&s===null;)i=r.node(o),i.type===n?s=o:(o-=1,a-=1);return s===null?null:{$pos:t.doc.resolve(a),depth:s}},QS=(e,t)=>{const r=zf(e,t);if(!r)return!1;const[,n]=Bte(t,e,r.$pos.pos+4);return n},D6=(e,t,r)=>{const{$anchor:n}=e.selection,i=Math.max(0,n.pos-2),o=e.doc.resolve(i).node();return!(!o||!r.includes(o.type.name))},L6=(e,t)=>{var r;const{$anchor:n}=t.selection,i=t.doc.resolve(n.pos-2);return!(i.index()===0||((r=i.nodeBefore)==null?void 0:r.type.name)!==e)},N6=(e,t,r)=>{if(!r)return!1;const n=xt(e,t.schema);let i=!1;return r.descendants(o=>{o.type===n&&(i=!0)}),i},zw=(e,t,r)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Xo(e.state,t)&&D6(e.state,t,r)){const{$anchor:s}=e.state.selection,l=e.state.doc.resolve(s.before()-1),c=[];l.node().descendants((d,h)=>{d.type.name===t&&c.push({node:d,pos:h})});const u=c.at(-1);if(!u)return!1;const f=e.state.doc.resolve(l.start()+u.pos+1);return e.chain().cut({from:s.start()-1,to:s.end()+1},f.end()).joinForward().run()}if(!Xo(e.state,t)||!Vte(e.state))return!1;const n=zf(t,e.state);if(!n)return!1;const o=e.state.doc.resolve(n.$pos.pos-2).node(n.depth),a=N6(t,e.state,o);return L6(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},R6=(e,t)=>{const r=QS(e,t),n=zf(e,t);return!n||!r?!1:r>n.depth},F6=(e,t)=>{const r=QS(e,t),n=zf(e,t);return!n||!r?!1:r<n.depth},Hw=(e,t)=>{if(!Xo(e.state,t)||!Ute(e.state,t))return!1;const{selection:r}=e.state,{$from:n,$to:i}=r;return!r.empty&&n.sameParent(i)?!1:R6(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():F6(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},Ine=(e,t)=>{var r;const{$anchor:n}=t.selection,i=t.doc.resolve(n.pos-n.parentOffset-2);return!(i.index()===i.parent.childCount-1||((r=i.nodeAfter)==null?void 0:r.type.name)!==e)},j6=Be.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&Hw(e,r)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&Hw(e,r)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&zw(e,r,n)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&zw(e,r,n)&&(t=!0)}),t}}}}),MM=/^(\s*)(\d+)\.\s+(.*)$/,Pne=/^\s/;function _ne(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r],o=i.match(MM);if(!o)break;const[,a,s,l]=o,c=a.length;let u=l,f=r+1;const d=[i];for(;f<e.length;){const h=e[f];if(h.match(MM))break;if(h.trim()==="")d.push(h),u+=`
`,f+=1;else if(h.match(Pne))d.push(h),u+=`
${h.slice(c+2)}`,f+=1;else break}t.push({indent:c,number:parseInt(s,10),content:u.trim(),raw:d.join(`
`)}),n=f,r=f}return[t,n]}function B6(e,t,r){var n;const i=[];let o=0;for(;o<e.length;){const a=e[o];if(a.indent===t){const s=a.content.split(`
`),l=((n=s[0])==null?void 0:n.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:r.inlineTokens(l)});const u=s.slice(1).join(`
`).trim();if(u){const h=r.blockTokens(u);c.push(...h)}let f=o+1;const d=[];for(;f<e.length&&e[f].indent>t;)d.push(e[f]),f+=1;if(d.length>0){const h=Math.min(...d.map(g=>g.indent)),p=B6(d,h,r);c.push({type:"list",ordered:!0,start:d[0].number,items:p,raw:d.map(g=>g.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:c}),o=f}else o+=1}return i}function Dne(e,t){return e.map(r=>{if(r.type!=="list_item")return t.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")n.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=t.parseChildren([i]);n.push({type:"paragraph",content:o})}else{const o=t.parseChildren([i]);o.length>0&&n.push(...o)}}),{type:"listItem",content:n}})}var Lne="listItem",AM="textStyle",IM=/^(\d+)\.\s$/,z6=nn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...r}=e;return t===1?["ol",at(this.options.HTMLAttributes,r),0]:["ol",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const r=e.start||1,n=e.items?Dne(e.items,t):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),r=t==null?void 0:t.index;return r!==void 0?r:-1},tokenize:(e,t,r)=>{var n;const i=e.split(`
`),[o,a]=_ne(i);if(o.length===0)return;const s=B6(o,0,r);return s.length===0?void 0:{type:"list",ordered:!0,start:((n=o[0])==null?void 0:n.number)||1,items:s,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Lne,this.editor.getAttributes(AM)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Vl({find:IM,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Vl({find:IM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(AM)}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1],editor:this.editor})),[e]}}),Nne=/^\s*(\[([( |x])?\])\s$/,Rne=nn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",at(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const r=[];if(e.tokens&&e.tokens.length>0?r.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?r.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):r.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const n=t.parseChildren(e.nestedTokens);r.push(...n)}return t.createNode("taskItem",{checked:e.checked||!1},r)},renderMarkdown:(e,t)=>{var r;const i=`- [${(r=e.attrs)!=null&&r.checked?"x":" "}] `;return HS(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:r,editor:n})=>{const i=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),s=document.createElement("input"),l=document.createElement("div"),c=u=>{var f,d;s.ariaLabel=((d=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:d.call(f,u,s.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(e),o.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",u=>u.preventDefault()),s.addEventListener("change",u=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){s.checked=!s.checked;return}const{checked:f}=u.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{const h=r();if(typeof h!="number")return!1;const p=d.doc.nodeAt(h);return d.setNodeMarkup(h,void 0,{...p==null?void 0:p.attrs,checked:f}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,f)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,f])=>{i.setAttribute(u,f)}),i.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,o.append(s,a),i.append(o,l),Object.entries(t).forEach(([u,f])=>{i.setAttribute(u,f)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,s.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[Vl({find:Nne,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),Fne=nn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",at(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const r=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return r!==void 0?r:-1},tokenize(e,t,r){const n=o=>{const a=Pw(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,l)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:r.inlineTokens(s.mainContent),nestedTokens:l}),customNestedParser:n},r);return a?[{type:"taskList",raw:a.raw,items:a.items}]:r.blockTokens(o)},i=Pw(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,a)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:r.inlineTokens(o.mainContent),nestedTokens:a}),customNestedParser:n},r);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Be.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(P6.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(_6.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(j6.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(z6.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(Rne.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(Fne.configure(this.options.taskList)),e}});var jne=nn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",at(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const r=e.tokens||[];return r.length===1&&r[0].type==="image"?t.parseChildren([r[0]]):t.createNode("paragraph",void 0,t.parseInline(r))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Bne=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,zne=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Hne=fo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[rs({find:Bne,type:this.type})]},addPasteRules(){return[Qo({find:zne,type:this.type})]}}),Une=nn.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),Vne=fo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",at(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,r){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:r.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Wne(e={}){return new st({view(t){return new Kne(t,e)}})}class Kne{constructor(t,r){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:r})=>this.editorView.dom.removeEventListener(t,r))}update(t,r){this.cursorPos!=null&&r.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),r=!t.parent.inlineContent,n,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(r){let f=t.nodeBefore,d=t.nodeAfter;if(f||d){let h=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(h){let p=h.getBoundingClientRect(),g=f?p.bottom:p.top;f&&d&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let m=this.width/2*s;n={left:p.left,right:p.right,top:g-m,bottom:g+m}}}}if(!n){let f=this.editorView.coordsAtPos(this.cursorPos),d=this.width/2*a;n={left:f.left-d,right:f.left+d,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let f=l.getBoundingClientRect(),d=f.width/l.offsetWidth,h=f.height/l.offsetHeight;c=f.left-l.scrollLeft*d,u=f.top-l.scrollTop*h}this.element.style.left=(n.left-c)/a+"px",this.element.style.top=(n.top-u)/s+"px",this.element.style.width=(n.right-n.left)/a+"px",this.element.style.height=(n.bottom-n.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,r,t):i;if(r&&!o){let a=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=KN(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class ot extends xe{constructor(t){super(t,t)}map(t,r){let n=t.resolve(r.map(this.head));return ot.valid(n)?new ot(n):xe.near(n)}content(){return X.empty}eq(t){return t instanceof ot&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ot(t.resolve(r.pos))}getBookmark(){return new ZS(this.anchor)}static valid(t){let r=t.parent;if(r.isTextblock||!Gne(t)||!qne(t))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,r,n=!1){e:for(;;){if(!n&&ot.valid(t))return t;let i=t.pos,o=null;for(let a=t.depth;;a--){let s=t.node(a);if(r>0?t.indexAfter(a)<s.childCount:t.index(a)>0){o=s.child(r>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=r;let l=t.doc.resolve(i);if(ot.valid(l))return l}for(;;){let a=r>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!fe.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*r),n=!1;continue e}break}o=a,i+=r;let s=t.doc.resolve(i);if(ot.valid(s))return s}return null}}}ot.prototype.visible=!1;ot.findFrom=ot.findGapCursorFrom;xe.jsonID("gapcursor",ot);class ZS{constructor(t){this.pos=t}map(t){return new ZS(t.map(this.pos))}resolve(t){let r=t.resolve(this.pos);return ot.valid(r)?new ot(r):xe.near(r)}}function H6(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function Gne(e){for(let t=e.depth;t>=0;t--){let r=e.index(t),n=e.node(t);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||H6(i.type))return!0;if(i.inlineContent)return!1}}return!0}function qne(e){for(let t=e.depth;t>=0;t--){let r=e.indexAfter(t),n=e.node(t);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||H6(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Yne(){return new st({props:{decorations:Zne,createSelectionBetween(e,t,r){return t.pos==r.pos&&ot.valid(r)?new ot(r):null},handleClick:Xne,handleKeyDown:Jne,handleDOMEvents:{beforeinput:Qne}}})}const Jne=KR({ArrowLeft:Wd("horiz",-1),ArrowRight:Wd("horiz",1),ArrowUp:Wd("vert",-1),ArrowDown:Wd("vert",1)});function Wd(e,t){const r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,i,o){let a=n.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof ve){if(!o.endOfTextblock(r)||s.depth==0)return!1;l=!1,s=n.doc.resolve(t>0?s.after():s.before())}let c=ot.findGapCursorFrom(s,t,l);return c?(i&&i(n.tr.setSelection(new ot(c))),!0):!1}}function Xne(e,t,r){if(!e||!e.editable)return!1;let n=e.state.doc.resolve(t);if(!ot.valid(n))return!1;let i=e.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&fe.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new ot(n))),!0)}function Qne(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof ot))return!1;let{$from:r}=e.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!n)return!1;let i=K.empty;for(let a=n.length-1;a>=0;a--)i=K.from(n[a].createAndFill(null,i));let o=e.state.tr.replace(r.pos,r.pos,new X(i,0,0));return o.setSelection(ve.near(o.doc.resolve(r.pos+1))),e.dispatch(o),!1}function Zne(e){if(!(e.selection instanceof ot))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",tt.create(e.doc,[hr.widget(e.selection.head,t,{key:"gapcursor"})])}var Ng=200,Ht=function(){};Ht.prototype.append=function(t){return t.length?(t=Ht.from(t),!this.length&&t||t.length<Ng&&this.leafAppend(t)||this.length<Ng&&t.leafPrepend(this)||this.appendInner(t)):this};Ht.prototype.prepend=function(t){return t.length?Ht.from(t).append(this):this};Ht.prototype.appendInner=function(t){return new eie(this,t)};Ht.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.length),t>=r?Ht.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))};Ht.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Ht.prototype.forEach=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(t,r,n,0):this.forEachInvertedInner(t,r,n,0)};Ht.prototype.map=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(t(o,a))},r,n),i};Ht.from=function(t){return t instanceof Ht?t:t&&t.length?new U6(t):Ht.empty};var U6=(function(e){function t(n){e.call(this),this.values=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Ng)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Ng)return new t(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t})(Ht);Ht.empty=new U6([]);var eie=(function(e){function t(r,n){e.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},t.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new t(i,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t})(Ht);const tie=500;class Nn{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,o;r&&(i=this.remapping(n,this.items.length),o=i.maps.length);let a=t.tr,s,l,c=[],u=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(n,d+1),o=i.maps.length),o--,u.push(f);return}if(i){u.push(new ii(f.map));let h=f.step.map(i.slice(o)),p;h&&a.maybeStep(h).doc&&(p=a.mapping.maps[a.mapping.maps.length-1],c.push(new ii(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else a.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,l=new Nn(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,r,n,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let u=0;u<t.steps.length;u++){let f=t.steps[u].invert(t.docs[u]),d=new ii(t.mapping.maps[u],f,r),h;(h=l&&l.merge(d))&&(d=h,u?o.pop():s=s.slice(0,s.length-1)),o.push(d),r&&(a++,r=void 0),i||(l=d)}let c=a-n.depth;return c>nie&&(s=rie(s,c),a-=c),new Nn(s.append(o),a)}remapping(t,r){let n=new rf;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,a)},t,r),n}addMaps(t){return this.eventCount==0?this:new Nn(this.items.append(t.map(r=>new ii(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=r;this.items.forEach(d=>{let h=o.getMirror(--l);if(h==null)return;a=Math.min(a,h);let p=o.maps[h];if(d.step){let g=t.steps[h].invert(t.docs[h]),m=d.selection&&d.selection.map(o.slice(l+1,h));m&&s++,n.push(new ii(p,g,m))}else n.push(new ii(p))},i);let c=[];for(let d=r;d<a;d++)c.push(new ii(o.maps[d]));let u=this.items.slice(0,i).append(c).append(n),f=new Nn(u,s);return f.emptyItemCount()>tie&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),n=r.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let u=a.selection&&a.selection.map(r.slice(n));u&&o++;let f=new ii(c.invert(),l,u),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else a.map&&n--},this.items.length,0),new Nn(Ht.from(i.reverse()),o)}}Nn.empty=new Nn(Ht.empty,0);function rie(e,t){let r;return e.forEach((n,i)=>{if(n.selection&&t--==0)return r=i,!1}),e.slice(r)}class ii{constructor(t,r,n,i){this.map=t,this.step=r,this.selection=n,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new ii(r.getMap().invert(),r,this.selection)}}}class Co{constructor(t,r,n,i,o){this.done=t,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=o}}const nie=20;function iie(e,t,r,n){let i=r.getMeta(qa),o;if(i)return i.historyState;r.getMeta(sie)&&(e=new Co(e.done,e.undone,null,0,-1));let a=r.getMeta("appendedTransaction");if(r.steps.length==0)return e;if(a&&a.getMeta(qa))return a.getMeta(qa).redo?new Co(e.done.addTransform(r,void 0,n,lp(t)),e.undone,PM(r.mapping.maps),e.prevTime,e.prevComposition):new Co(e.done,e.undone.addTransform(r,void 0,n,lp(t)),null,e.prevTime,e.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=r.getMeta("composition"),l=e.prevTime==0||!a&&e.prevComposition!=s&&(e.prevTime<(r.time||0)-n.newGroupDelay||!oie(r,e.prevRanges)),c=a?Lb(e.prevRanges,r.mapping):PM(r.mapping.maps);return new Co(e.done.addTransform(r,l?t.selection.getBookmark():void 0,n,lp(t)),Nn.empty,c,r.time,s??e.prevComposition)}else return(o=r.getMeta("rebased"))?new Co(e.done.rebased(r,o),e.undone.rebased(r,o),Lb(e.prevRanges,r.mapping),e.prevTime,e.prevComposition):new Co(e.done.addMaps(r.mapping.maps),e.undone.addMaps(r.mapping.maps),Lb(e.prevRanges,r.mapping),e.prevTime,e.prevComposition)}function oie(e,t){if(!t)return!1;if(!e.docChanged)return!0;let r=!1;return e.mapping.maps[0].forEach((n,i)=>{for(let o=0;o<t.length;o+=2)n<=t[o+1]&&i>=t[o]&&(r=!0)}),r}function PM(e){let t=[];for(let r=e.length-1;r>=0&&t.length==0;r--)e[r].forEach((n,i,o,a)=>t.push(o,a));return t}function Lb(e,t){if(!e)return null;let r=[];for(let n=0;n<e.length;n+=2){let i=t.map(e[n],1),o=t.map(e[n+1],-1);i<=o&&r.push(i,o)}return r}function aie(e,t,r){let n=lp(t),i=qa.get(t).spec.config,o=(r?e.undone:e.done).popEvent(t,n);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(r?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,n),l=new Co(r?s:o.remaining,r?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(qa,{redo:r,historyState:l})}let Nb=!1,_M=null;function lp(e){let t=e.plugins;if(_M!=t){Nb=!1,_M=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){Nb=!0;break}}return Nb}const qa=new Wt("history"),sie=new Wt("closeHistory");function lie(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new st({key:qa,state:{init(){return new Co(Nn.empty,Nn.empty,null,0,-1)},apply(t,r,n){return iie(r,n,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,r){let n=r.inputType,i=n=="historyUndo"?W6:n=="historyRedo"?K6:null;return i?(r.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function V6(e,t){return(r,n)=>{let i=qa.getState(r);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(n){let o=aie(i,r,e);o&&n(t?o.scrollIntoView():o)}return!0}}const W6=V6(!1,!0),K6=V6(!0,!0);Be.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const n=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(n)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,r=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let e=!1;return[new st({key:new Wt("characterCount"),appendTransaction:(t,r,n)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const o=this.storage.characters({node:n.doc});if(o>i){const a=o-i,s=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=n.tr.deleteRange(s,l);return e=!0,c}e=!0},filterTransaction:(t,r)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const i=this.storage.characters({node:r.doc}),o=this.storage.characters({node:t.doc});if(o<=n||i>n&&o>n&&o<=i)return!0;if(i>n&&o>n&&o>i||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,l=o-n,c=s-l,u=s;return t.deleteRange(c,u),!(this.storage.characters({node:t.doc})>n)}})]}});var cie=Be.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Wne(this.options)]}});Be.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new st({key:new Wt("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:i}=t,o=[];if(!r||!n)return tt.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let s=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(s+=1,this.options.mode==="deepest"&&a-s>0||this.options.mode==="shallowest"&&s>1)return this.options.mode==="deepest";o.push(hr.node(c,c+l.nodeSize,{class:this.options.className}))}),tt.create(e,o)}}})]}});var uie=Be.create({name:"gapCursor",addProseMirrorPlugins(){return[Yne()]},extendNodeSchema(e){var t;const r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Le(ue(e,"allowGapCursor",r)))!=null?t:null}}});Be.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new st({key:new Wt("placeholder"),props:{decorations:({doc:e,selection:t})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=t,i=[];if(!r)return null;const o=this.editor.isEmpty;return e.descendants((a,s)=>{const l=n>=s&&n<=s+a.nodeSize,c=!a.isLeaf&&Qm(a);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const f=hr.node(s,s+a.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:s,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),tt.create(e,i)}}})]}});Be.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new st({key:new Wt("selection"),props:{decorations(r){return r.selection.empty||e.isFocused||!e.isEditable||l6(r.selection)||e.view.dragging?null:tt.create(r.doc,[hr.inline(r.selection.from,r.selection.to,{class:t.className})])}}})]}});function DM({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var fie=Be.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Wt(this.name),r=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(r).includes(i.name));return[new st({key:t,appendTransaction:(i,o,a)=>{const{doc:s,tr:l,schema:c}=a,u=t.getState(a),f=s.content.size,d=c.nodes[r];if(u)return l.insert(f,d.create())},state:{init:(i,o)=>{const a=o.tr.doc.lastChild;return!DM({node:a,types:n})},apply:(i,o)=>{if(!i.docChanged)return o;const a=i.doc.lastChild;return!DM({node:a,types:n})}}})]}}),die=Be.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>W6(e,t),redo:()=>({state:e,dispatch:t})=>K6(e,t)}},addProseMirrorPlugins(){return[lie(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),hie=Be.create({name:"starterKit",addExtensions(){var e,t,r,n;const i=[];return this.options.bold!==!1&&i.push(Bre.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Lre.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(P6.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Ure.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Kre.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(Gre.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(cie.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(uie.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(qre.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(Yre.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(die.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(Jre.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(tne.configure(this.options.italic)),this.options.listItem!==!1&&i.push(_6.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(j6.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(Tne.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(z6.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(jne.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Hne.configure(this.options.strike)),this.options.text!==!1&&i.push(Une.configure(this.options.text)),this.options.underline!==!1&&i.push(Vne.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&i.push(fie.configure((n=this.options)==null?void 0:n.trailingNode)),i}}),pie=hie;function gie(e){let[t,r]=Y();return oe(()=>{let n=new kre({...e()});be(()=>{n.destroy()}),r(n)}),t}var mie=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,vie=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,bie=fo.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",at(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,r){const i=/^(==)([^=]+)(==)/.exec(e);if(i){const o=i[2].trim(),a=r.inlineTokens(o);return{type:"highlight",raw:i[0],text:o,tokens:a}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[rs({find:mie,type:this.type})]},addPasteRules(){return[Qo({find:vie,type:this.type})]}}),yie=bie,$ie=e=>lt({find:/--$/,replace:e??""}),wie=e=>lt({find:/\.\.\.$/,replace:e??""}),xie=e=>lt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:e??""}),Sie=e=>lt({find:/"$/,replace:e??""}),kie=e=>lt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:e??""}),Oie=e=>lt({find:/'$/,replace:e??""}),Tie=e=>lt({find:/<-$/,replace:e??""}),Cie=e=>lt({find:/->$/,replace:e??""}),Eie=e=>lt({find:/\(c\)$/,replace:e??""}),Mie=e=>lt({find:/\(tm\)$/,replace:e??""}),Aie=e=>lt({find:/\(sm\)$/,replace:e??""}),Iie=e=>lt({find:/\(r\)$/,replace:e??""}),Pie=e=>lt({find:/(?:^|\s)(1\/2)\s$/,replace:e??""}),_ie=e=>lt({find:/\+\/-$/,replace:e??""}),Die=e=>lt({find:/!=$/,replace:e??""}),Lie=e=>lt({find:/<<$/,replace:e??""}),Nie=e=>lt({find:/>>$/,replace:e??""}),Rie=e=>lt({find:/\d+\s?([*x])\s?\d+$/,replace:e??""}),Fie=e=>lt({find:/\^2$/,replace:e??""}),jie=e=>lt({find:/\^3$/,replace:e??""}),Bie=e=>lt({find:/(?:^|\s)(1\/4)\s$/,replace:e??""}),zie=e=>lt({find:/(?:^|\s)(3\/4)\s$/,replace:e??""}),Hie=Be.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const e=[];return this.options.emDash!==!1&&e.push($ie(this.options.emDash)),this.options.ellipsis!==!1&&e.push(wie(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&e.push(xie(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&e.push(Sie(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&e.push(kie(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&e.push(Oie(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&e.push(Tie(this.options.leftArrow)),this.options.rightArrow!==!1&&e.push(Cie(this.options.rightArrow)),this.options.copyright!==!1&&e.push(Eie(this.options.copyright)),this.options.trademark!==!1&&e.push(Mie(this.options.trademark)),this.options.servicemark!==!1&&e.push(Aie(this.options.servicemark)),this.options.registeredTrademark!==!1&&e.push(Iie(this.options.registeredTrademark)),this.options.oneHalf!==!1&&e.push(Pie(this.options.oneHalf)),this.options.plusMinus!==!1&&e.push(_ie(this.options.plusMinus)),this.options.notEqual!==!1&&e.push(Die(this.options.notEqual)),this.options.laquo!==!1&&e.push(Lie(this.options.laquo)),this.options.raquo!==!1&&e.push(Nie(this.options.raquo)),this.options.multiplication!==!1&&e.push(Rie(this.options.multiplication)),this.options.superscriptTwo!==!1&&e.push(Fie(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&e.push(jie(this.options.superscriptThree)),this.options.oneQuarter!==!1&&e.push(Bie(this.options.oneQuarter)),this.options.threeQuarters!==!1&&e.push(zie(this.options.threeQuarters)),e}}),Uie=Hie,Vie=20,G6=(e,t=0)=>{const r=[];return!e.children.length||t>Vie||Array.from(e.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...G6(n,t+1))}),r},Wie=e=>{if(!e.children.length)return;const t=G6(e);t&&t.forEach(r=>{var n,i;const o=r.getAttribute("style"),a=(i=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:i.getAttribute("style");r.setAttribute("style",`${a};${o}`)})},q6=fo.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Wie(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",at(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||e.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),Kie=Be.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const r=e.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const o=n[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="background-color")return s.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Gie=Be.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const r=e.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const o=n[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="color")return s.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),qie=Be.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Yie=Be.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Jie=Be.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Be.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(Kie.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(Gie.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(qie.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(Yie.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(Jie.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(q6.configure(this.options.textStyle)),e}});var Xie=Be.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(r=>t.updateAttributes(r,{textAlign:e})).every(r=>r):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:r})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?r.unsetTextAlign():r.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Qie=Xie,Zie=W("<div class=p-5><div id=editor>");function eoe(e){const t=[];for(;e&&e.nodeType===1;){const r=e.tagName.toLowerCase();if(r==="div")break;t.push(r),e=e.parentNode}return t}function LM(){const e=window.getSelection();if(!e||!e.focusNode)return[];const t=e.focusNode,r=t.nodeType===3?t.parentElement:t;return eoe(r)}const Y6=e=>{let t;const r=aS(n=>{console.log("Debounced update:",n),iY(e.id,n)},300);return gie(()=>({element:t,onFocus({editor:n}){ML(e.id),le("noteEditor",n),le("activeSidebar","noteStyles")},onSelectionUpdate(){le("activeTags",LM())},onUpdate({editor:n}){setTimeout(()=>{le("activeTags",LM())},0),console.log(n.getJSON());const i=n.getText().trim();console.log(i);const o=/^(https?:\/\/[^\s]+)$/;console.log(o.test(i)),o.test(i)?(console.log("here we change this this note node to a url node"),hY(e.id,i)):r(JSON.stringify(n.getJSON()))},extensions:[pie,yie,Uie,q6,Qie],content:JSON.parse(e.text)})),(()=>{var n=Zie(),i=n.firstChild,o=t;return typeof o=="function"?Ut(o,i):t=i,n})()};var toe=W("<div>"),tv=class{constructor(e){R(this,"x");R(this,"y");R(this,"width");R(this,"height");this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.width=Math.floor(e.width),this.height=Math.floor(e.height)}get rect(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return{x:this.x+this.width*.5,y:this.y+this.height*.5}}get corners(){return{topLeft:{x:this.left,y:this.top},topRight:{x:this.right,y:this.top},bottomRight:{x:this.left,y:this.bottom},bottomLeft:{x:this.right,y:this.bottom}}}},Al=e=>{let t=new tv(e.getBoundingClientRect());const{transform:r}=getComputedStyle(e);return r&&(t=roe(t,r)),t},roe=(e,t)=>{let r,n;if(t.startsWith("matrix3d(")){const i=t.slice(9,-1).split(/, /);r=+i[12],n=+i[13]}else if(t.startsWith("matrix(")){const i=t.slice(7,-1).split(/, /);r=+i[4],n=+i[5]}else r=0,n=0;return new tv({...e,x:e.x-r,y:e.y-n})},jn=()=>({x:0,y:0}),ek=(e,t)=>e.x===t.x&&e.y===t.y,Rb=(e,t)=>new tv({...e,x:e.x+t.x,y:e.y+t.y}),noe=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),ioe=(e,t)=>{const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.right,t.right),o=Math.min(e.bottom,t.bottom),a=i-n,s=o-r;if(n<i&&r<o){const l=e.width*e.height,c=t.width*t.height,u=a*s;return u/(l+c-u)}return 0},Fb=(e,t)=>e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height,ooe=(e,t,r)=>{const n=e.transformed.center,i={distance:1/0,droppable:null};for(const o of t){const a=noe(n,o.layout.center);a<i.distance?(i.distance=a,i.droppable=o):a===i.distance&&o.id===r.activeDroppableId&&(i.droppable=o)}return i.droppable},aoe=(e,t,r)=>{const n=e.transformed,i={ratio:0,droppable:null};for(const o of t){const a=ioe(n,o.layout);a>i.ratio?(i.ratio=a,i.droppable=o):a>0&&a===i.ratio&&o.id===r.activeDroppableId&&(i.droppable=o)}return i.droppable},J6=tn(),soe=e=>{const t=ye({collisionDetector:aoe},e),[r,n]=iS({draggables:{},droppables:{},sensors:{},active:{draggableId:null,get draggable(){return r.active.draggableId!==null?r.draggables[r.active.draggableId]:null},droppableId:null,get droppable(){return r.active.droppableId!==null?r.droppables[r.active.droppableId]:null},sensorId:null,get sensor(){return r.active.sensorId!==null?r.sensors[r.active.sensorId]:null},overlay:null}}),i=(k,C,S)=>{k.substring(0,k.length-1),_e(()=>r[k][C])&&n(k,C,"transformers",S.id,S)},o=(k,C,S)=>{k.substring(0,k.length-1),_e(()=>r[k][C])&&_e(()=>r[k][C].transformers[S])&&n(k,C,"transformers",S,void 0)},a=({id:k,node:C,layout:S,data:P})=>{const A=r.draggables[k],N={id:k,node:C,layout:S,data:P,_pendingCleanup:!1};let U;if(!A)Object.defineProperties(N,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{if(r.active.overlay)return jn();const V=Object.values(r.draggables[k].transformers);return V.sort((ae,ne)=>ae.order-ne.order),V.reduce((ae,ne)=>ne.callback(ae),jn())}},transformed:{enumerable:!0,configurable:!0,get:()=>Rb(r.draggables[k].layout,r.draggables[k].transform)}});else if(r.active.draggableId===k&&!r.active.overlay){const V={x:A.layout.x-S.x,y:A.layout.y-S.y},ae="addDraggable-existing-offset",ne=A.transformers[ae],pe=ne?ne.callback(V):V;U={id:ae,order:100,callback:Se=>({x:Se.x+pe.x,y:Se.y+pe.y})},I(()=>o("draggables",k,ae))}Fi(()=>{n("draggables",k,N),U&&i("draggables",k,U)}),r.active.draggable&&w()},s=k=>{_e(()=>r.draggables[k])&&(n("draggables",k,"_pendingCleanup",!0),queueMicrotask(()=>l(k)))},l=k=>{var C;if((C=r.draggables[k])!=null&&C._pendingCleanup){const S=r.active.draggableId===k;Fi(()=>{S&&n("active","draggableId",null),n("draggables",k,void 0)})}},c=({id:k,node:C,layout:S,data:P})=>{const A=r.droppables[k],N={id:k,node:C,layout:S,data:P,_pendingCleanup:!1};A||Object.defineProperties(N,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{const U=Object.values(r.droppables[k].transformers);return U.sort((V,ae)=>V.order-ae.order),U.reduce((V,ae)=>ae.callback(V),jn())}},transformed:{enumerable:!0,configurable:!0,get:()=>Rb(r.droppables[k].layout,r.droppables[k].transform)}}),n("droppables",k,N),r.active.draggable&&w()},u=k=>{_e(()=>r.droppables[k])&&(n("droppables",k,"_pendingCleanup",!0),queueMicrotask(()=>f(k)))},f=k=>{var C;if((C=r.droppables[k])!=null&&C._pendingCleanup){const S=r.active.droppableId===k;Fi(()=>{S&&n("active","droppableId",null),n("droppables",k,void 0)})}},d=({id:k,activators:C})=>{n("sensors",k,{id:k,activators:C,coordinates:{origin:{x:0,y:0},current:{x:0,y:0},get delta(){return{x:r.sensors[k].coordinates.current.x-r.sensors[k].coordinates.origin.x,y:r.sensors[k].coordinates.current.y-r.sensors[k].coordinates.origin.y}}}})},h=k=>{if(!_e(()=>r.sensors[k]))return;const C=r.active.sensorId===k;Fi(()=>{C&&n("active","sensorId",null),n("sensors",k,void 0)})},p=({node:k,layout:C})=>{const S=r.active.overlay,P={node:k,layout:C};S||Object.defineProperties(P,{id:{enumerable:!0,configurable:!0,get:()=>{var A;return(A=r.active.draggable)==null?void 0:A.id}},data:{enumerable:!0,configurable:!0,get:()=>{var A;return(A=r.active.draggable)==null?void 0:A.data}},transformers:{enumerable:!0,configurable:!0,get:()=>Object.fromEntries(Object.entries(r.active.draggable?r.active.draggable.transformers:{}).filter(([A])=>A!=="addDraggable-existing-offset"))},transform:{enumerable:!0,configurable:!0,get:()=>{const A=Object.values(r.active.overlay?r.active.overlay.transformers:[]);return A.sort((N,U)=>N.order-U.order),A.reduce((N,U)=>U.callback(N),jn())}},transformed:{enumerable:!0,configurable:!0,get:()=>r.active.overlay?Rb(r.active.overlay.layout,r.active.overlay.transform):new tv({x:0,y:0,width:0,height:0})}}),n("active","overlay",P)},g=()=>n("active","overlay",null),m=(k,C)=>{Fi(()=>{n("sensors",k,"coordinates",{origin:{...C},current:{...C}}),n("active","sensorId",k)})},v=k=>{const C=r.active.sensorId;C&&n("sensors",C,"coordinates","current",{...k})},b=()=>n("active","sensorId",null),y=(k,C)=>{const S={};for(const A of Object.values(r.sensors))if(A)for(const[N,U]of Object.entries(A.activators))S[N]??(S[N]=[]),S[N].push({sensor:A,activator:U});const P={};for(const A in S){let N=A;C&&(N=`on${A}`),P[N]=U=>{for(const{activator:V}of S[A]){if(r.active.sensor)break;V(U,k)}}}return P},w=()=>{let k=!1;const C=Object.values(r.draggables),S=Object.values(r.droppables),P=r.active.overlay;return Fi(()=>{const A=new WeakMap;for(const N of C)if(N){const U=N.layout;A.has(N.node)||A.set(N.node,Al(N.node));const V=A.get(N.node);Fb(U,V)||(n("draggables",N.id,"layout",V),k=!0)}for(const N of S)if(N){const U=N.layout;A.has(N.node)||A.set(N.node,Al(N.node));const V=A.get(N.node);Fb(U,V)||(n("droppables",N.id,"layout",V),k=!0)}if(P){const N=P.layout,U=Al(P.node);Fb(N,U)||(n("active","overlay","layout",U),k=!0)}}),k},$=()=>{const k=r.active.overlay??r.active.draggable;if(k){const C=t.collisionDetector(k,Object.values(r.droppables),{activeDroppableId:r.active.droppableId}),S=C?C.id:null;r.active.droppableId!==S&&n("active","droppableId",S)}},x=k=>{const C={id:"sensorMove",order:0,callback:S=>r.active.sensor?{x:S.x+r.active.sensor.coordinates.delta.x,y:S.y+r.active.sensor.coordinates.delta.y}:S};w(),Fi(()=>{n("active","draggableId",k),i("draggables",k,C)}),$()},O=()=>{const k=_e(()=>r.active.draggableId);Fi(()=>{k!==null&&o("draggables",k,"sensorMove"),n("active",["draggableId","droppableId"],null)}),w()},T=k=>{oe(()=>{const C=r.active.draggable;C&&_e(()=>k({draggable:C}))})},D=k=>{oe(()=>{const C=r.active.draggable;if(C){const S=_e(()=>r.active.overlay);Object.values(S?S.transform:C.transform),_e(()=>k({draggable:C,overlay:S}))}})},L=k=>{oe(()=>{const C=r.active.draggable,S=r.active.droppable;C&&_e(()=>k({draggable:C,droppable:S,overlay:r.active.overlay}))})},I=k=>{oe(({previousDraggable:C,previousDroppable:S,previousOverlay:P})=>{const A=r.active.draggable,N=A?r.active.droppable:null,U=A?r.active.overlay:null;return!A&&C&&_e(()=>k({draggable:C,droppable:S,overlay:P})),{previousDraggable:A,previousDroppable:N,previousOverlay:U}},{previousDraggable:null,previousDroppable:null,previousOverlay:null})};D(()=>$()),t.onDragStart&&T(t.onDragStart),t.onDragMove&&D(t.onDragMove),t.onDragOver&&L(t.onDragOver),t.onDragEnd&&I(t.onDragEnd);const _=[r,{addTransformer:i,removeTransformer:o,addDraggable:a,removeDraggable:s,addDroppable:c,removeDroppable:u,addSensor:d,removeSensor:h,setOverlay:p,clearOverlay:g,recomputeLayouts:w,detectCollisions:$,draggableActivators:y,sensorStart:m,sensorMove:v,sensorEnd:b,dragStart:x,dragEnd:O,onDragStart:T,onDragMove:D,onDragOver:L,onDragEnd:I}];return M(J6.Provider,{value:_,get children(){return t.children}})},Ss=()=>rn(J6)||null,loe=(e="pointer-sensor")=>{const[t,{addSensor:r,removeSensor:n,sensorStart:i,sensorMove:o,sensorEnd:a,dragStart:s,dragEnd:l}]=Ss(),c=250,u=10;Vt(()=>{r({id:e,activators:{pointerdown:g}})}),be(()=>{n(e)});const f=()=>t.active.sensorId===e,d={x:0,y:0};let h=null,p=null;const g=($,x)=>{$.button===0&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",y),p=x,d.x=$.clientX,d.y=$.clientY,h=window.setTimeout(v,c))},m=()=>{h&&(clearTimeout(h),h=null),document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",y),document.removeEventListener("selectionchange",w)},v=()=>{t.active.sensor?f()||m():(i(e,d),s(p),w(),document.addEventListener("selectionchange",w))},b=$=>{const x={x:$.clientX,y:$.clientY};if(!t.active.sensor){const O={x:x.x-d.x,y:x.y-d.y};Math.sqrt(O.x**2+O.y**2)>u&&v()}f()&&($.preventDefault(),o(x))},y=$=>{m(),f()&&($.preventDefault(),l(),a())},w=()=>{var $;($=window.getSelection())==null||$.removeAllRanges()}},coe=e=>(loe(),pt(()=>e.children)),rv=e=>({transform:`translate3d(${e.x}px, ${e.y}px, 0)`}),uoe=(e,t={})=>{const[r,{addDraggable:n,removeDraggable:i,draggableActivators:o}]=Ss(),[a,s]=Y(null);Vt(()=>{const f=a();f&&n({id:e,node:f,layout:Al(f),data:t})}),be(()=>i(e));const l=()=>r.active.draggableId===e,c=()=>{var f;return((f=r.draggables[e])==null?void 0:f.transform)||jn()};return Object.defineProperties((f,d)=>{const h=d?d():{};oe(()=>{const p=a(),g=o(e);if(p)for(const m in g)p.addEventListener(m,g[m]);be(()=>{if(p)for(const m in g)p.removeEventListener(m,g[m])})}),s(f),h.skipTransform||oe(()=>{const p=c();if(ek(p,jn()))f.style.removeProperty("transform");else{const g=rv(c());f.style.setProperty("transform",g.transform??null)}})},{ref:{enumerable:!0,value:s},isActiveDraggable:{enumerable:!0,get:l},dragActivators:{enumerable:!0,get:()=>o(e,!0)},transform:{enumerable:!0,get:c}})},foe=(e,t={})=>{const[r,{addDroppable:n,removeDroppable:i}]=Ss(),[o,a]=Y(null);Vt(()=>{const u=o();u&&n({id:e,node:u,layout:Al(u),data:t})}),be(()=>i(e));const s=()=>r.active.droppableId===e,l=()=>{var u;return((u=r.droppables[e])==null?void 0:u.transform)||jn()};return Object.defineProperties((u,f)=>{const d=f?f():{};a(u),d.skipTransform||oe(()=>{const h=l();if(ek(h,jn()))u.style.removeProperty("transform");else{const p=rv(l());u.style.setProperty("transform",p.transform??null)}})},{ref:{enumerable:!0,value:a},isActiveDroppable:{enumerable:!0,get:s},transform:{enumerable:!0,get:l}})},doe=e=>{const[t,{onDragStart:r,onDragEnd:n,setOverlay:i,clearOverlay:o}]=Ss();let a;r(({draggable:l})=>{i({node:l.node,layout:l.layout}),queueMicrotask(()=>{if(a){const c=Al(a),u={x:(l.layout.width-c.width)/2,y:(l.layout.height-c.height)/2};c.x+=u.x,c.y+=u.y,i({node:a,layout:c})}})}),n(()=>queueMicrotask(o));const s=()=>{const l=t.active.overlay,c=t.active.draggable;return!l||!c?{}:{position:"fixed",transition:"transform 0s",top:`${l.layout.top}px`,left:`${l.layout.left}px`,"min-width":`${c.layout.width}px`,"min-height":`${c.layout.height}px`,...rv(l.transform),...e.style}};return M(Jx,{get mount(){return document.body},get children(){return M(Tt,{get when(){return t.active.draggable},get children(){var l=toe(),c=a;return typeof c=="function"?Ut(c,l):a=l,B(l,(()=>{var u=pt(()=>typeof e.children=="function");return()=>u()?e.children(t.active.draggable):e.children})()),ee(u=>{var f=e.class,d=s();return f!==u.e&&Lr(l,u.e=f),u.t=Lm(l,d,u.t),u},{e:void 0,t:void 0}),l}})}})},hoe=(e,t,r)=>{const n=e.slice();return n.splice(r,0,...n.splice(t,1)),n},X6=tn(),poe=e=>{const[t]=Ss(),[r,n]=iS({initialIds:[],sortedIds:[]}),i=s=>s>=0&&s<r.initialIds.length;oe(()=>{n("initialIds",[...e.ids]),n("sortedIds",[...e.ids])}),oe(()=>{t.active.draggableId&&t.active.droppableId?_e(()=>{const s=r.sortedIds.indexOf(t.active.draggableId),l=r.initialIds.indexOf(t.active.droppableId);if(!i(s)||!i(l))n("sortedIds",[...e.ids]);else if(s!==l){const c=hoe(r.sortedIds,s,l);n("sortedIds",c)}}):n("sortedIds",[...e.ids])});const a=[r,{}];return M(X6.Provider,{value:a,get children(){return e.children}})},goe=()=>rn(X6)||null,moe=(e,t)=>r=>{e(r),t(r)},voe=(e,t={})=>{const[r,{addTransformer:n,removeTransformer:i}]=Ss(),[o]=goe(),a=uoe(e,t),s=foe(e,t),l=moe(a.ref,s.ref),c=()=>o.initialIds.indexOf(e),u=()=>o.sortedIds.indexOf(e),f=m=>{var v;return((v=r.droppables[m])==null?void 0:v.layout)||null},d=()=>{const m=jn(),v=c(),b=u();if(b!==v){const y=f(e),w=f(o.initialIds[b]);y&&w&&(m.x=w.x-y.x,m.y=w.y-y.y)}return m},h={id:"sortableOffset",order:100,callback:m=>{const v=d();return{x:m.x+v.x,y:m.y+v.y}}};Vt(()=>n("droppables",e,h)),be(()=>i("droppables",e,h.id));const p=()=>{var m,v;return(e===r.active.draggableId&&!r.active.overlay?(m=r.draggables[e])==null?void 0:m.transform:(v=r.droppables[e])==null?void 0:v.transform)||jn()};return Object.defineProperties(m=>{a(m,()=>({skipTransform:!0})),s(m,()=>({skipTransform:!0})),oe(()=>{const v=p();if(ek(v,jn()))m.style.removeProperty("transform");else{const b=rv(p());m.style.setProperty("transform",b.transform??null)}})},{ref:{enumerable:!0,value:l},transform:{enumerable:!0,get:p},isActiveDraggable:{enumerable:!0,get:()=>a.isActiveDraggable},dragActivators:{enumerable:!0,get:()=>a.dragActivators},isActiveDroppable:{enumerable:!0,get:()=>s.isActiveDroppable}})},boe=W('<div class="flex flex-col gap-2">'),yoe=W('<div class="sortable hidden bg-red-700 text-white p-4 rounded shadow z-50">/tt'),$oe=W('<div class=p-5><div class="text-2xl font-bold mb-4">Task List'),woe=W('<div class="sortable group/taskitem flex justify-between">'),xoe=W('<div class=w-full><div class="flex items-start justify-between w-full"><div class="flex items-center space-x-2 w-full items-start"><span class="taskitem-text cursor-text text-foreground outline-0 overflow-hidden text-ellipsis text-pretty wrap-break-word leading-4 w-full">'),Soe=W('<label class="checkbox-check flex items-center cursor-pointer relative"><input type=checkbox class="peer size-4 cursor-pointer transition-all appearance-none rounded shadow hover:shadow-md border border-foreground checked:bg-primary/80 checked:border-primary"><span class="absolute text-white opacity-0 peer-checked:opacity-100 flex items-center justify-center"><svg xmlns=http://www.w3.org/2000/svg class=size-3/4 viewBox="0 0 20 20"fill=currentColor stroke=currentColor stroke-width=1><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>');const jb=(()=>{let e=0;return()=>`task-id-${e++}`})(),koe=aS((e,t,r)=>{nY(e,r,t)},300),Q6=(e,t,r)=>{koe(e,t,r)},Z6=e=>{const t=f=>f.map(d=>({...d,_id:jb()})),[r,n]=Y(t(e.tasks)),[i,o]=Y(null),a=()=>r().map(f=>f._id),s=({draggable:f})=>{o(f.id)},l=({draggable:f,droppable:d})=>{if(f&&d){const p=a().indexOf(f.id),g=a().indexOf(d.id);let m=0,v=1;for(;!(p+v>r().length-1||r()[p+v].nestLevel===0);)v++,m++;if(p!==-1&&g!==-1&&p!==g){const b=[...r()],y=b.splice(p,1+m);console.log(y);for(let w=0;w<y.length;w++)b.splice(g+w,0,y[w]);n(b)}}const h=r().map(({_id:p,...g})=>g);Us(e.id,h),o(null)},c=(f,d)=>{var v,b;const h=f.currentTarget;(v=h.textContent)==null||v.trim();const p=window.getSelection(),g=p&&p.rangeCount>0?p.getRangeAt(0):null,m=g?g.startOffset:0;if(["Tab","Backspace","Enter","ArrowUp","ArrowDown"].includes(f.key)){if(f.key==="Enter"){f.preventDefault(),n(w=>{const $=[...w],x=w[d],O={_id:jb(),text:"",check:!1,nestLevel:x.nestLevel};return $.splice(d+1,0,O),$});const y=r().map(({_id:w,...$})=>$);Us(e.id,y),queueMicrotask(()=>{const $=document.querySelectorAll(".taskitem-text")[d+1];$&&$.focus()});return}if(f.key==="Backspace"){const y=((b=h.textContent)==null?void 0:b.trim())??"";if(y===""&&r()[d].nestLevel>0){n(x=>x.map((O,T)=>T===d?{...O,text:y,nestLevel:O.nestLevel-1}:O));const $=r().map(({_id:x,...O})=>O);Us(e.id,$),queueMicrotask(()=>{const O=document.querySelectorAll(".taskitem-text")[d];if(O){O.focus();const T=window.getSelection(),D=document.createRange();D.selectNodeContents(O),D.collapse(!1),T==null||T.removeAllRanges(),T==null||T.addRange(D)}});return}if(y===""&&r()[d].nestLevel===0){n(x=>{const O=[...x];return O.splice(d,1),O});const $=r().map(({_id:x,...O})=>O);Us(e.id,$),queueMicrotask(()=>{const x=document.querySelectorAll(".taskitem-text"),O=x[d-1]||x[0];if(O){O.focus();const T=window.getSelection(),D=document.createRange();D.selectNodeContents(O),D.collapse(!1),T==null||T.removeAllRanges(),T==null||T.addRange(D)}});return}const w=p&&p.rangeCount>0?p.getRangeAt(0):null;if((w==null?void 0:w.startOffset)===0&&y!=="")return}if(f.key==="Tab"){f.preventDefault();const y=h.textContent||"";n($=>$.map((x,O)=>O===d?{...x,text:y,nestLevel:x.nestLevel+1}:x));const w=r().map(({_id:$,...x})=>x);Us(e.id,w),queueMicrotask(()=>{const x=document.querySelectorAll(".taskitem-text")[d];if(x){x.focus();const O=window.getSelection(),T=document.createRange();T.setStart(x.firstChild||x,m),T.collapse(!0),O==null||O.removeAllRanges(),O==null||O.addRange(T)}});return}if(f.key==="ArrowUp"||f.key==="ArrowDown"){f.preventDefault();const y=Array.from(document.querySelectorAll(".taskitem-text")),w=d;let $=w;f.key==="ArrowUp"&&w>0?$=w-1:f.key==="ArrowDown"&&w<y.length-1&&($=w+1);const x=y[$];if(x){x.focus();const O=window.getSelection(),T=document.createRange();T.selectNodeContents(x),T.collapse(!1),O==null||O.removeAllRanges(),O==null||O.addRange(T)}return}}},u=(f,d)=>{f.preventDefault();const p=f.clipboardData.getData("text").split(/\r?\n/).filter(Boolean);if(p.length===0)return;n(m=>{const v=[...m];v[d]={...v[d],text:p[0]};const b=p.slice(1).map(y=>({_id:jb(),text:y,check:!1,nestLevel:v[d].nestLevel}));return v.splice(d+1,0,...b),v});const g=r().map(({_id:m,...v})=>v);Us(e.id,g),queueMicrotask(()=>{const v=document.querySelectorAll(".taskitem-text")[d+p.length-1];if(v){v.focus();const b=window.getSelection(),y=document.createRange();y.selectNodeContents(v),y.collapse(!1),b==null||b.removeAllRanges(),b==null||b.addRange(y)}})};return(()=>{var f=$oe();return f.firstChild,B(f,M(soe,{onDragStart:s,onDragEnd:l,collisionDetector:ooe,get children(){return[M(coe,{}),M(poe,{get ids(){return a()},get children(){var d=boe();return B(d,M(yt,{get each(){return r()},children:(h,p)=>M(Ooe,{task:h,get id(){return h._id},get nodeId(){return e.id},get index(){return p()},handleKeyDown:c,handlePaste:u})})),d}}),M(doe,{get children(){var d=yoe(),h=d.firstChild;return B(d,i,h),d}})]}}),null),f})()},Ooe=e=>{const t=voe(e.id),[r]=Ss();return(()=>{var n=woe();return Ut(t,n,()=>!0),B(n,M(Toe,ye(()=>e.task,{get index(){return e.index},get nodeId(){return e.nodeId},get handleKeyDown(){return e.handleKeyDown},get handlePaste(){return e.handlePaste}})),null),B(n,M(Oq,{class:"tasklist_handle size-4 cursor-pointer mt-1 transition-opacity duration-200 ease-out opacity-0 group-hover/taskitem:opacity-100 "}),null),ee(i=>{var o=!!t.isActiveDraggable,a=!!r.active.draggable;return o!==i.e&&n.classList.toggle("opacity-25",i.e=o),a!==i.t&&n.classList.toggle("transition-transform",i.t=a),i},{e:void 0,t:void 0}),n})()},Toe=e=>(()=>{var t=xoe(),r=t.firstChild,n=r.firstChild,i=n.firstChild;return B(n,M(Coe,e),i),i.addEventListener("paste",o=>e.handlePaste(o,e.index)),i.$$input=o=>{Q6(e.nodeId,e.index,o.currentTarget.textContent||"")},i.$$keydown=o=>e.handleKeyDown(o,e.index),z(i,"contenteditable",!0),B(i,()=>e.text),ee(o=>Z(t,"margin-left",`${e.nestLevel*18}px`)),t})(),Coe=e=>(()=>{var t=Soe(),r=t.firstChild;return r.$$input=()=>Q6(e.nodeId,e.index,!e.check),ee(()=>r.checked=e.check),t})();Ct(["keydown","input"]);function Bb(e,t,r=!1,n=!1,i){var o,a,s;if(console.log(e,t,r,n,i),r){let l=lY(e);if(!l){console.warn("Parent of the Node to move not found:",e);return}let c=F.nodes[l].find(u=>u.id===e);if(!c){console.warn("the Node to move not found:",e);return}Y$(e,l),n?(console.log(e),console.log("nested moved to canvas: ",e,t,r,n,i),Z0({...c,x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0,index:((o=F.nodes[t])==null?void 0:o.length)??0})):Z0({...c,x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0,index:((a=F.nodes[t])==null?void 0:a.length)??0},t)}else{let l=Qr(t),c=Qr(e);if(!c){console.warn("Node to move not found:",e);return}if(!l){console.warn("parent dist node to move to not found:",t);return}if(c.type===l.type){console.warn("Cannot nest nodes of the same type, nodemoved:",c.type,"parent:",l.type);return}console.log("moved to inside a column from the canvas"),Y$(e),console.log("starting to add the node"),Z0({...c,x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0,index:((s=F.nodes[l.id])==null?void 0:s.length)??0},l.id)}}function NM(e,t,r){const n=r.getBoundingClientRect();return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}function nv(e,t=!1,r){var h,p,g;let n=0,i=0,o=0,a=0,s=document.querySelectorAll(".column, .board");const l=1,c=(((h=r==null?void 0:r.classes)==null?void 0:h.length)||0)>0||(((p=r==null?void 0:r.ids)==null?void 0:p.length)||0)>0||(((g=r==null?void 0:r.tags)==null?void 0:g.length)||0)>0?[".child_node",...((r==null?void 0:r.classes)||[]).map(m=>`.${m}`),...((r==null?void 0:r.ids)||[]).map(m=>`#${m}`),...(r==null?void 0:r.tags)||[]].join(", "):".child_node",u=m=>{var b;if(F.showColorMenu&&le("showColorMenu",!1),e.type===ie.Image&&m.preventDefault(),console.log("dragging",e.id,t),m.button!==0||!t&&m.target.closest(c))return;s=document.querySelectorAll(".column, .board"),console.info("started dragging:",e.id),ML(e.id),le("dragging",e.id);const v=((b=F.viewport)==null?void 0:b.scale)??1;n=(m.clientX-F.viewport.x)/v-e.x,i=(m.clientY-F.viewport.y)/v-e.y,o=m.clientX,a=m.clientY,window.addEventListener("pointermove",f),window.addEventListener("pointerup",d)},f=m=>{var $;console.info("moving:",e.id);const v=(($=F.viewport)==null?void 0:$.scale)??1;let b=(m.clientX-F.viewport.x)/v-n,y=(m.clientY-F.viewport.y)/v-i;t?aY(e.id,b,y):Q0(e.id,b,y);const w=sY(e.id);//! could cause some performance issues if there is alot of column nodes on the canvas
s.forEach(x=>{NM(m.clientX,m.clientY,x)&&!w?x.classList.add("child_container_hover"):x.classList.remove("child_container_hover")})},d=m=>{le("dragging",null),window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",d);const v=Math.abs(((m==null?void 0:m.clientX)??0)-o),b=Math.abs(((m==null?void 0:m.clientY)??0)-a);if(!(v>l||b>l)&&m){if(console.log("================================================="),console.log("did not move so single click"),console.log("================================================="),m.target.closest(c))return;if(F.selectedNodes.size===0){const D=new Set([e.id]);le("selectedNodes",D)}else if(m.ctrlKey)eY(m,e.id);else{const D=new Set([e.id]);le("selectedNodes",D)}return}console.log("dropping a node",e.id,t);const w=document.querySelectorAll(`.column:not(#${e.id}), .board:not(#${e.id})`);let $=!1;if(w.forEach(D=>{//! fix this e. error
const L=NM(m.clientX,m.clientY,D);D.classList.remove("child_container_hover"),t?L&&($=!0,console.error("this is the end herer"),Bb(e.id,D.id,!0)):L&&(Bb(e.id,D.id),$=!0)}),!$)if(t){const D=document.querySelectorAll(`#${e.id}`);console.info(D[0].getBoundingClientRect()),Bb(e.id,"None",!0,!0,{x:Math.round(D[0].getBoundingClientRect().x/10)*10,y:Math.round(D[0].getBoundingClientRect().y/10)*10})}else if(F.snapGrid){const[D,L]=F.snapGrid,I=Qr(e.id),E=Math.round(((I==null?void 0:I.x)??0)/D)*D,_=Math.round(((I==null?void 0:I.y)??0)/L)*L;console.info(E,_),requestAnimationFrame(()=>{Q0(e.id,E,_),wt()})}else{//! untested
requestAnimationFrame(()=>{const D=Qr(e.id);Q0(e.id,(D==null?void 0:D.x)??0,(D==null?void 0:D.y)??0),wt()})}const x=document.getElementById(e.id),O=x==null?void 0:x.getBoundingClientRect(),T=F.viewport.scale||1;if(O){const D=O.width/T,L=O.height/T,I=e.x+D,E=e.y+L;if(I>F.viewport.width){const _=Math.round((I+50)/10)*10;le("viewport",{width:Math.max(_,F.viewport.width)})}if(E>F.viewport.height){const _=Math.round((E+50)/10)*10;le("viewport",{height:Math.max(_,F.viewport.height)})}}wt()};return be(()=>{console.warn("this is cleanup",e.id),window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",d)}),{startDrag:u}}var Eoe=W("<div id=invalid_url>The url provided is invalid"),Moe=W('<div class=space-y-2><div class="text_container p-4 space-y-2 overflow-hidden text-ellipsis"><div class="url_container flex flex-row items-center space-x-2"><img class="url_thumbnail size-4"alt=favicon><div><a class="url text-xs font-bold text-foreground"></a></div></div><div><a class="underline text-primary font-extrabold"></a></div><div class="url_description text-xs">'),Aoe=W("<div>youtube vid"),Ioe=W('<div><img class="url_thumbnail pointer-events-none"alt>');const e8=e=>{nv(e,e.is_child);const[t,r]=Y({title:"placeholder",description:"placeholder",image:"placeholder.png",favicon:"placeholder.png"});function n(o){return/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/.+$/.test(o)}Eoe();const i=async o=>{try{return await Ft("scrape_url",{url:o})}catch(a){return console.error("Error scraping metadata:",a),null}};return Vt(()=>{queueMicrotask(()=>{i(e.url).then(o=>{o&&r(o)})})}),(()=>{var o=Moe(),a=o.firstChild,s=a.firstChild,l=s.firstChild,c=l.nextSibling,u=c.firstChild,f=s.nextSibling,d=f.firstChild,h=f.nextSibling;return B(o,(()=>{var p=pt(()=>!!n(e.url));return()=>p()?Aoe():(()=>{var g=Ioe(),m=g.firstChild;return ee(()=>z(m,"src",t().image)),g})()})(),a),B(u,()=>e.url),B(d,()=>t().title),B(h,()=>t().description),ee(p=>{var g=t().favicon,m=e.url,v=e.url;return g!==p.e&&z(l,"src",p.e=g),m!==p.t&&z(u,"href",p.t=m),v!==p.a&&z(d,"href",p.a=v),p},{e:void 0,t:void 0,a:void 0}),o})()};var Poe=W('<div class="board flex flex-col justify-center items-center"><div class="board_icon flex flex-col justify-center items-center"></div><div class="text_container flex flex-col justify-center items-center"><div></div><div>content');const t8=e=>{const{startDrag:t}=nv(e,e.is_child),r=()=>{console.error("double clicked the board",e.id);const n=Qr(e.id);le("activeBoards",i=>[...i,{name:n.name,id:n.id}]),le("selectedNodes",new Set([]))};return(()=>{var n=Poe(),i=n.firstChild,o=i.nextSibling,a=o.firstChild,s=a.nextSibling;return sa(n,"pointerdown",t,!0),n.$$dblclick=r,B(i,M(CL,{class:"size-full p-2"})),B(a,()=>e.name),ee(l=>{var c={child_node:e.is_child,node:!e.is_child,"flex flex-row justify-start p-2 pl-2.5 border":e.is_child,selected_node:F.selectedNodes.has(e.id)},u=e.id,f=e.is_child?`#${e.color?e.color:"var(--color-primary)"}20`:"#00000000",d=e.is_child?"100%":"60px",h=e.zIndex,p=e.is_child?"":"15px",g=`translate3d(${e.x}px, ${e.y}px, 0)`,m=e.color?e.color:"var(--color-primary)",v=e.is_child?"50px":"60px",b=e.is_child?"50px":"60px",y=e.is_child?"10px":"",w=e.is_child?"10px":"15px",$={"board_text mt-2.5 mb-1.5 text-nowrap":!e.is_child,"board_text_child self-start mb-1.5":e.is_child},x={"board_content text-grey":!e.is_child,"board_content_child text-grey self-start":e.is_child};return l.e=Ha(n,c,l.e),u!==l.t&&z(n,"id",l.t=u),f!==l.a&&Z(n,"background",l.a=f),d!==l.o&&Z(n,"width",l.o=d),h!==l.i&&Z(n,"z-index",l.i=h),p!==l.n&&Z(n,"border-radius",l.n=p),g!==l.s&&Z(n,"transform",l.s=g),m!==l.h&&Z(i,"background",l.h=m),v!==l.r&&Z(i,"width",l.r=v),b!==l.d&&Z(i,"height",l.d=b),y!==l.l&&Z(i,"margin-right",l.l=y),w!==l.u&&Z(i,"border-radius",l.u=w),l.c=Ha(a,$,l.c),l.w=Ha(s,x,l.w),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),n})()};Ct(["dblclick","pointerdown"]);function r8(e){var a;const[t,r]=Y((a=e.defaultValue)==null?void 0:a.call(e)),n=me(()=>{var s;return((s=e.value)==null?void 0:s.call(e))!==void 0}),i=me(()=>{var s;return n()?(s=e.value)==null?void 0:s.call(e):t()});return[i,s=>{_e(()=>{var c;const l=wG(s,i());return Object.is(l,i())||(n()||r(l),(c=e.onChange)==null||c.call(e,l)),l})}]}function n8(e){const[t,r]=r8(e);return[()=>t()??!1,r]}function _oe(e={}){const[t,r]=n8({value:()=>j(e.isSelected),defaultValue:()=>!!j(e.defaultIsSelected),onChange:o=>{var a;return(a=e.onSelectedChange)==null?void 0:a.call(e,o)}});return{isSelected:t,setIsSelected:o=>{!j(e.isReadOnly)&&!j(e.isDisabled)&&r(o)},toggle:()=>{!j(e.isReadOnly)&&!j(e.isDisabled)&&r(!t())}}}function Vi(e){return t=>(e(t),()=>e(void 0))}var i8=["id","name","validationState","required","disabled","readOnly"];function o8(e){const t=`form-control-${ac()}`,r=rt({id:t},e),[n,i]=Y(),[o,a]=Y(),[s,l]=Y(),[c,u]=Y(),f=(g,m,v)=>{const b=v!=null||n()!=null;return[v,n(),b&&m!=null?g:void 0].filter(Boolean).join(" ")||void 0},d=g=>[s(),c(),g].filter(Boolean).join(" ")||void 0,h=me(()=>({"data-valid":j(r.validationState)==="valid"?"":void 0,"data-invalid":j(r.validationState)==="invalid"?"":void 0,"data-required":j(r.required)?"":void 0,"data-disabled":j(r.disabled)?"":void 0,"data-readonly":j(r.readOnly)?"":void 0}));return{formControlContext:{name:()=>j(r.name)??j(r.id),dataset:h,validationState:()=>j(r.validationState),isRequired:()=>j(r.required),isDisabled:()=>j(r.disabled),isReadOnly:()=>j(r.readOnly),labelId:n,fieldId:o,descriptionId:s,errorMessageId:c,getAriaLabelledBy:f,getAriaDescribedBy:d,generateId:Df(()=>j(r.id)),registerLabel:Vi(i),registerField:Vi(a),registerDescription:Vi(l),registerErrorMessage:Vi(u)}}}var tk=tn();function ki(){const e=rn(tk);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function rk(e){const t=ki(),r=rt({id:t.generateId("description")},e);return oe(()=>be(t.registerDescription(r.id))),M(St,ye({as:"div"},()=>t.dataset(),r))}var a8=["id","aria-label","aria-labelledby","aria-describedby"];function s8(e){const t=ki(),r=rt({id:t.generateId("field")},e);return oe(()=>be(t.registerField(j(r.id)))),{fieldProps:{id:()=>j(r.id),ariaLabel:()=>j(r["aria-label"]),ariaLabelledBy:()=>t.getAriaLabelledBy(j(r.id),j(r["aria-label"]),j(r["aria-labelledby"])),ariaDescribedBy:()=>t.getAriaDescribedBy(j(r["aria-describedby"]))}}}function l8(e){let t;const r=ki(),n=rt({id:r.generateId("label")},e),[i,o]=Ae(n,["ref"]),a=wL(()=>t,()=>"label");return oe(()=>be(r.registerLabel(o.id))),M(St,ye({as:"label",ref(s){var l=Nr(c=>t=c,i.ref);typeof l=="function"&&l(s)},get for(){return pt(()=>a()==="label")()?r.fieldId():void 0}},()=>r.dataset(),o))}function c8(e,t){oe(hi(e,r=>{if(r==null)return;const n=Doe(r);n!=null&&(n.addEventListener("reset",t,{passive:!0}),be(()=>{n.removeEventListener("reset",t)}))}))}function Doe(e){return Loe(e)?e.form:e.closest("form")}function Loe(e){return e.matches("textarea, input, select, button")}function nk(e){const t=ki(),r=rt({id:t.generateId("error-message")},e),[n,i]=Ae(r,["forceMount"]),o=()=>t.validationState()==="invalid";return oe(()=>{o()&&be(t.registerErrorMessage(i.id))}),M(Tt,{get when(){return n.forceMount||o()},get children(){return M(St,ye({as:"div"},()=>t.dataset(),i))}})}var rr=e=>typeof e=="function"?e():e,Noe=e=>{const t=me(()=>{const a=rr(e.element);if(a)return getComputedStyle(a)}),r=()=>{var a;return((a=t())==null?void 0:a.animationName)??"none"},[n,i]=Y(rr(e.show)?"present":"hidden");let o="none";return oe(a=>{const s=rr(e.show);return _e(()=>{var u;if(a===s)return s;const l=o,c=r();s?i("present"):c==="none"||((u=t())==null?void 0:u.display)==="none"?i("hidden"):i(a===!0&&l!==c?"hiding":"hidden")}),s}),oe(()=>{const a=rr(e.element);if(!a)return;const s=c=>{c.target===a&&(o=r())},l=c=>{const f=r().includes(c.animationName);c.target===a&&f&&n()==="hiding"&&i("hidden")};a.addEventListener("animationstart",s),a.addEventListener("animationcancel",l),a.addEventListener("animationend",l),be(()=>{a.removeEventListener("animationstart",s),a.removeEventListener("animationcancel",l),a.removeEventListener("animationend",l)})}),{present:()=>n()==="present"||n()==="hiding",state:n,setState:i}},Roe=Noe,u8=Roe,Foe={};Fm(Foe,{Checkbox:()=>qo,Control:()=>d8,Description:()=>h8,ErrorMessage:()=>p8,Indicator:()=>g8,Input:()=>m8,Label:()=>v8,Root:()=>b8,useCheckboxContext:()=>ks});var f8=tn();function ks(){const e=rn(f8);if(e===void 0)throw new Error("[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component");return e}function d8(e){const t=ki(),r=ks(),n=rt({id:r.generateId("control")},e),[i,o]=Ae(n,["onClick","onKeyDown"]);return M(St,ye({as:"div",onClick:l=>{var c;Lt(l,i.onClick),r.toggle(),(c=r.inputRef())==null||c.focus()},onKeyDown:l=>{var c;Lt(l,i.onKeyDown),l.key===Qx.Space&&(r.toggle(),(c=r.inputRef())==null||c.focus())}},()=>t.dataset(),()=>r.dataset(),o))}function h8(e){const t=ks();return M(rk,ye(()=>t.dataset(),e))}function p8(e){const t=ks();return M(nk,ye(()=>t.dataset(),e))}function g8(e){const t=ki(),r=ks(),[n,i]=Y(),o=rt({id:r.generateId("indicator")},e),[a,s]=Ae(o,["ref","forceMount"]),{present:l}=u8({show:()=>a.forceMount||r.indeterminate()||r.checked(),element:()=>n()??null});return M(Tt,{get when(){return l()},get children(){return M(St,ye({as:"div",ref(c){var u=Nr(i,a.ref);typeof u=="function"&&u(c)}},()=>t.dataset(),()=>r.dataset(),s))}})}function m8(e){let t;const r=ki(),n=ks(),i=rt({id:n.generateId("input")},e),[o,a,s]=Ae(i,["ref","style","onChange","onFocus","onBlur"],a8),{fieldProps:l}=s8(a),[c,u]=Y(!1),f=p=>{if(Lt(p,o.onChange),p.stopPropagation(),!c()){const g=p.target;n.setIsChecked(g.checked),g.checked=n.checked()}u(!1)},d=p=>{Lt(p,o.onFocus),n.setIsFocused(!0)},h=p=>{Lt(p,o.onBlur),n.setIsFocused(!1)};return oe(hi([()=>n.checked(),()=>n.value()],()=>{u(!0),t==null||t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),t==null||t.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},{defer:!0})),oe(hi([()=>t,()=>n.indeterminate(),()=>n.checked()],([p,g])=>{p&&(p.indeterminate=g)})),M(St,ye({as:"input",ref(p){var g=Nr(m=>{n.setInputRef(m),t=m},o.ref);typeof g=="function"&&g(p)},type:"checkbox",get id(){return l.id()},get name(){return r.name()},get value(){return n.value()},get checked(){return n.checked()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readonly(){return r.isReadOnly()},get style(){return Nm(rS,o.style)},get"aria-label"(){return l.ariaLabel()},get"aria-labelledby"(){return l.ariaLabelledBy()},get"aria-describedby"(){return l.ariaDescribedBy()},get"aria-invalid"(){return r.validationState()==="invalid"||void 0},get"aria-required"(){return r.isRequired()},get"aria-disabled"(){return r.isDisabled()},get"aria-readonly"(){return r.isReadOnly()},onChange:f,onFocus:d,onBlur:h},()=>r.dataset(),()=>n.dataset(),s))}function v8(e){const t=ks();return M(l8,ye(()=>t.dataset(),e))}function b8(e){let t;const r=`checkbox-${ac()}`,n=rt({value:"on",id:r},e),[i,o,a]=Ae(n,["ref","children","value","checked","defaultChecked","indeterminate","onChange","onPointerDown"],i8),[s,l]=Y(),[c,u]=Y(!1),{formControlContext:f}=o8(o),d=_oe({isSelected:()=>i.checked,defaultIsSelected:()=>i.defaultChecked,onSelectedChange:m=>{var v;return(v=i.onChange)==null?void 0:v.call(i,m)},isDisabled:()=>f.isDisabled(),isReadOnly:()=>f.isReadOnly()});c8(()=>t,()=>d.setIsSelected(i.defaultChecked??!1));const h=m=>{Lt(m,i.onPointerDown),c()&&m.preventDefault()},p=me(()=>({"data-checked":d.isSelected()?"":void 0,"data-indeterminate":i.indeterminate?"":void 0})),g={value:()=>i.value,dataset:p,checked:()=>d.isSelected(),indeterminate:()=>i.indeterminate??!1,inputRef:s,generateId:Df(()=>j(o.id)),toggle:()=>d.toggle(),setIsChecked:m=>d.setIsSelected(m),setIsFocused:u,setInputRef:l};return M(tk.Provider,{value:f,get children(){return M(f8.Provider,{value:g,get children(){return M(St,ye({as:"div",ref(m){var v=Nr(b=>t=b,i.ref);typeof v=="function"&&v(m)},role:"group",get id(){return j(o.id)},onPointerDown:h},()=>f.dataset(),p,a,{get children(){return M(joe,{state:g,get children(){return i.children}})}}))}})}})}function joe(e){const t=_m(()=>{const r=e.children;return Rm(r)?r(e.state):r});return pt(t)}var qo=Object.assign(b8,{Control:d8,Description:h8,ErrorMessage:p8,Indicator:g8,Input:m8,Label:v8}),Boe=W('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="h-4 w-4"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m5 12l5 5L20 7"></path><title>Checkbox');qo.Label;const zoe=qo;qo.ErrorMessage;qo.Description;const Hoe=e=>{const[t,r]=Ae(e,["class","children"]);return[M(qo.Input,{class:"[&:focus-visible+div]:outline-none [&:focus-visible+div]:ring-[1.5px] [&:focus-visible+div]:ring-ring [&:focus-visible+div]:ring-offset-2 [&:focus-visible+div]:ring-offset-background"}),M(qo.Control,ye({get class(){return _f("cursor-pointer h-4 w-4 shrink-0 rounded-sm border border-primary shadow transition-shadow focus-visible:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring data-[disabled]:cursor-not-allowed data-[checked]:bg-primary data-[checked]:text-primary-foreground data-[disabled]:opacity-50",t.class)}},r,{get children(){return M(qo.Indicator,{class:"flex items-center justify-center text-current",get children(){return Boe()}})}}))]};function y8(e){let t=e.startIndex??0;const r=e.startLevel??0,n=[],i=l=>{if(l==null)return"";const c=e.getKey??"key",u=sl(c)?l[c]:c(l);return u!=null?String(u):""},o=l=>{if(l==null)return"";const c=e.getTextValue??"textValue",u=sl(c)?l[c]:c(l);return u!=null?String(u):""},a=l=>{if(l==null)return!1;const c=e.getDisabled??"disabled";return(sl(c)?l[c]:c(l))??!1},s=l=>{var c;if(l!=null)return sl(e.getSectionChildren)?l[e.getSectionChildren]:(c=e.getSectionChildren)==null?void 0:c.call(e,l)};for(const l of e.dataSource){if(sl(l)||EG(l)){n.push({type:"item",rawValue:l,key:String(l),textValue:String(l),disabled:a(l),level:r,index:t}),t++;continue}if(s(l)!=null){n.push({type:"section",rawValue:l,key:"",textValue:"",disabled:!1,level:r,index:t}),t++;const c=s(l)??[];if(c.length>0){const u=y8({dataSource:c,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:t,startLevel:r+1});n.push(...u),t+=u.length}}else n.push({type:"item",rawValue:l,key:i(l),textValue:o(l),disabled:a(l),level:r,index:t}),t++}return n}function Uoe(e,t=[]){return me(()=>{const r=y8({dataSource:j(e.dataSource),getKey:j(e.getKey),getTextValue:j(e.getTextValue),getDisabled:j(e.getDisabled),getSectionChildren:j(e.getSectionChildren)});for(let n=0;n<t.length;n++)t[n]();return e.factory(r)})}var Voe=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Woe=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Koe(e){if(Intl.Locale){const r=new Intl.Locale(e).maximize().script??"";return Voe.has(r)}const t=e.split("-")[0];return Woe.has(t)}function Goe(e){return Koe(e)?"rtl":"ltr"}function $8(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:Goe(e)}}var Uw=$8(),gu=new Set;function RM(){Uw=$8();for(const e of gu)e(Uw)}function qoe(){const[e,t]=Y(Uw),r=me(()=>e());return Vt(()=>{gu.size===0&&window.addEventListener("languagechange",RM),gu.add(t),be(()=>{gu.delete(t),gu.size===0&&window.removeEventListener("languagechange",RM)})}),{locale:()=>r().locale,direction:()=>r().direction}}var Yoe=tn();function ik(){const e=qoe();return rn(Yoe)||e}var zb=new Map;function w8(e){const{locale:t}=ik(),r=me(()=>t()+(e?Object.entries(e).sort((n,i)=>n[0]<i[0]?-1:1).join():""));return me(()=>{const n=r();let i;return zb.has(n)&&(i=zb.get(n)),i||(i=new Intl.Collator(t(),e),zb.set(n,i)),i})}var ai=class x8 extends Set{constructor(r,n,i){super(r);R(this,"anchorKey");R(this,"currentKey");r instanceof x8?(this.anchorKey=n||r.anchorKey,this.currentKey=i||r.currentKey):(this.anchorKey=n,this.currentKey=i)}};function Joe(e){const[t,r]=r8(e);return[()=>t()??new ai,r]}function S8(e){return _G()?e.altKey:e.ctrlKey}function dl(e){return Lf()?e.metaKey:e.ctrlKey}function FM(e){return new ai(e)}function k8(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Xoe(e){const t=rt({selectionMode:"none",selectionBehavior:"toggle"},e),[r,n]=Y(!1),[i,o]=Y(),a=me(()=>{const g=j(t.selectedKeys);return g!=null?FM(g):g}),s=me(()=>{const g=j(t.defaultSelectedKeys);return g!=null?FM(g):new ai}),[l,c]=Joe({value:a,defaultValue:s,onChange:g=>{var m;return(m=t.onSelectionChange)==null?void 0:m.call(t,g)}}),[u,f]=Y(j(t.selectionBehavior)),d=()=>j(t.selectionMode),h=()=>j(t.disallowEmptySelection)??!1,p=g=>{(j(t.allowDuplicateSelectionEvents)||!k8(g,l()))&&c(g)};return oe(()=>{const g=l();j(t.selectionBehavior)==="replace"&&u()==="toggle"&&typeof g=="object"&&g.size===0&&f("replace")}),oe(()=>{f(j(t.selectionBehavior)??"toggle")}),{selectionMode:d,disallowEmptySelection:h,selectionBehavior:u,setSelectionBehavior:f,isFocused:r,setFocused:n,focusedKey:i,setFocusedKey:o,selectedKeys:l,setSelectedKeys:p}}function O8(e){const[t,r]=Y(""),[n,i]=Y(-1);return{typeSelectHandlers:{onKeyDown:a=>{var d;if(j(e.isDisabled))return;const s=j(e.keyboardDelegate),l=j(e.selectionManager);if(!s.getKeyForSearch)return;const c=Qoe(a.key);if(!c||a.ctrlKey||a.metaKey)return;c===" "&&t().trim().length>0&&(a.preventDefault(),a.stopPropagation());let u=r(h=>h+c),f=s.getKeyForSearch(u,l.focusedKey())??s.getKeyForSearch(u);f==null&&Zoe(u)&&(u=u[0],f=s.getKeyForSearch(u,l.focusedKey())??s.getKeyForSearch(u)),f!=null&&(l.setFocusedKey(f),(d=e.onTypeSelect)==null||d.call(e,f)),clearTimeout(n()),i(window.setTimeout(()=>r(""),500))}}}}function Qoe(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function Zoe(e){return e.split("").every(t=>t===e[0])}function eae(e,t,r){const i=ye({selectOnFocus:()=>j(e.selectionManager).selectionBehavior()==="replace"},e),o=()=>(r==null?void 0:r())??t(),{direction:a}=ik();let s={top:0,left:0};kG(()=>j(i.isVirtualized)?void 0:o(),"scroll",()=>{const m=o();m&&(s={top:m.scrollTop,left:m.scrollLeft})});const{typeSelectHandlers:l}=O8({isDisabled:()=>j(i.disallowTypeAhead),keyboardDelegate:()=>j(i.keyboardDelegate),selectionManager:()=>j(i.selectionManager)}),c=()=>j(i.orientation)??"vertical",u=m=>{var T,D,L,I,E,_,k,C;Lt(m,l.onKeyDown),m.altKey&&m.key==="Tab"&&m.preventDefault();const v=t();if(!(v!=null&&v.contains(m.target)))return;const b=j(i.selectionManager),y=j(i.selectOnFocus),w=S=>{S!=null&&(b.setFocusedKey(S),m.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(S):y&&!S8(m)&&b.replaceSelection(S))},$=j(i.keyboardDelegate),x=j(i.shouldFocusWrap),O=b.focusedKey();switch(m.key){case(c()==="vertical"?"ArrowDown":"ArrowRight"):{if($.getKeyBelow){m.preventDefault();let S;O!=null?S=$.getKeyBelow(O):S=(T=$.getFirstKey)==null?void 0:T.call($),S==null&&x&&(S=(D=$.getFirstKey)==null?void 0:D.call($,O)),w(S)}break}case(c()==="vertical"?"ArrowUp":"ArrowLeft"):{if($.getKeyAbove){m.preventDefault();let S;O!=null?S=$.getKeyAbove(O):S=(L=$.getLastKey)==null?void 0:L.call($),S==null&&x&&(S=(I=$.getLastKey)==null?void 0:I.call($,O)),w(S)}break}case(c()==="vertical"?"ArrowLeft":"ArrowUp"):{if($.getKeyLeftOf){m.preventDefault();const S=a()==="rtl";let P;O!=null?P=$.getKeyLeftOf(O):P=S?(E=$.getFirstKey)==null?void 0:E.call($):(_=$.getLastKey)==null?void 0:_.call($),w(P)}break}case(c()==="vertical"?"ArrowRight":"ArrowDown"):{if($.getKeyRightOf){m.preventDefault();const S=a()==="rtl";let P;O!=null?P=$.getKeyRightOf(O):P=S?(k=$.getLastKey)==null?void 0:k.call($):(C=$.getFirstKey)==null?void 0:C.call($),w(P)}break}case"Home":if($.getFirstKey){m.preventDefault();const S=$.getFirstKey(O,dl(m));S!=null&&(b.setFocusedKey(S),dl(m)&&m.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(S):y&&b.replaceSelection(S))}break;case"End":if($.getLastKey){m.preventDefault();const S=$.getLastKey(O,dl(m));S!=null&&(b.setFocusedKey(S),dl(m)&&m.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(S):y&&b.replaceSelection(S))}break;case"PageDown":if($.getKeyPageBelow&&O!=null){m.preventDefault();const S=$.getKeyPageBelow(O);w(S)}break;case"PageUp":if($.getKeyPageAbove&&O!=null){m.preventDefault();const S=$.getKeyPageAbove(O);w(S)}break;case"a":dl(m)&&b.selectionMode()==="multiple"&&j(i.disallowSelectAll)!==!0&&(m.preventDefault(),b.selectAll());break;case"Escape":m.defaultPrevented||(m.preventDefault(),j(i.disallowEmptySelection)||b.clearSelection());break;case"Tab":if(!j(i.allowsTabNavigation)){if(m.shiftKey)v.focus();else{const S=WG(v,{tabbable:!0});let P,A;do A=S.lastChild(),A&&(P=A);while(A);P&&!P.contains(document.activeElement)&&Mr(P)}break}}},f=m=>{var w,$;const v=j(i.selectionManager),b=j(i.keyboardDelegate),y=j(i.selectOnFocus);if(v.isFocused()){m.currentTarget.contains(m.target)||v.setFocused(!1);return}if(m.currentTarget.contains(m.target)){if(v.setFocused(!0),v.focusedKey()==null){const x=T=>{T!=null&&(v.setFocusedKey(T),y&&v.replaceSelection(T))},O=m.relatedTarget;O&&m.currentTarget.compareDocumentPosition(O)&Node.DOCUMENT_POSITION_FOLLOWING?x(v.lastSelectedKey()??((w=b.getLastKey)==null?void 0:w.call(b))):x(v.firstSelectedKey()??(($=b.getFirstKey)==null?void 0:$.call(b)))}else if(!j(i.isVirtualized)){const x=o();if(x){x.scrollTop=s.top,x.scrollLeft=s.left;const O=x.querySelector(`[data-key="${v.focusedKey()}"]`);O&&(Mr(O),EC(x,O))}}}},d=m=>{const v=j(i.selectionManager);m.currentTarget.contains(m.relatedTarget)||v.setFocused(!1)},h=m=>{o()===m.target&&m.preventDefault()},p=()=>{var x,O;const m=j(i.autoFocus);if(!m)return;const v=j(i.selectionManager),b=j(i.keyboardDelegate);let y;m==="first"&&(y=(x=b.getFirstKey)==null?void 0:x.call(b)),m==="last"&&(y=(O=b.getLastKey)==null?void 0:O.call(b));const w=v.selectedKeys();w.size&&(y=w.values().next().value),v.setFocused(!0),v.setFocusedKey(y);const $=t();$&&y==null&&!j(i.shouldUseVirtualFocus)&&Mr($)};return Vt(()=>{i.deferAutoFocus?setTimeout(p,0):p()}),oe(hi([o,()=>j(i.isVirtualized),()=>j(i.selectionManager).focusedKey()],m=>{var w;const[v,b,y]=m;if(b)y&&((w=i.scrollToKey)==null||w.call(i,y));else if(y&&v){const $=v.querySelector(`[data-key="${y}"]`);$&&EC(v,$)}})),{tabIndex:me(()=>{if(!j(i.shouldUseVirtualFocus))return j(i.selectionManager).focusedKey()==null?0:-1}),onKeyDown:u,onMouseDown:h,onFocusIn:f,onFocusOut:d}}function tae(e,t){const r=()=>j(e.selectionManager),n=()=>j(e.key),i=()=>j(e.shouldUseVirtualFocus),o=b=>{r().selectionMode()!=="none"&&(r().selectionMode()==="single"?r().isSelected(n())&&!r().disallowEmptySelection()?r().toggleSelection(n()):r().replaceSelection(n()):b!=null&&b.shiftKey?r().extendSelection(n()):r().selectionBehavior()==="toggle"||dl(b)||"pointerType"in b&&b.pointerType==="touch"?r().toggleSelection(n()):r().replaceSelection(n()))},a=()=>r().isSelected(n()),s=()=>j(e.disabled)||r().isDisabled(n()),l=()=>!s()&&r().canSelectItem(n());let c=null;const u=b=>{l()&&(c=b.pointerType,b.pointerType==="mouse"&&b.button===0&&!j(e.shouldSelectOnPressUp)&&o(b))},f=b=>{l()&&b.pointerType==="mouse"&&b.button===0&&j(e.shouldSelectOnPressUp)&&j(e.allowsDifferentPressOrigin)&&o(b)},d=b=>{l()&&(j(e.shouldSelectOnPressUp)&&!j(e.allowsDifferentPressOrigin)||c!=="mouse")&&o(b)},h=b=>{!l()||!["Enter"," "].includes(b.key)||(S8(b)?r().toggleSelection(n()):o(b))},p=b=>{s()&&b.preventDefault()},g=b=>{const y=t();i()||s()||!y||b.target===y&&r().setFocusedKey(n())},m=me(()=>{if(!(i()||s()))return n()===r().focusedKey()?0:-1}),v=me(()=>j(e.virtualized)?void 0:n());return oe(hi([t,n,i,()=>r().focusedKey(),()=>r().isFocused()],([b,y,w,$,x])=>{b&&y===$&&x&&!w&&document.activeElement!==b&&(e.focus?e.focus():Mr(b))})),{isSelected:a,isDisabled:s,allowsSelection:l,tabIndex:m,dataKey:v,onPointerDown:u,onPointerUp:f,onClick:d,onKeyDown:h,onMouseDown:p,onFocus:g}}var rae=class{constructor(e,t){R(this,"collection");R(this,"state");this.collection=e,this.state=t}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}isFocused(){return this.state.isFocused()}setFocused(e){this.state.setFocused(e)}focusedKey(){return this.state.focusedKey()}setFocusedKey(e){(e==null||this.collection().getItem(e))&&this.state.setFocusedKey(e)}selectedKeys(){return this.state.selectedKeys()}isSelected(e){if(this.state.selectionMode()==="none")return!1;const t=this.getKey(e);return t==null?!1:this.state.selectedKeys().has(t)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const e=this.state.selectedKeys();return this.getAllSelectableKeys().every(t=>e.has(t))}firstSelectedKey(){let e;for(const t of this.state.selectedKeys()){const r=this.collection().getItem(t),n=(r==null?void 0:r.index)!=null&&(e==null?void 0:e.index)!=null&&r.index<e.index;(!e||n)&&(e=r)}return e==null?void 0:e.key}lastSelectedKey(){let e;for(const t of this.state.selectedKeys()){const r=this.collection().getItem(t),n=(r==null?void 0:r.index)!=null&&(e==null?void 0:e.index)!=null&&r.index>e.index;(!e||n)&&(e=r)}return e==null?void 0:e.key}extendSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const r=this.state.selectedKeys(),n=r.anchorKey||t,i=new ai(r,n,t);for(const o of this.getKeyRange(n,r.currentKey||t))i.delete(o);for(const o of this.getKeyRange(t,n))this.canSelectItem(o)&&i.add(o);this.state.setSelectedKeys(i)}getKeyRange(e,t){const r=this.collection().getItem(e),n=this.collection().getItem(t);return r&&n?r.index!=null&&n.index!=null&&r.index<=n.index?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){const r=[];let n=e;for(;n!=null;){const i=this.collection().getItem(n);if(i&&i.type==="item"&&r.push(n),n===t)return r;n=this.collection().getKeyAfter(n)}return[]}getKey(e){const t=this.collection().getItem(e);return t?!t||t.type!=="item"?null:t.key:e}toggleSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const r=new ai(this.state.selectedKeys());r.has(t)?r.delete(t):this.canSelectItem(t)&&(r.add(t),r.anchorKey=t,r.currentKey=t),!(this.disallowEmptySelection()&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(e){if(this.selectionMode()==="none")return;const t=this.getKey(e);if(t==null)return;const r=this.canSelectItem(t)?new ai([t],t,t):new ai;this.state.setSelectedKeys(r)}setSelectedKeys(e){if(this.selectionMode()==="none")return;const t=new ai;for(const r of e){const n=this.getKey(r);if(n!=null&&(t.add(n),this.selectionMode()==="single"))break}this.state.setSelectedKeys(t)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const e=this.state.selectedKeys();!this.disallowEmptySelection()&&e.size>0&&this.state.setSelectedKeys(new ai)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(e)&&!this.disallowEmptySelection()?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior()==="toggle"||t&&t.pointerType==="touch"?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys())return!0;const t=this.selectedKeys();if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;for(const r of t)if(!e.has(r))return!1;return!0}canSelectItem(e){if(this.state.selectionMode()==="none")return!1;const t=this.collection().getItem(e);return t!=null&&!t.disabled}isDisabled(e){const t=this.collection().getItem(e);return!t||t.disabled}getAllSelectableKeys(){const e=[];return(r=>{for(;r!=null;){if(this.canSelectItem(r)){const n=this.collection().getItem(r);if(!n)continue;n.type==="item"&&e.push(r)}r=this.collection().getKeyAfter(r)}})(this.collection().getFirstKey()),e}},jM=class{constructor(e){R(this,"keyMap",new Map);R(this,"iterable");R(this,"firstKey");R(this,"lastKey");this.iterable=e;for(const n of e)this.keyMap.set(n.key,n);if(this.keyMap.size===0)return;let t,r=0;for(const[n,i]of this.keyMap)t?(t.nextKey=n,i.prevKey=t.key):(this.firstKey=n,i.prevKey=void 0),i.type==="item"&&(i.index=r++),t=i,t.nextKey=void 0;this.lastKey=t.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){var t;return(t=this.keyMap.get(e))==null?void 0:t.prevKey}getKeyAfter(e){var t;return(t=this.keyMap.get(e))==null?void 0:t.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}};function T8(e){const t=Xoe(e),n=Uoe({dataSource:()=>j(e.dataSource),getKey:()=>j(e.getKey),getTextValue:()=>j(e.getTextValue),getDisabled:()=>j(e.getDisabled),getSectionChildren:()=>j(e.getSectionChildren),factory:o=>e.filter?new jM(e.filter(o)):new jM(o)},[()=>e.filter]),i=new rae(n,t);return aK(()=>{const o=t.focusedKey();o!=null&&!n().getItem(o)&&t.setFocusedKey(void 0)}),{collection:n,selectionManager:()=>i}}var nae=W("<option>"),iae=W("<div aria-hidden=true><input type=text style=font-size:16px><select tabindex=-1><option>");function oae(e){let t;const[r,n]=Ae(e,["ref","onChange","collection","selectionManager","isOpen","isMultiple","isVirtualized","focusTrigger"]),i=ki(),[o,a]=Y(!1),s=l=>{const c=r.collection.getItem(l);return M(Tt,{get when(){return(c==null?void 0:c.type)==="item"},get children(){var u=nae();return u.value=l,B(u,()=>c==null?void 0:c.textValue),ee(()=>u.selected=r.selectionManager.isSelected(l)),u}})};return oe(hi(()=>r.selectionManager.selectedKeys(),(l,c)=>{c&&k8(l,c)||(a(!0),t==null||t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),t==null||t.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})))},{defer:!0})),(()=>{var l=iae(),c=l.firstChild,u=c.nextSibling;u.firstChild,c.addEventListener("focus",()=>r.focusTrigger()),u.addEventListener("change",d=>{Lt(d,r.onChange),o()||r.selectionManager.setSelectedKeys(new Set([d.target.value])),a(!1)});var f=Nr(d=>t=d,r.ref);return typeof f=="function"&&Ut(f,u),Yx(u,ye({get multiple(){return r.isMultiple},get name(){return i.name()},get required(){return i.isRequired()},get disabled(){return i.isDisabled()},get size(){return r.collection.getSize()},get value(){return r.selectionManager.firstSelectedKey()??""}},n),!1,!0),B(u,M(Tt,{get when(){return r.isVirtualized},get fallback(){return M(yt,{get each(){return[...r.collection.getKeys()]},children:s})},get children(){return M(yt,{get each(){return[...r.selectionManager.selectedKeys()]},children:s})}}),null),ee(d=>{var h=rS,p=r.selectionManager.isFocused()||r.isOpen?-1:0,g=i.isRequired(),m=i.isDisabled(),v=i.isReadOnly();return d.e=Lm(l,h,d.e),p!==d.t&&z(c,"tabindex",d.t=p),g!==d.a&&(c.required=d.a=g),m!==d.o&&(c.disabled=d.o=m),v!==d.i&&(c.readOnly=d.i=v),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l})()}var BM=new WeakMap;function aae(e){let t=BM.get(e);if(t!=null)return t;t=0;for(const r of e)r.type==="item"&&t++;return BM.set(e,t),t}var C8=class{constructor(e,t,r){R(this,"collection");R(this,"ref");R(this,"collator");this.collection=e,this.ref=t,this.collator=r}getKeyBelow(e){let t=this.collection().getKeyAfter(e);for(;t!=null;){const r=this.collection().getItem(t);if(r&&r.type==="item"&&!r.disabled)return t;t=this.collection().getKeyAfter(t)}}getKeyAbove(e){let t=this.collection().getKeyBefore(e);for(;t!=null;){const r=this.collection().getItem(t);if(r&&r.type==="item"&&!r.disabled)return t;t=this.collection().getKeyBefore(t)}}getFirstKey(){let e=this.collection().getFirstKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyAfter(e)}}getLastKey(){let e=this.collection().getLastKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyBefore(e)}}getItem(e){var t,r;return((r=(t=this.ref)==null?void 0:t.call(this))==null?void 0:r.querySelector(`[data-key="${e}"]`))??null}getKeyPageAbove(e){var o;const t=(o=this.ref)==null?void 0:o.call(this);let r=this.getItem(e);if(!t||!r)return;const n=Math.max(0,r.offsetTop+r.offsetHeight-t.offsetHeight);let i=e;for(;i&&r&&r.offsetTop>n;)i=this.getKeyAbove(i),r=i!=null?this.getItem(i):null;return i}getKeyPageBelow(e){var o;const t=(o=this.ref)==null?void 0:o.call(this);let r=this.getItem(e);if(!t||!r)return;const n=Math.min(t.scrollHeight,r.offsetTop-r.offsetHeight+t.offsetHeight);let i=e;for(;i&&r&&r.offsetTop<n;)i=this.getKeyBelow(i),r=i!=null?this.getItem(i):null;return i}getKeyForSearch(e,t){var i;const r=(i=this.collator)==null?void 0:i.call(this);if(!r)return;let n=t!=null?this.getKeyBelow(t):this.getFirstKey();for(;n!=null;){const o=this.collection().getItem(n);if(o){const a=o.textValue.slice(0,e.length);if(o.textValue&&r.compare(a,e)===0)return n}n=this.getKeyBelow(n)}}};function sae(e,t,r){const n=w8({usage:"search",sensitivity:"base"}),i=me(()=>{const o=j(e.keyboardDelegate);return o||new C8(e.collection,t,n)});return eae({selectionManager:()=>j(e.selectionManager),keyboardDelegate:i,autoFocus:()=>j(e.autoFocus),deferAutoFocus:()=>j(e.deferAutoFocus),shouldFocusWrap:()=>j(e.shouldFocusWrap),disallowEmptySelection:()=>j(e.disallowEmptySelection),selectOnFocus:()=>j(e.selectOnFocus),disallowTypeAhead:()=>j(e.disallowTypeAhead),shouldUseVirtualFocus:()=>j(e.shouldUseVirtualFocus),allowsTabNavigation:()=>j(e.allowsTabNavigation),isVirtualized:()=>j(e.isVirtualized),scrollToKey:o=>{var a;return(a=j(e.scrollToKey))==null?void 0:a(o)},orientation:()=>j(e.orientation)},t,r)}var lae={};Fm(lae,{Item:()=>iv,ItemDescription:()=>ov,ItemIndicator:()=>av,ItemLabel:()=>sv,Listbox:()=>cae,Root:()=>ak,Section:()=>lv,useListboxContext:()=>M8});var E8=tn();function M8(){const e=rn(E8);if(e===void 0)throw new Error("[kobalte]: `useListboxContext` must be used within a `Listbox` component");return e}var A8=tn();function ok(){const e=rn(A8);if(e===void 0)throw new Error("[kobalte]: `useListboxItemContext` must be used within a `Listbox.Item` component");return e}function iv(e){let t;const r=M8(),n=`${r.generateId("item")}-${ac()}`,i=rt({id:n},e),[o,a]=Ae(i,["ref","item","aria-label","aria-labelledby","aria-describedby","onPointerMove","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[s,l]=Y(),[c,u]=Y(),f=()=>r.listState().selectionManager(),d=()=>f().focusedKey()===o.item.key,h=tae({key:()=>o.item.key,selectionManager:f,shouldSelectOnPressUp:r.shouldSelectOnPressUp,allowsDifferentPressOrigin:()=>r.shouldSelectOnPressUp()&&r.shouldFocusOnHover(),shouldUseVirtualFocus:r.shouldUseVirtualFocus,disabled:()=>o.item.disabled},()=>t),p=()=>{if(f().selectionMode()!=="none")return h.isSelected()},g=me(()=>!(Lf()&&DG())),m=()=>g()?o["aria-label"]:void 0,v=()=>g()?s():void 0,b=()=>g()?c():void 0,y=()=>{var D;if(!r.isVirtualized())return;const T=(D=r.listState().collection().getItem(o.item.key))==null?void 0:D.index;return T!=null?T+1:void 0},w=()=>{if(r.isVirtualized())return aae(r.listState().collection())},$=T=>{Lt(T,o.onPointerMove),T.pointerType==="mouse"&&!h.isDisabled()&&r.shouldFocusOnHover()&&(Mr(T.currentTarget),f().setFocused(!0),f().setFocusedKey(o.item.key))},x=me(()=>({"data-disabled":h.isDisabled()?"":void 0,"data-selected":h.isSelected()?"":void 0,"data-highlighted":d()?"":void 0})),O={isSelected:h.isSelected,dataset:x,generateId:Df(()=>a.id),registerLabelId:Vi(l),registerDescriptionId:Vi(u)};return M(A8.Provider,{value:O,get children(){return M(St,ye({as:"li",ref(T){var D=Nr(L=>t=L,o.ref);typeof D=="function"&&D(T)},role:"option",get tabIndex(){return h.tabIndex()},get"aria-disabled"(){return h.isDisabled()},get"aria-selected"(){return p()},get"aria-label"(){return m()},get"aria-labelledby"(){return v()},get"aria-describedby"(){return b()},get"aria-posinset"(){return y()},get"aria-setsize"(){return w()},get"data-key"(){return h.dataKey()},get onPointerDown(){return dn([o.onPointerDown,h.onPointerDown])},get onPointerUp(){return dn([o.onPointerUp,h.onPointerUp])},get onClick(){return dn([o.onClick,h.onClick])},get onKeyDown(){return dn([o.onKeyDown,h.onKeyDown])},get onMouseDown(){return dn([o.onMouseDown,h.onMouseDown])},get onFocus(){return dn([o.onFocus,h.onFocus])},onPointerMove:$},x,a))}})}function ov(e){const t=ok(),r=rt({id:t.generateId("description")},e);return oe(()=>be(t.registerDescriptionId(r.id))),M(St,ye({as:"div"},()=>t.dataset(),r))}function av(e){const t=ok(),r=rt({id:t.generateId("indicator")},e),[n,i]=Ae(r,["forceMount"]);return M(Tt,{get when(){return n.forceMount||t.isSelected()},get children(){return M(St,ye({as:"div","aria-hidden":"true"},()=>t.dataset(),i))}})}function sv(e){const t=ok(),r=rt({id:t.generateId("label")},e);return oe(()=>be(t.registerLabelId(r.id))),M(St,ye({as:"div"},()=>t.dataset(),r))}function ak(e){let t;const r=`listbox-${ac()}`,n=rt({id:r,selectionMode:"single",virtualized:!1},e),[i,o]=Ae(n,["ref","children","renderItem","renderSection","value","defaultValue","onChange","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","state","keyboardDelegate","autoFocus","selectionMode","shouldFocusWrap","shouldUseVirtualFocus","shouldSelectOnPressUp","shouldFocusOnHover","allowDuplicateSelectionEvents","disallowEmptySelection","selectionBehavior","selectOnFocus","disallowTypeAhead","allowsTabNavigation","virtualized","scrollToItem","scrollRef","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),a=me(()=>i.state?i.state:T8({selectedKeys:()=>i.value,defaultSelectedKeys:()=>i.defaultValue,onSelectionChange:i.onChange,allowDuplicateSelectionEvents:()=>j(i.allowDuplicateSelectionEvents),disallowEmptySelection:()=>j(i.disallowEmptySelection),selectionBehavior:()=>j(i.selectionBehavior),selectionMode:()=>j(i.selectionMode),dataSource:()=>i.options??[],getKey:()=>i.optionValue,getTextValue:()=>i.optionTextValue,getDisabled:()=>i.optionDisabled,getSectionChildren:()=>i.optionGroupChildren})),s=sae({selectionManager:()=>a().selectionManager(),collection:()=>a().collection(),autoFocus:()=>j(i.autoFocus),shouldFocusWrap:()=>j(i.shouldFocusWrap),keyboardDelegate:()=>i.keyboardDelegate,disallowEmptySelection:()=>j(i.disallowEmptySelection),selectOnFocus:()=>j(i.selectOnFocus),disallowTypeAhead:()=>j(i.disallowTypeAhead),shouldUseVirtualFocus:()=>j(i.shouldUseVirtualFocus),allowsTabNavigation:()=>j(i.allowsTabNavigation),isVirtualized:()=>i.virtualized,scrollToKey:()=>i.scrollToItem},()=>t,()=>{var c;return(c=i.scrollRef)==null?void 0:c.call(i)}),l={listState:a,generateId:Df(()=>o.id),shouldUseVirtualFocus:()=>n.shouldUseVirtualFocus,shouldSelectOnPressUp:()=>n.shouldSelectOnPressUp,shouldFocusOnHover:()=>n.shouldFocusOnHover,isVirtualized:()=>i.virtualized};return M(E8.Provider,{value:l,get children(){return M(St,ye({as:"ul",ref(c){var u=Nr(f=>t=f,i.ref);typeof u=="function"&&u(c)},role:"listbox",get tabIndex(){return s.tabIndex()},get"aria-multiselectable"(){return a().selectionManager().selectionMode()==="multiple"?!0:void 0},get onKeyDown(){return dn([i.onKeyDown,s.onKeyDown])},get onMouseDown(){return dn([i.onMouseDown,s.onMouseDown])},get onFocusIn(){return dn([i.onFocusIn,s.onFocusIn])},get onFocusOut(){return dn([i.onFocusOut,s.onFocusOut])}},o,{get children(){return M(Tt,{get when(){return!i.virtualized},get fallback(){var c;return(c=i.children)==null?void 0:c.call(i,a().collection)},get children(){return M(TG,{get each(){return[...a().collection()]},by:"key",children:c=>M(sc,{get children(){return[M(Fe,{get when(){return c().type==="section"},get children(){var u;return(u=i.renderSection)==null?void 0:u.call(i,c())}}),M(Fe,{get when(){return c().type==="item"},get children(){var u;return(u=i.renderItem)==null?void 0:u.call(i,c())}})]}})})}})}}))}})}function lv(e){return M(St,ye({as:"li",role:"presentation"},e))}var cae=Object.assign(ak,{Item:iv,ItemDescription:ov,ItemIndicator:av,ItemLabel:sv,Section:lv});const uae=["top","right","bottom","left"],Zo=Math.min,Ur=Math.max,Rg=Math.round,Kd=Math.floor,ci=e=>({x:e,y:e}),fae={left:"right",right:"left",bottom:"top",top:"bottom"},dae={start:"end",end:"start"};function Vw(e,t,r){return Ur(e,Zo(t,r))}function Os(e,t){return typeof e=="function"?e(t):e}function ea(e){return e.split("-")[0]}function fc(e){return e.split("-")[1]}function I8(e){return e==="x"?"y":"x"}function sk(e){return e==="y"?"height":"width"}const hae=new Set(["top","bottom"]);function Wi(e){return hae.has(ea(e))?"y":"x"}function lk(e){return I8(Wi(e))}function pae(e,t,r){r===void 0&&(r=!1);const n=fc(e),i=lk(e),o=sk(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Fg(a)),[a,Fg(a)]}function gae(e){const t=Fg(e);return[Ww(e),t,Ww(t)]}function Ww(e){return e.replace(/start|end/g,t=>dae[t])}const zM=["left","right"],HM=["right","left"],mae=["top","bottom"],vae=["bottom","top"];function bae(e,t,r){switch(e){case"top":case"bottom":return r?t?HM:zM:t?zM:HM;case"left":case"right":return t?mae:vae;default:return[]}}function yae(e,t,r,n){const i=fc(e);let o=bae(ea(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Ww)))),o}function Fg(e){return e.replace(/left|right|bottom|top/g,t=>fae[t])}function $ae(e){return{top:0,right:0,bottom:0,left:0,...e}}function P8(e){return typeof e!="number"?$ae(e):{top:e,right:e,bottom:e,left:e}}function jg(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function UM(e,t,r){let{reference:n,floating:i}=e;const o=Wi(t),a=lk(t),s=sk(a),l=ea(t),c=o==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d=n[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:n.y-i.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-i.width,y:f};break;default:h={x:n.x,y:n.y}}switch(fc(t)){case"start":h[a]-=d*(r&&c?-1:1);break;case"end":h[a]+=d*(r&&c?-1:1);break}return h}const wae=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=UM(c,n,l),d=n,h={},p=0;for(let g=0;g<s.length;g++){const{name:m,fn:v}=s[g],{x:b,y,data:w,reset:$}=await v({x:u,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:e,floating:t}});u=b??u,f=y??f,h={...h,[m]:{...h[m],...w}},$&&p<=50&&(p++,typeof $=="object"&&($.placement&&(d=$.placement),$.rects&&(c=$.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:u,y:f}=UM(c,d,l)),g=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function df(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Os(t,e),p=P8(h),m=s[d?f==="floating"?"reference":"floating":f],v=jg(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),w=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},$=jg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:y,strategy:l}):b);return{top:(v.top-$.top+p.top)/w.y,bottom:($.bottom-v.bottom+p.bottom)/w.y,left:(v.left-$.left+p.left)/w.x,right:($.right-v.right+p.right)/w.x}}const xae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Os(e,t)||{};if(c==null)return{};const f=P8(u),d={x:r,y:n},h=lk(i),p=sk(h),g=await a.getDimensions(c),m=h==="y",v=m?"top":"left",b=m?"bottom":"right",y=m?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[h]-d[h]-o.floating[p],$=d[h]-o.reference[h],x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let O=x?x[y]:0;(!O||!await(a.isElement==null?void 0:a.isElement(x)))&&(O=s.floating[y]||o.floating[p]);const T=w/2-$/2,D=O/2-g[p]/2-1,L=Zo(f[v],D),I=Zo(f[b],D),E=L,_=O-g[p]-I,k=O/2-g[p]/2+T,C=Vw(E,k,_),S=!l.arrow&&fc(i)!=null&&k!==C&&o.reference[p]/2-(k<E?L:I)-g[p]/2<0,P=S?k<E?k-E:k-_:0;return{[h]:d[h]+P,data:{[h]:C,centerOffset:k-C-P,...S&&{alignmentOffset:P}},reset:S}}}),Sae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Os(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=ea(i),b=Wi(s),y=ea(s)===s,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),$=d||(y||!g?[Fg(s)]:gae(s)),x=p!=="none";!d&&x&&$.push(...yae(s,g,p,w));const O=[s,...$],T=await df(t,m),D=[];let L=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&D.push(T[v]),f){const k=pae(i,a,w);D.push(T[k[0]],T[k[1]])}if(L=[...L,{placement:i,overflows:D}],!D.every(k=>k<=0)){var I,E;const k=(((I=o.flip)==null?void 0:I.index)||0)+1,C=O[k];if(C&&(!(f==="alignment"?b!==Wi(C):!1)||L.every(A=>Wi(A.placement)===b?A.overflows[0]>0:!0)))return{data:{index:k,overflows:L},reset:{placement:C}};let S=(E=L.filter(P=>P.overflows[0]<=0).sort((P,A)=>P.overflows[1]-A.overflows[1])[0])==null?void 0:E.placement;if(!S)switch(h){case"bestFit":{var _;const P=(_=L.filter(A=>{if(x){const N=Wi(A.placement);return N===b||N==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(N=>N>0).reduce((N,U)=>N+U,0)]).sort((A,N)=>A[1]-N[1])[0])==null?void 0:_[0];P&&(S=P);break}case"initialPlacement":S=s;break}if(i!==S)return{reset:{placement:S}}}return{}}}};function VM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function WM(e){return uae.some(t=>e[t]>=0)}const kae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Os(e,t);switch(n){case"referenceHidden":{const o=await df(t,{...i,elementContext:"reference"}),a=VM(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:WM(a)}}}case"escaped":{const o=await df(t,{...i,altBoundary:!0}),a=VM(o,r.floating);return{data:{escapedOffsets:a,escaped:WM(a)}}}default:return{}}}}},Oae=new Set(["left","top"]);async function Tae(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=ea(r),s=fc(r),l=Wi(r)==="y",c=Oae.has(a)?-1:1,u=o&&l?-1:1,f=Os(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const Cae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await Tae(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Eae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:m=>{let{x:v,y:b}=m;return{x:v,y:b}}},...l}=Os(e,t),c={x:r,y:n},u=await df(t,l),f=Wi(ea(i)),d=I8(f);let h=c[d],p=c[f];if(o){const m=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=h+u[m],y=h-u[v];h=Vw(b,h,y)}if(a){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+u[m],y=p-u[v];p=Vw(b,p,y)}const g=s.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[d]:o,[f]:a}}}}}},Mae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=Os(e,t),u=await df(t,c),f=ea(i),d=fc(i),h=Wi(i)==="y",{width:p,height:g}=o.floating;let m,v;f==="top"||f==="bottom"?(m=f,v=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=f,m=d==="end"?"top":"bottom");const b=g-u.top-u.bottom,y=p-u.left-u.right,w=Zo(g-u[m],b),$=Zo(p-u[v],y),x=!t.middlewareData.shift;let O=w,T=$;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=b),x&&!d){const L=Ur(u.left,0),I=Ur(u.right,0),E=Ur(u.top,0),_=Ur(u.bottom,0);h?T=p-2*(L!==0||I!==0?L+I:Ur(u.left,u.right)):O=g-2*(E!==0||_!==0?E+_:Ur(u.top,u.bottom))}await l({...t,availableWidth:T,availableHeight:O});const D=await a.getDimensions(s.floating);return p!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function cv(){return typeof window<"u"}function dc(e){return _8(e)?(e.nodeName||"").toLowerCase():"#document"}function Xr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Oi(e){var t;return(t=(_8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _8(e){return cv()?e instanceof Node||e instanceof Xr(e).Node:!1}function Hn(e){return cv()?e instanceof Element||e instanceof Xr(e).Element:!1}function mi(e){return cv()?e instanceof HTMLElement||e instanceof Xr(e).HTMLElement:!1}function KM(e){return!cv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xr(e).ShadowRoot}const Aae=new Set(["inline","contents"]);function Hf(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Aae.has(i)}const Iae=new Set(["table","td","th"]);function Pae(e){return Iae.has(dc(e))}const _ae=[":popover-open",":modal"];function uv(e){return _ae.some(t=>{try{return e.matches(t)}catch{return!1}})}const Dae=["transform","translate","scale","rotate","perspective"],Lae=["transform","translate","scale","rotate","perspective","filter"],Nae=["paint","layout","strict","content"];function ck(e){const t=uk(),r=Hn(e)?Un(e):e;return Dae.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Lae.some(n=>(r.willChange||"").includes(n))||Nae.some(n=>(r.contain||"").includes(n))}function Rae(e){let t=ta(e);for(;mi(t)&&!Wl(t);){if(ck(t))return t;if(uv(t))return null;t=ta(t)}return null}function uk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Fae=new Set(["html","body","#document"]);function Wl(e){return Fae.has(dc(e))}function Un(e){return Xr(e).getComputedStyle(e)}function fv(e){return Hn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ta(e){if(dc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KM(e)&&e.host||Oi(e);return KM(t)?t.host:t}function D8(e){const t=ta(e);return Wl(t)?e.ownerDocument?e.ownerDocument.body:e.body:mi(t)&&Hf(t)?t:D8(t)}function hf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=D8(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=Xr(i);if(o){const s=Kw(a);return t.concat(a,a.visualViewport||[],Hf(i)?i:[],s&&r?hf(s):[])}return t.concat(i,hf(i,[],r))}function Kw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function L8(e){const t=Un(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=mi(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=Rg(r)!==o||Rg(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function fk(e){return Hn(e)?e:e.contextElement}function Il(e){const t=fk(e);if(!mi(t))return ci(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=L8(t);let a=(o?Rg(r.width):r.width)/n,s=(o?Rg(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const jae=ci(0);function N8(e){const t=Xr(e);return!uk()||!t.visualViewport?jae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Bae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xr(e)?!1:t}function ns(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=fk(e);let a=ci(1);t&&(n?Hn(n)&&(a=Il(n)):a=Il(e));const s=Bae(o,r,n)?N8(o):ci(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o){const d=Xr(o),h=n&&Hn(n)?Xr(n):n;let p=d,g=Kw(p);for(;g&&n&&h!==p;){const m=Il(g),v=g.getBoundingClientRect(),b=Un(g),y=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,w=v.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,f*=m.y,l+=y,c+=w,p=Xr(g),g=Kw(p)}}return jg({width:u,height:f,x:l,y:c})}function dv(e,t){const r=fv(e).scrollLeft;return t?t.left+r:ns(Oi(e)).left+r}function R8(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-dv(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function zae(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",a=Oi(n),s=t?uv(t.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},c=ci(1);const u=ci(0),f=mi(n);if((f||!f&&!o)&&((dc(n)!=="body"||Hf(a))&&(l=fv(n)),mi(n))){const h=ns(n);c=Il(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const d=a&&!f&&!o?R8(a,l):ci(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:r.y*c.y-l.scrollTop*c.y+u.y+d.y}}function Hae(e){return Array.from(e.getClientRects())}function Uae(e){const t=Oi(e),r=fv(e),n=e.ownerDocument.body,i=Ur(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ur(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+dv(e);const s=-r.scrollTop;return Un(n).direction==="rtl"&&(a+=Ur(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}const GM=25;function Vae(e,t){const r=Xr(e),n=Oi(e),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=uk();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=dv(n);if(c<=0){const u=n.ownerDocument,f=u.body,d=getComputedStyle(f),h=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(n.clientWidth-f.clientWidth-h);p<=GM&&(o-=p)}else c<=GM&&(o+=c);return{width:o,height:a,x:s,y:l}}const Wae=new Set(["absolute","fixed"]);function Kae(e,t){const r=ns(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=mi(e)?Il(e):ci(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=n*o.y;return{width:a,height:s,x:l,y:c}}function qM(e,t,r){let n;if(t==="viewport")n=Vae(e,r);else if(t==="document")n=Uae(Oi(e));else if(Hn(t))n=Kae(t,r);else{const i=N8(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return jg(n)}function F8(e,t){const r=ta(e);return r===t||!Hn(r)||Wl(r)?!1:Un(r).position==="fixed"||F8(r,t)}function Gae(e,t){const r=t.get(e);if(r)return r;let n=hf(e,[],!1).filter(s=>Hn(s)&&dc(s)!=="body"),i=null;const o=Un(e).position==="fixed";let a=o?ta(e):e;for(;Hn(a)&&!Wl(a);){const s=Un(a),l=ck(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&Wae.has(i.position)||Hf(a)&&!l&&F8(e,a))?n=n.filter(u=>u!==a):i=s,a=ta(a)}return t.set(e,n),n}function qae(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?uv(t)?[]:Gae(t,this._c):[].concat(r),n],s=a[0],l=a.reduce((c,u)=>{const f=qM(t,u,i);return c.top=Ur(f.top,c.top),c.right=Zo(f.right,c.right),c.bottom=Zo(f.bottom,c.bottom),c.left=Ur(f.left,c.left),c},qM(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Yae(e){const{width:t,height:r}=L8(e);return{width:t,height:r}}function Jae(e,t,r){const n=mi(t),i=Oi(t),o=r==="fixed",a=ns(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=ci(0);function c(){l.x=dv(i)}if(n||!n&&!o)if((dc(t)!=="body"||Hf(i))&&(s=fv(t)),n){const h=ns(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&c();o&&!n&&i&&c();const u=i&&!n&&!o?R8(i,s):ci(0),f=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function Hb(e){return Un(e).position==="static"}function YM(e,t){if(!mi(e)||Un(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Oi(e)===r&&(r=r.ownerDocument.body),r}function j8(e,t){const r=Xr(e);if(uv(e))return r;if(!mi(e)){let i=ta(e);for(;i&&!Wl(i);){if(Hn(i)&&!Hb(i))return i;i=ta(i)}return r}let n=YM(e,t);for(;n&&Pae(n)&&Hb(n);)n=YM(n,t);return n&&Wl(n)&&Hb(n)&&!ck(n)?r:n||Rae(e)||r}const Xae=async function(e){const t=this.getOffsetParent||j8,r=this.getDimensions,n=await r(e.floating);return{reference:Jae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Qae(e){return Un(e).direction==="rtl"}const B8={convertOffsetParentRelativeRectToViewportRelativeRect:zae,getDocumentElement:Oi,getClippingRect:qae,getOffsetParent:j8,getElementRects:Xae,getClientRects:Hae,getDimensions:Yae,getScale:Il,isElement:Hn,isRTL:Qae};function z8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zae(e,t){let r=null,n;const i=Oi(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(s||t(),!d||!h)return;const p=Kd(f),g=Kd(i.clientWidth-(u+d)),m=Kd(i.clientHeight-(f+h)),v=Kd(u),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-v+"px",threshold:Ur(0,Zo(1,l))||1};let w=!0;function $(x){const O=x[0].intersectionRatio;if(O!==l){if(!w)return a();O?a(!1,O):n=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!z8(c,e.getBoundingClientRect())&&a(),w=!1}try{r=new IntersectionObserver($,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver($,y)}r.observe(e)}return a(!0),o}function ese(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=fk(e),u=i||o?[...c?hf(c):[],...hf(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const f=c&&s?Zae(c,r):null;let d=-1,h=null;a&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let p,g=l?ns(e):null;l&&m();function m(){const v=ns(e);g&&!z8(g,v)&&r(),g=v,p=requestAnimationFrame(m)}return r(),()=>{var v;u.forEach(b=>{i&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const tse=Cae,rse=Eae,nse=Sae,ise=Mae,ose=kae,ase=xae,sse=(e,t,r)=>{const n=new Map,i={platform:B8,...r},o={...i.platform,_c:n};return wae(e,t,{...i,platform:o})};var lse=W('<svg display=block viewBox="0 0 30 30"style=transform:scale(1.02)><g><path fill=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z></path><path stroke=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z>'),dk=tn();function hk(){const e=rn(dk);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}var Gw=30,JM=Gw/2,cse={top:180,right:-90,bottom:0,left:90};function pk(e){const t=hk(),r=rt({size:Gw},e),[n,i]=Ae(r,["ref","style","size"]),o=()=>t.currentPlacement().split("-")[0],a=use(t.contentRef),s=()=>{var d;return((d=a())==null?void 0:d.getPropertyValue("background-color"))||"none"},l=()=>{var d;return((d=a())==null?void 0:d.getPropertyValue(`border-${o()}-color`))||"none"},c=()=>{var d;return((d=a())==null?void 0:d.getPropertyValue(`border-${o()}-width`))||"0px"},u=()=>Number.parseInt(c())*2*(Gw/n.size),f=()=>`rotate(${cse[o()]} ${JM} ${JM}) translate(0 2)`;return M(St,ye({as:"div",ref(d){var h=Nr(t.setArrowRef,n.ref);typeof h=="function"&&h(d)},"aria-hidden":"true",get style(){return Nm({position:"absolute","font-size":`${n.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:s(),stroke:l(),"stroke-width":u()},n.style)}},i,{get children(){var d=lse(),h=d.firstChild,p=h.firstChild;return p.nextSibling,ee(()=>z(h,"transform",f())),d}}))}function use(e){const[t,r]=Y();return oe(()=>{const n=e();n&&r(MG(n).getComputedStyle(n))}),t}function fse(e){const t=hk(),[r,n]=Ae(e,["ref","style"]);return M(St,ye({as:"div",ref(i){var o=Nr(t.setPositionerRef,r.ref);typeof o=="function"&&o(i)},"data-popper-positioner":"",get style(){return Nm({position:"absolute",top:0,left:0,"min-width":"max-content"},r.style)}},n))}function XM(e){const{x:t=0,y:r=0,width:n=0,height:i=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(t,r,n,i);const o={x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:r+i,left:t};return{...o,toJSON:()=>o}}function dse(e,t){return{contextElement:e,getBoundingClientRect:()=>{const n=t(e);return n?XM(n):e?e.getBoundingClientRect():XM()}}}function hse(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}var pse={top:"bottom",right:"left",bottom:"top",left:"right"};function gse(e,t){const[r,n]=e.split("-"),i=pse[r];return n?r==="left"||r==="right"?`${i} ${n==="start"?"top":"bottom"}`:n==="start"?`${i} ${t==="rtl"?"right":"left"}`:`${i} ${t==="rtl"?"left":"right"}`:`${i} center`}function mse(e){const t=rt({getAnchorRect:d=>d==null?void 0:d.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e),[r,n]=Y(),[i,o]=Y(),[a,s]=Y(t.placement),l=()=>{var d;return dse((d=t.anchorRef)==null?void 0:d.call(t),t.getAnchorRect)},{direction:c}=ik();async function u(){var x,O;const d=l(),h=r(),p=i();if(!d||!h)return;const g=((p==null?void 0:p.clientHeight)||0)/2,m=typeof t.gutter=="number"?t.gutter+g:t.gutter??g;h.style.setProperty("--kb-popper-content-overflow-padding",`${t.overflowPadding}px`),d.getBoundingClientRect();const v=[tse(({placement:T})=>{const D=!!T.split("-")[1];return{mainAxis:m,crossAxis:D?void 0:t.shift,alignmentAxis:t.shift}})];if(t.flip!==!1){const T=typeof t.flip=="string"?t.flip.split(" "):void 0;if(T!==void 0&&!T.every(hse))throw new Error("`flip` expects a spaced-delimited list of placements");v.push(nse({padding:t.overflowPadding,fallbackPlacements:T}))}(t.slide||t.overlap)&&v.push(rse({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding})),v.push(ise({padding:t.overflowPadding,apply({availableWidth:T,availableHeight:D,rects:L}){const I=Math.round(L.reference.width);T=Math.floor(T),D=Math.floor(D),h.style.setProperty("--kb-popper-anchor-width",`${I}px`),h.style.setProperty("--kb-popper-content-available-width",`${T}px`),h.style.setProperty("--kb-popper-content-available-height",`${D}px`),t.sameWidth&&(h.style.width=`${I}px`),t.fitViewport&&(h.style.maxWidth=`${T}px`,h.style.maxHeight=`${D}px`)}})),t.hideWhenDetached&&v.push(ose({padding:t.detachedPadding})),p&&v.push(ase({element:p,padding:t.arrowPadding}));const b=await sse(d,h,{placement:t.placement,strategy:"absolute",middleware:v,platform:{...B8,isRTL:()=>c()==="rtl"}});if(s(b.placement),(x=t.onCurrentPlacementChange)==null||x.call(t,b.placement),!h)return;h.style.setProperty("--kb-popper-content-transform-origin",gse(b.placement,c()));const y=Math.round(b.x),w=Math.round(b.y);let $;if(t.hideWhenDetached&&($=(O=b.middlewareData.hide)!=null&&O.referenceHidden?"hidden":"visible"),Object.assign(h.style,{top:"0",left:"0",transform:`translate3d(${y}px, ${w}px, 0)`,visibility:$}),p&&b.middlewareData.arrow){const{x:T,y:D}=b.middlewareData.arrow,L=b.placement.split("-")[0];Object.assign(p.style,{left:T!=null?`${T}px`:"",top:D!=null?`${D}px`:"",[L]:"100%"})}}oe(()=>{const d=l(),h=r();if(!d||!h)return;const p=ese(d,h,u,{elementResize:typeof ResizeObserver=="function"});be(p)}),oe(()=>{var p;const d=r(),h=(p=t.contentRef)==null?void 0:p.call(t);!d||!h||queueMicrotask(()=>{d.style.zIndex=getComputedStyle(h).zIndex})});const f={currentPlacement:a,contentRef:()=>{var d;return(d=t.contentRef)==null?void 0:d.call(t)},setPositionerRef:n,setArrowRef:o};return M(dk.Provider,{value:f,get children(){return t.children}})}var H8=Object.assign(mse,{Arrow:pk,Context:dk,usePopperContext:hk,Positioner:fse}),Bg="data-kb-top-layer",U8,qw=!1,eo=[];function pf(e){return eo.findIndex(t=>t.node===e)}function vse(e){return eo[pf(e)]}function bse(e){return eo[eo.length-1].node===e}function V8(){return eo.filter(e=>e.isPointerBlocking)}function yse(){return[...V8()].slice(-1)[0]}function gk(){return V8().length>0}function W8(e){var r;const t=pf((r=yse())==null?void 0:r.node);return pf(e)<t}function $se(e){eo.push(e)}function wse(e){const t=pf(e);t<0||eo.splice(t,1)}function xse(){for(const{node:e}of eo)e.style.pointerEvents=W8(e)?"none":"auto"}function Sse(e){if(gk()&&!qw){const t=Zi(e);U8=document.body.style.pointerEvents,t.body.style.pointerEvents="none",qw=!0}}function kse(e){if(gk())return;const t=Zi(e);t.body.style.pointerEvents=U8,t.body.style.length===0&&t.body.removeAttribute("style"),qw=!1}var Hr={layers:eo,isTopMostLayer:bse,hasPointerBlockingLayer:gk,isBelowPointerBlockingLayer:W8,addLayer:$se,removeLayer:wse,indexOf:pf,find:vse,assignPointerEventToLayers:xse,disableBodyPointerEvents:Sse,restoreBodyPointerEvents:kse},Ub="focusScope.autoFocusOnMount",Vb="focusScope.autoFocusOnUnmount",QM={bubbles:!1,cancelable:!0},ZM={stack:[],active(){return this.stack[0]},add(e){var t;e!==this.active()&&((t=this.active())==null||t.pause()),this.stack=kC(this.stack,e),this.stack.unshift(e)},remove(e){var t;this.stack=kC(this.stack,e),(t=this.active())==null||t.resume()}};function Ose(e,t){const[r,n]=Y(!1),i={pause(){n(!0)},resume(){n(!1)}};let o=null;const a=p=>{var g;return(g=e.onMountAutoFocus)==null?void 0:g.call(e,p)},s=p=>{var g;return(g=e.onUnmountAutoFocus)==null?void 0:g.call(e,p)},l=()=>Zi(t()),c=()=>{const p=l().createElement("span");return p.setAttribute("data-focus-trap",""),p.tabIndex=0,Object.assign(p.style,rS),p},u=()=>{const p=t();return p?yL(p,!0).filter(g=>!g.hasAttribute("data-focus-trap")):[]},f=()=>{const p=u();return p.length>0?p[0]:null},d=()=>{const p=u();return p.length>0?p[p.length-1]:null},h=()=>{const p=t();if(!p)return!1;const g=ou(p);return!g||_o(p,g)?!1:$L(g)};oe(()=>{const p=t();if(!p)return;ZM.add(i);const g=ou(p);if(!_o(p,g)){const v=new CustomEvent(Ub,QM);p.addEventListener(Ub,a),p.dispatchEvent(v),v.defaultPrevented||setTimeout(()=>{Mr(f()),ou(p)===g&&Mr(p)},0)}be(()=>{p.removeEventListener(Ub,a),setTimeout(()=>{const v=new CustomEvent(Vb,QM);h()&&v.preventDefault(),p.addEventListener(Vb,s),p.dispatchEvent(v),v.defaultPrevented||Mr(g??l().body),p.removeEventListener(Vb,s),ZM.remove(i)},0)})}),oe(()=>{const p=t();if(!p||!j(e.trapFocus)||r())return;const g=v=>{const b=v.target;b!=null&&b.closest(`[${Bg}]`)||(_o(p,b)?o=b:Mr(o))},m=v=>{const y=v.relatedTarget??ou(p);y!=null&&y.closest(`[${Bg}]`)||_o(p,y)||Mr(o)};l().addEventListener("focusin",g),l().addEventListener("focusout",m),be(()=>{l().removeEventListener("focusin",g),l().removeEventListener("focusout",m)})}),oe(()=>{const p=t();if(!p||!j(e.trapFocus)||r())return;const g=c();p.insertAdjacentElement("afterbegin",g);const m=c();p.insertAdjacentElement("beforeend",m);function v(y){const w=f(),$=d();y.relatedTarget===w?Mr($):Mr(w)}g.addEventListener("focusin",v),m.addEventListener("focusin",v);const b=new MutationObserver(y=>{for(const w of y)w.previousSibling===m&&(m.remove(),p.insertAdjacentElement("beforeend",m)),w.nextSibling===g&&(g.remove(),p.insertAdjacentElement("afterbegin",g))});b.observe(p,{childList:!0,subtree:!1}),be(()=>{g.removeEventListener("focusin",v),m.removeEventListener("focusin",v),g.remove(),m.remove(),b.disconnect()})})}var Tse="data-live-announcer";function Cse(e){oe(()=>{j(e.isDisabled)||be(Ese(j(e.targets),j(e.root)))})}var Lc=new WeakMap,an=[];function Ese(e,t=document.body){const r=new Set(e),n=new Set,i=l=>{for(const d of l.querySelectorAll(`[${Tse}], [${Bg}]`))r.add(d);const c=d=>{if(r.has(d)||d.parentElement&&n.has(d.parentElement)&&d.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const h of r)if(d.contains(h))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),f=c(l);if(f===NodeFilter.FILTER_ACCEPT&&o(l),f!==NodeFilter.FILTER_REJECT){let d=u.nextNode();for(;d!=null;)o(d),d=u.nextNode()}},o=l=>{const c=Lc.get(l)??0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),n.add(l),Lc.set(l,c+1))};an.length&&an[an.length-1].disconnect(),i(t);const a=new MutationObserver(l=>{for(const c of l)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...r,...n].some(u=>u.contains(c.target))){for(const u of c.removedNodes)u instanceof Element&&(r.delete(u),n.delete(u));for(const u of c.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?r.add(u):u instanceof Element&&i(u)}});a.observe(t,{childList:!0,subtree:!0});const s={observe(){a.observe(t,{childList:!0,subtree:!0})},disconnect(){a.disconnect()}};return an.push(s),()=>{a.disconnect();for(const l of n){const c=Lc.get(l);if(c==null)return;c===1?(l.removeAttribute("aria-hidden"),Lc.delete(l)):Lc.set(l,c-1)}s===an[an.length-1]?(an.pop(),an.length&&an[an.length-1].observe()):an.splice(an.indexOf(s),1)}}var e5="interactOutside.pointerDownOutside",t5="interactOutside.focusOutside";function Mse(e,t){let r,n=KG;const i=()=>Zi(t()),o=f=>{var d;return(d=e.onPointerDownOutside)==null?void 0:d.call(e,f)},a=f=>{var d;return(d=e.onFocusOutside)==null?void 0:d.call(e,f)},s=f=>{var d;return(d=e.onInteractOutside)==null?void 0:d.call(e,f)},l=f=>{var h;const d=f.target;return!(d instanceof Element)||d.closest(`[${Bg}]`)||!_o(i(),d)||_o(t(),d)?!1:!((h=e.shouldExcludeElement)!=null&&h.call(e,d))},c=f=>{function d(){const h=t(),p=f.target;if(!h||!p||!l(f))return;const g=dn([o,s]);p.addEventListener(e5,g,{once:!0});const m=new CustomEvent(e5,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,isContextMenu:f.button===2||NG(f)&&f.button===0}});p.dispatchEvent(m)}f.pointerType==="touch"?(i().removeEventListener("click",d),n=d,i().addEventListener("click",d,{once:!0})):d()},u=f=>{const d=t(),h=f.target;if(!d||!h||!l(f))return;const p=dn([a,s]);h.addEventListener(t5,p,{once:!0});const g=new CustomEvent(t5,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,isContextMenu:!1}});h.dispatchEvent(g)};oe(()=>{j(e.isDisabled)||(r=window.setTimeout(()=>{i().addEventListener("pointerdown",c,!0)},0),i().addEventListener("focusin",u,!0),be(()=>{window.clearTimeout(r),i().removeEventListener("click",n),i().removeEventListener("pointerdown",c,!0),i().removeEventListener("focusin",u,!0)}))})}function Ase(e){const t=r=>{var n;r.key===Qx.Escape&&((n=e.onEscapeKeyDown)==null||n.call(e,r))};oe(()=>{var n;if(j(e.isDisabled))return;const r=((n=e.ownerDocument)==null?void 0:n.call(e))??Zi();r.addEventListener("keydown",t),be(()=>{r.removeEventListener("keydown",t)})})}var K8=tn();function Ise(){return rn(K8)}function Pse(e){let t;const r=Ise(),[n,i]=Ae(e,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),o=new Set([]),a=f=>{o.add(f);const d=r==null?void 0:r.registerNestedLayer(f);return()=>{o.delete(f),d==null||d()}};Mse({shouldExcludeElement:f=>{var d;return t?((d=n.excludedElements)==null?void 0:d.some(h=>_o(h(),f)))||[...o].some(h=>_o(h,f)):!1},onPointerDownOutside:f=>{var d,h,p;!t||Hr.isBelowPointerBlockingLayer(t)||!n.bypassTopMostLayerCheck&&!Hr.isTopMostLayer(t)||((d=n.onPointerDownOutside)==null||d.call(n,f),(h=n.onInteractOutside)==null||h.call(n,f),f.defaultPrevented||(p=n.onDismiss)==null||p.call(n))},onFocusOutside:f=>{var d,h,p;(d=n.onFocusOutside)==null||d.call(n,f),(h=n.onInteractOutside)==null||h.call(n,f),f.defaultPrevented||(p=n.onDismiss)==null||p.call(n)}},()=>t),Ase({ownerDocument:()=>Zi(t),onEscapeKeyDown:f=>{var d;!t||!Hr.isTopMostLayer(t)||((d=n.onEscapeKeyDown)==null||d.call(n,f),!f.defaultPrevented&&n.onDismiss&&(f.preventDefault(),n.onDismiss()))}}),Vt(()=>{if(!t)return;Hr.addLayer({node:t,isPointerBlocking:n.disableOutsidePointerEvents,dismiss:n.onDismiss});const f=r==null?void 0:r.registerNestedLayer(t);Hr.assignPointerEventToLayers(),Hr.disableBodyPointerEvents(t),be(()=>{t&&(Hr.removeLayer(t),f==null||f(),Hr.assignPointerEventToLayers(),Hr.restoreBodyPointerEvents(t))})}),oe(hi([()=>t,()=>n.disableOutsidePointerEvents],([f,d])=>{if(!f)return;const h=Hr.find(f);h&&h.isPointerBlocking!==d&&(h.isPointerBlocking=d,Hr.assignPointerEventToLayers()),d&&Hr.disableBodyPointerEvents(f),be(()=>{Hr.restoreBodyPointerEvents(f)})},{defer:!0}));const u={registerNestedLayer:a};return M(K8.Provider,{value:u,get children(){return M(St,ye({as:"div",ref(f){var d=Nr(h=>t=h,n.ref);typeof d=="function"&&d(f)}},i))}})}function _se(e={}){const[t,r]=n8({value:()=>j(e.open),defaultValue:()=>!!j(e.defaultOpen),onChange:a=>{var s;return(s=e.onOpenChange)==null?void 0:s.call(e,a)}}),n=()=>{r(!0)},i=()=>{r(!1)};return{isOpen:t,setIsOpen:r,open:n,close:i,toggle:()=>{t()?i():n()}}}var Yw=(e,t)=>{if(e.contains(t))return!0;let r=t;for(;r;){if(r===e)return!0;r=r._$host??r.parentElement}return!1},Gd=new Map,Dse=e=>{oe(()=>{const t=rr(e.style)??{},r=rr(e.properties)??[],n={};for(const o in t)n[o]=e.element.style[o];const i=Gd.get(e.key);i?i.activeCount++:Gd.set(e.key,{activeCount:1,originalStyles:n,properties:r.map(o=>o.key)}),Object.assign(e.element.style,e.style);for(const o of r)e.element.style.setProperty(o.key,o.value);be(()=>{var a;const o=Gd.get(e.key);if(o){if(o.activeCount!==1){o.activeCount--;return}Gd.delete(e.key);for(const[s,l]of Object.entries(o.originalStyles))e.element.style[s]=l;for(const s of o.properties)e.element.style.removeProperty(s);e.element.style.length===0&&e.element.removeAttribute("style"),(a=e.cleanup)==null||a.call(e)}})})},r5=Dse,Lse=(e,t)=>{switch(t){case"x":return[e.clientWidth,e.scrollLeft,e.scrollWidth];case"y":return[e.clientHeight,e.scrollTop,e.scrollHeight]}},Nse=(e,t)=>{const r=getComputedStyle(e),n=t==="x"?r.overflowX:r.overflowY;return n==="auto"||n==="scroll"||e.tagName==="HTML"&&n==="visible"},Rse=(e,t,r)=>{const n=t==="x"&&window.getComputedStyle(e).direction==="rtl"?-1:1;let i=e,o=0,a=0,s=!1;do{const[l,c,u]=Lse(i,t),f=u-l-n*c;(c!==0||f!==0)&&Nse(i,t)&&(o+=f,a+=c),i===(r??document.documentElement)?s=!0:i=i._$host??i.parentElement}while(i&&!s);return[o,a]},[n5,i5]=Y([]),Fse=e=>n5().indexOf(e)===n5().length-1,jse=e=>{const t=ye({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},e),r=ac();let n=[0,0],i=null,o=null;oe(()=>{rr(t.enabled)&&(i5(c=>[...c,r]),be(()=>{i5(c=>c.filter(u=>u!==r))}))}),oe(()=>{if(!rr(t.enabled)||!rr(t.hideScrollbar))return;const{body:c}=document,u=window.innerWidth-c.offsetWidth;if(rr(t.preventScrollbarShift)){const f={overflow:"hidden"},d=[];u>0&&(rr(t.preventScrollbarShiftMode)==="padding"?f.paddingRight=`calc(${window.getComputedStyle(c).paddingRight} + ${u}px)`:f.marginRight=`calc(${window.getComputedStyle(c).marginRight} + ${u}px)`,d.push({key:"--scrollbar-width",value:`${u}px`}));const h=window.scrollY,p=window.scrollX;r5({key:"prevent-scroll",element:c,style:f,properties:d,cleanup:()=>{rr(t.restoreScrollPosition)&&u>0&&window.scrollTo(p,h)}})}else r5({key:"prevent-scroll",element:c,style:{overflow:"hidden"}})}),oe(()=>{!Fse(r)||!rr(t.enabled)||(document.addEventListener("wheel",s,{passive:!1}),document.addEventListener("touchstart",a,{passive:!1}),document.addEventListener("touchmove",l,{passive:!1}),be(()=>{document.removeEventListener("wheel",s),document.removeEventListener("touchstart",a),document.removeEventListener("touchmove",l)}))});const a=c=>{n=o5(c),i=null,o=null},s=c=>{const u=c.target,f=rr(t.element),d=Bse(c),h=Math.abs(d[0])>Math.abs(d[1])?"x":"y",p=h==="x"?d[0]:d[1],g=a5(u,h,p,f);let m;f&&Yw(f,u)?m=!g:m=!0,m&&c.cancelable&&c.preventDefault()},l=c=>{const u=rr(t.element),f=c.target;let d;if(c.touches.length===2)d=!rr(t.allowPinchZoom);else{if(i==null||o===null){const h=o5(c).map((g,m)=>n[m]-g),p=Math.abs(h[0])>Math.abs(h[1])?"x":"y";i=p,o=p==="x"?h[0]:h[1]}if(f.type==="range")d=!1;else{const h=a5(f,i,o,u);u&&Yw(u,f)?d=!h:d=!0}}d&&c.cancelable&&c.preventDefault()}},Bse=e=>[e.deltaX,e.deltaY],o5=e=>e.changedTouches[0]?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0],a5=(e,t,r,n)=>{const i=n!==null&&Yw(n,e),[o,a]=Rse(e,t,i?n:void 0);return!(r>0&&Math.abs(o)<=1||r<0&&Math.abs(a)<1)},zse=jse,Hse=zse,Use={};Fm(Use,{Arrow:()=>pk,Content:()=>q8,Description:()=>rk,ErrorMessage:()=>nk,HiddenSelect:()=>Y8,Icon:()=>J8,Item:()=>iv,ItemDescription:()=>ov,ItemIndicator:()=>av,ItemLabel:()=>sv,Label:()=>X8,Listbox:()=>Q8,Portal:()=>Z8,Root:()=>e7,Section:()=>lv,Select:()=>lr,Trigger:()=>t7,Value:()=>r7,useSelectContext:()=>ho});var G8=tn();function ho(){const e=rn(G8);if(e===void 0)throw new Error("[kobalte]: `useSelectContext` must be used within a `Select` component");return e}function q8(e){let t;const r=ho(),[n,i]=Ae(e,["ref","style","onCloseAutoFocus","onFocusOutside"]),o=s=>{r.close()},a=s=>{var l;(l=n.onFocusOutside)==null||l.call(n,s),r.isOpen()&&r.isModal()&&s.preventDefault()};return Cse({isDisabled:()=>!(r.isOpen()&&r.isModal()),targets:()=>t?[t]:[]}),Hse({element:()=>t??null,enabled:()=>r.contentPresent()&&r.preventScroll()}),Ose({trapFocus:()=>r.isOpen()&&r.isModal(),onMountAutoFocus:s=>{s.preventDefault()},onUnmountAutoFocus:s=>{var l;(l=n.onCloseAutoFocus)==null||l.call(n,s),s.defaultPrevented||(Mr(r.triggerRef()),s.preventDefault())}},()=>t),M(Tt,{get when(){return r.contentPresent()},get children(){return M(H8.Positioner,{get children(){return M(Pse,ye({ref(s){var l=Nr(c=>{r.setContentRef(c),t=c},n.ref);typeof l=="function"&&l(s)},get disableOutsidePointerEvents(){return pt(()=>!!r.isModal())()&&r.isOpen()},get excludedElements(){return[r.triggerRef]},get style(){return Nm({"--kb-select-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},n.style)},onEscapeKeyDown:o,onFocusOutside:a,get onDismiss(){return r.close}},()=>r.dataset(),i))}})}})}function Y8(e){const t=ho();return M(oae,ye({get collection(){return t.listState().collection()},get selectionManager(){return t.listState().selectionManager()},get isOpen(){return t.isOpen()},get isMultiple(){return t.isMultiple()},get isVirtualized(){return t.isVirtualized()},focusTrigger:()=>{var r;return(r=t.triggerRef())==null?void 0:r.focus()}},e))}function J8(e){const t=ho(),r=rt({children:""},e);return M(St,ye({as:"span","aria-hidden":"true"},()=>t.dataset(),r))}function X8(e){const t=ho(),[r,n]=Ae(e,["onClick"]);return M(l8,ye({as:"span",onClick:o=>{var a;Lt(o,r.onClick),t.isDisabled()||(a=t.triggerRef())==null||a.focus()}},n))}function Q8(e){const t=ho(),r=rt({id:t.generateId("listbox")},e),[n,i]=Ae(r,["ref","id","onKeyDown"]);return oe(()=>be(t.registerListboxId(n.id))),M(ak,ye({ref(a){var s=Nr(t.setListboxRef,n.ref);typeof s=="function"&&s(a)},get id(){return n.id},get state(){return t.listState()},get virtualized(){return t.isVirtualized()},get autoFocus(){return t.autoFocus()},shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,get shouldFocusWrap(){return t.shouldFocusWrap()},get disallowTypeAhead(){return t.disallowTypeAhead()},get"aria-labelledby"(){return t.listboxAriaLabelledBy()},get renderItem(){return t.renderItem},get renderSection(){return t.renderSection},onKeyDown:a=>{Lt(a,n.onKeyDown),a.key==="Escape"&&a.preventDefault()}},i))}function Z8(e){const t=ho();return M(Tt,{get when(){return t.contentPresent()},get children(){return M(Jx,e)}})}function Vse(e){const t=`select-${ac()}`,r=rt({id:t,selectionMode:"single",disallowEmptySelection:!1,closeOnSelection:e.selectionMode==="single",allowDuplicateSelectionEvents:!0,gutter:8,sameWidth:!0,modal:!1},e),[n,i,o,a]=Ae(r,["itemComponent","sectionComponent","open","defaultOpen","onOpenChange","value","defaultValue","onChange","placeholder","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","keyboardDelegate","allowDuplicateSelectionEvents","disallowEmptySelection","closeOnSelection","disallowTypeAhead","shouldFocusWrap","selectionBehavior","selectionMode","virtualized","modal","preventScroll","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"],i8),[s,l]=Y(),[c,u]=Y(),[f,d]=Y(),[h,p]=Y(),[g,m]=Y(),[v,b]=Y(),[y,w]=Y(),[$,x]=Y(!0),O=J=>{const de=n.optionValue;return de==null?String(J):String(Rm(de)?de(J):J[de])},T=me(()=>{const J=n.optionGroupChildren;return J==null?n.options:n.options.flatMap(de=>de[J]??de)}),D=me(()=>T().map(J=>O(J))),L=J=>[...J].map(de=>T().find(q=>O(q)===de)).filter(de=>de!=null),I=_se({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:J=>{var de;return(de=n.onOpenChange)==null?void 0:de.call(n,J)}}),E=T8({selectedKeys:()=>n.value!=null?n.value.map(O):n.value,defaultSelectedKeys:()=>n.defaultValue!=null?n.defaultValue.map(O):n.defaultValue,onSelectionChange:J=>{var de;(de=n.onChange)==null||de.call(n,L(J)),n.closeOnSelection&&A()},allowDuplicateSelectionEvents:()=>j(n.allowDuplicateSelectionEvents),disallowEmptySelection:()=>j(n.disallowEmptySelection),selectionBehavior:()=>j(n.selectionBehavior),selectionMode:()=>n.selectionMode,dataSource:()=>n.options??[],getKey:()=>n.optionValue,getTextValue:()=>n.optionTextValue,getDisabled:()=>n.optionDisabled,getSectionChildren:()=>n.optionGroupChildren}),_=me(()=>L(E.selectionManager().selectedKeys())),k=J=>{E.selectionManager().toggleSelection(O(J))},{present:C}=u8({show:()=>n.forceMount||I.isOpen(),element:()=>g()??null}),S=()=>{const J=v();J&&Mr(J)},P=J=>{if(n.options.length<=0)return;x(J),I.open();let de=E.selectionManager().firstSelectedKey();de==null&&(J==="first"?de=E.collection().getFirstKey():J==="last"&&(de=E.collection().getLastKey())),S(),E.selectionManager().setFocused(!0),E.selectionManager().setFocusedKey(de)},A=()=>{I.close(),E.selectionManager().setFocused(!1),E.selectionManager().setFocusedKey(void 0)},N=J=>{I.isOpen()?A():P(J)},{formControlContext:U}=o8(o);c8(h,()=>{const J=n.defaultValue?[...n.defaultValue].map(O):new ai;E.selectionManager().setSelectedKeys(J)});const V=w8({usage:"search",sensitivity:"base"}),ae=me(()=>{const J=j(n.keyboardDelegate);return J||new C8(E.collection,void 0,V)}),ne=J=>{var de;return(de=n.itemComponent)==null?void 0:de.call(n,{item:J})},pe=J=>{var de;return(de=n.sectionComponent)==null?void 0:de.call(n,{section:J})};oe(hi([D],([J])=>{const q=[...E.selectionManager().selectedKeys()].filter(Q=>J.includes(Q));E.selectionManager().setSelectedKeys(q)},{defer:!0}));const Se=me(()=>({"data-expanded":I.isOpen()?"":void 0,"data-closed":I.isOpen()?void 0:""})),qe={dataset:Se,isOpen:I.isOpen,isDisabled:()=>U.isDisabled()??!1,isMultiple:()=>j(n.selectionMode)==="multiple",isVirtualized:()=>n.virtualized??!1,isModal:()=>n.modal??!1,preventScroll:()=>n.preventScroll??qe.isModal(),disallowTypeAhead:()=>n.disallowTypeAhead??!1,shouldFocusWrap:()=>n.shouldFocusWrap??!1,selectedOptions:_,contentPresent:C,autoFocus:$,triggerRef:h,listState:()=>E,keyboardDelegate:ae,triggerId:s,valueId:c,listboxId:f,listboxAriaLabelledBy:y,setListboxAriaLabelledBy:w,setTriggerRef:p,setContentRef:m,setListboxRef:b,open:P,close:A,toggle:N,placeholder:()=>n.placeholder,renderItem:ne,renderSection:pe,removeOptionFromSelection:k,generateId:Df(()=>j(o.id)),registerTriggerId:Vi(l),registerValueId:Vi(u),registerListboxId:Vi(d)};return M(tk.Provider,{value:U,get children(){return M(G8.Provider,{value:qe,get children(){return M(H8,ye({anchorRef:h,contentRef:g},i,{get children(){return M(St,ye({as:"div",role:"group",get id(){return j(o.id)}},()=>U.dataset(),Se,a))}}))}})}})}function e7(e){const[t,r]=Ae(e,["value","defaultValue","onChange","multiple"]),n=me(()=>t.value!=null?t.multiple?t.value:[t.value]:t.value),i=me(()=>t.defaultValue!=null?t.multiple?t.defaultValue:[t.defaultValue]:t.defaultValue);return M(Vse,ye({get value(){return n()},get defaultValue(){return i()},onChange:a=>{var s,l;t.multiple?(s=t.onChange)==null||s.call(t,a??[]):(l=t.onChange)==null||l.call(t,a[0]??null)},get selectionMode(){return t.multiple?"multiple":"single"}},r))}function t7(e){const t=ki(),r=ho(),n=rt({id:r.generateId("trigger")},e),[i,o,a]=Ae(n,["ref","disabled","onPointerDown","onClick","onKeyDown","onFocus","onBlur"],a8),s=()=>r.listState().selectionManager(),l=()=>r.keyboardDelegate(),c=()=>i.disabled||r.isDisabled(),{fieldProps:u}=s8(o),{typeSelectHandlers:f}=O8({keyboardDelegate:l,selectionManager:s,onTypeSelect:b=>s().select(b)}),d=()=>[r.listboxAriaLabelledBy(),r.valueId()].filter(Boolean).join(" ")||void 0,h=b=>{Lt(b,i.onPointerDown),b.currentTarget.dataset.pointerType=b.pointerType,!c()&&b.pointerType!=="touch"&&b.button===0&&(b.preventDefault(),r.toggle(!0))},p=b=>{Lt(b,i.onClick),!c()&&b.currentTarget.dataset.pointerType==="touch"&&r.toggle(!0)},g=b=>{var y,w,$,x,O,T,D,L;if(Lt(b,i.onKeyDown),!c())switch(Lt(b,f.onKeyDown),b.key){case"Enter":case" ":case"ArrowDown":b.stopPropagation(),b.preventDefault(),r.toggle("first");break;case"ArrowUp":b.stopPropagation(),b.preventDefault(),r.toggle("last");break;case"ArrowLeft":{if(b.preventDefault(),r.isMultiple())return;const I=s().firstSelectedKey(),E=I!=null?(w=(y=l()).getKeyAbove)==null?void 0:w.call(y,I):(x=($=l()).getFirstKey)==null?void 0:x.call($);E!=null&&s().select(E);break}case"ArrowRight":{if(b.preventDefault(),r.isMultiple())return;const I=s().firstSelectedKey(),E=I!=null?(T=(O=l()).getKeyBelow)==null?void 0:T.call(O,I):(L=(D=l()).getFirstKey)==null?void 0:L.call(D);E!=null&&s().select(E);break}}},m=b=>{Lt(b,i.onFocus),!s().isFocused()&&s().setFocused(!0)},v=b=>{Lt(b,i.onBlur),!r.isOpen()&&s().setFocused(!1)};return oe(()=>be(r.registerTriggerId(u.id()))),oe(()=>{r.setListboxAriaLabelledBy([u.ariaLabelledBy(),u.ariaLabel()&&!u.ariaLabelledBy()?u.id():null].filter(Boolean).join(" ")||void 0)}),M(nS,ye({ref(b){var y=Nr(r.setTriggerRef,i.ref);typeof y=="function"&&y(b)},get id(){return u.id()},get disabled(){return c()},"aria-haspopup":"listbox",get"aria-expanded"(){return r.isOpen()},get"aria-controls"(){return pt(()=>!!r.isOpen())()?r.listboxId():void 0},get"aria-label"(){return u.ariaLabel()},get"aria-labelledby"(){return d()},get"aria-describedby"(){return u.ariaDescribedBy()},onPointerDown:h,onClick:p,onKeyDown:g,onFocus:m,onBlur:v},()=>r.dataset(),()=>t.dataset(),a))}function r7(e){const t=ki(),r=ho(),n=rt({id:r.generateId("value")},e),[i,o]=Ae(n,["id","children"]),a=()=>r.listState().selectionManager(),s=()=>{const l=a().selectedKeys();return l.size===1&&l.has("")?!0:a().isEmpty()};return oe(()=>be(r.registerValueId(i.id))),M(St,ye({as:"span",get id(){return i.id},get"data-placeholder-shown"(){return s()?"":void 0}},()=>t.dataset(),o,{get children(){return M(Tt,{get when(){return!s()},get fallback(){return r.placeholder()},get children(){return M(Wse,{state:{selectedOption:()=>r.selectedOptions()[0],selectedOptions:()=>r.selectedOptions(),remove:l=>r.removeOptionFromSelection(l),clear:()=>a().clearSelection()},get children(){return i.children}})}})}}))}function Wse(e){const t=_m(()=>{const r=e.children;return Rm(r)?r(e.state):r});return pt(t)}var lr=Object.assign(e7,{Arrow:pk,Content:q8,Description:rk,ErrorMessage:nk,HiddenSelect:Y8,Icon:J8,Item:iv,ItemDescription:ov,ItemIndicator:av,ItemLabel:sv,Label:X8,Listbox:Q8,Portal:Z8,Section:lv,Trigger:t7,Value:r7}),Kse=W('<svg><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m8 9l4-4l4 4m0 6l-4 4l-4-4"></svg>',!1,!0,!1),Gse=W('<svg xmlns=http://www.w3.org/2000/svg class="h-4 w-4"viewBox="0 0 24 24"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m5 12l5 5L20 7"></path><title>Checked');const qse=lr,Yse=lr.Value;lr.Description;lr.ErrorMessage;lr.ItemDescription;lr.HiddenSelect;lr.Section;const Jse=e=>{const[t,r]=Ae(e,["class","children"]);return M(lr.Trigger,ye({get class(){return _f("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background transition-shadow placeholder:text-muted-foreground focus:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t.class)}},r,{get children(){return[pt(()=>t.children),M(lr.Icon,{as:"svg",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"flex size-4 items-center justify-center opacity-50",get children(){return Kse()}})]}}))},Xse=e=>{const[t,r]=Ae(e,["class"]);return M(lr.Portal,{get children(){return M(lr.Content,ye({get class(){return _f("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[expanded]:animate-in data-[closed]:animate-out data-[closed]:fade-out-0 data-[expanded]:fade-in-0 data-[closed]:zoom-out-95 data-[expanded]:zoom-in-95",t.class)}},r,{get children(){return M(lr.Listbox,{class:"p-1 focus-visible:outline-none"})}}))}})},Qse=e=>{const[t,r]=Ae(e,["class","children"]);return M(lr.Item,ye({get class(){return _f("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50  divide-accent divide-2",t.class)}},r,{get children(){return[M(lr.ItemIndicator,{class:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",get children(){return Gse()}}),M(lr.ItemLabel,{get children(){return t.children}})]}}))};var s5=W("<div contenteditable>"),Zse=W("<div class=relative>"),ele=W('<div class="badge-selection-menu absolute z-50 border border-border rounded-md p-2 flex items-center justify-center cursor-pointer bg-background"><div class="flex flex-col divide-accent divide-2">'),tle=W('<div class="px-4 py-2 hover:bg-accent rounded-md">'),rle=W('<div class="badge border-2 rounded-md px-2 py-1 font-semibold flex items-center justify-center cursor-pointer">'),nle=W('<div><div class="relative overflow-x-auto p-2"><div class="pb-4 flex space-x-4 justify-between"><div class="flex space-x-2 columnSelection"><button class="cursor-pointer px-4 py-1 border border-border hover:bg-red-500 w-fit">'),ile=W('<table class="overflow-x-auto w-full text-sm text-left rtl:text-right text-foreground border border-border">'),ole=W("<tbody class>"),ale=W('<thead class="text-xs uppercase bg-background text-foreground">'),sle=W('<tr class="px-6 py-4 font-medium whitespace-nowrap text-foreground divide-x-1 divide-border">'),lle=W('<th class><div class="px-6 py-4 flex items-center w-full cursor-pointer hover:bg-red-400">'),cle=W('<tr class="px-6 py-4 font-medium whitespace-nowrap text-foreground border-t border-border divide-x-1 divide-border hover:bg-accent ">'),n7=W('<td class="px-6 py-4">'),ule=W('<td class="px-6 py-4 cursor-pointer hover:bg-red-400">'),fle=W('<div class="flex flex-row items-center justify-between pt-4 "><span class="text-md font-normal text-foreground mb-4 md:mb-0 block w-full md:inline md:w-auto">Showing <span class="font-semibold text-foreground">1-10</span> of <span class="font-semibold text-foreground">1000</span></span><div class="flex divide-x-1 divide-border"><button class="cursor-pointer hover:bg-muted border-y border-l border-border px-4">first</button><button class="cursor-pointer hover:bg-muted border-y border-r border-border px-4">last'),dle=W('<button class="cursor-pointer hover:bg-muted px-4 py-1 border-y border-border">'),hle=W('<div class="flex px-4 py-1 border border-border items-center"><input type=text name placeholder="filter here"id class=pl-4>');const i7=e=>{nv(e,e.is_child,{tags:["input"],classes:["columnSelection"]});const[t,r]=Y("none"),[n,i]=Y({x:0,y:0}),o=(u,f)=>{let d=e.columns.find(g=>g.key===u)??su.String;const p=typeof f=="object"&&f!==null&&"type"in f&&"label"in f?c(f.type,f.label):null;return M(sc,{get children(){return[M(Fe,{get when(){return d.typeDef===su.String},get children(){var g=s5();return B(g,f),g}}),M(Fe,{get when(){return d.typeDef===su.Number},get children(){var g=s5();return B(g,f),g}}),M(Fe,{get when(){return d.typeDef===su.Badge},get children(){var g=Zse();return B(g,M(s,{type:u,get text(){return p.label},get color(){return p.color}})),g}})]}})},a=u=>(()=>{var f=ele(),d=f.firstChild;return B(d,M(yt,{get each(){return l[u.type]},children:h=>(()=>{var p=tle();return p.$$click=g=>{g.preventDefault(),console.log("000000000000000000000000000000000"),console.log("000000000000000000000000000000000"),console.log("000000000000000000000000000000000"),console.log("000000000000000000000000000000000"),r("none")},B(p,M(s,{get type(){return u.type},get text(){return h.label},get color(){return h.color}})),p})()})),ee(h=>{var p=n().x+"px",g=n().y+"px";return p!==h.e&&Z(f,"top",h.e=p),g!==h.t&&Z(f,"left",h.t=g),h},{e:void 0,t:void 0}),f})(),s=u=>(()=>{var f=rle();return f.$$click=d=>{i({x:d.currentTarget.getBoundingClientRect().top-e.y-10,y:d.currentTarget.getBoundingClientRect().left-e.x-68}),r(u.type)},B(f,()=>u.text),ee(d=>{var h=u.color+"70",p=u.color;return h!==d.e&&Z(f,"background",d.e=h),p!==d.t&&Z(f,"border-color",d.t=p),d},{e:void 0,t:void 0}),f})(),l={status:[{id:"badge_0",label:"todo",color:"#999999"},{id:"badge_1",label:"in-progress",color:"#007bff"},{id:"badge_2",label:"done",color:"#28a745"},{id:"badge_3",label:"cancelled",color:"#dc3545"}],priority:[{id:"badge_4",label:"low",color:"#28a745"},{id:"badge_5",label:"medium",color:"#ffc107"},{id:"badge_6",label:"high",color:"#dc3545"}],label:[{id:"badge_7",label:"bug",color:"#e74c3c"},{id:"badge_8",label:"feature",color:"#2980b9"},{id:"badge_9",label:"enhancement",color:"#2ecc71"}]},c=(u,f)=>{const d=l[u].find(h=>h.label===f);return d||{id:"none",label:"unknown",color:"#ffffff"}};return(()=>{var u=nle(),f=u.firstChild,d=f.firstChild,h=d.firstChild,p=h.firstChild;return u.$$click=g=>{g.target.closest(".badge, .badge-selection-menu")||r("none")},u.addEventListener("mouseleave",()=>r("none")),B(u,M(yt,{get each(){return Object.entries(l)},children:([g,m])=>M(Tt,{get when(){return t()===g},get children(){return M(a,{type:g})}})}),f),B(d,M(Sle,{}),h),B(h,M(qse,{class:"rounded-none cursor-pointer",options:["Apple","Banana","Blueberry","Grapes","Pineapple"],placeholder:"Column filter",itemComponent:g=>M(Qse,{get item(){return g.item},get children(){return g.item.rawValue}}),get children(){return[M(Jse,{class:"",get children(){return M(Yse,{children:g=>g.selectedOption()})}}),M(Xse,{})]}}),p),B(p,M(gq,{size:16})),B(f,M(ple,{get children(){return[M(mle,{get children(){return M(vle,{get children(){return[M(Wb,{get children(){return M(l5,{})}}),M(yt,{get each(){return e.columns},children:g=>M(ble,{get children(){return g.title}})}),M(Wb,{children:" "})]}})}}),M(gle,{get children(){return M(yt,{get each(){return e.rows},children:g=>M(yle,{get children(){return[M(Wb,{get children(){return M(l5,{})}}),pt(()=>Object.entries(g).map(([m,v])=>M($le,{get children(){return o(m,v)}}))),M(wle,{get children(){return M(hq,{})}})]}})})}})]}}),null),B(f,M(xle,{}),null),u})()},ple=e=>(()=>{var t=ile();return B(t,()=>e.children),t})(),gle=e=>(()=>{var t=ole();return B(t,()=>e.children),t})(),mle=e=>(()=>{var t=ale();return B(t,()=>e.children),t})(),vle=e=>(()=>{var t=sle();return B(t,()=>e.children),t})(),ble=e=>(()=>{var t=lle(),r=t.firstChild;return B(r,()=>e.children,null),B(r,M(Eq,{class:"ml-2",size:16}),null),t})(),yle=e=>(()=>{var t=cle();return B(t,()=>e.children),t})(),$le=e=>(()=>{var t=n7();return B(t,()=>e.children),t})(),wle=e=>(()=>{var t=ule();return B(t,()=>e.children),t})(),Wb=e=>(()=>{var t=n7();return B(t,()=>e.children),t})(),xle=()=>(()=>{var e=fle(),t=e.firstChild,r=t.nextSibling,n=r.firstChild,i=n.nextSibling;return B(r,M(yt,{each:[1,2,3,4,5],children:o=>(()=>{var a=dle();return a.classList.toggle("bg-secondary",o===1),B(a,o),a})()}),i),e})(),Sle=()=>(()=>{var e=hle(),t=e.firstChild;return B(e,M(pq,{class:"text-foreground"}),t),e})(),l5=()=>M(zoe,{class:"flex items-center space-x-2",get children(){return M(Hoe,{})}});Ct(["click"]);var kle=W("<div><img>");const o7=e=>{const[t,r]=Y("");return Vt(async()=>{try{const n=await EL(e.path,{baseDir:Ir.Document}),i=btoa(Array.from(n).map(o=>String.fromCharCode(o)).join(""));r(`data:image/png;base64,${i}`)}catch(n){console.error("Failed to load image:",n),r("https://placehold.net/800x600.png")}}),(()=>{var n=kle(),i=n.firstChild;return Z(i,"width","100%"),ee(o=>{var a=t(),s=e.path;return a!==o.e&&z(i,"src",o.e=a),s!==o.t&&z(i,"alt",o.t=s),o},{e:void 0,t:void 0}),n})()};function Ole(e,t){const[r,n]=Y(e),i=o=>{o.preventDefault();const a=o.clientX,s=r(),l=u=>{const f=s+(u.clientX-a);n(Math.max(300,f))},c=()=>{window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",c),t&&(n(Math.round(r()/10)*10),t(r()))};window.addEventListener("pointermove",l),window.addEventListener("pointerup",c)};return be(()=>{window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",i)}),{width:r,setWidth:n,startResize:i}}var Tle=W('<div class="z-50 resize_handle cursor-pointer absolute bottom-0 right-0 aspect-square hover:bg-background/40 border border-transparent hover:border-border opacity-0 group-hover/resize:opacity-100 pointer-events-none group-hover/resize:pointer-events-auto transition-all duration-200 ease-in-out">');const Cle=e=>(()=>{var t=Tle();return sa(t,"pointerdown",e.startResizeFunction,!0),B(t,M(cq,{size:16})),t})();Ct(["pointerdown"]);var Ele=W('<div class="top_strip absolute top-0 left-0 h-1 w-full">'),Mle=W("<div>");const Ale=e=>{const t=(()=>{switch(e){case ie.Column:return{classes:["collapse_icon","titleHandle"]};case ie.Note:return{tags:["button"],ids:["editor"]};case ie.Todo:return{classes:["taskitem","taskitem-text","checkbox-check","tasklist_handle","sortable"]};case ie.Table:return{tags:["input"],classes:["columnSelection"]};case ie.Activity:return{classes:["activityCell","ch-subdomain-bg","activityChangers"]};default:return{}}})();return{...t,classes:Array.from(new Set([...t.classes??[],"resize_handle"]))}},a7=e=>{var o;const{startDrag:t}=nv(e.node,e.isChildNode,Ale(e.node.type)),r=e.node.type===ie.Color?150:((o=F.nodes[Rr()].find(a=>a.id===e.node.id))==null?void 0:o.width)??void 0,{width:n,startResize:i}=Ole(r,a=>{oY(e.node.id,a)});return(()=>{var a=Mle();return sa(a,"pointerdown",t,!0),B(a,M(Tt,{get when(){return e.node.top_strip_color},get children(){var s=Ele();return ee(l=>Z(s,"background",e.node.top_strip_color)),s}}),null),B(a,()=>e.children,null),B(a,M(Tt,{get when(){return!e.isChildNode},get children(){return M(Cle,{startResizeFunction:i})}}),null),ee(s=>{var l=`${e.node.type.toLowerCase()}`,c={child_node:e.isChildNode,"node group/resize":!e.isChildNode,selected_node:F.selectedNodes.has(e.node.id),"group/collapse ":e.node.type===ie.Column,"flex flex-col justify-center items-center":e.node.type===ie.Board,"flex flex-row justify-start p-2 pl-2.5":e.node.type===ie.Board&&e.isChildNode},u=e.node.id,f=e.isChildNode?"100%":n()?`${n()}px`:"fit-content",d=e.node.color,h=e.node.zIndex,p=`translate3d(${e.node.x}px, ${e.node.y}px, 0)`,g=e.node.textColor??"var(--color-foreground)";return l!==s.e&&Lr(a,s.e=l),s.t=Ha(a,c,s.t),u!==s.a&&z(a,"id",s.a=u),f!==s.o&&Z(a,"width",s.o=f),d!==s.i&&Z(a,"background",s.i=d),h!==s.n&&Z(a,"z-index",s.n=h),p!==s.s&&Z(a,"transform",s.s=p),g!==s.h&&Z(a,"color",s.h=g),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),a})()};Ct(["pointerdown"]);var Ile=W('<div><div class="aspect-5/4 w-full p-5"></div><div class="p-5 text-xs">by default is color name here, editable \\');const s7=e=>(()=>{var t=Ile(),r=t.firstChild,n=r.nextSibling;return n.firstChild,B(r,()=>e.colorValue),B(n,()=>e.text,null),ee(i=>Z(r,"background",e.colorValue)),t})(),Ple="modulepreload",_le=function(e){return"/"+e},c5={},Dle=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=a(r.map(c=>{if(c=_le(c),c in c5)return;c5[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Ple,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};var Jw="http://www.w3.org/1999/xhtml";const u5={svg:"http://www.w3.org/2000/svg",xhtml:Jw,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hv(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),u5.hasOwnProperty(t)?{space:u5[t],local:e}:e}function Lle(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Jw&&t.documentElement.namespaceURI===Jw?t.createElement(e):t.createElementNS(r,e)}}function Nle(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l7(e){var t=hv(e);return(t.local?Nle:Lle)(t)}function Rle(){}function mk(e){return e==null?Rle:function(){return this.querySelector(e)}}function Fle(e){typeof e!="function"&&(e=mk(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Zr(n,this._parents)}function jle(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ble(){return[]}function c7(e){return e==null?Ble:function(){return this.querySelectorAll(e)}}function zle(e){return function(){return jle(e.apply(this,arguments))}}function Hle(e){typeof e=="function"?e=zle(e):e=c7(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var a=t[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(n.push(e.call(l,l.__data__,c,a)),i.push(l));return new Zr(n,i)}function u7(e){return function(){return this.matches(e)}}function f7(e){return function(t){return t.matches(e)}}var Ule=Array.prototype.find;function Vle(e){return function(){return Ule.call(this.children,e)}}function Wle(){return this.firstElementChild}function Kle(e){return this.select(e==null?Wle:Vle(typeof e=="function"?e:f7(e)))}var Gle=Array.prototype.filter;function qle(){return Array.from(this.children)}function Yle(e){return function(){return Gle.call(this.children,e)}}function Jle(e){return this.selectAll(e==null?qle:Yle(typeof e=="function"?e:f7(e)))}function Xle(e){typeof e!="function"&&(e=u7(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new Zr(n,this._parents)}function d7(e){return new Array(e.length)}function Qle(){return new Zr(this._enter||this._groups.map(d7),this._parents)}function zg(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}zg.prototype={constructor:zg,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Zle(e){return function(){return e}}function ece(e,t,r,n,i,o){for(var a=0,s,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],n[a]=s):r[a]=new zg(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function tce(e,t,r,n,i,o,a){var s,l,c=new Map,u=t.length,f=o.length,d=new Array(u),h;for(s=0;s<u;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",c.has(h)?i[s]=l:c.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=c.get(h))?(n[s]=l,l.__data__=o[s],c.delete(h)):r[s]=new zg(e,o[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(d[s])===l&&(i[s]=l)}function rce(e){return e.__data__}function nce(e,t){if(!arguments.length)return Array.from(this,rce);var r=t?tce:ece,n=this._parents,i=this._groups;typeof e!="function"&&(e=Zle(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=n[c],f=i[c],d=f.length,h=ice(e.call(u,u&&u.__data__,c,n)),p=h.length,g=s[c]=new Array(p),m=a[c]=new Array(p),v=l[c]=new Array(d);r(u,f,g,m,v,h,t);for(var b=0,y=0,w,$;b<p;++b)if(w=g[b]){for(b>=y&&(y=b+1);!($=m[y])&&++y<p;);w._next=$||null}}return a=new Zr(a,n),a._enter=s,a._exit=l,a}function ice(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oce(){return new Zr(this._exit||this._groups.map(d7),this._parents)}function ace(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function sce(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=r[l],u=n[l],f=c.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=c[p]||u[p])&&(d[p]=h);for(;l<i;++l)s[l]=r[l];return new Zr(s,this._parents)}function lce(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],a;--i>=0;)(a=n[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function cce(e){e||(e=uce);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a=r[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(t)}return new Zr(i,this._parents).order()}function uce(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function fce(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function dce(){return Array.from(this)}function hce(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function pce(){let e=0;for(const t of this)++e;return e}function gce(){return!this.node()}function mce(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function vce(e){return function(){this.removeAttribute(e)}}function bce(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yce(e,t){return function(){this.setAttribute(e,t)}}function $ce(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function wce(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function xce(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Sce(e,t){var r=hv(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?bce:vce:typeof t=="function"?r.local?xce:wce:r.local?$ce:yce)(r,t))}function h7(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kce(e){return function(){this.style.removeProperty(e)}}function Oce(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Tce(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Cce(e,t,r){return arguments.length>1?this.each((t==null?kce:typeof t=="function"?Tce:Oce)(e,t,r??"")):Kl(this.node(),e)}function Kl(e,t){return e.style.getPropertyValue(t)||h7(e).getComputedStyle(e,null).getPropertyValue(t)}function Ece(e){return function(){delete this[e]}}function Mce(e,t){return function(){this[e]=t}}function Ace(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Ice(e,t){return arguments.length>1?this.each((t==null?Ece:typeof t=="function"?Ace:Mce)(e,t)):this.node()[e]}function p7(e){return e.trim().split(/^|\s+/)}function vk(e){return e.classList||new g7(e)}function g7(e){this._node=e,this._names=p7(e.getAttribute("class")||"")}g7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function m7(e,t){for(var r=vk(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function v7(e,t){for(var r=vk(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Pce(e){return function(){m7(this,e)}}function _ce(e){return function(){v7(this,e)}}function Dce(e,t){return function(){(t.apply(this,arguments)?m7:v7)(this,e)}}function Lce(e,t){var r=p7(e+"");if(arguments.length<2){for(var n=vk(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Dce:t?Pce:_ce)(r,t))}function Nce(){this.textContent=""}function Rce(e){return function(){this.textContent=e}}function Fce(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function jce(e){return arguments.length?this.each(e==null?Nce:(typeof e=="function"?Fce:Rce)(e)):this.node().textContent}function Bce(){this.innerHTML=""}function zce(e){return function(){this.innerHTML=e}}function Hce(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Uce(e){return arguments.length?this.each(e==null?Bce:(typeof e=="function"?Hce:zce)(e)):this.node().innerHTML}function Vce(){this.nextSibling&&this.parentNode.appendChild(this)}function Wce(){return this.each(Vce)}function Kce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gce(){return this.each(Kce)}function qce(e){var t=typeof e=="function"?e:l7(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Yce(){return null}function Jce(e,t){var r=typeof e=="function"?e:l7(e),n=t==null?Yce:typeof t=="function"?t:mk(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Xce(){var e=this.parentNode;e&&e.removeChild(this)}function Qce(){return this.each(Xce)}function Zce(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eue(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tue(e){return this.select(e?eue:Zce)}function rue(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nue(e){return function(t){e.call(this,t,this.__data__)}}function iue(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function oue(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function aue(e,t,r){return function(){var n=this.__on,i,o=nue(t);if(n){for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function sue(e,t,r){var n=iue(e+""),i,o=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=n[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=t?aue:oue,i=0;i<o;++i)this.each(s(n[i],t,r));return this}function b7(e,t,r){var n=h7(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function lue(e,t){return function(){return b7(this,e,t)}}function cue(e,t){return function(){return b7(this,e,t.apply(this,arguments))}}function uue(e,t){return this.each((typeof t=="function"?cue:lue)(e,t))}function*fue(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,a;i<o;++i)(a=n[i])&&(yield a)}var y7=[null];function Zr(e,t){this._groups=e,this._parents=t}function Uf(){return new Zr([[document.documentElement]],y7)}function due(){return this}Zr.prototype=Uf.prototype={constructor:Zr,select:Fle,selectAll:Hle,selectChild:Kle,selectChildren:Jle,filter:Xle,data:nce,enter:Qle,exit:oce,join:ace,merge:sce,selection:due,order:lce,sort:cce,call:fce,nodes:dce,node:hce,size:pce,empty:gce,each:mce,attr:Sce,style:Cce,property:Ice,classed:Lce,text:jce,html:Uce,raise:Wce,lower:Gce,append:qce,insert:Jce,remove:Qce,clone:tue,datum:rue,on:sue,dispatch:uue,[Symbol.iterator]:fue};function Hg(e){return typeof e=="string"?new Zr([[document.querySelector(e)]],[document.documentElement]):new Zr([[e]],y7)}function hc(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Vf(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fa(){}var is=.7,Gl=1/is,Pl="\\s*([+-]?\\d+)\\s*",gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hue=/^#([0-9a-f]{3,8})$/,pue=new RegExp(`^rgb\\(${Pl},${Pl},${Pl}\\)$`),gue=new RegExp(`^rgb\\(${ui},${ui},${ui}\\)$`),mue=new RegExp(`^rgba\\(${Pl},${Pl},${Pl},${gf}\\)$`),vue=new RegExp(`^rgba\\(${ui},${ui},${ui},${gf}\\)$`),bue=new RegExp(`^hsl\\(${gf},${ui},${ui}\\)$`),yue=new RegExp(`^hsla\\(${gf},${ui},${ui},${gf}\\)$`),f5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hc(fa,as,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:d5,formatHex:d5,formatHex8:$ue,formatHsl:wue,formatRgb:h5,toString:h5});function d5(){return this.rgb().formatHex()}function $ue(){return this.rgb().formatHex8()}function wue(){return $7(this).formatHsl()}function h5(){return this.rgb().formatRgb()}function as(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?p5(t):r===3?new jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pue.exec(e))?new jt(t[1],t[2],t[3],1):(t=gue.exec(e))?new jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mue.exec(e))?qd(t[1],t[2],t[3],t[4]):(t=vue.exec(e))?qd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bue.exec(e))?v5(t[1],t[2]/100,t[3]/100,1):(t=yue.exec(e))?v5(t[1],t[2]/100,t[3]/100,t[4]):f5.hasOwnProperty(e)?p5(f5[e]):e==="transparent"?new jt(NaN,NaN,NaN,0):null}function p5(e){return new jt(e>>16&255,e>>8&255,e&255,1)}function qd(e,t,r,n){return n<=0&&(e=t=r=NaN),new jt(e,t,r,n)}function bk(e){return e instanceof fa||(e=as(e)),e?(e=e.rgb(),new jt(e.r,e.g,e.b,e.opacity)):new jt}function mf(e,t,r,n){return arguments.length===1?bk(e):new jt(e,t,r,n??1)}function jt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hc(jt,mf,Vf(fa,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?is:Math.pow(is,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jt(Ya(this.r),Ya(this.g),Ya(this.b),Ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:g5,formatHex:g5,formatHex8:xue,formatRgb:m5,toString:m5}));function g5(){return`#${za(this.r)}${za(this.g)}${za(this.b)}`}function xue(){return`#${za(this.r)}${za(this.g)}${za(this.b)}${za((isNaN(this.opacity)?1:this.opacity)*255)}`}function m5(){const e=Ug(this.opacity);return`${e===1?"rgb(":"rgba("}${Ya(this.r)}, ${Ya(this.g)}, ${Ya(this.b)}${e===1?")":`, ${e})`}`}function Ug(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ya(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function za(e){return e=Ya(e),(e<16?"0":"")+e.toString(16)}function v5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rn(e,t,r,n)}function $7(e){if(e instanceof Rn)return new Rn(e.h,e.s,e.l,e.opacity);if(e instanceof fa||(e=as(e)),!e)return new Rn;if(e instanceof Rn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-t)/s+2:a=(t-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Rn(a,s,l,e.opacity)}function Xw(e,t,r,n){return arguments.length===1?$7(e):new Rn(e,t,r,n??1)}function Rn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hc(Rn,Xw,Vf(fa,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new Rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?is:Math.pow(is,e),new Rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new jt(Kb(e>=240?e-240:e+120,i,n),Kb(e,i,n),Kb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Rn(b5(this.h),Yd(this.s),Yd(this.l),Ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ug(this.opacity);return`${e===1?"hsl(":"hsla("}${b5(this.h)}, ${Yd(this.s)*100}%, ${Yd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function b5(e){return e=(e||0)%360,e<0?e+360:e}function Yd(e){return Math.max(0,Math.min(1,e||0))}function Kb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const w7=Math.PI/180,x7=180/Math.PI,Vg=18,S7=.96422,k7=1,O7=.82521,T7=4/29,_l=6/29,C7=3*_l*_l,Sue=_l*_l*_l;function E7(e){if(e instanceof fi)return new fi(e.l,e.a,e.b,e.opacity);if(e instanceof Ki)return M7(e);e instanceof jt||(e=bk(e));var t=Jb(e.r),r=Jb(e.g),n=Jb(e.b),i=Gb((.2225045*t+.7168786*r+.0606169*n)/k7),o,a;return t===r&&r===n?o=a=i:(o=Gb((.4360747*t+.3850649*r+.1430804*n)/S7),a=Gb((.0139322*t+.0971045*r+.7141733*n)/O7)),new fi(116*i-16,500*(o-i),200*(i-a),e.opacity)}function Qw(e,t,r,n){return arguments.length===1?E7(e):new fi(e,t,r,n??1)}function fi(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}hc(fi,Qw,Vf(fa,{brighter(e){return new fi(this.l+Vg*(e??1),this.a,this.b,this.opacity)},darker(e){return new fi(this.l-Vg*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=S7*qb(t),e=k7*qb(e),r=O7*qb(r),new jt(Yb(3.1338561*t-1.6168667*e-.4906146*r),Yb(-.9787684*t+1.9161415*e+.033454*r),Yb(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function Gb(e){return e>Sue?Math.pow(e,1/3):e/C7+T7}function qb(e){return e>_l?e*e*e:C7*(e-T7)}function Yb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Jb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function kue(e){if(e instanceof Ki)return new Ki(e.h,e.c,e.l,e.opacity);if(e instanceof fi||(e=E7(e)),e.a===0&&e.b===0)return new Ki(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*x7;return new Ki(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Wg(e,t,r,n){return arguments.length===1?kue(e):new Ki(e,t,r,n??1)}function Ki(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function M7(e){if(isNaN(e.h))return new fi(e.l,0,0,e.opacity);var t=e.h*w7;return new fi(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}hc(Ki,Wg,Vf(fa,{brighter(e){return new Ki(this.h,this.c,this.l+Vg*(e??1),this.opacity)},darker(e){return new Ki(this.h,this.c,this.l-Vg*(e??1),this.opacity)},rgb(){return M7(this).rgb()}}));var A7=-.14861,yk=1.78277,$k=-.29227,pv=-.90649,vf=1.97294,y5=vf*pv,$5=vf*yk,w5=yk*$k-pv*A7;function Oue(e){if(e instanceof Ja)return new Ja(e.h,e.s,e.l,e.opacity);e instanceof jt||(e=bk(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(w5*n+y5*t-$5*r)/(w5+y5-$5),o=n-i,a=(vf*(r-i)-$k*o)/pv,s=Math.sqrt(a*a+o*o)/(vf*i*(1-i)),l=s?Math.atan2(a,o)*x7-120:NaN;return new Ja(l<0?l+360:l,s,i,e.opacity)}function vi(e,t,r,n){return arguments.length===1?Oue(e):new Ja(e,t,r,n??1)}function Ja(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hc(Ja,vi,Vf(fa,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new Ja(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?is:Math.pow(is,e),new Ja(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*w7,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new jt(255*(t+r*(A7*n+yk*i)),255*(t+r*($k*n+pv*i)),255*(t+r*(vf*n)),this.opacity)}}));function Yo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gv(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wk(e){let t,r,n;e.length!==2?(t=Yo,r=(s,l)=>Yo(e(s),l),n=(s,l)=>e(s)-l):(t=e===Yo||e===gv?e:Tue,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Tue(){return 0}function I7(e){return e===null?NaN:+e}function*Cue(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const Eue=wk(Yo),xk=Eue.right;wk(I7).center;function Sk(e,t){let r,n;for(const i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));return[r,n]}class x5 extends Map{constructor(t,r=D7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Zw(this,t))}has(t){return super.has(Zw(this,t))}set(t,r){return super.set(P7(this,t),r)}delete(t){return super.delete(_7(this,t))}}class Mue extends Set{constructor(t,r=D7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(Zw(this,t))}add(t){return super.add(P7(this,t))}delete(t){return super.delete(_7(this,t))}}function Zw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function P7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function D7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Aue(e,t){return Array.from(t,r=>e[r])}function Iue(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){const n=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),n.sort((i,o)=>{for(const a of t){const s=Kg(a[i],a[o]);if(s)return s}})):(r=e.map(r),n.sort((i,o)=>Kg(r[i],r[o]))),Aue(e,n)}return e.sort(L7(r))}function L7(e=Yo){if(e===Yo)return Kg;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Kg(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Pue=Math.sqrt(50),_ue=Math.sqrt(10),Due=Math.sqrt(2);function Gg(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=Pue?10:o>=_ue?5:o>=Due?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Gg(e,t,r*2):[s,l,c]}function qg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,a]=n?Gg(t,e,r):Gg(e,t,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function e2(e,t,r){return t=+t,e=+e,r=+r,Gg(e,t,r)[2]}function t2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?e2(t,e,r):e2(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function ra(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Yg(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function N7(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Kg:L7(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*f/l+d)),p=Math.min(n,Math.floor(t+(l-c)*f/l+d));N7(e,t,h,p,i)}const o=e[t];let a=r,s=n;for(Nc(e,r,t),i(e[n],o)>0&&Nc(e,r,n);a<s;){for(Nc(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[r],o)===0?Nc(e,r,s):(++s,Nc(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Nc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function r2(e,t,r){if(e=Float64Array.from(Cue(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Yg(e);if(t>=1)return ra(e);var n,i=(n-1)*t,o=Math.floor(i),a=ra(N7(e,o).subarray(0,o+1)),s=Yg(e.subarray(o+1));return a+(s-a)*(i-o)}}function Lue(e,t,r=I7){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),a=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function S5(e,t){return r2(e,.5,t)}function n2(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Jg(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var Nue={value:()=>{}};function R7(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new cp(r)}function cp(e){this._=e}function Rue(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}cp.prototype=R7.prototype={constructor:cp,on:function(e,t){var r=this._,n=Rue(e+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(e=n[o]).type)&&(i=Fue(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=n[o]).type)r[i]=k5(r[i],e.name,t);else if(t==null)for(i in r)r[i]=k5(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new cp(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function Fue(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function k5(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Nue,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}function jue(e,t,r,n,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*n+a*i)/6}function Bue(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],a=n>0?e[n-1]:2*i-o,s=n<t-1?e[n+2]:2*o-i;return jue((r-n/t)*t,a,i,o,s)}}const mv=e=>()=>e;function F7(e,t){return function(r){return e+r*t}}function zue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function kk(e,t){var r=t-e;return r?F7(e,r>180||r<-180?r-360*Math.round(r/360):r):mv(isNaN(e)?t:e)}function Hue(e){return(e=+e)==1?or:function(t,r){return r-t?zue(t,r,e):mv(isNaN(t)?r:t)}}function or(e,t){var r=t-e;return r?F7(e,r):mv(isNaN(e)?t:e)}const ss=(function e(t){var r=Hue(t);function n(i,o){var a=r((i=mf(i)).r,(o=mf(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=or(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function Uue(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),o=new Array(r),a,s;for(a=0;a<r;++a)s=mf(t[a]),n[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return n=e(n),i=e(i),o=e(o),s.opacity=1,function(l){return s.r=n(l),s.g=i(l),s.b=o(l),s+""}}}var Vue=Uue(Bue);function Wue(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function Kue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Gue(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=Wf(e[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function que(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function dr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Yue(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Wf(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var i2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xb=new RegExp(i2.source,"g");function Jue(e){return function(){return e}}function Xue(e){return function(t){return e(t)+""}}function j7(e,t){var r=i2.lastIndex=Xb.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(n=i2.exec(e))&&(i=Xb.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:dr(n,i)})),r=Xb.lastIndex;return r<t.length&&(o=t.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Xue(l[0].x):Jue(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Wf(e,t){var r=typeof t,n;return t==null||r==="boolean"?mv(t):(r==="number"?dr:r==="string"?(n=as(t))?(t=n,ss):j7:t instanceof as?ss:t instanceof Date?que:Kue(t)?Wue:Array.isArray(t)?Gue:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yue:dr)(e,t)}function Ok(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var O5=180/Math.PI,o2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function B7(e,t,r,n,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*O5,skewX:Math.atan(l)*O5,scaleX:a,scaleY:s}}var Jd;function Que(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?o2:B7(t.a,t.b,t.c,t.d,t.e,t.f)}function Zue(e){return e==null||(Jd||(Jd=document.createElementNS("http://www.w3.org/2000/svg","g")),Jd.setAttribute("transform",e),!(e=Jd.transform.baseVal.consolidate()))?o2:(e=e.matrix,B7(e.a,e.b,e.c,e.d,e.e,e.f))}function z7(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push("translate(",null,t,null,r);p.push({i:g-4,x:dr(c,f)},{i:g-2,x:dr(u,d)})}else(f||d)&&h.push("translate("+f+t+d+r)}function a(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,n)-2,x:dr(c,u)})):u&&f.push(i(f)+"rotate("+u+n)}function s(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,n)-2,x:dr(c,u)}):u&&f.push(i(f)+"skewX("+u+n)}function l(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:dr(c,f)},{i:g-2,x:dr(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,d),a(c.rotate,u.rotate,f,d),s(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var efe=z7(Que,"px, ","px)","deg)"),tfe=z7(Zue,", ",")",")");function rfe(e){return function(t,r){var n=e((t=Xw(t)).h,(r=Xw(r)).h),i=or(t.s,r.s),o=or(t.l,r.l),a=or(t.opacity,r.opacity);return function(s){return t.h=n(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const nfe=rfe(kk);function ife(e,t){var r=or((e=Qw(e)).l,(t=Qw(t)).l),n=or(e.a,t.a),i=or(e.b,t.b),o=or(e.opacity,t.opacity);return function(a){return e.l=r(a),e.a=n(a),e.b=i(a),e.opacity=o(a),e+""}}function ofe(e){return function(t,r){var n=e((t=Wg(t)).h,(r=Wg(r)).h),i=or(t.c,r.c),o=or(t.l,r.l),a=or(t.opacity,r.opacity);return function(s){return t.h=n(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const afe=ofe(kk);function H7(e){return(function t(r){r=+r;function n(i,o){var a=e((i=vi(i)).h,(o=vi(o)).h),s=or(i.s,o.s),l=or(i.l,o.l),c=or(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=s(u),i.l=l(Math.pow(u,r)),i.opacity=c(u),i+""}}return n.gamma=t,n})(1)}H7(kk);var Tk=H7(or);function U7(e,t){t===void 0&&(t=e,e=Wf);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function bi(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var ql=0,mu=0,Rc=0,V7=1e3,Xg,vu,Qg=0,ls=0,vv=0,bf=typeof performance=="object"&&performance.now?performance:Date,W7=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ck(){return ls||(W7(sfe),ls=bf.now()+vv)}function sfe(){ls=0}function Zg(){this._call=this._time=this._next=null}Zg.prototype=K7.prototype={constructor:Zg,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Ck():+r)+(t==null?0:+t),!this._next&&vu!==this&&(vu?vu._next=this:Xg=this,vu=this),this._call=e,this._time=r,a2()},stop:function(){this._call&&(this._call=null,this._time=1/0,a2())}};function K7(e,t,r){var n=new Zg;return n.restart(e,t,r),n}function lfe(){Ck(),++ql;for(var e=Xg,t;e;)(t=ls-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ql}function T5(){ls=(Qg=bf.now())+vv,ql=mu=0;try{lfe()}finally{ql=0,ufe(),ls=0}}function cfe(){var e=bf.now(),t=e-Qg;t>V7&&(vv-=t,Qg=e)}function ufe(){for(var e,t=Xg,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Xg=r);vu=e,a2(n)}function a2(e){if(!ql){mu&&(mu=clearTimeout(mu));var t=e-ls;t>24?(e<1/0&&(mu=setTimeout(T5,e-bf.now()-vv)),Rc&&(Rc=clearInterval(Rc))):(Rc||(Qg=bf.now(),Rc=setInterval(cfe,V7)),ql=1,W7(T5))}}function C5(e,t,r){var n=new Zg;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var ffe=R7("start","end","cancel","interrupt"),dfe=[],G7=0,E5=1,s2=2,up=3,M5=4,l2=5,fp=6;function bv(e,t,r,n,i,o){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;hfe(e,r,{name:t,index:n,group:i,on:ffe,tween:dfe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:G7})}function Ek(e,t){var r=Vn(e,t);if(r.state>G7)throw new Error("too late; already scheduled");return r}function Ti(e,t){var r=Vn(e,t);if(r.state>up)throw new Error("too late; already running");return r}function Vn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function hfe(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=K7(o,0,r.time);function o(c){r.state=E5,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var u,f,d,h;if(r.state!==E5)return l();for(u in n)if(h=n[u],h.name===r.name){if(h.state===up)return C5(a);h.state===M5?(h.state=fp,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[u]):+u<t&&(h.state=fp,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[u])}if(C5(function(){r.state===up&&(r.state=M5,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=s2,r.on.call("start",e,e.__data__,r.index,r.group),r.state===s2){for(r.state=up,i=new Array(d=r.tween.length),u=0,f=-1;u<d;++u)(h=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=l2,1),f=-1,d=i.length;++f<d;)i[f].call(e,u);r.state===l2&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=fp,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function pfe(e,t){var r=e.__transition,n,i,o=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){o=!1;continue}i=n.state>s2&&n.state<l2,n.state=fp,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}o&&delete e.__transition}}function gfe(e){return this.each(function(){pfe(this,e)})}function mfe(e,t){var r,n;return function(){var i=Ti(this,e),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function vfe(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Ti(this,e),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function bfe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Vn(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?mfe:vfe)(r,e,t))}function Mk(e,t,r){var n=e._id;return e.each(function(){var i=Ti(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Vn(i,n).value[t]}}function q7(e,t){var r;return(typeof t=="number"?dr:t instanceof as?ss:(r=as(t))?(t=r,ss):j7)(e,t)}function yfe(e){return function(){this.removeAttribute(e)}}function $fe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wfe(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===n?o:o=t(n=a,r)}}function xfe(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?o:o=t(n=a,r)}}function Sfe(e,t,r){var n,i,o;return function(){var a,s=r(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s)))}}function kfe(e,t,r){var n,i,o;return function(){var a,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s)))}}function Ofe(e,t){var r=hv(e),n=r==="transform"?tfe:q7;return this.attrTween(e,typeof t=="function"?(r.local?kfe:Sfe)(r,n,Mk(this,"attr."+e,t)):t==null?(r.local?$fe:yfe)(r):(r.local?xfe:wfe)(r,n,t))}function Tfe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Cfe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Efe(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&Cfe(e,o)),r}return i._value=t,i}function Mfe(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&Tfe(e,o)),r}return i._value=t,i}function Afe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=hv(e);return this.tween(r,(n.local?Efe:Mfe)(n,t))}function Ife(e,t){return function(){Ek(this,e).delay=+t.apply(this,arguments)}}function Pfe(e,t){return t=+t,function(){Ek(this,e).delay=t}}function _fe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ife:Pfe)(t,e)):Vn(this.node(),t).delay}function Dfe(e,t){return function(){Ti(this,e).duration=+t.apply(this,arguments)}}function Lfe(e,t){return t=+t,function(){Ti(this,e).duration=t}}function Nfe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Dfe:Lfe)(t,e)):Vn(this.node(),t).duration}function Rfe(e,t){if(typeof t!="function")throw new Error;return function(){Ti(this,e).ease=t}}function Ffe(e){var t=this._id;return arguments.length?this.each(Rfe(t,e)):Vn(this.node(),t).ease}function jfe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ti(this,e).ease=r}}function Bfe(e){if(typeof e!="function")throw new Error;return this.each(jfe(this._id,e))}function zfe(e){typeof e!="function"&&(e=u7(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new to(n,this._parents,this._name,this._id)}function Hfe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var l=t[s],c=r[s],u=l.length,f=a[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<n;++s)a[s]=t[s];return new to(a,this._parents,this._name,this._id)}function Ufe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Vfe(e,t,r){var n,i,o=Ufe(t)?Ek:Ti;return function(){var a=o(this,e),s=a.on;s!==n&&(i=(n=s).copy()).on(t,r),a.on=i}}function Wfe(e,t){var r=this._id;return arguments.length<2?Vn(this.node(),r).on.on(e):this.each(Vfe(r,e,t))}function Kfe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Gfe(){return this.on("end.remove",Kfe(this._id))}function qfe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=mk(e));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],l=s.length,c=o[a]=new Array(l),u,f,d=0;d<l;++d)(u=s[d])&&(f=e.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,bv(c[d],t,r,d,c,Vn(u,r)));return new to(o,this._parents,t,r)}function Yfe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=c7(e));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var l=n[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),h,p=Vn(u,r),g=0,m=d.length;g<m;++g)(h=d[g])&&bv(h,t,r,g,d,p);o.push(d),a.push(u)}return new to(o,a,t,r)}var Jfe=Uf.prototype.constructor;function Xfe(){return new Jfe(this._groups,this._parents)}function Qfe(e,t){var r,n,i;return function(){var o=Kl(this,e),a=(this.style.removeProperty(e),Kl(this,e));return o===a?null:o===r&&a===n?i:i=t(r=o,n=a)}}function Y7(e){return function(){this.style.removeProperty(e)}}function Zfe(e,t,r){var n,i=r+"",o;return function(){var a=Kl(this,e);return a===i?null:a===n?o:o=t(n=a,r)}}function ede(e,t,r){var n,i,o;return function(){var a=Kl(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Kl(this,e))),a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s))}}function tde(e,t){var r,n,i,o="style."+t,a="end."+o,s;return function(){var l=Ti(this,e),c=l.on,u=l.value[o]==null?s||(s=Y7(t)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(a,i=u),l.on=n}}function rde(e,t,r){var n=(e+="")=="transform"?efe:q7;return t==null?this.styleTween(e,Qfe(e,n)).on("end.style."+e,Y7(e)):typeof t=="function"?this.styleTween(e,ede(e,n,Mk(this,"style."+e,t))).each(tde(this._id,e)):this.styleTween(e,Zfe(e,n,t),r).on("end.style."+e,null)}function nde(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function ide(e,t,r){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&nde(e,a,r)),n}return o._value=t,o}function ode(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ide(e,t,r??""))}function ade(e){return function(){this.textContent=e}}function sde(e){return function(){var t=e(this);this.textContent=t??""}}function lde(e){return this.tween("text",typeof e=="function"?sde(Mk(this,"text",e)):ade(e==null?"":e+""))}function cde(e){return function(t){this.textContent=e.call(this,t)}}function ude(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&cde(i)),t}return n._value=e,n}function fde(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ude(e))}function dde(){for(var e=this._name,t=this._id,r=J7(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=Vn(l,t);bv(l,e,r,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new to(n,this._parents,e,r)}function hde(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};r.each(function(){var c=Ti(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),i===0&&o()})}var pde=0;function to(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function J7(){return++pde}var Li=Uf.prototype;to.prototype={constructor:to,select:qfe,selectAll:Yfe,selectChild:Li.selectChild,selectChildren:Li.selectChildren,filter:zfe,merge:Hfe,selection:Xfe,transition:dde,call:Li.call,nodes:Li.nodes,node:Li.node,size:Li.size,empty:Li.empty,each:Li.each,on:Wfe,attr:Ofe,attrTween:Afe,style:rde,styleTween:ode,text:lde,textTween:fde,remove:Gfe,tween:bfe,delay:_fe,duration:Nfe,ease:Ffe,easeVarying:Bfe,end:hde,[Symbol.iterator]:Li[Symbol.iterator]};function gde(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var mde={time:null,delay:0,duration:250,ease:gde};function vde(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function bde(e){var t,r;e instanceof to?(t=e._id,e=e._name):(t=J7(),(r=mde).time=Ck(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&bv(l,e,t,c,a,r||vde(l,t));return new to(n,this._parents,e,t)}Uf.prototype.interrupt=gfe;Uf.prototype.transition=bde;var A5={},Qb={},Zb=34,Fc=10,ey=13;function X7(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function yde(e,t){var r=X7(e);return function(n,i){return t(r(n),i,e)}}function I5(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function Tr(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function $de(e){return e<0?"-"+Tr(-e,6):e>9999?"+"+Tr(e,6):Tr(e,4)}function wde(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":$de(e.getUTCFullYear())+"-"+Tr(e.getUTCMonth()+1,2)+"-"+Tr(e.getUTCDate(),2)+(i?"T"+Tr(t,2)+":"+Tr(r,2)+":"+Tr(n,2)+"."+Tr(i,3)+"Z":n?"T"+Tr(t,2)+":"+Tr(r,2)+":"+Tr(n,2)+"Z":r||t?"T"+Tr(t,2)+":"+Tr(r,2)+"Z":"")}function Q7(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(f,d){var h,p,g=i(f,function(m,v){if(h)return h(m,v-1);p=m,h=d?yde(m,d):X7(m)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,m=0,v,b=p<=0,y=!1;f.charCodeAt(p-1)===Fc&&--p,f.charCodeAt(p-1)===ey&&--p;function w(){if(b)return Qb;if(y)return y=!1,A5;var x,O=g,T;if(f.charCodeAt(O)===Zb){for(;g++<p&&f.charCodeAt(g)!==Zb||f.charCodeAt(++g)===Zb;);return(x=g)>=p?b=!0:(T=f.charCodeAt(g++))===Fc?y=!0:T===ey&&(y=!0,f.charCodeAt(g)===Fc&&++g),f.slice(O+1,x-1).replace(/""/g,'"')}for(;g<p;){if((T=f.charCodeAt(x=g++))===Fc)y=!0;else if(T===ey)y=!0,f.charCodeAt(g)===Fc&&++g;else if(T!==r)continue;return f.slice(O,x)}return b=!0,f.slice(O,p)}for(;(v=w())!==Qb;){for(var $=[];v!==A5&&v!==Qb;)$.push(v),v=w();d&&($=d($,m++))==null||h.push($)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return u(h[p])}).join(e)})}function a(f,d){return d==null&&(d=I5(f)),[d.map(u).join(e)].concat(o(f,d)).join(`
`)}function s(f,d){return d==null&&(d=I5(f)),o(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?wde(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}var xde=Q7(","),Sde=xde.parse;function kde(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Ak(e,t){return fetch(e,t).then(kde)}function Ode(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),Ak(t,r).then(function(i){return e(i,n)})}}function Tde(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var i=Q7(e);return Ak(t,r).then(function(o){return i.parse(o,n)})}var Cde=Ode(Sde);function Ede(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Mde(e,t){return fetch(e,t).then(Ede)}function Ade(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function em(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yl(e){return e=em(Math.abs(e)),e?e[1]:NaN}function Ide(e,t){return function(r,n){for(var i=r.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function Pde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var _de=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yf(e){if(!(t=_de.exec(e)))throw new Error("invalid format: "+e);var t;return new Ik({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yf.prototype=Ik.prototype;function Ik(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ik.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dde(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Z7;function Lde(e,t){var r=em(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(Z7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+em(e,Math.max(0,t+o-1))[0]}function P5(e,t){var r=em(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const _5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ade,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>P5(e*100,t),r:P5,s:Lde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function D5(e){return e}var L5=Array.prototype.map,N5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nde(e){var t=e.grouping===void 0||e.thousands===void 0?D5:Ide(L5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?D5:Pde(L5.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=yf(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,v=f.width,b=f.comma,y=f.precision,w=f.trim,$=f.type;$==="n"?(b=!0,$="g"):_5[$]||(y===void 0&&(y=12),w=!0,$="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var x=g==="$"?r:g==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",O=g==="$"?n:/[%p]/.test($)?a:"",T=_5[$],D=/[defgprs%]/.test($);y=y===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function L(I){var E=x,_=O,k,C,S;if($==="c")_=T(I)+_,I="";else{I=+I;var P=I<0||1/I<0;if(I=isNaN(I)?l:T(Math.abs(I),y),w&&(I=Dde(I)),P&&+I==0&&p!=="+"&&(P=!1),E=(P?p==="("?p:s:p==="-"||p==="("?"":p)+E,_=($==="s"?N5[8+Z7/3]:"")+_+(P&&p==="("?")":""),D){for(k=-1,C=I.length;++k<C;)if(S=I.charCodeAt(k),48>S||S>57){_=(S===46?i+I.slice(k+1):I.slice(k))+_,I=I.slice(0,k);break}}}b&&!m&&(I=t(I,1/0));var A=E.length+I.length+_.length,N=A<v?new Array(v-A+1).join(d):"";switch(b&&m&&(I=t(N+I,N.length?v-_.length:1/0),N=""),h){case"<":I=E+I+_+N;break;case"=":I=E+N+I+_;break;case"^":I=N.slice(0,A=N.length>>1)+E+I+_+N.slice(A);break;default:I=N+E+I+_;break}return o(I)}return L.toString=function(){return f+""},L}function u(f,d){var h=c((f=yf(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Yl(d)/3)))*3,g=Math.pow(10,-p),m=N5[8+p/3];return function(v){return h(g*v)+m}}return{format:c,formatPrefix:u}}var Xd,Pk,e9;Rde({thousands:",",grouping:[3],currency:["$",""]});function Rde(e){return Xd=Nde(e),Pk=Xd.format,e9=Xd.formatPrefix,Xd}function Fde(e){return Math.max(0,-Yl(Math.abs(e)))}function jde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yl(t)/3)))*3-Yl(Math.abs(e)))}function Bde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yl(t)-Yl(e))+1}function Ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yv(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const c2=Symbol("implicit");function _k(){var e=new x5,t=[],r=[],n=c2;function i(o){let a=e.get(o);if(a===void 0){if(n!==c2)return n;e.set(o,a=t.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new x5;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return _k(t,r).unknown(n)},Ci.apply(i,arguments),i}function Dk(){var e=_k().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var d=t().length,h=i<n,p=h?i:n,g=h?n:i;o=(g-p)/Math.max(1,d-l+c*2),s&&(o=Math.floor(o)),p+=(g-p-o*(d-l))*u,a=o*(1-l),s&&(p=Math.round(p),a=Math.round(a));var m=n2(d).map(function(v){return p+o*v});return r(h?m.reverse():m)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.copy=function(){return Dk(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ci.apply(f(),arguments)}function t9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t9(t())},e}function zde(){return t9(Dk.apply(null,arguments).paddingInner(1))}function Hde(e){return function(){return e}}function u2(e){return+e}var R5=[0,1];function pn(e){return e}function f2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Hde(isNaN(t)?NaN:.5)}function Ude(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Vde(e,t,r){var n=e[0],i=e[1],o=t[0],a=t[1];return i<n?(n=f2(i,n),o=r(a,o)):(n=f2(n,i),o=r(o,a)),function(s){return o(n(s))}}function Wde(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=f2(e[a],e[a+1]),o[a]=r(t[a],t[a+1]);return function(s){var l=xk(e,s,1,n)-1;return o[l](i[l](s))}}function Kf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $v(){var e=R5,t=R5,r=Wf,n,i,o,a=pn,s,l,c;function u(){var d=Math.min(e.length,t.length);return a!==pn&&(a=Ude(e[0],e[d-1])),s=d>2?Wde:Vde,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(e.map(n),t,r)))(n(a(d)))}return f.invert=function(d){return a(i((c||(c=s(t,e.map(n),dr)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,u2),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),r=Ok,u()},f.clamp=function(d){return arguments.length?(a=d?!0:pn,u()):a!==pn},f.interpolate=function(d){return arguments.length?(r=d,u()):r},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return n=d,i=h,u()}}function r9(){return $v()(pn,pn)}function Kde(e,t,r,n){var i=t2(e,t,r),o;switch(n=yf(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=jde(i,a))&&(n.precision=o),e9(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Bde(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Fde(i))&&(n.precision=o-(n.type==="%")*2);break}}return Pk(n)}function Gf(e){var t=e.domain;return e.ticks=function(r){var n=t();return qg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Kde(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=e2(a,s,r),c===l)return n[i]=a,n[o]=s,t(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function n9(){var e=r9();return e.copy=function(){return Kf(e,n9())},Ci.apply(e,arguments),Gf(e)}function i9(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,u2),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return i9(e).unknown(t)},e=arguments.length?Array.from(e,u2):[0,1],Gf(r)}function o9(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),e[r]=t.floor(i),e[n]=t.ceil(o),e}function F5(e){return Math.log(e)}function j5(e){return Math.exp(e)}function Gde(e){return-Math.log(-e)}function qde(e){return-Math.exp(-e)}function Yde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jde(e){return e===10?Yde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Xde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function B5(e){return(t,r)=>-e(-t,r)}function a9(e){const t=e(F5,j5),r=t.domain;let n=10,i,o;function a(){return i=Xde(n),o=Jde(n),r()[0]<0?(i=B5(i),o=B5(o),e(Gde,qde)):e(F5,j5),t}return t.base=function(s){return arguments.length?(n=+s,a()):n},t.domain=function(s){return arguments.length?(r(s),a()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),p,g;const m=s==null?10:+s;let v=[];if(!(n%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(p=1;p<n;++p)if(g=d<0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;v.push(g)}}else for(;d<=h;++d)for(p=n-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;v.push(g)}v.length*2<m&&(v=qg(c,u,m))}else v=qg(d,h,Math.min(h-d,m)).map(o);return f?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=yf(l)).precision==null&&(l.trim=!0),l=Pk(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(o9(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function s9(){const e=a9($v()).domain([1,10]);return e.copy=()=>Kf(e,s9()).base(e.base()),Ci.apply(e,arguments),e}function z5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function l9(e){var t=1,r=e(z5(t),H5(t));return r.constant=function(n){return arguments.length?e(z5(t=+n),H5(t)):t},Gf(r)}function c9(){var e=l9($v());return e.copy=function(){return Kf(e,c9()).constant(e.constant())},Ci.apply(e,arguments)}function U5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Qde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zde(e){return e<0?-e*e:e*e}function u9(e){var t=e(pn,pn),r=1;function n(){return r===1?e(pn,pn):r===.5?e(Qde,Zde):e(U5(r),U5(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Gf(t)}function f9(){var e=u9($v());return e.copy=function(){return Kf(e,f9()).exponent(e.exponent())},Ci.apply(e,arguments),e}function d9(){var e=[],t=[],r=[],n;function i(){var a=0,s=Math.max(1,t.length);for(r=new Array(s-1);++a<s;)r[a-1]=Lue(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:t[xk(r,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Yo),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return d9().domain(e).range(t).unknown(n)},Ci.apply(o,arguments)}function h9(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[xk(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return h9().domain(e).range(t).unknown(r)},Ci.apply(i,arguments)}const ty=new Date,ry=new Date;function Et(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return l},i.filter=o=>Et(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),r&&(i.count=(o,a)=>(ty.setTime(+o),ry.setTime(+a),e(ty),e(ry),Math.floor(r(ty,ry))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const tm=Et(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Et(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tm);tm.range;const Gi=1e3,gn=Gi*60,qi=gn*60,ro=qi*24,Lk=ro*7,V5=ro*30,ny=ro*365,Yi=Et(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCSeconds());Yi.range;const wv=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getMinutes());wv.range;const xv=Et(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getUTCMinutes());xv.range;const Sv=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi-e.getMinutes()*gn)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getHours());Sv.range;const kv=Et(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getUTCHours());kv.range;const pc=Et(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gn)/ro,e=>e.getDate()-1);pc.range;const qf=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ro,e=>e.getUTCDate()-1);qf.range;const p9=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ro,e=>Math.floor(e/ro));p9.range;function Ts(e){return Et(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gn)/Lk)}const Jl=Ts(0),$f=Ts(1),g9=Ts(2),m9=Ts(3),cs=Ts(4),v9=Ts(5),b9=Ts(6);Jl.range;$f.range;g9.range;m9.range;cs.range;v9.range;b9.range;function Cs(e){return Et(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Lk)}const Xl=Cs(0),wf=Cs(1),y9=Cs(2),$9=Cs(3),us=Cs(4),w9=Cs(5),x9=Cs(6);Xl.range;wf.range;y9.range;$9.range;us.range;w9.range;x9.range;const Dl=Et(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dl.range;const Ll=Et(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ll.range;const yi=Et(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yi.range;const $i=Et(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});$i.range;function S9(e,t,r,n,i,o){const a=[[Yi,1,Gi],[Yi,5,5*Gi],[Yi,15,15*Gi],[Yi,30,30*Gi],[o,1,gn],[o,5,5*gn],[o,15,15*gn],[o,30,30*gn],[i,1,qi],[i,3,3*qi],[i,6,6*qi],[i,12,12*qi],[n,1,ro],[n,2,2*ro],[r,1,Lk],[t,1,V5],[t,3,3*V5],[e,1,ny]];function s(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),p=h?h.range(c,+u+1):[];return d?p.reverse():p}function l(c,u,f){const d=Math.abs(u-c)/f,h=wk(([,,m])=>m).right(a,d);if(h===a.length)return e.every(t2(c/ny,u/ny,f));if(h===0)return tm.every(Math.max(t2(c,u,f),1));const[p,g]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(g)}return[s,l]}const[ehe,the]=S9($i,Ll,Xl,p9,kv,xv),[rhe,nhe]=S9(yi,Dl,Jl,pc,Sv,wv);function iy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ihe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Bc(i),u=zc(i),f=Bc(o),d=zc(o),h=Bc(a),p=zc(a),g=Bc(s),m=zc(s),v=Bc(l),b=zc(l),y={a:P,A,b:N,B:U,c:null,d:J5,e:J5,f:Che,g:Rhe,G:jhe,H:khe,I:Ohe,j:The,L:k9,m:Ehe,M:Mhe,p:V,q:ae,Q:Z5,s:eA,S:Ahe,u:Ihe,U:Phe,V:_he,w:Dhe,W:Lhe,x:null,X:null,y:Nhe,Y:Fhe,Z:Bhe,"%":Q5},w={a:ne,A:pe,b:Se,B:qe,c:null,d:X5,e:X5,f:Vhe,g:epe,G:rpe,H:zhe,I:Hhe,j:Uhe,L:T9,m:Whe,M:Khe,p:J,q:de,Q:Z5,s:eA,S:Ghe,u:qhe,U:Yhe,V:Jhe,w:Xhe,W:Qhe,x:null,X:null,y:Zhe,Y:tpe,Z:npe,"%":Q5},$={a:L,A:I,b:E,B:_,c:k,d:q5,e:q5,f:$he,g:G5,G:K5,H:Y5,I:Y5,j:mhe,L:yhe,m:ghe,M:vhe,p:D,q:phe,Q:xhe,s:She,S:bhe,u:che,U:uhe,V:fhe,w:lhe,W:dhe,x:C,X:S,y:G5,Y:K5,Z:hhe,"%":whe};y.x=x(r,y),y.X=x(n,y),y.c=x(t,y),w.x=x(r,w),w.X=x(n,w),w.c=x(t,w);function x(q,Q){return function(ce){var H=[],He=-1,Te=0,se=q.length,he,nt,ht;for(ce instanceof Date||(ce=new Date(+ce));++He<se;)q.charCodeAt(He)===37&&(H.push(q.slice(Te,He)),(nt=W5[he=q.charAt(++He)])!=null?he=q.charAt(++He):nt=he==="e"?" ":"0",(ht=Q[he])&&(he=ht(ce,nt)),H.push(he),Te=He+1);return H.push(q.slice(Te,He)),H.join("")}}function O(q,Q){return function(ce){var H=jc(1900,void 0,1),He=T(H,q,ce+="",0),Te,se;if(He!=ce.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(Q&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Te=oy(jc(H.y,0,1)),se=Te.getUTCDay(),Te=se>4||se===0?wf.ceil(Te):wf(Te),Te=qf.offset(Te,(H.V-1)*7),H.y=Te.getUTCFullYear(),H.m=Te.getUTCMonth(),H.d=Te.getUTCDate()+(H.w+6)%7):(Te=iy(jc(H.y,0,1)),se=Te.getDay(),Te=se>4||se===0?$f.ceil(Te):$f(Te),Te=pc.offset(Te,(H.V-1)*7),H.y=Te.getFullYear(),H.m=Te.getMonth(),H.d=Te.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),se="Z"in H?oy(jc(H.y,0,1)).getUTCDay():iy(jc(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(se+5)%7:H.w+H.U*7-(se+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,oy(H)):iy(H)}}function T(q,Q,ce,H){for(var He=0,Te=Q.length,se=ce.length,he,nt;He<Te;){if(H>=se)return-1;if(he=Q.charCodeAt(He++),he===37){if(he=Q.charAt(He++),nt=$[he in W5?Q.charAt(He++):he],!nt||(H=nt(q,ce,H))<0)return-1}else if(he!=ce.charCodeAt(H++))return-1}return H}function D(q,Q,ce){var H=c.exec(Q.slice(ce));return H?(q.p=u.get(H[0].toLowerCase()),ce+H[0].length):-1}function L(q,Q,ce){var H=h.exec(Q.slice(ce));return H?(q.w=p.get(H[0].toLowerCase()),ce+H[0].length):-1}function I(q,Q,ce){var H=f.exec(Q.slice(ce));return H?(q.w=d.get(H[0].toLowerCase()),ce+H[0].length):-1}function E(q,Q,ce){var H=v.exec(Q.slice(ce));return H?(q.m=b.get(H[0].toLowerCase()),ce+H[0].length):-1}function _(q,Q,ce){var H=g.exec(Q.slice(ce));return H?(q.m=m.get(H[0].toLowerCase()),ce+H[0].length):-1}function k(q,Q,ce){return T(q,t,Q,ce)}function C(q,Q,ce){return T(q,r,Q,ce)}function S(q,Q,ce){return T(q,n,Q,ce)}function P(q){return a[q.getDay()]}function A(q){return o[q.getDay()]}function N(q){return l[q.getMonth()]}function U(q){return s[q.getMonth()]}function V(q){return i[+(q.getHours()>=12)]}function ae(q){return 1+~~(q.getMonth()/3)}function ne(q){return a[q.getUTCDay()]}function pe(q){return o[q.getUTCDay()]}function Se(q){return l[q.getUTCMonth()]}function qe(q){return s[q.getUTCMonth()]}function J(q){return i[+(q.getUTCHours()>=12)]}function de(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var Q=x(q+="",y);return Q.toString=function(){return q},Q},parse:function(q){var Q=O(q+="",!1);return Q.toString=function(){return q},Q},utcFormat:function(q){var Q=x(q+="",w);return Q.toString=function(){return q},Q},utcParse:function(q){var Q=O(q+="",!0);return Q.toString=function(){return q},Q}}}var W5={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,ohe=/^%/,ahe=/[\\^$*+?|[\]().{}]/g;function Me(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function she(e){return e.replace(ahe,"\\$&")}function Bc(e){return new RegExp("^(?:"+e.map(she).join("|")+")","i")}function zc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function lhe(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function che(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function uhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function dhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function K5(e,t,r){var n=Kt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function G5(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hhe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function phe(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ghe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function q5(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function mhe(e,t,r){var n=Kt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Y5(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function vhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function bhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function yhe(e,t,r){var n=Kt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $he(e,t,r){var n=Kt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function whe(e,t,r){var n=ohe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xhe(e,t,r){var n=Kt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function She(e,t,r){var n=Kt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function J5(e,t){return Me(e.getDate(),t,2)}function khe(e,t){return Me(e.getHours(),t,2)}function Ohe(e,t){return Me(e.getHours()%12||12,t,2)}function The(e,t){return Me(1+pc.count(yi(e),e),t,3)}function k9(e,t){return Me(e.getMilliseconds(),t,3)}function Che(e,t){return k9(e,t)+"000"}function Ehe(e,t){return Me(e.getMonth()+1,t,2)}function Mhe(e,t){return Me(e.getMinutes(),t,2)}function Ahe(e,t){return Me(e.getSeconds(),t,2)}function Ihe(e){var t=e.getDay();return t===0?7:t}function Phe(e,t){return Me(Jl.count(yi(e)-1,e),t,2)}function O9(e){var t=e.getDay();return t>=4||t===0?cs(e):cs.ceil(e)}function _he(e,t){return e=O9(e),Me(cs.count(yi(e),e)+(yi(e).getDay()===4),t,2)}function Dhe(e){return e.getDay()}function Lhe(e,t){return Me($f.count(yi(e)-1,e),t,2)}function Nhe(e,t){return Me(e.getFullYear()%100,t,2)}function Rhe(e,t){return e=O9(e),Me(e.getFullYear()%100,t,2)}function Fhe(e,t){return Me(e.getFullYear()%1e4,t,4)}function jhe(e,t){var r=e.getDay();return e=r>=4||r===0?cs(e):cs.ceil(e),Me(e.getFullYear()%1e4,t,4)}function Bhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Me(t/60|0,"0",2)+Me(t%60,"0",2)}function X5(e,t){return Me(e.getUTCDate(),t,2)}function zhe(e,t){return Me(e.getUTCHours(),t,2)}function Hhe(e,t){return Me(e.getUTCHours()%12||12,t,2)}function Uhe(e,t){return Me(1+qf.count($i(e),e),t,3)}function T9(e,t){return Me(e.getUTCMilliseconds(),t,3)}function Vhe(e,t){return T9(e,t)+"000"}function Whe(e,t){return Me(e.getUTCMonth()+1,t,2)}function Khe(e,t){return Me(e.getUTCMinutes(),t,2)}function Ghe(e,t){return Me(e.getUTCSeconds(),t,2)}function qhe(e){var t=e.getUTCDay();return t===0?7:t}function Yhe(e,t){return Me(Xl.count($i(e)-1,e),t,2)}function C9(e){var t=e.getUTCDay();return t>=4||t===0?us(e):us.ceil(e)}function Jhe(e,t){return e=C9(e),Me(us.count($i(e),e)+($i(e).getUTCDay()===4),t,2)}function Xhe(e){return e.getUTCDay()}function Qhe(e,t){return Me(wf.count($i(e)-1,e),t,2)}function Zhe(e,t){return Me(e.getUTCFullYear()%100,t,2)}function epe(e,t){return e=C9(e),Me(e.getUTCFullYear()%100,t,2)}function tpe(e,t){return Me(e.getUTCFullYear()%1e4,t,4)}function rpe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?us(e):us.ceil(e),Me(e.getUTCFullYear()%1e4,t,4)}function npe(){return"+0000"}function Q5(){return"%"}function Z5(e){return+e}function eA(e){return Math.floor(+e/1e3)}var qs,E9,M9;ipe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ipe(e){return qs=ihe(e),E9=qs.format,qs.parse,M9=qs.utcFormat,qs.utcParse,qs}function ope(e){return new Date(e)}function ape(e){return e instanceof Date?+e:+new Date(+e)}function Nk(e,t,r,n,i,o,a,s,l,c){var u=r9(),f=u.invert,d=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),b=c("%b %d"),y=c("%B"),w=c("%Y");function $(x){return(l(x)<x?h:s(x)<x?p:a(x)<x?g:o(x)<x?m:n(x)<x?i(x)<x?v:b:r(x)<x?y:w)(x)}return u.invert=function(x){return new Date(f(x))},u.domain=function(x){return arguments.length?d(Array.from(x,ape)):d().map(ope)},u.ticks=function(x){var O=d();return e(O[0],O[O.length-1],x??10)},u.tickFormat=function(x,O){return O==null?$:c(O)},u.nice=function(x){var O=d();return(!x||typeof x.range!="function")&&(x=t(O[0],O[O.length-1],x??10)),x?d(o9(O,x)):u},u.copy=function(){return Kf(u,Nk(e,t,r,n,i,o,a,s,l,c))},u}function spe(){return Ci.apply(Nk(rhe,nhe,yi,Dl,Jl,pc,Sv,wv,Yi,E9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lpe(){return Ci.apply(Nk(ehe,the,$i,Ll,Xl,qf,kv,xv,Yi,M9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ov(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Tv(){var e=0,t=.5,r=1,n=1,i,o,a,s,l,c=pn,u,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-o)*(n*g<n*o?s:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=u(e=+e),o=u(t=+t),a=u(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(m){var v,b,y;return arguments.length?([v,b,y]=m,c=U7(g,[v,b,y]),h):[c(0),c(.5),c(1)]}}return h.range=p(Wf),h.rangeRound=p(Ok),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,i=g(e),o=g(t),a=g(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,h}}function A9(){var e=Gf(Tv()(pn));return e.copy=function(){return Ov(e,A9())},yv.apply(e,arguments)}function I9(){var e=a9(Tv()).domain([.1,1,10]);return e.copy=function(){return Ov(e,I9()).base(e.base())},yv.apply(e,arguments)}function P9(){var e=l9(Tv());return e.copy=function(){return Ov(e,P9()).constant(e.constant())},yv.apply(e,arguments)}function _9(){var e=u9(Tv());return e.copy=function(){return Ov(e,_9()).exponent(e.exponent())},yv.apply(e,arguments)}function $e(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const cpe=$e("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),upe=$e("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),fpe=$e("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),dpe=$e("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),hpe=$e("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ppe=$e("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),gpe=$e("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),mpe=$e("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),vpe=$e("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),bpe=$e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ke=e=>Vue(e[e.length-1]);var D9=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map($e);const L9=Ke(D9);var N9=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map($e);const R9=Ke(N9);var F9=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map($e);const j9=Ke(F9);var B9=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map($e);const z9=Ke(B9);var d2=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map($e);const rm=Ke(d2);var H9=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map($e);const U9=Ke(H9);var h2=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map($e);const nm=Ke(h2);var V9=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map($e);const W9=Ke(V9);var K9=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map($e);const G9=Ke(K9);var q9=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map($e);const Y9=Ke(q9);var J9=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map($e);const X9=Ke(J9);var Q9=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map($e);const Z9=Ke(Q9);var eF=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map($e);const tF=Ke(eF);var rF=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map($e);const nF=Ke(rF);var iF=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map($e);const oF=Ke(iF);var aF=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map($e);const sF=Ke(aF);var lF=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map($e);const cF=Ke(lF);var uF=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map($e);const fF=Ke(uF);var dF=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map($e);const hF=Ke(dF);var pF=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map($e);const gF=Ke(pF);var mF=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map($e);const vF=Ke(mF);var bF=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map($e);const yF=Ke(bF);var $F=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map($e);const wF=Ke($F);var xF=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map($e);const SF=Ke(xF);var kF=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map($e);const OF=Ke(kF);var TF=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map($e);const CF=Ke(TF);var EF=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map($e);const MF=Ke(EF);function AF(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const IF=Tk(vi(300,.5,0),vi(-240,.5,1));var PF=Tk(vi(-100,.75,.35),vi(80,1.5,.8)),_F=Tk(vi(260,.75,.35),vi(80,1.5,.8)),Qd=vi();function DF(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Qd.h=360*e-100,Qd.s=1.5-1.5*t,Qd.l=.8-.9*t,Qd+""}var Zd=mf(),ype=Math.PI/3,$pe=Math.PI*2/3;function LF(e){var t;return e=(.5-e)*Math.PI,Zd.r=255*(t=Math.sin(e))*t,Zd.g=255*(t=Math.sin(e+ype))*t,Zd.b=255*(t=Math.sin(e+$pe))*t,Zd+""}function NF(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Cv(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const RF=Cv($e("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var FF=Cv($e("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),jF=Cv($e("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),BF=Cv($e("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const zF=Math.cos,Rk=Math.min,im=Math.sin,Mt=Math.sqrt,om=Math.PI,Ev=2*om,wpe=Mt(3),HF={draw(e,t){const r=Mt(t+Rk(t/28,.75))*.59436,n=r/2,i=n*wpe;e.moveTo(0,r),e.lineTo(0,-r),e.moveTo(-i,-n),e.lineTo(i,n),e.moveTo(-i,n),e.lineTo(i,-n)}},Fk={draw(e,t){const r=Mt(t/om);e.moveTo(r,0),e.arc(0,0,r,0,Ev)}},UF={draw(e,t){const r=Mt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},VF=Mt(1/3),xpe=VF*2,WF={draw(e,t){const r=Mt(t/xpe),n=r*VF;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},KF={draw(e,t){const r=Mt(t)*.62625;e.moveTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.lineTo(-r,0),e.closePath()}},GF={draw(e,t){const r=Mt(t-Rk(t/7,2))*.87559;e.moveTo(-r,0),e.lineTo(r,0),e.moveTo(0,r),e.lineTo(0,-r)}},qF={draw(e,t){const r=Mt(t),n=-r/2;e.rect(n,n,r,r)}},YF={draw(e,t){const r=Mt(t)*.4431;e.moveTo(r,r),e.lineTo(r,-r),e.lineTo(-r,-r),e.lineTo(-r,r),e.closePath()}},Spe=.8908130915292852,JF=im(om/10)/im(7*om/10),kpe=im(Ev/10)*JF,Ope=-zF(Ev/10)*JF,XF={draw(e,t){const r=Mt(t*Spe),n=kpe*r,i=Ope*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const a=Ev*o/5,s=zF(a),l=im(a);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},ay=Mt(3),QF={draw(e,t){const r=-Mt(t/(ay*3));e.moveTo(0,r*2),e.lineTo(-ay*r,-r),e.lineTo(ay*r,-r),e.closePath()}},Tpe=Mt(3),ZF={draw(e,t){const r=Mt(t)*.6824,n=r/2,i=r*Tpe/2;e.moveTo(0,-r),e.lineTo(i,n),e.lineTo(-i,n),e.closePath()}},sn=-.5,ln=Mt(3)/2,p2=1/Mt(12),Cpe=(p2/2+1)*3,ej={draw(e,t){const r=Mt(t/Cpe),n=r/2,i=r*p2,o=n,a=r*p2+r,s=-o,l=a;e.moveTo(n,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(sn*n-ln*i,ln*n+sn*i),e.lineTo(sn*o-ln*a,ln*o+sn*a),e.lineTo(sn*s-ln*l,ln*s+sn*l),e.lineTo(sn*n+ln*i,sn*i-ln*n),e.lineTo(sn*o+ln*a,sn*a-ln*o),e.lineTo(sn*s+ln*l,sn*l-ln*s),e.closePath()}},tj={draw(e,t){const r=Mt(t-Rk(t/6,1.7))*.6189;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r)}},Epe=[Fk,UF,WF,qF,XF,QF,ej],Mpe=[Fk,GF,tj,ZF,HF,YF,KF];function bu(e,t,r){this.k=e,this.x=t,this.y=r}bu.prototype={constructor:bu,scale:function(e){return e===1?this:new bu(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};bu.prototype;function Ape(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function fs(){fs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(E,_,k){E[_]=k.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(E,_,k){return Object.defineProperty(E,_,{value:k,enumerable:!0,configurable:!0,writable:!0}),E[_]}try{l({},"")}catch{l=function(_,k,C){return _[k]=C}}function c(E,_,k,C){var S=_&&_.prototype instanceof d?_:d,P=Object.create(S.prototype),A=new D(C||[]);return n(P,"_invoke",{value:$(E,k,A)}),P}function u(E,_,k){try{return{type:"normal",arg:E.call(_,k)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var g={};l(g,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(g=v);var b=p.prototype=d.prototype=Object.create(g);function y(E){["next","throw","return"].forEach(function(_){l(E,_,function(k){return this._invoke(_,k)})})}function w(E,_){function k(S,P,A,N){var U=u(E[S],E,P);if(U.type!=="throw"){var V=U.arg,ae=V.value;return ae&&typeof ae=="object"&&r.call(ae,"__await")?_.resolve(ae.__await).then(function(ne){k("next",ne,A,N)},function(ne){k("throw",ne,A,N)}):_.resolve(ae).then(function(ne){V.value=ne,A(V)},function(ne){return k("throw",ne,A,N)})}N(U.arg)}var C;n(this,"_invoke",{value:function(S,P){function A(){return new _(function(N,U){k(S,P,N,U)})}return C=C?C.then(A,A):A()}})}function $(E,_,k){var C="suspendedStart";return function(S,P){if(C==="executing")throw new Error("Generator is already running");if(C==="completed"){if(S==="throw")throw P;return I()}for(k.method=S,k.arg=P;;){var A=k.delegate;if(A){var N=x(A,k);if(N){if(N===f)continue;return N}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(C==="suspendedStart")throw C="completed",k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);C="executing";var U=u(E,_,k);if(U.type==="normal"){if(C=k.done?"completed":"suspendedYield",U.arg===f)continue;return{value:U.arg,done:k.done}}U.type==="throw"&&(C="completed",k.method="throw",k.arg=U.arg)}}}function x(E,_){var k=_.method,C=E.iterator[k];if(C===void 0)return _.delegate=null,k==="throw"&&E.iterator.return&&(_.method="return",_.arg=void 0,x(E,_),_.method==="throw")||k!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+k+"' method")),f;var S=u(C,E.iterator,_.arg);if(S.type==="throw")return _.method="throw",_.arg=S.arg,_.delegate=null,f;var P=S.arg;return P?P.done?(_[E.resultName]=P.value,_.next=E.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,f):P:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,f)}function O(E){var _={tryLoc:E[0]};1 in E&&(_.catchLoc=E[1]),2 in E&&(_.finallyLoc=E[2],_.afterLoc=E[3]),this.tryEntries.push(_)}function T(E){var _=E.completion||{};_.type="normal",delete _.arg,E.completion=_}function D(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(O,this),this.reset(!0)}function L(E){if(E){var _=E[o];if(_)return _.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var k=-1,C=function S(){for(;++k<E.length;)if(r.call(E,k))return S.value=E[k],S.done=!1,S;return S.value=void 0,S.done=!0,S};return C.next=C}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(E){var _=typeof E=="function"&&E.constructor;return!!_&&(_===h||(_.displayName||_.name)==="GeneratorFunction")},e.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,p):(E.__proto__=p,l(E,s,"GeneratorFunction")),E.prototype=Object.create(b),E},e.awrap=function(E){return{__await:E}},y(w.prototype),l(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(E,_,k,C,S){S===void 0&&(S=Promise);var P=new w(c(E,_,k,C),S);return e.isGeneratorFunction(_)?P:P.next().then(function(A){return A.done?A.value:P.next()})},y(b),l(b,s,"Generator"),l(b,o,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(E){var _=Object(E),k=[];for(var C in _)k.push(C);return k.reverse(),function S(){for(;k.length;){var P=k.pop();if(P in _)return S.value=P,S.done=!1,S}return S.done=!0,S}},e.values=L,D.prototype={constructor:D,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!E)for(var _ in this)_.charAt(0)==="t"&&r.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var E=this.tryEntries[0].completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var _=this;function k(U,V){return P.type="throw",P.arg=E,_.next=U,V&&(_.method="next",_.arg=void 0),!!V}for(var C=this.tryEntries.length-1;C>=0;--C){var S=this.tryEntries[C],P=S.completion;if(S.tryLoc==="root")return k("end");if(S.tryLoc<=this.prev){var A=r.call(S,"catchLoc"),N=r.call(S,"finallyLoc");if(A&&N){if(this.prev<S.catchLoc)return k(S.catchLoc,!0);if(this.prev<S.finallyLoc)return k(S.finallyLoc)}else if(A){if(this.prev<S.catchLoc)return k(S.catchLoc,!0)}else{if(!N)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return k(S.finallyLoc)}}}},abrupt:function(E,_){for(var k=this.tryEntries.length-1;k>=0;--k){var C=this.tryEntries[k];if(C.tryLoc<=this.prev&&r.call(C,"finallyLoc")&&this.prev<C.finallyLoc){var S=C;break}}S&&(E==="break"||E==="continue")&&S.tryLoc<=_&&_<=S.finallyLoc&&(S=null);var P=S?S.completion:{};return P.type=E,P.arg=_,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(P)},complete:function(E,_){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&_&&(this.next=_),f},finish:function(E){for(var _=this.tryEntries.length-1;_>=0;--_){var k=this.tryEntries[_];if(k.finallyLoc===E)return this.complete(k.completion,k.afterLoc),T(k),f}},catch:function(E){for(var _=this.tryEntries.length-1;_>=0;--_){var k=this.tryEntries[_];if(k.tryLoc===E){var C=k.completion;if(C.type==="throw"){var S=C.arg;T(k)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(E,_,k){return this.delegate={iterator:L(E),resultName:_,nextLoc:k},this.method==="next"&&(this.arg=void 0),f}},e}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ipe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ij(n.key),n)}}function fr(e,t,r){return t&&Ipe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ppe(e,t,r){return t=ij(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rj(e,t){return Dpe(e)||Ape(e,t)||nj(e,t)||Rpe()}function g2(e){return _pe(e)||Lpe(e)||nj(e)||Npe()}function _pe(e){if(Array.isArray(e))return m2(e)}function Dpe(e){if(Array.isArray(e))return e}function Lpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nj(e,t){if(e){if(typeof e=="string")return m2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(e,t)}}function m2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Npe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ij(e){var t=Fpe(e,"string");return typeof t=="symbol"?t:String(t)}var Bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hc=function(e){return e&&e.Math===Math&&e},ct=Hc(typeof globalThis=="object"&&globalThis)||Hc(typeof window=="object"&&window)||Hc(typeof self=="object"&&self)||Hc(typeof Bt=="object"&&Bt)||Hc(typeof Bt=="object"&&Bt)||(function(){return this})()||Function("return this")(),oj={exports:{}},tA=ct,jpe=Object.defineProperty,jk=function(e,t){try{jpe(tA,e,{value:t,configurable:!0,writable:!0})}catch{tA[e]=t}return t},Bpe=ct,zpe=jk,rA="__core-js_shared__",Hpe=Bpe[rA]||zpe(rA,{}),Bk=Hpe,nA=Bk;(oj.exports=function(e,t){return nA[e]||(nA[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var zk=oj.exports,De=function(e){try{return!!e()}catch{return!0}},Upe=De,Mv=!Upe(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),aj=Mv,sj=Function.prototype,v2=sj.call,Vpe=aj&&sj.bind.bind(v2,v2),ze=aj?Vpe:function(e){return function(){return v2.apply(e,arguments)}},da=function(e){return e==null},Wpe=da,Kpe=TypeError,Es=function(e){if(Wpe(e))throw new Kpe("Can't call method on "+e);return e},Gpe=Es,qpe=Object,Ei=function(e){return qpe(Gpe(e))},Ype=ze,Jpe=Ei,Xpe=Ype({}.hasOwnProperty),xn=Object.hasOwn||function(t,r){return Xpe(Jpe(t),r)},Qpe=ze,Zpe=0,ege=Math.random(),tge=Qpe(1 .toString),Hk=function(e){return"Symbol("+(e===void 0?"":e)+")_"+tge(++Zpe+ege,36)},Ms=typeof navigator<"u"&&String(navigator.userAgent)||"",lj=ct,sy=Ms,iA=lj.process,oA=lj.Deno,aA=iA&&iA.versions||oA&&oA.version,sA=aA&&aA.v8,Pn,am;sA&&(Pn=sA.split("."),am=Pn[0]>0&&Pn[0]<4?1:+(Pn[0]+Pn[1]));!am&&sy&&(Pn=sy.match(/Edge\/(\d+)/),(!Pn||Pn[1]>=74)&&(Pn=sy.match(/Chrome\/(\d+)/),Pn&&(am=+Pn[1])));var Yf=am,lA=Yf,rge=De,nge=ct,ige=nge.String,cj=!!Object.getOwnPropertySymbols&&!rge(function(){var e=Symbol("symbol detection");return!ige(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&lA&&lA<41}),oge=cj,uj=oge&&!Symbol.sham&&typeof Symbol.iterator=="symbol",age=ct,sge=zk,cA=xn,lge=Hk,cge=cj,uge=uj,bl=age.Symbol,ly=sge("wks"),fge=uge?bl.for||bl:bl&&bl.withoutSetter||lge,ut=function(e){return cA(ly,e)||(ly[e]=cge&&cA(bl,e)?bl[e]:fge("Symbol."+e)),ly[e]},dge=ut,hge=dge("toStringTag"),fj={};fj[hge]="z";var Uk=String(fj)==="[object z]",b2=typeof document=="object"&&document.all,pge=typeof b2>"u"&&b2!==void 0,dj={all:b2,IS_HTMLDDA:pge},hj=dj,gge=hj.all,et=hj.IS_HTMLDDA?function(e){return typeof e=="function"||e===gge}:function(e){return typeof e=="function"},Wn={},mge=De,Fr=!mge(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),uA=et,pj=dj,vge=pj.all,Xt=pj.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:uA(e)||e===vge}:function(e){return typeof e=="object"?e!==null:uA(e)},bge=ct,fA=Xt,y2=bge.document,yge=fA(y2)&&fA(y2.createElement),Av=function(e){return yge?y2.createElement(e):{}},$ge=Fr,wge=De,xge=Av,gj=!$ge&&!wge(function(){return Object.defineProperty(xge("div"),"a",{get:function(){return 7}}).a!==7}),Sge=Fr,kge=De,mj=Sge&&kge(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Oge=Xt,Tge=String,Cge=TypeError,br=function(e){if(Oge(e))return e;throw new Cge(Tge(e)+" is not an object")},Ege=Mv,eh=Function.prototype.call,Qt=Ege?eh.bind(eh):function(){return eh.apply(eh,arguments)},cy=ct,Mge=et,Age=function(e){return Mge(e)?e:void 0},As=function(e,t){return arguments.length<2?Age(cy[e]):cy[e]&&cy[e][t]},Ige=ze,Vk=Ige({}.isPrototypeOf),Pge=As,_ge=et,Dge=Vk,Lge=uj,Nge=Object,vj=Lge?function(e){return typeof e=="symbol"}:function(e){var t=Pge("Symbol");return _ge(t)&&Dge(t.prototype,Nge(e))},Rge=String,Jf=function(e){try{return Rge(e)}catch{return"Object"}},Fge=et,jge=Jf,Bge=TypeError,Mi=function(e){if(Fge(e))return e;throw new Bge(jge(e)+" is not a function")},zge=Mi,Hge=da,Iv=function(e,t){var r=e[t];return Hge(r)?void 0:zge(r)},uy=Qt,fy=et,dy=Xt,Uge=TypeError,Vge=function(e,t){var r,n;if(t==="string"&&fy(r=e.toString)&&!dy(n=uy(r,e))||fy(r=e.valueOf)&&!dy(n=uy(r,e))||t!=="string"&&fy(r=e.toString)&&!dy(n=uy(r,e)))return n;throw new Uge("Can't convert object to primitive value")},Wge=Qt,dA=Xt,hA=vj,Kge=Iv,Gge=Vge,qge=ut,Yge=TypeError,Jge=qge("toPrimitive"),Xge=function(e,t){if(!dA(e)||hA(e))return e;var r=Kge(e,Jge),n;if(r){if(t===void 0&&(t="default"),n=Wge(r,e,t),!dA(n)||hA(n))return n;throw new Yge("Can't convert object to primitive value")}return t===void 0&&(t="number"),Gge(e,t)},Qge=Xge,Zge=vj,Wk=function(e){var t=Qge(e,"string");return Zge(t)?t:t+""},eme=Fr,tme=gj,rme=mj,th=br,pA=Wk,nme=TypeError,hy=Object.defineProperty,ime=Object.getOwnPropertyDescriptor,py="enumerable",gy="configurable",my="writable";Wn.f=eme?rme?function(t,r,n){if(th(t),r=pA(r),th(n),typeof t=="function"&&r==="prototype"&&"value"in n&&my in n&&!n[my]){var i=ime(t,r);i&&i[my]&&(t[r]=n.value,n={configurable:gy in n?n[gy]:i[gy],enumerable:py in n?n[py]:i[py],writable:!1})}return hy(t,r,n)}:hy:function(t,r,n){if(th(t),r=pA(r),th(n),tme)try{return hy(t,r,n)}catch{}if("get"in n||"set"in n)throw new nme("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var bj={exports:{}},$2=Fr,ome=xn,yj=Function.prototype,ame=$2&&Object.getOwnPropertyDescriptor,Kk=ome(yj,"name"),sme=Kk&&(function(){}).name==="something",lme=Kk&&(!$2||$2&&ame(yj,"name").configurable),Pv={EXISTS:Kk,PROPER:sme,CONFIGURABLE:lme},cme=ze,ume=et,w2=Bk,fme=cme(Function.toString);ume(w2.inspectSource)||(w2.inspectSource=function(e){return fme(e)});var Gk=w2.inspectSource,dme=ct,hme=et,gA=dme.WeakMap,pme=hme(gA)&&/native code/.test(String(gA)),_v=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},gme=Fr,mme=Wn,vme=_v,gc=gme?function(e,t,r){return mme.f(e,t,vme(1,r))}:function(e,t,r){return e[t]=r,e},bme=zk,yme=Hk,mA=bme("keys"),qk=function(e){return mA[e]||(mA[e]=yme(e))},Dv={},$me=pme,$j=ct,wme=Xt,xme=gc,vy=xn,by=Bk,Sme=qk,kme=Dv,vA="Object already initialized",x2=$j.TypeError,Ome=$j.WeakMap,sm,xf,lm,Tme=function(e){return lm(e)?xf(e):sm(e,{})},Cme=function(e){return function(t){var r;if(!wme(t)||(r=xf(t)).type!==e)throw new x2("Incompatible receiver, "+e+" required");return r}};if($me||by.state){var Xn=by.state||(by.state=new Ome);Xn.get=Xn.get,Xn.has=Xn.has,Xn.set=Xn.set,sm=function(e,t){if(Xn.has(e))throw new x2(vA);return t.facade=e,Xn.set(e,t),t},xf=function(e){return Xn.get(e)||{}},lm=function(e){return Xn.has(e)}}else{var Ys=Sme("state");kme[Ys]=!0,sm=function(e,t){if(vy(e,Ys))throw new x2(vA);return t.facade=e,xme(e,Ys,t),t},xf=function(e){return vy(e,Ys)?e[Ys]:{}},lm=function(e){return vy(e,Ys)}}var Is={set:sm,get:xf,has:lm,enforce:Tme,getterFor:Cme},Yk=ze,Eme=De,Mme=et,rh=xn,S2=Fr,Ame=Pv.CONFIGURABLE,Ime=Gk,wj=Is,Pme=wj.enforce,_me=wj.get,bA=String,dp=Object.defineProperty,Dme=Yk("".slice),Lme=Yk("".replace),Nme=Yk([].join),Rme=S2&&!Eme(function(){return dp(function(){},"length",{value:8}).length!==8}),Fme=String(String).split("String"),jme=bj.exports=function(e,t,r){Dme(bA(t),0,7)==="Symbol("&&(t="["+Lme(bA(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!rh(e,"name")||Ame&&e.name!==t)&&(S2?dp(e,"name",{value:t,configurable:!0}):e.name=t),Rme&&r&&rh(r,"arity")&&e.length!==r.arity&&dp(e,"length",{value:r.arity});try{r&&rh(r,"constructor")&&r.constructor?S2&&dp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=Pme(e);return rh(n,"source")||(n.source=Nme(Fme,typeof t=="string"?t:"")),e};Function.prototype.toString=jme(function(){return Mme(this)&&_me(this).source||Ime(this)},"toString");var xj=bj.exports,Bme=et,zme=Wn,Hme=xj,Ume=jk,po=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(Bme(r)&&Hme(r,o,n),n.global)i?e[t]=r:Ume(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:zme.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},Sj=ze,Vme=Sj({}.toString),Wme=Sj("".slice),go=function(e){return Wme(Vme(e),8,-1)},Kme=Uk,Gme=et,hp=go,qme=ut,Yme=qme("toStringTag"),Jme=Object,Xme=hp((function(){return arguments})())==="Arguments",Qme=function(e,t){try{return e[t]}catch{}},Lv=Kme?hp:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=Qme(t=Jme(e),Yme))=="string"?r:Xme?hp(t):(n=hp(t))==="Object"&&Gme(t.callee)?"Arguments":n},Zme=Uk,eve=Lv,tve=Zme?{}.toString:function(){return"[object "+eve(this)+"]"},rve=Uk,nve=po,ive=tve;rve||nve(Object.prototype,"toString",ive,{unsafe:!0});var Xf={},Nv={},kj={}.propertyIsEnumerable,Oj=Object.getOwnPropertyDescriptor,ove=Oj&&!kj.call({1:2},1);Nv.f=ove?function(t){var r=Oj(this,t);return!!r&&r.enumerable}:kj;var ave=ze,sve=De,lve=go,yy=Object,cve=ave("".split),Rv=sve(function(){return!yy("z").propertyIsEnumerable(0)})?function(e){return lve(e)==="String"?cve(e,""):yy(e)}:yy,uve=Rv,fve=Es,mo=function(e){return uve(fve(e))},dve=Fr,hve=Qt,pve=Nv,gve=_v,mve=mo,vve=Wk,bve=xn,yve=gj,yA=Object.getOwnPropertyDescriptor;Xf.f=dve?yA:function(t,r){if(t=mve(t),r=vve(r),yve)try{return yA(t,r)}catch{}if(bve(t,r))return gve(!hve(pve.f,t,r),t[r])};var Fv={},$ve=Math.ceil,wve=Math.floor,xve=Math.trunc||function(t){var r=+t;return(r>0?wve:$ve)(r)},Sve=xve,jv=function(e){var t=+e;return t!==t||t===0?0:Sve(t)},kve=jv,Ove=Math.max,Tve=Math.min,Bv=function(e,t){var r=kve(e);return r<0?Ove(r+t,0):Tve(r,t)},Cve=jv,Eve=Math.min,Jk=function(e){return e>0?Eve(Cve(e),9007199254740991):0},Mve=Jk,vo=function(e){return Mve(e.length)},Ave=mo,Ive=Bv,Pve=vo,$A=function(e){return function(t,r,n){var i=Ave(t),o=Pve(i),a=Ive(n,o),s;if(e&&r!==r){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},Tj={includes:$A(!0),indexOf:$A(!1)},_ve=ze,$y=xn,Dve=mo,Lve=Tj.indexOf,Nve=Dv,wA=_ve([].push),Cj=function(e,t){var r=Dve(e),n=0,i=[],o;for(o in r)!$y(Nve,o)&&$y(r,o)&&wA(i,o);for(;t.length>n;)$y(r,o=t[n++])&&(~Lve(i,o)||wA(i,o));return i},Xk=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Rve=Cj,Fve=Xk,jve=Fve.concat("length","prototype");Fv.f=Object.getOwnPropertyNames||function(t){return Rve(t,jve)};var Qk={};Qk.f=Object.getOwnPropertySymbols;var Bve=As,zve=ze,Hve=Fv,Uve=Qk,Vve=br,Wve=zve([].concat),Kve=Bve("Reflect","ownKeys")||function(t){var r=Hve.f(Vve(t)),n=Uve.f;return n?Wve(r,n(t)):r},xA=xn,Gve=Kve,qve=Xf,Yve=Wn,Jve=function(e,t,r){for(var n=Gve(t),i=Yve.f,o=qve.f,a=0;a<n.length;a++){var s=n[a];!xA(e,s)&&!(r&&xA(r,s))&&i(e,s,o(t,s))}},Xve=De,Qve=et,Zve=/#|\.prototype\./,Qf=function(e,t){var r=t0e[e0e(e)];return r===n0e?!0:r===r0e?!1:Qve(t)?Xve(t):!!t},e0e=Qf.normalize=function(e){return String(e).replace(Zve,".").toLowerCase()},t0e=Qf.data={},r0e=Qf.NATIVE="N",n0e=Qf.POLYFILL="P",Zk=Qf,wy=ct,i0e=Xf.f,o0e=gc,a0e=po,s0e=jk,l0e=Jve,c0e=Zk,Ge=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,s,l,c,u;if(n?a=wy:i?a=wy[r]||s0e(r,{}):a=(wy[r]||{}).prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=i0e(a,s),l=u&&u.value):l=a[s],o=c0e(n?s:r+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;l0e(c,l)}(e.sham||l&&l.sham)&&o0e(c,"sham",!0),a0e(a,s,c,e)}},u0e=ct,f0e=go,zv=f0e(u0e.process)==="process",d0e=ze,h0e=Mi,p0e=function(e,t,r){try{return d0e(h0e(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},g0e=et,m0e=String,v0e=TypeError,b0e=function(e){if(typeof e=="object"||g0e(e))return e;throw new v0e("Can't set "+m0e(e)+" as a prototype")},y0e=p0e,$0e=br,w0e=b0e,eO=Object.setPrototypeOf||("__proto__"in{}?(function(){var e=!1,t={},r;try{r=y0e(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,o){return $0e(i),w0e(o),e?r(i,o):i.__proto__=o,i}})():void 0),x0e=Wn.f,S0e=xn,k0e=ut,SA=k0e("toStringTag"),Zf=function(e,t,r){e&&!r&&(e=e.prototype),e&&!S0e(e,SA)&&x0e(e,SA,{configurable:!0,value:t})},kA=xj,O0e=Wn,tO=function(e,t,r){return r.get&&kA(r.get,t,{getter:!0}),r.set&&kA(r.set,t,{setter:!0}),O0e.f(e,t,r)},T0e=As,C0e=tO,E0e=ut,M0e=Fr,OA=E0e("species"),Ej=function(e){var t=T0e(e);M0e&&t&&!t[OA]&&C0e(t,OA,{configurable:!0,get:function(){return this}})},A0e=Vk,I0e=TypeError,Hv=function(e,t){if(A0e(t,e))return e;throw new I0e("Incorrect invocation")},P0e=ze,_0e=De,Mj=et,D0e=Lv,L0e=As,N0e=Gk,Aj=function(){},R0e=[],Ij=L0e("Reflect","construct"),rO=/^\s*(?:class|function)\b/,F0e=P0e(rO.exec),j0e=!rO.test(Aj),Uc=function(t){if(!Mj(t))return!1;try{return Ij(Aj,R0e,t),!0}catch{return!1}},Pj=function(t){if(!Mj(t))return!1;switch(D0e(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return j0e||!!F0e(rO,N0e(t))}catch{return!0}};Pj.sham=!0;var Uv=!Ij||_0e(function(){var e;return Uc(Uc.call)||!Uc(Object)||!Uc(function(){e=!0})||e})?Pj:Uc,B0e=Uv,z0e=Jf,H0e=TypeError,U0e=function(e){if(B0e(e))return e;throw new H0e(z0e(e)+" is not a constructor")},TA=br,V0e=U0e,W0e=da,K0e=ut,G0e=K0e("species"),q0e=function(e,t){var r=TA(e).constructor,n;return r===void 0||W0e(n=TA(r)[G0e])?t:V0e(n)},Y0e=Mv,_j=Function.prototype,CA=_j.apply,EA=_j.call,Dj=typeof Reflect=="object"&&Reflect.apply||(Y0e?EA.bind(CA):function(){return EA.apply(CA,arguments)}),J0e=go,X0e=ze,nO=function(e){if(J0e(e)==="Function")return X0e(e)},MA=nO,Q0e=Mi,Z0e=Mv,ebe=MA(MA.bind),mc=function(e,t){return Q0e(e),t===void 0?e:Z0e?ebe(e,t):function(){return e.apply(t,arguments)}},tbe=As,Lj=tbe("document","documentElement"),rbe=ze,Nj=rbe([].slice),nbe=TypeError,ibe=function(e,t){if(e<t)throw new nbe("Not enough arguments");return e},obe=Ms,Rj=/(?:ipad|iphone|ipod).*applewebkit/i.test(obe),Wr=ct,abe=Dj,sbe=mc,AA=et,lbe=xn,Fj=De,IA=Lj,cbe=Nj,PA=Av,ube=ibe,fbe=Rj,dbe=zv,k2=Wr.setImmediate,_A=Wr.clearImmediate,hbe=Wr.process,xy=Wr.Dispatch,pbe=Wr.Function,DA=Wr.MessageChannel,gbe=Wr.String,Sy=0,Fu={},LA="onreadystatechange",Sf,Ca,ky,Oy;Fj(function(){Sf=Wr.location});var iO=function(e){if(lbe(Fu,e)){var t=Fu[e];delete Fu[e],t()}},Ty=function(e){return function(){iO(e)}},NA=function(e){iO(e.data)},RA=function(e){Wr.postMessage(gbe(e),Sf.protocol+"//"+Sf.host)};(!k2||!_A)&&(k2=function(t){ube(arguments.length,1);var r=AA(t)?t:pbe(t),n=cbe(arguments,1);return Fu[++Sy]=function(){abe(r,void 0,n)},Ca(Sy),Sy},_A=function(t){delete Fu[t]},dbe?Ca=function(e){hbe.nextTick(Ty(e))}:xy&&xy.now?Ca=function(e){xy.now(Ty(e))}:DA&&!fbe?(ky=new DA,Oy=ky.port2,ky.port1.onmessage=NA,Ca=sbe(Oy.postMessage,Oy)):Wr.addEventListener&&AA(Wr.postMessage)&&!Wr.importScripts&&Sf&&Sf.protocol!=="file:"&&!Fj(RA)?(Ca=RA,Wr.addEventListener("message",NA,!1)):LA in PA("script")?Ca=function(e){IA.appendChild(PA("script"))[LA]=function(){IA.removeChild(this),iO(e)}}:Ca=function(e){setTimeout(Ty(e),0)});var jj={set:k2},Bj=function(){this.head=null,this.tail=null};Bj.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var zj=Bj,mbe=Ms,vbe=/ipad|iphone|ipod/i.test(mbe)&&typeof Pebble<"u",bbe=Ms,ybe=/web0s(?!.*chrome)/i.test(bbe),ds=ct,FA=mc,$be=Xf.f,Cy=jj.set,wbe=zj,xbe=Rj,Sbe=vbe,kbe=ybe,Ey=zv,jA=ds.MutationObserver||ds.WebKitMutationObserver,BA=ds.document,zA=ds.process,nh=ds.Promise,HA=$be(ds,"queueMicrotask"),O2=HA&&HA.value,Js,My,Ay,ih,UA;if(!O2){var oh=new wbe,ah=function(){var e,t;for(Ey&&(e=zA.domain)&&e.exit();t=oh.get();)try{t()}catch(r){throw oh.head&&Js(),r}e&&e.enter()};!xbe&&!Ey&&!kbe&&jA&&BA?(My=!0,Ay=BA.createTextNode(""),new jA(ah).observe(Ay,{characterData:!0}),Js=function(){Ay.data=My=!My}):!Sbe&&nh&&nh.resolve?(ih=nh.resolve(void 0),ih.constructor=nh,UA=FA(ih.then,ih),Js=function(){UA(ah)}):Ey?Js=function(){zA.nextTick(ah)}:(Cy=FA(Cy,ds),Js=function(){Cy(ah)}),O2=function(e){oh.head||Js(),oh.add(e)}}var Obe=O2,Tbe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},Vv=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},Cbe=ct,Wv=Cbe.Promise,Hj=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",Ebe=Hj,Mbe=zv,Abe=!Ebe&&!Mbe&&typeof window=="object"&&typeof document=="object",Ibe=ct,ju=Wv,Pbe=et,_be=Zk,Dbe=Gk,Lbe=ut,Nbe=Abe,Rbe=Hj,Iy=Yf;ju&&ju.prototype;var Fbe=Lbe("species"),T2=!1,Uj=Pbe(Ibe.PromiseRejectionEvent),jbe=_be("Promise",function(){var e=Dbe(ju),t=e!==String(ju);if(!t&&Iy===66)return!0;if(!Iy||Iy<51||!/native code/.test(e)){var r=new ju(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[Fbe]=n,T2=r.then(function(){})instanceof n,!T2)return!0}return!t&&(Nbe||Rbe)&&!Uj}),ed={CONSTRUCTOR:jbe,REJECTION_EVENT:Uj,SUBCLASSING:T2},Ps={},VA=Mi,Bbe=TypeError,zbe=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new Bbe("Bad Promise constructor");t=n,r=i}),this.resolve=VA(t),this.reject=VA(r)};Ps.f=function(e){return new zbe(e)};var Hbe=Ge,cm=zv,na=ct,Ql=Qt,WA=po,KA=eO,Ube=Zf,Vbe=Ej,Wbe=Mi,pp=et,Kbe=Xt,Gbe=Hv,qbe=q0e,Vj=jj.set,oO=Obe,Ybe=Tbe,Jbe=Vv,Xbe=zj,Wj=Is,um=Wv,aO=ed,Kj=Ps,Kv="Promise",Gj=aO.CONSTRUCTOR,Qbe=aO.REJECTION_EVENT,Zbe=aO.SUBCLASSING,Py=Wj.getterFor(Kv),eye=Wj.set,hl=um&&um.prototype,Da=um,sh=hl,qj=na.TypeError,C2=na.document,sO=na.process,E2=Kj.f,tye=E2,rye=!!(C2&&C2.createEvent&&na.dispatchEvent),Yj="unhandledrejection",nye="rejectionhandled",GA=0,Jj=1,iye=2,lO=1,Xj=2,lh,qA,oye,YA,Qj=function(e){var t;return Kbe(e)&&pp(t=e.then)?t:!1},Zj=function(e,t){var r=t.value,n=t.state===Jj,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,l,c,u;try{i?(n||(t.rejection===Xj&&sye(t),t.rejection=lO),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),u=!0)),l===e.promise?a(new qj("Promise-chain cycle")):(c=Qj(l))?Ql(c,l,o,a):o(l)):a(r)}catch(f){s&&!u&&s.exit(),a(f)}},eB=function(e,t){e.notified||(e.notified=!0,oO(function(){for(var r=e.reactions,n;n=r.get();)Zj(n,e);e.notified=!1,t&&!e.rejection&&aye(e)}))},tB=function(e,t,r){var n,i;rye?(n=C2.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),na.dispatchEvent(n)):n={promise:t,reason:r},!Qbe&&(i=na["on"+e])?i(n):e===Yj&&Ybe("Unhandled promise rejection",r)},aye=function(e){Ql(Vj,na,function(){var t=e.facade,r=e.value,n=JA(e),i;if(n&&(i=Jbe(function(){cm?sO.emit("unhandledRejection",r,t):tB(Yj,t,r)}),e.rejection=cm||JA(e)?Xj:lO,i.error))throw i.value})},JA=function(e){return e.rejection!==lO&&!e.parent},sye=function(e){Ql(Vj,na,function(){var t=e.facade;cm?sO.emit("rejectionHandled",t):tB(nye,t,e.value)})},yl=function(e,t,r){return function(n){e(t,n,r)}},Nl=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=iye,eB(e,!0))},M2=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new qj("Promise can't be resolved itself");var n=Qj(t);n?oO(function(){var i={done:!1};try{Ql(n,t,yl(M2,i,e),yl(Nl,i,e))}catch(o){Nl(i,o,e)}}):(e.value=t,e.state=Jj,eB(e,!1))}catch(i){Nl({done:!1},i,e)}}};if(Gj&&(Da=function(t){Gbe(this,sh),Wbe(t),Ql(lh,this);var r=Py(this);try{t(yl(M2,r),yl(Nl,r))}catch(n){Nl(r,n)}},sh=Da.prototype,lh=function(t){eye(this,{type:Kv,done:!1,notified:!1,parent:!1,reactions:new Xbe,rejection:!1,state:GA,value:void 0})},lh.prototype=WA(sh,"then",function(t,r){var n=Py(this),i=E2(qbe(this,Da));return n.parent=!0,i.ok=pp(t)?t:!0,i.fail=pp(r)&&r,i.domain=cm?sO.domain:void 0,n.state===GA?n.reactions.add(i):oO(function(){Zj(i,n)}),i.promise}),qA=function(){var e=new lh,t=Py(e);this.promise=e,this.resolve=yl(M2,t),this.reject=yl(Nl,t)},Kj.f=E2=function(e){return e===Da||e===oye?new qA(e):tye(e)},pp(um)&&hl!==Object.prototype)){YA=hl.then,Zbe||WA(hl,"then",function(t,r){var n=this;return new Da(function(i,o){Ql(YA,n,i,o)}).then(t,r)},{unsafe:!0});try{delete hl.constructor}catch{}KA&&KA(hl,sh)}Hbe({global:!0,constructor:!0,wrap:!0,forced:Gj},{Promise:Da});Ube(Da,Kv,!1);Vbe(Kv);var td={},lye=ut,cye=td,uye=lye("iterator"),fye=Array.prototype,rB=function(e){return e!==void 0&&(cye.Array===e||fye[uye]===e)},dye=Lv,XA=Iv,hye=da,pye=td,gye=ut,mye=gye("iterator"),cO=function(e){if(!hye(e))return XA(e,mye)||XA(e,"@@iterator")||pye[dye(e)]},vye=Qt,bye=Mi,yye=br,$ye=Jf,wye=cO,xye=TypeError,nB=function(e,t){var r=arguments.length<2?wye(e):t;if(bye(r))return yye(vye(r,e));throw new xye($ye(e)+" is not iterable")},Sye=Qt,QA=br,kye=Iv,iB=function(e,t,r){var n,i;QA(e);try{if(n=kye(e,"return"),!n){if(t==="throw")throw r;return r}n=Sye(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return QA(n),r},Oye=mc,Tye=Qt,Cye=br,Eye=Jf,Mye=rB,Aye=vo,ZA=Vk,Iye=nB,Pye=cO,eI=iB,_ye=TypeError,gp=function(e,t){this.stopped=e,this.result=t},tI=gp.prototype,vc=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=Oye(t,n),c,u,f,d,h,p,g,m=function(b){return c&&eI(c,"normal",b),new gp(!0,b)},v=function(b){return i?(Cye(b),s?l(b[0],b[1],m):l(b[0],b[1])):s?l(b,m):l(b)};if(o)c=e.iterator;else if(a)c=e;else{if(u=Pye(e),!u)throw new _ye(Eye(e)+" is not iterable");if(Mye(u)){for(f=0,d=Aye(e);d>f;f++)if(h=v(e[f]),h&&ZA(tI,h))return h;return new gp(!1)}c=Iye(e,u)}for(p=o?e.next:c.next;!(g=Tye(p,c)).done;){try{h=v(g.value)}catch(b){eI(c,"throw",b)}if(typeof h=="object"&&h&&ZA(tI,h))return h}return new gp(!1)},Dye=ut,oB=Dye("iterator"),aB=!1;try{var Lye=0,rI={next:function(){return{done:!!Lye++}},return:function(){aB=!0}};rI[oB]=function(){return this},Array.from(rI,function(){throw 2})}catch{}var uO=function(e,t){try{if(!t&&!aB)return!1}catch{return!1}var r=!1;try{var n={};n[oB]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},Nye=Wv,Rye=uO,Fye=ed.CONSTRUCTOR,fO=Fye||!Rye(function(e){Nye.all(e).then(void 0,function(){})}),jye=Ge,Bye=Qt,zye=Mi,Hye=Ps,Uye=Vv,Vye=vc,Wye=fO;jye({target:"Promise",stat:!0,forced:Wye},{all:function(t){var r=this,n=Hye.f(r),i=n.resolve,o=n.reject,a=Uye(function(){var s=zye(r.resolve),l=[],c=0,u=1;Vye(t,function(f){var d=c++,h=!1;u++,Bye(s,r,f).then(function(p){h||(h=!0,l[d]=p,--u||i(l))},o)}),--u||i(l)});return a.error&&o(a.value),n.promise}});var Kye=Ge,Gye=ed.CONSTRUCTOR,A2=Wv,qye=As,Yye=et,Jye=po,nI=A2&&A2.prototype;Kye({target:"Promise",proto:!0,forced:Gye,real:!0},{catch:function(e){return this.then(void 0,e)}});if(Yye(A2)){var iI=qye("Promise").prototype.catch;nI.catch!==iI&&Jye(nI,"catch",iI,{unsafe:!0})}var Xye=Ge,Qye=Qt,Zye=Mi,e1e=Ps,t1e=Vv,r1e=vc,n1e=fO;Xye({target:"Promise",stat:!0,forced:n1e},{race:function(t){var r=this,n=e1e.f(r),i=n.reject,o=t1e(function(){var a=Zye(r.resolve);r1e(t,function(s){Qye(a,r,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var i1e=Ge,o1e=Qt,a1e=Ps,s1e=ed.CONSTRUCTOR;i1e({target:"Promise",stat:!0,forced:s1e},{reject:function(t){var r=a1e.f(this);return o1e(r.reject,void 0,t),r.promise}});var l1e=br,c1e=Xt,u1e=Ps,f1e=function(e,t){if(l1e(e),c1e(t)&&t.constructor===e)return t;var r=u1e.f(e),n=r.resolve;return n(t),r.promise},d1e=Ge,h1e=As,p1e=ed.CONSTRUCTOR,g1e=f1e;h1e("Promise");d1e({target:"Promise",stat:!0,forced:p1e},{resolve:function(t){return g1e(this,t)}});var sB={},m1e=Cj,v1e=Xk,Gv=Object.keys||function(t){return m1e(t,v1e)},b1e=Fr,y1e=mj,$1e=Wn,w1e=br,x1e=mo,S1e=Gv;sB.f=b1e&&!y1e?Object.defineProperties:function(t,r){w1e(t);for(var n=x1e(r),i=S1e(r),o=i.length,a=0,s;o>a;)$1e.f(t,s=i[a++],n[s]);return t};var k1e=br,O1e=sB,oI=Xk,T1e=Dv,C1e=Lj,E1e=Av,M1e=qk,aI=">",sI="<",I2="prototype",P2="script",lB=M1e("IE_PROTO"),_y=function(){},cB=function(e){return sI+P2+aI+e+sI+"/"+P2+aI},lI=function(e){e.write(cB("")),e.close();var t=e.parentWindow.Object;return e=null,t},A1e=function(){var e=E1e("iframe"),t="java"+P2+":",r;return e.style.display="none",C1e.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(cB("document.F=Object")),r.close(),r.F},ch,mp=function(){try{ch=new ActiveXObject("htmlfile")}catch{}mp=typeof document<"u"?document.domain&&ch?lI(ch):A1e():lI(ch);for(var e=oI.length;e--;)delete mp[I2][oI[e]];return mp()};T1e[lB]=!0;var qv=Object.create||function(t,r){var n;return t!==null?(_y[I2]=k1e(t),n=new _y,_y[I2]=null,n[lB]=t):n=mp(),r===void 0?n:O1e.f(n,r)},I1e=ut,P1e=qv,_1e=Wn.f,_2=I1e("unscopables"),D2=Array.prototype;D2[_2]===void 0&&_1e(D2,_2,{configurable:!0,value:P1e(null)});var dO=function(e){D2[_2][e]=!0},D1e=De,L1e=!D1e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),N1e=xn,R1e=et,F1e=Ei,j1e=qk,B1e=L1e,cI=j1e("IE_PROTO"),L2=Object,z1e=L2.prototype,hO=B1e?L2.getPrototypeOf:function(e){var t=F1e(e);if(N1e(t,cI))return t[cI];var r=t.constructor;return R1e(r)&&t instanceof r?r.prototype:t instanceof L2?z1e:null},H1e=De,U1e=et,V1e=Xt,uI=hO,W1e=po,K1e=ut,N2=K1e("iterator"),uB=!1,hs,Dy,Ly;[].keys&&(Ly=[].keys(),"next"in Ly?(Dy=uI(uI(Ly)),Dy!==Object.prototype&&(hs=Dy)):uB=!0);var G1e=!V1e(hs)||H1e(function(){var e={};return hs[N2].call(e)!==e});G1e&&(hs={});U1e(hs[N2])||W1e(hs,N2,function(){return this});var fB={IteratorPrototype:hs,BUGGY_SAFARI_ITERATORS:uB},q1e=fB.IteratorPrototype,Y1e=qv,J1e=_v,X1e=Zf,Q1e=td,Z1e=function(){return this},e$e=function(e,t,r,n){var i=t+" Iterator";return e.prototype=Y1e(q1e,{next:J1e(+!n,r)}),X1e(e,i,!1),Q1e[i]=Z1e,e},t$e=Ge,r$e=Qt,dB=Pv,n$e=et,i$e=e$e,fI=hO,dI=eO,o$e=Zf,a$e=gc,Ny=po,s$e=ut,l$e=td,hB=fB,c$e=dB.PROPER,u$e=dB.CONFIGURABLE,hI=hB.IteratorPrototype,uh=hB.BUGGY_SAFARI_ITERATORS,Vc=s$e("iterator"),pI="keys",Wc="values",gI="entries",f$e=function(){return this},pO=function(e,t,r,n,i,o,a){i$e(r,t,n);var s=function(v){if(v===i&&d)return d;if(!uh&&v&&v in u)return u[v];switch(v){case pI:return function(){return new r(this,v)};case Wc:return function(){return new r(this,v)};case gI:return function(){return new r(this,v)}}return function(){return new r(this)}},l=t+" Iterator",c=!1,u=e.prototype,f=u[Vc]||u["@@iterator"]||i&&u[i],d=!uh&&f||s(i),h=t==="Array"&&u.entries||f,p,g,m;if(h&&(p=fI(h.call(new e)),p!==Object.prototype&&p.next&&(fI(p)!==hI&&(dI?dI(p,hI):n$e(p[Vc])||Ny(p,Vc,f$e)),o$e(p,l,!0))),c$e&&i===Wc&&f&&f.name!==Wc&&(u$e?a$e(u,"name",Wc):(c=!0,d=function(){return r$e(f,this)})),i)if(g={values:s(Wc),keys:o?d:s(pI),entries:s(gI)},a)for(m in g)(uh||c||!(m in u))&&Ny(u,m,g[m]);else t$e({target:t,proto:!0,forced:uh||c},g);return u[Vc]!==d&&Ny(u,Vc,d,{name:i}),l$e[t]=d,g},gO=function(e,t){return{value:e,done:t}},d$e=mo,mO=dO,mI=td,pB=Is,h$e=Wn.f,p$e=pO,fh=gO,g$e=Fr,gB="Array Iterator",m$e=pB.set,v$e=pB.getterFor(gB),b$e=p$e(Array,"Array",function(e,t){m$e(this,{type:gB,target:d$e(e),index:0,kind:t})},function(){var e=v$e(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,fh(void 0,!0);switch(e.kind){case"keys":return fh(r,!1);case"values":return fh(t[r],!1)}return fh([r,t[r]],!1)},"values"),vI=mI.Arguments=mI.Array;mO("keys");mO("values");mO("entries");if(g$e&&vI.name!=="values")try{h$e(vI,"name",{value:"values"})}catch{}var y$e=Ge,$$e=Qt,w$e=Mi,x$e=Ps,S$e=Vv,k$e=vc,O$e=fO;y$e({target:"Promise",stat:!0,forced:O$e},{allSettled:function(t){var r=this,n=x$e.f(r),i=n.resolve,o=n.reject,a=S$e(function(){var s=w$e(r.resolve),l=[],c=0,u=1;k$e(t,function(f){var d=c++,h=!1;u++,$$e(s,r,f).then(function(p){h||(h=!0,l[d]={status:"fulfilled",value:p},--u||i(l))},function(p){h||(h=!0,l[d]={status:"rejected",reason:p},--u||i(l))})}),--u||i(l)});return a.error&&o(a.value),n.promise}});var T$e=Lv,C$e=String,ha=function(e){if(T$e(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return C$e(e)},vO=ze,E$e=jv,M$e=ha,A$e=Es,I$e=vO("".charAt),bI=vO("".charCodeAt),P$e=vO("".slice),_$e=function(e){return function(t,r){var n=M$e(A$e(t)),i=E$e(r),o=n.length,a,s;return i<0||i>=o?e?"":void 0:(a=bI(n,i),a<55296||a>56319||i+1===o||(s=bI(n,i+1))<56320||s>57343?e?I$e(n,i):a:e?P$e(n,i,i+2):(a-55296<<10)+(s-56320)+65536)}},mB={charAt:_$e(!0)},D$e=mB.charAt,L$e=ha,vB=Is,N$e=pO,yI=gO,bB="String Iterator",R$e=vB.set,F$e=vB.getterFor(bB);N$e(String,"String",function(e){R$e(this,{type:bB,string:L$e(e),index:0})},function(){var t=F$e(this),r=t.string,n=t.index,i;return n>=r.length?yI(void 0,!0):(i=D$e(r,n),t.index+=i.length,yI(i,!1))});var yB={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},j$e=Av,Ry=j$e("span").classList,$I=Ry&&Ry.constructor&&Ry.constructor.prototype,$B=$I===Object.prototype?void 0:$I,wI=ct,wB=yB,B$e=$B,yu=b$e,xI=gc,z$e=Zf,H$e=ut,Fy=H$e("iterator"),jy=yu.values,xB=function(e,t){if(e){if(e[Fy]!==jy)try{xI(e,Fy,jy)}catch{e[Fy]=jy}if(z$e(e,t,!0),wB[t]){for(var r in yu)if(e[r]!==yu[r])try{xI(e,r,yu[r])}catch{e[r]=yu[r]}}}};for(var By in wB)xB(wI[By]&&wI[By].prototype,By);xB(B$e,"DOMTokenList");var U$e=Ei,SI=Bv,V$e=vo,W$e=function(t){for(var r=U$e(this),n=V$e(r),i=arguments.length,o=SI(i>1?arguments[1]:void 0,n),a=i>2?arguments[2]:void 0,s=a===void 0?n:SI(a,n);s>o;)r[o++]=t;return r},K$e=Ge,G$e=W$e,q$e=dO;K$e({target:"Array",proto:!0},{fill:G$e});q$e("fill");var Y$e=go,bO=Array.isArray||function(t){return Y$e(t)==="Array"},J$e=Wk,X$e=Wn,Q$e=_v,Yv=function(e,t,r){var n=J$e(t);n in e?X$e.f(e,n,Q$e(0,r)):e[n]=r},Z$e=De,ewe=ut,twe=Yf,rwe=ewe("species"),Jv=function(e){return twe>=51||!Z$e(function(){var t=[],r=t.constructor={};return r[rwe]=function(){return{foo:1}},t[e](Boolean).foo!==1})},nwe=Ge,kI=bO,iwe=Uv,owe=Xt,OI=Bv,awe=vo,swe=mo,lwe=Yv,cwe=ut,uwe=Jv,fwe=Nj,dwe=uwe("slice"),hwe=cwe("species"),zy=Array,pwe=Math.max;nwe({target:"Array",proto:!0,forced:!dwe},{slice:function(t,r){var n=swe(this),i=awe(n),o=OI(t,i),a=OI(r===void 0?i:r,i),s,l,c;if(kI(n)&&(s=n.constructor,iwe(s)&&(s===zy||kI(s.prototype))?s=void 0:owe(s)&&(s=s[hwe],s===null&&(s=void 0)),s===zy||s===void 0))return fwe(n,o,a);for(l=new(s===void 0?zy:s)(pwe(a-o,0)),c=0;o<a;o++,c++)o in n&&lwe(l,c,n[o]);return l.length=c,l}});function yO(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(f){a(f)}}function l(u){try{c(n.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,[])).next())})}function ge(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var SB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),p=r?r+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,d,h,p){var g=r?r+c:c;if(!this._events[g])return!1;var m=this._events[g],v=arguments.length,b,y;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,d),!0;case 5:return m.fn.call(m.context,u,f,d,h),!0;case 6:return m.fn.call(m.context,u,f,d,h,p),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];m.fn.apply(m.context,b)}else{var w=m.length,$;for(y=0;y<w;y++)switch(m[y].once&&this.removeListener(c,m[y].fn,void 0,!0),v){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,u);break;case 3:m[y].fn.call(m[y].context,u,f);break;case 4:m[y].fn.call(m[y].context,u,f,d);break;default:if(!b)for($=1,b=new Array(v-1);$<v;$++)b[$-1]=arguments[$];m[y].fn.apply(m[y].context,b)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,d){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&a(this,h);else{for(var g=0,m=[],v=p.length;g<v;g++)(p[g].fn!==u||d&&!p[g].once||f&&p[g].context!==f)&&m.push(p[g]);m.length?this._events[h]=m.length===1?m[0]:m:a(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(SB);var gwe=SB.exports,mwe=vr(gwe),vwe=Array.isArray,yn=vwe;function Xv(){if(!arguments.length)return[];var e=arguments[0];return yn(e)?e:[e]}var TI=bO,bwe=Uv,ywe=Xt,$we=ut,wwe=$we("species"),CI=Array,xwe=function(e){var t;return TI(e)&&(t=e.constructor,bwe(t)&&(t===CI||TI(t.prototype))?t=void 0:ywe(t)&&(t=t[wwe],t===null&&(t=void 0))),t===void 0?CI:t},Swe=xwe,kB=function(e,t){return new(Swe(e))(t===0?0:t)},kwe=mc,Owe=ze,Twe=Rv,Cwe=Ei,Ewe=vo,Mwe=kB,EI=Owe([].push),Kc=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,s=e===5||o;return function(l,c,u,f){for(var d=Cwe(l),h=Twe(d),p=Ewe(h),g=kwe(c,u),m=0,v=f||Mwe,b=t?v(l,p):r||a?v(l,0):void 0,y,w;p>m;m++)if((s||m in h)&&(y=h[m],w=g(y,m,d),e))if(t)b[m]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:EI(b,y)}else switch(e){case 4:return!1;case 7:EI(b,y)}return o?-1:n||i?i:b}},Qv={forEach:Kc(0),map:Kc(1),filter:Kc(2),find:Kc(5),findIndex:Kc(6)},Awe=Ge,Iwe=Qv.map,Pwe=Jv,_we=Pwe("map");Awe({target:"Array",proto:!0,forced:!_we},{map:function(t){return Iwe(this,t,arguments.length>1?arguments[1]:void 0)}});var MI=Fr,Dwe=ze,Lwe=Qt,Nwe=De,Hy=Gv,Rwe=Qk,Fwe=Nv,jwe=Ei,Bwe=Rv,Xs=Object.assign,AI=Object.defineProperty,zwe=Dwe([].concat),Hwe=!Xs||Nwe(function(){if(MI&&Xs({b:1},Xs(AI({},"a",{enumerable:!0,get:function(){AI(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),Xs({},e)[r]!==7||Hy(Xs({},t)).join("")!==n})?function(t,r){for(var n=jwe(t),i=arguments.length,o=1,a=Rwe.f,s=Fwe.f;i>o;)for(var l=Bwe(arguments[o++]),c=a?zwe(Hy(l),a(l)):Hy(l),u=c.length,f=0,d;u>f;)d=c[f++],(!MI||Lwe(s,l,d))&&(n[d]=l[d]);return n}:Xs,Uwe=Ge,II=Hwe;Uwe({target:"Object",stat:!0,arity:2,forced:Object.assign!==II},{assign:II});var OB={exports:{}},TB={},PI=Bv,Vwe=vo,Wwe=Yv,Kwe=Array,Gwe=Math.max,CB=function(e,t,r){for(var n=Vwe(e),i=PI(t,n),o=PI(r===void 0?n:r,n),a=Kwe(Gwe(o-i,0)),s=0;i<o;i++,s++)Wwe(a,s,e[i]);return a.length=s,a},qwe=go,Ywe=mo,EB=Fv.f,Jwe=CB,MB=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Xwe=function(e){try{return EB(e)}catch{return Jwe(MB)}};TB.f=function(t){return MB&&qwe(t)==="Window"?Xwe(t):EB(Ywe(t))};var Qwe=De,Zwe=Qwe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),e2e=De,t2e=Xt,r2e=go,_I=Zwe,vp=Object.isExtensible,n2e=e2e(function(){vp(1)}),i2e=n2e||_I?function(t){return!t2e(t)||_I&&r2e(t)==="ArrayBuffer"?!1:vp?vp(t):!0}:vp,o2e=De,a2e=!o2e(function(){return Object.isExtensible(Object.preventExtensions({}))}),s2e=Ge,l2e=ze,c2e=Dv,u2e=Xt,$O=xn,f2e=Wn.f,DI=Fv,d2e=TB,wO=i2e,h2e=Hk,p2e=a2e,AB=!1,no=h2e("meta"),g2e=0,xO=function(e){f2e(e,no,{value:{objectID:"O"+g2e++,weakData:{}}})},m2e=function(e,t){if(!u2e(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!$O(e,no)){if(!wO(e))return"F";if(!t)return"E";xO(e)}return e[no].objectID},v2e=function(e,t){if(!$O(e,no)){if(!wO(e))return!0;if(!t)return!1;xO(e)}return e[no].weakData},b2e=function(e){return p2e&&AB&&wO(e)&&!$O(e,no)&&xO(e),e},y2e=function(){$2e.enable=function(){},AB=!0;var e=DI.f,t=l2e([].splice),r={};r[no]=1,e(r).length&&(DI.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===no){t(i,o,1);break}return i},s2e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d2e.f}))},$2e=OB.exports={enable:y2e,fastKey:m2e,getWeakData:v2e,onFreeze:b2e};c2e[no]=!0;var SO=OB.exports,w2e=et,x2e=Xt,LI=eO,S2e=function(e,t,r){var n,i;return LI&&w2e(n=t.constructor)&&n!==r&&x2e(i=n.prototype)&&i!==r.prototype&&LI(e,i),e},k2e=Ge,O2e=ct,T2e=ze,NI=Zk,C2e=po,E2e=SO,M2e=vc,A2e=Hv,I2e=et,P2e=da,Uy=Xt,Vy=De,_2e=uO,D2e=Zf,L2e=S2e,kO=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=O2e[e],s=a&&a.prototype,l=a,c={},u=function(v){var b=T2e(s[v]);C2e(s,v,v==="add"?function(w){return b(this,w===0?0:w),this}:v==="delete"?function(y){return i&&!Uy(y)?!1:b(this,y===0?0:y)}:v==="get"?function(w){return i&&!Uy(w)?void 0:b(this,w===0?0:w)}:v==="has"?function(w){return i&&!Uy(w)?!1:b(this,w===0?0:w)}:function(w,$){return b(this,w===0?0:w,$),this})},f=NI(e,!I2e(a)||!(i||s.forEach&&!Vy(function(){new a().entries().next()})));if(f)l=r.getConstructor(t,e,n,o),E2e.enable();else if(NI(e,!0)){var d=new l,h=d[o](i?{}:-0,1)!==d,p=Vy(function(){d.has(1)}),g=_2e(function(v){new a(v)}),m=!i&&Vy(function(){for(var v=new a,b=5;b--;)v[o](b,b);return!v.has(-0)});g||(l=t(function(v,b){A2e(v,s);var y=L2e(new a,v,l);return P2e(b)||M2e(b,y[o],{that:y,AS_ENTRIES:n}),y}),l.prototype=s,s.constructor=l),(p||m)&&(u("delete"),u("has"),n&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,k2e({global:!0,constructor:!0,forced:l!==a},c),D2e(l,e),i||r.setStrong(l,e,n),l},N2e=po,IB=function(e,t,r){for(var n in t)N2e(e,n,t[n],r);return e},R2e=ze,RI=IB,dh=SO.getWeakData,F2e=Hv,j2e=br,B2e=da,Wy=Xt,z2e=vc,PB=Qv,FI=xn,_B=Is,H2e=_B.set,U2e=_B.getterFor,V2e=PB.find,W2e=PB.findIndex,K2e=R2e([].splice),G2e=0,hh=function(e){return e.frozen||(e.frozen=new DB)},DB=function(){this.entries=[]},Ky=function(e,t){return V2e(e.entries,function(r){return r[0]===t})};DB.prototype={get:function(e){var t=Ky(this,e);if(t)return t[1]},has:function(e){return!!Ky(this,e)},set:function(e,t){var r=Ky(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=W2e(this.entries,function(r){return r[0]===e});return~t&&K2e(this.entries,t,1),!!~t}};var q2e={getConstructor:function(e,t,r,n){var i=e(function(l,c){F2e(l,o),H2e(l,{type:t,id:G2e++,frozen:void 0}),B2e(c)||z2e(c,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,a=U2e(t),s=function(l,c,u){var f=a(l),d=dh(j2e(c),!0);return d===!0?hh(f).set(c,u):d[f.id]=u,l};return RI(o,{delete:function(l){var c=a(this);if(!Wy(l))return!1;var u=dh(l);return u===!0?hh(c).delete(l):u&&FI(u,c.id)&&delete u[c.id]},has:function(c){var u=a(this);if(!Wy(c))return!1;var f=dh(c);return f===!0?hh(u).has(c):f&&FI(f,u.id)}}),RI(o,r?{get:function(c){var u=a(this);if(Wy(c)){var f=dh(c);return f===!0?hh(u).get(c):f?f[u.id]:void 0}},set:function(c,u){return s(this,c,u)}}:{add:function(c){return s(this,c,!0)}}),i}},Y2e=kO,J2e=q2e;Y2e("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},J2e);var vt;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(vt||(vt={}));var wi;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})(wi||(wi={}));var X2e="hour",Q2e="minute",Z2e=10,exe=10,txe=2,rxe=0,nxe=200,ixe=12,oxe="#cal-heatmap",axe="light",sxe="en",lxe="red",cxe="YlOrBr",uxe="quantize",fxe=[0,100],bp,LB,NB,dxe=(function(){function e(t){ur(this,e),bp.add(this),this.calendar=t,this.maxDomainReached=!1,this.minDomainReached=!1}return fr(e,[{key:"loadNewDomains",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt.SCROLL_NONE,o=this.calendar.options.options,a=this.calendar.templateCollection,s=o.date.min?a.get(o.domain.type).extractUnit(+o.date.min):void 0,l=o.date.max?a.get(o.domain.type).extractUnit(+o.date.max):void 0,c=this.calendar.domainCollection;return ge(this,bp,"m",LB).call(this,r,s,l,i)?vt.SCROLL_NONE:(i!==vt.SCROLL_NONE&&r.clamp(s,l).slice(o.range,i===vt.SCROLL_FORWARD),c.merge(r,o.range,function(u,f){var d=null;return r.at(f+1)?d=r.at(f+1):d=n.calendar.dateHelper.intervals(o.domain.type,u,2).pop(),a.get(o.subDomain.type).mapping(u,d).map(function(h){return Object.assign(Object.assign({},h),{v:o.data.defaultValue})})}),ge(this,bp,"m",NB).call(this,c.min,c.max,s,l),i===vt.SCROLL_BACKWARD?this.calendar.eventEmitter.emit("domainsLoaded",[c.min]):i===vt.SCROLL_FORWARD&&this.calendar.eventEmitter.emit("domainsLoaded",[c.max]),i)}},{key:"jumpTo",value:function(r,n){var i=this.calendar,o=i.domainCollection,a=i.options,s=new Date(o.min),l=new Date(o.max);return r<s?this.loadNewDomains(this.calendar.createDomainCollection(r,s,!1),vt.SCROLL_BACKWARD):n?this.loadNewDomains(this.calendar.createDomainCollection(r,a.options.range),s<r?vt.SCROLL_FORWARD:vt.SCROLL_BACKWARD):r>l?this.loadNewDomains(this.calendar.createDomainCollection(l,r,!1),vt.SCROLL_FORWARD):vt.SCROLL_NONE}}]),e})();bp=new WeakSet,LB=function(t,r,n,i){return!!(n&&t.max>=n&&this.maxDomainReached&&i===vt.SCROLL_FORWARD||r&&t.min<=r&&this.minDomainReached&&i===vt.SCROLL_BACKWARD)},NB=function(t,r,n,i){if(n){var o=t<=n;this.calendar.eventEmitter.emit(o?"minDateReached":"minDateNotReached"),this.minDomainReached=o}if(i){var a=r>=i;this.calendar.eventEmitter.emit(a?"maxDateReached":"maxDateNotReached"),this.maxDomainReached=a}};var hxe=TypeError,pxe=9007199254740991,gxe=function(e){if(e>pxe)throw hxe("Maximum allowed index exceeded");return e},mxe=Ge,vxe=De,bxe=bO,yxe=Xt,$xe=Ei,wxe=vo,jI=gxe,BI=Yv,xxe=kB,Sxe=Jv,kxe=ut,Oxe=Yf,RB=kxe("isConcatSpreadable"),Txe=Oxe>=51||!vxe(function(){var e=[];return e[RB]=!1,e.concat()[0]!==e}),Cxe=function(e){if(!yxe(e))return!1;var t=e[RB];return t!==void 0?!!t:bxe(e)},Exe=!Txe||!Sxe("concat");mxe({target:"Array",proto:!0,arity:1,forced:Exe},{concat:function(t){var r=$xe(this),n=xxe(r,0),i=0,o,a,s,l,c;for(o=-1,s=arguments.length;o<s;o++)if(c=o===-1?r:arguments[o],Cxe(c))for(l=wxe(c),jI(i+l),a=0;a<l;a++,i++)a in c&&BI(n,i,c[a]);else jI(i+1),BI(n,i++,c);return n.length=i,n}});var Mxe=De,OO=function(e,t){var r=[][e];return!!r&&Mxe(function(){r.call(null,t||function(){return 1},1)})},Axe=Ge,Ixe=ze,Pxe=Rv,_xe=mo,Dxe=OO,Lxe=Ixe([].join),Nxe=Pxe!==Object,Rxe=Nxe||!Dxe("join",",");Axe({target:"Array",proto:!0,forced:Rxe},{join:function(t){return Lxe(_xe(this),t===void 0?",":t)}});var Fxe=qv,jxe=tO,zI=IB,Bxe=mc,zxe=Hv,Hxe=da,Uxe=vc,Vxe=pO,ph=gO,Wxe=Ej,Gc=Fr,HI=SO.fastKey,FB=Is,UI=FB.set,Gy=FB.getterFor,jB={getConstructor:function(e,t,r,n){var i=e(function(c,u){zxe(c,o),UI(c,{type:t,index:Fxe(null),first:void 0,last:void 0,size:0}),Gc||(c.size=0),Hxe(u)||Uxe(u,c[n],{that:c,AS_ENTRIES:r})}),o=i.prototype,a=Gy(t),s=function(c,u,f){var d=a(c),h=l(c,u),p,g;return h?h.value=f:(d.last=h={index:g=HI(u,!0),key:u,value:f,previous:p=d.last,next:void 0,removed:!1},d.first||(d.first=h),p&&(p.next=h),Gc?d.size++:c.size++,g!=="F"&&(d.index[g]=h)),c},l=function(c,u){var f=a(c),d=HI(u),h;if(d!=="F")return f.index[d];for(h=f.first;h;h=h.next)if(h.key===u)return h};return zI(o,{clear:function(){for(var u=this,f=a(u),d=f.index,h=f.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete d[h.index],h=h.next;f.first=f.last=void 0,Gc?f.size=0:u.size=0},delete:function(c){var u=this,f=a(u),d=l(u,c);if(d){var h=d.next,p=d.previous;delete f.index[d.index],d.removed=!0,p&&(p.next=h),h&&(h.previous=p),f.first===d&&(f.first=h),f.last===d&&(f.last=p),Gc?f.size--:u.size--}return!!d},forEach:function(u){for(var f=a(this),d=Bxe(u,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:f.first;)for(d(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(u){return!!l(this,u)}}),zI(o,r?{get:function(u){var f=l(this,u);return f&&f.value},set:function(u,f){return s(this,u===0?0:u,f)}}:{add:function(u){return s(this,u=u===0?0:u,u)}}),Gc&&jxe(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=Gy(t),o=Gy(n);Vxe(e,t,function(a,s){UI(this,{type:n,target:a,state:i(a),kind:s,last:void 0})},function(){for(var a=o(this),s=a.kind,l=a.last;l&&l.removed;)l=l.previous;return!a.target||!(a.last=l=l?l.next:a.state.first)?(a.target=void 0,ph(void 0,!0)):ph(s==="keys"?l.key:s==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),Wxe(t)}},Kxe=kO,Gxe=jB;Kxe("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Gxe);var VI=Jf,qxe=TypeError,Yxe=function(e,t){if(!delete e[t])throw new qxe("Cannot delete property "+VI(t)+" of "+VI(e))},WI=CB,Jxe=Math.floor,R2=function(e,t){var r=e.length,n=Jxe(r/2);return r<8?Xxe(e,t):Qxe(e,R2(WI(e,0,n),t),R2(WI(e,n),t),t)},Xxe=function(e,t){for(var r=e.length,n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}return e},Qxe=function(e,t,r,n){for(var i=t.length,o=r.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?n(t[a],r[s])<=0?t[a++]:r[s++]:a<i?t[a++]:r[s++];return e},Zxe=R2,eSe=Ms,KI=eSe.match(/firefox\/(\d+)/i),tSe=!!KI&&+KI[1],rSe=Ms,nSe=/MSIE|Trident/.test(rSe),iSe=Ms,GI=iSe.match(/AppleWebKit\/(\d+)\./),oSe=!!GI&&+GI[1],aSe=Ge,BB=ze,sSe=Mi,lSe=Ei,qI=vo,cSe=Yxe,YI=ha,TO=De,uSe=Zxe,fSe=OO,JI=tSe,dSe=nSe,XI=Yf,QI=oSe,Bo=[],ZI=BB(Bo.sort),hSe=BB(Bo.push),pSe=TO(function(){Bo.sort(void 0)}),gSe=TO(function(){Bo.sort(null)}),mSe=fSe("sort"),zB=!TO(function(){if(XI)return XI<70;if(!(JI&&JI>3)){if(dSe)return!0;if(QI)return QI<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Bo.push({k:r+i,v:n})}for(Bo.sort(function(o,a){return a.v-o.v}),i=0;i<Bo.length;i++)r=Bo[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),vSe=pSe||!gSe||!mSe||!zB,bSe=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:YI(t)>YI(r)?1:-1}};aSe({target:"Array",proto:!0,forced:vSe},{sort:function(t){t!==void 0&&sSe(t);var r=lSe(this);if(zB)return t===void 0?ZI(r):ZI(r,t);var n=[],i=qI(r),o,a;for(a=0;a<i;a++)a in r&&hSe(n,r[a]);for(uSe(n,bSe(t)),o=qI(n),a=0;a<o;)r[a]=n[a++];for(;a<i;)cSe(r,a++);return r}});var ySe=Qv.forEach,$Se=OO,wSe=$Se("forEach"),xSe=wSe?[].forEach:function(t){return ySe(this,t,arguments.length>1?arguments[1]:void 0)},e3=ct,t3=yB,SSe=$B,qy=xSe,kSe=gc,HB=function(e){if(e&&e.forEach!==qy)try{kSe(e,"forEach",qy)}catch{e.forEach=qy}};for(var Yy in t3)t3[Yy]&&HB(e3[Yy]&&e3[Yy].prototype);HB(SSe);function r3(e){return e==="top"||e==="bottom"}function UB(e){return e[wi.LEFT]+e[wi.RIGHT]}function VB(e){return e[wi.TOP]+e[wi.BOTTOM]}var yp,WB,KB,OSe=(function(){function e(t,r){ur(this,e),yp.add(this),this.calendar=t,this.domainPainter=r,this.collection=new Map,this.scrollDirection=vt.SCROLL_FORWARD}return fr(e,[{key:"get",value:function(r){return this.collection.get(r)}},{key:"update",value:function(r,n){var i=this,o=this.calendar.options.options,a=o.verticalOrientation,s=o.domain;this.scrollDirection=n;var l={width:0,height:0},c=0,u=n===vt.SCROLL_FORWARD?-1:1,f=r.keys;return this.calendar.options.options.domain.sort==="desc"&&(f.reverse(),u*=-1),r.yankedDomains.forEach(function(d){c+=i.collection.get(d)[a?"height":"width"]}),r.yankedDomains.forEach(function(d){var h=i.collection.get(d);i.collection.set(d,Object.assign(Object.assign({},h),{x:a?h.x:h.x+c*u,y:a?h.y+c*u:h.y}))}),f.forEach(function(d){var h=ge(i,yp,"m",WB).call(i,d),p=ge(i,yp,"m",KB).call(i,d);a?(l.height+=p,l.width=Math.max(h,l.width)):(l.width+=h,l.height=Math.max(p,l.height));var g=l.width-h,m=l.height-p;i.collection.set(d,Object.assign(Object.assign({},i.collection.get(d)),{x:a?0:g,y:a?m:0,pre_x:a?g:g-c*u,pre_y:a?m-c*u:m,width:h,height:p,inner_width:h-(a?0:s.gutter),inner_height:p-(a?s.gutter:0)}))}),l}}]),e})();yp=new WeakSet,WB=function(t){var r=this.calendar.options.options,n=r.domain,i=r.subDomain,o=r.x,a=r.verticalOrientation,s=this.calendar.templateCollection.get(i.type).columnsCount(t),l=(i.width+i.gutter)*s-i.gutter;return UB(n.padding)+o.domainHorizontalLabelWidth+(a?0:n.gutter)+l},KB=function(t){var r=this.calendar.options.options,n=r.domain,i=r.subDomain,o=r.x,a=r.verticalOrientation,s=this.calendar.templateCollection.get(i.type).rowsCount(t),l=(i.height+i.gutter)*s-i.gutter;return VB(n.padding)+l+(a?n.gutter:0)+o.domainVerticalLabelHeight};var F2,GB,$p=".ch-domain",TSe=(function(){function e(t){ur(this,e),F2.add(this),this.calendar=t,this.coordinates=new OSe(t,this),this.root=null,this.dimensions={width:0,height:0}}return fr(e,[{key:"paint",value:function(r,n){var i=this,o=this.calendar.options.options.animationDuration,a=n.transition().duration(o),s=this.coordinates;this.dimensions=s.update(this.calendar.domainCollection,r);var l=[];return this.root=n.selectAll($p).data(this.calendar.domainCollection.keys,function(c){return c}).join(function(c){return c.append("svg").attr("x",function(u){return s.get(u).pre_x}).attr("y",function(u){return s.get(u).pre_y}).attr("width",function(u){return s.get(u).inner_width}).attr("height",function(u){return s.get(u).inner_height}).attr("class",function(u){return ge(i,F2,"m",GB).call(i,u)}).call(function(u){return u.append("rect").attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).attr("class","".concat($p.slice(1),"-bg"))}).call(function(u){return l.push(u.transition(a).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).end())})},function(c){return c.call(function(u){return l.push(u.transition(a).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).end())}).call(function(u){return l.push(u.selectAll("".concat($p,"-bg")).transition(a).attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).end())})},function(c){return c.call(function(u){return l.push(u.transition(a).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).remove().end())})}),l}}]),e})();F2=new WeakSet,GB=function(t){var r=$p.slice(1),n=this.calendar.dateHelper.date(t);switch(this.calendar.options.options.domain.type){case"hour":r+=" h_".concat(n.hour());break;case"day":r+=" d_".concat(n.date()," dy_").concat(n.format("d")+1);break;case"week":r+=" w_".concat(n.week());break;case"month":r+=" m_".concat(n.month()+1);break;case"year":r+=" y_".concat(n.year());break}return r};var CSe=Ge,ESe=Tj.includes,MSe=De,ASe=dO,ISe=MSe(function(){return!Array(1).includes()});CSe({target:"Array",proto:!0,forced:ISe},{includes:function(t){return ESe(this,t,arguments.length>1?arguments[1]:void 0)}});ASe("includes");var PSe=Ge,_Se=Qv.filter,DSe=Jv,LSe=DSe("filter");PSe({target:"Array",proto:!0,forced:!LSe},{filter:function(t){return _Se(this,t,arguments.length>1?arguments[1]:void 0)}});var NSe=br,RSe=iB,FSe=function(e,t,r,n){try{return n?t(NSe(r)[0],r[1]):t(r)}catch(i){RSe(e,"throw",i)}},jSe=mc,BSe=Qt,zSe=Ei,HSe=FSe,USe=rB,VSe=Uv,WSe=vo,n3=Yv,KSe=nB,GSe=cO,i3=Array,qSe=function(t){var r=zSe(t),n=VSe(this),i=arguments.length,o=i>1?arguments[1]:void 0,a=o!==void 0;a&&(o=jSe(o,i>2?arguments[2]:void 0));var s=GSe(r),l=0,c,u,f,d,h,p;if(s&&!(this===i3&&USe(s)))for(d=KSe(r,s),h=d.next,u=n?new this:[];!(f=BSe(h,d)).done;l++)p=a?HSe(d,o,[f.value,l],!0):f.value,n3(u,l,p);else for(c=WSe(r),u=n?new this(c):i3(c);c>l;l++)p=a?o(r[l],l):r[l],n3(u,l,p);return u.length=l,u},YSe=Ge,JSe=qSe,XSe=uO,QSe=!XSe(function(e){Array.from(e)});YSe({target:"Array",stat:!0,forced:QSe},{from:JSe});var Eo,qB,o3,$u,ZSe={year:"YYYY",month:"MMMM",week:"wo [week] YYYY",xDay:"Do MMM",ghDay:"Do MMM",day:"Do MMM",hour:"HH:00",minute:"HH:mm"},a3=(function(){function e(t,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ur(this,e),Eo.add(this),this.collection=new Map,this.dateHelper=t,r&&n&&i){var a=this.dateHelper.intervals(r,n,i,o).map(function(s){return Xv(s)});this.collection=new Map(a)}this.min=0,this.max=0,this.keys=[],this.yankedDomains=[],this.collection.size>0&&ge(this,Eo,"m",$u).call(this)}return fr(e,[{key:"has",value:function(r){return this.collection.has(r)}},{key:"get",value:function(r){return this.collection.get(r)}},{key:"forEach",value:function(r){return this.collection.forEach(r)}},{key:"at",value:function(r){return this.keys[r]}},{key:"clamp",value:function(r,n){var i=this;return r&&this.min<r&&this.keys.filter(function(o){return o<r}).forEach(function(o){return i.collection.delete(o)}),n&&this.max>n&&this.keys.filter(function(o){return o>n}).forEach(function(o){return i.collection.delete(o)}),ge(this,Eo,"m",$u).call(this),this}},{key:"merge",value:function(r,n,i){var o=this;this.yankedDomains=[],r.keys.forEach(function(a,s){if(!o.has(a)){if(o.collection.size>=n){var l=o.max;a>o.max&&(l=o.min),l&&o.collection.delete(l)&&o.yankedDomains.push(l)}o.collection.set(a,i(a,s)),ge(o,Eo,"m",$u).call(o)}}),this.yankedDomains=this.yankedDomains.sort(function(a,s){return a-s})}},{key:"slice",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.keys.length>n){var o=i?this.keys.slice(0,-n):this.keys.slice(n);o.forEach(function(a){r.collection.delete(a)}),ge(this,Eo,"m",$u).call(this)}return this}},{key:"fill",value:function(r,n,i){var o=this,a=n.x,s=n.y,l=n.groupY,c=n.defaultValue,u=this.groupRecords(r,a,i);this.keys.forEach(function(f){var d=u.get(f)||{};ge(o,Eo,"m",qB).call(o,f,d,s,l,c)})}},{key:"groupRecords",value:function(r,n,i){var o=this,a=new Map,s=new Map;return this.keys.forEach(function(l){o.get(l).forEach(function(c){s.set(c.t,l)})}),r.forEach(function(l){var c=o.extractTimestamp(l,n,i);if(s.has(c)){var u=s.get(c),f=a.get(u)||{};f[c]||(f[c]=[]),f[c].push(l),a.set(u,f)}}),a}},{key:"groupValues",value:function(r,n){var i=r.filter(function(o){return o!==null});if(typeof n=="string"){if(i.every(function(o){return typeof o=="number"}))switch(n){case"sum":return i.reduce(function(o,a){return o+a},0);case"count":return i.length;case"min":return Math.min.apply(Math,g2(i))||null;case"max":return Math.max.apply(Math,g2(i))||null;case"average":return i.length>0?i.reduce(function(o,a){return o+a},0)/i.length:null;default:return null}switch(n){case"count":return i.length;default:return null}}else if(typeof n=="function")return n(i);return null}},{key:"extractTimestamp",value:function(r,n,i){var o=typeof n=="function"?n(r):r[n];return typeof o=="string"&&(o=+new Date(o)),i(o)}}]),e})();Eo=new WeakSet,qB=function(t,r,n,i,o){var a=this;this.get(t).forEach(function(s,l){var c=o;r.hasOwnProperty(s.t)&&(c=a.groupValues(ge(a,Eo,"m",o3).call(a,r[s.t],n),i)),a.get(t)[l].v=c})},o3=function(t,r){return t.map(function(n){return typeof r=="function"?r(n):n[r]})},$u=function(){this.keys=Array.from(this.collection.keys()).map(function(r){return parseInt(r,10)}).sort(function(r,n){return r-n});var t=this.keys;return this.min=t[0],this.max=t[t.length-1],this.keys};var Dt,j2,B2,z2,Qs,gh,H2,s3=".ch-domain-text",eke=(function(){function e(t){ur(this,e),Dt.add(this),this.calendar=t}return fr(e,[{key:"paint",value:function(r){var n=this,i=this.calendar.options.options.domain,o=i.label,a=i.type,s=this.calendar.dateHelper,l=o.text;l===null||l===""||(typeof l>"u"&&(l=ZSe[a]),r.selectAll(s3).data(function(c){return[c]},function(c){return c}).join(function(c){return c.append("text").attr("class",s3.slice(1)).attr("x",function(u){return ge(n,Dt,"m",B2).call(n,u)}).attr("y",function(u){return ge(n,Dt,"m",z2).call(n,u)}).attr("text-anchor",o.textAlign).attr("dominant-baseline",function(){return ge(n,Dt,"m",j2).call(n)}).text(function(u,f,d){return s.format(u,l,d[f])}).call(function(u){return ge(n,Dt,"m",H2).call(n,u)})},function(c){c.attr("x",function(u){return ge(n,Dt,"m",B2).call(n,u)}).attr("y",function(u){return ge(n,Dt,"m",z2).call(n,u)}).attr("text-anchor",o.textAlign).attr("dominant-baseline",function(){return ge(n,Dt,"m",j2).call(n)}).text(function(u,f,d){return s.format(u,l,d[f])}).call(function(u){return ge(n,Dt,"m",H2).call(n,u)})}))}}]),e})();Dt=new WeakSet,j2=function(){var t=this.calendar.options.options.domain.label,r=t.position,n=t.rotate;return r3(r)?"middle":n==="left"&&r==="left"||n==="right"&&r==="right"?"bottom":"hanging"},B2=function(t){var r=this.calendar.options.options.domain,n=r.padding,i=r.label,o=i.position,a=i.textAlign,s=i.offset,l=this.calendar.options.options.x.domainHorizontalLabelWidth,c=n[wi.LEFT];return o==="right"&&(c+=ge(this,Dt,"m",Qs).call(this,t)),a==="middle"&&(["top","bottom"].includes(o)?c+=ge(this,Dt,"m",Qs).call(this,t)/2:c+=l/2),a==="end"&&(r3(o)?c+=ge(this,Dt,"m",Qs).call(this,t):c+=l),c+s.x},z2=function(t){var r=this.calendar.options.options,n=r.domain,i=n.label,o=i.position,a=i.offset,s=n.padding,l=r.x,c=s[wi.TOP]+l.domainVerticalLabelHeight/2;return o==="bottom"&&(c+=ge(this,Dt,"m",gh).call(this,t)),c+a.y},Qs=function(t){var r=this.calendar.options.options,n=r.domain.padding,i=r.x.domainHorizontalLabelWidth,o=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return o.get(t).inner_width-i-UB(n)},gh=function(t){var r=this.calendar.options.options,n=r.x.domainVerticalLabelHeight,i=r.domain.padding,o=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return o.get(t).inner_height-n-VB(i)},H2=function(t){var r=this,n=this.calendar.options.options,i=n.domain.label,o=i.rotate,a=i.textAlign,s=i.position,l=n.x,c=l.domainHorizontalLabelWidth;switch(o){case"right":t.attr("transform",function(u){var f=ge(r,Dt,"m",Qs).call(r,u),d=ge(r,Dt,"m",gh).call(r,u),h=["rotate(90, ".concat(s==="right"?f:c,", 0)")];switch(s){case"right":a==="middle"?h.push("translate(".concat(d/2-c/2,")")):a==="end"&&h.push("translate(".concat(d-c,")"));break;case"left":a==="start"?h.push("translate(".concat(c,")")):a==="middle"?h.push("translate(".concat(c/2+d/2,")")):a==="end"&&h.push("translate(".concat(d,")"));break}return h.join(",")});break;case"left":t.attr("transform",function(u){var f=ge(r,Dt,"m",Qs).call(r,u),d=ge(r,Dt,"m",gh).call(r,u),h=["rotate(270, ".concat(s==="right"?f:c,", 0)")];switch(s){case"right":a==="start"?h.push("translate(-".concat(d,")")):a==="middle"?h.push("translate(-".concat(d/2+c/2,")")):a==="end"&&h.push("translate(-".concat(c,")"));break;case"left":a==="start"?h.push("translate(".concat(c-d,")")):a==="middle"&&h.push("translate(".concat(c/2-d/2,")"));break}return h.join(",")});break}};var YB=`	
\v\f\r \u2028\u2029\uFEFF`,tke=ze,rke=Es,nke=ha,U2=YB,l3=tke("".replace),ike=RegExp("^["+U2+"]+"),oke=RegExp("(^|[^"+U2+"])["+U2+"]+$"),ake=function(e){return function(t){var r=nke(rke(t));return e&1&&(r=l3(r,ike,"")),e&2&&(r=l3(r,oke,"$1")),r}},ske={trim:ake(3)},lke=Pv.PROPER,cke=De,c3=YB,u3="",uke=function(e){return cke(function(){return!!c3[e]()||u3[e]()!==u3||lke&&c3[e].name!==e})},fke=Ge,dke=ske.trim,hke=uke;fke({target:"String",proto:!0,forced:hke("trim")},{trim:function(){return dke(this)}});var nr,V2,fm,JB,Jy,dm,hm,wp=".ch-subdomain",pke="highlight",gke=(function(){function e(t){ur(this,e),nr.add(this),this.calendar=t,this.root=null}return fr(e,[{key:"paint",value:function(r){var n=this;this.root=r||this.root;var i="".concat(wp,"-container"),o=this.root.selectAll(i).data(function(d){return[d]},function(d){return d}).join(function(d){return d.append("svg").call(function(h){return ge(n,nr,"m",V2).call(n,h)}).attr("class",i.slice(1))},function(d){return d.call(function(h){return ge(n,nr,"m",V2).call(n,h)})}),a=this.calendar.options.options.subDomain,s=a.radius,l=a.width,c=a.height,u=a.sort,f=this.calendar.eventEmitter;o.selectAll("g").data(function(d){var h=n.calendar.domainCollection.get(d);if(u==="desc"){var p=Math.max.apply(Math,g2(h.map(function(g){return g.x})));h.forEach(function(g,m){h[m].x=Math.abs(g.x-p)})}return h}).join(function(d){return d.append("g").call(function(h){return h.insert("rect").attr("class",function(p){return ge(n,nr,"m",fm).call(n,p.t,"".concat(wp.slice(1),"-bg"))}).attr("width",l).attr("height",c).attr("x",function(p){return ge(n,nr,"m",dm).call(n,p)}).attr("y",function(p){return ge(n,nr,"m",hm).call(n,p)}).on("click",function(p,g){return f.emit("click",p,g.t,g.v)}).on("mouseover",function(p,g){return f.emit("mouseover",p,g.t,g.v)}).on("mouseout",function(p,g){return f.emit("mouseout",p,g.t,g.v)}).attr("rx",s>0?s:null).attr("ry",s>0?s:null)}).call(function(h){return ge(n,nr,"m",JB).call(n,h)})},function(d){return d.selectAll("rect").attr("class",function(h){return ge(n,nr,"m",fm).call(n,h.t,"".concat(wp.slice(1),"-bg"))}).attr("width",l).attr("height",c).attr("x",function(h){return ge(n,nr,"m",dm).call(n,h)}).attr("y",function(h){return ge(n,nr,"m",hm).call(n,h)}).attr("rx",s).attr("ry",s)})}}]),e})();nr=new WeakSet,V2=function(t){var r=this.calendar.options.options,n=r.domain,i=n.padding,o=n.label.position;t.attr("x",function(){var a=i[wi.LEFT];return o==="left"&&(a+=r.x.domainHorizontalLabelWidth),a}).attr("y",function(){var a=i[wi.TOP];return o==="top"&&(a+=r.x.domainVerticalLabelHeight),a})},fm=function(t){var r=this,n=this.calendar.options.options,i=n.date.highlight,o=n.subDomain.type,a="";i.length>0&&i.forEach(function(u){var f=r.calendar.templateCollection.get(o).extractUnit;f(+u)===f(t)&&(a=pke)});for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return[a].concat(l).join(" ").trim()},JB=function(t){var r=this,n=this.calendar.options.options.subDomain,i=n.width,o=n.height,a=n.label;return a?t.append("text").attr("class",function(s){return ge(r,nr,"m",fm).call(r,s.t,"".concat(wp.slice(1),"-text"))}).attr("x",function(s){return ge(r,nr,"m",dm).call(r,s)+i/2}).attr("y",function(s){return ge(r,nr,"m",hm).call(r,s)+o/2}).attr("text-anchor","middle").attr("dominant-baseline","central").text(function(s,l,c){return r.calendar.dateHelper.format(s.t,a,s.v,c[l])}):null},Jy=function(t,r){var n=this.calendar.options.options.subDomain;return r[t]*(n[t==="x"?"width":"height"]+n.gutter)},dm=function(t){return ge(this,nr,"m",Jy).call(this,"x",t)},hm=function(t){return ge(this,nr,"m",Jy).call(this,"y",t)};var pl,W2,XB,QB,f3=".ch-domain-container",d3="in-transition",mke=(function(){function e(t){ur(this,e),pl.add(this),this.calendar=t,this.domainPainter=new TSe(t),this.subDomainPainter=new gke(t),this.domainLabelPainter=new eke(t),this.dimensions={width:0,height:0},this.transitionsQueueCount=0}return fr(e,[{key:"setup",value:function(){this.root=this.calendar.calendarPainter.root.attr("x",0).attr("y",0).append("svg").attr("class",f3.slice(1)).append("svg").attr("class","".concat(f3.slice(1),"-animation-wrapper"))}},{key:"paint",value:function(r){var n=this;ge(this,pl,"m",W2).call(this);var i=this.domainPainter.paint(r,this.root);return this.subDomainPainter.paint(this.domainPainter.root),this.domainLabelPainter.paint(this.domainPainter.root),ge(this,pl,"m",QB).call(this),Promise.allSettled(i).then(function(){ge(n,pl,"m",XB).call(n)}),i}},{key:"updatePosition",value:function(){var r;if(!(!((r=this.root)===null||r===void 0)&&r.node()))return Promise.resolve();var n=this.calendar.options.options.animationDuration,i=this.calendar.pluginManager.getHeightFromPosition("top"),o=this.calendar.pluginManager.getWidthFromPosition("left");return[Hg(this.root.node().parentNode).transition().duration(n).call(function(a){a.attr("x",o).attr("y",i)}).end()]}},{key:"width",value:function(){return this.dimensions.width}},{key:"height",value:function(){return this.dimensions.height}},{key:"destroy",value:function(){return ge(this,pl,"m",W2).call(this),Promise.resolve()}}]),e})();pl=new WeakSet,W2=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount+=1,Hg(this.root.node().parentNode).classed(d3,!0))},XB=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount-=1,this.transitionsQueueCount===0&&Hg(this.root.node().parentNode).classed(d3,!1))},QB=function(){var t=this.calendar.options.options,r=t.animationDuration,n=t.verticalOrientation,i=t.domain.gutter,o=this.domainPainter.dimensions;this.dimensions={width:o.width-(n?0:i),height:o.height-(n?i:0)},this.root.transition().duration(r).attr("width",this.dimensions.width).attr("height",this.dimensions.height)};var vke=(function(){function e(t){ur(this,e),this.calendar=t}return fr(e,[{key:"paint",value:function(){var r=[];return r=r.concat(this.calendar.pluginManager.paintAll()),r=r.concat(this.setPluginsPosition()),r}},{key:"setPluginsPosition",value:function(){var r=this.calendar.pluginManager,n=this.calendar.options.options.animationDuration,i=this.calendar.calendarPainter.domainsContainerPainter,o=r.getFromPosition("top"),a=r.getFromPosition("right"),s=r.getFromPosition("bottom"),l=r.getFromPosition("left"),c=r.getHeightFromPosition("top"),u=r.getWidthFromPosition("left"),f=[],d=0;o.forEach(function(p){f.push(p.root.transition().duration(n).attr("y",d).attr("x",u).end()),d+=p.options.dimensions.height});var h=0;return l.forEach(function(p){f.push(p.root.transition().duration(n).attr("x",h).attr("y",c).end()),h+=p.options.dimensions.width}),s.forEach(function(p){f.push(p.root.transition().duration(n).attr("x",u).attr("y",c+i.height()).end())}),h+=i.width(),a.forEach(function(p){f.push(p.root.transition().duration(n).attr("x",h).attr("y",c).end()),h+=p.options.dimensions.width}),f}},{key:"insideWidth",value:function(){return this.calendar.pluginManager.getWidthFromPosition("left")+this.calendar.pluginManager.getWidthFromPosition("right")}},{key:"insideHeight",value:function(){return this.calendar.pluginManager.getHeightFromPosition("top")+this.calendar.pluginManager.getHeightFromPosition("bottom")}}]),e})(),Bu,h3,p3,ZB,bke=".ch-container",yke=(function(){function e(t){ur(this,e),Bu.add(this),this.calendar=t,this.dimensions={width:0,height:0},this.root=null,this.domainsContainerPainter=new mke(t),this.pluginPainter=new vke(t)}return fr(e,[{key:"setup",value:function(){var r=this.calendar.options.options,n=r.itemSelector,i=r.theme;return this.root||(this.root=Hg(n).append("svg").attr("data-theme",i).attr("class",bke.slice(1)),this.domainsContainerPainter.setup()),this.calendar.pluginManager.setupAll(),!0}},{key:"paint",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vt.SCROLL_NONE,n=this.domainsContainerPainter.paint(r).concat(this.pluginPainter.paint()).concat(this.domainsContainerPainter.updatePosition());return ge(this,Bu,"m",ZB).call(this),Promise.allSettled(n)}},{key:"destroy",value:function(){var r=this.calendar.pluginManager.destroyAll().concat(this.domainsContainerPainter.destroy());return this.root&&r.push(this.root.transition().duration(this.calendar.options.options.animationDuration).attr("width",0).attr("height",0).remove().end()),Promise.allSettled(r)}}]),e})();Bu=new WeakSet,h3=function(){return this.domainsContainerPainter.height()+this.pluginPainter.insideHeight()},p3=function(){return this.domainsContainerPainter.width()+this.pluginPainter.insideWidth()},ZB=function(){var t=this.calendar.options.options,r=ge(this,Bu,"m",p3).call(this),n=ge(this,Bu,"m",h3).call(this);this.root.transition().duration(t.animationDuration).attr("width",r).attr("height",n),(r!==this.dimensions.width||n!==this.dimensions.height)&&this.calendar.eventEmitter.emit("resize",r,n,this.dimensions.width,this.dimensions.height),this.dimensions={width:r,height:n}};var $ke=typeof global=="object"&&global&&global.Object===Object&&global,ez=$ke,wke=typeof self=="object"&&self&&self.Object===Object&&self,xke=ez||wke||Function("return this")(),Ai=xke,Ske=Ai.Symbol,ia=Ske,tz=Object.prototype,kke=tz.hasOwnProperty,Oke=tz.toString,qc=ia?ia.toStringTag:void 0;function Tke(e){var t=kke.call(e,qc),r=e[qc];try{e[qc]=void 0;var n=!0}catch{}var i=Oke.call(e);return n&&(t?e[qc]=r:delete e[qc]),i}var Cke=Object.prototype,Eke=Cke.toString;function Mke(e){return Eke.call(e)}var Ake="[object Null]",Ike="[object Undefined]",g3=ia?ia.toStringTag:void 0;function pa(e){return e==null?e===void 0?Ike:Ake:g3&&g3 in Object(e)?Tke(e):Mke(e)}function io(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pke="[object AsyncFunction]",_ke="[object Function]",Dke="[object GeneratorFunction]",Lke="[object Proxy]";function rd(e){if(!io(e))return!1;var t=pa(e);return t==_ke||t==Dke||t==Pke||t==Lke}var Nke=Ge,Rke=Ei,rz=Gv,Fke=De,jke=Fke(function(){rz(1)});Nke({target:"Object",stat:!0,forced:jke},{keys:function(t){return rz(Rke(t))}});var Bke=Xt,zke=go,Hke=ut,Uke=Hke("match"),Vke=function(e){var t;return Bke(e)&&((t=e[Uke])!==void 0?!!t:zke(e)==="RegExp")},Wke=Vke,Kke=TypeError,nz=function(e){if(Wke(e))throw new Kke("The method doesn't accept regular expressions");return e},Gke=ut,qke=Gke("match"),iz=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[qke]=!1,"/./"[e](t)}catch{}}return!1},Yke=Ge,oz=nO,Jke=Xf.f,Xke=Jk,m3=ha,Qke=nz,Zke=Es,eOe=iz,v3=oz("".startsWith),tOe=oz("".slice),rOe=Math.min,az=eOe("startsWith"),nOe=!az&&!!(function(){var e=Jke(String.prototype,"startsWith");return e&&!e.writable})();Yke({target:"String",proto:!0,forced:!nOe&&!az},{startsWith:function(t){var r=m3(Zke(this));Qke(t);var n=Xke(rOe(arguments.length>1?arguments[1]:void 0,r.length)),i=m3(t);return v3?v3(r,i,n):tOe(r,n,n+i.length)===i}});var sz=Fr,iOe=De,lz=ze,oOe=hO,aOe=Gv,sOe=mo,lOe=Nv.f,cz=lz(lOe),cOe=lz([].push),uOe=sz&&iOe(function(){var e=Object.create(null);return e[2]=2,!cz(e,2)}),fOe=function(e){return function(t){for(var r=sOe(t),n=aOe(r),i=uOe&&oOe(r)===null,o=n.length,a=0,s=[],l;o>a;)l=n[a++],(!sz||(i?l in r:cz(r,l)))&&cOe(s,e?[l,r[l]]:r[l]);return s}},dOe={entries:fOe(!0)},hOe=Ge,pOe=dOe.entries;hOe({target:"Object",stat:!0},{entries:function(t){return pOe(t)}});function b3(e){return e!=null&&!Number.isNaN(e)}function gOe(e,t){return+b3(t)-+b3(e)||Yo(e,t)}function uz(e){return isFinite(e)?e:NaN}function CO(e){return e>0&&isFinite(e)?e:NaN}function fz(e){return e<0&&isFinite(e)?e:NaN}const mOe=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function dz(e,t){return mOe.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const vOe=new Map([["second",Yi],["minute",wv],["hour",Sv],["day",pc],["week",Jl],["month",Dl],["quarter",Dl.every(3)],["half",Dl.every(6)],["year",yi],["monday",$f],["tuesday",g9],["wednesday",m9],["thursday",cs],["friday",v9],["saturday",b9],["sunday",Jl]]),bOe=new Map([["second",Yi],["minute",xv],["hour",kv],["day",qf],["week",Xl],["month",Ll],["quarter",Ll.every(3)],["half",Ll.every(6)],["year",$i],["monday",wf],["tuesday",y9],["wednesday",$9],["thursday",us],["friday",w9],["saturday",x9],["sunday",Xl]]);function yOe(e){const t=vOe.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function $Oe(e){const t=bOe.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const hz=Object.getPrototypeOf(Uint8Array),wOe=Object.prototype.toString,xOe=e=>()=>e;function y3(e){return e instanceof hz?e:Zv(e,SOe,Float64Array)}function SOe(e){return e==null?NaN:Number(e)}function kOe(e){return Zv(e,OOe)}function OOe(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?dz(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function pz(e){return e==null||e instanceof Array||e instanceof hz?e:Array.from(e)}function Zv(e,t,r=Array){return e==null?e:e instanceof r?e.map(t):r.from(e,t)}function K2(e,t=Array){return e instanceof t?e.slice():t.from(e)}function TOe(e){return(e==null?void 0:e.toString)===wOe}function COe(e){return TOe(e)&&(e.type!==void 0||e.domain!==void 0)}function EOe(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const r=Math.abs(e);return e<0?{floor:n=>Math.floor(n*r)/r,offset:n=>(n*r+1)/r,range:(n,i)=>n2(Math.ceil(n*r),i*r).map(o=>o/r)}:{floor:n=>Math.floor(n/r)*r,offset:n=>n+r,range:(n,i)=>n2(Math.ceil(n/r),i/r).map(o=>o*r)}}if(typeof e=="string")return(t==="time"?yOe:$Oe)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function e0(e,t){if(e=EOe(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function MOe(e,t){if(e=e0(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function $3(e){for(const t of e){if(t==null)continue;const r=typeof t;return r==="string"||r==="boolean"}}function G2(e){for(const t of e)if(t!=null)return t instanceof Date}function AOe(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&dz(t)}function IOe(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function POe(e){return e==null||_Oe(e)}function _Oe(e){return/^\s*none\s*$/i.test(e)}function EO(e){if(e==null)return;const t=e[0],r=e[e.length-1];return gv(t,r)}const zo=Symbol("position"),xi=Symbol("color"),t0=Symbol("radius"),r0=Symbol("length"),n0=Symbol("opacity"),i0=Symbol("symbol"),ar=new Map([["x",zo],["y",zo],["fx",zo],["fy",zo],["r",t0],["color",xi],["opacity",n0],["symbol",i0],["length",r0]]),DOe=Math.sqrt(3),LOe=2/DOe,NOe={draw(e,t){const r=Math.sqrt(t/Math.PI),n=r*LOe,i=n/2;e.moveTo(0,n),e.lineTo(r,i),e.lineTo(r,-i),e.lineTo(0,-n),e.lineTo(-r,-i),e.lineTo(-r,i),e.closePath()}},ROe=new Map([["asterisk",HF],["circle",Fk],["cross",UF],["diamond",WF],["diamond2",KF],["hexagon",NOe],["plus",GF],["square",qF],["square2",YF],["star",XF],["times",tj],["triangle",QF],["triangle2",ZF],["wye",ej]]);function FOe(e){return e&&typeof e.draw=="function"}function gz(e){if(e==null||FOe(e))return e;const t=ROe.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function Xy(e){console.warn(e)}const w3=new Map([["accent",upe],["category10",cpe],["dark2",fpe],["paired",dpe],["pastel1",hpe],["pastel2",ppe],["set1",gpe],["set2",mpe],["set3",vpe],["tableau10",bpe],["brbg",Ni(D9,L9)],["prgn",Ni(N9,R9)],["piyg",Ni(F9,j9)],["puor",Ni(B9,z9)],["rdbu",Ni(d2,rm)],["rdgy",Ni(H9,U9)],["rdylbu",Ni(h2,nm)],["rdylgn",Ni(V9,W9)],["spectral",Ni(K9,G9)],["burd",x3(d2,rm)],["buylrd",x3(h2,nm)],["blues",_t(bF,yF)],["greens",_t($F,wF)],["greys",_t(xF,SF)],["oranges",_t(EF,MF)],["purples",_t(kF,OF)],["reds",_t(TF,CF)],["turbo",Ri(NF)],["viridis",Ri(RF)],["magma",Ri(FF)],["inferno",Ri(jF)],["plasma",Ri(BF)],["cividis",Ri(AF)],["cubehelix",Ri(IF)],["warm",Ri(PF)],["cool",Ri(_F)],["bugn",_t(q9,Y9)],["bupu",_t(J9,X9)],["gnbu",_t(Q9,Z9)],["orrd",_t(eF,tF)],["pubu",_t(iF,oF)],["pubugn",_t(rF,nF)],["purd",_t(aF,sF)],["rdpu",_t(lF,cF)],["ylgn",_t(dF,hF)],["ylgnbu",_t(uF,fF)],["ylorbr",_t(pF,gF)],["ylorrd",_t(mF,vF)],["rainbow",S3(DF)],["sinebow",S3(LF)]]);function _t(e,t){return({length:r})=>r===1?[e[3][1]]:r===2?[e[3][1],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?bi(t,r):e[r])}function Ni(e,t){return({length:r})=>r===2?[e[3][0],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?bi(t,r):e[r])}function x3(e,t){return({length:r})=>r===2?[e[3][2],e[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?bi(n=>t(1-n),r):e[r].slice().reverse())}function Ri(e){return({length:t})=>bi(e,Math.max(2,Math.floor(t)))}function S3(e){return({length:t})=>bi(e,Math.floor(t)+1).slice(0,-1)}function mz(e){const t=`${e}`.toLowerCase();if(!w3.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return w3.get(t)}function o0(e,t){const r=mz(e),n=typeof r=="function"?r({length:t}):r;return n.length!==t?n.slice(0,t):n}function jOe(e,t="greys"){const r=new Set,[n,i]=o0(t,2);for(const o of e)if(o!=null)if(o===!0)r.add(i);else if(o===!1)r.add(n);else return;return[...r]}const k3=new Map([["brbg",L9],["prgn",R9],["piyg",j9],["puor",z9],["rdbu",rm],["rdgy",U9],["rdylbu",nm],["rdylgn",W9],["spectral",G9],["burd",e=>rm(1-e)],["buylrd",e=>nm(1-e)],["blues",yF],["greens",wF],["greys",SF],["purples",OF],["reds",CF],["oranges",MF],["turbo",NF],["viridis",RF],["magma",FF],["inferno",jF],["plasma",BF],["cividis",AF],["cubehelix",IF],["warm",PF],["cool",_F],["bugn",Y9],["bupu",X9],["gnbu",Z9],["orrd",tF],["pubugn",nF],["pubu",oF],["purd",sF],["rdpu",cF],["ylgnbu",fF],["ylgn",hF],["ylorbr",gF],["ylorrd",vF],["rainbow",DF],["sinebow",LF]]);function MO(e){const t=`${e}`.toLowerCase();if(!k3.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return k3.get(t)}const BOe=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function O3(e){return e!=null&&BOe.has(`${e}`.toLowerCase())}const vz=e=>t=>e(1-t),Qy=[0,1],T3=new Map([["number",dr],["rgb",ss],["hsl",nfe],["hcl",afe],["lab",ife]]);function bz(e){const t=`${e}`.toLowerCase();if(!T3.has(t))throw new Error(`unknown interpolator: ${t}`);return T3.get(t)}function nd(e,t,r,{type:n,nice:i,clamp:o,zero:a,domain:s=$z(e,r),unknown:l,round:c,scheme:u,interval:f,range:d=ar.get(e)===t0?XOe(r,s):ar.get(e)===r0?QOe(r,s):ar.get(e)===n0?Qy:void 0,interpolate:h=ar.get(e)===xi?u==null&&d!==void 0?ss:MO(u!==void 0?u:n==="cyclical"?"rainbow":"turbo"):c?Ok:dr,reverse:p}){if(f=e0(f,n),(n==="cyclical"||n==="sequential")&&(n="linear"),p=!!p,typeof h!="function"&&(h=bz(h)),h.length===1?(p&&(h=vz(h),p=!1),d===void 0&&(d=Float64Array.from(s,(g,m)=>m/(s.length-1)),d.length===2&&(d=Qy)),t.interpolate((d===Qy?xOe:wz)(h))):t.interpolate(h),a){const[g,m]=Sk(s);(g>0||m<0)&&(s=K2(s),EO(s)!==Math.sign(g)?s[s.length-1]=0:s[0]=0)}return p&&(s=Jg(s)),t.domain(s).unknown(l),i&&(t.nice(zOe(i,n)),s=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:n,domain:s,range:d,scale:t,interpolate:h,interval:f}}function zOe(e,t){return e===!0?void 0:typeof e=="number"?e:MOe(e,t)}function HOe(e,t,r){return nd(e,n9(),t,r)}function UOe(e,t,r){return yz(e,t,{...r,exponent:.5})}function yz(e,t,{exponent:r=1,...n}){return nd(e,f9().exponent(r),t,{...n,type:"pow"})}function VOe(e,t,{base:r=10,domain:n=ZOe(t),...i}){return nd(e,s9().base(r),t,{...i,domain:n})}function WOe(e,t,{constant:r=1,...n}){return nd(e,c9().constant(r),t,n)}function KOe(e,t,{range:r,quantiles:n=r===void 0?5:(r=[...r]).length,n:i=n,scheme:o="rdylbu",domain:a=eTe(t),unknown:s,interpolate:l,reverse:c}){return r===void 0&&(r=l!==void 0?bi(l,i):ar.get(e)===xi?o0(o,i):void 0),a.length>0&&(a=d9(a,r===void 0?{length:i}:r).quantiles()),AO(e,t,{domain:a,range:r,reverse:c,unknown:s})}function GOe(e,t,{range:r,n=r===void 0?5:(r=[...r]).length,scheme:i="rdylbu",domain:o=$z(e,t),unknown:a,interpolate:s,reverse:l}){const[c,u]=Sk(o);let f;return r===void 0?(f=qg(c,u,n),f[0]<=c&&f.splice(0,1),f[f.length-1]>=u&&f.pop(),n=f.length+1,r=s!==void 0?bi(s,n):ar.get(e)===xi?o0(i,n):void 0):(f=bi(dr(c,u),n+1).slice(1,-1),c instanceof Date&&(f=f.map(d=>new Date(d)))),EO(pz(o))<0&&f.reverse(),AO(e,t,{domain:f,range:r,reverse:l,unknown:a})}function AO(e,t,{domain:r=[0],unknown:n,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?bi(o,r.length+1):ar.get(e)===xi?o0(i,r.length+1):void 0,reverse:s}){r=pz(r);const l=EO(r);if(!isNaN(l)&&!qOe(r,l))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=Jg(a)),{type:"threshold",scale:h9(l<0?Jg(r):r,a===void 0?[]:a).unknown(n),domain:r,range:a}}function qOe(e,t){for(let r=1,n=e.length,i=e[0];r<n;++r){const o=gv(i,i=e[r]);if(o!==0&&o!==t)return!1}return!0}function YOe(){return{type:"identity",scale:i9()}}function kf(e,t=uz){return e.length?[Yg(e,({value:r})=>r===void 0?r:Yg(r,t)),ra(e,({value:r})=>r===void 0?r:ra(r,t))]:[0,1]}function $z(e,t){const r=ar.get(e);return(r===t0||r===n0||r===r0?JOe:kf)(t)}function JOe(e){return[0,e.length?ra(e,({value:t})=>t===void 0?t:ra(t,uz)):1]}function XOe(e,t){const r=e.find(({radius:a})=>a!==void 0);if(r!==void 0)return[0,r.radius];const n=r2(e,.5,({value:a})=>a===void 0?NaN:r2(a,.25,CO)),i=t.map(a=>3*Math.sqrt(a/n)),o=30/ra(i);return o<1?i.map(a=>a*o):i}function QOe(e,t){const r=S5(e,({value:o})=>o===void 0?NaN:S5(o,Math.abs)),n=t.map(o=>12*o/r),i=60/ra(n);return i<1?n.map(o=>o*i):n}function ZOe(e){for(const{value:t}of e)if(t!==void 0)for(let r of t){if(r>0)return kf(e,CO);if(r<0)return kf(e,fz)}return[1,10]}function eTe(e){const t=[];for(const{value:r}of e)if(r!==void 0)for(const n of r)t.push(n);return t}function wz(e){return(t,r)=>n=>e(t+n*(r-t))}function a0(e,t,r,n,{type:i,nice:o,clamp:a,domain:s=kf(n),unknown:l,pivot:c=0,scheme:u,range:f,symmetric:d=!0,interpolate:h=ar.get(e)===xi?u==null&&f!==void 0?ss:MO(u!==void 0?u:"rdbu"):dr,reverse:p}){c=+c;let[g,m]=s;if(gv(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,c),m=Math.max(m,c),typeof h!="function"&&(h=bz(h)),f!==void 0&&(h=h.length===1?wz(h)(...f):U7(h,f)),p&&(h=vz(h)),d){const v=r.apply(c),b=v-r.apply(g),y=r.apply(m)-v;b<y?g=r.invert(v-y):b>y&&(m=r.invert(v+b))}return t.domain([g,c,m]).unknown(l).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[g,m],pivot:c,interpolate:h,scale:t}}function tTe(e,t,r){return a0(e,A9(),oTe,t,r)}function rTe(e,t,r){return xz(e,t,{...r,exponent:.5})}function xz(e,t,{exponent:r=1,...n}){return a0(e,_9().exponent(r=+r),lTe(r),t,{...n,type:"diverging-pow"})}function nTe(e,t,{base:r=10,pivot:n=1,domain:i=kf(t,n<0?fz:CO),...o}){return a0(e,I9().base(r=+r),aTe,t,{domain:i,pivot:n,...o})}function iTe(e,t,{constant:r=1,...n}){return a0(e,P9().constant(r=+r),cTe(r),t,n)}const oTe={apply(e){return e},invert(e){return e}},aTe={apply:Math.log,invert:Math.exp},sTe={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function lTe(e){return e===.5?sTe:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function cTe(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Sz(e,t,r,n){return nd(e,t,r,n)}function uTe(e,t,r){return Sz(e,spe(),t,r)}function fTe(e,t,r){return Sz(e,lpe(),t,r)}const id=Symbol("ordinal");function kz(e,t,r,{type:n,interval:i,domain:o,range:a,reverse:s,hint:l}){return i=e0(i,n),o===void 0&&(o=Tz(r,i,e)),(n==="categorical"||n===id)&&(n="ordinal"),s&&(o=Jg(o)),t.domain(o),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:n,domain:o,range:a,scale:t,hint:l,interval:i}}function dTe(e,t,{type:r,interval:n,domain:i,range:o,scheme:a,unknown:s,...l}){n=e0(n,r),i===void 0&&(i=Tz(t,n,e));let c;if(ar.get(e)===i0)c=gTe(t),o=o===void 0?mTe(c):Zv(o,gz);else if(ar.get(e)===xi&&(o===void 0&&(r==="ordinal"||r===id)&&(o=jOe(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=r==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const u=MO(a),f=o[0],d=o[1]-o[0];o=({length:h})=>bi(p=>u(f+d*p),h)}else o=mz(a);if(s===c2)throw new Error(`implicit unknown on ${e} scale is not supported`);return kz(e,_k().unknown(s),t,{...l,type:r,domain:i,range:o,hint:c})}function hTe(e,t,{align:r=.5,padding:n=.5,...i}){return Oz(zde().align(r).padding(n),t,i,e)}function pTe(e,t,{align:r=.5,padding:n=.1,paddingInner:i=n,paddingOuter:o=e==="fx"||e==="fy"?0:n,...a}){return Oz(Dk().align(r).paddingInner(i).paddingOuter(o),t,a,e)}function Oz(e,t,r,n){let{round:i}=r;return i!==void 0&&e.round(i=!!i),e=kz(n,e,t,r),e.round=i,e}function Tz(e,t,r){const n=new Mue;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)n.add(a)}if(t!==void 0){const[i,o]=Sk(n).map(t.floor,t);return t.range(i,t.offset(o))}if(n.size>1e4&&ar.get(r)===zo)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return Iue(n,gOe)}function C3(e,t){let r;for(const{hint:n}of e){const i=n==null?void 0:n[t];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}function gTe(e){return{fill:C3(e,"fill"),stroke:C3(e,"stroke")}}function mTe(e){return POe(e.fill)?Mpe:Epe}function vTe(e,t,r){return bTe(e,void 0,{...t})}function bTe(e,t=[],r={}){const n=yTe(e,t,r);if(r.type===void 0&&r.domain===void 0&&r.range===void 0&&r.interval==null&&e!=="fx"&&e!=="fy"&&$Te({type:n})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(G2)?Xy(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Zs(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Zs(n)}".`):i.some(AOe)?Xy(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Zs(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Zs(n)}".`):i.some(IOe)&&Xy(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Zs(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Zs(n)}".`)}switch(r.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=mh(t,r,y3);break;case"identity":switch(ar.get(e)){case zo:r=mh(t,r,y3);break;case i0:r=mh(t,r,wTe);break}break;case"utc":case"time":r=mh(t,r,kOe);break}switch(n){case"diverging":return tTe(e,t,r);case"diverging-sqrt":return rTe(e,t,r);case"diverging-pow":return xz(e,t,r);case"diverging-log":return nTe(e,t,r);case"diverging-symlog":return iTe(e,t,r);case"categorical":case"ordinal":case id:return dTe(e,t,r);case"cyclical":case"sequential":case"linear":return HOe(e,t,r);case"sqrt":return UOe(e,t,r);case"threshold":return AO(e,t,r);case"quantile":return KOe(e,t,r);case"quantize":return GOe(e,t,r);case"pow":return yz(e,t,r);case"log":return VOe(e,t,r);case"symlog":return WOe(e,t,r);case"utc":return fTe(e,t,r);case"time":return uTe(e,t,r);case"point":return hTe(e,t,r);case"band":return pTe(e,t,r);case"identity":return ar.get(e)===zo?YOe():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function Zs(e){return typeof e=="symbol"?e.description:e}const E3={toString:()=>"projection"};function yTe(e,t,{type:r,domain:n,range:i,scheme:o,pivot:a,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(r=E3);for(const{type:u}of t)if(u!==void 0){if(r===void 0)r=u;else if(r!==u)throw new Error(`scale incompatible with channel: ${r} !== ${u}`)}if(r===E3)return;if(r!==void 0)return r;if(n===void 0&&!t.some(({value:u})=>u!==void 0))return;const l=ar.get(e);if(l===t0)return"sqrt";if(l===n0||l===r0)return"linear";if(l===i0)return"ordinal";if((n||i||[]).length>2)return Zy(l);if(n!==void 0)return $3(n)?Zy(l):G2(n)?"utc":l===xi&&(a!=null||O3(o))?"diverging":"linear";const c=t.map(({value:u})=>u).filter(u=>u!==void 0);return c.some($3)?Zy(l):c.some(G2)?"utc":l===xi&&(a!=null||O3(o))?"diverging":"linear"}function Zy(e){switch(e){case zo:return"point";case xi:return id;default:return"ordinal"}}function $Te({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===id}function mh(e,{domain:t,...r},n){for(const i of e)i.value!==void 0&&(i.value=n(i.value));return{domain:t===void 0?t:n(t),...r}}function wTe(e){return Zv(e,gz)}function xTe(e={}){let t;for(const r in e)if(ar.has(r)&&COe(e[r])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=STe(vTe(r,e[r]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function STe({scale:e,type:t,domain:r,range:n,interpolate:i,interval:o,transform:a,percent:s,pivot:l}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const c=e.unknown?e.unknown():void 0;return{type:t,domain:K2(r),...n!==void 0&&{range:K2(n)},...a!==void 0&&{transform:a},...s&&{percent:s},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function kTe(e){try{var t=Object.keys(e)[0];return xTe(Ppe({},t,Object.assign(Object.assign({},e[t]),{clamp:!0})))}catch{return null}}function OTe(e,t){var r={};return t.hasOwnProperty("opacity")?(r.fill=function(){return t.opacity.baseColor||lxe},r["fill-opacity"]=function(n){return e==null?void 0:e.apply(n)}):r.fill=function(n){return typeof n=="string"&&(n!=null&&n.startsWith("#"))?n:e==null?void 0:e.apply(n)},r}function TTe(e,t,r,n){Object.entries(OTe(t,r)).forEach(function(i){var o=rj(i,2),a=o[0],s=o[1];return e.style(a,function(l){return s(l[n])})})}var CTe=(function(){function e(t){ur(this,e),this.calendar=t}return fr(e,[{key:"populate",value:function(){var r=this.calendar,n=r.options.options,i=n.scale,o=n.subDomain,a=kTe(i);r.calendarPainter.root.selectAll(".ch-domain").selectAll("svg").selectAll("g").data(function(s){return r.domainCollection.get(s)||[]}).call(function(s){TTe(s.select("rect"),a,i,"v")}).call(function(s){s.select("text").attr("style",function(l){var c=Wg(a==null?void 0:a.apply(l.v)).l>60?"#000":"#fff",u=o.color||(l.v?c:null);return rd(u)&&(u=u(l.t,l.v,a==null?void 0:a.apply(l.v))),u?"fill: ".concat(u,";"):null}).text(function(l,c,u){return r.dateHelper.format(l.t,o.label,l.v,u[c])})}).call(function(){r.eventEmitter.emit("fill")})}}]),e})();function ETe(){this.__data__=[],this.size=0}function od(e,t){return e===t||e!==e&&t!==t}function s0(e,t){for(var r=e.length;r--;)if(od(e[r][0],t))return r;return-1}var MTe=Array.prototype,ATe=MTe.splice;function ITe(e){var t=this.__data__,r=s0(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ATe.call(t,r,1),--this.size,!0}function PTe(e){var t=this.__data__,r=s0(t,e);return r<0?void 0:t[r][1]}function _Te(e){return s0(this.__data__,e)>-1}function DTe(e,t){var r=this.__data__,n=s0(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function bo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bo.prototype.clear=ETe;bo.prototype.delete=ITe;bo.prototype.get=PTe;bo.prototype.has=_Te;bo.prototype.set=DTe;function LTe(){this.__data__=new bo,this.size=0}function NTe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function RTe(e){return this.__data__.get(e)}function FTe(e){return this.__data__.has(e)}var jTe=Ai["__core-js_shared__"],e1=jTe,M3=(function(){var e=/[^.]+$/.exec(e1&&e1.keys&&e1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function BTe(e){return!!M3&&M3 in e}var zTe=Function.prototype,HTe=zTe.toString;function _s(e){if(e!=null){try{return HTe.call(e)}catch{}try{return e+""}catch{}}return""}var UTe=/[\\^$.*+?()[\]{}|]/g,VTe=/^\[object .+?Constructor\]$/,WTe=Function.prototype,KTe=Object.prototype,GTe=WTe.toString,qTe=KTe.hasOwnProperty,YTe=RegExp("^"+GTe.call(qTe).replace(UTe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JTe(e){if(!io(e)||BTe(e))return!1;var t=rd(e)?YTe:VTe;return t.test(_s(e))}function XTe(e,t){return e==null?void 0:e[t]}function Ds(e,t){var r=XTe(e,t);return JTe(r)?r:void 0}var QTe=Ds(Ai,"Map"),Of=QTe,ZTe=Ds(Object,"create"),Tf=ZTe;function eCe(){this.__data__=Tf?Tf(null):{},this.size=0}function tCe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var rCe="__lodash_hash_undefined__",nCe=Object.prototype,iCe=nCe.hasOwnProperty;function oCe(e){var t=this.__data__;if(Tf){var r=t[e];return r===rCe?void 0:r}return iCe.call(t,e)?t[e]:void 0}var aCe=Object.prototype,sCe=aCe.hasOwnProperty;function lCe(e){var t=this.__data__;return Tf?t[e]!==void 0:sCe.call(t,e)}var cCe="__lodash_hash_undefined__";function uCe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tf&&t===void 0?cCe:t,this}function ps(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ps.prototype.clear=eCe;ps.prototype.delete=tCe;ps.prototype.get=oCe;ps.prototype.has=lCe;ps.prototype.set=uCe;function fCe(){this.size=0,this.__data__={hash:new ps,map:new(Of||bo),string:new ps}}function dCe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function l0(e,t){var r=e.__data__;return dCe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function hCe(e){var t=l0(this,e).delete(e);return this.size-=t?1:0,t}function pCe(e){return l0(this,e).get(e)}function gCe(e){return l0(this,e).has(e)}function mCe(e,t){var r=l0(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function yo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yo.prototype.clear=fCe;yo.prototype.delete=hCe;yo.prototype.get=pCe;yo.prototype.has=gCe;yo.prototype.set=mCe;var vCe=200;function bCe(e,t){var r=this.__data__;if(r instanceof bo){var n=r.__data__;if(!Of||n.length<vCe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new yo(n)}return r.set(e,t),this.size=r.size,this}function Qi(e){var t=this.__data__=new bo(e);this.size=t.size}Qi.prototype.clear=LTe;Qi.prototype.delete=NTe;Qi.prototype.get=RTe;Qi.prototype.has=FTe;Qi.prototype.set=bCe;var yCe=(function(){try{var e=Ds(Object,"defineProperty");return e({},"",{}),e}catch{}})(),pm=yCe;function IO(e,t,r){t=="__proto__"&&pm?pm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function q2(e,t,r){(r!==void 0&&!od(e[t],r)||r===void 0&&!(t in e))&&IO(e,t,r)}function $Ce(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var l=a[++i];if(r(o[l],l,o)===!1)break}return t}}var wCe=$Ce(),xCe=wCe,Cz=typeof qr=="object"&&qr&&!qr.nodeType&&qr,A3=Cz&&typeof Yr=="object"&&Yr&&!Yr.nodeType&&Yr,SCe=A3&&A3.exports===Cz,I3=SCe?Ai.Buffer:void 0;I3&&I3.allocUnsafe;function kCe(e,t){return e.slice()}var OCe=Ai.Uint8Array,gm=OCe;function TCe(e){var t=new e.constructor(e.byteLength);return new gm(t).set(new gm(e)),t}function CCe(e,t){var r=TCe(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function ECe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var P3=Object.create,MCe=(function(){function e(){}return function(t){if(!io(t))return{};if(P3)return P3(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})(),ACe=MCe;function Ez(e,t){return function(r){return e(t(r))}}var ICe=Ez(Object.getPrototypeOf,Object),Mz=ICe,PCe=Object.prototype;function PO(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||PCe;return e===r}function _Ce(e){return typeof e.constructor=="function"&&!PO(e)?ACe(Mz(e)):{}}function oo(e){return e!=null&&typeof e=="object"}var DCe="[object Arguments]";function _3(e){return oo(e)&&pa(e)==DCe}var Az=Object.prototype,LCe=Az.hasOwnProperty,NCe=Az.propertyIsEnumerable,RCe=_3((function(){return arguments})())?_3:function(e){return oo(e)&&LCe.call(e,"callee")&&!NCe.call(e,"callee")},mm=RCe,FCe=9007199254740991;function _O(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=FCe}function c0(e){return e!=null&&_O(e.length)&&!rd(e)}function jCe(e){return oo(e)&&c0(e)}function BCe(){return!1}var Iz=typeof qr=="object"&&qr&&!qr.nodeType&&qr,D3=Iz&&typeof Yr=="object"&&Yr&&!Yr.nodeType&&Yr,zCe=D3&&D3.exports===Iz,L3=zCe?Ai.Buffer:void 0,HCe=L3?L3.isBuffer:void 0,UCe=HCe||BCe,vm=UCe,VCe="[object Object]",WCe=Function.prototype,KCe=Object.prototype,Pz=WCe.toString,GCe=KCe.hasOwnProperty,qCe=Pz.call(Object);function YCe(e){if(!oo(e)||pa(e)!=VCe)return!1;var t=Mz(e);if(t===null)return!0;var r=GCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Pz.call(r)==qCe}var JCe="[object Arguments]",XCe="[object Array]",QCe="[object Boolean]",ZCe="[object Date]",eEe="[object Error]",tEe="[object Function]",rEe="[object Map]",nEe="[object Number]",iEe="[object Object]",oEe="[object RegExp]",aEe="[object Set]",sEe="[object String]",lEe="[object WeakMap]",cEe="[object ArrayBuffer]",uEe="[object DataView]",fEe="[object Float32Array]",dEe="[object Float64Array]",hEe="[object Int8Array]",pEe="[object Int16Array]",gEe="[object Int32Array]",mEe="[object Uint8Array]",vEe="[object Uint8ClampedArray]",bEe="[object Uint16Array]",yEe="[object Uint32Array]",Je={};Je[fEe]=Je[dEe]=Je[hEe]=Je[pEe]=Je[gEe]=Je[mEe]=Je[vEe]=Je[bEe]=Je[yEe]=!0;Je[JCe]=Je[XCe]=Je[cEe]=Je[QCe]=Je[uEe]=Je[ZCe]=Je[eEe]=Je[tEe]=Je[rEe]=Je[nEe]=Je[iEe]=Je[oEe]=Je[aEe]=Je[sEe]=Je[lEe]=!1;function $Ee(e){return oo(e)&&_O(e.length)&&!!Je[pa(e)]}function wEe(e){return function(t){return e(t)}}var _z=typeof qr=="object"&&qr&&!qr.nodeType&&qr,zu=_z&&typeof Yr=="object"&&Yr&&!Yr.nodeType&&Yr,xEe=zu&&zu.exports===_z,t1=xEe&&ez.process,SEe=(function(){try{var e=zu&&zu.require&&zu.require("util").types;return e||t1&&t1.binding&&t1.binding("util")}catch{}})(),N3=SEe,R3=N3&&N3.isTypedArray,kEe=R3?wEe(R3):$Ee,DO=kEe;function Y2(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var OEe=Object.prototype,TEe=OEe.hasOwnProperty;function Dz(e,t,r){var n=e[t];(!(TEe.call(e,t)&&od(n,r))||r===void 0&&!(t in e))&&IO(e,t,r)}function CEe(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=void 0;l===void 0&&(l=e[s]),i?IO(r,s,l):Dz(r,s,l)}return r}function EEe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var MEe=9007199254740991,AEe=/^(?:0|[1-9]\d*)$/;function u0(e,t){var r=typeof e;return t=t??MEe,!!t&&(r=="number"||r!="symbol"&&AEe.test(e))&&e>-1&&e%1==0&&e<t}var IEe=Object.prototype,PEe=IEe.hasOwnProperty;function Lz(e,t){var r=yn(e),n=!r&&mm(e),i=!r&&!n&&vm(e),o=!r&&!n&&!i&&DO(e),a=r||n||i||o,s=a?EEe(e.length,String):[],l=s.length;for(var c in e)(t||PEe.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||u0(c,l)))&&s.push(c);return s}function _Ee(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var DEe=Object.prototype,LEe=DEe.hasOwnProperty;function NEe(e){if(!io(e))return _Ee(e);var t=PO(e),r=[];for(var n in e)n=="constructor"&&(t||!LEe.call(e,n))||r.push(n);return r}function Nz(e){return c0(e)?Lz(e,!0):NEe(e)}function REe(e){return CEe(e,Nz(e))}function FEe(e,t,r,n,i,o,a){var s=Y2(e,r),l=Y2(t,r),c=a.get(l);if(c){q2(e,r,c);return}var u=o?o(s,l,r+"",e,t,a):void 0,f=u===void 0;if(f){var d=yn(l),h=!d&&vm(l),p=!d&&!h&&DO(l);u=l,d||h||p?yn(s)?u=s:jCe(s)?u=ECe(s):h?(f=!1,u=kCe(l)):p?(f=!1,u=CCe(l)):u=[]:YCe(l)||mm(l)?(u=s,mm(s)?u=REe(s):(!io(s)||rd(s))&&(u=_Ce(l))):f=!1}f&&(a.set(l,u),i(u,l,n,o,a),a.delete(l)),q2(e,r,u)}function Rz(e,t,r,n,i){e!==t&&xCe(t,function(o,a){if(i||(i=new Qi),io(o))FEe(e,t,a,r,Rz,n,i);else{var s=n?n(Y2(e,a),o,a+"",e,t,i):void 0;s===void 0&&(s=o),q2(e,a,s)}},Nz)}function Fz(e){return e}function jEe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var F3=Math.max;function BEe(e,t,r){return t=F3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=F3(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),jEe(e,this,s)}}function zEe(e){return function(){return e}}var HEe=pm?function(e,t){return pm(e,"toString",{configurable:!0,enumerable:!1,value:zEe(t),writable:!0})}:Fz,UEe=HEe,VEe=800,WEe=16,KEe=Date.now;function GEe(e){var t=0,r=0;return function(){var n=KEe(),i=WEe-(n-r);if(r=n,i>0){if(++t>=VEe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qEe=GEe(UEe),YEe=qEe;function JEe(e,t){return YEe(BEe(e,t,Fz),e+"")}function XEe(e,t,r){if(!io(r))return!1;var n=typeof t;return(n=="number"?c0(r)&&u0(t,r.length):n=="string"&&t in r)?od(r[t],e):!1}function QEe(e){return JEe(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&XEe(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t})}var ZEe=QEe(function(e,t,r,n){Rz(e,t,r,n)}),eMe=ZEe,tMe="__lodash_hash_undefined__";function rMe(e){return this.__data__.set(e,tMe),this}function nMe(e){return this.__data__.has(e)}function bm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new yo;++t<r;)this.add(e[t])}bm.prototype.add=bm.prototype.push=rMe;bm.prototype.has=nMe;function iMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function oMe(e,t){return e.has(t)}var aMe=1,sMe=2;function jz(e,t,r,n,i,o){var a=r&aMe,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,d=!0,h=r&sMe?new bm:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(n)var m=a?n(g,p,f,t,e,o):n(p,g,f,e,t,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!iMe(t,function(v,b){if(!oMe(h,b)&&(p===v||i(p,v,r,n,o)))return h.push(b)})){d=!1;break}}else if(!(p===g||i(p,g,r,n,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function lMe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function cMe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var uMe=1,fMe=2,dMe="[object Boolean]",hMe="[object Date]",pMe="[object Error]",gMe="[object Map]",mMe="[object Number]",vMe="[object RegExp]",bMe="[object Set]",yMe="[object String]",$Me="[object Symbol]",wMe="[object ArrayBuffer]",xMe="[object DataView]",j3=ia?ia.prototype:void 0,r1=j3?j3.valueOf:void 0;function SMe(e,t,r,n,i,o,a){switch(r){case xMe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wMe:return!(e.byteLength!=t.byteLength||!o(new gm(e),new gm(t)));case dMe:case hMe:case mMe:return od(+e,+t);case pMe:return e.name==t.name&&e.message==t.message;case vMe:case yMe:return e==t+"";case gMe:var s=lMe;case bMe:var l=n&uMe;if(s||(s=cMe),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;n|=fMe,a.set(e,t);var u=jz(s(e),s(t),n,i,o,a);return a.delete(e),u;case $Me:if(r1)return r1.call(e)==r1.call(t)}return!1}function kMe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function OMe(e,t,r){var n=t(e);return yn(e)?n:kMe(n,r(e))}function TMe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function CMe(){return[]}var EMe=Object.prototype,MMe=EMe.propertyIsEnumerable,B3=Object.getOwnPropertySymbols,AMe=B3?function(e){return e==null?[]:(e=Object(e),TMe(B3(e),function(t){return MMe.call(e,t)}))}:CMe,IMe=AMe,PMe=Ez(Object.keys,Object),_Me=PMe,DMe=Object.prototype,LMe=DMe.hasOwnProperty;function NMe(e){if(!PO(e))return _Me(e);var t=[];for(var r in Object(e))LMe.call(e,r)&&r!="constructor"&&t.push(r);return t}function RMe(e){return c0(e)?Lz(e):NMe(e)}function z3(e){return OMe(e,RMe,IMe)}var FMe=1,jMe=Object.prototype,BMe=jMe.hasOwnProperty;function zMe(e,t,r,n,i,o){var a=r&FMe,s=z3(e),l=s.length,c=z3(t),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in t:BMe.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var m=a;++f<l;){d=s[f];var v=e[d],b=t[d];if(n)var y=a?n(b,v,d,t,e,o):n(v,b,d,e,t,o);if(!(y===void 0?v===b||i(v,b,r,n,o):y)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var w=e.constructor,$=t.constructor;w!=$&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof $=="function"&&$ instanceof $)&&(g=!1)}return o.delete(e),o.delete(t),g}var HMe=Ds(Ai,"DataView"),J2=HMe,UMe=Ds(Ai,"Promise"),X2=UMe,VMe=Ds(Ai,"Set"),Q2=VMe,WMe=Ds(Ai,"WeakMap"),Z2=WMe,H3="[object Map]",KMe="[object Object]",U3="[object Promise]",V3="[object Set]",W3="[object WeakMap]",K3="[object DataView]",GMe=_s(J2),qMe=_s(Of),YMe=_s(X2),JMe=_s(Q2),XMe=_s(Z2),Ia=pa;(J2&&Ia(new J2(new ArrayBuffer(1)))!=K3||Of&&Ia(new Of)!=H3||X2&&Ia(X2.resolve())!=U3||Q2&&Ia(new Q2)!=V3||Z2&&Ia(new Z2)!=W3)&&(Ia=function(e){var t=pa(e),r=t==KMe?e.constructor:void 0,n=r?_s(r):"";if(n)switch(n){case GMe:return K3;case qMe:return H3;case YMe:return U3;case JMe:return V3;case XMe:return W3}return t});var G3=Ia,QMe=1,q3="[object Arguments]",Y3="[object Array]",vh="[object Object]",ZMe=Object.prototype,J3=ZMe.hasOwnProperty;function e5e(e,t,r,n,i,o){var a=yn(e),s=yn(t),l=a?Y3:G3(e),c=s?Y3:G3(t);l=l==q3?vh:l,c=c==q3?vh:c;var u=l==vh,f=c==vh,d=l==c;if(d&&vm(e)){if(!vm(t))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new Qi),a||DO(e)?jz(e,t,r,n,i,o):SMe(e,t,l,r,n,i,o);if(!(r&QMe)){var h=u&&J3.call(e,"__wrapped__"),p=f&&J3.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,m=p?t.value():t;return o||(o=new Qi),i(g,m,r,n,o)}}return d?(o||(o=new Qi),zMe(e,t,r,n,i,o)):!1}function Bz(e,t,r,n,i){return e===t?!0:e==null||t==null||!oo(e)&&!oo(t)?e!==e&&t!==t:e5e(e,t,r,n,Bz,i)}function zz(e,t){return Bz(e,t)}var t5e=Object.prototype,r5e=t5e.hasOwnProperty;function n5e(e,t){return e!=null&&r5e.call(e,t)}var i5e="[object Symbol]";function LO(e){return typeof e=="symbol"||oo(e)&&pa(e)==i5e}var o5e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a5e=/^\w*$/;function s5e(e,t){if(yn(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||LO(e)?!0:a5e.test(e)||!o5e.test(e)||t!=null&&e in Object(t)}var l5e="Expected a function";function NO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(l5e);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(NO.Cache||yo),r}NO.Cache=yo;var c5e=500;function u5e(e){var t=NO(e,function(n){return r.size===c5e&&r.clear(),n}),r=t.cache;return t}var f5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d5e=/\\(\\)?/g,h5e=u5e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(f5e,function(r,n,i,o){t.push(i?o.replace(d5e,"$1"):n||r)}),t}),p5e=h5e;function g5e(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var X3=ia?ia.prototype:void 0,Q3=X3?X3.toString:void 0;function Hz(e){if(typeof e=="string")return e;if(yn(e))return g5e(e,Hz)+"";if(LO(e))return Q3?Q3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function m5e(e){return e==null?"":Hz(e)}function RO(e,t){return yn(e)?e:s5e(e,t)?[e]:p5e(m5e(e))}function FO(e){if(typeof e=="string"||LO(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function v5e(e,t,r){t=RO(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=FO(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&_O(i)&&u0(a,i)&&(yn(e)||mm(e)))}function Z3(e,t){return e!=null&&v5e(e,t,n5e)}function b5e(e,t){t=RO(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[FO(t[r++])];return r&&r==n?e:void 0}function bh(e,t,r){var n=e==null?void 0:b5e(e,t);return n===void 0?r:n}function y5e(e,t,r,n){if(!io(e))return e;t=RO(t,e);for(var i=-1,o=t.length,a=o-1,s=e;s!=null&&++i<o;){var l=FO(t[i]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=a){var u=s[l];c=void 0,c===void 0&&(c=io(u)?u:u0(t[i+1])?[]:{})}Dz(s,l,c),s=s[l]}return e}function eP(e,t,r){return e==null?e:y5e(e,t,r)}var $5e="[object String]";function w5e(e){return typeof e=="string"||!yn(e)&&oo(e)&&pa(e)==$5e}var x5e={range:function(t){return Math.max(+t,1)},"date.highlight":function(t){return Xv(t)},"subDomain.label":function(t){return w5e(t)&&t!==""||rd(t)?t:null}},S5e=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x5e;ur(this,e),this.preProcessors=t,this.options={itemSelector:oxe,range:ixe,domain:{type:X2e,gutter:4,padding:[0,0,0,0],dynamicDimension:!0,sort:"asc",label:{text:void 0,position:"bottom",textAlign:"middle",offset:{x:0,y:0},rotate:null,width:100,height:25}},subDomain:{type:Q2e,width:Z2e,height:exe,gutter:txe,radius:rxe,label:null,color:void 0,sort:"asc"},date:{start:new Date,min:void 0,max:void 0,highlight:[],locale:sxe,timezone:void 0},verticalOrientation:!1,data:{source:"",type:"json",requestInit:{},x:"",y:"",groupY:"sum",defaultValue:null},scale:void 0,animationDuration:nxe,theme:axe,x:{domainHorizontalLabelWidth:0,domainVerticalLabelHeight:0}}}return fr(e,[{key:"set",value:function(r,n){return!Z3(this.options,r)||zz(bh(this.options,r),n)?!1:(eP(this.options,r,Z3(this.preProcessors,r)?bh(this.preProcessors,r)(n):n),!0)}},{key:"init",value:function(r){var n=this;this.options=Object.assign({},eMe(this.options,r,function(o,a){return Array.isArray(a)?a:void 0}));var i=this.options;Object.keys(this.preProcessors).forEach(function(o){eP(i,o,bh(n.preProcessors,o)(bh(i,o)))}),typeof i.scale>"u"&&this.initScale(),i.x.domainVerticalLabelHeight=i.domain.label.height,i.domain.label.position==="top"||i.domain.label.position==="bottom"?i.x.domainHorizontalLabelWidth=0:(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=i.domain.label.width),(i.domain.label.text===null||i.domain.label.text==="")&&(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=0)}},{key:"initScale",value:function(){this.options.scale={color:{scheme:cxe,type:uxe,domain:fxe}}}}]),e})(),k5e=br,O5e=function(){var e=k5e(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},jO=De,T5e=ct,BO=T5e.RegExp,Uz=jO(function(){var e=BO("a","y");return e.lastIndex=2,e.exec("abcd")!==null});Uz||jO(function(){return!BO("a","y").sticky});var C5e=Uz||jO(function(){var e=BO("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),E5e={BROKEN_CARET:C5e},M5e=De,A5e=ct,I5e=A5e.RegExp,P5e=M5e(function(){var e=I5e(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")}),_5e=De,D5e=ct,L5e=D5e.RegExp,N5e=_5e(function(){var e=L5e("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),$l=Qt,f0=ze,R5e=ha,F5e=O5e,j5e=E5e,B5e=zk,z5e=qv,H5e=Is.get,U5e=P5e,V5e=N5e,W5e=B5e("native-string-replace",String.prototype.replace),ym=RegExp.prototype.exec,ex=ym,K5e=f0("".charAt),G5e=f0("".indexOf),q5e=f0("".replace),n1=f0("".slice),tx=(function(){var e=/a/,t=/b*/g;return $l(ym,e,"a"),$l(ym,t,"a"),e.lastIndex!==0||t.lastIndex!==0})(),Vz=j5e.BROKEN_CARET,rx=/()??/.exec("")[1]!==void 0,Y5e=tx||rx||Vz||U5e||V5e;Y5e&&(ex=function(t){var r=this,n=H5e(r),i=R5e(t),o=n.raw,a,s,l,c,u,f,d;if(o)return o.lastIndex=r.lastIndex,a=$l(ex,o,i),r.lastIndex=o.lastIndex,a;var h=n.groups,p=Vz&&r.sticky,g=$l(F5e,r),m=r.source,v=0,b=i;if(p&&(g=q5e(g,"y",""),G5e(g,"g")===-1&&(g+="g"),b=n1(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&K5e(i,r.lastIndex-1)!==`
`)&&(m="(?: "+m+")",b=" "+b,v++),s=new RegExp("^(?:"+m+")",g)),rx&&(s=new RegExp("^"+m+"$(?!\\s)",g)),tx&&(l=r.lastIndex),c=$l(ym,p?s:r,b),p?c?(c.input=n1(c.input,v),c[0]=n1(c[0],v),c.index=r.lastIndex,r.lastIndex+=c[0].length):r.lastIndex=0:tx&&c&&(r.lastIndex=r.global?c.index+c[0].length:l),rx&&c&&c.length>1&&$l(W5e,c[0],s,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(c[u]=void 0)}),c&&h)for(c.groups=f=z5e(null),u=0;u<h.length;u++)d=h[u],f[d[0]]=c[d[1]];return c});var zO=ex,J5e=Ge,tP=zO;J5e({target:"RegExp",proto:!0,forced:/./.exec!==tP},{exec:tP});var rP=nO,nP=po,X5e=zO,iP=De,Wz=ut,Q5e=gc,Z5e=Wz("species"),i1=RegExp.prototype,eAe=function(e,t,r,n){var i=Wz(e),o=!iP(function(){var c={};return c[i]=function(){return 7},""[e](c)!==7}),a=o&&!iP(function(){var c=!1,u=/a/;return e==="split"&&(u={},u.constructor={},u.constructor[Z5e]=function(){return u},u.flags="",u[i]=/./[i]),u.exec=function(){return c=!0,null},u[i](""),!c});if(!o||!a||r){var s=rP(/./[i]),l=t(i,""[e],function(c,u,f,d,h){var p=rP(c),g=u.exec;return g===X5e||g===i1.exec?o&&!h?{done:!0,value:s(u,f,d)}:{done:!0,value:p(f,u,d)}:{done:!1}});nP(String.prototype,e,l[0]),nP(i1,i,l[1])}n&&Q5e(i1[i],"sham",!0)},tAe=mB.charAt,rAe=function(e,t,r){return t+(r?tAe(e,t).length:1)},HO=ze,nAe=Ei,iAe=Math.floor,o1=HO("".charAt),oAe=HO("".replace),a1=HO("".slice),aAe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,sAe=/\$([$&'`]|\d{1,2})/g,lAe=function(e,t,r,n,i,o){var a=r+e.length,s=n.length,l=sAe;return i!==void 0&&(i=nAe(i),l=aAe),oAe(o,l,function(c,u){var f;switch(o1(u,0)){case"$":return"$";case"&":return e;case"`":return a1(t,0,r);case"'":return a1(t,a);case"<":f=i[a1(u,1,-1)];break;default:var d=+u;if(d===0)return c;if(d>s){var h=iAe(d/10);return h===0?c:h<=s?n[h-1]===void 0?o1(u,1):n[h-1]+o1(u,1):c}f=n[d-1]}return f===void 0?"":f})},oP=Qt,cAe=br,uAe=et,fAe=go,dAe=zO,hAe=TypeError,pAe=function(e,t){var r=e.exec;if(uAe(r)){var n=oP(r,e,t);return n!==null&&cAe(n),n}if(fAe(e)==="RegExp")return oP(dAe,e,t);throw new hAe("RegExp#exec called on incompatible receiver")},gAe=Dj,aP=Qt,d0=ze,mAe=eAe,vAe=De,bAe=br,yAe=et,$Ae=da,wAe=jv,xAe=Jk,el=ha,SAe=Es,kAe=rAe,OAe=Iv,TAe=lAe,CAe=pAe,EAe=ut,nx=EAe("replace"),MAe=Math.max,AAe=Math.min,IAe=d0([].concat),s1=d0([].push),sP=d0("".indexOf),lP=d0("".slice),PAe=function(e){return e===void 0?e:String(e)},_Ae=(function(){return"a".replace(/./,"$0")==="$0"})(),cP=(function(){return/./[nx]?/./[nx]("a","$0")==="":!1})(),DAe=!vAe(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});mAe("replace",function(e,t,r){var n=cP?"$":"$0";return[function(o,a){var s=SAe(this),l=$Ae(o)?void 0:OAe(o,nx);return l?aP(l,o,s,a):aP(t,el(s),o,a)},function(i,o){var a=bAe(this),s=el(i);if(typeof o=="string"&&sP(o,n)===-1&&sP(o,"$<")===-1){var l=r(t,a,s,o);if(l.done)return l.value}var c=yAe(o);c||(o=el(o));var u=a.global,f;u&&(f=a.unicode,a.lastIndex=0);for(var d=[],h;h=CAe(a,s),!(h===null||(s1(d,h),!u));){var p=el(h[0]);p===""&&(a.lastIndex=kAe(s,xAe(a.lastIndex),f))}for(var g="",m=0,v=0;v<d.length;v++){h=d[v];for(var b=el(h[0]),y=MAe(AAe(wAe(h.index),s.length),0),w=[],$,x=1;x<h.length;x++)s1(w,PAe(h[x]));var O=h.groups;if(c){var T=IAe([b],w,y,s);O!==void 0&&s1(T,O),$=el(gAe(o,void 0,T))}else $=TAe(b,s,y,w,O,o);y>=m&&(g+=lP(s,m,y)+$,m=y+b.length)}return g+lP(s,m)}]},!DAe||!_Ae||cP);var ix,Kz,LAe=(function(){function e(t){ur(this,e),ix.add(this),this.calendar=t}return fr(e,[{key:"getDatas",value:function(r,n,i){return yO(this,void 0,void 0,fs().mark(function o(){var a;return fs().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(typeof r=="string"&&r.length>0)){l.next=2;break}return l.abrupt("return",ge(this,ix,"m",Kz).call(this,r,n,i));case 2:return a=[],Array.isArray(r)&&(a=r),l.abrupt("return",new Promise(function(c){c(a)}));case 5:case"end":return l.stop()}},o,this)}))}},{key:"parseURI",value:function(r,n,i){var o=this,a=r.replace(/\{\{start=(.*?)\}\}/g,function(s,l){return o.calendar.dateHelper.date(n).format(l)});return a=a.replace(/\{\{end=(.*?)\}\}/g,function(s,l){return o.calendar.dateHelper.date(i).format(l)}),a}}]),e})();ix=new WeakSet,Kz=function(t,r,n){var i=this.calendar.options.options.data,o=i.type,a=i.requestInit,s=this.parseURI(t,r,n);switch(o){case"json":return Mde(s,a);case"csv":return Cde(s,a);case"tsv":return Tde("	",s,a);case"txt":return Ak(s,a);default:return new Promise(function(l){l([])})}};var NAe=Fr,RAe=Pv.EXISTS,Gz=ze,FAe=tO,qz=Function.prototype,jAe=Gz(qz.toString),Yz=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,BAe=Gz(Yz.exec),zAe="name";NAe&&!RAe&&FAe(qz,zAe,{configurable:!0,get:function(){try{return BAe(Yz,jAe(this))[1]}catch{return""}}});var Jz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){var r=1e3,n=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",c="day",u="week",f="month",d="quarter",h="year",p="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var C=["th","st","nd","rd"],S=k%100;return"["+k+(C[(S-20)%10]||C[S]||C[0])+"]"}},y=function(k,C,S){var P=String(k);return!P||P.length>=C?k:""+Array(C+1-P.length).join(S)+k},w={s:y,z:function(k){var C=-k.utcOffset(),S=Math.abs(C),P=Math.floor(S/60),A=S%60;return(C<=0?"+":"-")+y(P,2,"0")+":"+y(A,2,"0")},m:function k(C,S){if(C.date()<S.date())return-k(S,C);var P=12*(S.year()-C.year())+(S.month()-C.month()),A=C.clone().add(P,f),N=S-A<0,U=C.clone().add(P+(N?-1:1),f);return+(-(P+(S-A)/(N?A-U:U-A))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:f,y:h,w:u,d:c,D:p,h:l,m:s,s:a,ms:o,Q:d}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},$="en",x={};x[$]=b;var O="$isDayjsObject",T=function(k){return k instanceof E||!(!k||!k[O])},D=function k(C,S,P){var A;if(!C)return $;if(typeof C=="string"){var N=C.toLowerCase();x[N]&&(A=N),S&&(x[N]=S,A=N);var U=C.split("-");if(!A&&U.length>1)return k(U[0])}else{var V=C.name;x[V]=C,A=V}return!P&&A&&($=A),A||!P&&$},L=function(k,C){if(T(k))return k.clone();var S=typeof C=="object"?C:{};return S.date=k,S.args=arguments,new E(S)},I=w;I.l=D,I.i=T,I.w=function(k,C){return L(k,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var E=(function(){function k(S){this.$L=D(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[O]=!0}var C=k.prototype;return C.parse=function(S){this.$d=(function(P){var A=P.date,N=P.utc;if(A===null)return new Date(NaN);if(I.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var U=A.match(m);if(U){var V=U[2]-1||0,ae=(U[7]||"0").substring(0,3);return N?new Date(Date.UTC(U[1],V,U[3]||1,U[4]||0,U[5]||0,U[6]||0,ae)):new Date(U[1],V,U[3]||1,U[4]||0,U[5]||0,U[6]||0,ae)}}return new Date(A)})(S),this.init()},C.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},C.$utils=function(){return I},C.isValid=function(){return this.$d.toString()!==g},C.isSame=function(S,P){var A=L(S);return this.startOf(P)<=A&&A<=this.endOf(P)},C.isAfter=function(S,P){return L(S)<this.startOf(P)},C.isBefore=function(S,P){return this.endOf(P)<L(S)},C.$g=function(S,P,A){return I.u(S)?this[P]:this.set(A,S)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(S,P){var A=this,N=!!I.u(P)||P,U=I.p(S),V=function(q,Q){var ce=I.w(A.$u?Date.UTC(A.$y,Q,q):new Date(A.$y,Q,q),A);return N?ce:ce.endOf(c)},ae=function(q,Q){return I.w(A.toDate()[q].apply(A.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(Q)),A)},ne=this.$W,pe=this.$M,Se=this.$D,qe="set"+(this.$u?"UTC":"");switch(U){case h:return N?V(1,0):V(31,11);case f:return N?V(1,pe):V(0,pe+1);case u:var J=this.$locale().weekStart||0,de=(ne<J?ne+7:ne)-J;return V(N?Se-de:Se+(6-de),pe);case c:case p:return ae(qe+"Hours",0);case l:return ae(qe+"Minutes",1);case s:return ae(qe+"Seconds",2);case a:return ae(qe+"Milliseconds",3);default:return this.clone()}},C.endOf=function(S){return this.startOf(S,!1)},C.$set=function(S,P){var A,N=I.p(S),U="set"+(this.$u?"UTC":""),V=(A={},A[c]=U+"Date",A[p]=U+"Date",A[f]=U+"Month",A[h]=U+"FullYear",A[l]=U+"Hours",A[s]=U+"Minutes",A[a]=U+"Seconds",A[o]=U+"Milliseconds",A)[N],ae=N===c?this.$D+(P-this.$W):P;if(N===f||N===h){var ne=this.clone().set(p,1);ne.$d[V](ae),ne.init(),this.$d=ne.set(p,Math.min(this.$D,ne.daysInMonth())).$d}else V&&this.$d[V](ae);return this.init(),this},C.set=function(S,P){return this.clone().$set(S,P)},C.get=function(S){return this[I.p(S)]()},C.add=function(S,P){var A,N=this;S=Number(S);var U=I.p(P),V=function(pe){var Se=L(N);return I.w(Se.date(Se.date()+Math.round(pe*S)),N)};if(U===f)return this.set(f,this.$M+S);if(U===h)return this.set(h,this.$y+S);if(U===c)return V(1);if(U===u)return V(7);var ae=(A={},A[s]=n,A[l]=i,A[a]=r,A)[U]||1,ne=this.$d.getTime()+S*ae;return I.w(ne,this)},C.subtract=function(S,P){return this.add(-1*S,P)},C.format=function(S){var P=this,A=this.$locale();if(!this.isValid())return A.invalidDate||g;var N=S||"YYYY-MM-DDTHH:mm:ssZ",U=I.z(this),V=this.$H,ae=this.$m,ne=this.$M,pe=A.weekdays,Se=A.months,qe=A.meridiem,J=function(Q,ce,H,He){return Q&&(Q[ce]||Q(P,N))||H[ce].slice(0,He)},de=function(Q){return I.s(V%12||12,Q,"0")},q=qe||function(Q,ce,H){var He=Q<12?"AM":"PM";return H?He.toLowerCase():He};return N.replace(v,(function(Q,ce){return ce||(function(H){switch(H){case"YY":return String(P.$y).slice(-2);case"YYYY":return I.s(P.$y,4,"0");case"M":return ne+1;case"MM":return I.s(ne+1,2,"0");case"MMM":return J(A.monthsShort,ne,Se,3);case"MMMM":return J(Se,ne);case"D":return P.$D;case"DD":return I.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return J(A.weekdaysMin,P.$W,pe,2);case"ddd":return J(A.weekdaysShort,P.$W,pe,3);case"dddd":return pe[P.$W];case"H":return String(V);case"HH":return I.s(V,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return q(V,ae,!0);case"A":return q(V,ae,!1);case"m":return String(ae);case"mm":return I.s(ae,2,"0");case"s":return String(P.$s);case"ss":return I.s(P.$s,2,"0");case"SSS":return I.s(P.$ms,3,"0");case"Z":return U}return null})(Q)||U.replace(":","")}))},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(S,P,A){var N,U=this,V=I.p(P),ae=L(S),ne=(ae.utcOffset()-this.utcOffset())*n,pe=this-ae,Se=function(){return I.m(U,ae)};switch(V){case h:N=Se()/12;break;case f:N=Se();break;case d:N=Se()/3;break;case u:N=(pe-ne)/6048e5;break;case c:N=(pe-ne)/864e5;break;case l:N=pe/i;break;case s:N=pe/n;break;case a:N=pe/r;break;default:N=pe}return A?N:I.a(N)},C.daysInMonth=function(){return this.endOf(f).$D},C.$locale=function(){return x[this.$L]},C.locale=function(S,P){if(!S)return this.$L;var A=this.clone(),N=D(S,P,!0);return N&&(A.$L=N),A},C.clone=function(){return I.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},k})(),_=E.prototype;return L.prototype=_,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",c],["$M",f],["$y",h],["$D",p]].forEach((function(k){_[k[1]]=function(C){return this.$g(C,k[0],k[1])}})),L.extend=function(k,C){return k.$i||(k(C,E,L),k.$i=!0),L},L.locale=D,L.isDayjs=T,L.unix=function(k){return L(1e3*k)},L.en=x[$],L.Ls=x,L.p={},L}))})(Jz);var HAe=Jz.exports,Qe=vr(HAe),Xz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){var r="week",n="year";return function(i,o,a){var s=o.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=a(this).startOf(n).add(1,n).date(c),f=a(this).endOf(r);if(u.isBefore(f))return 1}var d=a(this).startOf(n).date(c).startOf(r).subtract(1,"millisecond"),h=this.diff(d,r,!0);return h<0?a(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}}))})(Xz);var UAe=Xz.exports,VAe=vr(UAe),Qz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){return function(r,n,i){n.prototype.dayOfYear=function(o){var a=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return o==null?a:this.add(o-a,"day")}}}))})(Qz);var WAe=Qz.exports,KAe=vr(WAe),Zz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){return function(r,n){n.prototype.weekday=function(i){var o=this.$locale().weekStart||0,a=this.$W,s=(a<o?a+7:a)-o;return this.$utils().u(i)?s:this.subtract(s,"day").add(i,"day")}}}))})(Zz);var GAe=Zz.exports,qAe=vr(GAe),eH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){return function(r,n,i){var o=function(a,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter((function(u){return u})))[0];for(var c=1;c<s.length;c+=1)s[c].isValid()&&!s[c][a](l)||(l=s[c]);return l};i.max=function(){var a=[].slice.call(arguments,0);return o("isAfter",a)},i.min=function(){var a=[].slice.call(arguments,0);return o("isBefore",a)}}}))})(eH);var YAe=eH.exports,JAe=vr(YAe),tH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){return function(r,n){n.prototype.isoWeeksInYear=function(){var i=this.isLeapYear(),o=this.endOf("y").day();return o===4||i&&o===5?53:52}}}))})(tH);var XAe=tH.exports,QAe=vr(XAe),rH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){var r="day";return function(n,i,o){var a=function(c){return c.add(4-c.isoWeekday(),r)},s=i.prototype;s.isoWeekYear=function(){return a(this).year()},s.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),r);var u,f,d,h,p=a(this),g=(u=this.isoWeekYear(),f=this.$u,d=(f?o.utc:o)().year(u).startOf("year"),h=4-d.isoWeekday(),d.isoWeekday()>4&&(h+=7),d.add(h,r));return p.diff(g,"week")+1},s.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var l=s.startOf;s.startOf=function(c,u){var f=this.$utils(),d=!!f.u(u)||u;return f.p(c)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(c,u)}}}))})(rH);var ZAe=rH.exports,eIe=vr(ZAe),nH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(nH);var tIe=nH.exports,rIe=vr(tIe),iH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){return function(r,n){var i=n.prototype,o=i.format;i.format=function(a){var s=this,l=this.$locale();if(!this.isValid())return o.bind(this)(a);var c=this.$utils(),u=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return c.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return c.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return c.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}}));return o.bind(this)(u)}}}))})(iH);var nIe=iH.exports,iIe=vr(nIe),oH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,a,s){var l=a.prototype;s.utc=function(g){var m={date:g,utc:!0,args:arguments};return new a(m)},l.utc=function(g){var m=s(this.toDate(),{locale:this.$L,utc:!0});return g?m.add(this.utcOffset(),r):m},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(g,m){var v=this.$utils().u;if(v(g))return this.$u?0:v(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=(function($){$===void 0&&($="");var x=$.match(n);if(!x)return null;var O=(""+x[0]).match(i)||["-",0,0],T=O[0],D=60*+O[1]+ +O[2];return D===0?0:T==="+"?D:-D})(g),g===null))return this;var b=Math.abs(g)<=16?60*g:g,y=this;if(m)return y.$offset=b,y.$u=g===0,y;if(g!==0){var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(y=this.local().add(b+w,r)).$offset=b,y.$x.$localOffset=w}else y=this.utc();return y};var d=l.format;l.format=function(g){var m=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,m)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(g,m,v){if(g&&this.$u===g.$u)return p.call(this,g,m,v);var b=this.local(),y=s(g).local();return p.call(b,y,m,v)}}}))})(oH);var oIe=oH.exports,aIe=vr(oIe),aH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,o,a){var s,l=function(d,h,p){p===void 0&&(p={});var g=new Date(d),m=(function(v,b){b===void 0&&(b={});var y=b.timeZoneName||"short",w=v+"|"+y,$=n[w];return $||($=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:y}),n[w]=$),$})(h,p);return m.formatToParts(g)},c=function(d,h){for(var p=l(d,h),g=[],m=0;m<p.length;m+=1){var v=p[m],b=v.type,y=v.value,w=r[b];w>=0&&(g[w]=parseInt(y,10))}var $=g[3],x=$===24?0:$,O=g[0]+"-"+g[1]+"-"+g[2]+" "+x+":"+g[4]+":"+g[5]+":000",T=+d;return(a.utc(O).valueOf()-(T-=T%1e3))/6e4},u=o.prototype;u.tz=function(d,h){d===void 0&&(d=s);var p=this.utcOffset(),g=this.toDate(),m=g.toLocaleString("en-US",{timeZone:d}),v=Math.round((g-new Date(m))/1e3/60),b=a(m,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(g.getTimezoneOffset()/15)-v,!0);if(h){var y=b.utcOffset();b=b.add(p-y,"minute")}return b.$x.$timezone=d,b},u.offsetName=function(d){var h=this.$x.$timezone||a.tz.guess(),p=l(this.valueOf(),h,{timeZoneName:d}).find((function(g){return g.type.toLowerCase()==="timezonename"}));return p&&p.value};var f=u.startOf;u.startOf=function(d,h){if(!this.$x||!this.$x.$timezone)return f.call(this,d,h);var p=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(p,d,h).tz(this.$x.$timezone,!0)},a.tz=function(d,h,p){var g=p&&h,m=p||h||s,v=c(+a(),m);if(typeof d!="string")return a(d).tz(m);var b=(function(x,O,T){var D=x-60*O*1e3,L=c(D,T);if(O===L)return[D,O];var I=c(D-=60*(L-O)*1e3,T);return L===I?[D,L]:[x-60*Math.min(L,I)*1e3,Math.max(L,I)]})(a.utc(d,g).valueOf(),v,m),y=b[0],w=b[1],$=a(y).utcOffset(w);return $.$x.$timezone=m,$},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(d){s=d}}}))})(aH);var sIe=aH.exports,lIe=vr(sIe),sH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){return function(r,n,i){var o=n.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,p,g){var m=f.name?f:f.$locale(),v=a(m[d]),b=a(m[h]),y=v||b.map((function($){return $.slice(0,p)}));if(!g)return y;var w=m.weekStart;return y.map((function($,x){return y[(x+(w||0))%7]}))},l=function(){return i.Ls[i.locale()]},c=function(f,d){return f.formats[d]||(function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(p,g,m){return g||m.slice(1)}))})(f.formats[d.toUpperCase()])},u=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return c(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return c(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}}))})(sH);var cIe=sH.exports,uIe=vr(cIe),lH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var a=i.prototype,s=a.format;o.en.formats=r,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=(function(f,d){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(h,p,g){var m=g&&g.toUpperCase();return p||d[g]||r[g]||d[m].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(v,b,y){return b||y.slice(1)}))}))})(l,c===void 0?{}:c);return s.call(this,u)}}}))})(lH);var fIe=lH.exports,dIe=vr(fIe),cH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bt,(function(){return function(r,n,i){i.updateLocale=function(o,a){var s=i.Ls[o];if(s)return(a?Object.keys(a):[]).forEach((function(l){s[l]=a[l]})),s}}}))})(cH);var hIe=cH.exports,pIe=vr(hIe);Qe.extend(VAe);Qe.extend(QAe);Qe.extend(eIe);Qe.extend(rIe);Qe.extend(KAe);Qe.extend(qAe);Qe.extend(JAe);Qe.extend(iIe);Qe.extend(aIe);Qe.extend(lIe);Qe.extend(uIe);Qe.extend(dIe);Qe.extend(pIe);var l1="en",gIe=(function(){function e(){ur(this,e);var t;this.locale=l1,this.timezone=Qe.tz.guess(),(typeof window>"u"?"undefined":Ru(window))==="object"&&((t=window).dayjs||(t.dayjs=Qe))}return fr(e,[{key:"setup",value:function(r){var n=r.options;return yO(this,void 0,void 0,fs().mark(function i(){var o,a;return fs().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.timezone=n.date.timezone||Qe.tz.guess(),o=n.date.locale,!(typeof o=="string"&&o!==l1)){l.next=17;break}if((typeof window>"u"?"undefined":Ru(window))!=="object"){l.next=12;break}if(l.t0=window["dayjs_locale_".concat(o)],l.t0){l.next=9;break}return l.next=8,this.loadBrowserLocale(o);case 8:l.t0=l.sent;case 9:a=l.t0,l.next=15;break;case 12:return l.next=14,this.loadNodeLocale(o);case 14:a=l.sent;case 15:Qe.locale(o),this.locale=a;case 17:Ru(o)==="object"&&(o.hasOwnProperty("name")?(Qe.locale(o.name,o),this.locale=o):this.locale=Qe.updateLocale(l1,o));case 18:case"end":return l.stop()}},i,this)}))}},{key:"extend",value:function(r){return Qe.extend(r)}},{key:"getMonthWeekNumber",value:function(r){var n=this.date(r),i=n.startOf("day"),o=n.startOf("month").endOf("week");return i<=o?1:Math.ceil(i.diff(o,"weeks",!0))+1}},{key:"getWeeksCountInMonth",value:function(r){var n=this.date(r);return this.getLastWeekOfMonth(n).diff(this.getFirstWeekOfMonth(n),"week")+1}},{key:"getFirstWeekOfMonth",value:function(r){var n=this.date(r).startOf("month"),i=n.startOf("week");return n.weekday()>4&&(i=i.add(1,"week")),i}},{key:"getLastWeekOfMonth",value:function(r){var n=this.date(r).endOf("month"),i=n.endOf("week");return n.weekday()<4&&(i=i.subtract(1,"week")),i}},{key:"date",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return Qe.isDayjs(r)?r:Qe(r).tz(this.timezone).utcOffset(0).locale(this.locale)}},{key:"format",value:function(r,n){if(typeof n=="function"){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return n.apply(void 0,[r].concat(o))}return typeof n=="string"?this.date(r).format(n):null}},{key:"intervals",value:function(r,n,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=this.date(n),s;typeof i=="number"?s=a.add(i,r):Qe.isDayjs(i)?s=i:s=this.date(i),a=a.startOf(r),s=s.startOf(r);var l=Qe.min(a,s);s=Qe.max(a,s);var c=[];o||(s=s.add(1,"second"));do c.push(+l),l=l.add(1,r);while(l<s);return c}},{key:"loadBrowserLocale",value:function(r){return new Promise(function(n,i){var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/".concat(r,".js"),o.onerror=function(a){i(a)},o.onload=function(){n(window["dayjs_locale_".concat(r)])},document.head.appendChild(o)})}},{key:"loadNodeLocale",value:function(r){return Dle(()=>import("dayjs/locale/".concat(r,".js")),[])}}]),e})(),mIe=Ge,vIe=ze,bIe=nz,yIe=Es,uP=ha,$Ie=iz,wIe=vIe("".indexOf);mIe({target:"String",proto:!0,forced:!$Ie("includes")},{includes:function(t){return!!~wIe(uP(yIe(this)),uP(bIe(t)),arguments.length>1?arguments[1]:void 0)}});var xIe=["json","csv","tsv","txt"];function SIe(e,t){var r=t.domain,n=t.subDomain,i=t.data,o=r.type,a=n.type;if(!e.has(o))throw new Error("'".concat(o,"' is not a valid domain type'"));if(!e.has(a))throw new Error("'".concat(a,"' is not a valid subDomain type'"));if(i.type&&!xIe.includes(i.type))throw new Error("The data type '".concat(i.type,"' is not valid data type"));if(!(e.get(a).allowedDomainType||[]).includes(o))throw new Error("The subDomain.type '".concat(a,"' can not be used together ")+"with the domain type ".concat(o));return!0}var kIe=kO,OIe=jB;kIe("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},OIe);function TIe(e,t){return new e(t)}function CIe(e,t){return"".concat(new e().name).concat((t==null?void 0:t.key)||"")}var EIe=(function(){function e(t){ur(this,e),this.calendar=t,this.settings=new Map,this.plugins=new Map,this.pendingPaint=new Set}return fr(e,[{key:"add",value:function(r){var n=this;r.forEach(function(i){var o=rj(i,2),a=o[0],s=o[1],l=CIe(a,s),c=n.plugins.get(l);c&&n.settings.get(l)&&zz(n.settings.get(l).options,s)||(n.settings.set(l,{options:s,dirty:!0}),n.plugins.has(l)||n.plugins.set(l,TIe(a,n.calendar)),n.pendingPaint.add(n.plugins.get(l)))})}},{key:"setupAll",value:function(){var r=this;this.plugins.forEach(function(n,i){var o=r.settings.get(i);typeof o<"u"&&o.dirty&&(n.setup(o.options),o.dirty=!1,r.settings.set(i,o))})}},{key:"paintAll",value:function(){return Array.from(this.pendingPaint.values()).map(function(r){return r.paint()})}},{key:"destroyAll",value:function(){return this.allPlugins().map(function(r){return r.destroy()})}},{key:"getFromPosition",value:function(r){return this.allPlugins().filter(function(n){var i;return((i=n.options)===null||i===void 0?void 0:i.position)===r})}},{key:"getHeightFromPosition",value:function(r){return this.getFromPosition(r).map(function(n){return n.options.dimensions.height}).reduce(function(n,i){return n+i},0)}},{key:"getWidthFromPosition",value:function(r){return this.getFromPosition(r).map(function(n){return n.options.dimensions.width}).reduce(function(n,i){return n+i},0)}},{key:"allPlugins",value:function(){return Array.from(this.plugins.values())}}]),e})(),MIe="4.2.4",AIe=function(t){var r=10,n=6,i=["day","hour"];return{name:"minute",allowedDomainType:i,rowsCount:function(){return r},columnsCount:function(){return n},mapping:function(a,s){return t.intervals("minute",a,t.date(s)).map(function(l,c){return{t:l,x:Math.floor(c/r),y:c%r}})},extractUnit:function(a){return t.date(a).startOf("minute").valueOf()}}},IIe=function(t,r){var n=r.domain,i=24,o=6,a=["month","week","day"];return{name:"hour",allowedDomainType:a,rowsCount:function(){return o},columnsCount:function(l){switch(n.type){case"week":return i/o*7;case"month":return i/o*(n.dynamicDimension?t.date(l).daysInMonth():31);case"day":default:return i/o}},mapping:function(l,c){return t.intervals("hour",l,t.date(c)).map(function(u){var f=t.date(u),d=f.hour(),h=f.date(),p=Math.floor(d/o),g=i/o;return n.type==="month"&&(p+=(h-1)*g),n.type==="week"&&(p+=+f.format("d")*g),{t:u,x:p,y:Math.floor(d%o)}})},extractUnit:function(l){return t.date(l).startOf("hour").valueOf()}}},PIe=function(t,r){var n=r.domain,i=r.verticalOrientation,o=7,a=["year","month","week"];return{name:"day",allowedDomainType:a,rowsCount:function(){return n.type==="week"?1:o},columnsCount:function(l){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(l).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(l).endOf("year").dayOfYear()/o:54);case"week":default:return o}},mapping:function(l,c){var u=0,f=-1;return t.intervals("day",l,t.date(c)).map(function(d){var h=t.date(d);switch(n.type){case"month":f=t.getMonthWeekNumber(d)-1;break;case"year":u!==h.week()&&(u=h.week(),f+=1);break;case"week":f=h.weekday();break}return{t:d,x:f,y:n.type==="week"?0:h.weekday()}})},extractUnit:function(l){return t.date(l).startOf("day").valueOf()}}},_Ie=function(t,r){var n=r.domain,i=r.verticalOrientation,o=7,a=["year","month","week"];return{name:"xDay",allowedDomainType:a,rowsCount:function(l){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(l).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(l).endOf("year").dayOfYear()/o:54);case"week":default:return o}},columnsCount:function(){return n.type==="week"?1:o},mapping:function(l,c){return t.intervals("day",l,t.date(c)).map(function(u){var f=t.date(u),d=f.endOf("year").week(),h=0;switch(n.type){case"month":h=t.getMonthWeekNumber(u)-1;break;case"year":d===1&&f.week()===d&&(h=f.subtract(1,"week").week()+1),h=f.week()-1;break;case"week":h=f.weekday();break}return{t:u,y:h,x:n.type==="week"?0:f.weekday()}})},extractUnit:function(l){return t.date(l).startOf("day").valueOf()}}},DIe=function(t){var r=7,n=["month"];return{name:"ghDay",allowedDomainType:n,rowsCount:function(){return r},columnsCount:function(o){return t.getWeeksCountInMonth(o)},mapping:function(o,a){var s=t.getFirstWeekOfMonth(o),l=t.getFirstWeekOfMonth(a),c=-1,u=s.weekday();return t.intervals("day",s,l).map(function(f){var d=t.date(f).weekday();return d===u&&(c+=1),{t:f,x:c,y:d}})},extractUnit:function(o){return t.date(o).startOf("day").valueOf()}}},LIe=function(t,r){var n=r.domain,i=["year","month"];return{name:"week",allowedDomainType:i,rowsCount:function(){return 1},columnsCount:function(a){switch(n.type){case"year":return n.dynamicDimension?t.date(a).endOf("year").isoWeeksInYear():53;case"month":return n.dynamicDimension?t.getWeeksCountInMonth(a):5;default:return 1}},mapping:function(a,s){var l=t.getFirstWeekOfMonth(a),c=t.getFirstWeekOfMonth(s);return t.intervals("week",l,c).map(function(u,f){return{t:u,x:f,y:0}})},extractUnit:function(a){return t.date(a).startOf("week").valueOf()}}},NIe=function(t){var r=["year"];return{name:"month",allowedDomainType:r,rowsCount:function(){return 1},columnsCount:function(){return 12},mapping:function(i,o){return t.intervals("month",i,t.date(o)).map(function(a){return{t:a,x:t.date(a).month(),y:0}})},extractUnit:function(i){return t.date(i).startOf("month").valueOf()}}},RIe=function(t){var r=[];return{name:"year",allowedDomainType:r,rowsCount:function(){return 1},columnsCount:function(){return 1},mapping:function(i,o){return t.intervals("year",i,t.date(o)).map(function(a,s){return{t:a,x:s,y:0}})},extractUnit:function(i){return t.date(i).startOf("year").valueOf()}}},FIe=[AIe,IIe,PIe,_Ie,DIe,LIe,NIe,RIe],jIe=(function(){function e(t,r){ur(this,e),this.settings=new Map,this.dateHelper=t,this.options=r,this.initiated=!1}return fr(e,[{key:"get",value:function(r){return this.settings.get(r)}},{key:"has",value:function(r){return this.settings.has(r)}},{key:"init",value:function(){this.initiated||(this.initiated=!0,this.add(FIe))}},{key:"add",value:function(r){var n=this;this.init();var i=[];Xv(r).forEach(function(o){var a=o(n.dateHelper,n.options.options);n.settings.set(a.name,a),a.hasOwnProperty("parent")&&i.push(a.name)}),i.forEach(function(o){var a=n.settings.get(n.settings.get(o).parent);a&&n.settings.set(o,Object.assign(Object.assign({},a),n.settings.get(o)))})}}]),e})(),uH=(function(){function e(){ur(this,e),this.options=new S5e,this.dateHelper=new gIe,this.templateCollection=new jIe(this.dateHelper,this.options),this.dataFetcher=new LAe(this),this.navigator=new dxe(this),this.populator=new CTe(this),this.calendarPainter=new yke(this),this.eventEmitter=new mwe,this.pluginManager=new EIe(this)}return fr(e,[{key:"createDomainCollection",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return new a3(this.dateHelper,this.options.options.domain.type,r,n,i)}},{key:"paint",value:function(r,n){return yO(this,void 0,void 0,fs().mark(function i(){return fs().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.options.init(r),a.next=3,this.dateHelper.setup(this.options);case 3:this.templateCollection.init(),a.prev=4,SIe(this.templateCollection,this.options.options),a.next=11;break;case 8:return a.prev=8,a.t0=a.catch(4),a.abrupt("return",Promise.reject(a.t0));case 11:return n&&this.pluginManager.add(Xv(n)),this.calendarPainter.setup(),this.domainCollection=new a3(this.dateHelper),this.navigator.loadNewDomains(this.createDomainCollection(this.options.options.date.start,this.options.options.range)),a.abrupt("return",Promise.allSettled([this.calendarPainter.paint(),this.fill()]));case 16:case"end":return a.stop()}},i,this,[[4,8]])}))}},{key:"addTemplates",value:function(r){this.templateCollection.add(r)}},{key:"next",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.max,r+1).slice(r),vt.SCROLL_FORWARD);return Promise.allSettled([this.calendarPainter.paint(n),this.fill()])}},{key:"previous",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.min,-r),vt.SCROLL_BACKWARD);return Promise.allSettled([this.calendarPainter.paint(n),this.fill()])}},{key:"jumpTo",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Promise.allSettled([this.calendarPainter.paint(this.navigator.jumpTo(r,n)),this.fill()])}},{key:"fill",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.options.data.source,i=this.options.options,o=this.templateCollection,a=this.dateHelper.intervals(i.domain.type,this.domainCollection.max,2)[1],s=this.dataFetcher.getDatas(n,this.domainCollection.min,a);return new Promise(function(l,c){s.then(function(u){r.domainCollection.fill(u,i.data,o.get(i.subDomain.type).extractUnit),r.populator.populate(),l(null)},function(u){c(u)})})}},{key:"on",value:function(r,n){this.eventEmitter.on(r,n)}},{key:"dimensions",value:function(){return this.calendarPainter.dimensions}},{key:"destroy",value:function(){return this.calendarPainter.destroy()}},{key:"extendDayjs",value:function(r){return this.dateHelper.extend(r)}}]),e})();uH.VERSION=MIe;var _r="top",$n="bottom",wn="right",Dr="left",UO="auto",ad=[_r,$n,wn,Dr],Zl="start",Cf="end",BIe="clippingParents",fH="viewport",Yc="popper",zIe="reference",fP=ad.reduce(function(e,t){return e.concat([t+"-"+Zl,t+"-"+Cf])},[]),dH=[].concat(ad,[UO]).reduce(function(e,t){return e.concat([t,t+"-"+Zl,t+"-"+Cf])},[]),HIe="beforeRead",UIe="read",VIe="afterRead",WIe="beforeMain",KIe="main",GIe="afterMain",qIe="beforeWrite",YIe="write",JIe="afterWrite",XIe=[HIe,UIe,VIe,WIe,KIe,GIe,qIe,YIe,JIe];function Si(e){return e?(e.nodeName||"").toLowerCase():null}function en(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gs(e){var t=en(e).Element;return e instanceof t||e instanceof Element}function bn(e){var t=en(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function VO(e){if(typeof ShadowRoot>"u")return!1;var t=en(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function QIe(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!bn(o)||!Si(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function ZIe(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=a.reduce(function(l,c){return l[c]="",l},{});!bn(i)||!Si(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const e3e={name:"applyStyles",enabled:!0,phase:"write",fn:QIe,effect:ZIe,requires:["computeStyles"]};function di(e){return e.split("-")[0]}var Xa=Math.max,$m=Math.min,ec=Math.round;function ox(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function hH(){return!/^((?!chrome|android).)*safari/i.test(ox())}function tc(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&bn(e)&&(i=e.offsetWidth>0&&ec(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ec(n.height)/e.offsetHeight||1);var a=gs(e)?en(e):window,s=a.visualViewport,l=!hH()&&r,c=(n.left+(l&&s?s.offsetLeft:0))/i,u=(n.top+(l&&s?s.offsetTop:0))/o,f=n.width/i,d=n.height/o;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function WO(e){var t=tc(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function pH(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&VO(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ao(e){return en(e).getComputedStyle(e)}function t3e(e){return["table","td","th"].indexOf(Si(e))>=0}function ga(e){return((gs(e)?e.ownerDocument:e.document)||window.document).documentElement}function h0(e){return Si(e)==="html"?e:e.assignedSlot||e.parentNode||(VO(e)?e.host:null)||ga(e)}function dP(e){return!bn(e)||ao(e).position==="fixed"?null:e.offsetParent}function r3e(e){var t=/firefox/i.test(ox()),r=/Trident/i.test(ox());if(r&&bn(e)){var n=ao(e);if(n.position==="fixed")return null}var i=h0(e);for(VO(i)&&(i=i.host);bn(i)&&["html","body"].indexOf(Si(i))<0;){var o=ao(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function sd(e){for(var t=en(e),r=dP(e);r&&t3e(r)&&ao(r).position==="static";)r=dP(r);return r&&(Si(r)==="html"||Si(r)==="body"&&ao(r).position==="static")?t:r||r3e(e)||t}function KO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Hu(e,t,r){return Xa(e,$m(t,r))}function n3e(e,t,r){var n=Hu(e,t,r);return n>r?r:n}function gH(){return{top:0,right:0,bottom:0,left:0}}function mH(e){return Object.assign({},gH(),e)}function vH(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var i3e=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,mH(typeof t!="number"?t:vH(t,ad))};function o3e(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=di(r.placement),l=KO(s),c=[Dr,wn].indexOf(s)>=0,u=c?"height":"width";if(!(!o||!a)){var f=i3e(i.padding,r),d=WO(o),h=l==="y"?_r:Dr,p=l==="y"?$n:wn,g=r.rects.reference[u]+r.rects.reference[l]-a[l]-r.rects.popper[u],m=a[l]-r.rects.reference[l],v=sd(o),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,y=g/2-m/2,w=f[h],$=b-d[u]-f[p],x=b/2-d[u]/2+y,O=Hu(w,x,$),T=l;r.modifiersData[n]=(t={},t[T]=O,t.centerOffset=O-x,t)}}function a3e(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||pH(t.elements.popper,i)&&(t.elements.arrow=i))}const s3e={name:"arrow",enabled:!0,phase:"main",fn:o3e,effect:a3e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rc(e){return e.split("-")[1]}var l3e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function c3e(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:ec(r*i)/i||0,y:ec(n*i)/i||0}}function hP(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,d=a.x,h=d===void 0?0:d,p=a.y,g=p===void 0?0:p,m=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),y=Dr,w=_r,$=window;if(c){var x=sd(r),O="clientHeight",T="clientWidth";if(x===en(r)&&(x=ga(r),ao(x).position!=="static"&&s==="absolute"&&(O="scrollHeight",T="scrollWidth")),x=x,i===_r||(i===Dr||i===wn)&&o===Cf){w=$n;var D=f&&x===$&&$.visualViewport?$.visualViewport.height:x[O];g-=D-n.height,g*=l?1:-1}if(i===Dr||(i===_r||i===$n)&&o===Cf){y=wn;var L=f&&x===$&&$.visualViewport?$.visualViewport.width:x[T];h-=L-n.width,h*=l?1:-1}}var I=Object.assign({position:s},c&&l3e),E=u===!0?c3e({x:h,y:g},en(r)):{x:h,y:g};if(h=E.x,g=E.y,l){var _;return Object.assign({},I,(_={},_[w]=b?"0":"",_[y]=v?"0":"",_.transform=($.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",_))}return Object.assign({},I,(t={},t[w]=b?g+"px":"",t[y]=v?h+"px":"",t.transform="",t))}function u3e(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,l=s===void 0?!0:s,c={placement:di(t.placement),variation:rc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,hP(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,hP(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const f3e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:u3e,data:{}};var yh={passive:!0};function d3e(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=en(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",r.update,yh)}),s&&l.addEventListener("resize",r.update,yh),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",r.update,yh)}),s&&l.removeEventListener("resize",r.update,yh)}}const h3e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:d3e,data:{}};var p3e={left:"right",right:"left",bottom:"top",top:"bottom"};function xp(e){return e.replace(/left|right|bottom|top/g,function(t){return p3e[t]})}var g3e={start:"end",end:"start"};function pP(e){return e.replace(/start|end/g,function(t){return g3e[t]})}function GO(e){var t=en(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function qO(e){return tc(ga(e)).left+GO(e).scrollLeft}function m3e(e,t){var r=en(e),n=ga(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=hH();(c||!c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+qO(e),y:l}}function v3e(e){var t,r=ga(e),n=GO(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Xa(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Xa(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+qO(e),l=-n.scrollTop;return ao(i||r).direction==="rtl"&&(s+=Xa(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function YO(e){var t=ao(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function bH(e){return["html","body","#document"].indexOf(Si(e))>=0?e.ownerDocument.body:bn(e)&&YO(e)?e:bH(h0(e))}function Uu(e,t){var r;t===void 0&&(t=[]);var n=bH(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=en(n),a=i?[o].concat(o.visualViewport||[],YO(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(Uu(h0(a)))}function ax(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function b3e(e,t){var r=tc(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function gP(e,t,r){return t===fH?ax(m3e(e,r)):gs(t)?b3e(t,r):ax(v3e(ga(e)))}function y3e(e){var t=Uu(h0(e)),r=["absolute","fixed"].indexOf(ao(e).position)>=0,n=r&&bn(e)?sd(e):e;return gs(n)?t.filter(function(i){return gs(i)&&pH(i,n)&&Si(i)!=="body"}):[]}function $3e(e,t,r,n){var i=t==="clippingParents"?y3e(e):[].concat(t),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(l,c){var u=gP(e,c,n);return l.top=Xa(u.top,l.top),l.right=$m(u.right,l.right),l.bottom=$m(u.bottom,l.bottom),l.left=Xa(u.left,l.left),l},gP(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function yH(e){var t=e.reference,r=e.element,n=e.placement,i=n?di(n):null,o=n?rc(n):null,a=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(i){case _r:l={x:a,y:t.y-r.height};break;case $n:l={x:a,y:t.y+t.height};break;case wn:l={x:t.x+t.width,y:s};break;case Dr:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var c=i?KO(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Zl:l[c]=l[c]-(t[u]/2-r[u]/2);break;case Cf:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function Ef(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,a=o===void 0?e.strategy:o,s=r.boundary,l=s===void 0?BIe:s,c=r.rootBoundary,u=c===void 0?fH:c,f=r.elementContext,d=f===void 0?Yc:f,h=r.altBoundary,p=h===void 0?!1:h,g=r.padding,m=g===void 0?0:g,v=mH(typeof m!="number"?m:vH(m,ad)),b=d===Yc?zIe:Yc,y=e.rects.popper,w=e.elements[p?b:d],$=$3e(gs(w)?w:w.contextElement||ga(e.elements.popper),l,u,a),x=tc(e.elements.reference),O=yH({reference:x,element:y,placement:i}),T=ax(Object.assign({},y,O)),D=d===Yc?T:x,L={top:$.top-D.top+v.top,bottom:D.bottom-$.bottom+v.bottom,left:$.left-D.left+v.left,right:D.right-$.right+v.right},I=e.modifiersData.offset;if(d===Yc&&I){var E=I[i];Object.keys(L).forEach(function(_){var k=[wn,$n].indexOf(_)>=0?1:-1,C=[_r,$n].indexOf(_)>=0?"y":"x";L[_]+=E[C]*k})}return L}function w3e(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?dH:l,u=rc(n),f=u?s?fP:fP.filter(function(p){return rc(p)===u}):ad,d=f.filter(function(p){return c.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,g){return p[g]=Ef(e,{placement:g,boundary:i,rootBoundary:o,padding:a})[di(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function x3e(e){if(di(e)===UO)return[];var t=xp(e);return[pP(e),t,pP(t)]}function S3e(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,p=h===void 0?!0:h,g=r.allowedAutoPlacements,m=t.options.placement,v=di(m),b=v===m,y=l||(b||!p?[xp(m)]:x3e(m)),w=[m].concat(y).reduce(function(pe,Se){return pe.concat(di(Se)===UO?w3e(t,{placement:Se,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):Se)},[]),$=t.rects.reference,x=t.rects.popper,O=new Map,T=!0,D=w[0],L=0;L<w.length;L++){var I=w[L],E=di(I),_=rc(I)===Zl,k=[_r,$n].indexOf(E)>=0,C=k?"width":"height",S=Ef(t,{placement:I,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),P=k?_?wn:Dr:_?$n:_r;$[C]>x[C]&&(P=xp(P));var A=xp(P),N=[];if(o&&N.push(S[E]<=0),s&&N.push(S[P]<=0,S[A]<=0),N.every(function(pe){return pe})){D=I,T=!1;break}O.set(I,N)}if(T)for(var U=p?3:1,V=function(Se){var qe=w.find(function(J){var de=O.get(J);if(de)return de.slice(0,Se).every(function(q){return q})});if(qe)return D=qe,"break"},ae=U;ae>0;ae--){var ne=V(ae);if(ne==="break")break}t.placement!==D&&(t.modifiersData[n]._skip=!0,t.placement=D,t.reset=!0)}}const k3e={name:"flip",enabled:!0,phase:"main",fn:S3e,requiresIfExists:["offset"],data:{_skip:!1}};function mP(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function vP(e){return[_r,wn,$n,Dr].some(function(t){return e[t]>=0})}function O3e(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Ef(t,{elementContext:"reference"}),s=Ef(t,{altBoundary:!0}),l=mP(a,n),c=mP(s,i,o),u=vP(l),f=vP(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const T3e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:O3e};function C3e(e,t,r){var n=di(e),i=[Dr,_r].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Dr,wn].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function E3e(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,a=dH.reduce(function(u,f){return u[f]=C3e(f,t.rects,o),u},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}const M3e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:E3e};function A3e(e){var t=e.state,r=e.name;t.modifiersData[r]=yH({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const I3e={name:"popperOffsets",enabled:!0,phase:"read",fn:A3e,data:{}};function P3e(e){return e==="x"?"y":"x"}function _3e(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,d=r.tether,h=d===void 0?!0:d,p=r.tetherOffset,g=p===void 0?0:p,m=Ef(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),v=di(t.placement),b=rc(t.placement),y=!b,w=KO(v),$=P3e(w),x=t.modifiersData.popperOffsets,O=t.rects.reference,T=t.rects.popper,D=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,L=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(x){if(o){var _,k=w==="y"?_r:Dr,C=w==="y"?$n:wn,S=w==="y"?"height":"width",P=x[w],A=P+m[k],N=P-m[C],U=h?-T[S]/2:0,V=b===Zl?O[S]:T[S],ae=b===Zl?-T[S]:-O[S],ne=t.elements.arrow,pe=h&&ne?WO(ne):{width:0,height:0},Se=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:gH(),qe=Se[k],J=Se[C],de=Hu(0,O[S],pe[S]),q=y?O[S]/2-U-de-qe-L.mainAxis:V-de-qe-L.mainAxis,Q=y?-O[S]/2+U+de+J+L.mainAxis:ae+de+J+L.mainAxis,ce=t.elements.arrow&&sd(t.elements.arrow),H=ce?w==="y"?ce.clientTop||0:ce.clientLeft||0:0,He=(_=I==null?void 0:I[w])!=null?_:0,Te=P+q-He-H,se=P+Q-He,he=Hu(h?$m(A,Te):A,P,h?Xa(N,se):N);x[w]=he,E[w]=he-P}if(s){var nt,ht=w==="x"?_r:Dr,$a=w==="x"?$n:wn,Br=x[$],Ue=$==="y"?"height":"width",zr=Br+m[ht],wa=Br-m[$a],$o=[_r,Dr].indexOf(v)!==-1,Bs=(nt=I==null?void 0:I[$])!=null?nt:0,Sc=$o?zr:Br-O[Ue]-T[Ue]-Bs+L.altAxis,kc=$o?Br+O[Ue]+T[Ue]-Bs-L.altAxis:wa,uC=h&&$o?n3e(Sc,Br,kc):Hu(h?Sc:zr,Br,h?kc:wa);x[$]=uC,E[$]=uC-Br}t.modifiersData[n]=E}}const D3e={name:"preventOverflow",enabled:!0,phase:"main",fn:_3e,requiresIfExists:["offset"]};function L3e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function N3e(e){return e===en(e)||!bn(e)?GO(e):L3e(e)}function R3e(e){var t=e.getBoundingClientRect(),r=ec(t.width)/e.offsetWidth||1,n=ec(t.height)/e.offsetHeight||1;return r!==1||n!==1}function F3e(e,t,r){r===void 0&&(r=!1);var n=bn(t),i=bn(t)&&R3e(t),o=ga(t),a=tc(e,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Si(t)!=="body"||YO(o))&&(s=N3e(t)),bn(t)?(l=tc(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=qO(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function j3e(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&i(l)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function B3e(e){var t=j3e(e);return XIe.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function z3e(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function H3e(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var bP={placement:"bottom",modifiers:[],strategy:"absolute"};function yP(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function U3e(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?bP:i;return function(s,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},bP,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(v){var b=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},o,u.options,b),u.scrollParents={reference:gs(s)?Uu(s):s.contextElement?Uu(s.contextElement):[],popper:Uu(l)};var y=B3e(H3e([].concat(n,u.options.modifiers)));return u.orderedModifiers=y.filter(function(w){return w.enabled}),p(),h.update()},forceUpdate:function(){if(!d){var v=u.elements,b=v.reference,y=v.popper;if(yP(b,y)){u.rects={reference:F3e(b,sd(y),u.options.strategy==="fixed"),popper:WO(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(L){return u.modifiersData[L.name]=Object.assign({},L.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var $=u.orderedModifiers[w],x=$.fn,O=$.options,T=O===void 0?{}:O,D=$.name;typeof x=="function"&&(u=x({state:u,options:T,name:D,instance:h})||u)}}}},update:z3e(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){g(),d=!0}};if(!yP(s,l))return h;h.setOptions(c).then(function(m){!d&&c.onFirstUpdate&&c.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var v=m.name,b=m.options,y=b===void 0?{}:b,w=m.effect;if(typeof w=="function"){var $=w({state:u,name:v,instance:h,options:y}),x=function(){};f.push($||x)}})}function g(){f.forEach(function(m){return m()}),f=[]}return h}}var V3e=[h3e,I3e,f3e,e3e,M3e,k3e,D3e,s3e,T3e],W3e=U3e({defaultModifiers:V3e});function K3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ePe(n.key),n)}}function q3e(e,t,r){return t&&G3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $P(e){return Y3e(e)||J3e(e)||X3e(e)||Q3e()}function Y3e(e){if(Array.isArray(e))return sx(e)}function J3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X3e(e,t){if(e){if(typeof e=="string")return sx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sx(e,t)}}function sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ePe(e){var t=Z3e(e,"string");return typeof t=="symbol"?t:String(t)}var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jc=function(e){return e&&e.Math===Math&&e},Gt=Jc(typeof globalThis=="object"&&globalThis)||Jc(typeof window=="object"&&window)||Jc(typeof self=="object"&&self)||Jc(typeof $h=="object"&&$h)||Jc(typeof $h=="object"&&$h)||(function(){return this})()||Function("return this")(),p0={},At=function(e){try{return!!e()}catch{return!0}},tPe=At,Sn=!tPe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),rPe=At,g0=!rPe(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),nPe=g0,wh=Function.prototype.call,kn=nPe?wh.bind(wh):function(){return wh.apply(wh,arguments)},JO={},$H={}.propertyIsEnumerable,wH=Object.getOwnPropertyDescriptor,iPe=wH&&!$H.call({1:2},1);JO.f=iPe?function(t){var r=wH(this,t);return!!r&&r.enumerable}:$H;var m0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},xH=g0,SH=Function.prototype,lx=SH.call,oPe=xH&&SH.bind.bind(lx,lx),kt=xH?oPe:function(e){return function(){return lx.apply(e,arguments)}},kH=kt,aPe=kH({}.toString),sPe=kH("".slice),Ls=function(e){return sPe(aPe(e),8,-1)},lPe=kt,cPe=At,uPe=Ls,c1=Object,fPe=lPe("".split),XO=cPe(function(){return!c1("z").propertyIsEnumerable(0)})?function(e){return uPe(e)==="String"?fPe(e,""):c1(e)}:c1,bc=function(e){return e==null},dPe=bc,hPe=TypeError,QO=function(e){if(dPe(e))throw new hPe("Can't call method on "+e);return e},pPe=XO,gPe=QO,yc=function(e){return pPe(gPe(e))},cx=typeof document=="object"&&document.all,mPe=typeof cx>"u"&&cx!==void 0,OH={all:cx,IS_HTMLDDA:mPe},TH=OH,vPe=TH.all,ft=TH.IS_HTMLDDA?function(e){return typeof e=="function"||e===vPe}:function(e){return typeof e=="function"},wP=ft,CH=OH,bPe=CH.all,yr=CH.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:wP(e)||e===bPe}:function(e){return typeof e=="object"?e!==null:wP(e)},u1=Gt,yPe=ft,$Pe=function(e){return yPe(e)?e:void 0},Ns=function(e,t){return arguments.length<2?$Pe(u1[e]):u1[e]&&u1[e][t]},wPe=kt,ZO=wPe({}.isPrototypeOf),v0=typeof navigator<"u"&&String(navigator.userAgent)||"",EH=Gt,f1=v0,xP=EH.process,SP=EH.Deno,kP=xP&&xP.versions||SP&&SP.version,OP=kP&&kP.v8,_n,wm;OP&&(_n=OP.split("."),wm=_n[0]>0&&_n[0]<4?1:+(_n[0]+_n[1]));!wm&&f1&&(_n=f1.match(/Edge\/(\d+)/),(!_n||_n[1]>=74)&&(_n=f1.match(/Chrome\/(\d+)/),_n&&(wm=+_n[1])));var b0=wm,TP=b0,xPe=At,SPe=Gt,kPe=SPe.String,MH=!!Object.getOwnPropertySymbols&&!xPe(function(){var e=Symbol("symbol detection");return!kPe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&TP&&TP<41}),OPe=MH,AH=OPe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",TPe=Ns,CPe=ft,EPe=ZO,MPe=AH,APe=Object,IH=MPe?function(e){return typeof e=="symbol"}:function(e){var t=TPe("Symbol");return CPe(t)&&EPe(t.prototype,APe(e))},IPe=String,y0=function(e){try{return IPe(e)}catch{return"Object"}},PPe=ft,_Pe=y0,DPe=TypeError,ma=function(e){if(PPe(e))return e;throw new DPe(_Pe(e)+" is not a function")},LPe=ma,NPe=bc,eT=function(e,t){var r=e[t];return NPe(r)?void 0:LPe(r)},d1=kn,h1=ft,p1=yr,RPe=TypeError,FPe=function(e,t){var r,n;if(t==="string"&&h1(r=e.toString)&&!p1(n=d1(r,e))||h1(r=e.valueOf)&&!p1(n=d1(r,e))||t!=="string"&&h1(r=e.toString)&&!p1(n=d1(r,e)))return n;throw new RPe("Can't convert object to primitive value")},PH={exports:{}},CP=Gt,jPe=Object.defineProperty,tT=function(e,t){try{jPe(CP,e,{value:t,configurable:!0,writable:!0})}catch{CP[e]=t}return t},BPe=Gt,zPe=tT,EP="__core-js_shared__",HPe=BPe[EP]||zPe(EP,{}),rT=HPe,MP=rT;(PH.exports=function(e,t){return MP[e]||(MP[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var _H=PH.exports,UPe=QO,VPe=Object,ld=function(e){return VPe(UPe(e))},WPe=kt,KPe=ld,GPe=WPe({}.hasOwnProperty),On=Object.hasOwn||function(t,r){return GPe(KPe(t),r)},qPe=kt,YPe=0,JPe=Math.random(),XPe=qPe(1 .toString),nT=function(e){return"Symbol("+(e===void 0?"":e)+")_"+XPe(++YPe+JPe,36)},QPe=Gt,ZPe=_H,AP=On,e_e=nT,t_e=MH,r_e=AH,wl=QPe.Symbol,g1=ZPe("wks"),n_e=r_e?wl.for||wl:wl&&wl.withoutSetter||e_e,Zt=function(e){return AP(g1,e)||(g1[e]=t_e&&AP(wl,e)?wl[e]:n_e("Symbol."+e)),g1[e]},i_e=kn,IP=yr,PP=IH,o_e=eT,a_e=FPe,s_e=Zt,l_e=TypeError,c_e=s_e("toPrimitive"),u_e=function(e,t){if(!IP(e)||PP(e))return e;var r=o_e(e,c_e),n;if(r){if(t===void 0&&(t="default"),n=i_e(r,e,t),!IP(n)||PP(n))return n;throw new l_e("Can't convert object to primitive value")}return t===void 0&&(t="number"),a_e(e,t)},f_e=u_e,d_e=IH,iT=function(e){var t=f_e(e,"string");return d_e(t)?t:t+""},h_e=Gt,_P=yr,ux=h_e.document,p_e=_P(ux)&&_P(ux.createElement),$0=function(e){return p_e?ux.createElement(e):{}},g_e=Sn,m_e=At,v_e=$0,DH=!g_e&&!m_e(function(){return Object.defineProperty(v_e("div"),"a",{get:function(){return 7}}).a!==7}),b_e=Sn,y_e=kn,$_e=JO,w_e=m0,x_e=yc,S_e=iT,k_e=On,O_e=DH,DP=Object.getOwnPropertyDescriptor;p0.f=b_e?DP:function(t,r){if(t=x_e(t),r=S_e(r),O_e)try{return DP(t,r)}catch{}if(k_e(t,r))return w_e(!y_e($_e.f,t,r),t[r])};var Kn={},T_e=Sn,C_e=At,LH=T_e&&C_e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),E_e=yr,M_e=String,A_e=TypeError,Gn=function(e){if(E_e(e))return e;throw new A_e(M_e(e)+" is not an object")},I_e=Sn,P_e=DH,__e=LH,xh=Gn,LP=iT,D_e=TypeError,m1=Object.defineProperty,L_e=Object.getOwnPropertyDescriptor,v1="enumerable",b1="configurable",y1="writable";Kn.f=I_e?__e?function(t,r,n){if(xh(t),r=LP(r),xh(n),typeof t=="function"&&r==="prototype"&&"value"in n&&y1 in n&&!n[y1]){var i=L_e(t,r);i&&i[y1]&&(t[r]=n.value,n={configurable:b1 in n?n[b1]:i[b1],enumerable:v1 in n?n[v1]:i[v1],writable:!1})}return m1(t,r,n)}:m1:function(t,r,n){if(xh(t),r=LP(r),xh(n),P_e)try{return m1(t,r,n)}catch{}if("get"in n||"set"in n)throw new D_e("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var N_e=Sn,R_e=Kn,F_e=m0,w0=N_e?function(e,t,r){return R_e.f(e,t,F_e(1,r))}:function(e,t,r){return e[t]=r,e},NH={exports:{}},fx=Sn,j_e=On,RH=Function.prototype,B_e=fx&&Object.getOwnPropertyDescriptor,oT=j_e(RH,"name"),z_e=oT&&(function(){}).name==="something",H_e=oT&&(!fx||fx&&B_e(RH,"name").configurable),aT={EXISTS:oT,PROPER:z_e,CONFIGURABLE:H_e},U_e=kt,V_e=ft,dx=rT,W_e=U_e(Function.toString);V_e(dx.inspectSource)||(dx.inspectSource=function(e){return W_e(e)});var sT=dx.inspectSource,K_e=Gt,G_e=ft,NP=K_e.WeakMap,q_e=G_e(NP)&&/native code/.test(String(NP)),Y_e=_H,J_e=nT,RP=Y_e("keys"),lT=function(e){return RP[e]||(RP[e]=J_e(e))},x0={},X_e=q_e,FH=Gt,Q_e=yr,Z_e=w0,$1=On,w1=rT,e4e=lT,t4e=x0,FP="Object already initialized",hx=FH.TypeError,r4e=FH.WeakMap,xm,Mf,Sm,n4e=function(e){return Sm(e)?Mf(e):xm(e,{})},i4e=function(e){return function(t){var r;if(!Q_e(t)||(r=Mf(t)).type!==e)throw new hx("Incompatible receiver, "+e+" required");return r}};if(X_e||w1.state){var Qn=w1.state||(w1.state=new r4e);Qn.get=Qn.get,Qn.has=Qn.has,Qn.set=Qn.set,xm=function(e,t){if(Qn.has(e))throw new hx(FP);return t.facade=e,Qn.set(e,t),t},Mf=function(e){return Qn.get(e)||{}},Sm=function(e){return Qn.has(e)}}else{var tl=e4e("state");t4e[tl]=!0,xm=function(e,t){if($1(e,tl))throw new hx(FP);return t.facade=e,Z_e(e,tl,t),t},Mf=function(e){return $1(e,tl)?e[tl]:{}},Sm=function(e){return $1(e,tl)}}var cd={set:xm,get:Mf,has:Sm,enforce:n4e,getterFor:i4e},cT=kt,o4e=At,a4e=ft,Sh=On,px=Sn,s4e=aT.CONFIGURABLE,l4e=sT,jH=cd,c4e=jH.enforce,u4e=jH.get,jP=String,Sp=Object.defineProperty,f4e=cT("".slice),d4e=cT("".replace),h4e=cT([].join),p4e=px&&!o4e(function(){return Sp(function(){},"length",{value:8}).length!==8}),g4e=String(String).split("String"),m4e=NH.exports=function(e,t,r){f4e(jP(t),0,7)==="Symbol("&&(t="["+d4e(jP(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Sh(e,"name")||s4e&&e.name!==t)&&(px?Sp(e,"name",{value:t,configurable:!0}):e.name=t),p4e&&r&&Sh(r,"arity")&&e.length!==r.arity&&Sp(e,"length",{value:r.arity});try{r&&Sh(r,"constructor")&&r.constructor?px&&Sp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=c4e(e);return Sh(n,"source")||(n.source=h4e(g4e,typeof t=="string"?t:"")),e};Function.prototype.toString=m4e(function(){return a4e(this)&&u4e(this).source||l4e(this)},"toString");var BH=NH.exports,v4e=ft,b4e=Kn,y4e=BH,$4e=tT,va=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(v4e(r)&&y4e(r,o,n),n.global)i?e[t]=r:$4e(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:b4e.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},S0={},w4e=Math.ceil,x4e=Math.floor,S4e=Math.trunc||function(t){var r=+t;return(r>0?x4e:w4e)(r)},k4e=S4e,uT=function(e){var t=+e;return t!==t||t===0?0:k4e(t)},O4e=uT,T4e=Math.max,C4e=Math.min,zH=function(e,t){var r=O4e(e);return r<0?T4e(r+t,0):C4e(r,t)},E4e=uT,M4e=Math.min,A4e=function(e){return e>0?M4e(E4e(e),9007199254740991):0},I4e=A4e,ud=function(e){return I4e(e.length)},P4e=yc,_4e=zH,D4e=ud,L4e=function(e){return function(t,r,n){var i=P4e(t),o=D4e(i),a=_4e(n,o),s;if(e&&r!==r){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},N4e={indexOf:L4e(!1)},R4e=kt,x1=On,F4e=yc,j4e=N4e.indexOf,B4e=x0,BP=R4e([].push),HH=function(e,t){var r=F4e(e),n=0,i=[],o;for(o in r)!x1(B4e,o)&&x1(r,o)&&BP(i,o);for(;t.length>n;)x1(r,o=t[n++])&&(~j4e(i,o)||BP(i,o));return i},fT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],z4e=HH,H4e=fT,U4e=H4e.concat("length","prototype");S0.f=Object.getOwnPropertyNames||function(t){return z4e(t,U4e)};var dT={};dT.f=Object.getOwnPropertySymbols;var V4e=Ns,W4e=kt,K4e=S0,G4e=dT,q4e=Gn,Y4e=W4e([].concat),J4e=V4e("Reflect","ownKeys")||function(t){var r=K4e.f(q4e(t)),n=G4e.f;return n?Y4e(r,n(t)):r},zP=On,X4e=J4e,Q4e=p0,Z4e=Kn,eDe=function(e,t,r){for(var n=X4e(t),i=Z4e.f,o=Q4e.f,a=0;a<n.length;a++){var s=n[a];!zP(e,s)&&!(r&&zP(r,s))&&i(e,s,o(t,s))}},tDe=At,rDe=ft,nDe=/#|\.prototype\./,fd=function(e,t){var r=oDe[iDe(e)];return r===sDe?!0:r===aDe?!1:rDe(t)?tDe(t):!!t},iDe=fd.normalize=function(e){return String(e).replace(nDe,".").toLowerCase()},oDe=fd.data={},aDe=fd.NATIVE="N",sDe=fd.POLYFILL="P",hT=fd,S1=Gt,lDe=p0.f,cDe=w0,uDe=va,fDe=tT,dDe=eDe,hDe=hT,qn=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,s,l,c,u;if(n?a=S1:i?a=S1[r]||fDe(r,{}):a=(S1[r]||{}).prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=lDe(a,s),l=u&&u.value):l=a[s],o=hDe(n?s:r+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;dDe(c,l)}(e.sham||l&&l.sham)&&cDe(c,"sham",!0),uDe(a,s,c,e)}},pDe=Ls,UH=Array.isArray||function(t){return pDe(t)==="Array"},gDe=TypeError,mDe=9007199254740991,vDe=function(e){if(e>mDe)throw gDe("Maximum allowed index exceeded");return e},bDe=iT,yDe=Kn,$De=m0,VH=function(e,t,r){var n=bDe(t);n in e?yDe.f(e,n,$De(0,r)):e[n]=r},wDe=Zt,xDe=wDe("toStringTag"),WH={};WH[xDe]="z";var pT=String(WH)==="[object z]",SDe=pT,kDe=ft,kp=Ls,ODe=Zt,TDe=ODe("toStringTag"),CDe=Object,EDe=kp((function(){return arguments})())==="Arguments",MDe=function(e,t){try{return e[t]}catch{}},k0=SDe?kp:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=MDe(t=CDe(e),TDe))=="string"?r:EDe?kp(t):(n=kp(t))==="Object"&&kDe(t.callee)?"Arguments":n},ADe=kt,IDe=At,KH=ft,PDe=k0,_De=Ns,DDe=sT,GH=function(){},LDe=[],qH=_De("Reflect","construct"),gT=/^\s*(?:class|function)\b/,NDe=ADe(gT.exec),RDe=!gT.test(GH),Xc=function(t){if(!KH(t))return!1;try{return qH(GH,LDe,t),!0}catch{return!1}},YH=function(t){if(!KH(t))return!1;switch(PDe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return RDe||!!NDe(gT,DDe(t))}catch{return!0}};YH.sham=!0;var JH=!qH||IDe(function(){var e;return Xc(Xc.call)||!Xc(Object)||!Xc(function(){e=!0})||e})?YH:Xc,HP=UH,FDe=JH,jDe=yr,BDe=Zt,zDe=BDe("species"),UP=Array,HDe=function(e){var t;return HP(e)&&(t=e.constructor,FDe(t)&&(t===UP||HP(t.prototype))?t=void 0:jDe(t)&&(t=t[zDe],t===null&&(t=void 0))),t===void 0?UP:t},UDe=HDe,XH=function(e,t){return new(UDe(e))(t===0?0:t)},VDe=At,WDe=Zt,KDe=b0,GDe=WDe("species"),qDe=function(e){return KDe>=51||!VDe(function(){var t=[],r=t.constructor={};return r[GDe]=function(){return{foo:1}},t[e](Boolean).foo!==1})},YDe=qn,JDe=At,XDe=UH,QDe=yr,ZDe=ld,eLe=ud,VP=vDe,WP=VH,tLe=XH,rLe=qDe,nLe=Zt,iLe=b0,QH=nLe("isConcatSpreadable"),oLe=iLe>=51||!JDe(function(){var e=[];return e[QH]=!1,e.concat()[0]!==e}),aLe=function(e){if(!QDe(e))return!1;var t=e[QH];return t!==void 0?!!t:XDe(e)},sLe=!oLe||!rLe("concat");YDe({target:"Array",proto:!0,arity:1,forced:sLe},{concat:function(t){var r=ZDe(this),n=tLe(r,0),i=0,o,a,s,l,c;for(o=-1,s=arguments.length;o<s;o++)if(c=o===-1?r:arguments[o],aLe(c))for(l=eLe(c),VP(i+l),a=0;a<l;a++,i++)a in c&&WP(n,i,c[a]);else VP(i+1),WP(n,i++,c);return n.length=i,n}});var KP=BH,lLe=Kn,ZH=function(e,t,r){return r.get&&KP(r.get,t,{getter:!0}),r.set&&KP(r.set,t,{setter:!0}),lLe.f(e,t,r)},cLe=Sn,uLe=aT.EXISTS,eU=kt,fLe=ZH,tU=Function.prototype,dLe=eU(tU.toString),rU=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,hLe=eU(rU.exec),pLe="name";cLe&&!uLe&&fLe(tU,pLe,{configurable:!0,get:function(){try{return hLe(rU,dLe(this))[1]}catch{return""}}});var gLe=HH,mLe=fT,nU=Object.keys||function(t){return gLe(t,mLe)},GP=Sn,vLe=kt,bLe=kn,yLe=At,k1=nU,$Le=dT,wLe=JO,xLe=ld,SLe=XO,rl=Object.assign,qP=Object.defineProperty,kLe=vLe([].concat),OLe=!rl||yLe(function(){if(GP&&rl({b:1},rl(qP({},"a",{enumerable:!0,get:function(){qP(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),rl({},e)[r]!==7||k1(rl({},t)).join("")!==n})?function(t,r){for(var n=xLe(t),i=arguments.length,o=1,a=$Le.f,s=wLe.f;i>o;)for(var l=SLe(arguments[o++]),c=a?kLe(k1(l),a(l)):k1(l),u=c.length,f=0,d;u>f;)d=c[f++],(!GP||bLe(s,l,d))&&(n[d]=l[d]);return n}:rl,TLe=qn,YP=OLe;TLe({target:"Object",stat:!0,arity:2,forced:Object.assign!==YP},{assign:YP});var CLe=pT,ELe=k0,MLe=CLe?{}.toString:function(){return"[object "+ELe(this)+"]"},ALe=pT,ILe=va,PLe=MLe;ALe||ILe(Object.prototype,"toString",PLe,{unsafe:!0});var _Le=Gt,DLe=Ls,O0=DLe(_Le.process)==="process",LLe=kt,NLe=ma,RLe=function(e,t,r){try{return LLe(NLe(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},FLe=ft,jLe=String,BLe=TypeError,zLe=function(e){if(typeof e=="object"||FLe(e))return e;throw new BLe("Can't set "+jLe(e)+" as a prototype")},HLe=RLe,ULe=Gn,VLe=zLe,mT=Object.setPrototypeOf||("__proto__"in{}?(function(){var e=!1,t={},r;try{r=HLe(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,o){return ULe(i),VLe(o),e?r(i,o):i.__proto__=o,i}})():void 0),WLe=Kn.f,KLe=On,GLe=Zt,JP=GLe("toStringTag"),dd=function(e,t,r){e&&!r&&(e=e.prototype),e&&!KLe(e,JP)&&WLe(e,JP,{configurable:!0,value:t})},qLe=Ns,YLe=ZH,JLe=Zt,XLe=Sn,XP=JLe("species"),QLe=function(e){var t=qLe(e);XLe&&t&&!t[XP]&&YLe(t,XP,{configurable:!0,get:function(){return this}})},ZLe=ZO,eNe=TypeError,vT=function(e,t){if(ZLe(t,e))return e;throw new eNe("Incorrect invocation")},tNe=JH,rNe=y0,nNe=TypeError,iNe=function(e){if(tNe(e))return e;throw new nNe(rNe(e)+" is not a constructor")},QP=Gn,oNe=iNe,aNe=bc,sNe=Zt,lNe=sNe("species"),cNe=function(e,t){var r=QP(e).constructor,n;return r===void 0||aNe(n=QP(r)[lNe])?t:oNe(n)},uNe=g0,iU=Function.prototype,ZP=iU.apply,e_=iU.call,fNe=typeof Reflect=="object"&&Reflect.apply||(uNe?e_.bind(ZP):function(){return e_.apply(ZP,arguments)}),dNe=Ls,hNe=kt,pNe=function(e){if(dNe(e)==="Function")return hNe(e)},t_=pNe,gNe=ma,mNe=g0,vNe=t_(t_.bind),T0=function(e,t){return gNe(e),t===void 0?e:mNe?vNe(e,t):function(){return e.apply(t,arguments)}},bNe=Ns,oU=bNe("document","documentElement"),yNe=kt,$Ne=yNe([].slice),wNe=TypeError,xNe=function(e,t){if(e<t)throw new wNe("Not enough arguments");return e},SNe=v0,aU=/(?:ipad|iphone|ipod).*applewebkit/i.test(SNe),Kr=Gt,kNe=fNe,ONe=T0,r_=ft,TNe=On,sU=At,n_=oU,CNe=$Ne,i_=$0,ENe=xNe,MNe=aU,ANe=O0,gx=Kr.setImmediate,o_=Kr.clearImmediate,INe=Kr.process,O1=Kr.Dispatch,PNe=Kr.Function,a_=Kr.MessageChannel,_Ne=Kr.String,T1=0,Vu={},s_="onreadystatechange",Af,Ea,C1,E1;sU(function(){Af=Kr.location});var bT=function(e){if(TNe(Vu,e)){var t=Vu[e];delete Vu[e],t()}},M1=function(e){return function(){bT(e)}},l_=function(e){bT(e.data)},c_=function(e){Kr.postMessage(_Ne(e),Af.protocol+"//"+Af.host)};(!gx||!o_)&&(gx=function(t){ENe(arguments.length,1);var r=r_(t)?t:PNe(t),n=CNe(arguments,1);return Vu[++T1]=function(){kNe(r,void 0,n)},Ea(T1),T1},o_=function(t){delete Vu[t]},ANe?Ea=function(e){INe.nextTick(M1(e))}:O1&&O1.now?Ea=function(e){O1.now(M1(e))}:a_&&!MNe?(C1=new a_,E1=C1.port2,C1.port1.onmessage=l_,Ea=ONe(E1.postMessage,E1)):Kr.addEventListener&&r_(Kr.postMessage)&&!Kr.importScripts&&Af&&Af.protocol!=="file:"&&!sU(c_)?(Ea=c_,Kr.addEventListener("message",l_,!1)):s_ in i_("script")?Ea=function(e){n_.appendChild(i_("script"))[s_]=function(){n_.removeChild(this),bT(e)}}:Ea=function(e){setTimeout(M1(e),0)});var lU={set:gx},cU=function(){this.head=null,this.tail=null};cU.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var uU=cU,DNe=v0,LNe=/ipad|iphone|ipod/i.test(DNe)&&typeof Pebble<"u",NNe=v0,RNe=/web0s(?!.*chrome)/i.test(NNe),ms=Gt,u_=T0,FNe=p0.f,A1=lU.set,jNe=uU,BNe=aU,zNe=LNe,HNe=RNe,I1=O0,f_=ms.MutationObserver||ms.WebKitMutationObserver,d_=ms.document,h_=ms.process,kh=ms.Promise,p_=FNe(ms,"queueMicrotask"),mx=p_&&p_.value,nl,P1,_1,Oh,g_;if(!mx){var Th=new jNe,Ch=function(){var e,t;for(I1&&(e=h_.domain)&&e.exit();t=Th.get();)try{t()}catch(r){throw Th.head&&nl(),r}e&&e.enter()};!BNe&&!I1&&!HNe&&f_&&d_?(P1=!0,_1=d_.createTextNode(""),new f_(Ch).observe(_1,{characterData:!0}),nl=function(){_1.data=P1=!P1}):!zNe&&kh&&kh.resolve?(Oh=kh.resolve(void 0),Oh.constructor=kh,g_=u_(Oh.then,Oh),nl=function(){g_(Ch)}):I1?nl=function(){h_.nextTick(Ch)}:(A1=u_(A1,ms),nl=function(){A1(Ch)}),mx=function(e){Th.head||nl(),Th.add(e)}}var UNe=mx,VNe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},yT=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},WNe=Gt,C0=WNe.Promise,fU=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",KNe=fU,GNe=O0,qNe=!KNe&&!GNe&&typeof window=="object"&&typeof document=="object",YNe=Gt,Wu=C0,JNe=ft,XNe=hT,QNe=sT,ZNe=Zt,eRe=qNe,tRe=fU,D1=b0;Wu&&Wu.prototype;var rRe=ZNe("species"),vx=!1,dU=JNe(YNe.PromiseRejectionEvent),nRe=XNe("Promise",function(){var e=QNe(Wu),t=e!==String(Wu);if(!t&&D1===66)return!0;if(!D1||D1<51||!/native code/.test(e)){var r=new Wu(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[rRe]=n,vx=r.then(function(){})instanceof n,!vx)return!0}return!t&&(eRe||tRe)&&!dU}),hd={CONSTRUCTOR:nRe,REJECTION_EVENT:dU,SUBCLASSING:vx},$c={},m_=ma,iRe=TypeError,oRe=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new iRe("Bad Promise constructor");t=n,r=i}),this.resolve=m_(t),this.reject=m_(r)};$c.f=function(e){return new oRe(e)};var aRe=qn,km=O0,oa=Gt,nc=kn,v_=va,b_=mT,sRe=dd,lRe=QLe,cRe=ma,Op=ft,uRe=yr,fRe=vT,dRe=cNe,hU=lU.set,$T=UNe,hRe=VNe,pRe=yT,gRe=uU,pU=cd,Om=C0,wT=hd,gU=$c,E0="Promise",mU=wT.CONSTRUCTOR,mRe=wT.REJECTION_EVENT,vRe=wT.SUBCLASSING,L1=pU.getterFor(E0),bRe=pU.set,gl=Om&&Om.prototype,La=Om,Eh=gl,vU=oa.TypeError,bx=oa.document,xT=oa.process,yx=gU.f,yRe=yx,$Re=!!(bx&&bx.createEvent&&oa.dispatchEvent),bU="unhandledrejection",wRe="rejectionhandled",y_=0,yU=1,xRe=2,ST=1,$U=2,Mh,$_,SRe,w_,wU=function(e){var t;return uRe(e)&&Op(t=e.then)?t:!1},xU=function(e,t){var r=t.value,n=t.state===yU,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,l,c,u;try{i?(n||(t.rejection===$U&&ORe(t),t.rejection=ST),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),u=!0)),l===e.promise?a(new vU("Promise-chain cycle")):(c=wU(l))?nc(c,l,o,a):o(l)):a(r)}catch(f){s&&!u&&s.exit(),a(f)}},SU=function(e,t){e.notified||(e.notified=!0,$T(function(){for(var r=e.reactions,n;n=r.get();)xU(n,e);e.notified=!1,t&&!e.rejection&&kRe(e)}))},kU=function(e,t,r){var n,i;$Re?(n=bx.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),oa.dispatchEvent(n)):n={promise:t,reason:r},!mRe&&(i=oa["on"+e])?i(n):e===bU&&hRe("Unhandled promise rejection",r)},kRe=function(e){nc(hU,oa,function(){var t=e.facade,r=e.value,n=x_(e),i;if(n&&(i=pRe(function(){km?xT.emit("unhandledRejection",r,t):kU(bU,t,r)}),e.rejection=km||x_(e)?$U:ST,i.error))throw i.value})},x_=function(e){return e.rejection!==ST&&!e.parent},ORe=function(e){nc(hU,oa,function(){var t=e.facade;km?xT.emit("rejectionHandled",t):kU(wRe,t,e.value)})},xl=function(e,t,r){return function(n){e(t,n,r)}},Rl=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=xRe,SU(e,!0))},$x=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new vU("Promise can't be resolved itself");var n=wU(t);n?$T(function(){var i={done:!1};try{nc(n,t,xl($x,i,e),xl(Rl,i,e))}catch(o){Rl(i,o,e)}}):(e.value=t,e.state=yU,SU(e,!1))}catch(i){Rl({done:!1},i,e)}}};if(mU&&(La=function(t){fRe(this,Eh),cRe(t),nc(Mh,this);var r=L1(this);try{t(xl($x,r),xl(Rl,r))}catch(n){Rl(r,n)}},Eh=La.prototype,Mh=function(t){bRe(this,{type:E0,done:!1,notified:!1,parent:!1,reactions:new gRe,rejection:!1,state:y_,value:void 0})},Mh.prototype=v_(Eh,"then",function(t,r){var n=L1(this),i=yx(dRe(this,La));return n.parent=!0,i.ok=Op(t)?t:!0,i.fail=Op(r)&&r,i.domain=km?xT.domain:void 0,n.state===y_?n.reactions.add(i):$T(function(){xU(i,n)}),i.promise}),$_=function(){var e=new Mh,t=L1(e);this.promise=e,this.resolve=xl($x,t),this.reject=xl(Rl,t)},gU.f=yx=function(e){return e===La||e===SRe?new $_(e):yRe(e)},Op(Om)&&gl!==Object.prototype)){w_=gl.then,vRe||v_(gl,"then",function(t,r){var n=this;return new La(function(i,o){nc(w_,n,i,o)}).then(t,r)},{unsafe:!0});try{delete gl.constructor}catch{}b_&&b_(gl,Eh)}aRe({global:!0,constructor:!0,wrap:!0,forced:mU},{Promise:La});sRe(La,E0,!1);lRe(E0);var pd={},TRe=Zt,CRe=pd,ERe=TRe("iterator"),MRe=Array.prototype,ARe=function(e){return e!==void 0&&(CRe.Array===e||MRe[ERe]===e)},IRe=k0,S_=eT,PRe=bc,_Re=pd,DRe=Zt,LRe=DRe("iterator"),OU=function(e){if(!PRe(e))return S_(e,LRe)||S_(e,"@@iterator")||_Re[IRe(e)]},NRe=kn,RRe=ma,FRe=Gn,jRe=y0,BRe=OU,zRe=TypeError,HRe=function(e,t){var r=arguments.length<2?BRe(e):t;if(RRe(r))return FRe(NRe(r,e));throw new zRe(jRe(e)+" is not iterable")},URe=kn,k_=Gn,VRe=eT,WRe=function(e,t,r){var n,i;k_(e);try{if(n=VRe(e,"return"),!n){if(t==="throw")throw r;return r}n=URe(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return k_(n),r},KRe=T0,GRe=kn,qRe=Gn,YRe=y0,JRe=ARe,XRe=ud,O_=ZO,QRe=HRe,ZRe=OU,T_=WRe,e6e=TypeError,Tp=function(e,t){this.stopped=e,this.result=t},C_=Tp.prototype,M0=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=KRe(t,n),c,u,f,d,h,p,g,m=function(b){return c&&T_(c,"normal",b),new Tp(!0,b)},v=function(b){return i?(qRe(b),s?l(b[0],b[1],m):l(b[0],b[1])):s?l(b,m):l(b)};if(o)c=e.iterator;else if(a)c=e;else{if(u=ZRe(e),!u)throw new e6e(YRe(e)+" is not iterable");if(JRe(u)){for(f=0,d=XRe(e);d>f;f++)if(h=v(e[f]),h&&O_(C_,h))return h;return new Tp(!1)}c=QRe(e,u)}for(p=o?e.next:c.next;!(g=GRe(p,c)).done;){try{h=v(g.value)}catch(b){T_(c,"throw",b)}if(typeof h=="object"&&h&&O_(C_,h))return h}return new Tp(!1)},t6e=Zt,TU=t6e("iterator"),CU=!1;try{var r6e=0,E_={next:function(){return{done:!!r6e++}},return:function(){CU=!0}};E_[TU]=function(){return this},Array.from(E_,function(){throw 2})}catch{}var EU=function(e,t){try{if(!t&&!CU)return!1}catch{return!1}var r=!1;try{var n={};n[TU]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},n6e=C0,i6e=EU,o6e=hd.CONSTRUCTOR,MU=o6e||!i6e(function(e){n6e.all(e).then(void 0,function(){})}),a6e=qn,s6e=kn,l6e=ma,c6e=$c,u6e=yT,f6e=M0,d6e=MU;a6e({target:"Promise",stat:!0,forced:d6e},{all:function(t){var r=this,n=c6e.f(r),i=n.resolve,o=n.reject,a=u6e(function(){var s=l6e(r.resolve),l=[],c=0,u=1;f6e(t,function(f){var d=c++,h=!1;u++,s6e(s,r,f).then(function(p){h||(h=!0,l[d]=p,--u||i(l))},o)}),--u||i(l)});return a.error&&o(a.value),n.promise}});var h6e=qn,p6e=hd.CONSTRUCTOR,wx=C0,g6e=Ns,m6e=ft,v6e=va,M_=wx&&wx.prototype;h6e({target:"Promise",proto:!0,forced:p6e,real:!0},{catch:function(e){return this.then(void 0,e)}});if(m6e(wx)){var A_=g6e("Promise").prototype.catch;M_.catch!==A_&&v6e(M_,"catch",A_,{unsafe:!0})}var b6e=qn,y6e=kn,$6e=ma,w6e=$c,x6e=yT,S6e=M0,k6e=MU;b6e({target:"Promise",stat:!0,forced:k6e},{race:function(t){var r=this,n=w6e.f(r),i=n.reject,o=x6e(function(){var a=$6e(r.resolve);S6e(t,function(s){y6e(a,r,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var O6e=qn,T6e=kn,C6e=$c,E6e=hd.CONSTRUCTOR;O6e({target:"Promise",stat:!0,forced:E6e},{reject:function(t){var r=C6e.f(this);return T6e(r.reject,void 0,t),r.promise}});var M6e=Gn,A6e=yr,I6e=$c,P6e=function(e,t){if(M6e(e),A6e(t)&&t.constructor===e)return t;var r=I6e.f(e),n=r.resolve;return n(t),r.promise},_6e=qn,D6e=Ns,L6e=hd.CONSTRUCTOR,N6e=P6e;D6e("Promise");_6e({target:"Promise",stat:!0,forced:L6e},{resolve:function(t){return N6e(this,t)}});var AU={},R6e=Sn,F6e=LH,j6e=Kn,B6e=Gn,z6e=yc,H6e=nU;AU.f=R6e&&!F6e?Object.defineProperties:function(t,r){B6e(t);for(var n=z6e(r),i=H6e(r),o=i.length,a=0,s;o>a;)j6e.f(t,s=i[a++],n[s]);return t};var U6e=Gn,V6e=AU,I_=fT,W6e=x0,K6e=oU,G6e=$0,q6e=lT,P_=">",__="<",xx="prototype",Sx="script",IU=q6e("IE_PROTO"),N1=function(){},PU=function(e){return __+Sx+P_+e+__+"/"+Sx+P_},D_=function(e){e.write(PU("")),e.close();var t=e.parentWindow.Object;return e=null,t},Y6e=function(){var e=G6e("iframe"),t="java"+Sx+":",r;return e.style.display="none",K6e.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(PU("document.F=Object")),r.close(),r.F},Ah,Cp=function(){try{Ah=new ActiveXObject("htmlfile")}catch{}Cp=typeof document<"u"?document.domain&&Ah?D_(Ah):Y6e():D_(Ah);for(var e=I_.length;e--;)delete Cp[xx][I_[e]];return Cp()};W6e[IU]=!0;var _U=Object.create||function(t,r){var n;return t!==null?(N1[xx]=U6e(t),n=new N1,N1[xx]=null,n[IU]=t):n=Cp(),r===void 0?n:V6e.f(n,r)},J6e=Zt,X6e=_U,Q6e=Kn.f,kx=J6e("unscopables"),Ox=Array.prototype;Ox[kx]===void 0&&Q6e(Ox,kx,{configurable:!0,value:X6e(null)});var Z6e=function(e){Ox[kx][e]=!0},e8e=At,t8e=!e8e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),r8e=On,n8e=ft,i8e=ld,o8e=lT,a8e=t8e,L_=o8e("IE_PROTO"),Tx=Object,s8e=Tx.prototype,DU=a8e?Tx.getPrototypeOf:function(e){var t=i8e(e);if(r8e(t,L_))return t[L_];var r=t.constructor;return n8e(r)&&t instanceof r?r.prototype:t instanceof Tx?s8e:null},l8e=At,c8e=ft,u8e=yr,N_=DU,f8e=va,d8e=Zt,Cx=d8e("iterator"),LU=!1,vs,R1,F1;[].keys&&(F1=[].keys(),"next"in F1?(R1=N_(N_(F1)),R1!==Object.prototype&&(vs=R1)):LU=!0);var h8e=!u8e(vs)||l8e(function(){var e={};return vs[Cx].call(e)!==e});h8e&&(vs={});c8e(vs[Cx])||f8e(vs,Cx,function(){return this});var NU={IteratorPrototype:vs,BUGGY_SAFARI_ITERATORS:LU},p8e=NU.IteratorPrototype,g8e=_U,m8e=m0,v8e=dd,b8e=pd,y8e=function(){return this},$8e=function(e,t,r,n){var i=t+" Iterator";return e.prototype=g8e(p8e,{next:m8e(+!n,r)}),v8e(e,i,!1),b8e[i]=y8e,e},w8e=qn,x8e=kn,RU=aT,S8e=ft,k8e=$8e,R_=DU,F_=mT,O8e=dd,T8e=w0,j1=va,C8e=Zt,E8e=pd,FU=NU,M8e=RU.PROPER,A8e=RU.CONFIGURABLE,j_=FU.IteratorPrototype,Ih=FU.BUGGY_SAFARI_ITERATORS,Qc=C8e("iterator"),B_="keys",Zc="values",z_="entries",I8e=function(){return this},jU=function(e,t,r,n,i,o,a){k8e(r,t,n);var s=function(v){if(v===i&&d)return d;if(!Ih&&v&&v in u)return u[v];switch(v){case B_:return function(){return new r(this,v)};case Zc:return function(){return new r(this,v)};case z_:return function(){return new r(this,v)}}return function(){return new r(this)}},l=t+" Iterator",c=!1,u=e.prototype,f=u[Qc]||u["@@iterator"]||i&&u[i],d=!Ih&&f||s(i),h=t==="Array"&&u.entries||f,p,g,m;if(h&&(p=R_(h.call(new e)),p!==Object.prototype&&p.next&&(R_(p)!==j_&&(F_?F_(p,j_):S8e(p[Qc])||j1(p,Qc,I8e)),O8e(p,l,!0))),M8e&&i===Zc&&f&&f.name!==Zc&&(A8e?T8e(u,"name",Zc):(c=!0,d=function(){return x8e(f,this)})),i)if(g={values:s(Zc),keys:o?d:s(B_),entries:s(z_)},a)for(m in g)(Ih||c||!(m in u))&&j1(u,m,g[m]);else w8e({target:t,proto:!0,forced:Ih||c},g);return u[Qc]!==d&&j1(u,Qc,d,{name:i}),E8e[t]=d,g},BU=function(e,t){return{value:e,done:t}},P8e=yc,kT=Z6e,H_=pd,zU=cd,_8e=Kn.f,D8e=jU,Ph=BU,L8e=Sn,HU="Array Iterator",N8e=zU.set,R8e=zU.getterFor(HU),F8e=D8e(Array,"Array",function(e,t){N8e(this,{type:HU,target:P8e(e),index:0,kind:t})},function(){var e=R8e(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Ph(void 0,!0);switch(e.kind){case"keys":return Ph(r,!1);case"values":return Ph(t[r],!1)}return Ph([r,t[r]],!1)},"values"),U_=H_.Arguments=H_.Array;kT("keys");kT("values");kT("entries");if(L8e&&U_.name!=="values")try{_8e(U_,"name",{value:"values"})}catch{}var j8e=k0,B8e=String,UU=function(e){if(j8e(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return B8e(e)},OT=kt,z8e=uT,H8e=UU,U8e=QO,V8e=OT("".charAt),V_=OT("".charCodeAt),W8e=OT("".slice),K8e=function(e){return function(t,r){var n=H8e(U8e(t)),i=z8e(r),o=n.length,a,s;return i<0||i>=o?e?"":void 0:(a=V_(n,i),a<55296||a>56319||i+1===o||(s=V_(n,i+1))<56320||s>57343?e?V8e(n,i):a:e?W8e(n,i,i+2):(a-55296<<10)+(s-56320)+65536)}},G8e={charAt:K8e(!0)},q8e=G8e.charAt,Y8e=UU,VU=cd,J8e=jU,W_=BU,WU="String Iterator",X8e=VU.set,Q8e=VU.getterFor(WU);J8e(String,"String",function(e){X8e(this,{type:WU,string:Y8e(e),index:0})},function(){var t=Q8e(this),r=t.string,n=t.index,i;return n>=r.length?W_(void 0,!0):(i=q8e(r,n),t.index+=i.length,W_(i,!1))});var KU={exports:{}},GU={},K_=zH,Z8e=ud,e7e=VH,t7e=Array,r7e=Math.max,n7e=function(e,t,r){for(var n=Z8e(e),i=K_(t,n),o=K_(r===void 0?n:r,n),a=t7e(r7e(o-i,0)),s=0;i<o;i++,s++)e7e(a,s,e[i]);return a.length=s,a},i7e=Ls,o7e=yc,qU=S0.f,a7e=n7e,YU=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s7e=function(e){try{return qU(e)}catch{return a7e(YU)}};GU.f=function(t){return YU&&i7e(t)==="Window"?s7e(t):qU(o7e(t))};var l7e=At,c7e=l7e(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),u7e=At,f7e=yr,d7e=Ls,G_=c7e,Ep=Object.isExtensible,h7e=u7e(function(){Ep(1)}),p7e=h7e||G_?function(t){return!f7e(t)||G_&&d7e(t)==="ArrayBuffer"?!1:Ep?Ep(t):!0}:Ep,g7e=At,m7e=!g7e(function(){return Object.isExtensible(Object.preventExtensions({}))}),v7e=qn,b7e=kt,y7e=x0,$7e=yr,TT=On,w7e=Kn.f,q_=S0,x7e=GU,CT=p7e,S7e=nT,k7e=m7e,JU=!1,so=S7e("meta"),O7e=0,ET=function(e){w7e(e,so,{value:{objectID:"O"+O7e++,weakData:{}}})},T7e=function(e,t){if(!$7e(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!TT(e,so)){if(!CT(e))return"F";if(!t)return"E";ET(e)}return e[so].objectID},C7e=function(e,t){if(!TT(e,so)){if(!CT(e))return!0;if(!t)return!1;ET(e)}return e[so].weakData},E7e=function(e){return k7e&&JU&&CT(e)&&!TT(e,so)&&ET(e),e},M7e=function(){A7e.enable=function(){},JU=!0;var e=q_.f,t=b7e([].splice),r={};r[so]=1,e(r).length&&(q_.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===so){t(i,o,1);break}return i},v7e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:x7e.f}))},A7e=KU.exports={enable:M7e,fastKey:T7e,getWeakData:C7e,onFreeze:E7e};y7e[so]=!0;var XU=KU.exports,I7e=ft,P7e=yr,Y_=mT,_7e=function(e,t,r){var n,i;return Y_&&I7e(n=t.constructor)&&n!==r&&P7e(i=n.prototype)&&i!==r.prototype&&Y_(e,i),e},D7e=qn,L7e=Gt,N7e=kt,J_=hT,R7e=va,F7e=XU,j7e=M0,B7e=vT,z7e=ft,H7e=bc,B1=yr,z1=At,U7e=EU,V7e=dd,W7e=_7e,K7e=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=L7e[e],s=a&&a.prototype,l=a,c={},u=function(v){var b=N7e(s[v]);R7e(s,v,v==="add"?function(w){return b(this,w===0?0:w),this}:v==="delete"?function(y){return i&&!B1(y)?!1:b(this,y===0?0:y)}:v==="get"?function(w){return i&&!B1(w)?void 0:b(this,w===0?0:w)}:v==="has"?function(w){return i&&!B1(w)?!1:b(this,w===0?0:w)}:function(w,$){return b(this,w===0?0:w,$),this})},f=J_(e,!z7e(a)||!(i||s.forEach&&!z1(function(){new a().entries().next()})));if(f)l=r.getConstructor(t,e,n,o),F7e.enable();else if(J_(e,!0)){var d=new l,h=d[o](i?{}:-0,1)!==d,p=z1(function(){d.has(1)}),g=U7e(function(v){new a(v)}),m=!i&&z1(function(){for(var v=new a,b=5;b--;)v[o](b,b);return!v.has(-0)});g||(l=t(function(v,b){B7e(v,s);var y=W7e(new a,v,l);return H7e(b)||j7e(b,y[o],{that:y,AS_ENTRIES:n}),y}),l.prototype=s,s.constructor=l),(p||m)&&(u("delete"),u("has"),n&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,D7e({global:!0,constructor:!0,forced:l!==a},c),V7e(l,e),i||r.setStrong(l,e,n),l},G7e=va,q7e=function(e,t,r){for(var n in t)G7e(e,n,t[n],r);return e},Y7e=T0,J7e=kt,X7e=XO,Q7e=ld,Z7e=ud,e9e=XH,X_=J7e([].push),Q_=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,s=e===5||o;return function(l,c,u,f){for(var d=Q7e(l),h=X7e(d),p=Z7e(h),g=Y7e(c,u),m=0,v=f||e9e,b=t?v(l,p):r||a?v(l,0):void 0,y,w;p>m;m++)if((s||m in h)&&(y=h[m],w=g(y,m,d),e))if(t)b[m]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:X_(b,y)}else switch(e){case 4:return!1;case 7:X_(b,y)}return o?-1:n||i?i:b}},t9e={find:Q_(5),findIndex:Q_(6)},r9e=kt,Z_=q7e,_h=XU.getWeakData,n9e=vT,i9e=Gn,o9e=bc,H1=yr,a9e=M0,QU=t9e,e4=On,ZU=cd,s9e=ZU.set,l9e=ZU.getterFor,c9e=QU.find,u9e=QU.findIndex,f9e=r9e([].splice),d9e=0,Dh=function(e){return e.frozen||(e.frozen=new eV)},eV=function(){this.entries=[]},U1=function(e,t){return c9e(e.entries,function(r){return r[0]===t})};eV.prototype={get:function(e){var t=U1(this,e);if(t)return t[1]},has:function(e){return!!U1(this,e)},set:function(e,t){var r=U1(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=u9e(this.entries,function(r){return r[0]===e});return~t&&f9e(this.entries,t,1),!!~t}};var h9e={getConstructor:function(e,t,r,n){var i=e(function(l,c){n9e(l,o),s9e(l,{type:t,id:d9e++,frozen:void 0}),o9e(c)||a9e(c,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,a=l9e(t),s=function(l,c,u){var f=a(l),d=_h(i9e(c),!0);return d===!0?Dh(f).set(c,u):d[f.id]=u,l};return Z_(o,{delete:function(l){var c=a(this);if(!H1(l))return!1;var u=_h(l);return u===!0?Dh(c).delete(l):u&&e4(u,c.id)&&delete u[c.id]},has:function(c){var u=a(this);if(!H1(c))return!1;var f=_h(c);return f===!0?Dh(u).has(c):f&&e4(f,u.id)}}),Z_(o,r?{get:function(c){var u=a(this);if(H1(c)){var f=_h(c);return f===!0?Dh(u).get(c):f?f[u.id]:void 0}},set:function(c,u){return s(this,c,u)}}:{add:function(c){return s(this,c,!0)}}),i}},p9e=K7e,g9e=h9e;p9e("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g9e);var m9e={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},v9e=$0,V1=v9e("span").classList,t4=V1&&V1.constructor&&V1.constructor.prototype,b9e=t4===Object.prototype?void 0:t4,r4=Gt,tV=m9e,y9e=b9e,wu=F8e,n4=w0,$9e=dd,w9e=Zt,W1=w9e("iterator"),K1=wu.values,rV=function(e,t){if(e){if(e[W1]!==K1)try{n4(e,W1,K1)}catch{e[W1]=K1}if($9e(e,t,!0),tV[t]){for(var r in wu)if(e[r]!==wu[r])try{n4(e,r,wu[r])}catch{e[r]=wu[r]}}}};for(var G1 in tV)rV(r4[G1]&&r4[G1].prototype,G1);rV(y9e,"DOMTokenList");function i4(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var Mp,nV,iV,xu="#ch-tooltip",o4={enabled:!0,text:function(t,r,n){return"".concat(r," - ").concat(n.format("LLLL"))}},x9e={placement:"top",modifiers:[{name:"offset",options:{offset:[0,8]}}]},oV={getBoundingClientRect:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{width:0,height:0,top:r,right:t,bottom:r,left:t,x:t,y:r,toJSON:function(){}}}},S9e=(function(){function e(t){K3e(this,e),Mp.add(this),this.name="Tooltip",this.calendar=t,this.root=null,this.popperInstance=null,this.options=o4,this.listenerAttached=!1}return q3e(e,[{key:"setup",value:function(r){this.options=Object.assign(Object.assign({},o4),r);var n=this.calendar.eventEmitter;if(!this.options.enabled){this.listenerAttached&&(n.off("mouseover",this.mouseOverCallback,this),n.off("mouseout",this.mouseOutCallback,this),this.listenerAttached=!1),this.destroy();return}if(this.popperOptions=Object.assign(Object.assign({},x9e),this.options),this.root=document.getElementById(xu.slice(1)),!this.root){var i=document.createElement("div");i.setAttribute("id",xu.slice(1)),i.setAttribute("role","tooltip"),i.innerHTML='<div id="'.concat(xu.slice(1),'-arrow" data-popper-arrow="true"></div>')+'<span id="'.concat(xu.slice(1),'-body"></span>'),this.root=document.body.appendChild(i)}this.root.setAttribute("data-theme",this.calendar.options.options.theme),this.popperInstance=W3e(oV,this.root,this.popperOptions),this.listenerAttached||(n.on("mouseover",this.mouseOverCallback,this),n.on("mouseout",this.mouseOutCallback,this),this.listenerAttached=!0)}},{key:"mouseOverCallback",value:function(r,n,i){i4(this,Mp,"m",nV).call(this,r.target,n,i)}},{key:"mouseOutCallback",value:function(){i4(this,Mp,"m",iV).call(this)}},{key:"paint",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){return this.root&&this.root.remove(),Promise.resolve()}}]),e})();Mp=new WeakSet,nV=function(t,r,n){var i=this,o=this.options.text,a=o?o(r,n,this.calendar.dateHelper.date(r)):null;a&&(oV.getBoundingClientRect=function(){return t.getBoundingClientRect()},document.getElementById("".concat(xu.slice(1),"-body")).innerHTML=a,this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},i.popperOptions),{modifiers:[].concat($P(i.popperOptions.modifiers),[{name:"eventListeners",enabled:!0}])})}),this.popperInstance.update(),this.root.setAttribute("data-show","1"))},iV=function(){var t=this;this.root.removeAttribute("data-show"),this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},t.popperOptions),{modifiers:[].concat($P(t.popperOptions.modifiers),[{name:"eventListeners",enabled:!1}])})})};function k9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E9e(n.key),n)}}function T9e(e,t,r){return t&&O9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C9e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function E9e(e){var t=C9e(e,"string");return typeof t=="symbol"?t:String(t)}var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It=function(e){try{return!!e()}catch{return!0}},M9e=It,Tn=!M9e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),A9e=It,A0=!A9e(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),aV=A0,sV=Function.prototype,Ex=sV.call,I9e=aV&&sV.bind.bind(Ex,Ex),gt=aV?I9e:function(e){return function(){return Ex.apply(e,arguments)}},wc=function(e){return e==null},P9e=wc,_9e=TypeError,MT=function(e){if(P9e(e))throw new _9e("Can't call method on "+e);return e},D9e=MT,L9e=Object,gd=function(e){return L9e(D9e(e))},N9e=gt,R9e=gd,F9e=N9e({}.hasOwnProperty),Cn=Object.hasOwn||function(t,r){return F9e(R9e(t),r)},Mx=Tn,j9e=Cn,lV=Function.prototype,B9e=Mx&&Object.getOwnPropertyDescriptor,AT=j9e(lV,"name"),z9e=AT&&(function(){}).name==="something",H9e=AT&&(!Mx||Mx&&B9e(lV,"name").configurable),IT={EXISTS:AT,PROPER:z9e,CONFIGURABLE:H9e},cV={exports:{}},Ax=typeof document=="object"&&document.all,U9e=typeof Ax>"u"&&Ax!==void 0,uV={all:Ax,IS_HTMLDDA:U9e},fV=uV,V9e=fV.all,dt=fV.IS_HTMLDDA?function(e){return typeof e=="function"||e===V9e}:function(e){return typeof e=="function"},eu=function(e){return e&&e.Math===Math&&e},Pt=eu(typeof globalThis=="object"&&globalThis)||eu(typeof window=="object"&&window)||eu(typeof self=="object"&&self)||eu(typeof Lh=="object"&&Lh)||eu(typeof Lh=="object"&&Lh)||(function(){return this})()||Function("return this")(),a4=Pt,W9e=Object.defineProperty,PT=function(e,t){try{W9e(a4,e,{value:t,configurable:!0,writable:!0})}catch{a4[e]=t}return t},K9e=Pt,G9e=PT,s4="__core-js_shared__",q9e=K9e[s4]||G9e(s4,{}),_T=q9e,Y9e=gt,J9e=dt,Ix=_T,X9e=Y9e(Function.toString);J9e(Ix.inspectSource)||(Ix.inspectSource=function(e){return X9e(e)});var DT=Ix.inspectSource,Q9e=Pt,Z9e=dt,l4=Q9e.WeakMap,eFe=Z9e(l4)&&/native code/.test(String(l4)),c4=dt,dV=uV,tFe=dV.all,jr=dV.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:c4(e)||e===tFe}:function(e){return typeof e=="object"?e!==null:c4(e)},Yn={},rFe=Pt,u4=jr,Px=rFe.document,nFe=u4(Px)&&u4(Px.createElement),I0=function(e){return nFe?Px.createElement(e):{}},iFe=Tn,oFe=It,aFe=I0,hV=!iFe&&!oFe(function(){return Object.defineProperty(aFe("div"),"a",{get:function(){return 7}}).a!==7}),sFe=Tn,lFe=It,pV=sFe&&lFe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),cFe=jr,uFe=String,fFe=TypeError,Jn=function(e){if(cFe(e))return e;throw new fFe(uFe(e)+" is not an object")},dFe=A0,Nh=Function.prototype.call,En=dFe?Nh.bind(Nh):function(){return Nh.apply(Nh,arguments)},q1=Pt,hFe=dt,pFe=function(e){return hFe(e)?e:void 0},Rs=function(e,t){return arguments.length<2?pFe(q1[e]):q1[e]&&q1[e][t]},gFe=gt,LT=gFe({}.isPrototypeOf),P0=typeof navigator<"u"&&String(navigator.userAgent)||"",gV=Pt,Y1=P0,f4=gV.process,d4=gV.Deno,h4=f4&&f4.versions||d4&&d4.version,p4=h4&&h4.v8,Dn,Tm;p4&&(Dn=p4.split("."),Tm=Dn[0]>0&&Dn[0]<4?1:+(Dn[0]+Dn[1]));!Tm&&Y1&&(Dn=Y1.match(/Edge\/(\d+)/),(!Dn||Dn[1]>=74)&&(Dn=Y1.match(/Chrome\/(\d+)/),Dn&&(Tm=+Dn[1])));var mV=Tm,g4=mV,mFe=It,vFe=Pt,bFe=vFe.String,vV=!!Object.getOwnPropertySymbols&&!mFe(function(){var e=Symbol("symbol detection");return!bFe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&g4&&g4<41}),yFe=vV,bV=yFe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$Fe=Rs,wFe=dt,xFe=LT,SFe=bV,kFe=Object,yV=SFe?function(e){return typeof e=="symbol"}:function(e){var t=$Fe("Symbol");return wFe(t)&&xFe(t.prototype,kFe(e))},OFe=String,_0=function(e){try{return OFe(e)}catch{return"Object"}},TFe=dt,CFe=_0,EFe=TypeError,ba=function(e){if(TFe(e))return e;throw new EFe(CFe(e)+" is not a function")},MFe=ba,AFe=wc,NT=function(e,t){var r=e[t];return AFe(r)?void 0:MFe(r)},J1=En,X1=dt,Q1=jr,IFe=TypeError,PFe=function(e,t){var r,n;if(t==="string"&&X1(r=e.toString)&&!Q1(n=J1(r,e))||X1(r=e.valueOf)&&!Q1(n=J1(r,e))||t!=="string"&&X1(r=e.toString)&&!Q1(n=J1(r,e)))return n;throw new IFe("Can't convert object to primitive value")},$V={exports:{}},m4=_T;($V.exports=function(e,t){return m4[e]||(m4[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var wV=$V.exports,_Fe=gt,DFe=0,LFe=Math.random(),NFe=_Fe(1 .toString),RT=function(e){return"Symbol("+(e===void 0?"":e)+")_"+NFe(++DFe+LFe,36)},RFe=Pt,FFe=wV,v4=Cn,jFe=RT,BFe=vV,zFe=bV,Sl=RFe.Symbol,Z1=FFe("wks"),HFe=zFe?Sl.for||Sl:Sl&&Sl.withoutSetter||jFe,$r=function(e){return v4(Z1,e)||(Z1[e]=BFe&&v4(Sl,e)?Sl[e]:HFe("Symbol."+e)),Z1[e]},UFe=En,b4=jr,y4=yV,VFe=NT,WFe=PFe,KFe=$r,GFe=TypeError,qFe=KFe("toPrimitive"),YFe=function(e,t){if(!b4(e)||y4(e))return e;var r=VFe(e,qFe),n;if(r){if(t===void 0&&(t="default"),n=UFe(r,e,t),!b4(n)||y4(n))return n;throw new GFe("Can't convert object to primitive value")}return t===void 0&&(t="number"),WFe(e,t)},JFe=YFe,XFe=yV,FT=function(e){var t=JFe(e,"string");return XFe(t)?t:t+""},QFe=Tn,ZFe=hV,eje=pV,Rh=Jn,$4=FT,tje=TypeError,e$=Object.defineProperty,rje=Object.getOwnPropertyDescriptor,t$="enumerable",r$="configurable",n$="writable";Yn.f=QFe?eje?function(t,r,n){if(Rh(t),r=$4(r),Rh(n),typeof t=="function"&&r==="prototype"&&"value"in n&&n$ in n&&!n[n$]){var i=rje(t,r);i&&i[n$]&&(t[r]=n.value,n={configurable:r$ in n?n[r$]:i[r$],enumerable:t$ in n?n[t$]:i[t$],writable:!1})}return e$(t,r,n)}:e$:function(t,r,n){if(Rh(t),r=$4(r),Rh(n),ZFe)try{return e$(t,r,n)}catch{}if("get"in n||"set"in n)throw new tje("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var D0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},nje=Tn,ije=Yn,oje=D0,md=nje?function(e,t,r){return ije.f(e,t,oje(1,r))}:function(e,t,r){return e[t]=r,e},aje=wV,sje=RT,w4=aje("keys"),jT=function(e){return w4[e]||(w4[e]=sje(e))},L0={},lje=eFe,xV=Pt,cje=jr,uje=md,i$=Cn,o$=_T,fje=jT,dje=L0,x4="Object already initialized",_x=xV.TypeError,hje=xV.WeakMap,Cm,If,Em,pje=function(e){return Em(e)?If(e):Cm(e,{})},gje=function(e){return function(t){var r;if(!cje(t)||(r=If(t)).type!==e)throw new _x("Incompatible receiver, "+e+" required");return r}};if(lje||o$.state){var Zn=o$.state||(o$.state=new hje);Zn.get=Zn.get,Zn.has=Zn.has,Zn.set=Zn.set,Cm=function(e,t){if(Zn.has(e))throw new _x(x4);return t.facade=e,Zn.set(e,t),t},If=function(e){return Zn.get(e)||{}},Em=function(e){return Zn.has(e)}}else{var il=fje("state");dje[il]=!0,Cm=function(e,t){if(i$(e,il))throw new _x(x4);return t.facade=e,uje(e,il,t),t},If=function(e){return i$(e,il)?e[il]:{}},Em=function(e){return i$(e,il)}}var vd={set:Cm,get:If,has:Em,enforce:pje,getterFor:gje},BT=gt,mje=It,vje=dt,Fh=Cn,Dx=Tn,bje=IT.CONFIGURABLE,yje=DT,SV=vd,$je=SV.enforce,wje=SV.get,S4=String,Ap=Object.defineProperty,xje=BT("".slice),Sje=BT("".replace),kje=BT([].join),Oje=Dx&&!mje(function(){return Ap(function(){},"length",{value:8}).length!==8}),Tje=String(String).split("String"),Cje=cV.exports=function(e,t,r){xje(S4(t),0,7)==="Symbol("&&(t="["+Sje(S4(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Fh(e,"name")||bje&&e.name!==t)&&(Dx?Ap(e,"name",{value:t,configurable:!0}):e.name=t),Oje&&r&&Fh(r,"arity")&&e.length!==r.arity&&Ap(e,"length",{value:r.arity});try{r&&Fh(r,"constructor")&&r.constructor?Dx&&Ap(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=$je(e);return Fh(n,"source")||(n.source=kje(Tje,typeof t=="string"?t:"")),e};Function.prototype.toString=Cje(function(){return vje(this)&&wje(this).source||yje(this)},"toString");var kV=cV.exports,k4=kV,Eje=Yn,OV=function(e,t,r){return r.get&&k4(r.get,t,{getter:!0}),r.set&&k4(r.set,t,{setter:!0}),Eje.f(e,t,r)},Mje=Tn,Aje=IT.EXISTS,TV=gt,Ije=OV,CV=Function.prototype,Pje=TV(CV.toString),EV=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,_je=TV(EV.exec),Dje="name";Mje&&!Aje&&Ije(CV,Dje,{configurable:!0,get:function(){try{return _je(EV,Pje(this))[1]}catch{return""}}});var N0={},zT={},MV={}.propertyIsEnumerable,AV=Object.getOwnPropertyDescriptor,Lje=AV&&!MV.call({1:2},1);zT.f=Lje?function(t){var r=AV(this,t);return!!r&&r.enumerable}:MV;var IV=gt,Nje=IV({}.toString),Rje=IV("".slice),Fs=function(e){return Rje(Nje(e),8,-1)},Fje=gt,jje=It,Bje=Fs,a$=Object,zje=Fje("".split),R0=jje(function(){return!a$("z").propertyIsEnumerable(0)})?function(e){return Bje(e)==="String"?zje(e,""):a$(e)}:a$,Hje=R0,Uje=MT,js=function(e){return Hje(Uje(e))},Vje=Tn,Wje=En,Kje=zT,Gje=D0,qje=js,Yje=FT,Jje=Cn,Xje=hV,O4=Object.getOwnPropertyDescriptor;N0.f=Vje?O4:function(t,r){if(t=qje(t),r=Yje(r),Xje)try{return O4(t,r)}catch{}if(Jje(t,r))return Gje(!Wje(Kje.f,t,r),t[r])};var Qje=dt,Zje=Yn,eBe=kV,tBe=PT,ya=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(Qje(r)&&eBe(r,o,n),n.global)i?e[t]=r:tBe(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:Zje.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},F0={},rBe=Math.ceil,nBe=Math.floor,iBe=Math.trunc||function(t){var r=+t;return(r>0?nBe:rBe)(r)},oBe=iBe,HT=function(e){var t=+e;return t!==t||t===0?0:oBe(t)},aBe=HT,sBe=Math.max,lBe=Math.min,PV=function(e,t){var r=aBe(e);return r<0?sBe(r+t,0):lBe(r,t)},cBe=HT,uBe=Math.min,fBe=function(e){return e>0?uBe(cBe(e),9007199254740991):0},dBe=fBe,j0=function(e){return dBe(e.length)},hBe=js,pBe=PV,gBe=j0,mBe=function(e){return function(t,r,n){var i=hBe(t),o=gBe(i),a=pBe(n,o),s;if(e&&r!==r){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},vBe={indexOf:mBe(!1)},bBe=gt,s$=Cn,yBe=js,$Be=vBe.indexOf,wBe=L0,T4=bBe([].push),_V=function(e,t){var r=yBe(e),n=0,i=[],o;for(o in r)!s$(wBe,o)&&s$(r,o)&&T4(i,o);for(;t.length>n;)s$(r,o=t[n++])&&(~$Be(i,o)||T4(i,o));return i},UT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xBe=_V,SBe=UT,kBe=SBe.concat("length","prototype");F0.f=Object.getOwnPropertyNames||function(t){return xBe(t,kBe)};var VT={};VT.f=Object.getOwnPropertySymbols;var OBe=Rs,TBe=gt,CBe=F0,EBe=VT,MBe=Jn,ABe=TBe([].concat),IBe=OBe("Reflect","ownKeys")||function(t){var r=CBe.f(MBe(t)),n=EBe.f;return n?ABe(r,n(t)):r},C4=Cn,PBe=IBe,_Be=N0,DBe=Yn,LBe=function(e,t,r){for(var n=PBe(t),i=DBe.f,o=_Be.f,a=0;a<n.length;a++){var s=n[a];!C4(e,s)&&!(r&&C4(r,s))&&i(e,s,o(t,s))}},NBe=It,RBe=dt,FBe=/#|\.prototype\./,bd=function(e,t){var r=BBe[jBe(e)];return r===HBe?!0:r===zBe?!1:RBe(t)?NBe(t):!!t},jBe=bd.normalize=function(e){return String(e).replace(FBe,".").toLowerCase()},BBe=bd.data={},zBe=bd.NATIVE="N",HBe=bd.POLYFILL="P",WT=bd,l$=Pt,UBe=N0.f,VBe=md,WBe=ya,KBe=PT,GBe=LBe,qBe=WT,Mn=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,s,l,c,u;if(n?a=l$:i?a=l$[r]||KBe(r,{}):a=(l$[r]||{}).prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=UBe(a,s),l=u&&u.value):l=a[s],o=qBe(n?s:r+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;GBe(c,l)}(e.sham||l&&l.sham)&&VBe(c,"sham",!0),WBe(a,s,c,e)}},YBe=_V,JBe=UT,KT=Object.keys||function(t){return YBe(t,JBe)},E4=Tn,XBe=gt,QBe=En,ZBe=It,c$=KT,eze=VT,tze=zT,rze=gd,nze=R0,ol=Object.assign,M4=Object.defineProperty,ize=XBe([].concat),oze=!ol||ZBe(function(){if(E4&&ol({b:1},ol(M4({},"a",{enumerable:!0,get:function(){M4(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),ol({},e)[r]!==7||c$(ol({},t)).join("")!==n})?function(t,r){for(var n=rze(t),i=arguments.length,o=1,a=eze.f,s=tze.f;i>o;)for(var l=nze(arguments[o++]),c=a?ize(c$(l),a(l)):c$(l),u=c.length,f=0,d;u>f;)d=c[f++],(!E4||QBe(s,l,d))&&(n[d]=l[d]);return n}:ol,aze=Mn,A4=oze;aze({target:"Object",stat:!0,arity:2,forced:Object.assign!==A4},{assign:A4});var sze=$r,lze=sze("toStringTag"),DV={};DV[lze]="z";var GT=String(DV)==="[object z]",cze=GT,uze=dt,Ip=Fs,fze=$r,dze=fze("toStringTag"),hze=Object,pze=Ip((function(){return arguments})())==="Arguments",gze=function(e,t){try{return e[t]}catch{}},B0=cze?Ip:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=gze(t=hze(e),dze))=="string"?r:pze?Ip(t):(n=Ip(t))==="Object"&&uze(t.callee)?"Arguments":n},mze=GT,vze=B0,bze=mze?{}.toString:function(){return"[object "+vze(this)+"]"},yze=GT,$ze=ya,wze=bze;yze||$ze(Object.prototype,"toString",wze,{unsafe:!0});var xze=Pt,Sze=Fs,z0=Sze(xze.process)==="process",kze=gt,Oze=ba,Tze=function(e,t,r){try{return kze(Oze(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},Cze=dt,Eze=String,Mze=TypeError,Aze=function(e){if(typeof e=="object"||Cze(e))return e;throw new Mze("Can't set "+Eze(e)+" as a prototype")},Ize=Tze,Pze=Jn,_ze=Aze,qT=Object.setPrototypeOf||("__proto__"in{}?(function(){var e=!1,t={},r;try{r=Ize(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,o){return Pze(i),_ze(o),e?r(i,o):i.__proto__=o,i}})():void 0),Dze=Yn.f,Lze=Cn,Nze=$r,I4=Nze("toStringTag"),yd=function(e,t,r){e&&!r&&(e=e.prototype),e&&!Lze(e,I4)&&Dze(e,I4,{configurable:!0,value:t})},Rze=Rs,Fze=OV,jze=$r,Bze=Tn,P4=jze("species"),zze=function(e){var t=Rze(e);Bze&&t&&!t[P4]&&Fze(t,P4,{configurable:!0,get:function(){return this}})},Hze=LT,Uze=TypeError,YT=function(e,t){if(Hze(t,e))return e;throw new Uze("Incorrect invocation")},Vze=gt,Wze=It,LV=dt,Kze=B0,Gze=Rs,qze=DT,NV=function(){},Yze=[],RV=Gze("Reflect","construct"),JT=/^\s*(?:class|function)\b/,Jze=Vze(JT.exec),Xze=!JT.test(NV),tu=function(t){if(!LV(t))return!1;try{return RV(NV,Yze,t),!0}catch{return!1}},FV=function(t){if(!LV(t))return!1;switch(Kze(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Xze||!!Jze(JT,qze(t))}catch{return!0}};FV.sham=!0;var jV=!RV||Wze(function(){var e;return tu(tu.call)||!tu(Object)||!tu(function(){e=!0})||e})?FV:tu,Qze=jV,Zze=_0,eHe=TypeError,tHe=function(e){if(Qze(e))return e;throw new eHe(Zze(e)+" is not a constructor")},_4=Jn,rHe=tHe,nHe=wc,iHe=$r,oHe=iHe("species"),aHe=function(e,t){var r=_4(e).constructor,n;return r===void 0||nHe(n=_4(r)[oHe])?t:rHe(n)},sHe=A0,BV=Function.prototype,D4=BV.apply,L4=BV.call,lHe=typeof Reflect=="object"&&Reflect.apply||(sHe?L4.bind(D4):function(){return L4.apply(D4,arguments)}),cHe=Fs,uHe=gt,fHe=function(e){if(cHe(e)==="Function")return uHe(e)},N4=fHe,dHe=ba,hHe=A0,pHe=N4(N4.bind),H0=function(e,t){return dHe(e),t===void 0?e:hHe?pHe(e,t):function(){return e.apply(t,arguments)}},gHe=Rs,zV=gHe("document","documentElement"),mHe=gt,vHe=mHe([].slice),bHe=TypeError,yHe=function(e,t){if(e<t)throw new bHe("Not enough arguments");return e},$He=P0,HV=/(?:ipad|iphone|ipod).*applewebkit/i.test($He),Gr=Pt,wHe=lHe,xHe=H0,R4=dt,SHe=Cn,UV=It,F4=zV,kHe=vHe,j4=I0,OHe=yHe,THe=HV,CHe=z0,Lx=Gr.setImmediate,B4=Gr.clearImmediate,EHe=Gr.process,u$=Gr.Dispatch,MHe=Gr.Function,z4=Gr.MessageChannel,AHe=Gr.String,f$=0,Ku={},H4="onreadystatechange",Pf,Ma,d$,h$;UV(function(){Pf=Gr.location});var XT=function(e){if(SHe(Ku,e)){var t=Ku[e];delete Ku[e],t()}},p$=function(e){return function(){XT(e)}},U4=function(e){XT(e.data)},V4=function(e){Gr.postMessage(AHe(e),Pf.protocol+"//"+Pf.host)};(!Lx||!B4)&&(Lx=function(t){OHe(arguments.length,1);var r=R4(t)?t:MHe(t),n=kHe(arguments,1);return Ku[++f$]=function(){wHe(r,void 0,n)},Ma(f$),f$},B4=function(t){delete Ku[t]},CHe?Ma=function(e){EHe.nextTick(p$(e))}:u$&&u$.now?Ma=function(e){u$.now(p$(e))}:z4&&!THe?(d$=new z4,h$=d$.port2,d$.port1.onmessage=U4,Ma=xHe(h$.postMessage,h$)):Gr.addEventListener&&R4(Gr.postMessage)&&!Gr.importScripts&&Pf&&Pf.protocol!=="file:"&&!UV(V4)?(Ma=V4,Gr.addEventListener("message",U4,!1)):H4 in j4("script")?Ma=function(e){F4.appendChild(j4("script"))[H4]=function(){F4.removeChild(this),XT(e)}}:Ma=function(e){setTimeout(p$(e),0)});var VV={set:Lx},WV=function(){this.head=null,this.tail=null};WV.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var KV=WV,IHe=P0,PHe=/ipad|iphone|ipod/i.test(IHe)&&typeof Pebble<"u",_He=P0,DHe=/web0s(?!.*chrome)/i.test(_He),bs=Pt,W4=H0,LHe=N0.f,g$=VV.set,NHe=KV,RHe=HV,FHe=PHe,jHe=DHe,m$=z0,K4=bs.MutationObserver||bs.WebKitMutationObserver,G4=bs.document,q4=bs.process,jh=bs.Promise,Y4=LHe(bs,"queueMicrotask"),Nx=Y4&&Y4.value,al,v$,b$,Bh,J4;if(!Nx){var zh=new NHe,Hh=function(){var e,t;for(m$&&(e=q4.domain)&&e.exit();t=zh.get();)try{t()}catch(r){throw zh.head&&al(),r}e&&e.enter()};!RHe&&!m$&&!jHe&&K4&&G4?(v$=!0,b$=G4.createTextNode(""),new K4(Hh).observe(b$,{characterData:!0}),al=function(){b$.data=v$=!v$}):!FHe&&jh&&jh.resolve?(Bh=jh.resolve(void 0),Bh.constructor=jh,J4=W4(Bh.then,Bh),al=function(){J4(Hh)}):m$?al=function(){q4.nextTick(Hh)}:(g$=W4(g$,bs),al=function(){g$(Hh)}),Nx=function(e){zh.head||al(),zh.add(e)}}var BHe=Nx,zHe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},QT=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},HHe=Pt,U0=HHe.Promise,GV=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",UHe=GV,VHe=z0,WHe=!UHe&&!VHe&&typeof window=="object"&&typeof document=="object",KHe=Pt,Gu=U0,GHe=dt,qHe=WT,YHe=DT,JHe=$r,XHe=WHe,QHe=GV,y$=mV;Gu&&Gu.prototype;var ZHe=JHe("species"),Rx=!1,qV=GHe(KHe.PromiseRejectionEvent),eUe=qHe("Promise",function(){var e=YHe(Gu),t=e!==String(Gu);if(!t&&y$===66)return!0;if(!y$||y$<51||!/native code/.test(e)){var r=new Gu(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[ZHe]=n,Rx=r.then(function(){})instanceof n,!Rx)return!0}return!t&&(XHe||QHe)&&!qV}),$d={CONSTRUCTOR:eUe,REJECTION_EVENT:qV,SUBCLASSING:Rx},xc={},X4=ba,tUe=TypeError,rUe=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new tUe("Bad Promise constructor");t=n,r=i}),this.resolve=X4(t),this.reject=X4(r)};xc.f=function(e){return new rUe(e)};var nUe=Mn,Mm=z0,aa=Pt,ic=En,Q4=ya,Z4=qT,iUe=yd,oUe=zze,aUe=ba,Pp=dt,sUe=jr,lUe=YT,cUe=aHe,YV=VV.set,ZT=BHe,uUe=zHe,fUe=QT,dUe=KV,JV=vd,Am=U0,eC=$d,XV=xc,V0="Promise",QV=eC.CONSTRUCTOR,hUe=eC.REJECTION_EVENT,pUe=eC.SUBCLASSING,$$=JV.getterFor(V0),gUe=JV.set,ml=Am&&Am.prototype,Na=Am,Uh=ml,ZV=aa.TypeError,Fx=aa.document,tC=aa.process,jx=XV.f,mUe=jx,vUe=!!(Fx&&Fx.createEvent&&aa.dispatchEvent),eW="unhandledrejection",bUe="rejectionhandled",eD=0,tW=1,yUe=2,rC=1,rW=2,Vh,tD,$Ue,rD,nW=function(e){var t;return sUe(e)&&Pp(t=e.then)?t:!1},iW=function(e,t){var r=t.value,n=t.state===tW,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,l,c,u;try{i?(n||(t.rejection===rW&&xUe(t),t.rejection=rC),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),u=!0)),l===e.promise?a(new ZV("Promise-chain cycle")):(c=nW(l))?ic(c,l,o,a):o(l)):a(r)}catch(f){s&&!u&&s.exit(),a(f)}},oW=function(e,t){e.notified||(e.notified=!0,ZT(function(){for(var r=e.reactions,n;n=r.get();)iW(n,e);e.notified=!1,t&&!e.rejection&&wUe(e)}))},aW=function(e,t,r){var n,i;vUe?(n=Fx.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),aa.dispatchEvent(n)):n={promise:t,reason:r},!hUe&&(i=aa["on"+e])?i(n):e===eW&&uUe("Unhandled promise rejection",r)},wUe=function(e){ic(YV,aa,function(){var t=e.facade,r=e.value,n=nD(e),i;if(n&&(i=fUe(function(){Mm?tC.emit("unhandledRejection",r,t):aW(eW,t,r)}),e.rejection=Mm||nD(e)?rW:rC,i.error))throw i.value})},nD=function(e){return e.rejection!==rC&&!e.parent},xUe=function(e){ic(YV,aa,function(){var t=e.facade;Mm?tC.emit("rejectionHandled",t):aW(bUe,t,e.value)})},kl=function(e,t,r){return function(n){e(t,n,r)}},Fl=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=yUe,oW(e,!0))},Bx=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new ZV("Promise can't be resolved itself");var n=nW(t);n?ZT(function(){var i={done:!1};try{ic(n,t,kl(Bx,i,e),kl(Fl,i,e))}catch(o){Fl(i,o,e)}}):(e.value=t,e.state=tW,oW(e,!1))}catch(i){Fl({done:!1},i,e)}}};if(QV&&(Na=function(t){lUe(this,Uh),aUe(t),ic(Vh,this);var r=$$(this);try{t(kl(Bx,r),kl(Fl,r))}catch(n){Fl(r,n)}},Uh=Na.prototype,Vh=function(t){gUe(this,{type:V0,done:!1,notified:!1,parent:!1,reactions:new dUe,rejection:!1,state:eD,value:void 0})},Vh.prototype=Q4(Uh,"then",function(t,r){var n=$$(this),i=jx(cUe(this,Na));return n.parent=!0,i.ok=Pp(t)?t:!0,i.fail=Pp(r)&&r,i.domain=Mm?tC.domain:void 0,n.state===eD?n.reactions.add(i):ZT(function(){iW(i,n)}),i.promise}),tD=function(){var e=new Vh,t=$$(e);this.promise=e,this.resolve=kl(Bx,t),this.reject=kl(Fl,t)},XV.f=jx=function(e){return e===Na||e===$Ue?new tD(e):mUe(e)},Pp(Am)&&ml!==Object.prototype)){rD=ml.then,pUe||Q4(ml,"then",function(t,r){var n=this;return new Na(function(i,o){ic(rD,n,i,o)}).then(t,r)},{unsafe:!0});try{delete ml.constructor}catch{}Z4&&Z4(ml,Uh)}nUe({global:!0,constructor:!0,wrap:!0,forced:QV},{Promise:Na});iUe(Na,V0,!1);oUe(V0);var wd={},SUe=$r,kUe=wd,OUe=SUe("iterator"),TUe=Array.prototype,CUe=function(e){return e!==void 0&&(kUe.Array===e||TUe[OUe]===e)},EUe=B0,iD=NT,MUe=wc,AUe=wd,IUe=$r,PUe=IUe("iterator"),sW=function(e){if(!MUe(e))return iD(e,PUe)||iD(e,"@@iterator")||AUe[EUe(e)]},_Ue=En,DUe=ba,LUe=Jn,NUe=_0,RUe=sW,FUe=TypeError,jUe=function(e,t){var r=arguments.length<2?RUe(e):t;if(DUe(r))return LUe(_Ue(r,e));throw new FUe(NUe(e)+" is not iterable")},BUe=En,oD=Jn,zUe=NT,HUe=function(e,t,r){var n,i;oD(e);try{if(n=zUe(e,"return"),!n){if(t==="throw")throw r;return r}n=BUe(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return oD(n),r},UUe=H0,VUe=En,WUe=Jn,KUe=_0,GUe=CUe,qUe=j0,aD=LT,YUe=jUe,JUe=sW,sD=HUe,XUe=TypeError,_p=function(e,t){this.stopped=e,this.result=t},lD=_p.prototype,W0=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=UUe(t,n),c,u,f,d,h,p,g,m=function(b){return c&&sD(c,"normal",b),new _p(!0,b)},v=function(b){return i?(WUe(b),s?l(b[0],b[1],m):l(b[0],b[1])):s?l(b,m):l(b)};if(o)c=e.iterator;else if(a)c=e;else{if(u=JUe(e),!u)throw new XUe(KUe(e)+" is not iterable");if(GUe(u)){for(f=0,d=qUe(e);d>f;f++)if(h=v(e[f]),h&&aD(lD,h))return h;return new _p(!1)}c=YUe(e,u)}for(p=o?e.next:c.next;!(g=VUe(p,c)).done;){try{h=v(g.value)}catch(b){sD(c,"throw",b)}if(typeof h=="object"&&h&&aD(lD,h))return h}return new _p(!1)},QUe=$r,lW=QUe("iterator"),cW=!1;try{var ZUe=0,cD={next:function(){return{done:!!ZUe++}},return:function(){cW=!0}};cD[lW]=function(){return this},Array.from(cD,function(){throw 2})}catch{}var uW=function(e,t){try{if(!t&&!cW)return!1}catch{return!1}var r=!1;try{var n={};n[lW]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},eVe=U0,tVe=uW,rVe=$d.CONSTRUCTOR,fW=rVe||!tVe(function(e){eVe.all(e).then(void 0,function(){})}),nVe=Mn,iVe=En,oVe=ba,aVe=xc,sVe=QT,lVe=W0,cVe=fW;nVe({target:"Promise",stat:!0,forced:cVe},{all:function(t){var r=this,n=aVe.f(r),i=n.resolve,o=n.reject,a=sVe(function(){var s=oVe(r.resolve),l=[],c=0,u=1;lVe(t,function(f){var d=c++,h=!1;u++,iVe(s,r,f).then(function(p){h||(h=!0,l[d]=p,--u||i(l))},o)}),--u||i(l)});return a.error&&o(a.value),n.promise}});var uVe=Mn,fVe=$d.CONSTRUCTOR,zx=U0,dVe=Rs,hVe=dt,pVe=ya,uD=zx&&zx.prototype;uVe({target:"Promise",proto:!0,forced:fVe,real:!0},{catch:function(e){return this.then(void 0,e)}});if(hVe(zx)){var fD=dVe("Promise").prototype.catch;uD.catch!==fD&&pVe(uD,"catch",fD,{unsafe:!0})}var gVe=Mn,mVe=En,vVe=ba,bVe=xc,yVe=QT,$Ve=W0,wVe=fW;gVe({target:"Promise",stat:!0,forced:wVe},{race:function(t){var r=this,n=bVe.f(r),i=n.reject,o=yVe(function(){var a=vVe(r.resolve);$Ve(t,function(s){mVe(a,r,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var xVe=Mn,SVe=En,kVe=xc,OVe=$d.CONSTRUCTOR;xVe({target:"Promise",stat:!0,forced:OVe},{reject:function(t){var r=kVe.f(this);return SVe(r.reject,void 0,t),r.promise}});var TVe=Jn,CVe=jr,EVe=xc,MVe=function(e,t){if(TVe(e),CVe(t)&&t.constructor===e)return t;var r=EVe.f(e),n=r.resolve;return n(t),r.promise},AVe=Mn,IVe=Rs,PVe=$d.CONSTRUCTOR,_Ve=MVe;IVe("Promise");AVe({target:"Promise",stat:!0,forced:PVe},{resolve:function(t){return _Ve(this,t)}});var DVe=It,dW=function(e,t){var r=[][e];return!!r&&DVe(function(){r.call(null,t||function(){return 1},1)})},LVe=Mn,NVe=gt,RVe=R0,FVe=js,jVe=dW,BVe=NVe([].join),zVe=RVe!==Object,HVe=zVe||!jVe("join",",");LVe({target:"Array",proto:!0,forced:HVe},{join:function(t){return BVe(FVe(this),t===void 0?",":t)}});var hW={},UVe=Tn,VVe=pV,WVe=Yn,KVe=Jn,GVe=js,qVe=KT;hW.f=UVe&&!VVe?Object.defineProperties:function(t,r){KVe(t);for(var n=GVe(r),i=qVe(r),o=i.length,a=0,s;o>a;)WVe.f(t,s=i[a++],n[s]);return t};var YVe=Jn,JVe=hW,dD=UT,XVe=L0,QVe=zV,ZVe=I0,eWe=jT,hD=">",pD="<",Hx="prototype",Ux="script",pW=eWe("IE_PROTO"),w$=function(){},gW=function(e){return pD+Ux+hD+e+pD+"/"+Ux+hD},gD=function(e){e.write(gW("")),e.close();var t=e.parentWindow.Object;return e=null,t},tWe=function(){var e=ZVe("iframe"),t="java"+Ux+":",r;return e.style.display="none",QVe.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(gW("document.F=Object")),r.close(),r.F},Wh,Dp=function(){try{Wh=new ActiveXObject("htmlfile")}catch{}Dp=typeof document<"u"?document.domain&&Wh?gD(Wh):tWe():gD(Wh);for(var e=dD.length;e--;)delete Dp[Hx][dD[e]];return Dp()};XVe[pW]=!0;var mW=Object.create||function(t,r){var n;return t!==null?(w$[Hx]=YVe(t),n=new w$,w$[Hx]=null,n[pW]=t):n=Dp(),r===void 0?n:JVe.f(n,r)},rWe=$r,nWe=mW,iWe=Yn.f,Vx=rWe("unscopables"),Wx=Array.prototype;Wx[Vx]===void 0&&iWe(Wx,Vx,{configurable:!0,value:nWe(null)});var oWe=function(e){Wx[Vx][e]=!0},aWe=It,sWe=!aWe(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),lWe=Cn,cWe=dt,uWe=gd,fWe=jT,dWe=sWe,mD=fWe("IE_PROTO"),Kx=Object,hWe=Kx.prototype,vW=dWe?Kx.getPrototypeOf:function(e){var t=uWe(e);if(lWe(t,mD))return t[mD];var r=t.constructor;return cWe(r)&&t instanceof r?r.prototype:t instanceof Kx?hWe:null},pWe=It,gWe=dt,mWe=jr,vD=vW,vWe=ya,bWe=$r,Gx=bWe("iterator"),bW=!1,ys,x$,S$;[].keys&&(S$=[].keys(),"next"in S$?(x$=vD(vD(S$)),x$!==Object.prototype&&(ys=x$)):bW=!0);var yWe=!mWe(ys)||pWe(function(){var e={};return ys[Gx].call(e)!==e});yWe&&(ys={});gWe(ys[Gx])||vWe(ys,Gx,function(){return this});var yW={IteratorPrototype:ys,BUGGY_SAFARI_ITERATORS:bW},$We=yW.IteratorPrototype,wWe=mW,xWe=D0,SWe=yd,kWe=wd,OWe=function(){return this},TWe=function(e,t,r,n){var i=t+" Iterator";return e.prototype=wWe($We,{next:xWe(+!n,r)}),SWe(e,i,!1),kWe[i]=OWe,e},CWe=Mn,EWe=En,$W=IT,MWe=dt,AWe=TWe,bD=vW,yD=qT,IWe=yd,PWe=md,k$=ya,_We=$r,DWe=wd,wW=yW,LWe=$W.PROPER,NWe=$W.CONFIGURABLE,$D=wW.IteratorPrototype,Kh=wW.BUGGY_SAFARI_ITERATORS,ru=_We("iterator"),wD="keys",nu="values",xD="entries",RWe=function(){return this},xW=function(e,t,r,n,i,o,a){AWe(r,t,n);var s=function(v){if(v===i&&d)return d;if(!Kh&&v&&v in u)return u[v];switch(v){case wD:return function(){return new r(this,v)};case nu:return function(){return new r(this,v)};case xD:return function(){return new r(this,v)}}return function(){return new r(this)}},l=t+" Iterator",c=!1,u=e.prototype,f=u[ru]||u["@@iterator"]||i&&u[i],d=!Kh&&f||s(i),h=t==="Array"&&u.entries||f,p,g,m;if(h&&(p=bD(h.call(new e)),p!==Object.prototype&&p.next&&(bD(p)!==$D&&(yD?yD(p,$D):MWe(p[ru])||k$(p,ru,RWe)),IWe(p,l,!0))),LWe&&i===nu&&f&&f.name!==nu&&(NWe?PWe(u,"name",nu):(c=!0,d=function(){return EWe(f,this)})),i)if(g={values:s(nu),keys:o?d:s(wD),entries:s(xD)},a)for(m in g)(Kh||c||!(m in u))&&k$(u,m,g[m]);else CWe({target:t,proto:!0,forced:Kh||c},g);return u[ru]!==d&&k$(u,ru,d,{name:i}),DWe[t]=d,g},SW=function(e,t){return{value:e,done:t}},FWe=js,nC=oWe,SD=wd,kW=vd,jWe=Yn.f,BWe=xW,Gh=SW,zWe=Tn,OW="Array Iterator",HWe=kW.set,UWe=kW.getterFor(OW),VWe=BWe(Array,"Array",function(e,t){HWe(this,{type:OW,target:FWe(e),index:0,kind:t})},function(){var e=UWe(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Gh(void 0,!0);switch(e.kind){case"keys":return Gh(r,!1);case"values":return Gh(t[r],!1)}return Gh([r,t[r]],!1)},"values"),kD=SD.Arguments=SD.Array;nC("keys");nC("values");nC("entries");if(zWe&&kD.name!=="values")try{jWe(kD,"name",{value:"values"})}catch{}var WWe=B0,KWe=String,TW=function(e){if(WWe(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return KWe(e)},iC=gt,GWe=HT,qWe=TW,YWe=MT,JWe=iC("".charAt),OD=iC("".charCodeAt),XWe=iC("".slice),QWe=function(e){return function(t,r){var n=qWe(YWe(t)),i=GWe(r),o=n.length,a,s;return i<0||i>=o?e?"":void 0:(a=OD(n,i),a<55296||a>56319||i+1===o||(s=OD(n,i+1))<56320||s>57343?e?JWe(n,i):a:e?XWe(n,i,i+2):(a-55296<<10)+(s-56320)+65536)}},ZWe={charAt:QWe(!0)},eKe=ZWe.charAt,tKe=TW,CW=vd,rKe=xW,TD=SW,EW="String Iterator",nKe=CW.set,iKe=CW.getterFor(EW);rKe(String,"String",function(e){nKe(this,{type:EW,string:tKe(e),index:0})},function(){var t=iKe(this),r=t.string,n=t.index,i;return n>=r.length?TD(void 0,!0):(i=eKe(r,n),t.index+=i.length,TD(i,!1))});var MW={exports:{}},AW={},oKe=FT,aKe=Yn,sKe=D0,lKe=function(e,t,r){var n=oKe(t);n in e?aKe.f(e,n,sKe(0,r)):e[n]=r},CD=PV,cKe=j0,uKe=lKe,fKe=Array,dKe=Math.max,hKe=function(e,t,r){for(var n=cKe(e),i=CD(t,n),o=CD(r===void 0?n:r,n),a=fKe(dKe(o-i,0)),s=0;i<o;i++,s++)uKe(a,s,e[i]);return a.length=s,a},pKe=Fs,gKe=js,IW=F0.f,mKe=hKe,PW=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vKe=function(e){try{return IW(e)}catch{return mKe(PW)}};AW.f=function(t){return PW&&pKe(t)==="Window"?vKe(t):IW(gKe(t))};var bKe=It,yKe=bKe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),$Ke=It,wKe=jr,xKe=Fs,ED=yKe,Lp=Object.isExtensible,SKe=$Ke(function(){Lp(1)}),kKe=SKe||ED?function(t){return!wKe(t)||ED&&xKe(t)==="ArrayBuffer"?!1:Lp?Lp(t):!0}:Lp,OKe=It,TKe=!OKe(function(){return Object.isExtensible(Object.preventExtensions({}))}),CKe=Mn,EKe=gt,MKe=L0,AKe=jr,oC=Cn,IKe=Yn.f,MD=F0,PKe=AW,aC=kKe,_Ke=RT,DKe=TKe,_W=!1,lo=_Ke("meta"),LKe=0,sC=function(e){IKe(e,lo,{value:{objectID:"O"+LKe++,weakData:{}}})},NKe=function(e,t){if(!AKe(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!oC(e,lo)){if(!aC(e))return"F";if(!t)return"E";sC(e)}return e[lo].objectID},RKe=function(e,t){if(!oC(e,lo)){if(!aC(e))return!0;if(!t)return!1;sC(e)}return e[lo].weakData},FKe=function(e){return DKe&&_W&&aC(e)&&!oC(e,lo)&&sC(e),e},jKe=function(){BKe.enable=function(){},_W=!0;var e=MD.f,t=EKe([].splice),r={};r[lo]=1,e(r).length&&(MD.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===lo){t(i,o,1);break}return i},CKe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:PKe.f}))},BKe=MW.exports={enable:jKe,fastKey:NKe,getWeakData:RKe,onFreeze:FKe};MKe[lo]=!0;var DW=MW.exports,zKe=dt,HKe=jr,AD=qT,UKe=function(e,t,r){var n,i;return AD&&zKe(n=t.constructor)&&n!==r&&HKe(i=n.prototype)&&i!==r.prototype&&AD(e,i),e},VKe=Mn,WKe=Pt,KKe=gt,ID=WT,GKe=ya,qKe=DW,YKe=W0,JKe=YT,XKe=dt,QKe=wc,O$=jr,T$=It,ZKe=uW,eGe=yd,tGe=UKe,rGe=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=WKe[e],s=a&&a.prototype,l=a,c={},u=function(v){var b=KKe(s[v]);GKe(s,v,v==="add"?function(w){return b(this,w===0?0:w),this}:v==="delete"?function(y){return i&&!O$(y)?!1:b(this,y===0?0:y)}:v==="get"?function(w){return i&&!O$(w)?void 0:b(this,w===0?0:w)}:v==="has"?function(w){return i&&!O$(w)?!1:b(this,w===0?0:w)}:function(w,$){return b(this,w===0?0:w,$),this})},f=ID(e,!XKe(a)||!(i||s.forEach&&!T$(function(){new a().entries().next()})));if(f)l=r.getConstructor(t,e,n,o),qKe.enable();else if(ID(e,!0)){var d=new l,h=d[o](i?{}:-0,1)!==d,p=T$(function(){d.has(1)}),g=ZKe(function(v){new a(v)}),m=!i&&T$(function(){for(var v=new a,b=5;b--;)v[o](b,b);return!v.has(-0)});g||(l=t(function(v,b){JKe(v,s);var y=tGe(new a,v,l);return QKe(b)||YKe(b,y[o],{that:y,AS_ENTRIES:n}),y}),l.prototype=s,s.constructor=l),(p||m)&&(u("delete"),u("has"),n&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,VKe({global:!0,constructor:!0,forced:l!==a},c),eGe(l,e),i||r.setStrong(l,e,n),l},nGe=ya,iGe=function(e,t,r){for(var n in t)nGe(e,n,t[n],r);return e},oGe=Fs,aGe=Array.isArray||function(t){return oGe(t)==="Array"},PD=aGe,sGe=jV,lGe=jr,cGe=$r,uGe=cGe("species"),_D=Array,fGe=function(e){var t;return PD(e)&&(t=e.constructor,sGe(t)&&(t===_D||PD(t.prototype))?t=void 0:lGe(t)&&(t=t[uGe],t===null&&(t=void 0))),t===void 0?_D:t},dGe=fGe,hGe=function(e,t){return new(dGe(e))(t===0?0:t)},pGe=H0,gGe=gt,mGe=R0,vGe=gd,bGe=j0,yGe=hGe,DD=gGe([].push),C$=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,s=e===5||o;return function(l,c,u,f){for(var d=vGe(l),h=mGe(d),p=bGe(h),g=pGe(c,u),m=0,v=f||yGe,b=t?v(l,p):r||a?v(l,0):void 0,y,w;p>m;m++)if((s||m in h)&&(y=h[m],w=g(y,m,d),e))if(t)b[m]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:DD(b,y)}else switch(e){case 4:return!1;case 7:DD(b,y)}return o?-1:n||i?i:b}},LW={forEach:C$(0),find:C$(5),findIndex:C$(6)},$Ge=gt,LD=iGe,qh=DW.getWeakData,wGe=YT,xGe=Jn,SGe=wc,E$=jr,kGe=W0,NW=LW,ND=Cn,RW=vd,OGe=RW.set,TGe=RW.getterFor,CGe=NW.find,EGe=NW.findIndex,MGe=$Ge([].splice),AGe=0,Yh=function(e){return e.frozen||(e.frozen=new FW)},FW=function(){this.entries=[]},M$=function(e,t){return CGe(e.entries,function(r){return r[0]===t})};FW.prototype={get:function(e){var t=M$(this,e);if(t)return t[1]},has:function(e){return!!M$(this,e)},set:function(e,t){var r=M$(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=EGe(this.entries,function(r){return r[0]===e});return~t&&MGe(this.entries,t,1),!!~t}};var IGe={getConstructor:function(e,t,r,n){var i=e(function(l,c){wGe(l,o),OGe(l,{type:t,id:AGe++,frozen:void 0}),SGe(c)||kGe(c,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,a=TGe(t),s=function(l,c,u){var f=a(l),d=qh(xGe(c),!0);return d===!0?Yh(f).set(c,u):d[f.id]=u,l};return LD(o,{delete:function(l){var c=a(this);if(!E$(l))return!1;var u=qh(l);return u===!0?Yh(c).delete(l):u&&ND(u,c.id)&&delete u[c.id]},has:function(c){var u=a(this);if(!E$(c))return!1;var f=qh(c);return f===!0?Yh(u).has(c):f&&ND(f,u.id)}}),LD(o,r?{get:function(c){var u=a(this);if(E$(c)){var f=qh(c);return f===!0?Yh(u).get(c):f?f[u.id]:void 0}},set:function(c,u){return s(this,c,u)}}:{add:function(c){return s(this,c,!0)}}),i}},PGe=rGe,_Ge=IGe;PGe("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},_Ge);var jW={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DGe=I0,A$=DGe("span").classList,RD=A$&&A$.constructor&&A$.constructor.prototype,BW=RD===Object.prototype?void 0:RD,FD=Pt,zW=jW,LGe=BW,Su=VWe,jD=md,NGe=yd,RGe=$r,I$=RGe("iterator"),P$=Su.values,HW=function(e,t){if(e){if(e[I$]!==P$)try{jD(e,I$,P$)}catch{e[I$]=P$}if(NGe(e,t,!0),zW[t]){for(var r in Su)if(e[r]!==Su[r])try{jD(e,r,Su[r])}catch{e[r]=Su[r]}}}};for(var _$ in zW)HW(FD[_$]&&FD[_$].prototype,_$);HW(LGe,"DOMTokenList");var FGe=LW.forEach,jGe=dW,BGe=jGe("forEach"),zGe=BGe?[].forEach:function(t){return FGe(this,t,arguments.length>1?arguments[1]:void 0)},BD=Pt,zD=jW,HGe=BW,D$=zGe,UGe=md,UW=function(e){if(e&&e.forEach!==D$)try{UGe(e,"forEach",D$)}catch{e.forEach=D$}};for(var L$ in zD)zD[L$]&&UW(BD[L$]&&BD[L$].prototype);UW(HGe);var VGe=Mn,WGe=gd,VW=KT,KGe=It,GGe=KGe(function(){VW(1)});VGe({target:"Object",stat:!0,forced:GGe},{keys:function(t){return VW(WGe(t))}});function Hi(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var HD;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(HD||(HD={}));var li;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})(li||(li={}));function qGe(e){return e==="left"||e==="right"}function UD(e){return e==="top"||e==="bottom"}function YGe(e){return e[li.LEFT]+e[li.RIGHT]}function JGe(e){return e[li.TOP]+e[li.BOTTOM]}var Ln,WW,KW,GW,qW,VD,N$,R$,F$=".ch-plugin-calendar-label",WD={enabled:!0,dimensions:{width:0,height:0},position:"left",text:function(){return[]},padding:[0,0,0,0]},XGe=(function(){function e(t){k9e(this,e);var r,n;Ln.add(this),this.name="CalendarLabel";var i=(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.options)===null||n===void 0?void 0:n.subDomain;this.calendar=t,this.root=null,this.shown=!1,this.options=WD,this.computedOptions={radius:i==null?void 0:i.radius,width:i==null?void 0:i.width,height:i==null?void 0:i.height,gutter:i==null?void 0:i.gutter,textAlign:"start"}}return T9e(e,[{key:"setup",value:function(r){this.options=Object.assign(Object.assign({},WD),r)}},{key:"paint",value:function(){var r=this.options.enabled;if(!r)return this.destroy();this.shown=!0;var n=this.calendar.calendarPainter.root;return this.root||(this.root=n.append("svg").attr("class",F$.slice(1)).attr("data-key",this.options.key).attr("x",0).attr("y",0)),this.build(),Promise.resolve()}},{key:"destroy",value:function(){return this.root!==null&&(this.root.remove(),this.root=null),Promise.resolve()}},{key:"build",value:function(){var r=this;return Hi(this,Ln,"m",WW).call(this),Hi(this,Ln,"m",KW).call(this),this.root.selectAll("g").data(this.options.text).join(function(n){return n.append("g").call(function(i){return i.append("rect").attr("class","".concat(F$.slice(1),"-bg")).attr("style","fill: transparent").call(function(o){return Hi(r,Ln,"m",GW).call(r,o)})}).call(function(i){return i.append("text").attr("class","".concat(F$.slice(1),"-text")).attr("dominant-baseline","central").attr("text-anchor","middle").attr("style","fill: currentColor; font-size: 10px").call(function(o){return Hi(r,Ln,"m",qW).call(r,o)})})}),Promise.resolve()}}]),e})();Ln=new WeakSet,WW=function(){var t=this;Object.keys(this.computedOptions).forEach(function(r){typeof t.options[r]<"u"&&(t.computedOptions[r]=t.options[r])})},KW=function(){var t=this.computedOptions,r=t.width,n=t.height,i=t.gutter,o=this.options,a=o.text,s=o.padding,l=o.position,c=a().length;this.options.dimensions={width:r+YGe(s),height:n+JGe(s)},UD(l)?this.options.dimensions.width+=(r+i)*(c-1):this.options.dimensions.height+=(n+i)*(c-1)},GW=function(t){var r=this,n=this.computedOptions,i=n.width,o=n.height,a=n.radius;t.attr("width",i).attr("height",o).attr("rx",a&&a>0?a:null).attr("ry",a&&a>0?a:null).attr("x",function(s,l){return Hi(r,Ln,"m",N$).call(r,l)}).attr("y",function(s,l){return Hi(r,Ln,"m",R$).call(r,l)})},qW=function(t){var r=this,n=this.computedOptions,i=n.height,o=n.textAlign;t.attr("text-anchor",o).attr("x",function(a,s){return Hi(r,Ln,"m",VD).call(r)+Hi(r,Ln,"m",N$).call(r,s)}).attr("y",function(a,s){return Hi(r,Ln,"m",R$).call(r,s)+i/2}).text(function(a){return a})},VD=function(){var t=this.computedOptions,r=t.width,n=t.textAlign;switch(n){case"start":return 0;case"middle":return r/2;case"end":return r;default:return 0}},N$=function(t){var r=this.options,n=r.position,i=r.padding,o=this.computedOptions,a=o.width,s=o.gutter;return qGe(n)?i[li.LEFT]:i[li.LEFT]+(a+s)*t},R$=function(t){var r=this.options,n=r.position,i=r.padding,o=this.computedOptions,a=o.height,s=o.gutter;return UD(n)?i[li.TOP]:i[li.TOP]+(a+s)*t};function QGe(e){const t=e.match(/rgba?\(([^)]+)\)/i);if(t){const i=t[1].split(",").map(o=>o.trim());return i.length===4?parseFloat(i[3]):1}const r=e.match(/hsla?\(([^)]+)\)/i);if(r){const i=r[1].split(",").map(o=>o.trim());return i.length===4?parseFloat(i[3]):1}const n=e.match(/oklch\(([^)]+)\)/i);if(n){const i=n[1].split(" "),o=i[i.length-1],a=parseFloat(o);return isNaN(a)?1:a}return 1}function ZGe(e){e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(r=>r+r).join(""));const t=parseInt(e,16);return[t>>16&255,t>>8&255,t&255]}function eqe(e,t){var a;const r=QGe(e);let n=0,i=0,o=0;if(t.startsWith("#"))[n,i,o]=ZGe(t);else if(t.startsWith("rgb"))[n,i,o]=((a=t.match(/rgba?\(([^)]+)\)/i))==null?void 0:a[1].split(",").map(l=>parseFloat(l.trim())))??[0,0,0];else return console.warn("Unsupported color format for newColor:",t),t;return`rgba(${n}, ${i}, ${o}, ${r})`}var tqe=W("<div class=top_strip>"),rqe=W('<div class><div class="p-5 overflow-auto"><div class="flex mb-4"><div class="ActivityButton1 border-2 border-border size-14 flex justify-center items-center">logo</div><div class="flex-1 px-4"><div class="activityTitle text-xl font-bold ">title</div><div class="activityDesc ">desc</div></div><div class="ActivityButton2 border-2 border-border size-14 flex justify-center items-center">logo</div></div><div class="border-2 border-border size-fit p-4 pb-0"></div><div><div class="overflow-hidden transition-[height] duration-300 ease-out w-full"><div class="p-4 flex items-center justify-between"><div></div><div id=controls class="flex flex-row items-center justify-center"><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-l-md activityChangers">-</div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2"></div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-r-md activityChangers">+');const YW=e=>{let t,r;const[n,i]=Y(!1),[o,a]=Y("string"),s=u=>{gY(e.id,o(),u)};let l;oe(()=>{const u=Object.entries(e.progress).map(([f,d])=>({date:f,value:d}));l==null||l.fill(u)}),oe(()=>{e.textColor,c()}),Vt(()=>{l=new uH,l.paint({itemSelector:t,domain:{type:"year",sort:"asc"},subDomain:{color:"var(--color-foreground)",type:"day",radius:0,width:15,height:15,label:function(u,f){return`${f??""}`},style:{stroke:"#ccc",strokeWidth:1}},range:1,start:new Date(2025,1),theme:"dark",scale:{color:{type:"linear",domain:[0,30],range:["transparent",e.textColor??"#f64a03"]}},data:{source:Object.entries(e.progress).map(([u,f])=>({date:u,value:f})),type:"json",x:"date",y:"value"}},[[S9e,{text:function(u,f,d){return(f?f+" times":"No data")+" on "+d.format("LL")}}],[XGe,{width:30,textAlign:"start",text:()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((u,f)=>f%2==0?"":u)}]]),l.on("click",(u,f,d)=>{i(!0),a(new Date(f).toISOString().split("T")[0]),console.log(new Date(f).toISOString().split("T")[0]+"/"+d)}),c()});const c=()=>{setTimeout(()=>{const u=Array.from(t.getElementsByClassName("ch-subdomain-bg")),f=e.textColor??"#f64a03";u.forEach(d=>{if(d.style.fill){const h=eqe(d.style.fill,f);d.style.strokeWidth="1px",d.style.stroke=f,d.style.fill=h}})},0)};return(()=>{var u=rqe(),f=u.firstChild,d=f.firstChild,h=d.nextSibling,p=h.nextSibling,g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=b.firstChild,w=y.nextSibling,$=w.nextSibling;B(u,M(Tt,{get when(){return e.top_strip_color},get children(){var T=tqe();return ee(D=>Z(T,"background",e.top_strip_color)),T}}),f);var x=t;typeof x=="function"?Ut(x,h):t=h;var O=r;return typeof O=="function"?Ut(O,g):r=g,B(v,o),y.$$click=()=>s(-1),B(w,()=>e.progress[o()]??0),$.$$click=()=>s(1),ee(T=>{var D={"border-2 border-border mt-4":n()},L=n()?`${(r==null?void 0:r.scrollHeight)??0}px`:"0px";return T.e=Ha(p,D,T.e),L!==T.t&&Z(g,"height",T.t=L),T},{e:void 0,t:void 0}),u})()};Ct(["click"]);var nqe=W("<div class=p-5>widget"),iqe=W("<div><div></div><div>"),oqe=W("<div>"),aqe=W("<div>Not Found"),sqe=W("<object type=application/pdf width=100% height=600px><div>No PDF viewer available"),lqe=W("<div>Loading PDF...");const JW=e=>{const[t,r]=Y("");function n(i){let o="";for(let s=0;s<i.length;s+=32768){const l=i.subarray(s,s+32768);o+=String.fromCharCode(...l)}return btoa(o)}return Vt(async()=>{try{const i=await EL(e.path,{baseDir:Ir.Document}),a=`data:application/pdf;base64,${n(new Uint8Array(i))}`;r(a)}catch(i){console.error("Failed to load PDF:",i),r("")}}),(()=>{var i=oqe();return B(i,M(sc,{get fallback(){return aqe()},get children(){return[M(Fe,{get when(){return e.docType==="widget"},get children(){return nqe()}}),M(Fe,{get when(){return e.docType==="card"},children:"test1"}),M(Fe,{get when(){return e.docType==="reader"},get children(){var o=iqe(),a=o.firstChild,s=a.nextSibling;return B(a,(()=>{var l=pt(()=>!!t());return()=>l()?(()=>{var c=sqe();return ee(()=>z(c,"data",t())),c})():lqe()})()),B(s,()=>e.path.split("/")[1]),o}})]}})),i})()};var cqe=W('<div class="content flex flex-col p-2"><div class="collapse_icon self-end w-6 h-6 collapse_icon cursor-pointer flex justify-center items-center hover:bg-background/40 border border-transparent hover:border-border opacity-0 group-hover/collapse:opacity-100 pointer-events-none group-hover/collapse:pointer-events-auto transition-all duration-200 ease-in-out"></div><div class="title text-xl font-extrabold mb-2 text-center focus:outline-0"></div><div class="subtitle mb-4 text-center">subtitle</div><div class="children_container flex flex-col">'),uqe=W('<div class="empty_children_containe h-[65px] w-full bg-gray-950">'),fqe=W('<div class="column_spacer pt-2 bg-transparent">'),dqe=W("<div>Not Found");const hqe=e=>{const[t,r]=Y(!1);let n;const i=aS(s=>{console.log("Debounced update:",s),pY(e.id,s)},300),o=()=>{const s=(n==null?void 0:n.innerText)||"";i(s)},a=s=>{s.key==="Enter"&&s.preventDefault()};return(()=>{var s=cqe(),l=s.firstChild,c=l.nextSibling,u=c.nextSibling,f=u.nextSibling;B(l,M(yN,{width:16,height:16,classes:"",icon_name:"collapse"})),c.$$keydown=a,c.$$input=o,c.addEventListener("blur",()=>r(!1)),c.$$click=()=>{r(!0),le("selectedNodes",new Set)};var d=n;return typeof d=="function"?Ut(d,c):n=c,B(c,()=>e.title),Z(f,"position","relative"),B(f,M(Tt,{get when(){return pt(()=>!!F.nodes[e.id])()&&F.nodes[e.id].length>0},get fallback(){return uqe()},get children(){return M(yt,{get each(){return F.nodes[e.id]},children:(h,p)=>[pt(()=>pt(()=>h.type===ie.Board)()?M(t8,ye(h,{is_child:!0})):M(a7,{node:h,isChildNode:!0,get children(){return M(sc,{get fallback(){return dqe()},get children(){return[M(Fe,{get when(){return h.type===ie.Note},get children(){return M(Y6,h)}}),M(Fe,{get when(){return h.type===ie.Todo},get children(){return M(Z6,h)}}),M(Fe,{get when(){return h.type===ie.Url},get children(){return M(e8,h)}}),M(Fe,{get when(){return h.type===ie.Table},get children(){return M(i7,h)}}),M(Fe,{get when(){return h.type===ie.Image},get children(){return M(o7,h)}}),M(Fe,{get when(){return h.type===ie.Color},get children(){return M(s7,h)}}),M(Fe,{get when(){return h.type===ie.Activity},get children(){return M(YW,h)}}),M(Fe,{get when(){return h.type===ie.Document},get children(){return M(JW,h)}})]}})}})),M(Tt,{get when(){return p()<F.nodes[e.id].length-1},get children(){return fqe()}})]})}})),ee(h=>{var p=!!t(),g=t(),m=t()?"text":"";return p!==h.e&&c.classList.toggle("titleHandle",h.e=p),g!==h.t&&z(c,"contenteditable",h.t=g),m!==h.a&&Z(c,"cursor",h.a=m),h},{e:void 0,t:void 0,a:void 0}),s})()};Ct(["click","input","keydown"]);var pqe=W("<div id=nodes class=bg-red-600>"),gqe=W("<div>"),mqe=W("<div>Not Found");const vqe=()=>{let e;return Vt(()=>{setTimeout(()=>{let t=0,r=0;const n=Array.from(e.getElementsByClassName("node"));console.log(n),n.forEach(i=>{const o=i.getBoundingClientRect();i.id==="block_10"&&(console.log("==================="),console.log("==================="),console.log("==================="),console.log("==================="),console.log(o)),o.x+o.width>t&&(t=Math.round((o.x+o.width+50)/10)*10),o.y+o.height>r&&(r=Math.round((o.y+o.height+50)/10)*10)}),console.log("changing viewport size to:",t,r),le("viewport",{width:t,height:r})},1e3)}),(()=>{var t=pqe(),r=e;return typeof r=="function"?Ut(r,t):e=t,B(t,M(yt,{get each(){var n;return F.nodes[((n=F.activeBoards.at(-1))==null?void 0:n.id)??"home"]},children:n=>(()=>{var i=gqe();return B(i,(()=>{var o=pt(()=>n.type===ie.Board);return()=>o()?M(t8,n):M(a7,{node:n,get children(){return M(sc,{get fallback(){return mqe()},get children(){return[M(Fe,{get when(){return n.type===ie.Column},get children(){return M(hqe,n)}}),M(Fe,{get when(){return n.type===ie.Note},get children(){return M(Y6,n)}}),M(Fe,{get when(){return n.type===ie.Todo},get children(){return M(Z6,n)}}),M(Fe,{get when(){return n.type===ie.Url},get children(){return M(e8,n)}}),M(Fe,{get when(){return n.type===ie.Table},get children(){return M(i7,n)}}),M(Fe,{get when(){return n.type===ie.Image},get children(){return M(o7,n)}}),M(Fe,{get when(){return n.type===ie.Color},get children(){return M(s7,n)}}),M(Fe,{get when(){return n.type===ie.Activity},get children(){return M(YW,n)}}),M(Fe,{get when(){return n.type===ie.Document},get children(){return M(JW,n)}})]}})}})})()),i})()})),t})()};var bqe=W("<div id=pan>/");const yqe=e=>{const[t,r]=Y(!1);let n={x:0,y:0};const i=l=>{(l.which===2||l.ctrlKey)&&(l.preventDefault(),r(!0),n={x:l.clientX,y:l.clientY})},o=l=>{if(t()){const c=l.clientX-n.x,u=l.clientY-n.y;F.viewport.x+c<=500*F.viewport.scale?le("viewport","x",f=>f+c):le("viewport","x",500*F.viewport.scale),F.viewport.y+u<=500*F.viewport.scale?le("viewport","y",f=>f+u):le("viewport","y",500*F.viewport.scale),n={x:l.clientX,y:l.clientY}}},a=l=>{r(!1)},s=l=>{};return(()=>{var l=bqe(),c=l.firstChild;return l.addEventListener("wheel",s),l.$$mouseup=a,l.$$mousemove=o,l.$$mousedown=i,Z(l,"width","100%"),Z(l,"height","100%"),Z(l,"position","absolute"),Z(l,"top","0"),Z(l,"left","0"),B(l,()=>F.viewport.x,c),B(l,()=>F.viewport.y,null),B(l,()=>e.children,null),l})()};Ct(["mousedown","mousemove","mouseup"]);var $qe=W('<div class id=viewport style=z-index:1><div class id=viewport-content style="transform-origin:50% 50%;min-height:100%;min-width:100%">');const wqe=e=>(Vt(async()=>{oe(()=>{F.nodes})}),(()=>{var t=$qe(),r=t.firstChild;return Z(t,"position","absolute"),Z(t,"top","0"),Z(t,"left","0"),Z(t,"width","100%"),Z(t,"height","100%"),Z(t,"overflow","auto"),r.$$dblclick=n=>{n.target===n.currentTarget&&(console.log("canvas double click"),n.stopPropagation())},r.$$click=n=>{console.log("canvas click"),console.log(n.target,n.currentTarget),n.target===n.currentTarget&&(console.log("canvas click"),n.stopPropagation(),le("selectedNodes",new Set),le("showColorMenu",!1))},Z(r,"transition","all 0.2s ease-out"),B(r,()=>e.children),ee(n=>{var i=`translate(${F.viewport.x}px, ${F.viewport.y}px) scale(${F.viewport.scale})`,o=F.viewport.width?`${F.viewport.width}px`:"100%",a=F.viewport.height?`${F.viewport.height}px`:"100%";return i!==n.e&&Z(r,"transform",n.e=i),o!==n.t&&Z(r,"width",n.t=o),a!==n.a&&Z(r,"height",n.a=a),n},{e:void 0,t:void 0,a:void 0}),t})());Ct(["click","dblclick"]);var xqe=W("<div id=zoom>");const Sqe=e=>{let t;const r=async n=>{if(n.ctrlKey){n.preventDefault();let i=F.viewport.scale;if(n.deltaY>0){if(i<=.7)return;i-=.1}else{if(i>=1.5)return;i+=.1}le("viewport",{scale:i})}};return(()=>{var n=xqe();n.addEventListener("wheel",r);var i=t;return typeof i=="function"?Ut(i,n):t=n,B(n,()=>e.children),n})()};var kqe=W("<div id=wrapper>");const Oqe=()=>(()=>{var e=kqe();return B(e,M(cX,{}),null),B(e,M(AX,{get children(){return M(Sqe,{get children(){return M(yqe,{get children(){return[M(wqe,{get children(){return[M(vqe,{}),M(kX,{})]}}),M(PX,{}),M(gX,{})]}})}})}}),null),e})();var Tqe=W('<div id=main class="relative h-full w-[calc(100%-65px)] overflow-hidden">');const Cqe=async()=>{const e=await qq();e&&(le("nodes",(e==null?void 0:e.nodes)??[]),le("edges",(e==null?void 0:e.edges)??[]))},Eqe=()=>(Vt(async()=>{await Cqe()}),(()=>{var e=Tqe();return B(e,M(Oqe,{})),e})());var Mqe=W('<div class="h-full overflow-hidden w-[65px] p-4 bg-card"><div class="flex flex-col space-y-4 overflow-x-visible relative">'),Aqe=W('<div class="absolute bg-card z-50 pointer-events-none w-[300px] p-5">New Note'),Iqe=W("<div>Loading..."),Pqe=W('<div class="icon rounded-md cursor-pointer flex flex-col justify-center items-center transition duration-200 ease-out hover:translate-x-2 z-10"><div class></div><span class=text-sm>');const _qe=[{name:"note",width:32,height:24},{name:"todo",width:32,height:24},{name:"comment",width:32,height:24},{name:"table",width:32,height:24},{name:"url",width:32,height:24},{name:"arrow",width:32,height:32},{name:"board",width:32,height:32},{name:"column",width:32,height:32},{name:"code",width:24,height:24},{name:"document",width:26,height:32},{name:"upload",width:32,height:32},{name:"drawing",width:32,height:32},{name:"sketch",width:32,height:24},{name:"color",width:28,height:32},{name:"image",width:32,height:32},{name:"activity",width:32,height:32}],Dqe=e=>t=>{t.preventDefault(),ZW(e),XW(!0),QW({x:t.clientX,y:t.clientY}),window.addEventListener("mousemove",lC),window.addEventListener("mouseup",cC)},[Lqe,XW]=Y(!1),[Im,QW]=Y({x:0,y:0}),[Nqe,ZW]=Y(null),lC=e=>{QW({x:e.clientX,y:e.clientY})},cC=()=>{uY(Rqe(Nqe()??""),Im().x,Im().y),XW(!1),ZW(null),window.removeEventListener("mousemove",lC),window.removeEventListener("mouseup",cC)},Rqe=e=>{switch(console.log("PPPPPPPPPPPPPPPPPPPPPPPP"),console.log(e),e){case"note":return ie.Note;case"todo":return ie.Todo;case"comment":return ie.Comment;case"table":return ie.Table;case"url":return ie.Url;case"arrow":return ie.Arrow;case"board":return ie.Board;case"column":return ie.Column;case"code":return ie.Code;case"document":return ie.Document;case"upload":return ie.Upload;case"drawing":return ie.Drawing;case"sketch":return ie.Sketch;case"color":return ie.Color;case"image":return ie.Image;case"activity":return ie.Activity;default:throw new Error(`Unsupported node type: ${e}`)}},Fqe=()=>(be(()=>{window.removeEventListener("mousemove",lC),window.removeEventListener("mouseup",cC)}),[(()=>{var e=Mqe(),t=e.firstChild;return B(t,M(yt,{each:_qe,get fallback(){return Iqe()},children:r=>(()=>{var n=Pqe(),i=n.firstChild,o=i.nextSibling;return sa(n,"mousedown",Dqe(r.name),!0),B(n,M(yN,{get width(){return r.width},get height(){return r.height},classes:"",get icon_name(){return r.name}}),i),B(o,()=>r.name),n})()})),e})(),M(Jx,{get children(){var e=Aqe();return ee(t=>{var r=Lqe()?"block":"none",n=`${Im().y}px`,i=`${Im().x}px`;return r!==t.e&&Z(e,"display",t.e=r),n!==t.t&&Z(e,"top",t.t=n),i!==t.a&&Z(e,"left",t.a=i),t},{e:void 0,t:void 0,a:void 0}),e}})]);Ct(["mousedown"]);var jqe=W('<div class="h-full overflow-hidden w-[65px] py-4 flex justify-center bg-card"><div class="flex flex-col space-y-4 relative"><div class="h-full overflow-hidden space-y-2">'),Bqe=W("<div>Loading..."),zqe=W('<div><button class="icon rounded cursor-pointer flex flex-col justify-center items-center z-10 bg-accent aspect-square hover:bg-muted-foreground transition-colors duration-150 ease-in-out"><div class="flex flex-col size-full p-2">');const Hqe=[{name:"bold",icon:fq},{name:"italic",icon:xq},{name:"underline",icon:Iq},{name:"strike",icon:Aq},{name:"paragraph",icon:Tq},{name:"header 1",icon:mq,attrs:{level:1}},{name:"header 2",icon:vq,attrs:{level:2}},{name:"header 3",icon:bq,attrs:{level:3}},{name:"header 4",icon:yq,attrs:{level:4}},{name:"header 5",icon:$q,attrs:{level:5}},{name:"header 6",icon:wq,attrs:{level:6}},{name:"list",icon:kq},{name:"numberedList",icon:Sq},{name:"codeBlock",icon:CL},{name:"blockQuote",icon:uq},{name:"verticalRule",icon:Mq},{name:"alignLeft",icon:sq},{name:"alignCenter",icon:oq},{name:"alignRight",icon:lq},{name:"alignJustify",icon:aq}],Uqe=()=>(()=>{var e=jqe(),t=e.firstChild,r=t.firstChild;return B(r,M(yt,{each:Hqe,get fallback(){return Bqe()},children:n=>(()=>{var i=zqe(),o=i.firstChild,a=o.firstChild;return o.$$click=()=>{const s=F.noteEditor;s&&Vqe(s,n.name)},B(a,M(n.icon,{})),ee(()=>o.classList.toggle("bg-primary",!!(F.noteEditor&&Wqe(F.noteEditor,n.name)))),i})()})),e})(),Vqe=(e,t)=>{switch(t){case"bold":e.chain().focus().toggleBold().run();break;case"italic":e.chain().focus().toggleItalic().run();break;case"underline":e.chain().focus().toggleUnderline().run();break;case"strike":e.chain().focus().toggleStrike().run();break;case"paragraph":e.chain().focus().setParagraph().run();break;case"header 1":e.chain().focus().toggleHeading({level:1}).run();break;case"header 2":e.chain().focus().toggleHeading({level:2}).run();break;case"header 3":e.chain().focus().toggleHeading({level:3}).run();break;case"header 4":e.chain().focus().toggleHeading({level:4}).run();break;case"header 5":e.chain().focus().toggleHeading({level:5}).run();break;case"header 6":e.chain().focus().toggleHeading({level:6}).run();break;case"list":e.chain().focus().toggleBulletList().run();break;case"numberedList":e.chain().focus().toggleOrderedList().run();break;case"codeBlock":e.chain().focus().toggleCodeBlock().run();break;case"blockQuote":e.chain().focus().toggleBlockquote().run();break;case"verticalRule":e.chain().focus().setHorizontalRule().run();break;case"alignLeft":e.chain().focus().setTextAlign("left").run();break;case"alignCenter":e.chain().focus().setTextAlign("center").run();break;case"alignRight":e.chain().focus().setTextAlign("right").run();break;case"alignJustify":e.chain().focus().setTextAlign("justify").run();break;default:console.warn("Unhandled action:",t)}},Wqe=(e,t)=>{switch(t){case"bold":return F.activeTags.includes("strong")||F.activeTags.includes("b");case"italic":return F.activeTags.includes("em")||F.activeTags.includes("i");case"underline":return F.activeTags.includes("u");case"strike":return F.activeTags.includes("s")||F.activeTags.includes("del");case"paragraph":return F.activeTags.includes("p");case"header 1":return F.activeTags.includes("h1");case"header 2":return F.activeTags.includes("h2");case"header 3":return F.activeTags.includes("h3");case"header 4":return F.activeTags.includes("h4");case"header 5":return F.activeTags.includes("h5");case"header 6":return F.activeTags.includes("h6");case"list":return F.activeTags.includes("ul");case"numberedList":return F.activeTags.includes("ol");case"codeBlock":return F.activeTags.includes("pre");case"blockQuote":return F.activeTags.includes("blockquote");case"verticalRule":return F.activeTags.includes("hr");case"alignLeft":return!1;case"alignCenter":return!1;case"alignRight":return!1;case"alignJustify":return!1;default:return console.warn("Unhandled action:",t),!1}};Ct(["click"]);var Kqe=W('<div class="h-full overflow-hidden w-[65px] p-4 bg-card "><div class="flex group/hov flex-col space-y-4 overflow-x-visible relative transition duration-200 ease-out hover:translate-x-2 cursor-pointer "><div><div class="icon rounded flex flex-col justify-center items-center z-10 bg-accent aspect-square group-hover/hov:bg-red-500"><div class="flex flex-col size-full p-2"><div class="border-b-0 h-1/6 w-full"></div><div class="h-5/6 w-full flex items-center justify-center">A</div></div></div><p class="text-sm text-center">colors');oe(()=>{console.log(F.selectedNodes),F.selectedNodes.size===0?le("activeSidebar","nodes"):le("activeSidebar","nodeStyles")});const Gqe=()=>{const[e,t]=Y("#EC4899"),[r,n]=Y("#8B5CF6"),[i,o]=Y("#8B5CF6"),a=()=>{const s=F.selectedNodes.values().next().value;if(s){const l=Qr(s);t((l==null?void 0:l.color)??"#444444"),n((l==null?void 0:l.top_strip_color)??"#333333"),o((l==null?void 0:l.textColor)??getComputedStyle(document.documentElement).getPropertyValue("--color-foreground").trim())}};return oe(()=>{(F.selectedNodes.size===1||F.selectedNodes.size>1)&&a()}),(()=>{var s=Kqe(),l=s.firstChild,c=l.firstChild,u=c.firstChild,f=u.firstChild,d=f.firstChild,h=d.nextSibling;return l.$$click=()=>le("showColorMenu",!F.showColorMenu),ee(p=>{var g=r(),m=e(),v=i()??"var(--color-foreground)";return g!==p.e&&Z(d,"background",p.e=g),m!==p.t&&Z(h,"background",p.t=m),v!==p.a&&Z(h,"color",p.a=v),p},{e:void 0,t:void 0,a:void 0}),s})()};Ct(["click"]);var qqe=W('<div class="flex overflow-hidden h-full w-[65px] border-r border-border"><div class="w-[65px] h-full transition-transform duration-300 ease-in-out"></div><div class="w-[65px] h-full transition-transform duration-300 ease-in-out"></div><div class="w-[65px] h-full transition-transform duration-300 ease-in-out">');oe(()=>{console.info("store value serelcterd nodes is changed")});const Yqe=()=>(()=>{var e=qqe(),t=e.firstChild,r=t.nextSibling,n=r.nextSibling;return B(t,M(Fqe,{})),B(r,M(Uqe,{})),B(n,M(Gqe,{})),ee(i=>{var o=F.activeSidebar==="nodes",a=F.activeSidebar=="noteStyles",s=F.activeSidebar=="nodeStyles",l=F.activeSidebar==="noteStyles",c=F.activeSidebar==="nodeStyles",u=F.activeSidebar!=="nodeStyles";return o!==i.e&&t.classList.toggle("translate-x-0",i.e=o),a!==i.t&&t.classList.toggle("-translate-x-full",i.t=a),s!==i.a&&t.classList.toggle("translate-x-full",i.a=s),l!==i.o&&r.classList.toggle("-translate-x-full",i.o=l),c!==i.i&&n.classList.toggle("-translate-x-[200%]",i.i=c),u!==i.n&&n.classList.toggle("-translate-x-[300%]",i.n=u),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),e})();var Jqe=W('<div id=app class="size-full overflow-hidden flex flex-col"><div id=center class="flex flex-row size-full overflow-hidden">');function Xqe(){return(()=>{var e=Jqe(),t=e.firstChild;return B(e,M(Rq,{}),t),B(t,M(Yqe,{}),null),B(t,M(Eqe,{}),null),e})()}AK(()=>M(Xqe,{}),document.getElementById("root"))});export default Qqe();
