var eK=Object.defineProperty;var tK=(e,t,r)=>t in e?eK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rK=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var R=(e,t,r)=>tK(e,typeof t!="symbol"?t+"":t,r);var Xqe=rK((qr,Qr)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const Ce={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return fk(this.context.count)},getNextContextId(){return fk(this.context.count++)}};function fk(e){const t=String(e),r=t.length-1;return Ce.context.id+(r?String.fromCharCode(96+r):"")+t}function iu(e){Ce.context=e}const nK=!1,iK=(e,t)=>e===t,zn=Symbol("solid-proxy"),K_=typeof Proxy=="function",Lp=Symbol("solid-track"),Rp={equals:iK};let G_=J_;const co=1,Bp=2,q_={owned:null,cleanups:null,context:null,owner:null};var Fe=null;let K0=null,oK=null,Ze=null,sr=null,jn=null,Pm=0;function Ho(e,t){const r=Ze,n=Fe,i=e.length===0,o=t===void 0?n:t,a=i?q_:{owned:null,cleanups:null,context:o?o.context:null,owner:o},s=i?e:()=>e(()=>De(()=>qu(a)));Fe=a,Ze=null;try{return $s(s,!0)}finally{Ze=r,Fe=n}}function Q(e,t){t=t?Object.assign({},Rp,t):Rp;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(r.value)),Y_(r,i));return[Q_.bind(r),n]}function aK(e,t,r){const n=_m(e,t,!0,co);oc(n)}function ee(e,t,r){const n=_m(e,t,!1,co);oc(n)}function oe(e,t,r){G_=dK;const n=_m(e,t,!1,co),i=Fp&&rn(Fp);i&&(n.suspense=i),(!r||!r.render)&&(n.user=!0),jn?jn.push(n):oc(n)}function me(e,t,r){r=r?Object.assign({},Rp,r):Rp;const n=_m(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,oc(n),Q_.bind(n)}function Bi(e){return $s(e,!1)}function De(e){if(Ze===null)return e();const t=Ze;Ze=null;try{return e()}finally{Ze=t}}function hi(e,t,r){const n=Array.isArray(e);let i,o=r&&r.defer;return a=>{let s;if(n){s=Array(e.length);for(let c=0;c<e.length;c++)s[c]=e[c]()}else s=e();if(o)return o=!1,a;const l=De(()=>t(s,i,a));return i=s,l}}function kt(e){oe(()=>De(e))}function be(e){return Fe===null||(Fe.cleanups===null?Fe.cleanups=[e]:Fe.cleanups.push(e)),e}function F$(){return Ze}function j$(){return Fe}function sK(e,t){const r=Fe,n=Ze;Fe=e,Ze=null;try{return $s(t,!0)}catch(i){qA(i)}finally{Fe=r,Ze=n}}function lK(e){jn.push.apply(jn,e),e.length=0}function tn(e,t){const r=Symbol("context");return{id:r,Provider:pK(r),defaultValue:e}}function rn(e){let t;return Fe&&Fe.context&&(t=Fe.context[e.id])!==void 0?t:e.defaultValue}function Dm(e){const t=me(e),r=me(()=>z$(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let Fp;function cK(){return Fp||(Fp=tn())}function Q_(){if(this.sources&&this.state)if(this.state===co)oc(this);else{const e=sr;sr=null,$s(()=>zp(this),!1),sr=e}if(Ze){const e=this.observers?this.observers.length:0;Ze.sources?(Ze.sources.push(this),Ze.sourceSlots.push(e)):(Ze.sources=[this],Ze.sourceSlots=[e]),this.observers?(this.observers.push(Ze),this.observerSlots.push(Ze.sources.length-1)):(this.observers=[Ze],this.observerSlots=[Ze.sources.length-1])}return this.value}function Y_(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&$s(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=K0&&K0.running;a&&K0.disposed.has(o),(a?!o.tState:!o.state)&&(o.pure?sr.push(o):jn.push(o),o.observers&&X_(o)),a||(o.state=co)}if(sr.length>1e6)throw sr=[],new Error},!1)),t}function oc(e){if(!e.fn)return;qu(e);const t=Pm;uK(e,e.value,t)}function uK(e,t,r){let n;const i=Fe,o=Ze;Ze=Fe=e;try{n=e.fn(t)}catch(a){return e.pure&&(e.state=co,e.owned&&e.owned.forEach(qu),e.owned=null),e.updatedAt=r+1,qA(a)}finally{Ze=o,Fe=i}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Y_(e,n):e.value=n,e.updatedAt=r)}function _m(e,t,r,n=co,i){const o={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Fe,context:Fe?Fe.context:null,pure:r};return Fe===null||Fe!==q_&&(Fe.owned?Fe.owned.push(o):Fe.owned=[o]),o}function jp(e){if(e.state===0)return;if(e.state===Bp)return zp(e);if(e.suspense&&De(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Pm);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===co)oc(e);else if(e.state===Bp){const n=sr;sr=null,$s(()=>zp(e,t[0]),!1),sr=n}}function $s(e,t){if(sr)return e();let r=!1;t||(sr=[]),jn?r=!0:jn=[],Pm++;try{const n=e();return fK(r),n}catch(n){r||(jn=null),sr=null,qA(n)}}function fK(e){if(sr&&(J_(sr),sr=null),e)return;const t=jn;jn=null,t.length&&$s(()=>G_(t),!1)}function J_(e){for(let t=0;t<e.length;t++)jp(e[t])}function dK(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:jp(n)}if(Ce.context){if(Ce.count){Ce.effects||(Ce.effects=[]),Ce.effects.push(...e.slice(0,r));return}iu()}for(Ce.effects&&(Ce.done||!Ce.count)&&(e=[...Ce.effects,...e],r+=Ce.effects.length,delete Ce.effects),t=0;t<r;t++)jp(e[t])}function zp(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const i=n.state;i===co?n!==t&&(!n.updatedAt||n.updatedAt<Pm)&&jp(n):i===Bp&&zp(n,t)}}}function X_(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Bp,r.pure?sr.push(r):jn.push(r),r.observers&&X_(r))}}function qu(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),i=r.observers;if(i&&i.length){const o=i.pop(),a=r.observerSlots.pop();n<i.length&&(o.sourceSlots[a]=n,i[n]=o,r.observerSlots[n]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)qu(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)qu(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function hK(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function qA(e,t=Fe){throw hK(e)}function z$(e){if(typeof e=="function"&&!e.length)return z$(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=z$(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function pK(e,t){return function(n){let i;return ee(()=>i=De(()=>(Fe.context={...Fe.context,[e]:n.value},Dm(()=>n.children))),void 0),i}}const gK=Symbol("fallback");function dk(e){for(let t=0;t<e.length;t++)e[t]()}function mK(e,t,r={}){let n=[],i=[],o=[],a=0,s=t.length>1?[]:null;return be(()=>dk(o)),()=>{let l=e()||[],c=l.length,u,f;return l[Lp],De(()=>{let h,p,g,m,v,b,y,w,$;if(c===0)a!==0&&(dk(o),o=[],n=[],i=[],a=0,s&&(s=[])),r.fallback&&(n=[gK],i[0]=Ho(A=>(o[0]=A,r.fallback())),a=1);else if(a===0){for(i=new Array(c),f=0;f<c;f++)n[f]=l[f],i[f]=Ho(d);a=c}else{for(g=new Array(c),m=new Array(c),s&&(v=new Array(c)),b=0,y=Math.min(a,c);b<y&&n[b]===l[b];b++);for(y=a-1,w=c-1;y>=b&&w>=b&&n[y]===l[w];y--,w--)g[w]=i[y],m[w]=o[y],s&&(v[w]=s[y]);for(h=new Map,p=new Array(w+1),f=w;f>=b;f--)$=l[f],u=h.get($),p[f]=u===void 0?-1:u,h.set($,f);for(u=b;u<=y;u++)$=n[u],f=h.get($),f!==void 0&&f!==-1?(g[f]=i[u],m[f]=o[u],s&&(v[f]=s[u]),f=p[f],h.set($,f)):o[u]();for(f=b;f<c;f++)f in g?(i[f]=g[f],o[f]=m[f],s&&(s[f]=v[f],s[f](f))):i[f]=Ho(d);i=i.slice(0,a=c),n=l.slice(0)}return i});function d(h){if(o[f]=h,s){const[p,g]=Q(f);return s[f]=g,t(l[f],p)}return t(l[f])}}}function T(e,t){return De(()=>e(t||{}))}function Ad(){return!0}const H$={get(e,t,r){return t===zn?r:e.get(t)},has(e,t){return t===zn?!0:e.has(t)},set:Ad,deleteProperty:Ad,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ad,deleteProperty:Ad}},ownKeys(e){return e.keys()}};function G0(e){return(e=typeof e=="function"?e():e)?e:{}}function vK(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function ye(...e){let t=!1;for(let a=0;a<e.length;a++){const s=e[a];t=t||!!s&&zn in s,e[a]=typeof s=="function"?(t=!0,me(s)):s}if(K_&&t)return new Proxy({get(a){for(let s=e.length-1;s>=0;s--){const l=G0(e[s])[a];if(l!==void 0)return l}},has(a){for(let s=e.length-1;s>=0;s--)if(a in G0(e[s]))return!0;return!1},keys(){const a=[];for(let s=0;s<e.length;s++)a.push(...Object.keys(G0(e[s])));return[...new Set(a)]}},H$);const r={},n=Object.create(null);for(let a=e.length-1;a>=0;a--){const s=e[a];if(!s)continue;const l=Object.getOwnPropertyNames(s);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const f=Object.getOwnPropertyDescriptor(s,u);if(!n[u])n[u]=f.get?{enumerable:!0,configurable:!0,get:vK.bind(r[u]=[f.get.bind(s)])}:f.value!==void 0?f:void 0;else{const d=r[u];d&&(f.get?d.push(f.get.bind(s)):f.value!==void 0&&d.push(()=>f.value))}}}const i={},o=Object.keys(n);for(let a=o.length-1;a>=0;a--){const s=o[a],l=n[s];l&&l.get?Object.defineProperty(i,s,l):i[s]=l?l.value:void 0}return i}function Ie(e,...t){if(K_&&zn in e){const i=new Set(t.length>1?t.flat():t[0]),o=t.map(a=>new Proxy({get(s){return a.includes(s)?e[s]:void 0},has(s){return a.includes(s)&&s in e},keys(){return a.filter(s=>s in e)}},H$));return o.push(new Proxy({get(a){return i.has(a)?void 0:e[a]},has(a){return i.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!i.has(a))}},H$)),o}const r={},n=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,i),a=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let s=!1,l=0;for(const c of t)c.includes(i)&&(s=!0,a?n[l][i]=o.value:Object.defineProperty(n[l],i,o)),++l;s||(a?r[i]=o.value:Object.defineProperty(r,i,o))}return[...n,r]}let bK=0;function ac(){return Ce.context?Ce.getNextContextId():`cl-${bK++}`}const Z_=e=>`Stale read from <${e}>.`;function yt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return me(mK(()=>e.each,e.children,t||void 0))}function Et(e){const t=e.keyed,r=me(()=>e.when,void 0,void 0),n=t?r:me(r,void 0,{equals:(i,o)=>!i==!o});return me(()=>{const i=n();if(i){const o=e.children;return typeof o=="function"&&o.length>0?De(()=>o(t?i:()=>{if(!De(n))throw Z_("Show");return r()})):o}return e.fallback},void 0,void 0)}function sc(e){const t=Dm(()=>e.children),r=me(()=>{const n=t(),i=Array.isArray(n)?n:[n];let o=()=>{};for(let a=0;a<i.length;a++){const s=a,l=i[a],c=o,u=me(()=>c()?void 0:l.when,void 0,void 0),f=l.keyed?u:me(u,void 0,{equals:(d,h)=>!d==!h});o=()=>c()||(f()?[s,u,l]:void 0)}return o});return me(()=>{const n=r()();if(!n)return e.fallback;const[i,o,a]=n,s=a.children;return typeof s=="function"&&s.length>0?De(()=>s(a.keyed?o():()=>{var c;if(((c=De(r)())==null?void 0:c[0])!==i)throw Z_("Match");return o()})):s},void 0,void 0)}function Be(e){return e}const yK=tn();function $K(e){let t=0,r,n,i,o,a;const[s,l]=Q(!1),c=cK(),u={increment:()=>{++t===1&&l(!0)},decrement:()=>{--t===0&&l(!1)},inFallback:s,effects:[],resolved:!1},f=j$();if(Ce.context&&Ce.load){const p=Ce.getContextId();let g=Ce.load(p);if(g&&(typeof g!="object"||g.s!==1?i=g:Ce.gather(p)),i&&i!=="$$f"){const[m,v]=Q(void 0,{equals:!1});o=m,i.then(()=>{if(Ce.done)return v();Ce.gather(p),iu(n),v(),iu()},b=>{a=b,v()})}}const d=rn(yK);d&&(r=d.register(u.inFallback));let h;return be(()=>h&&h()),T(c.Provider,{value:u,get children(){return me(()=>{if(a)throw a;if(n=Ce.context,o)return o(),o=void 0;n&&i==="$$f"&&iu();const p=me(()=>e.children);return me(g=>{const m=u.inFallback(),{showContent:v=!0,showFallback:b=!0}=r?r():{};if((!m||i&&i!=="$$f")&&v)return u.resolved=!0,h&&h(),h=n=i=void 0,lK(u.effects),p();if(b)return h?g:Ho(y=>(h=y,n&&(iu({id:n.id+"F",count:0}),n=void 0),e.fallback),f)})})}})}const wK=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],AK=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...wK]),xK=new Set(["innerHTML","textContent","innerText","children"]),SK=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),CK=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function EK(e,t){const r=CK[e];return typeof r=="object"?r[t]?r.$:void 0:r}const kK=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),eN=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),OK={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},pt=e=>me(()=>e());function TK(e,t,r){let n=r.length,i=t.length,o=n,a=0,s=0,l=t[i-1].nextSibling,c=null;for(;a<i||s<o;){if(t[a]===r[s]){a++,s++;continue}for(;t[i-1]===r[o-1];)i--,o--;if(i===a){const u=o<n?s?r[s-1].nextSibling:r[o-s]:l;for(;s<o;)e.insertBefore(r[s++],u)}else if(o===s)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===r[o-1]&&r[s]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(r[s++],t[a++].nextSibling),e.insertBefore(r[--o],u),t[i]=r[o]}else{if(!c){c=new Map;let f=s;for(;f<o;)c.set(r[f],f++)}const u=c.get(t[a]);if(u!=null)if(s<u&&u<o){let f=a,d=1,h;for(;++f<i&&f<o&&!((h=c.get(t[f]))==null||h!==u+d);)d++;if(d>u-s){const p=t[a];for(;s<u;)e.insertBefore(r[s++],p)}else e.replaceChild(r[s++],t[a++])}else a++;else t[a++].remove()}}}const hk="_$DX_DELEGATE";function IK(e,t,r,n={}){let i;return Ho(o=>{i=o,t===document?e():j(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{i(),t.textContent=""}}function W(e,t,r,n){let i;const o=()=>{const s=n?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return s.innerHTML=e,r?s.content.firstChild.firstChild:n?s.firstChild:s.content.firstChild},a=t?()=>De(()=>document.importNode(i||(i=o()),!0)):()=>(i||(i=o())).cloneNode(!0);return a.cloneNode=a,a}function Ot(e,t=window.document){const r=t[hk]||(t[hk]=new Set);for(let n=0,i=e.length;n<i;n++){const o=e[n];r.has(o)||(r.add(o),t.addEventListener(o,LK))}}function z(e,t,r){ws(e)||(r==null?e.removeAttribute(t):e.setAttribute(t,r))}function MK(e,t,r,n){ws(e)||(n==null?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,n))}function PK(e,t,r){ws(e)||(r?e.setAttribute(t,""):e.removeAttribute(t))}function Nr(e,t){ws(e)||(t==null?e.removeAttribute("class"):e.className=t)}function sa(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const i=r[0];e.addEventListener(t,r[0]=o=>i.call(e,r[1],o))}else e.addEventListener(t,r,typeof r!="function"&&r)}function Ha(e,t,r={}){const n=Object.keys(t||{}),i=Object.keys(r);let o,a;for(o=0,a=i.length;o<a;o++){const s=i[o];!s||s==="undefined"||t[s]||(pk(e,s,!1),delete r[s])}for(o=0,a=n.length;o<a;o++){const s=n[o],l=!!t[s];!s||s==="undefined"||r[s]===l||!l||(pk(e,s,!0),r[s]=l)}return r}function Nm(e,t,r){if(!t)return r?z(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),t||(t={});let i,o;for(o in r)t[o]==null&&n.removeProperty(o),delete r[o];for(o in t)i=t[o],i!==r[o]&&(n.setProperty(o,i),r[o]=i);return r}function Z(e,t,r){r!=null?e.style.setProperty(t,r):e.style.removeProperty(t)}function QA(e,t={},r,n){const i={};return n||ee(()=>i.children=Fl(e,t.children,i.children)),ee(()=>typeof t.ref=="function"&&Ut(t.ref,e)),ee(()=>tN(e,t,r,!0,i,!0)),i}function DK(e,t){const r=e[t];return Object.defineProperty(e,t,{get(){return r()},enumerable:!0}),e}function Ut(e,t,r){return De(()=>e(t,r))}function j(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return Fl(e,t,n,r);ee(i=>Fl(e,t(),i,r),n)}function tN(e,t,r,n,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=gk(e,a,null,i[a],r,o,t)}for(const a in t){if(a==="children"){n||Fl(e,t.children);continue}const s=t[a];i[a]=gk(e,a,s,i[a],r,o,t)}}function _K(e){let t,r;return!ws()||!(t=Ce.registry.get(r=RK()))?e():(Ce.completed&&Ce.completed.add(t),Ce.registry.delete(r),t)}function ws(e){return!!Ce.context&&!Ce.done&&(!e||e.isConnected)}function NK(e){return e.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function pk(e,t,r){const n=t.trim().split(/\s+/);for(let i=0,o=n.length;i<o;i++)e.classList.toggle(n[i],r)}function gk(e,t,r,n,i,o,a){let s,l,c,u,f;if(t==="style")return Nm(e,r,n);if(t==="classList")return Ha(e,r,n);if(r===n)return n;if(t==="ref")o||r(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);n&&e.removeEventListener(d,n,typeof n!="function"&&n),r&&e.addEventListener(d,r,typeof r!="function"&&r)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);n&&e.removeEventListener(d,n,!0),r&&e.addEventListener(d,r,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),h=kK.has(d);if(!h&&n){const p=Array.isArray(n)?n[0]:n;e.removeEventListener(d,p)}(h||r)&&(sa(e,d,r,h),h&&Ot([d]))}else if(t.slice(0,5)==="attr:")z(e,t.slice(5),r);else if(t.slice(0,5)==="bool:")PK(e,t.slice(5),r);else if((f=t.slice(0,5)==="prop:")||(c=xK.has(t))||!i&&((u=EK(t,e.tagName))||(l=AK.has(t)))||(s=e.nodeName.includes("-")||"is"in a)){if(f)t=t.slice(5),l=!0;else if(ws(e))return r;t==="class"||t==="className"?Nr(e,r):s&&!l&&!c?e[NK(t)]=r:e[u||t]=r}else{const d=i&&t.indexOf(":")>-1&&OK[t.split(":")[0]];d?MK(e,d,t,r):z(e,SK[t]||t,r)}return r}function LK(e){if(Ce.registry&&Ce.events&&Ce.events.find(([l,c])=>c===e))return;let t=e.target;const r=`$$${e.type}`,n=e.target,i=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),a=()=>{const l=t[r];if(l&&!t.disabled){const c=t[`${r}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},s=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),Ce.registry&&!Ce.done&&(Ce.done=_$HY.done=!0),e.composedPath){const l=e.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!a());c++){if(t._$host){t=t._$host,s();break}if(t.parentNode===i)break}}else s();o(n)}function Fl(e,t,r,n,i){const o=ws(e);if(o){!r&&(r=[...e.childNodes]);let l=[];for(let c=0;c<r.length;c++){const u=r[c];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():l.push(u)}r=l}for(;typeof r=="function";)r=r();if(t===r)return r;const a=typeof t,s=n!==void 0;if(e=s&&r[0]&&r[0].parentNode||e,a==="string"||a==="number"){if(o||a==="number"&&(t=t.toString(),t===r))return r;if(s){let l=r[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),r=zs(e,r,n,l)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||a==="boolean"){if(o)return r;r=zs(e,r,n)}else{if(a==="function")return ee(()=>{let l=t();for(;typeof l=="function";)l=l();r=Fl(e,l,r,n)}),()=>r;if(Array.isArray(t)){const l=[],c=r&&Array.isArray(r);if(V$(l,t,r,i))return ee(()=>r=Fl(e,l,r,n,!0)),()=>r;if(o){if(!l.length)return r;if(n===void 0)return r=[...e.childNodes];let u=l[0];if(u.parentNode!==e)return r;const f=[u];for(;(u=u.nextSibling)!==n;)f.push(u);return r=f}if(l.length===0){if(r=zs(e,r,n),s)return r}else c?r.length===0?mk(e,l,n):TK(e,r,l):(r&&zs(e),mk(e,l));r=l}else if(t.nodeType){if(o&&t.parentNode)return r=s?[t]:t;if(Array.isArray(r)){if(s)return r=zs(e,r,n,t);zs(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function V$(e,t,r,n){let i=!1;for(let o=0,a=t.length;o<a;o++){let s=t[o],l=r&&r[e.length],c;if(!(s==null||s===!0||s===!1))if((c=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))i=V$(e,s,l)||i;else if(c==="function")if(n){for(;typeof s=="function";)s=s();i=V$(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||i}else e.push(s),i=!0;else{const u=String(s);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function mk(e,t,r=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],r)}function zs(e,t,r,n){if(r===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const s=t[a];if(i!==s){const l=s.parentNode===e;!o&&!a?l?e.replaceChild(i,s):e.insertBefore(i,r):l&&s.remove()}else o=!0}}else e.insertBefore(i,r);return[i]}function RK(){return Ce.getNextContextId()}const BK="http://www.w3.org/2000/svg";function rN(e,t=!1,r=void 0){return t?document.createElementNS(BK,e):document.createElement(e,{is:r})}function YA(e){const{useShadow:t}=e,r=document.createTextNode(""),n=()=>e.mount||document.body,i=j$();let o,a=!!Ce.context;return oe(()=>{a&&(j$().user=a=!1),o||(o=sK(i,()=>me(()=>e.children)));const s=n();if(s instanceof HTMLHeadElement){const[l,c]=Q(!1),u=()=>c(!0);Ho(f=>j(s,()=>l()?f():o(),null)),be(u)}else{const l=rN(e.isSVG?"g":"div",e.isSVG),c=t&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return r.parentNode},configurable:!0}),j(c,o),s.appendChild(l),e.ref&&e.ref(l),be(()=>s.removeChild(l))}},void 0,{render:!a}),r}function FK(e,t){const r=me(e);return me(()=>{const n=r();switch(typeof n){case"function":return De(()=>n(t));case"string":const i=eN.has(n),o=Ce.context?_K():rN(n,i,De(()=>t.is));return QA(o,t,i),o}})}function nN(e){const[,t]=Ie(e,["component"]);return FK(()=>e.component,t)}function iN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=iN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function oN(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=iN(e))&&(n&&(n+=" "),n+=t);return n}const JA="-",jK=e=>{const t=HK(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const s=a.split(JA);return s[0]===""&&s.length!==1&&s.shift(),aN(s,t)||zK(a)},getConflictingClassGroupIds:(a,s)=>{const l=r[a]||[];return s&&n[a]?[...l,...n[a]]:l}}},aN=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?aN(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(JA);return(a=t.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},vk=/^\[(.+)\]$/,zK=e=>{if(vk.test(e)){const t=vk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},HK=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)U$(r[i],n,i,t);return n},U$=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:bk(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(VK(i)){U$(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{U$(a,bk(t,o),r,n)})})},bk=(e,t)=>{let r=e;return t.split(JA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},VK=e=>e.isThemeGetter,UK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},W$="!",K$=":",WK=K$.length,KK=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let a=0,s=0,l=0,c;for(let p=0;p<i.length;p++){let g=i[p];if(a===0&&s===0){if(g===K$){o.push(i.slice(l,p)),l=p+WK;continue}if(g==="/"){c=p;continue}}g==="["?a++:g==="]"?a--:g==="("?s++:g===")"&&s--}const u=o.length===0?i:i.substring(l),f=GK(u),d=f!==u,h=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const i=t+K$,o=n;n=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},GK=e=>e.endsWith(W$)?e.substring(0,e.length-1):e.startsWith(W$)?e.substring(1):e,qK=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(a=>{a[0]==="["||t[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},QK=e=>({cache:UK(e.cacheSize),parseClassName:KK(e),sortModifiers:qK(e),...jK(e)}),YK=/\s+/,JK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],s=e.trim().split(YK);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{isExternal:f,modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=r(u);if(f){l=u+(l.length>0?" "+l:l);continue}let m=!!g,v=n(m?p.substring(0,g):p);if(!v){if(!m){l=u+(l.length>0?" "+l:l);continue}if(v=n(p),!v){l=u+(l.length>0?" "+l:l);continue}m=!1}const b=o(d).join(":"),y=h?b+W$:b,w=y+v;if(a.includes(w))continue;a.push(w);const $=i(v,m);for(let A=0;A<$.length;++A){const C=$[A];a.push(y+C)}l=u+(l.length>0?" "+l:l)}return l};function XK(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=sN(t))&&(n&&(n+=" "),n+=r);return n}const sN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=sN(e[n]))&&(r&&(r+=" "),r+=t);return r};function ZK(e,...t){let r,n,i,o=a;function a(l){const c=t.reduce((u,f)=>f(u),e());return r=QK(c),n=r.cache.get,i=r.cache.set,o=s,s(l)}function s(l){const c=n(l);if(c)return c;const u=JK(l,r);return i(l,u),u}return function(){return o(XK.apply(null,arguments))}}const Ct=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},lN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eG=/^\d+\/\d+$/,tG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hs=e=>eG.test(e),Se=e=>!!e&&!Number.isNaN(Number(e)),wo=e=>!!e&&Number.isInteger(Number(e)),q0=e=>e.endsWith("%")&&Se(e.slice(0,-1)),Mi=e=>tG.test(e),aG=()=>!0,sG=e=>rG.test(e)&&!nG.test(e),uN=()=>!1,lG=e=>iG.test(e),cG=e=>oG.test(e),uG=e=>!te(e)&&!re(e),fG=e=>lc(e,hN,uN),te=e=>lN.test(e),Aa=e=>lc(e,pN,sG),Q0=e=>lc(e,mG,Se),yk=e=>lc(e,fN,uN),dG=e=>lc(e,dN,cG),xd=e=>lc(e,gN,lG),re=e=>cN.test(e),Cc=e=>cc(e,pN),hG=e=>cc(e,vG),$k=e=>cc(e,fN),pG=e=>cc(e,hN),gG=e=>cc(e,dN),Sd=e=>cc(e,gN,!0),lc=(e,t,r)=>{const n=lN.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},cc=(e,t,r=!1)=>{const n=cN.exec(e);return n?n[1]?t(n[1]):r:!1},fN=e=>e==="position"||e==="percentage",dN=e=>e==="image"||e==="url",hN=e=>e==="length"||e==="size"||e==="bg-size",pN=e=>e==="length",mG=e=>e==="number",vG=e=>e==="family-name",gN=e=>e==="shadow",bG=()=>{const e=Ct("color"),t=Ct("font"),r=Ct("text"),n=Ct("font-weight"),i=Ct("tracking"),o=Ct("leading"),a=Ct("breakpoint"),s=Ct("container"),l=Ct("spacing"),c=Ct("radius"),u=Ct("shadow"),f=Ct("inset-shadow"),d=Ct("text-shadow"),h=Ct("drop-shadow"),p=Ct("blur"),g=Ct("perspective"),m=Ct("aspect"),v=Ct("ease"),b=Ct("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...w(),re,te],A=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],E=()=>[re,te,l],_=()=>[Hs,"full","auto",...E()],N=()=>[wo,"none","subgrid",re,te],M=()=>["auto",{span:["full",wo,re,te]},wo,re,te],O=()=>[wo,"auto",re,te],D=()=>["auto","min","max","fr",re,te],S=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],k=()=>["start","end","center","stretch","center-safe","end-safe"],x=()=>["auto",...E()],P=()=>[Hs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],I=()=>[e,re,te],L=()=>[...w(),$k,yk,{position:[re,te]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",pG,fG,{size:[re,te]}],ae=()=>[q0,Cc,Aa],ne=()=>["","none","full",c,re,te],pe=()=>["",Se,Cc,Aa],xe=()=>["solid","dashed","dotted","double"],qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[Se,q0,$k,yk],de=()=>["","none",p,re,te],q=()=>["none",Se,re,te],X=()=>["none",Se,re,te],ce=()=>[Se,re,te],H=()=>[Hs,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mi],breakpoint:[Mi],color:[aG],container:[Mi],"drop-shadow":[Mi],ease:["in","out","in-out"],font:[uG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mi],shadow:[Mi],spacing:["px",Se],text:[Mi],"text-shadow":[Mi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hs,te,re,m]}],container:["container"],columns:[{columns:[Se,te,re,s]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[wo,"auto",re,te]}],basis:[{basis:[Hs,"full","auto",s,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Se,Hs,"auto","initial","none",te]}],grow:[{grow:["",Se,re,te]}],shrink:[{shrink:["",Se,re,te]}],order:[{order:[wo,"first","last","none",re,te]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...S(),"normal"]}],"justify-items":[{"justify-items":[...k(),"normal"]}],"justify-self":[{"justify-self":["auto",...k()]}],"align-content":[{content:["normal",...S()]}],"align-items":[{items:[...k(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...k(),{baseline:["","last"]}]}],"place-content":[{"place-content":S()}],"place-items":[{"place-items":[...k(),"baseline"]}],"place-self":[{"place-self":["auto",...k()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:x()}],mx:[{mx:x()}],my:[{my:x()}],ms:[{ms:x()}],me:[{me:x()}],mt:[{mt:x()}],mr:[{mr:x()}],mb:[{mb:x()}],ml:[{ml:x()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[s,"screen",...P()]}],"min-w":[{"min-w":[s,"screen","none",...P()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",r,Cc,Aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,re,Q0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",q0,te]}],"font-family":[{font:[hG,te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,re,te]}],"line-clamp":[{"line-clamp":[Se,"none",re,Q0]}],leading:[{leading:[o,...E()]}],"list-image":[{"list-image":["none",re,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Se,"from-font","auto",re,Aa]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Se,"auto",re,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:L()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wo,re,te],radial:["",re,te],conic:[wo,re,te]},gG,dG]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Se,re,te]}],"outline-w":[{outline:["",Se,Cc,Aa]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",u,Sd,xd]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",f,Sd,xd]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Se,Aa]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",d,Sd,xd]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Se,re,te]}],"mix-blend":[{"mix-blend":[...qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Se]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[re,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[Se]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:L()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,te]}],filter:[{filter:["","none",re,te]}],blur:[{blur:de()}],brightness:[{brightness:[Se,re,te]}],contrast:[{contrast:[Se,re,te]}],"drop-shadow":[{"drop-shadow":["","none",h,Sd,xd]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Se,re,te]}],"hue-rotate":[{"hue-rotate":[Se,re,te]}],invert:[{invert:["",Se,re,te]}],saturate:[{saturate:[Se,re,te]}],sepia:[{sepia:["",Se,re,te]}],"backdrop-filter":[{"backdrop-filter":["","none",re,te]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[Se,re,te]}],"backdrop-contrast":[{"backdrop-contrast":[Se,re,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Se,re,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Se,re,te]}],"backdrop-invert":[{"backdrop-invert":["",Se,re,te]}],"backdrop-opacity":[{"backdrop-opacity":[Se,re,te]}],"backdrop-saturate":[{"backdrop-saturate":[Se,re,te]}],"backdrop-sepia":[{"backdrop-sepia":["",Se,re,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Se,"initial",re,te]}],ease:[{ease:["linear","initial",v,re,te]}],delay:[{delay:[Se,re,te]}],animate:[{animate:["none",b,re,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,re,te]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:q()}],"rotate-x":[{"rotate-x":q()}],"rotate-y":[{"rotate-y":q()}],"rotate-z":[{"rotate-z":q()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[re,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:H()}],"translate-x":[{"translate-x":H()}],"translate-y":[{"translate-y":H()}],"translate-z":[{"translate-z":H()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,te]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Se,Cc,Aa,Q0]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yG=ZK(bG);function Df(...e){return yG(oN(e))}function $G(e){return(...t)=>{for(const r of e)r&&r(...t)}}const F=e=>typeof e=="function"&&!e.length?e():e,wk=e=>Array.isArray(e)?e:e?[e]:[];function wG(e,...t){return typeof e=="function"?e(...t):e}const AG=be;function xG(e,t,r,n){return e.addEventListener(t,r,n),AG(e.removeEventListener.bind(e,t,r,n))}function SG(e,t,r,n){const i=()=>{wk(F(e)).forEach(o=>{o&&wk(F(t)).forEach(a=>xG(o,a,r,n))})};typeof e=="function"?oe(i):ee(i)}const Y0=Symbol("fallback");function Ak(e){for(const t of e)t.dispose()}function CG(e,t,r,n={}){const i=new Map;return be(()=>Ak(i.values())),()=>{const a=e()||[];return a[Lp],De(()=>{var u,f;if(!a.length)return Ak(i.values()),i.clear(),n.fallback?[Ho(h=>(i.set(Y0,{dispose:h}),n.fallback()))]:[];const s=new Array(a.length),l=i.get(Y0);if(!i.size||l){l==null||l.dispose(),i.delete(Y0);for(let d=0;d<a.length;d++){const h=a[d],p=t(h,d);o(s,h,d,p)}return s}const c=new Set(i.keys());for(let d=0;d<a.length;d++){const h=a[d],p=t(h,d);c.delete(p);const g=i.get(p);g?(s[d]=g.mapped,(u=g.setIndex)==null||u.call(g,d),g.setItem(()=>h)):o(s,h,d,p)}for(const d of c)(f=i.get(d))==null||f.dispose(),i.delete(d);return s})};function o(a,s,l,c){Ho(u=>{const[f,d]=Q(s),h={setItem:d,dispose:u};if(r.length>1){const[p,g]=Q(l);h.setIndex=g,h.mapped=r(f,p)}else h.mapped=r(f);i.set(c,h),a[l]=h.mapped})}}function EG(e){const{by:t}=e;return me(CG(()=>e.each,typeof t=="function"?t:r=>r[t],e.children,"fallback"in e?{fallback:()=>e.fallback}:void 0))}const kG=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function xk(e){const t={};let r;for(;r=kG.exec(e);)t[r[1]]=r[2];return t}function Lm(e,t){if(typeof e=="string"){if(typeof t=="string")return`${e};${t}`;e=xk(e)}else typeof t=="string"&&(t=xk(t));return{...e,...t}}function Lr(...e){return $G(e)}function Sk(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function OG(e){return typeof e=="number"}function sl(e){return Object.prototype.toString.call(e)==="[object String]"}function Rm(e){return typeof e=="function"}function _f(e){return t=>`${e()}-${t}`}function Do(e,t){return e?e===t||e.contains(t):!1}function ou(e,t=!1){const{activeElement:r}=Zi(e);if(!(r!=null&&r.nodeName))return null;if(mN(r)&&r.contentDocument)return ou(r.contentDocument.body,t);if(t){const n=r.getAttribute("aria-activedescendant");if(n){const i=Zi(r).getElementById(n);if(i)return i}}return r}function TG(e){return Zi(e).defaultView||window}function Zi(e){return e?e.ownerDocument||e:document}function mN(e){return e.tagName==="IFRAME"}var XA=(e=>(e.Escape="Escape",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e))(XA||{});function vN(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)==null?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function ZA(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)==null?void 0:t.platform)||window.navigator.platform):!1}function Nf(){return ZA(/^Mac/i)}function IG(){return ZA(/^iPhone/i)}function MG(){return ZA(/^iPad/i)||Nf()&&navigator.maxTouchPoints>1}function PG(){return IG()||MG()}function DG(){return Nf()||PG()}function _G(){return vN(/AppleWebKit/i)&&!NG()}function NG(){return vN(/Chrome/i)}function Lt(e,t){return t&&(Rm(t)?t(e):t[0](t[1],e)),e==null?void 0:e.defaultPrevented}function dn(e){return t=>{for(const r of e)Lt(t,r)}}function LG(e){return Nf()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}function Tr(e){if(e)if(RG())e.focus({preventScroll:!0});else{const t=BG(e);e.focus(),FG(t)}}var Cd=null;function RG(){if(Cd==null){Cd=!1;try{document.createElement("div").focus({get preventScroll(){return Cd=!0,!0}})}catch{}}return Cd}function BG(e){let t=e.parentNode;const r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function FG(e){for(const{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}var bN=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],jG=[...bN,'[tabindex]:not([tabindex="-1"]):not([disabled])'],ex=`${bN.join(":not([hidden]),")},[tabindex]:not([disabled]):not([hidden])`,zG=jG.join(':not([hidden]):not([tabindex="-1"]),');function yN(e,t){const n=Array.from(e.querySelectorAll(ex)).filter(Ck);return t&&Ck(e)&&n.unshift(e),n.forEach((i,o)=>{if(mN(i)&&i.contentDocument){const a=i.contentDocument.body,s=yN(a,!1);n.splice(o,1,...s)}}),n}function Ck(e){return $N(e)&&!HG(e)}function $N(e){return e.matches(ex)&&tx(e)}function HG(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function tx(e,t){return e.nodeName!=="#comment"&&VG(e)&&UG(e,t)&&(!e.parentElement||tx(e.parentElement,e))}function VG(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;const{display:t,visibility:r}=e.style;let n=t!=="none"&&r!=="hidden"&&r!=="collapse";if(n){if(!e.ownerDocument.defaultView)return n;const{getComputedStyle:i}=e.ownerDocument.defaultView,{display:o,visibility:a}=i(e);n=o!=="none"&&a!=="hidden"&&a!=="collapse"}return n}function UG(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function WG(e,t,r){const n=t!=null&&t.tabbable?zG:ex,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(o){var a;return(a=t==null?void 0:t.from)!=null&&a.contains(o)?NodeFilter.FILTER_REJECT:o.matches(n)&&tx(o)&&(!(t!=null&&t.accept)||t.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}function KG(){}function rt(e,t){return ye(e,t)}var Ec=new Map,Ek=new Set;function kk(){if(typeof window>"u")return;const e=r=>{if(!r.target)return;let n=Ec.get(r.target);n||(n=new Set,Ec.set(r.target,n),r.target.addEventListener("transitioncancel",t)),n.add(r.propertyName)},t=r=>{if(!r.target)return;const n=Ec.get(r.target);if(n&&(n.delete(r.propertyName),n.size===0&&(r.target.removeEventListener("transitioncancel",t),Ec.delete(r.target)),Ec.size===0)){for(const i of Ek)i();Ek.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?kk():document.addEventListener("DOMContentLoaded",kk));function Ok(e,t){const r=Tk(e,t,"left"),n=Tk(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight;let a=e.scrollLeft,s=e.scrollTop;const l=a+e.offsetWidth,c=s+e.offsetHeight;r<=a?a=r:r+i>l&&(a+=r+i-l),n<=s?s=n:n+o>c&&(s+=n+o-c),e.scrollLeft=a,e.scrollTop=s}function Tk(e,t,r){const n=r==="left"?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[n],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[n];break}t=t.offsetParent}return i}var rx={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"};function wN(e,t){const[r,n]=Q(Ik(t==null?void 0:t()));return oe(()=>{var i;n(((i=e())==null?void 0:i.tagName.toLowerCase())||Ik(t==null?void 0:t()))}),r}function Ik(e){return sl(e)?e:void 0}function xt(e){const[t,r]=Ie(e,["as"]);if(!t.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return T(nN,ye(r,{get component(){return t.as}}))}var GG=Object.defineProperty,Bm=(e,t)=>{for(var r in t)GG(e,r,{get:t[r],enumerable:!0})},qG={};Bm(qG,{Button:()=>AN,Root:()=>nx});var QG=["button","color","file","image","reset","submit"];function YG(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?QG.indexOf(e.type)!==-1:!1}function nx(e){let t;const r=rt({type:"button"},e),[n,i]=Ie(r,["ref","type","disabled"]),o=wN(()=>t,()=>"button"),a=me(()=>{const c=o();return c==null?!1:YG({tagName:c,type:n.type})}),s=me(()=>o()==="input"),l=me(()=>o()==="a"&&(t==null?void 0:t.getAttribute("href"))!=null);return T(xt,ye({as:"button",ref(c){var u=Lr(f=>t=f,n.ref);typeof u=="function"&&u(c)},get type(){return pt(()=>!!(a()||s()))()?n.type:void 0},get role(){return!a()&&!l()?"button":void 0},get tabIndex(){return!a()&&!l()&&!n.disabled?0:void 0},get disabled(){return pt(()=>!!(a()||s()))()?n.disabled:void 0},get"aria-disabled"(){return!a()&&!s()&&n.disabled?!0:void 0},get"data-disabled"(){return n.disabled?"":void 0}},i))}var AN=nx;const Mk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Pk=oN,JG=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Pk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],f=o==null?void 0:o[c];if(u===null)return null;const d=Mk(u)||Mk(f);return i[c][d]}),s=r&&Object.entries(r).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(p=>{let[g,m]=p;return Array.isArray(m)?m.includes({...o,...s}[g]):{...o,...s}[g]===m})?[...c,f,d]:c},[]);return Pk(e,a,l,r==null?void 0:r.class,r==null?void 0:r.className)},XG=JG("inline-flex items-center justify-center rounded-md text-sm font-medium transition-[color,background-color,box-shadow] focus-visible:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"cursor-pointer bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"cursor-pointer bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"cursor-pointer border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"cursor-pointer bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"cursor-pointer hover:bg-accent hover:text-accent-foreground",link:"cursor-pointer text-primary underline-offset-4 hover:underline",table:"cursor-pointer hover:bg-accent hover:text-accent-foreground size-full items-left justify-between px-2"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9",table:""}},defaultVariants:{variant:"default",size:"default"}}),Dk=e=>{const[t,r]=Ie(e,["class","variant","size"]);return T(AN,ye({get class(){return Df(XG({size:t.size,variant:t.variant}),t.class)}},r))},G$=Symbol("store-raw"),Cl=Symbol("store-node"),zi=Symbol("store-has"),xN=Symbol("store-self");function SN(e){let t=e[zn];if(!t&&(Object.defineProperty(e,zn,{value:t=new Proxy(e,tq)}),!Array.isArray(e))){const r=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,o=r.length;i<o;i++){const a=r[i];n[a].get&&Object.defineProperty(e,a,{enumerable:n[a].enumerable,get:n[a].get.bind(t)})}}return t}function Hp(e){let t;return e!=null&&typeof e=="object"&&(e[zn]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Qu(e,t=new Set){let r,n,i,o;if(r=e!=null&&e[G$])return r;if(!Hp(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,s=e.length;a<s;a++)i=e[a],(n=Qu(i,t))!==i&&(e[a]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let l=0,c=a.length;l<c;l++)o=a[l],!s[o].get&&(i=e[o],(n=Qu(i,t))!==i&&(e[o]=n))}return e}function Vp(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Yu(e,t,r){if(e[t])return e[t];const[n,i]=Q(r,{equals:!1,internal:!0});return n.$=i,e[t]=n}function ZG(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===zn||t===Cl||(delete r.value,delete r.writable,r.get=()=>e[zn][t]),r}function CN(e){F$()&&Yu(Vp(e,Cl),xN)()}function eq(e){return CN(e),Reflect.ownKeys(e)}const tq={get(e,t,r){if(t===G$)return e;if(t===zn)return r;if(t===Lp)return CN(e),r;const n=Vp(e,Cl),i=n[t];let o=i?i():e[t];if(t===Cl||t===zi||t==="__proto__")return o;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);F$()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=Yu(n,t,o)())}return Hp(o)?SN(o):o},has(e,t){return t===G$||t===zn||t===Lp||t===Cl||t===zi||t==="__proto__"?!0:(F$()&&Yu(Vp(e,zi),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:eq,getOwnPropertyDescriptor:ZG};function Up(e,t,r,n=!1){if(!n&&e[t]===r)return;const i=e[t],o=e.length;r===void 0?(delete e[t],e[zi]&&e[zi][t]&&i!==void 0&&e[zi][t].$()):(e[t]=r,e[zi]&&e[zi][t]&&i===void 0&&e[zi][t].$());let a=Vp(e,Cl),s;if((s=Yu(a,t,i))&&s.$(()=>r),Array.isArray(e)&&e.length!==o){for(let l=e.length;l<o;l++)(s=a[l])&&s.$();(s=Yu(a,"length",o))&&s.$(e.length)}(s=a[xN])&&s.$()}function EN(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const i=r[n];Up(e,i,t[i])}}function rq(e,t){if(typeof t=="function"&&(t=t(e)),t=Qu(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const i=t[r];e[r]!==i&&Up(e,r,i)}Up(e,"length",n)}else EN(e,t)}function au(e,t,r=[]){let n,i=e;if(t.length>1){n=t.shift();const a=typeof n,s=Array.isArray(e);if(Array.isArray(n)){for(let l=0;l<n.length;l++)au(e,[n[l]].concat(t),r);return}else if(s&&a==="function"){for(let l=0;l<e.length;l++)n(e[l],l)&&au(e,[l].concat(t),r);return}else if(s&&a==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=n;for(let f=l;f<=c;f+=u)au(e,[f].concat(t),r);return}else if(t.length>1){au(e[n],t,[n].concat(r));return}i=e[n],r=[n].concat(r)}let o=t[0];typeof o=="function"&&(o=o(i,r),o===i)||n===void 0&&o==null||(o=Qu(o),n===void 0||Hp(i)&&Hp(o)&&!Array.isArray(o)?EN(i,o):Up(e,n,o))}function ix(...[e,t]){const r=Qu(e||{}),n=Array.isArray(r),i=SN(r);function o(...a){Bi(()=>{n&&a.length===1?rq(r,a[0]):au(r,a)})}return[i,o]}const[B,le]=ix({nodes:{},edges:{},panZoom:null,snapGrid:[10,10],activeBoards:[{name:"home",id:"home"}],activeSidebar:"nodes",showColorMenu:!1,noteEditor:null,activeTags:[],dragThreshold:5,dragging:null,selectedNodes:new Set([]),copiedNodes:[],viewport:{x:0,y:0,width:0,height:0,scale:1}});/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}},Ed=Symbol("hyper-element");function iq(e){function t(){let r=[].slice.call(arguments),n,i=[],o=!1;for(;Array.isArray(r[0]);)r=r[0];r[0][Ed]&&r.unshift(t.Fragment),typeof r[0]=="string"&&c(r);const a=()=>{for(;r.length;)s(r.shift());return n instanceof Element&&i.length&&n.classList.add(...i),n};return a[Ed]=!0,a;function s(u){const f=typeof u;if(u!=null){if(f==="string")n?n.appendChild(document.createTextNode(u)):l(u);else if(f==="number"||f==="boolean"||f==="bigint"||f==="symbol"||u instanceof Date||u instanceof RegExp)n.appendChild(document.createTextNode(u.toString()));else if(Array.isArray(u))for(let d=0;d<u.length;d++)s(u[d]);else if(u instanceof Element)e.insert(n,u,o?null:void 0);else if(f==="object"){let d=!1;const h=Object.getOwnPropertyDescriptors(u);for(const p in h){if(p==="class"&&i.length!==0){const g=i.join(" "),m=typeof h.class.value=="function"?()=>g+" "+h.class.value():g+" "+u.class;Object.defineProperty(u,"class",{...h[p],value:m}),i=[]}p!=="ref"&&p.slice(0,2)!=="on"&&typeof h[p].value=="function"?(e.dynamicProperty(u,p),d=!0):h[p].get&&(d=!0)}d?e.spread(n,u,n instanceof SVGElement,!!r.length):e.assign(n,u,n instanceof SVGElement,!!r.length)}else if(f==="function")if(n){for(;u[Ed];)u=u();e.insert(n,u,o?null:void 0)}else{let d,h=r[0];(h==null||typeof h=="object"&&!Array.isArray(h)&&!(h instanceof Element))&&(d=r.shift()),d||(d={}),r.length&&(d.children=r.length>1?r:r[0]);const p=Object.getOwnPropertyDescriptors(d);for(const g in p)if(Array.isArray(p[g].value)){const m=p[g].value;d[g]=()=>{for(let v=0;v<m.length;v++)for(;m[v][Ed];)m[v]=m[v]();return m},e.dynamicProperty(d,g)}else typeof p[g].value=="function"&&!p[g].value.length&&e.dynamicProperty(d,g);n=e.createComponent(u,d),r=[]}}}function l(u){const f=u.split(/([\.#]?[^\s#.]+)/);/^\.|#/.test(f[1])&&(n=document.createElement("div"));for(let d=0;d<f.length;d++){const h=f[d],p=h.substring(1,h.length);h&&(n?h[0]==="."?i.push(p):h[0]==="#"&&n.setAttribute("id",p):n=e.SVGElements.has(h)?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h))}}function c(u){for(let f=1;f<u.length;f++)if(typeof u[f]=="function"){o=!0;return}else Array.isArray(u[f])&&c(u[f])}}return t.Fragment=r=>r.children,t}const J0=iq({spread:QA,assign:tN,insert:j,createComponent:T,dynamicProperty:DK,SVGElements:eN});/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t,r,n)=>{const i=o=>{const[a,s]=Ie(o,["color","size","stroke","title","children","class"]),l=nq[e],c={...l,width:()=>a.size!=null?a.size:l.width,height:()=>a.size!=null?a.size:l.height,title:()=>a.title!=null?a.title:void 0,...e==="filled"?{fill:()=>a.color!=null?a.color:"currentColor"}:{stroke:()=>a.color!=null?a.color:"currentColor","stroke-width":()=>a.stroke!=null?a.stroke:l["stroke-width"]},class:()=>`tabler-icon tabler-icon-${t} ${a.class!=null?a.class:""}`};return J0("svg",[c,s],[a.title&&J0("title",{},a.title),...n.map(([u,f])=>J0(u,f)),a.children])};return i.displayName=`${r}`,i};/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oq=Re("outline","align-center","AlignCenter",[["path",{d:"M4 6l16 0"}],["path",{d:"M8 12l8 0"}],["path",{d:"M6 18l12 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aq=Re("outline","align-justified","AlignJustified",[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l16 0"}],["path",{d:"M4 18l12 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sq=Re("outline","align-left","AlignLeft",[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l10 0"}],["path",{d:"M4 18l14 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lq=Re("outline","align-right","AlignRight",[["path",{d:"M4 6l16 0"}],["path",{d:"M10 12l10 0"}],["path",{d:"M6 18l14 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cq=Re("outline","arrow-bar-both","ArrowBarBoth",[["path",{d:"M8 12h-6"}],["path",{d:"M5 15l-3 -3l3 -3"}],["path",{d:"M22 12h-6"}],["path",{d:"M19 15l3 -3l-3 -3"}],["path",{d:"M12 4v16"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uq=Re("outline","blockquote","Blockquote",[["path",{d:"M6 15h15"}],["path",{d:"M21 19h-15"}],["path",{d:"M15 11h6"}],["path",{d:"M21 7h-6"}],["path",{d:"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}],["path",{d:"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fq=Re("outline","bold","Bold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dq=Re("outline","chevrons-right","ChevronsRight",[["path",{d:"M7 7l5 5l-5 5"}],["path",{d:"M13 7l5 5l-5 5"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kN=Re("outline","code","Code",[["path",{d:"M7 8l-4 4l4 4"}],["path",{d:"M17 8l4 4l-4 4"}],["path",{d:"M14 4l-4 16"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hq=Re("outline","dots-vertical","DotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pq=Re("outline","filter","Filter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gq=Re("outline","graph","Graph",[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mq=Re("outline","h-1","H1",[["path",{d:"M19 18v-8l-2 2"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vq=Re("outline","h-2","H2",[["path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bq=Re("outline","h-3","H3",[["path",{d:"M19 14a2 2 0 1 0 -2 -2"}],["path",{d:"M17 16a2 2 0 1 0 2 -2"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yq=Re("outline","h-4","H4",[["path",{d:"M20 18v-8l-4 6h5"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $q=Re("outline","h-5","H5",[["path",{d:"M17 18h2a2 2 0 1 0 0 -4h-2v-4h4"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wq=Re("outline","h-6","H6",[["path",{d:"M19 14a2 2 0 1 0 0 4a2 2 0 0 0 0 -4z"}],["path",{d:"M21 12a2 2 0 1 0 -4 0v4"}],["path",{d:"M4 6v12"}],["path",{d:"M12 6v12"}],["path",{d:"M11 18h2"}],["path",{d:"M3 18h2"}],["path",{d:"M4 12h8"}],["path",{d:"M3 6h2"}],["path",{d:"M11 6h2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aq=Re("outline","italic","Italic",[["path",{d:"M11 5l6 0"}],["path",{d:"M7 19l6 0"}],["path",{d:"M14 5l-4 14"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xq=Re("outline","list-numbers","ListNumbers",[["path",{d:"M11 6h9"}],["path",{d:"M11 12h9"}],["path",{d:"M12 18h8"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4"}],["path",{d:"M6 10v-6l-2 2"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sq=Re("outline","list","List",[["path",{d:"M9 6l11 0"}],["path",{d:"M9 12l11 0"}],["path",{d:"M9 18l11 0"}],["path",{d:"M5 6l0 .01"}],["path",{d:"M5 12l0 .01"}],["path",{d:"M5 18l0 .01"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cq=Re("outline","menu-2","Menu2",[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l16 0"}],["path",{d:"M4 18l16 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eq=Re("outline","pilcrow","Pilcrow",[["path",{d:"M13 4v16"}],["path",{d:"M17 4v16"}],["path",{d:"M19 4h-9.5a4.5 4.5 0 0 0 0 9h3.5"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kq=Re("outline","settings","Settings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oq=Re("outline","sort-descending","SortDescending",[["path",{d:"M4 6l9 0"}],["path",{d:"M4 12l7 0"}],["path",{d:"M4 18l7 0"}],["path",{d:"M15 15l3 3l3 -3"}],["path",{d:"M18 6l0 12"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tq=Re("outline","spacing-vertical","SpacingVertical",[["path",{d:"M4 20v-2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2"}],["path",{d:"M4 4v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}],["path",{d:"M16 12h-8"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iq=Re("outline","strikethrough","Strikethrough",[["path",{d:"M5 12l14 0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mq=Re("outline","underline","Underline",[["path",{d:"M7 5v5a5 5 0 0 0 10 0v-5"}],["path",{d:"M5 19h14"}]]);/**
 * @license @tabler/icons-solidjs v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pq=Re("filled","moon-filled","MoonFilled",[["path",{d:"M12 1.992a10 10 0 1 0 9.236 13.838c.341 -.82 -.476 -1.644 -1.298 -1.31a6.5 6.5 0 0 1 -6.864 -10.787l.077 -.08c.551 -.63 .113 -1.653 -.758 -1.653h-.266l-.068 -.006l-.06 -.002z"}]]),Dq=W('<div id=topbar class="h-[50px] border-b border-border flex flex-row justify-between items-center bg-card px-8"><div id=breadcrumb class="bg-card flex flex-row space-y-4 overflow-x-visible "><div class="flex flex-row"></div></div><div class="flex justify-center items-center space-x-4">'),_q=W('<div class="p-[5px] border-2 border-border rounded-[5px] transition duration-100 ease-out">[logo]'),Nq=W('<span class="self-center mx-1 my-0 ">'),Lq=W('<div class="absolute h-full w-30 p-3"><div class="border border-border p-2 rounded-md h-full bg-card flex flex-col space-y-4 overflow-x-visible ">');const Rq=()=>{const e=(t,r)=>{console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log("+++++++++++++++++++++++++++++++++"),console.log(B.activeBoards),le("activeBoards",n=>n.slice(0,t+1)),console.log(B.activeBoards)};return(()=>{var t=Dq(),r=t.firstChild,n=r.firstChild,i=r.nextSibling;return j(n,T(yt,{get each(){return B.activeBoards},children:(o,a)=>[(()=>{var s=_q();return s.firstChild,s.$$click=()=>a()!==B.activeBoards.length-1?e(a(),o.id):void 0,j(s,()=>o.name,null),ee(l=>{var c={breadcrumb_path:!0,"hover:bg-primary":a()!==B.activeBoards.length-1,"border-primary":a()===B.activeBoards.length-1},u=a()!==B.activeBoards.length-1?"pointer":"default";return l.e=Ha(s,c,l.e),u!==l.t&&Z(s,"cursor",l.t=u),l},{e:void 0,t:void 0}),s})(),pt(()=>pt(()=>a()!==B.activeBoards.length-1)()&&(()=>{var s=Nq();return j(s,T(dq,{})),s})())]})),j(i,T(Dk,{variant:"secondary",get children(){return T(kq,{})}}),null),j(i,T(Dk,{variant:"secondary",get children(){return T(Pq,{})}}),null),t})()};Lq();Ot(["click"]);var ie=(e=>(e.Note="Note",e.Comment="Comment",e.Todo="Todo",e.Table="Table",e.Url="Url",e.Activity="Activity",e.Arrow="Arrow",e.Board="Board",e.Column="Column",e.Code="Code",e.Document="Document",e.Upload="Upload",e.Drawing="Drawing",e.Sketch="Sketch",e.Color="Color",e.Image="Image",e))(ie||{}),su=(e=>(e.String="String",e.Number="Number",e.Boolean="Boolean",e.Date="Date",e.Badge="Badge",e))(su||{}),Yh=(e=>(e.Bezier="Bezier",e.Straight="Straight",e.Step="Step",e))(Yh||{});function Bq(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Fq(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Jh;function jq(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function Ft(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}class zq{get rid(){return Bq(this,Jh,"f")}constructor(t){Jh.set(this,void 0),Fq(this,Jh,t)}async close(){return Ft("plugin:resources|close",{rid:this.rid})}}Jh=new WeakMap;var Mr;(function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Document=6]="Document",e[e.Download=7]="Download",e[e.Picture=8]="Picture",e[e.Public=9]="Public",e[e.Video=10]="Video",e[e.Resource=11]="Resource",e[e.Temp=12]="Temp",e[e.AppConfig=13]="AppConfig",e[e.AppData=14]="AppData",e[e.AppLocalData=15]="AppLocalData",e[e.AppCache=16]="AppCache",e[e.AppLog=17]="AppLog",e[e.Desktop=18]="Desktop",e[e.Executable=19]="Executable",e[e.Font=20]="Font",e[e.Home=21]="Home",e[e.Runtime=22]="Runtime",e[e.Template=23]="Template"})(Mr||(Mr={}));async function Hq(...e){return Ft("plugin:path|join",{paths:e})}var _k;(function(e){e[e.Start=0]="Start",e[e.Current=1]="Current",e[e.End=2]="End"})(_k||(_k={}));async function Vq(e,t,r){if(e instanceof URL&&e.protocol!=="file:"||t instanceof URL&&t.protocol!=="file:")throw new TypeError("Must be a file URL.");await Ft("plugin:fs|copy_file",{fromPath:e instanceof URL?e.toString():e,toPath:t instanceof URL?t.toString():t,options:r})}async function Uq(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await Ft("plugin:fs|mkdir",{path:e instanceof URL?e.toString():e,options:t})}async function ON(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await Ft("plugin:fs|read_file",{path:e instanceof URL?e.toString():e,options:t});return r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}async function Wq(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");const r=await Ft("plugin:fs|read_text_file",{path:e instanceof URL?e.toString():e,options:t}),n=r instanceof ArrayBuffer?r:Uint8Array.from(r);return new TextDecoder().decode(n)}async function ox(e,t,r){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");const n=new TextEncoder;await Ft("plugin:fs|write_text_file",n.encode(t),{headers:{path:encodeURIComponent(e instanceof URL?e.toString():e),options:JSON.stringify(r)}})}async function q$(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");return await Ft("plugin:fs|exists",{path:e instanceof URL?e.toString():e,options:t})}async function Kq(){let e=B.nodes;const t=JSON.stringify(e,null,2);await ox("GraphNote/nodes.json",t,{baseDir:Mr.Document})}async function Gq(){let e=B.nodes;const t=JSON.stringify(e,null,2);await ox("GraphNote/nodes_old.json",t,{baseDir:Mr.Document})}async function qq(){let e=await Nk("GraphNote","GraphNote/nodes.json"),t=await Nk("GraphNote","GraphNote/edges.json"),r=null,n=null;return e&&(r=Qq(e)),t&&(n=Yq(t)),{nodes:r,edges:n}}const Qq=e=>{const t=JSON.parse(e),r=Object.values(t).flat();//! maybe do each workspace at a time
r.sort((i,o)=>(i.zIndex??0)-(o.zIndex??0));for(let i=0;i<r.length;i++)r[i].zIndex=i;r.forEach(i=>{(i.zIndex===void 0||i.zIndex===null)&&(i.zIndex=0)});const n={};for(const[i,o]of Object.entries(t))n[i]=o.map(a=>r.find(s=>s.id===a.id));return n},Yq=e=>JSON.parse(e),Nk=async(e,t)=>{try{return await q$(e,{baseDir:Mr.Document})||(console.info("Creating directory:",e),await Uq("GraphNote",{baseDir:Mr.Document,recursive:!0}),console.info("Created directory:",e)),await q$(t,{baseDir:Mr.Document})||(console.info("Creating empty JSON file:",t),await ox(t,JSON.stringify({},null,2),{baseDir:Mr.Document})),await Wq(t,{baseDir:Mr.Document})}catch(r){return console.error(`Failed to read or parse ${t}:`,r),null}};function Jq(e,t){const r=e.split("."),n=r.length>1?"."+r.pop():"",i=r.join(".");let o=e;return o=`${i}${t}${n}`,o}const Xq=async e=>{let t,r=0;for(;;){const n=e.split("/").splice(-1)[0],i=r===0?n:Jq(n,r),a=await Hq("GraphNote",i);if(!await q$(a,{baseDir:Mr.Document})){t=a;break}r++}return t},Zq=async e=>{try{const t=await Xq(e);return console.log("creating file:",t),await Vq(e,t,{fromPathBaseDir:Mr.Document,toPathBaseDir:Mr.Document}),console.info("finished copying:",e,"to:",t),{res:!0,text:t}}catch(t){return console.log("error copying the file: ",t),{res:!1,text:t}}},eQ=(e,t)=>{if(console.log("selecting:",t),e.stopPropagation(),B.selectedNodes.has(t)){const r=new Set(B.selectedNodes);r.delete(t),le("selectedNodes",r)}else le("selectedNodes",r=>new Set(r).add(t));console.log("adding :",B.selectedNodes)},wt=()=>{setTimeout(()=>{Kq(),Gq()},0)};function ax(e,t){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>e(...n),t)}}const tQ={image:["png","jpg","jpeg","gif","webp","svg","bmp","tiff","ico"],video:["mp4","mkv","mov","avi","webm","flv"],music:["mp3","wav","ogg","flac","m4a"],document:["doc","docx","xls","xlsx","ppt","pptx","csv","pdf"],code:["js","ts","py","rs","java","c","cpp","cs","html","css","js","ts","jsx","tsx","json","xml","yaml","yml","sh","php","go","rb","swift","kt","dart"],text:["txt","md","log"]},rQ=e=>{console.log("event :",e);const t=e.payload;console.log("file path:",t.paths),console.log("file pos:",t.position),!(!t.paths||t.paths.length===0)&&t.paths.forEach(async(r,n)=>{const i=await Zq(r);if(i.res){console.log("+==============================="),console.log(r.split(".").splice(-1)[0].toLowerCase());const o=r.split(".").splice(-1)[0].toLowerCase();let a="unknown";for(const[s,l]of Object.entries(tQ))if(l.includes(o)){a=s;break}switch(console.log("file type:",a),a){case"image":const s=e.payload.position;console.log(e.payload.position),console.log(e.payload.paths),console.info("test"),fQ(i.text,s.x+n*300,s.y+n*300);break;case"video":break;case"music":break;case"document":const l=e.payload.position;mQ(i.text,l.x+n*300,l.y+n*300,"widget"),console.log("we recieved a pdf file");break;case"code":break;case"text":break;default:console.warn(`file type ${o} is unknown and cannot be handled`);break}}else console.error("failed to save file:",i.text)})},nQ=(e,t,r)=>{for(const[n,i]of Object.entries(B.nodes)){const o=i.findIndex(s=>s.id===e);let a;if(typeof t=="boolean")a="check";else if(typeof t=="string")a="text";else return;if(o!==-1){const s=B.nodes[n][o];"tasks"in s&&Array.isArray(s.tasks)&&s.tasks[r]?(console.log("Updating:",n,o,"tasks",r,a,t),le("nodes",n,o,"tasks",r,a,t)):console.warn("Node found but tasks array or index is invalid");break}}wt()},iQ=(e,t)=>{for(const[r,n]of Object.entries(B.nodes)){const i=n.findIndex(o=>o.id===e);if(i!==-1){le("nodes",r,i,"text",t);break}}wt()},Rr=()=>B.activeBoards[B.activeBoards.length-1].id,TN=e=>{const t=Rr();if(!t)return;const r=B.nodes[t]??[],n=Math.max(...r.map(o=>o.zIndex??0)),i=r.findIndex(o=>o.id===e);i!==-1&&le("nodes",t,i,"zIndex",n+1)},X0=(e,t,r)=>{const n=Rr(),o=(B.nodes[n]??[]).findIndex(a=>a.id===e);o!==-1&&(t>0&&le("nodes",n,o,"x",t),r>0&&le("nodes",n,o,"y",r))},kd=(e,t)=>{B.selectedNodes.forEach(r=>{const n=Rr(),o=(B.nodes[n]??[]).findIndex(a=>a.id===r);o!==-1&&(e&&le("nodes",n,o,"x",a=>a+e),t&&le("nodes",n,o,"y",a=>a+t))}),wt()},oQ=(e,t)=>{const r=Rr(),i=(B.nodes[r]??[]).findIndex(o=>o.id===e);i!==-1&&le("nodes",r,i,"width",t),wt()},aQ=(e,t,r)=>{const n=Rr();e:for(const i of B.nodes[n]||[])if(i.type===ie.Column){const o=B.nodes[i.id]||[];for(let a=0;a<o.length;a++){const s=o[a];if(s.id===e){console.log(s),le("nodes",i.id,a,"x",t),le("nodes",i.id,a,"y",r);break e}}}wt()},sQ=e=>{const t=Rr();return(B.nodes[t]??[]).some(i=>i.id===e&&i.type===ie.Column)},Xr=e=>{for(const t of Object.values(B.nodes)){const r=t.find(n=>n.id===e);if(r)return r}},lQ=e=>{for(const[t,r]of Object.entries(B.nodes))if(r.some(n=>n.id===e))return t;return null},Q$=(e,t)=>{var i;let r;t?r=t:r=Rr();const n=(i=B.nodes[r])==null?void 0:i.filter(o=>o.id!==e);n&&le("nodes",r,n),wt()},Z0=(e,t)=>{if(t)le("nodes",t,(r=[])=>[...r,e]);else{const r=Rr();le("nodes",r,(n=[])=>[...n,e])}wt()},sx=()=>{const e=Object.values(B.nodes).flat();let t=0;for(const r of e){const n=r.id.match(/^node_(\d+)$/);if(n){const i=parseInt(n[1],10);i>t&&(t=i)}}return`node_${t+1}`},cQ=(e,t,r)=>{const n={id:sx(),type:e,width:300,x:t,y:r,index:0};switch(e){case ie.Note:return{...n,text:'{"type":"doc","content":[{"type":"paragraph"}]}'};case ie.Comment:return{...n,comment:""};case ie.Todo:return{...n,title:"",tasks:[{text:"test",check:!1,nestLevel:0}]};case ie.Table:return{...n,columns:[],rows:[],title:"",description:""};case ie.Url:return{...n,url:""};case ie.Board:return{...n,name:"New Board",icon_path:""};case ie.Column:return{...n,title:"New Column"};case ie.Document:return{...n,text:""};case ie.Color:return{...n,colorValue:"#ffffff",text:"Color Node"};case ie.Image:return{...n,path:"",title:"Untitled Image",description:""};case ie.Activity:return{...n,width:void 0};default:throw new Error(`Unsupported node type: ${e}`)}},uQ=(e,t,r)=>{const n=Rr();let i,o;B.snapGrid&&(i=Math.round(t/10)*10,o=Math.round(r/10)*10),le("nodes",n,(a=[])=>[...a,cQ(e,i??t,o??r)]),wt()},fQ=(e,t,r)=>{const n=Rr();let i=t,o=r;B.snapGrid&&(i=Math.round(t/10)*10,o=Math.round(r/10)*10);const a={id:sx(),type:ie.Image,width:300,x:i,y:o,index:0,path:e,title:"Untitled Image",description:"test"};le("nodes",n,(s=[])=>[...s,a]),wt()},Ju=(e,t,r)=>{const n=Rr(),o=(B.nodes[n]??[]).findIndex(a=>a.id===e);if(o!==-1)switch(t){case"bg":le("nodes",n,o,"color",r);break;case"fg":le("nodes",n,o,"textColor",r);break;case"strip":le("nodes",n,o,"top_strip_color",r);break}wt()},dQ=()=>{B.selectedNodes.forEach(e=>{const t=Rr(),n=(B.nodes[t]??[]).findIndex(i=>i.id===e);n!==-1&&le("nodes",t,n,i=>({...i,top_strip_color:void 0}))}),wt()},hQ=(e,t)=>{for(const[r,n]of Object.entries(B.nodes)){const i=n.findIndex(o=>o.id===e);if(i!==-1){le("nodes",r,i,o=>({...o,type:ie.Url,url:t,text:void 0}));break}}wt()},pQ=(e,t)=>{for(const[r,n]of Object.entries(B.nodes)){const i=n.findIndex(o=>o.id===e);if(i!==-1){le("nodes",r,i,"title",t);break}}wt()},gQ=(e,t,r)=>{console.log(e,t,r);for(const[n,i]of Object.entries(B.nodes)){const o=i.findIndex(a=>a.id===e);if(o!==-1){le("nodes",n,o,"progress",t,a=>(a??0)+r);break}}wt()},Vs=(e,t)=>{for(const[r,n]of Object.entries(B.nodes)){const i=n.findIndex(o=>o.id===e);i!==-1&&le("nodes",r,i,"tasks",t)}wt()},mQ=(e,t,r,n)=>{const i=Rr();let o=t,a=r;B.snapGrid&&(o=Math.round(t/10)*10,a=Math.round(r/10)*10);const s={id:sx(),type:ie.Document,width:300,x:o,y:a,index:0,path:e,description:"test",docType:n};le("nodes",i,(l=[])=>[...l,s]),wt()},lx=["transparent","currentColor","inherit","revert","initial"],Me=e=>{const t=Math.floor(e);return e-t<.5?t:Math.round(e)},Wp=[["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["goldenrod",{r:218,g:165,b:32}],["gold",{r:255,g:215,b:0}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavenderblush",{r:255,g:240,b:245}],["lavender",{r:230,g:230,b:250}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]],IN="deg|rad|grad|turn",MN="[-\\+]?\\d+%?",PN="[-\\+]?\\d*\\.\\d+%?",DN=`[-\\+]?\\d*\\.?\\d+(?:${IN})?`,Xh=`(?:${PN})|(?:${MN})`,Y$=`(?:${Xh})|(?:${DN}?)`,vQ="(?:[\\s|\\(\\s|\\s\\(\\s]+)?",bQ="(?:[\\s|\\)\\s]+)?",Lk="(?:[,|\\s]+)",yQ="(?:[,|\\/\\s]*)?",kc=`${vQ}(${Y$})${Lk}(${Xh})${Lk}(${Xh})${yQ}(${Xh})?${bQ}`,ei={CSS_UNIT:new RegExp(Y$),ANGLES:IN,CSS_ANGLE:DN,CSS_INTEGER:MN,CSS_NUMBER:PN,CSS_UNIT2:Y$,PERMISSIVE_MATCH:kc,hwb:new RegExp(`hwb${kc}`),rgb:new RegExp(`rgb(?:a)?${kc}`),hsl:new RegExp(`hsl(?:a)?${kc}`),hsv:new RegExp(`hsv(?:a)?${kc}`),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},_N=e=>lx.includes(e),lu=(e,t)=>e!==null&&typeof e=="object"&&Object.keys(t).every(r=>r in e),NN=e=>`${e}`.includes(".")&&parseFloat(e)===1,cx=e=>typeof e=="string"&&e.includes("%"),wr=e=>!!ei.CSS_UNIT.exec(`${e}`),LN=["rgb","hex","hsl","hsv","hwb"],RN=e=>lx.includes(e)||["#",...LN].some(t=>e.includes(t))?!1:Wp.some(([t])=>e===t),Rk=1e-6,$Q=(e,t)=>Math.abs(e*t-t)<Rk?1:e<Rk?0:e,kr=(e,t)=>{let r=e;return NN(e)&&(r="100%"),cx(r)?Number.parseFloat(r)/100:(r=typeof r!="number"?Number.parseFloat(r):r,t===360?r=(r<0?r%t+t:r>360?r%t:r)/t:(r=Math.min(t,Math.max(0,r)),r=r/t),$Q(r,t))},J$=e=>{let t=parseFloat(e);return(Number.isNaN(t)||t<0||t>1)&&(t=1),t},Od=e=>Math.min(1,Math.max(0,e)),_o=e=>e.length===1?`0${e}`:String(e),BN=e=>{const[[,t]]=Wp.filter(([r])=>r===e.toLowerCase());return t},xr=e=>parseInt(e,16),X$=e=>xr(e)/255,FN=e=>Me(e*255).toString(16),Bk=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0,a=0;const s=(n+i)/2;if(n===i)a=0,o=0;else{const l=n-i;a=s>.5?l/(2-n-i):l/(n+i),n===e&&(o=(t-r)/l+(t<r?6:0)),n===t&&(o=(r-e)/l+2),n===r&&(o=(e-t)/l+4),o/=6}return{h:o,s:a,l:s}},Zh=(e,t,r)=>{let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e},Su=(e,t,r)=>{let n=0,i=0,o=0;if(t===0)i=r,o=r,n=r;else{const a=r<.5?r*(1+t):r+t-r*t,s=2*r-a;n=Zh(s,a,e+1/3),i=Zh(s,a,e),o=Zh(s,a,e-1/3)}return{r:n,g:i,b:o}},Fk=(e,t,r)=>{let n=0,i=0;const o=Math.min(e,t,r),a=Math.max(e,t,r),s=1-a;if(a===o)return{h:0,w:o,b:s};e===o?(n=t-r,i=3):(n=t===o?r-e:e-t,i=t===o?5:1);const l=(i-n/(a-o))/6;return{h:l===1?0:l,w:o,b:s}},jN=(e,t,r)=>{if(t+r>=1){const a=t/(t+r);return{r:a,g:a,b:a}}let{r:n,g:i,b:o}=Su(e,1,.5);return[n,i,o]=[n,i,o].map(a=>a*(1-t-r)+t),{r:n,g:i,b:o}},jk=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0;const a=n,s=n-i,l=n===0?0:s/n;return n===i?o=0:(e===n&&(o=(t-r)/s+(t<r?6:0)),t===n&&(o=(r-e)/s+2),r===n&&(o=(e-t)/s+4),o/=6),{h:o,s:l,v:a}},Z$=(e,t,r)=>{const n=e*6,i=t,o=r,a=Math.floor(n),s=n-a,l=o*(1-i),c=o*(1-s*i),u=o*(1-(1-s)*i),f=a%6,d=[o,c,l,l,u,o][f],h=[u,o,o,c,l,l][f],p=[l,l,u,o,o,c][f];return{r:d,g:h,b:p}},eb=(e,t,r,n)=>{const i=[_o(Me(e).toString(16)),_o(Me(t).toString(16)),_o(Me(r).toString(16))];return n&&i[0].charAt(0)===i[0].charAt(1)&&i[1].charAt(0)===i[1].charAt(1)&&i[2].charAt(0)===i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")},tb=(e,t,r,n,i)=>{const o=[_o(Me(e).toString(16)),_o(Me(t).toString(16)),_o(Me(r).toString(16)),_o(FN(n))];return i&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)&&o[3].charAt(0)===o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")},zN=e=>{const t=String(e).trim().toLowerCase();if(RN(t))return Object.assign(BN(t),{a:1,format:"rgb",ok:!0});if(_N(t))return{r:0,g:0,b:0,a:t==="transparent"?0:1,format:"rgb",ok:!0};let[,r,n,i,o]=ei.rgb.exec(t)||[];return r&&n&&i?{r,g:n,b:i,a:o!==void 0?o:1,format:"rgb",ok:!0}:([,r,n,i,o]=ei.hsl.exec(t)||[],r&&n&&i?{h:r,s:n,l:i,a:o!==void 0?o:1,format:"hsl",ok:!0}:([,r,n,i,o]=ei.hsv.exec(t)||[],r&&n&&i?{h:r,s:n,v:i,a:o!==void 0?o:1,format:"hsv",ok:!0}:([,r,n,i,o]=ei.hwb.exec(t)||[],r&&n&&i?{h:r,w:n,b:i,a:o!==void 0?o:1,format:"hwb",ok:!0}:([,r,n,i,o]=ei.hex8.exec(t)||[],r&&n&&i&&o?{r:xr(r),g:xr(n),b:xr(i),a:X$(o),format:"hex",ok:!0}:([,r,n,i]=ei.hex6.exec(t)||[],r&&n&&i?{r:xr(r),g:xr(n),b:xr(i),a:1,format:"hex",ok:!0}:([,r,n,i,o]=ei.hex4.exec(t)||[],r&&n&&i&&o?{r:xr(r+r),g:xr(n+n),b:xr(i+i),a:X$(o+o),format:"hex",ok:!0}:([,r,n,i]=ei.hex3.exec(t)||[],r&&n&&i?{r:xr(r+r),g:xr(n+n),b:xr(i+i),a:1,format:"hex",ok:!0}:{r:0,g:0,b:0,a:1,format:"rgb",ok:!e})))))))},wQ=(e,t,r)=>({r:kr(e,255),g:kr(t,255),b:kr(r,255)}),zk=e=>{let t={r:0,g:0,b:0},r=e,n=1,i,o,a,s,l,c,u,f,d="rgb",h=!1;if((!r||typeof r=="string")&&(r=zN(r),h=r.ok||h),lu(r,t)&&wr(r.r)&&wr(r.g)&&wr(r.b)){if(["format","ok","originalInput"].every(p=>p in r))return{...r};({r:u,g:f,b:l}=r),t=wQ(u,f,l),d="format"in r?r.format:"rgb"}return lu(r,{h:0,s:0,v:0})&&wr(r.h)&&wr(r.s)&&wr(r.v)&&({h:c,s:i,v:o}=r,c=kr(c,360),i=kr(i,100),o=kr(o,100),t=Z$(c,i,o),d="hsv"),lu(r,{h:0,s:0,l:0})&&wr(r.h)&&wr(r.s)&&wr(r.l)&&({h:c,s:i,l:a}=r,c=kr(c,360),i=kr(i,100),a=kr(a,100),t=Su(c,i,a),d="hsl"),lu(r,{h:0,w:0,b:0})&&wr(r.h)&&wr(r.w)&&wr(r.b)&&({h:c,w:s,b:l}=r,c=kr(c,360),s=kr(s,100),l=kr(l,100),t=jN(c,s,l),d="hwb"),wr(r.a)&&(n=r.a,n=cx(n)||parseFloat(`${n}`)>1?kr(n,100):n),{...t,a:J$(n),format:d,ok:h}},AQ="1.0.14",ke=class ke{constructor(t,r){R(this,"r");R(this,"g");R(this,"b");R(this,"a");R(this,"format");R(this,"ok");R(this,"originalInput");const n=r&&LN.includes(r)?r:"",{r:i,g:o,b:a,a:s,ok:l,format:c}=zk(t);this.originalInput=t,this.r=i,this.g=o,this.b=a,this.a=s,this.ok=l,this.format=n||c}get isValid(){return this.ok}get isDark(){return this.brightness<120}get luminance(){const{r:t,g:r,b:n}=this;let i=0,o=0,a=0;return t<=.03928?i=t/12.92:i=((t+.055)/1.055)**2.4,r<=.03928?o=r/12.92:o=((r+.055)/1.055)**2.4,n<=.03928?a=n/12.92:a=((n+.055)/1.055)**2.4,.2126*i+.7152*o+.0722*a}get brightness(){const{r:t,g:r,b:n}=this.toRgb();return(t*299+r*587+n*114)/1e3}get name(){const{r:t,g:r,b:n}=this.toRgb(),[i]=Wp.map(([o,a])=>{const s=(((a.r-t)*.3)**2+((a.g-r)*.6)**2+((a.b-n)*.1)**2)**.5;return[o,s]}).find(([,o],a,s)=>o===Math.min(...s.map(([,l])=>l)));return i}toRgb(){let{r:t,g:r,b:n,a:i}=this;return[t,r,n]=[t,r,n].map(o=>Me(o*255*100)/100),i=Me(i*100)/100,{r:t,g:r,b:n,a:i}}toRgbString(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Me);return i===1?`rgb(${o}, ${a}, ${s})`:`rgba(${o}, ${a}, ${s}, ${i})`}toRgbCSS4String(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Me),l=i===1?"":` / ${Me(i*100)}%`;return`rgb(${o} ${a} ${s}${l})`}toHex(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Me(a*255)),o=Me(o*100)/100,o===1?eb(r,n,i,t):tb(r,n,i,o,t)}toHexString(t){return`#${this.toHex(t)}`}toHex8(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Me(a*255)),o=Me(o*100)/100,o===1?eb(r,n,i,t):tb(r,n,i,o,t)}toHex8String(t){return`#${this.toHex8(t)}`}toHsv(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,v:s}=jk(t,r,n);return{h:o,s:a,v:s,a:i}}toHsl(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,l:s}=Bk(t,r,n);return{h:o,s:a,l:s,a:i}}toHslString(){let{h:t,s:r,l:n,a:i}=this.toHsl();return t=Me(t*360),r=Me(r*100),n=Me(n*100),i=Me(i*100)/100,i===1?`hsl(${t}, ${r}%, ${n}%)`:`hsla(${t}, ${r}%, ${n}%, ${i})`}toHslCSS4String(){let{h:t,s:r,l:n,a:i}=this.toHsl();t=Me(t*360),r=Me(r*100),n=Me(n*100),i=Me(i*100);const o=i<100?` / ${Me(i)}%`:"";return`hsl(${t}deg ${r}% ${n}%${o})`}toHwb(){const{r:t,g:r,b:n,a:i}=this,{h:o,w:a,b:s}=Fk(t,r,n);return{h:o,w:a,b:s,a:i}}toHwbString(){let{h:t,w:r,b:n,a:i}=this.toHwb();t=Me(t*360),r=Me(r*100),n=Me(n*100),i=Me(i*100);const o=i<100?` / ${Me(i)}%`:"";return`hwb(${t}deg ${r}% ${n}%${o})`}setAlpha(t){return typeof t!="number"?this:(this.a=J$(t),this)}saturate(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Su(r,Od(n+t/100),i);return Object.assign(this,{r:o,g:a,b:s}),this}desaturate(t){return typeof t=="number"?this.saturate(-t):this}greyscale(){return this.saturate(-100)}lighten(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Su(r,n,Od(i+t/100));return Object.assign(this,{r:o,g:a,b:s}),this}darken(t){return typeof t=="number"?this.lighten(-t):this}spin(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Su(Od((r*360+t)%360/360),n,i);return Object.assign(this,{r:o,g:a,b:s}),this}clone(){return new ke(this)}toString(t){const{format:r}=this;return r==="hex"?this.toHexString(t):r==="hsl"?this.toHslString():r==="hwb"?this.toHwbString():this.toRgbString()}};R(ke,"matchers",ei),R(ke,"isOnePointZero",NN),R(ke,"isPercentage",cx),R(ke,"isValidCSSUnit",wr),R(ke,"isNonColor",_N),R(ke,"isColorName",RN),R(ke,"isColorType",lu),R(ke,"pad2",_o),R(ke,"clamp01",Od),R(ke,"bound01",kr),R(ke,"boundAlpha",J$),R(ke,"getRGBFromName",BN),R(ke,"convertHexToDecimal",X$),R(ke,"convertDecimalToHex",FN),R(ke,"rgbToHsl",Bk),R(ke,"rgbToHex",eb),R(ke,"rgbToHsv",jk),R(ke,"rgbToHwb",Fk),R(ke,"rgbaToHex",tb),R(ke,"hslToRgb",Z$),R(ke,"hsvToRgb",Z$),R(ke,"hueToRgb",Zh),R(ke,"hwbToRgb",jN),R(ke,"parseIntFromHex",xr),R(ke,"stringInputToObject",zN),R(ke,"inputToRGB",zk),R(ke,"roundPart",Me),R(ke,"webColors",Wp),R(ke,"nonColors",lx),R(ke,"version",AQ);let Ue=ke;const To="ArrowDown",Cu="ArrowUp",Kp="ArrowLeft",Pa="ArrowRight",HN="Enter",xQ="Escape",Hk="Space",SQ="transitionDuration",CQ="transitionDelay",rb="transitionend",VN="transitionProperty",UN=(e,t,r,n)=>{const i=n||!1;e.addEventListener(t,r,i)},WN=(e,t,r,n)=>{const i=n||!1;e.removeEventListener(t,r,i)},EQ=(e,t)=>e.classList.contains(t),kQ=(e,...t)=>Object.assign(e,...t),OQ=(e,t)=>e.dispatchEvent(t),Xu=(e,t,r)=>{const n=getComputedStyle(e,r),i=t.replace("webkit","Webkit").replace(/([A-Z])/g,"-$1").toLowerCase();return n.getPropertyValue(i)},TQ=e=>{const t=Xu(e,VN),r=Xu(e,CQ),n=r.includes("ms")?1:1e3,i=t&&t!=="none"?parseFloat(r)*n:0;return Number.isNaN(i)?0:i},IQ=e=>{const t=Xu(e,VN),r=Xu(e,SQ),n=r.includes("ms")?1:1e3,i=t&&t!=="none"?parseFloat(r)*n:0;return Number.isNaN(i)?0:i},Vk=(e,t)=>{let r=0;const n=new Event(rb),i=IQ(e),o=TQ(e);if(i){const a=s=>{s.target===e&&(t.apply(e,[s]),e.removeEventListener(rb,a),r=1)};e.addEventListener(rb,a),setTimeout(()=>{r||OQ(e,n)},i+o+17)}else t.apply(e,[n])},Ia=(e,t)=>e.focus(t),MQ=e=>Object.entries(e),Uk=e=>Object.keys(e),Td=e=>e.offsetHeight,ew=(e,t)=>{const{width:r,height:n,top:i,right:o,bottom:a,left:s}=e.getBoundingClientRect();let l=1,c=1;return{width:r/l,height:n/c,top:i/c,right:o/l,bottom:a/c,left:s/l,x:s/l,y:i/c}},Wk="aria-description",tw="aria-expanded",PQ="aria-hidden",nb="aria-selected",Oc="aria-valuenow",Tc="aria-valuetext",DQ="change",_Q="focusin",NQ="focusout",Kk="keydown",LQ="keyup",rw="click",RQ="pointerdown",KN="pointermove",BQ="pointerup",FQ="resize",jQ="scroll",zQ="touchmove",Ao="ArrowDown",Ic="ArrowUp",Id="ArrowLeft",xa="ArrowRight",HQ="Enter",VQ="Escape",Gk="Space",UQ="transitionDuration",WQ="transitionProperty",El="tabindex",GN=(e,t,r,n)=>{const i=n||!1;e.addEventListener(t,r,i)},qN=(e,t,r,n)=>{const i=n||!1;e.removeEventListener(t,r,i)},Fm=(e,t)=>e.getAttribute(t),Le=(e,t,r)=>e.setAttribute(t,r),ib=(e,t)=>e.removeAttribute(t),Io=(e,...t)=>{e.classList.add(...t)},In=(e,...t)=>{e.classList.remove(...t)},cn=(e,t)=>e.classList.contains(t),ux=e=>e!=null&&typeof e=="object"||!1,Lf=e=>ux(e)&&typeof e.nodeType=="number"&&[1,2,3,4,5,6,7,8,9,10,11].some(t=>e.nodeType===t)||!1,Va=e=>Lf(e)&&e.nodeType===1||!1,Us=new Map,Zu={data:Us,set:(e,t,r)=>{Va(e)&&(Us.has(t)||Us.set(t,new Map),Us.get(t).set(e,r))},getAllFor:e=>Us.get(e)||null,get:(e,t)=>{if(!Va(e)||!t)return null;const r=Zu.getAllFor(t);return e&&r&&r.get(e)||null},remove:(e,t)=>{const r=Zu.getAllFor(t);!r||!Va(e)||(r.delete(e),r.size===0&&Us.delete(t))}},KQ=(e,t)=>Zu.get(e,t),GQ=e=>e==null?void 0:e.trim().replace(/(?:^\w|[A-Z]|\b\w)/g,(t,r)=>r===0?t.toLowerCase():t.toUpperCase()).replace(/\s+/g,""),No=e=>typeof e=="string"||!1,qQ=e=>ux(e)&&e.constructor.name==="Window"||!1,QN=e=>Lf(e)&&e.nodeType===9||!1,si=e=>QN(e)?e:Lf(e)?e.ownerDocument:qQ(e)?e.document:globalThis.document,oi=(e,...t)=>Object.assign(e,...t),Rt=e=>{if(!e)return;if(No(e))return si().createElement(e);const{tagName:t}=e,r=Rt(t);if(!r)return;const n={...e};return delete n.tagName,oi(r,n)},nw=(e,t)=>{if(!e||!t)return;if(No(t))return si().createElementNS(e,t);const{tagName:r}=t,n=nw(e,r);if(!n)return;const i={...t};return delete i.tagName,oi(n,i)},QQ=(e,t)=>e.dispatchEvent(t),iw=(e,t,r)=>{const n=getComputedStyle(e,r),i=t.replace("webkit","Webkit").replace(/([A-Z])/g,"-$1").toLowerCase();return n.getPropertyValue(i)},YQ=e=>{const t=iw(e,WQ),r=iw(e,UQ),n=r.includes("ms")?1:1e3,i=t&&t!=="none"?parseFloat(r)*n:0;return Number.isNaN(i)?0:i},Sa=(e,t)=>e.focus(t),qk=e=>["true",!0].includes(e)?!0:["false",!1].includes(e)?!1:["null","",null,void 0].includes(e)?null:e!==""&&!Number.isNaN(+e)?+e:e,ep=e=>Object.entries(e),JQ=(e,t,r,n)=>{if(!Va(e))return t;const i={...r},o={...e.dataset},a={...t},s={},l="title";return ep(o).forEach(([c,u])=>{const f=GQ(c);s[f]=qk(u)}),ep(i).forEach(([c,u])=>{i[c]=qk(u)}),ep(t).forEach(([c,u])=>{c in i?a[c]=i[c]:c in s?a[c]=s[c]:a[c]=c===l?Fm(e,l):u}),a},Qk=e=>Object.fromEntries(e),XQ=e=>e.offsetHeight,Mn=(e,t)=>{ep(t).forEach(([r,n])=>{if(n&&No(r)&&r.includes("--"))e.style.setProperty(r,n);else{const i={};i[r]=n,oi(e.style,i)}})},ZQ=e=>ux(e)&&e.constructor.name==="Map"||!1,YN=e=>e.toUpperCase(),JN=e=>Va(e)&&"offsetWidth"in e||!1,Md=(e,t)=>{const{width:r,height:n,top:i,right:o,bottom:a,left:s}=e.getBoundingClientRect();let l=1,c=1;if(t&&JN(e)){const{offsetWidth:u,offsetHeight:f}=e;l=u>0?Math.round(r)/u:1,c=f>0?Math.round(n)/f:1}return{width:r/l,height:n/c,top:i/c,right:o/l,bottom:a/c,left:s/l,x:s/l,y:i/c}},ob=e=>si(e).documentElement,eY=e=>{var t;return e?QN(e)?e.defaultView:Lf(e)?(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView:e:window};let Yk=0,Jk=0;const Ws=new Map,XN=(e,t)=>{let r=t?Yk:Jk;if(t){const n=XN(e),i=Ws.get(n)||new Map;Ws.has(n)||Ws.set(n,i),ZQ(i)&&!i.has(t)?(i.set(t,r),Yk+=1):r=i.get(t)}else{const n=e.id||e;Ws.has(n)?r=Ws.get(n):(Ws.set(n,r),Jk+=1)}return r},ab=e=>Array.isArray(e)||!1,ZN=(e,t)=>!e||!t?null:e.closest(t)||ZN(e.getRootNode().host,t)||null,Ca=(e,t)=>Va(e)?e:(Va(t)?t:si()).querySelector(e),Mc=(e,t)=>(t&&Lf(t)?t:si()).getElementsByClassName(e),fx=["transparent","currentColor","inherit","revert","initial"],Pe=e=>{const t=Math.floor(e);return e-t<.5?t:Math.round(e)},Gp=[["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["goldenrod",{r:218,g:165,b:32}],["gold",{r:255,g:215,b:0}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavenderblush",{r:255,g:240,b:245}],["lavender",{r:230,g:230,b:250}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]],eL="deg|rad|grad|turn",tL="[-\\+]?\\d+%?",rL="[-\\+]?\\d*\\.\\d+%?",nL=`[-\\+]?\\d*\\.?\\d+(?:${eL})?`,tp=`(?:${rL})|(?:${tL})`,ow=`(?:${tp})|(?:${nL}?)`,tY="(?:[\\s|\\(\\s|\\s\\(\\s]+)?",rY="(?:[\\s|\\)\\s]+)?",Xk="(?:[,|\\s]+)",nY="(?:[,|\\/\\s]*)?",Pc=`${tY}(${ow})${Xk}(${tp})${Xk}(${tp})${nY}(${tp})?${rY}`,ti={CSS_UNIT:new RegExp(ow),ANGLES:eL,CSS_ANGLE:nL,CSS_INTEGER:tL,CSS_NUMBER:rL,CSS_UNIT2:ow,PERMISSIVE_MATCH:Pc,hwb:new RegExp(`hwb${Pc}`),rgb:new RegExp(`rgb(?:a)?${Pc}`),hsl:new RegExp(`hsl(?:a)?${Pc}`),hsv:new RegExp(`hsv(?:a)?${Pc}`),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},iL=e=>fx.includes(e),cu=(e,t)=>e!==null&&typeof e=="object"&&Object.keys(t).every(r=>r in e),oL=e=>`${e}`.includes(".")&&parseFloat(e)===1,dx=e=>typeof e=="string"&&e.includes("%"),Ar=e=>!!ti.CSS_UNIT.exec(`${e}`),aL=["rgb","hex","hsl","hsv","hwb"],sL=e=>fx.includes(e)||["#",...aL].some(t=>e.includes(t))?!1:Gp.some(([t])=>e===t),Zk=1e-6,iY=(e,t)=>Math.abs(e*t-t)<Zk?1:e<Zk?0:e,Or=(e,t)=>{let r=e;return oL(e)&&(r="100%"),dx(r)?Number.parseFloat(r)/100:(r=typeof r!="number"?Number.parseFloat(r):r,t===360?r=(r<0?r%t+t:r>360?r%t:r)/t:(r=Math.min(t,Math.max(0,r)),r=r/t),iY(r,t))},aw=e=>{let t=parseFloat(e);return(Number.isNaN(t)||t<0||t>1)&&(t=1),t},Pd=e=>Math.min(1,Math.max(0,e)),Lo=e=>e.length===1?`0${e}`:String(e),lL=e=>{const[[,t]]=Gp.filter(([r])=>r===e.toLowerCase());return t},Sr=e=>parseInt(e,16),sw=e=>Sr(e)/255,cL=e=>Pe(e*255).toString(16),eO=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0,a=0;const s=(n+i)/2;if(n===i)a=0,o=0;else{const l=n-i;a=s>.5?l/(2-n-i):l/(n+i),n===e&&(o=(t-r)/l+(t<r?6:0)),n===t&&(o=(r-e)/l+2),n===r&&(o=(e-t)/l+4),o/=6}return{h:o,s:a,l:s}},rp=(e,t,r)=>{let n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e},Eu=(e,t,r)=>{let n=0,i=0,o=0;if(t===0)i=r,o=r,n=r;else{const a=r<.5?r*(1+t):r+t-r*t,s=2*r-a;n=rp(s,a,e+1/3),i=rp(s,a,e),o=rp(s,a,e-1/3)}return{r:n,g:i,b:o}},tO=(e,t,r)=>{let n=0,i=0;const o=Math.min(e,t,r),a=Math.max(e,t,r),s=1-a;if(a===o)return{h:0,w:o,b:s};e===o?(n=t-r,i=3):(n=t===o?r-e:e-t,i=t===o?5:1);const l=(i-n/(a-o))/6;return{h:l===1?0:l,w:o,b:s}},uL=(e,t,r)=>{if(t+r>=1){const a=t/(t+r);return{r:a,g:a,b:a}}let{r:n,g:i,b:o}=Eu(e,1,.5);return[n,i,o]=[n,i,o].map(a=>a*(1-t-r)+t),{r:n,g:i,b:o}},rO=(e,t,r)=>{const n=Math.max(e,t,r),i=Math.min(e,t,r);let o=0;const a=n,s=n-i,l=n===0?0:s/n;return n===i?o=0:(e===n&&(o=(t-r)/s+(t<r?6:0)),t===n&&(o=(r-e)/s+2),r===n&&(o=(e-t)/s+4),o/=6),{h:o,s:l,v:a}},lw=(e,t,r)=>{const n=e*6,i=t,o=r,a=Math.floor(n),s=n-a,l=o*(1-i),c=o*(1-s*i),u=o*(1-(1-s)*i),f=a%6,d=[o,c,l,l,u,o][f],h=[u,o,o,c,l,l][f],p=[l,l,u,o,o,c][f];return{r:d,g:h,b:p}},sb=(e,t,r,n)=>{const i=[Lo(Pe(e).toString(16)),Lo(Pe(t).toString(16)),Lo(Pe(r).toString(16))];return n&&i[0].charAt(0)===i[0].charAt(1)&&i[1].charAt(0)===i[1].charAt(1)&&i[2].charAt(0)===i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")},lb=(e,t,r,n,i)=>{const o=[Lo(Pe(e).toString(16)),Lo(Pe(t).toString(16)),Lo(Pe(r).toString(16)),Lo(cL(n))];return i&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)&&o[3].charAt(0)===o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")},fL=e=>{const t=String(e).trim().toLowerCase();if(sL(t))return Object.assign(lL(t),{a:1,format:"rgb",ok:!0});if(iL(t))return{r:0,g:0,b:0,a:t==="transparent"?0:1,format:"rgb",ok:!0};let[,r,n,i,o]=ti.rgb.exec(t)||[];return r&&n&&i?{r,g:n,b:i,a:o!==void 0?o:1,format:"rgb",ok:!0}:([,r,n,i,o]=ti.hsl.exec(t)||[],r&&n&&i?{h:r,s:n,l:i,a:o!==void 0?o:1,format:"hsl",ok:!0}:([,r,n,i,o]=ti.hsv.exec(t)||[],r&&n&&i?{h:r,s:n,v:i,a:o!==void 0?o:1,format:"hsv",ok:!0}:([,r,n,i,o]=ti.hwb.exec(t)||[],r&&n&&i?{h:r,w:n,b:i,a:o!==void 0?o:1,format:"hwb",ok:!0}:([,r,n,i,o]=ti.hex8.exec(t)||[],r&&n&&i&&o?{r:Sr(r),g:Sr(n),b:Sr(i),a:sw(o),format:"hex",ok:!0}:([,r,n,i]=ti.hex6.exec(t)||[],r&&n&&i?{r:Sr(r),g:Sr(n),b:Sr(i),a:1,format:"hex",ok:!0}:([,r,n,i,o]=ti.hex4.exec(t)||[],r&&n&&i&&o?{r:Sr(r+r),g:Sr(n+n),b:Sr(i+i),a:sw(o+o),format:"hex",ok:!0}:([,r,n,i]=ti.hex3.exec(t)||[],r&&n&&i?{r:Sr(r+r),g:Sr(n+n),b:Sr(i+i),a:1,format:"hex",ok:!0}:{r:0,g:0,b:0,a:1,format:"rgb",ok:!e})))))))},oY=(e,t,r)=>({r:Or(e,255),g:Or(t,255),b:Or(r,255)}),nO=e=>{let t={r:0,g:0,b:0},r=e,n=1,i,o,a,s,l,c,u,f,d="rgb",h=!1;if((!r||typeof r=="string")&&(r=fL(r),h=r.ok||h),cu(r,t)&&Ar(r.r)&&Ar(r.g)&&Ar(r.b)){if(["format","ok","originalInput"].every(p=>p in r))return{...r};({r:u,g:f,b:l}=r),t=oY(u,f,l),d="format"in r?r.format:"rgb"}return cu(r,{h:0,s:0,v:0})&&Ar(r.h)&&Ar(r.s)&&Ar(r.v)&&({h:c,s:i,v:o}=r,c=Or(c,360),i=Or(i,100),o=Or(o,100),t=lw(c,i,o),d="hsv"),cu(r,{h:0,s:0,l:0})&&Ar(r.h)&&Ar(r.s)&&Ar(r.l)&&({h:c,s:i,l:a}=r,c=Or(c,360),i=Or(i,100),a=Or(a,100),t=Eu(c,i,a),d="hsl"),cu(r,{h:0,w:0,b:0})&&Ar(r.h)&&Ar(r.w)&&Ar(r.b)&&({h:c,w:s,b:l}=r,c=Or(c,360),s=Or(s,100),l=Or(l,100),t=uL(c,s,l),d="hwb"),Ar(r.a)&&(n=r.a,n=dx(n)||parseFloat(`${n}`)>1?Or(n,100):n),{...t,a:aw(n),format:d,ok:h}},aY="1.0.14",Oe=class Oe{constructor(t,r){R(this,"r");R(this,"g");R(this,"b");R(this,"a");R(this,"format");R(this,"ok");R(this,"originalInput");const n=r&&aL.includes(r)?r:"",{r:i,g:o,b:a,a:s,ok:l,format:c}=nO(t);this.originalInput=t,this.r=i,this.g=o,this.b=a,this.a=s,this.ok=l,this.format=n||c}get isValid(){return this.ok}get isDark(){return this.brightness<120}get luminance(){const{r:t,g:r,b:n}=this;let i=0,o=0,a=0;return t<=.03928?i=t/12.92:i=((t+.055)/1.055)**2.4,r<=.03928?o=r/12.92:o=((r+.055)/1.055)**2.4,n<=.03928?a=n/12.92:a=((n+.055)/1.055)**2.4,.2126*i+.7152*o+.0722*a}get brightness(){const{r:t,g:r,b:n}=this.toRgb();return(t*299+r*587+n*114)/1e3}get name(){const{r:t,g:r,b:n}=this.toRgb(),[i]=Gp.map(([o,a])=>{const s=(((a.r-t)*.3)**2+((a.g-r)*.6)**2+((a.b-n)*.1)**2)**.5;return[o,s]}).find(([,o],a,s)=>o===Math.min(...s.map(([,l])=>l)));return i}toRgb(){let{r:t,g:r,b:n,a:i}=this;return[t,r,n]=[t,r,n].map(o=>Pe(o*255*100)/100),i=Pe(i*100)/100,{r:t,g:r,b:n,a:i}}toRgbString(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Pe);return i===1?`rgb(${o}, ${a}, ${s})`:`rgba(${o}, ${a}, ${s}, ${i})`}toRgbCSS4String(){const{r:t,g:r,b:n,a:i}=this.toRgb(),[o,a,s]=[t,r,n].map(Pe),l=i===1?"":` / ${Pe(i*100)}%`;return`rgb(${o} ${a} ${s}${l})`}toHex(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Pe(a*255)),o=Pe(o*100)/100,o===1?sb(r,n,i,t):lb(r,n,i,o,t)}toHexString(t){return`#${this.toHex(t)}`}toHex8(t){let{r,g:n,b:i,a:o}=this;return[r,n,i]=[r,n,i].map(a=>Pe(a*255)),o=Pe(o*100)/100,o===1?sb(r,n,i,t):lb(r,n,i,o,t)}toHex8String(t){return`#${this.toHex8(t)}`}toHsv(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,v:s}=rO(t,r,n);return{h:o,s:a,v:s,a:i}}toHsl(){const{r:t,g:r,b:n,a:i}=this,{h:o,s:a,l:s}=eO(t,r,n);return{h:o,s:a,l:s,a:i}}toHslString(){let{h:t,s:r,l:n,a:i}=this.toHsl();return t=Pe(t*360),r=Pe(r*100),n=Pe(n*100),i=Pe(i*100)/100,i===1?`hsl(${t}, ${r}%, ${n}%)`:`hsla(${t}, ${r}%, ${n}%, ${i})`}toHslCSS4String(){let{h:t,s:r,l:n,a:i}=this.toHsl();t=Pe(t*360),r=Pe(r*100),n=Pe(n*100),i=Pe(i*100);const o=i<100?` / ${Pe(i)}%`:"";return`hsl(${t}deg ${r}% ${n}%${o})`}toHwb(){const{r:t,g:r,b:n,a:i}=this,{h:o,w:a,b:s}=tO(t,r,n);return{h:o,w:a,b:s,a:i}}toHwbString(){let{h:t,w:r,b:n,a:i}=this.toHwb();t=Pe(t*360),r=Pe(r*100),n=Pe(n*100),i=Pe(i*100);const o=i<100?` / ${Pe(i)}%`:"";return`hwb(${t}deg ${r}% ${n}%${o})`}setAlpha(t){return typeof t!="number"?this:(this.a=aw(t),this)}saturate(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Eu(r,Pd(n+t/100),i);return Object.assign(this,{r:o,g:a,b:s}),this}desaturate(t){return typeof t=="number"?this.saturate(-t):this}greyscale(){return this.saturate(-100)}lighten(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Eu(r,n,Pd(i+t/100));return Object.assign(this,{r:o,g:a,b:s}),this}darken(t){return typeof t=="number"?this.lighten(-t):this}spin(t){if(typeof t!="number")return this;const{h:r,s:n,l:i}=this.toHsl(),{r:o,g:a,b:s}=Eu(Pd((r*360+t)%360/360),n,i);return Object.assign(this,{r:o,g:a,b:s}),this}clone(){return new Oe(this)}toString(t){const{format:r}=this;return r==="hex"?this.toHexString(t):r==="hsl"?this.toHslString():r==="hwb"?this.toHwbString():this.toRgbString()}};R(Oe,"matchers",ti),R(Oe,"isOnePointZero",oL),R(Oe,"isPercentage",dx),R(Oe,"isValidCSSUnit",Ar),R(Oe,"isNonColor",iL),R(Oe,"isColorName",sL),R(Oe,"isColorType",cu),R(Oe,"pad2",Lo),R(Oe,"clamp01",Pd),R(Oe,"bound01",Or),R(Oe,"boundAlpha",aw),R(Oe,"getRGBFromName",lL),R(Oe,"convertHexToDecimal",sw),R(Oe,"convertDecimalToHex",cL),R(Oe,"rgbToHsl",eO),R(Oe,"rgbToHex",sb),R(Oe,"rgbToHsv",rO),R(Oe,"rgbToHwb",tO),R(Oe,"rgbaToHex",lb),R(Oe,"hslToRgb",lw),R(Oe,"hsvToRgb",lw),R(Oe,"hueToRgb",rp),R(Oe,"hwbToRgb",uL),R(Oe,"parseIntFromHex",Sr),R(Oe,"stringInputToObject",fL),R(Oe,"inputToRGB",nO),R(Oe,"roundPart",Pe),R(Oe,"webColors",Gp),R(Oe,"nonColors",fx),R(Oe,"version",aY);let bt=Oe;class qp{constructor(...t){R(this,"hue");R(this,"hueSteps");R(this,"lightSteps");R(this,"saturation");R(this,"colors");let r=0,n=12,i=10,o=[.5],a=100;if(t.length===4)[r,n,i,a]=t;else if(t.length===3)[r,n,i]=t;else if(t.length===2&&([n,i]=t,[n,i].some(p=>p<1)))throw TypeError("ColorPalette: the two minimum arguments must be numbers higher than 0.");const s=[],l=360/n,c=bt.roundPart((i-(i%2?1:0))/2),u=[.25,.2,.15,.11,.09,.075],f=[[1,2,3],[4,5],[6,7],[8,9],[10,11],[12,13]],d=f.find(p=>p.includes(i)),h=d?u[f.indexOf(d)]:100/(i+(i%2?0:1))/100;for(let p=1;p<c+1;p+=1)o=[...o,.5+h*p];for(let p=1;p<i-c;p+=1)o=[.5-h*p,...o];for(let p=0;p<n;p+=1){const g=(r+p*l)%360;o.forEach(m=>{const v=new bt({h:g,s:100,l:m*100});s.push(a<100?v.saturate(a-100):v)})}this.hue=r,this.hueSteps=n,this.lightSteps=i,this.saturation=a,this.colors=s}}R(qp,"Color",bt);const cw={pickerLabel:"Colour Picker",appearanceLabel:"Colour Appearance",valueLabel:"Colour Value",toggleLabel:"Select Colour",presetsLabel:"Colour Presets",defaultsLabel:"Colour Defaults",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadecimal",hueLabel:"Hue",whitenessLabel:"Whiteness",blacknessLabel:"Blackness",saturationLabel:"Saturation",lightnessLabel:"Lightness",redLabel:"Red",greenLabel:"Green",blueLabel:"Blue"},uu=["white","black","grey","red","orange","brown","gold","olive","yellow","lime","green","teal","cyan","blue","violet","magenta","pink"],iO=e=>{if(!No(e))return!1;try{JSON.parse(e)}catch{return!1}return!0},uw="v-hidden",sY=e=>{const{format:t,id:r,componentLabels:n}=e,i=Rt({tagName:"div",className:`color-form ${t}`});let o=["hex"];return t==="rgb"?o=["red","green","blue","alpha"]:t==="hsl"?o=["hue","saturation","lightness","alpha"]:t==="hwb"&&(o=["hue","whiteness","blackness","alpha"]),o.forEach(a=>{const[s]=t==="hex"?["#"]:YN(a).split(""),l=`color_${t}_${a}_${r}`,c=n[`${a}Label`],u=Rt({tagName:"label"});Le(u,"for",l),u.append(Rt({tagName:"span",ariaHidden:"true",innerText:`${s}:`}),Rt({tagName:"span",className:uw,innerText:c}));const f=Rt({tagName:"input",id:l,type:t==="hex"?"text":"number",value:a==="alpha"?"100":"0",className:`color-input ${a}`,autocomplete:"off",spellcheck:!1});let d="100",h="1";a!=="alpha"&&(t==="rgb"?(d="255",h="1"):a==="hue"&&(d="360",h="1")),oi(f,{min:"0",max:d,step:h}),i.append(u,f)}),i},lY=e=>{const{format:t,componentLabels:r}=e,{hueLabel:n,alphaLabel:i,lightnessLabel:o,saturationLabel:a,whitenessLabel:s,blacknessLabel:l}=r,c=t==="hsl"?360:100,u=t==="hsl"?100:360,f=100;let d=t==="hsl"?`${n} & ${o}`:`${o} & ${a}`;d=t==="hwb"?`${s} & ${l}`:d;const h=t==="hsl"?`${a}`:`${n}`,p=Rt({tagName:"div",className:`color-controls ${t}`}),g="color-pointer",m="color-slider";return[{i:1,c:g,l:d,min:0,max:c},{i:2,c:m,l:h,min:0,max:u},{i:3,c:m,l:i,min:0,max:f}].forEach(v=>{const{i:b,c:y,l:w,min:$,max:A}=v,C=Rt({tagName:"div",className:"color-control",role:"presentation"});C.append(Rt({tagName:"div",className:`visual-control visual-control${b}`}));const E=Rt({tagName:"div",className:`${y} knob`,ariaLive:"polite",ariaLabel:w,role:"slider",tabIndex:0,ariaValueMin:`${$}`,ariaValueMax:`${A}`});C.append(E),p.append(C)}),p},oO=(e,t,r)=>{const{input:n,format:i,componentLabels:o}=e,{defaultsLabel:a,presetsLabel:s}=o,l=r==="color-options",c=t instanceof qp,u=l?s:a,f=c?t.colors:t,d=f.length,{lightSteps:h}=c?t:{lightSteps:null},p=h||[9,10].find(_=>d>=_*2&&!(d%_))||5,g=l&&d>p;let m=2;m=g&&d>p*2?3:m,m=g&&d>p*3?4:m,m=g&&d>p*4?5:m;const v=m-(d<=p*3?1:2),b=g&&d>v*p;let y=r;y+=b?" scrollable":"",y+=g?" multiline":"";const w=g?"1px":"0.25rem";let $=g?1.75:2;$=p>5&&g?1.5:$;const A=`${v*$}rem`,C=`calc(${m} * ${$}rem + ${m-1} * ${w})`,E=Rt({tagName:"ul",className:y,role:"listbox",ariaLabel:u});return b&&Mn(E,{"--grid-item-size":`${$}rem`,"--grid-fit":`${p}`,"--grid-gap":w,"--grid-height":A,"--grid-hover-height":C}),f.forEach(_=>{let[N,M]=typeof _=="string"?_.trim().split(":"):[];_ instanceof bt&&(N=_.toHexString(),M=N);const O=new bt(_ instanceof bt?_:N,i).toString()===Fm(n,"value"),D=Rt({tagName:"li",className:`color-option${O?" active":""}`,innerText:`${M||N}`,tabIndex:0,role:"option",ariaSelected:O?"true":"false"});Le(D,"data-value",`${N}`),l&&Mn(D,{backgroundColor:N}),E.append(D)}),E},cY=e=>{const{input:t,parent:r,format:n,id:i,componentLabels:o,colorKeywords:a,colorPresets:s}=e,l=Fm(t,"value")||"#fff",{nonColors:c}=bt,{toggleLabel:u,pickerLabel:f,formatLabel:d,hexLabel:h}=o,p=c.includes(l)?"#fff":l;e.color=new bt(p,n);const g=n==="hex"?h:YN(n),m=Rt({id:`picker-btn-${i}`,tagName:"button",type:"button",className:"picker-toggle btn-appearance",ariaExpanded:"false",ariaHasPopup:"true"});m.append(Rt({tagName:"span",className:uw,innerText:`${f}. ${d}: ${g}`}));const v=Rt({tagName:"div",className:"color-dropdown picker",role:"group",ariaLabelledBy:`picker-btn-${i}`}),b=lY(e),y=sY(e);if(v.append(b,y),t.before(m),r.append(v),a||s){const w=Rt({tagName:"div",className:"color-dropdown scrollable menu"});s&&w.append(oO(e,s,"color-options")),a&&a.length&&w.append(oO(e,a,"color-defaults"));const $=Rt({tagName:"button",type:"button",className:"menu-toggle btn-appearance",tabIndex:-1,ariaExpanded:"false",ariaHasPopup:"true"}),A=encodeURI("http://www.w3.org/2000/svg"),C=nw(A,{tagName:"svg"});Le(C,"xmlns",A),Le(C,"viewBox","0 0 512 512"),Le(C,PQ,"true");const E=nw(A,{tagName:"path"});Le(E,"d","M98,158l157,156L411,158l27,27L255,368L71,185L98,158z"),Le(E,"fill","#fff"),C.append(E),$.append(Rt({tagName:"span",className:uw,innerText:`${u}`}),C),r.append($,w)}a&&c.includes(l)&&(e.value=l),Le(t,El,"-1")},uY="2.0.4",kl="color-picker",fY=`[data-function="${kl}"]`,aO=`.${kl}`,dY={componentLabels:cw,colorLabels:uu,format:"rgb",colorPresets:!1,colorKeywords:!1},{roundPart:mt,nonColors:Dd}=bt,hY=e=>KQ(e,kl),pY=e=>new Cr(e),sO=(e,t)=>{const r=t?GN:qN,{input:n,pickerToggle:i,menuToggle:o}=e;r(n,_Q,e.showPicker),r(i,rw,e.togglePicker),o&&r(o,rw,e.toggleMenu)},dL=(e,t)=>{const r=t?GN:qN,{input:n,colorMenu:i,parent:o}=e,a=si(n),s=eY(a);r(e.controls,RQ,e.pointerDown),e.controlKnobs.forEach(l=>r(l,Kk,e.handleKnobs)),r(s,jQ,e.handleScroll),r(s,FQ,e.update),[n,...e.inputs].forEach(l=>r(l,DQ,e.changeHandler)),i&&(r(i,rw,e.menuClickHandler),r(i,Kk,e.menuKeyHandler)),r(a,KN,e.pointerMove),r(a,BQ,e.pointerUp),r(o,NQ,e.handleFocusOut),r(a,LQ,e.handleDismiss)},lO=e=>{QQ(e.input,new CustomEvent("colorpicker.change"))},hL=e=>{e&&["bottom","top"].forEach(t=>In(e,t))},cb=(e,t)=>{const{colorPicker:r,colorMenu:n,menuToggle:i,pickerToggle:o,parent:a}=e,s=t===r,l=s?n:r,c=s?i:o,u=s?o:i;cn(a,"open")||Io(a,"open"),l&&(In(l,"show"),hL(l)),Io(t,"bottom"),XQ(t),Io(t,"show"),s&&e.update(),e.isOpen||(dL(e,!0),e.updateDropdownPosition(),e.isOpen=!0,Le(e.input,El,"0"),i&&Le(i,El,"0")),Le(u,tw,"true"),c&&Le(c,tw,"false")};class Cr{constructor(t,r){R(this,"id");R(this,"input");R(this,"color");R(this,"format","rgb");R(this,"parent");R(this,"dragElement");R(this,"isOpen",!1);R(this,"controlPositions");R(this,"colorLabels",Qk(uu.map(t=>[t,t])));R(this,"colorKeywords");R(this,"colorPresets");R(this,"componentLabels");R(this,"pickerToggle");R(this,"menuToggle");R(this,"colorPicker");R(this,"colorMenu");R(this,"controls");R(this,"inputs");R(this,"controlKnobs");R(this,"visuals");R(this,"handleFocusOut",({relatedTarget:t})=>{t&&!this.parent.contains(t)&&this.hide(!0)});R(this,"handleDismiss",({code:t})=>{this.isOpen&&t===VQ&&this.hide()});R(this,"handleScroll",t=>{const{activeElement:r}=si(this.input);this.updateDropdownPosition(),([KN,zQ].includes(t.type)&&this.dragElement||r&&this.controlKnobs.includes(r))&&(t.stopPropagation(),t.preventDefault())});R(this,"menuKeyHandler",t=>{const{target:r,code:n}=t,{previousElementSibling:i,nextElementSibling:o,parentElement:a}=r,s=a&&cn(a,"color-options"),l=a?[...a.children]:[],c=s&&Number(iw(a,"--grid-fit")),u=l.indexOf(r),f=u>-1&&c&&l[u-c],d=u>-1&&c&&l[u+c];[Ao,Ic,Gk].includes(n)&&t.preventDefault(),s?f&&n===Ic?Sa(f):d&&n===Ao?Sa(d):i&&n===Id?Sa(i):o&&n===xa&&Sa(o):i&&[Id,Ic].includes(n)?Sa(i):o&&[xa,Ao].includes(n)&&Sa(o),[HQ,Gk].includes(n)&&this.menuClickHandler(t)});R(this,"menuClickHandler",t=>{const{target:r}=t,{colorMenu:n}=this,i=(Fm(r,"data-value")||"").trim();if(!i.length)return;const o=Ca("li.active",n);let a=i;a=Dd.includes(a)?"white":a,a=a==="transparent"?"rgba(0,0,0,0)":a;const{r:s,g:l,b:c,a:u}=new bt(a);oi(this.color,{r:s,g:l,b:c,a:u}),this.update(),o!==r&&(o&&(In(o,"active"),ib(o,nb)),Io(r,"active"),Le(r,nb,"true"),Dd.includes(i)&&(this.value=i),lO(this))});R(this,"pointerDown",t=>{if(t.button!==0)return;const{target:r,pageX:n,pageY:i}=t,{colorMenu:o,visuals:a,controlKnobs:s}=this,[l,c,u]=a,[f,d,h]=s,p=s.includes(r)?r.previousElementSibling:r,g=Md(p),m=ob(l),v=n-m.scrollLeft-g.left,b=i-m.scrollTop-g.top;if(r===l||r===f?(this.dragElement=p,this.changeControl1(v,b)):r===c||r===d?(this.dragElement=p,this.changeControl2(b)):(r===u||r===h)&&(this.dragElement=p,this.changeAlpha(b)),o){const y=Ca("li.active",o);y&&(In(y,"active"),ib(y,nb))}t.preventDefault()});R(this,"pointerUp",({target:t})=>{const{parent:r}=this,n=si(r),i=Ca(`${aO}.open`,n)!==null,o=n.getSelection();!this.dragElement&&(!o||!o.toString().length)&&!r.contains(t)&&this.hide(i),this.dragElement=void 0});R(this,"pointerMove",t=>{const{dragElement:r,visuals:n}=this,[i,o,a]=n,{pageX:s,pageY:l}=t;if(!r)return;const c=Md(r),u=ob(i),f=s-u.scrollLeft-c.left,d=l-u.scrollTop-c.top;r===i&&this.changeControl1(f,d),r===o&&this.changeControl2(d),r===a&&this.changeAlpha(d)});R(this,"handleKnobs",t=>{const{target:r,code:n}=t;if(![Ic,Ao,Id,xa].includes(n))return;t.preventDefault();const{controlKnobs:i,visuals:o}=this,{offsetWidth:a,offsetHeight:s}=o[0],[l,c,u]=i,{activeElement:f}=si(l),d=i.find(p=>p===f),h=s/360;if(d){let p=0,g=0;if(r===l){const m=a/100;[Id,xa].includes(n)?this.controlPositions.c1x+=n===xa?m:-m:[Ic,Ao].includes(n)&&(this.controlPositions.c1y+=n===Ao?h:-h),p=this.controlPositions.c1x,g=this.controlPositions.c1y,this.changeControl1(p,g)}else r===c?(this.controlPositions.c2y+=[Ao,xa].includes(n)?h:-h,g=this.controlPositions.c2y,this.changeControl2(g)):r===u&&(this.controlPositions.c3y+=[Ao,xa].includes(n)?h:-h,g=this.controlPositions.c3y,this.changeAlpha(g));this.handleScroll(t)}});R(this,"changeHandler",()=>{let t;const{inputs:r,format:n,value:i,input:o,controlPositions:a,visuals:s}=this,{activeElement:l}=si(o),{offsetHeight:c}=s[0],[u,,,f]=r,[d,h,p,g]=n==="rgb"?r.map(b=>parseFloat(b.value)/(b===f?100:1)):r.map(b=>parseFloat(b.value)/(b!==u?100:360)),m=this.hasNonColor&&Dd.includes(i),v=f?g:1-a.c3y/c;if(l===o||l&&r.includes(l)){l===o?m?t=i==="transparent"?"rgba(0,0,0,0)":"rgb(0,0,0)":t=i:n==="hex"?t=u.value:n==="hsl"?t={h:d,s:h,l:p,a:v}:n==="hwb"?t={h:d,w:h,b:p,a:v}:t={r:d,g:h,b:p,a:v};const{r:b,g:y,b:w,a:$}=new bt(t);oi(this.color,{r:b,g:y,b:w,a:$}),this.setControlPositions(),this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals(),l===o&&m&&(this.value=i)}});R(this,"update",()=>{this.updateDropdownPosition(),this.updateAppearance(),this.setControlPositions(),this.updateInputs(!0),this.updateControls(),this.updateVisuals()});R(this,"togglePicker",t=>{t&&t.preventDefault();const{colorPicker:r}=this;this.isOpen&&cn(r,"show")?this.hide(!0):cb(this,r)});R(this,"showPicker",()=>{const{colorPicker:t}=this;["top","bottom"].some(r=>cn(t,r))||cb(this,t)});R(this,"toggleMenu",t=>{t&&t.preventDefault();const{colorMenu:r}=this;this.isOpen&&cn(r,"show")?this.hide(!0):cb(this,r)});const n=Ca(t);if(typeof t>"u")throw new TypeError("ColorPicker target not specified.");if(!JN(n))throw new TypeError(`ColorPicker target "${t}" cannot be found.`);this.input=n;const i=ZN(n,aO);if(!i)throw new TypeError("ColorPicker requires a specific markup to work.");this.parent=i,this.id=XN(n,kl),this.dragElement=void 0,this.isOpen=!1,this.controlPositions={c1x:0,c1y:0,c2y:0,c3y:0},this.colorKeywords=!1,this.colorPresets=!1;const{format:o,componentLabels:a,colorLabels:s,colorKeywords:l,colorPresets:c}=JQ(n,dY,r||{});let u=uu;ab(s)&&s.length===17?u=s:No(s)&&s.split(",").length===17&&(u=s.split(",")),oi(this.colorLabels,Qk(u.map((g,m)=>[uu[m],g])));const f=No(a)&&iO(a)?JSON.parse(a):a;if(this.componentLabels=oi({...cw},f),this.color=new bt(n.value||"#fff",o),this.format=o,ab(l)&&l.length?this.colorKeywords=l:No(l)&&l.length&&(this.colorKeywords=l.split(",").map(g=>g.trim())),ab(c)&&c.length)this.colorPresets=c;else if(c&&iO(c)){const{hue:g,hueSteps:m,lightSteps:v,saturation:b}=JSON.parse(c);this.colorPresets=new qp(g,m,v,b)}else No(c)&&(this.colorPresets=c.split(",").map(g=>g.trim()));cY(this);const[d,h]=Mc("color-dropdown",i);this.pickerToggle=Ca(".picker-toggle",i),this.menuToggle=Ca(".menu-toggle",i),this.colorPicker=d,this.colorMenu=h,this.inputs=[...Mc("color-input",i)];const[p]=Mc("color-controls",i);this.controls=p,this.controlKnobs=[...Mc("knob",p)],this.visuals=[...Mc("visual-control",p)],this.update(),sO(this,!0),Zu.set(n,kl,this)}get value(){return this.input.value}set value(t){this.input.value=t}get hasNonColor(){return this.colorKeywords instanceof Array&&this.colorKeywords.some(t=>Dd.includes(t))}get hex(){return this.color.toHex(!0)}get hsv(){return this.color.toHsv()}get hsl(){return this.color.toHsl()}get hwb(){return this.color.toHwb()}get rgb(){return this.color.toRgb()}get brightness(){return this.color.brightness}get luminance(){return this.color.luminance}get isDark(){const{color:t,brightness:r}=this;return r<120&&t.a>.33}get isValid(){const t=this.input.value;return t!==""&&new bt(t).isValid}get appearance(){const{colorLabels:t,hsl:r,hsv:n,format:i}=this,o=mt(r.h*360),a=i==="hsl"?r.s:n.s,s=mt(a*100),l=mt(r.l*100),c=n.v*100;let u="black";if(l===100&&s===0)u=t.white;else if(l===0)u=t.black;else if(s===0)u=t.grey;else if(o<15||o>=345)u=t.red;else if(o>=15&&o<45)u=c>80&&s>80?t.orange:t.brown;else if(o>=45&&o<75){const f=o>46&&o<54&&c<80&&s>90,d=o>=54&&o<75&&c<80;u=f?t.gold:t.yellow,u=d?t.olive:u}else o>=75&&o<155?u=c<68?t.green:t.lime:o>=155&&o<175?u=t.teal:o>=175&&o<195?u=t.cyan:o>=195&&o<255?u=t.blue:o>=255&&o<270?u=t.violet:o>=270&&o<295?u=t.magenta:o>=295&&o<345&&(u=t.pink);return u}updateVisuals(){const{controlPositions:t,visuals:r}=this,[n,i,o]=r,{offsetHeight:a}=n,s=t.c2y/a,{r:l,g:c,b:u}=new bt({h:s*360,s:100,l:50}).toRgb(),f="linear-gradient(rgb(255,255,255) 0%, rgb(255,255,255) 100%)",d=1-t.c3y/a,h=mt(d*100)/100,p=new bt({h:s*360,s:100,l:50,a:d}).toRgbString();Mn(n,{background:`linear-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,${h}) 100%),
      linear-gradient(to right, rgba(255,255,255,${h}) 0%, ${p} 100%),
      ${f}`}),Mn(i,{background:`linear-gradient(
      rgb(255,0,0) 0%, rgb(255,255,0) 16.67%,
      rgb(0,255,0) 33.33%, rgb(0,255,255) 50%,
      rgb(0,0,255) 66.67%, rgb(255,0,255) 83.33%,
      rgb(255,0,0) 100%)`}),Mn(o,{background:`linear-gradient(rgba(${l},${c},${u},1) 0%,rgba(${l},${c},${u},0) 100%)`})}changeControl1(t,r){let[n,i]=[0,0];const{controlPositions:o,visuals:a}=this,{offsetHeight:s,offsetWidth:l}=a[0];t>l?n=l:t>=0&&(n=t),r>s?i=s:r>=0&&(i=r);const c=o.c2y/s,u=n/l,f=1-i/s,d=1-o.c3y/s,{r:h,g:p,b:g,a:m}=new bt({h:c*360,s:u*100,v:f*100,a:d});oi(this.color,{r:h,g:p,b:g,a:m}),this.controlPositions.c1x=n,this.controlPositions.c1y=i,this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals()}changeControl2(t){const{controlPositions:r,visuals:n}=this,{offsetHeight:i,offsetWidth:o}=n[0];let a=0;t>i?a=i:t>=0&&(a=t);const s=a/i,l=r.c1x/o,c=1-r.c1y/i,u=1-r.c3y/i,{r:f,g:d,b:h,a:p}=new bt({h:s*360,s:l*100,v:c*100,a:u});oi(this.color,{r:f,g:d,b:h,a:p}),this.controlPositions.c2y=a,this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals()}changeAlpha(t){const{visuals:r}=this,{offsetHeight:n}=r[0];let i=0;t>n?i=n:t>=0&&(i=t);const o=1-i/n;this.color.setAlpha(o),this.controlPositions.c3y=i,this.updateAppearance(),this.updateInputs(),this.updateControls(),this.updateVisuals()}updateDropdownPosition(){const{input:t,colorPicker:r,colorMenu:n}=this,i=Md(t),{top:o,bottom:a}=i,{offsetHeight:s}=t,l=ob(t).clientHeight,c=cn(r,"show")?r:n;if(!c)return;const{offsetHeight:u}=c,f=l-a,d=o,h=o+u+s>l,p=o-u<0;(cn(c,"bottom")||!p)&&f<d&&h?(In(c,"bottom"),Io(c,"top")):(In(c,"top"),Io(c,"bottom"))}setControlPositions(){const{visuals:t,color:r,hsv:n}=this,{offsetHeight:i,offsetWidth:o}=t[0],a=r.a,s=n.h,l=n.s,c=n.v;this.controlPositions.c1x=l*o,this.controlPositions.c1y=(1-c)*i,this.controlPositions.c2y=s*i,this.controlPositions.c3y=(1-a)*i}updateAppearance(){const{componentLabels:t,color:r,parent:n,hsv:i,hex:o,format:a,controlKnobs:s}=this,{appearanceLabel:l,hexLabel:c,valueLabel:u}=t;let{r:f,g:d,b:h}=r.toRgb();const[p,g,m]=s,v=mt(i.h*360),b=r.a,y=mt(i.s*100),w=mt(i.v*100),$=this.appearance;let A=`${c} ${o.split("").join(" ")}`;if(a==="hwb"){const{hwb:_}=this,N=mt(_.w*100),M=mt(_.b*100);A=`HWB: ${v}, ${N}%, ${M}%`,Le(p,Tc,`${N}% & ${M}%`),Le(p,Oc,`${N}`),Le(g,Wk,`${u}: ${A}. ${l}: ${$}.`),Le(g,Tc,`${v}%`),Le(g,Oc,`${v}`)}else[f,d,h]=[f,d,h].map(mt),A=a==="hsl"?`HSL: ${v}, ${y}%, ${w}%`:A,A=a==="rgb"?`RGB: ${f}, ${d}, ${h}`:A,Le(p,Tc,`${w}% & ${y}%`),Le(p,Oc,`${w}`),Le(g,Wk,`${u}: ${A}. ${l}: ${$}.`),Le(g,Tc,`${v}`),Le(g,Oc,`${v}`);const C=mt(b*100);Le(m,Tc,`${C}%`),Le(m,Oc,`${C}`);const E=r.toString();Mn(this.input,{backgroundColor:E}),this.isDark?(cn(n,"txt-light")&&In(n,"txt-light"),cn(n,"txt-dark")||Io(n,"txt-dark")):(cn(n,"txt-dark")&&In(n,"txt-dark"),cn(n,"txt-light")||Io(n,"txt-light"))}updateControls(){const{controlKnobs:t,controlPositions:r}=this;let{c1x:n,c1y:i,c2y:o,c3y:a}=r;const[s,l,c]=t;[n,i,o,a]=[n,i,o,a].map(mt),Mn(s,{transform:`translate3d(${n-4}px,${i-4}px,0)`}),Mn(l,{transform:`translate3d(0,${o-4}px,0)`}),Mn(c,{transform:`translate3d(0,${a-4}px,0)`})}updateInputs(t){const{value:r,format:n,inputs:i,color:o,hsl:a}=this,[s,l,c,u]=i,f=mt(o.a*100),d=mt(a.h*360);let h=o.toString();if(n==="hex")h=this.color.toHexString(!0),s.value=this.hex;else if(n==="hsl"){const p=mt(a.l*100),g=mt(a.s*100);h=this.color.toHslString(),s.value=`${d}`,l.value=`${g}`,c.value=`${p}`,u.value=`${f}`}else if(n==="hwb"){const{w:p,b:g}=this.hwb,m=mt(p*100),v=mt(g*100);h=this.color.toHwbString(),s.value=`${d}`,l.value=`${m}`,c.value=`${v}`,u.value=`${f}`}else if(n==="rgb"){let{r:p,g,b:m}=this.rgb;[p,g,m]=[p,g,m].map(mt),h=this.color.toRgbString(),s.value=`${p}`,l.value=`${g}`,c.value=`${m}`,u.value=`${f}`}this.value=h,!t&&h!==r&&lO(this)}hide(t){if(!this.isOpen)return;const{pickerToggle:r,menuToggle:n,colorPicker:i,colorMenu:o,parent:a,input:s}=this,l=cn(i,"show"),c=l?i:o,u=l?r:n,f=c&&YQ(c);this.value=this.color.toString(!0),c&&(In(c,"show"),Le(u,tw,"false"),setTimeout(()=>{hL(c),Ca(".show",a)||(In(a,"open"),dL(this),this.isOpen=!1)},f)),t||Sa(r),Le(s,El,"-1"),u===n&&Le(n,El,"-1")}dispose(){const{input:t,parent:r}=this;this.hide(!0),sO(this),[...r.children].forEach(n=>{n!==t&&n.remove()}),ib(t,El),Mn(t,{backgroundColor:""}),["txt-light","txt-dark"].forEach(n=>In(r,n)),Zu.remove(t,kl)}}R(Cr,"Color",bt),R(Cr,"ColorPalette",qp),R(Cr,"getInstance",hY),R(Cr,"init",pY),R(Cr,"selector",fY),R(Cr,"roundPart",mt),R(Cr,"setElementStyle",Mn),R(Cr,"setAttribute",Le),R(Cr,"getBoundingClientRect",Md),R(Cr,"version",uY),R(Cr,"colorNames",uu),R(Cr,"colorPickerLabels",cw);var gY=W('<div><div class=color-control role=presentation tabindex=-1><div class="visual-control visual-control1"></div><div class="color-pointer knob"role=slider tabindex=0 aria-live=polite aria-valuemin=0 aria-valuemax=100></div></div><div class=color-control role=presentation tabindex=-1><div class="visual-control visual-control2"></div><div class="color-slider knob"aria-live=polite role=slider tabindex=0 aria-valuemin=0 aria-valuemax=360></div></div><div class=color-control role=presentation tabindex=-1><div class="visual-control visual-control3"></div><div class="color-slider knob"aria-live=polite role=slider tabindex=0 aria-valuemin=0 aria-valuemax=100>'),mY=W('<div role=group><div class="color-form rgb"><label><span aria-hidden>R:</span><span class=v-hidden></span></label><input type=number class="color-input red"autocomplete=off min=0 max=255 step=1><label><span aria-hidden>G:</span><span class=v-hidden></span></label><input type=number class="color-input green"autocomplete=off min=0 max=255 step=1><label><span aria-hidden>B:</span><span class=v-hidden></span></label><input type=number class="color-input blue"autocomplete=off min=0 max=255 step=1><label><span aria-hidden>A:</span><span class=v-hidden></span></label><input type=number class="color-input alpha"autocomplete=off min=0 max=100 step=1>'),vY=W('<div role=group><div class="color-form hsl"><label><span aria-hidden>H:</span><span class=v-hidden></span></label><input type=number class="color-input hue"autocomplete=off min=0 max=360 step=1><label><span aria-hidden>S:</span><span class=v-hidden></span></label><input type=number class="color-input saturation"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>L:</span><span class=v-hidden></span></label><input type=number class="color-input lightness"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>A:</span><span class=v-hidden></span></label><input type=number class="color-input alpha"autocomplete=off min=0 max=100 step=1>'),bY=W('<div role=group><div class="color-form hwb"><label><span aria-hidden>H:</span><span class=v-hidden></span></label><input type=number class="color-input hue"autocomplete=off min=0 max=360 step=1><label><span aria-hidden>W:</span><span class=v-hidden></span></label><input type=number class="color-input whiteness"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>B:</span><span class=v-hidden></span></label><input type=number class="color-input blackness"autocomplete=off min=0 max=100 step=1><label><span aria-hidden>A:</span><span class=v-hidden></span></label><input type=number class="color-input alpha"autocomplete=off min=0 max=100 step=1>'),yY=W('<div role=group><div class="color-form hex"><label for=color_hex_hex_1><span aria-hidden>#:</span><span class=v-hidden></span></label><input type=text class="color-input hex"autocomplete=off>'),$Y=W("<ul role=listbox>"),pL=W("<li tabindex=0 role=option>"),wY=W("<ul class=color-defaults role=listbox>"),AY=W('<button class="menu-toggle btn-appearance"type=button aria-haspopup><span class=v-hidden></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"aria-hidden=true><path d=M98,158l157,156L411,158l27,27L255,368L71,185L98,158z fill=#fff>'),xY=W("<div>"),SY=W('<div><button class="picker-toggle btn-appearance"aria-haspopup type=button><span class=v-hidden></span></button><input type=text class="color-preview btn-appearance"autocomplete=off>'),gL=tn({}),la=()=>rn(gL),CY=()=>globalThis.innerWidth>980?300:230,Qe=CY,{roundPart:er}=Ue,jm=e=>{const{drag:t,setDrag:r,color:n,setColor:i,locale:o,format:a,controlPositions:s,setControlPositions:l}=la();let c;const{stringValue:u}=e,f=()=>s().c2y/Qe(),d=()=>er(n().toHsv().v*100),h=()=>er(n().toHsv().s*100),p=()=>1-s().c3y/Qe(),g=()=>new Ue({h:f()*360,s:100,l:50,a:p()}),m=()=>{const N=er(p()*100)/100;return`linear-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,${N}) 100%),
          linear-gradient(to right, rgba(255,255,255,${N}) 0%, ${g().toRgbString()} 100%), 
          linear-gradient(rgb(255,255,255) 0%, rgb(255,255,255) 100%)`},v=()=>{const N=n().toHsl(),M=n().toHsv(),O=er(N.h*360),D=a()==="hsl"?N.s:M.s,S=er(D*100),k=er(N.l*100),x=M.v*100;let P="black";if(k===100&&S===0)P=o().white;else if(k===0)P=o().black;else if(S===0)P=o().grey;else if(O<15||O>=345)P=o().red;else if(O>=15&&O<45)P=x>80&&S>80?o().orange:o().brown;else if(O>=45&&O<75){const I=O>46&&O<54&&x<80&&S>90,L=O>=54&&O<75&&x<80;P=I?o().gold:o().yellow,P=L?o().olive:P}else O>=75&&O<155?P=x<68?o().green:o().lime:O>=155&&O<175?P=o().teal:O>=175&&O<195?P=o().cyan:O>=195&&O<255?P=o().blue:O>=255&&O<270?P=o().violet:O>=270&&O<295?P=o().magenta:O>=295&&O<345&&(P=o().pink);return P},b=N=>{if(N.button!==0)return;const{currentTarget:M,target:O,pageX:D,pageY:S}=N,k=[...c.children],[x]=[...M.children],{left:P,top:I}=ew(x),{documentElement:L}=document,V=D-L.scrollLeft-P,U=S-L.scrollTop-I;r(x),k[0].contains(O)?A(V,U):k[1].contains(O)?C(U):k[2].contains(O)&&E(U),N.preventDefault()},y=N=>{const{pageX:M,pageY:O}=N;if(!t())return;const D=[...c.children],S=ew(t()),{documentElement:k}=document,x=M-k.scrollLeft-S.left,P=O-k.scrollTop-S.top;D[0].contains(t())?A(x,P):D[1].contains(t())?C(P):D[2].contains(t())&&E(P)},w=N=>{const{activeElement:M}=document;(["pointermove","touchmove"].includes(N.type)&&t()||M&&c.contains(M))&&(N.stopPropagation(),N.preventDefault())},$=N=>{const{target:M,code:O}=N;if(![Cu,To,Kp,Pa].includes(O))return;N.preventDefault();const D=[...c.children],{activeElement:S}=document,k=Qe()/360,x=s();if(S===M){if(D[0].contains(M)){const P=Qe()/100;if([Kp,Pa].includes(O)){const I=x.c1x+(O===Pa?P:-P);A(I,x.c1y)}else if([Cu,To].includes(O)){const I=x.c1y+(O===To?k:-k);A(x.c1x,I)}}else if(D[1].contains(M)){const P=x.c2y+([To,Pa].includes(O)?k:-k);C(P)}else if(D[2].contains(M)){const P=x.c3y+([To,Pa].includes(O)?k:-k);E(P)}w(N)}},A=(N,M)=>{let[O,D]=[0,0];N>Qe()?O=Qe():N>=0&&(O=N),M>Qe()?D=Qe():M>=0&&(D=M);const S=s(),k=S.c2y/Qe(),x=O/Qe(),P=1-D/Qe(),I=1-S.c3y/Qe(),L=new Ue({h:k*360,s:x*100,v:P*100,a:I},a());i(L),l(V=>({...V,c1x:O,c1y:D}))},C=N=>{let M=0;N>Qe()?M=Qe():N>=0&&(M=N);const O=s(),D=M/Qe(),S=O.c1x/Qe(),k=1-O.c1y/Qe(),x=1-O.c3y/Qe(),P=new Ue({h:D*360,s:S*100,v:k*100,a:x},a());i(P),l(I=>({...I,c2y:M}))},E=N=>{let M=0;N>Qe()?M=Qe():N>=0&&(M=N);const O=1-M/Qe(),D=new Ue(n().setAlpha(O),a());i(D),l(S=>({...S,c3y:M}))},_=N=>{(N?UN:WN)(document,"pointermove",y)};return oe(()=>{t()?_(!0):_(),be(_)}),(()=>{var N=gY(),M=N.firstChild,O=M.firstChild,D=O.nextSibling,S=M.nextSibling,k=S.firstChild,x=k.nextSibling,P=S.nextSibling,I=P.firstChild,L=I.nextSibling,V=c;return typeof V=="function"?Ut(V,N):c=N,M.$$pointerdown=b,D.$$keydown=$,S.$$pointerdown=b,Z(k,"background",`linear-gradient(
    rgb(255, 0, 0) 0%, rgb(255, 255, 0) 16.67%, 
    rgb(0, 255, 0) 33.33%, 
    rgb(0, 255, 255) 50%, 
    rgb(0, 0, 255) 66.67%, 
    rgb(255, 0, 255) 83.33%, 
    rgb(255, 0, 0) 100%
  )`),x.$$keydown=$,P.$$pointerdown=b,L.$$keydown=$,ee(U=>{var ae=`color-controls ${a()}`,ne=m(),pe=`${o().lightnessLabel} &amp; ${o().saturationLabel}`,xe=`${d()}% &amp; ${h()}%`,qe=d(),Y=`translate3d(${s().c1x-4}px, ${s().c1y-4}px, 0px)`,de=o().hueLabel,q=`${o().valueLabel}: ${u()}. ${o().appearanceLabel}: ${v()}.`,X=`${er(f()*100)}`,ce=er(f()*100),H=`translate3d(0px, ${s().c2y-4}px, 0px)`,He=`linear-gradient(${g().setAlpha(1).toRgbString()} 0%, ${g().setAlpha(0).toRgbString()} 100%)`,Ee=o().alphaLabel,se=`${er(p()*100)}%`,he=er(p()*100),nt=`translate3d(0px, ${s().c3y-4}px, 0px)`;return ae!==U.e&&Nr(N,U.e=ae),ne!==U.t&&Z(O,"background",U.t=ne),pe!==U.a&&z(D,"aria-label",U.a=pe),xe!==U.o&&z(D,"aria-valuetext",U.o=xe),qe!==U.i&&z(D,"aria-valuenow",U.i=qe),Y!==U.n&&Z(D,"transform",U.n=Y),de!==U.s&&z(x,"aria-label",U.s=de),q!==U.h&&z(x,"aria-description",U.h=q),X!==U.r&&z(x,"aria-valuetext",U.r=X),ce!==U.d&&z(x,"aria-valuenow",U.d=ce),H!==U.l&&Z(x,"transform",U.l=H),He!==U.u&&Z(I,"background",U.u=He),Ee!==U.c&&z(L,"aria-label",U.c=Ee),se!==U.w&&z(L,"aria-valuetext",U.w=se),he!==U.m&&z(L,"aria-valuenow",U.m=he),nt!==U.f&&Z(L,"transform",U.f=nt),U},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),N})()},EY=e=>{const{locale:t,format:r,color:n,setColor:i,updateControlPositions:o}=la(),{id:a}=e,s=()=>{let{r:p,g,b:m,a:v}=n().toRgb();return[p,g,m]=[p,g,m].map(er),v=er(v*100),{r:p,g,b:m,a:v}},l=()=>{const{r:p,g,b:m}=s();return`${r().toUpperCase()}: ${p} ${g} ${m}`},c=p=>{i(p),o()},u=p=>c(new Ue({...s(),r:Number(p.currentTarget.value)},r())),f=p=>c(new Ue({...s(),g:Number(p.currentTarget.value)},r())),d=p=>c(new Ue({...s(),b:Number(p.currentTarget.value)},r())),h=p=>c(new Ue({...s(),a:Number(p.currentTarget.value)/100},r()));return(()=>{var p=mY(),g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=m.nextSibling,w=y.nextSibling,$=w.firstChild,A=$.nextSibling,C=w.nextSibling,E=C.nextSibling,_=E.firstChild,N=_.nextSibling,M=E.nextSibling,O=M.nextSibling,D=O.firstChild,S=D.nextSibling,k=O.nextSibling,x=e.ref;return typeof x=="function"?Ut(x,p):e.ref=p,z(p,"id",`${a}-picker`),j(p,T(jm,{stringValue:l}),g),z(m,"for",`color_rgb_red_${a}`),j(b,()=>t().redLabel),y.addEventListener("change",u),z(y,"id",`color_rgb_red_${a}`),z(y,"spellcheck",!1),z(w,"for",`color_rgb_green_${a}`),j(A,()=>t().greenLabel),C.addEventListener("change",f),z(C,"id",`color_rgb_green_${a}`),z(C,"spellcheck",!1),z(E,"for",`color_rgb_blue_${a}`),j(N,()=>t().blueLabel),M.addEventListener("change",d),z(M,"id",`color_rgb_blue_${a}`),z(M,"spellcheck",!1),z(O,"for",`color_rgb_alpha_${a}`),j(S,()=>t().alphaLabel),k.addEventListener("change",h),z(k,"id",`color_rgb_alpha_${a}`),z(k,"spellcheck",!1),ee(()=>Nr(p,`color-dropdown picker${e.class()}`)),ee(()=>y.value=s().r),ee(()=>C.value=s().g),ee(()=>M.value=s().b),ee(()=>k.value=s().a),p})()},kY=e=>{const{format:t,locale:r,color:n,setColor:i,updateControlPositions:o}=la(),{id:a}=e,s=()=>{let{h:p,s:g,l:m,a:v}=n().toHsl();return[p,g,m]=[p,g,m].map((b,y)=>er(b*(y?100:360))),v=er(v*100),{h:p,s:g,l:m,a:v}},l=()=>{const{h:p,s:g,l:m}=s();return`${t().toUpperCase()}: ${p} ${g}% ${m}%`},c=p=>{i(p),o()},u=p=>c(new Ue({...s(),h:Number(p.currentTarget.value)},t())),f=p=>c(new Ue({...s(),s:Number(p.currentTarget.value)},t())),d=p=>c(new Ue({...s(),l:Number(p.currentTarget.value)},t())),h=p=>c(new Ue({...s(),a:Number(p.currentTarget.value)/100},t()));return(()=>{var p=vY(),g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=m.nextSibling,w=y.nextSibling,$=w.firstChild,A=$.nextSibling,C=w.nextSibling,E=C.nextSibling,_=E.firstChild,N=_.nextSibling,M=E.nextSibling,O=M.nextSibling,D=O.firstChild,S=D.nextSibling,k=O.nextSibling,x=e.ref;return typeof x=="function"?Ut(x,p):e.ref=p,z(p,"id",`${a}-picker`),j(p,T(jm,{stringValue:l}),g),z(m,"for",`color_hsl_hue_${a}`),j(b,()=>r().hueLabel),y.addEventListener("change",u),z(y,"id",`color_hsl_hue_${a}`),z(y,"spellcheck",!1),z(w,"for",`color_hsl_saturation_${a}`),j(A,()=>r().saturationLabel),C.addEventListener("change",f),z(C,"id",`color_hsl_saturation_${a}`),z(C,"spellcheck",!1),z(E,"for",`color_hsl_lightness_${a}`),j(N,()=>r().lightnessLabel),M.addEventListener("change",d),z(M,"id",`color_hsl_lightness_${a}`),z(M,"spellcheck",!1),z(O,"for",`color_hsl_alpha_${a}`),j(S,()=>r().alphaLabel),k.addEventListener("change",h),z(k,"id",`color_hsl_alpha_${a}`),z(k,"spellcheck",!1),ee(()=>Nr(p,`color-dropdown picker${e.class()}`)),ee(()=>y.value=s().h),ee(()=>C.value=s().s),ee(()=>M.value=s().l),ee(()=>k.value=s().a),p})()},OY=e=>{const{locale:t,format:r,color:n,setColor:i,updateControlPositions:o}=la(),{id:a}=e,s=()=>{let{h:p,w:g,b:m,a:v}=n().toHwb();return[p,g,m]=[p,g,m].map((b,y)=>er(b*(y?100:360))),v=er(v*100),{h:p,w:g,b:m,a:v}},l=()=>{const{h:p,w:g,b:m}=s();return`${r().toUpperCase()}: ${p} ${g}% ${m}%`},c=p=>{i(p),o()},u=p=>c(new Ue({...s(),h:Number(p.currentTarget.value)},r())),f=p=>c(new Ue({...s(),w:Number(p.currentTarget.value)},r())),d=p=>c(new Ue({...s(),b:Number(p.currentTarget.value)},r())),h=p=>c(new Ue({...s(),a:Number(p.currentTarget.value)/100},r()));return(()=>{var p=bY(),g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=m.nextSibling,w=y.nextSibling,$=w.firstChild,A=$.nextSibling,C=w.nextSibling,E=C.nextSibling,_=E.firstChild,N=_.nextSibling,M=E.nextSibling,O=M.nextSibling,D=O.firstChild,S=D.nextSibling,k=O.nextSibling,x=e.ref;return typeof x=="function"?Ut(x,p):e.ref=p,z(p,"id",`${a}-picker`),j(p,T(jm,{stringValue:l}),g),z(m,"for",`color_hwb_hue_${a}`),j(b,()=>t().hueLabel),y.addEventListener("change",u),z(y,"id",`color_hwb_hue_${a}`),z(y,"spellcheck",!1),z(w,"for",`color_hwb_whiteness_${a}`),j(A,()=>t().whitenessLabel),C.addEventListener("change",f),z(C,"id",`color_hwb_whiteness_${a}`),z(C,"spellcheck",!1),z(E,"for",`color_hwb_blackness-${a}`),j(N,()=>t().blacknessLabel),M.addEventListener("change",d),z(M,"id",`color_hwb_blackness-${a}`),z(M,"spellcheck",!1),z(O,"for",`color_hwb_alpha_${a}`),j(S,()=>t().alphaLabel),k.addEventListener("change",h),z(k,"id",`color_hwb_alpha_${a}`),z(k,"spellcheck",!1),ee(()=>Nr(p,`color-dropdown picker${e.class()}`)),ee(()=>y.value=s().h),ee(()=>C.value=s().w),ee(()=>M.value=s().b),ee(()=>k.value=s().a),p})()},TY=e=>{const{format:t,locale:r,color:n,setColor:i,updateControlPositions:o}=la(),{id:a}=e,s=()=>n().toHex(),l=()=>`${r().hexLabel}: ${s().toUpperCase()}`,c=u=>{const f=u.currentTarget.value,d=new Ue(f,t());f&&f.length&&d.isValid&&(i(d),o())};return(()=>{var u=yY(),f=u.firstChild,d=f.firstChild,h=d.firstChild,p=h.nextSibling,g=d.nextSibling,m=e.ref;return typeof m=="function"?Ut(m,u):e.ref=u,z(u,"id",`${a}-picker`),j(u,T(jm,{stringValue:l}),f),j(p,()=>r().hexLabel),g.addEventListener("change",c),z(g,"id",`color_hex_${a}`),z(g,"spellcheck",!1),ee(()=>Nr(u,`color-dropdown picker${e.class()}`)),ee(()=>g.value=s()),u})()},IY={rgb:EY,hex:TY,hsl:kY,hwb:OY},MY=e=>{const{format:t}=la(),r=()=>T(IY[t()],e),[n,i]=Q(r());return oe(()=>i(r())),T($K,{get children(){return n()}})},PY=MY,{ColorPalette:DY}=Cr,_Y=e=>{const[t,r]=Ie(e,["colorPresets"]),{locale:n,value:i,setColor:o,format:a}=la(),s=()=>new DY(t.colorPresets().hue,t.colorPresets().hueSteps,t.colorPresets().lightSteps,t.colorPresets().saturation).colors,l=()=>s().length,c=()=>t.colorPresets().lightSteps,u=()=>l()>c(),f=()=>u()&&l()>c()*4?5:u()&&l()>c()*3?4:u()&&l()>c()*2?3:2,d=()=>f()-(l()<=c()*3?1:2),h=()=>"color-options"+(u()&&l()>d()*c()?" scrollable":"")+(u()?" multiline":""),p=()=>{const g=u()?"1px":"0.25rem",m=c()>5&&u()?1.5:u()?1.75:2,v=`${d()*m}rem`,b=`calc(${f()} * ${m}rem + ${f()-1} * ${g})`;return{"--grid-item-size":`${m}rem`,"--grid-fit":c(),"--grid-gap":g,"--grid-height":v,"--grid-hover-height":b}};return(()=>{var g=$Y();return sa(g,"keydown",r.keyHandler,!0),j(g,T(yt,{get each(){return s()},children:m=>{const v=()=>new Ue(m,a()),b=()=>v().toString(),y=()=>b()===i(),w=()=>`color-option${y()?" active":""}`;return(()=>{var $=pL();return $.$$click=()=>o(v()),j($,b),ee(A=>{var C=y(),E=w(),_=b(),N=m.toRgbString();return C!==A.e&&z($,"aria-selected",A.e=C),E!==A.t&&Nr($,A.t=E),_!==A.a&&z($,"data-value",A.a=_),N!==A.o&&Z($,"background-color",A.o=N),A},{e:void 0,t:void 0,a:void 0,o:void 0}),$})()}})),ee(m=>{var v=h(),b=n().presetsLabel,y=p();return v!==m.e&&Nr(g,m.e=v),b!==m.t&&z(g,"aria-label",m.t=b),m.a=Nm(g,y,m.a),m},{e:void 0,t:void 0,a:void 0}),g})()},NY=e=>{const[t,r]=Ie(e,["colorKeywords"]),{locale:n,value:i,setColor:o,format:a}=la();return(()=>{var s=wY();return sa(s,"keydown",r.keyHandler,!0),j(s,T(yt,{get each(){return t.colorKeywords()},children:l=>{const[c,u]=typeof l=="string"?[l,l]:MQ(l)[0],f=()=>[l,u].some(h=>h===i()),d=()=>`color-option${f()?" active":""}`;return(()=>{var h=pL();return h.$$click=()=>o(new Ue(u,a())),z(h,"data-value",u),j(h,c),ee(p=>{var g=d(),m=f();return g!==p.e&&Nr(h,p.e=g),m!==p.t&&z(h,"aria-selected",p.t=m),p},{e:void 0,t:void 0}),h})()}})),ee(()=>z(s,"aria-label",n().defaultsLabel)),s})()},LY=e=>{const[t,r]=Ie(e,["id","class","ref","toggleMenu","expanded","locale"]),n=()=>`${t.id}-menu`,i=()=>`color-dropdown menu${t.class()}`,o=a=>{const{target:s,currentTarget:l,code:c}=a,{previousElementSibling:u,nextElementSibling:f,parentElement:d}=s,h=EQ(l,"color-options"),p=[...d.children],g=h&&Number(Xu(d,"--grid-fit")||0)||0,m=p.indexOf(s),v=m>-1&&g&&p[m-g],b=m>-1&&g&&p[m+g];[To,Cu,Hk].includes(c)&&a.preventDefault(),h?v&&c===Cu?Ia(v):b&&c===To?Ia(b):u&&c===Kp?Ia(u):f&&c===Pa&&Ia(f):u&&[Kp,Cu].includes(c)?Ia(u):f&&[Pa,To].includes(c)&&Ia(f),[HN,Hk,"NumpadEnter"].includes(c)&&s.click()};return T(Et,{get when(){return r.colorKeywords()||r.colorPresets()},get children(){return[(()=>{var a=AY(),s=a.firstChild;return sa(a,"click",t.toggleMenu,!0),j(s,()=>t.locale().toggleLabel),ee(l=>{var c=t.expanded?0:-1,u=t.expanded;return c!==l.e&&z(a,"tabindex",l.e=c),u!==l.t&&z(a,"aria-expanded",l.t=u),l},{e:void 0,t:void 0}),a})(),(()=>{var a=xY(),s=t.ref;return typeof s=="function"?Ut(s,a):t.ref=a,j(a,T(Et,{get when(){return pt(()=>typeof r.colorPresets<"u")()&&r.colorPresets()},get children(){return T(_Y,{get colorPresets(){return r.colorPresets},keyHandler:o})}}),null),j(a,T(Et,{get when(){return pt(()=>typeof r.colorKeywords<"u")()&&r.colorKeywords()},get children(){return T(NY,{get colorKeywords(){return r.colorKeywords},keyHandler:o})}}),null),ee(l=>{var c=n(),u=i();return c!==l.e&&z(a,"id",l.e=c),u!==l.t&&Nr(a,l.t=u),l},{e:void 0,t:void 0}),a})()]}})},RY=LY,BY={c1x:0,c1y:0,c2y:0,c3y:0},FY=BY,jY={white:"white",black:"black",grey:"grey",red:"red",orange:"orange",brown:"brown",gold:"gold",olive:"olive",yellow:"yellow",lime:"lime",green:"green",teal:"teal",cyan:"cyan",blue:"blue",violet:"violet",magenta:"magenta",pink:"pink",pickerLabel:"Colour Picker",appearanceLabel:"Colour Appearance",valueLabel:"Colour Value",toggleLabel:"Select Colour",placeholder:"Type colour value in % format",presetsLabel:"Colour Presets",defaultsLabel:"Colour Defaults",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadecimal",hueLabel:"Hue",whitenessLabel:"Whiteness",blacknessLabel:"Blackness",saturationLabel:"Saturation",lightnessLabel:"Lightness",redLabel:"Red",greenLabel:"Green",blueLabel:"Blue"},zY={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:" ",appearanceLabel:"  ",valueLabel:" ",toggleLabel:" ",placeholder:"     %",presetsLabel:" ",defaultsLabel:"   ",formatLabel:"",alphaLabel:"",hexLabel:"",hueLabel:"",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},HY={white:"blanc",black:"noir",grey:"gris",red:"rouge",orange:"orange",brown:"marron",gold:"or",olive:"olive",yellow:"jaune",lime:"citron",green:"vert",teal:"sarcelle",cyan:"cyan",blue:"bleu",violet:"violet",magenta:"magenta",pink:"rose",pickerLabel:"Slecteur de couleur",appearanceLabel:"Apparence de la couleur",valueLabel:"Valeur de la couleur",toggleLabel:"Slectionner la couleur",placeholder:"Tapez la valeur de la couleur en format %",presetsLabel:"Prrglages de couleur",defaultsLabel:"Couleurs par dfaut",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadcimal",hueLabel:"Teinte",whitenessLabel:"Blancheur",blacknessLabel:"Noirceur",saturationLabel:"Saturation",lightnessLabel:"Luminosit",redLabel:"Rouge",greenLabel:"Vert",blueLabel:"Bleu"},VY={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:" ",appearanceLabel:" ",valueLabel:" ",toggleLabel:" ",placeholder:"    %",presetsLabel:"  ",defaultsLabel:" ",formatLabel:"",alphaLabel:"",hexLabel:" ",hueLabel:" ",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},UY={white:"alb",black:"negru",grey:"gri",red:"rou",orange:"portocaliu",brown:"maro",gold:"auriu",olive:"msliniu",yellow:"galben",lime:"lmi",green:"verde",teal:"turcoaz",cyan:"cian",blue:"albastru",violet:"violet",magenta:"magenta",pink:"roz",pickerLabel:"Panel de culori",appearanceLabel:"Aparena vizual",valueLabel:"Valoarea actual",toggleLabel:"Selecteaz culoare",placeholder:"Tasteaz culoare n format %",presetsLabel:"Culori prestabilite",defaultsLabel:"Valori implicite",formatLabel:"Format",alphaLabel:"Alfa",hexLabel:"Hexazecimal",whitenessLabel:"Alb",blacknessLabel:"Negru",hueLabel:"Nuan",saturationLabel:"Saturaie",lightnessLabel:"Luminozitate",redLabel:"Rou",greenLabel:"Verde",blueLabel:"Albastru"},WY={white:"wei",black:"schwarz",grey:"grau",red:"rot",orange:"orange",brown:"braun",gold:"gold",olive:"olivgrn",yellow:"gelb",lime:"limone",green:"grn",teal:"krickente",cyan:"zyan",blue:"blau",violet:"violett",magenta:"magenta",pink:"rosa",pickerLabel:"Farbauswahl",appearanceLabel:"Farberscheinung",valueLabel:"Farbwert",toggleLabel:"Farbe auswhlen",placeholder:"Geben Sie den Farbwert im %-Format ein",presetsLabel:"Farbvoreinstellungen",defaultsLabel:"Farbstandards",formatLabel:"Format",alphaLabel:"Alpha",hexLabel:"Hexadezimal",hueLabel:"Farbton",whitenessLabel:"Weigrad",blacknessLabel:"Schwarzgrad",saturationLabel:"Sttigung",lightnessLabel:"Helligkeit",redLabel:"Rot",greenLabel:"Grn",blueLabel:"Blau"},KY={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:"",appearanceLabel:"",valueLabel:"",toggleLabel:"",placeholder:"%",presetsLabel:"",defaultsLabel:"",formatLabel:"",alphaLabel:"",hexLabel:"",hueLabel:"",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},GY={white:"blanco",black:"negro",grey:"gris",red:"rojo",orange:"naranja",brown:"marrn",gold:"oro",olive:"aceituna",yellow:"amarillo",lime:"lima",green:"verde",teal:"cerceta",cyan:"cian",blue:"azul",violet:"violeta",magenta:"magenta",pink:"rosado",pickerLabel:"Selector de color",appearanceLabel:"Apariencia de color",valueLabel:"Valor de color",toggleLabel:"Seleccionar color",placeholder:"Escriba el valor del color en formato %",presetsLabel:"Ajustes preestablecidos de color",defaultsLabel:"Valores predeterminados de color",formatLabel:"Formato",alphaLabel:"Alfabeto",hexLabel:"Hexadecimal",hueLabel:"Tinte",whitenessLabel:"Blancura",blacknessLabel:"Negrura",saturationLabel:"Saturacin",lightnessLabel:"Ligereza",redLabel:"Rojo",greenLabel:"Verde",blueLabel:"Azul"},qY={white:"Branco",black:"preto",grey:"cinzento",red:"vermelho",orange:"laranja",brown:"castanho",gold:"ouro",olive:"azeitona",yellow:"amarelo",lime:"cal",green:"verde",teal:"azul-marinho",cyan:"ciano",blue:"azul",violet:"violeta",magenta:"magenta",pink:"pink",pickerLabel:"Seletor de cores",appearanceLabel:"Aparncia da cor",valueLabel:"Valor da cor",toggleLabel:"Selecionar Cor",placeholder:"Digite o valor da cor no formato %",presetsLabel:"Predefinies de cor",defaultsLabel:"Padres de cor",formatLabel:"Formato",alphaLabel:"Alfa",hexLabel:"Hexadecimal",hueLabel:"Matiz",whitenessLabel:"Brancura",blacknessLabel:"Negritude",saturationLabel:"Saturao",lightnessLabel:"Leveza",redLabel:"Vermelho",greenLabel:"Verde",blueLabel:"Azul"},QY={white:"biay",black:"czarny",grey:"szary",red:"czerwony",orange:"pomaraczowy",brown:"brzowy",gold:"zoto",olive:"oliwka",yellow:"ty",lime:"wapno",green:"zielony",teal:"turkus",cyan:"cyan",blue:"niebieski",violet:"fiolet",magenta:"purpura",pink:"rowy",pickerLabel:"Wybr koloru",appearanceLabel:"Wygld koloru",valueLabel:"Warto koloru",toggleLabel:"Wybierz kolor",placeholder:"Wpisz warto koloru w formacie %",presetsLabel:"Predefiniowane kolory",defaultsLabel:"Domylne kolory",formatLabel:"Format",alphaLabel:"Alfa",hexLabel:"Heksadecymalny",hueLabel:"Barwa",whitenessLabel:"Biela",blacknessLabel:"Czer",saturationLabel:"Nasycenie",lightnessLabel:"Jasno",redLabel:"Czerwony",greenLabel:"Zielony",blueLabel:"Niebieski"},YY={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:"",appearanceLabel:"",valueLabel:"",toggleLabel:"",placeholder:"%",presetsLabel:"",defaultsLabel:"",formatLabel:"",alphaLabel:"",hexLabel:"",hueLabel:"",whitenessLabel:"",blacknessLabel:"",saturationLabel:"",lightnessLabel:"",redLabel:"",greenLabel:"",blueLabel:""},JY={white:"",black:"",grey:"",red:"",orange:"",brown:"",gold:"",olive:"",yellow:"",lime:"",green:"",teal:"",cyan:"",blue:"",violet:"",magenta:"",pink:"",pickerLabel:" ",appearanceLabel:" ",valueLabel:" ",toggleLabel:" ",placeholder:"%    ",presetsLabel:"  ",defaultsLabel:" ",formatLabel:" ",alphaLabel:" ",hexLabel:" ",hueLabel:" ",whitenessLabel:" ",blacknessLabel:"blackness ",saturationLabel:" ",lightnessLabel:" ",redLabel:" ",greenLabel:" ",blueLabel:""},mL={en:jY,ru:zY,ar:VY,fr:HY,de:WY,ro:UY,es:GY,pt:qY,pl:QY,zh:KY,ja:YY,ko:JY},fw=e=>mL[e||"en"],XY={value:"rgb(255,0,0)",placeholder:fw("en").placeholder,format:"rgb",lang:"en",theme:"dark"},_d=XY,cO=0,ZY=e=>{const t=e.id?e.id:`color-picker-${cO}`,r=()=>e.lang||_d.lang,n=()=>e.theme||_d.theme,i=()=>e.format||_d.format,o=()=>e.value||_d.value,a=()=>e.colorPresets,s=()=>e.colorKeywords,l=()=>e.placeholder?e.placeholder:M().placeholder.replace(/%/g,i().toUpperCase()),[c,u]=Q(o()),[f,d]=Q(o()),[h,p]=Q(new Ue(o(),i())),[g,m]=Q(void 0),[v,b]=Q(void 0),[y,w]=Q(!1),[$,A]=Q(!1),[C,E]=Q(""),[_,N]=Q(FY),M=me(()=>{if(r()!=="en"&&Uk(mL).includes(r()))return fw(r());const se=fw(r());return e.locale&&Uk(e.locale).length===35&&kQ(se,e.locale),se}),O=()=>{const se=new Ue(f());return se.isDark&&se.a>.33},D=()=>["color-picker",e.class?e.class.split(/\s/):"",O()?"txt-dark":"txt-light",n()==="light"?" light":"",g()?"open":""].filter(se=>se).join(" ");cO+=1;let S,k,x,P;const I=()=>`${g()===k?" "+C():""}${y()?" show":""}`,L=()=>`${g()===x?" "+C():""}${$()?" show":""}`,V=()=>{m(x),E("bottom"),setTimeout(()=>{A(!0),Td(x),q(),w(!1)},17)},U=()=>{A(!1),Td(x),Vk(x,H)},ae=()=>{y()?xe():$()&&U()},ne=()=>{g()!==x?V():U()},pe=()=>{m(k),E("bottom"),X(),setTimeout(()=>{w(!0),Td(k),q(),A(!1),P.focus()},17)},xe=()=>{w(!1),Td(k),Vk(k,H)},qe=({currentTarget:se,relatedTarget:he})=>{he&&!se.contains(he)&&ae()},Y=se=>{g()&&se.key===xQ&&ae()},de=se=>{const he=document.getSelection();!v()&&(!he||!he.toString().length)&&!S.contains(se.target)&&ae(),b()},q=()=>{const se=ew(P),{top:he,bottom:nt}=se,{offsetHeight:ht}=P,{clientHeight:$a}=document.documentElement,jr=g();if(!jr)return;const{offsetHeight:Ve}=jr,zr=$a-nt,wa=he,$o=he+Ve+ht>$a;!(he-Ve<0)&&$o||zr<wa?E("top"):E("bottom")},X=()=>{const{h:se,s:he,v:nt}=h().toHsv(),ht=h().a;N({c1x:he*Qe(),c1y:(1-nt)*Qe(),c2y:se*Qe(),c3y:(1-ht)*Qe()})},ce=se=>{const he=se?UN:WN;he(window,"scroll",q),he(window,"resize",X),he(document,"keyup",Y),he(document,"pointerup",de)},H=()=>{E(""),m(),Ia(P.previousElementSibling),u(f())},He=se=>{u(se.currentTarget.value)},Ee=se=>{if(se.key===HN){let he=se.currentTarget.value;Ue.isNonColor(he)&&(he=he==="transparent"?"rgba(0,0,0,0)":"rgb(0,0,0)");const nt=new Ue(he,i());he.length&&nt.isValid&&(p(nt),X())}};return oe(()=>{y()||$()?ce(!0):ce(),be(ce)}),oe(hi(i,se=>{p(new Ue(f(),se)),X()})),oe(hi(h,se=>{const he=se.toString();d(he),u(he),typeof e.onChange=="function"&&e.onChange(he)})),T(gL.Provider,{value:{format:i,locale:M,value:f,setValue:d,setInputValue:u,color:h,setColor:p,drag:v,setDrag:b,controlPositions:_,setControlPositions:N,updateControlPositions:X},get children(){var se=SY(),he=se.firstChild,nt=he.firstChild,ht=he.nextSibling;se.addEventListener("blur",qe);var $a=S;typeof $a=="function"?Ut($a,se):S=se,he.$$click=pe,j(nt,()=>`${M().pickerLabel}. ${M().formatLabel}: ${i().toUpperCase()}`),ht.$$keyup=Ee,ht.addEventListener("change",He),ht.addEventListener("focus",pe);var jr=P;return typeof jr=="function"?Ut(jr,ht):P=ht,z(ht,"name",t),z(ht,"id",t),z(ht,"spellcheck",!1),j(se,T(PY,{id:t,class:I,ref(Ve){var zr=k;typeof zr=="function"?zr(Ve):k=Ve}}),null),j(se,T(RY,{id:t,class:L,ref(Ve){var zr=x;typeof zr=="function"?zr(Ve):x=Ve},colorPresets:a,colorKeywords:s,get expanded(){return $()||y()},locale:M,toggleMenu:ne}),null),ee(Ve=>{var zr=D(),wa=r(),$o=y(),js=y()?-1:0,xc=l(),Sc=f();return zr!==Ve.e&&Nr(se,Ve.e=zr),wa!==Ve.t&&z(se,"lang",Ve.t=wa),$o!==Ve.a&&z(he,"aria-expanded",Ve.a=$o),js!==Ve.o&&z(ht,"tabindex",Ve.o=js),xc!==Ve.i&&z(ht,"placeholder",Ve.i=xc),Sc!==Ve.n&&Z(ht,"background-color",Ve.n=Sc),Ve},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),ee(()=>ht.value=c()),se}})},dw=ZY;/* istanbul ignore else @preserve */// istanbul ignore next @preserve
/* istanbul ignore next @preserve */// istanbul ignore else @preserve
Ot(["pointerdown","keydown","click","keyup"]);var eJ=W('<div><div id=colorSelectMenu class="border border-border p-4 w-fit bg-card space-y-4"><div class="flex space-x-4"><div class="flex items-center justify-center w-1/2 p-2 aspect-2/1 rounded cursor-pointer transition-colors duration-200 ease-in-out hover:bg-primary">bg</div><div class="flex items-center justify-center w-1/2 p-2 aspect-2/1 rounded cursor-pointer transition-colors duration-200 ease-in-out hover:bg-primary">strip'),tJ=W('<div class=space-y-2><div class="grid grid-cols-5 gap-2"></div><div class="w-full border-t border-border"></div><div class="grid grid-cols-5 gap-2"></div><div class="w-full border-t border-border"></div><div class="grid grid-cols-5 gap-2">'),rJ=W('<div class="border border-border hover:border-foreground/70 cursor-pointer w-10 aspect-3/2 p-2">'),nJ=W('<div class="border border-border hover:border-foreground/70 cursor-pointer bg-accent w-10 aspect-3/2 flex items-center justify-center">A'),iJ=W('<div class="border border-border hover:border-foreground/70 cursor-pointer w-10 aspect-3/2 flex items-center justify-center">A'),oJ=W('<div class=space-y-2><div class="grid grid-cols-5 gap-2"><div class="relative border border-border hover:border-foreground/70 cursor-pointer w-10 aspect-[3/2] bg-transparent"><div class="absolute top-1/2 left-1/2 w-[120%] h-[2px] bg-destructive rotate-30 -translate-x-1/2 -translate-y-1/2">'),aJ=W('<div class="border border-transparent hover:border-foreground/70 cursor-pointer w-10 aspect-3/2 p-2">');const vL=[getComputedStyle(document.documentElement).getPropertyValue("--color-card").trim(),"#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"],sJ=[getComputedStyle(document.documentElement).getPropertyValue("--color-foreground").trim(),"#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"],lJ=[{bg:getComputedStyle(document.documentElement).getPropertyValue("--color-card").trim(),fg:getComputedStyle(document.documentElement).getPropertyValue("--color-foreground").trim()},{bg:"#F59E0B",fg:"#8B5CF6"},{bg:"#EF4444",fg:"#8B5CF6"}],cJ=()=>{const[e,t]=Q(0),r=[T(dJ,{}),T(hJ,{})];return(()=>{var n=eJ(),i=n.firstChild,o=i.firstChild,a=o.firstChild,s=a.nextSibling;return a.$$click=()=>t(0),s.$$click=()=>t(1),j(i,T(nN,{get component(){return r[e()]}}),null),ee(l=>{var c=`z-50 transition-all duration-200 ease-in-out absolute top-4 left-4 [box-shadow:5px_5px_var(--color-primary)]
          ${B.showColorMenu?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,u=e()===0,f=e()===1;return c!==l.e&&Nr(n,l.e=c),u!==l.t&&a.classList.toggle("bg-primary",l.t=u),f!==l.a&&s.classList.toggle("bg-primary",l.a=f),l},{e:void 0,t:void 0,a:void 0}),n})()},uO=e=>{B.selectedNodes.forEach(t=>{Ju(t,"bg",e)})},fO=e=>{B.selectedNodes.forEach(t=>{Ju(t,"fg",e)})},uJ=e=>{B.selectedNodes.forEach(t=>{Ju(t,"bg",e.bg),Ju(t,"fg",e.fg)})},fJ=e=>{B.selectedNodes.forEach(t=>{Ju(t,"strip",e)})},dJ=()=>(()=>{var e=tJ(),t=e.firstChild,r=t.nextSibling,n=r.nextSibling,i=n.nextSibling,o=i.nextSibling;return j(t,T(yt,{each:vL,children:a=>(()=>{var s=rJ();return s.$$click=()=>uO(a),Z(s,"background",a),s})()})),j(e,T(dw,{value:"rgb(25,25,25)",onChange:a=>uO(a)}),r),j(n,T(yt,{each:sJ,children:a=>(()=>{var s=nJ();return s.$$click=()=>fO(a),Z(s,"color",a),s})()})),j(e,T(dw,{value:"rgb(25,25,25)",onChange:a=>fO(a)}),i),j(o,T(yt,{each:lJ,children:a=>(()=>{var s=iJ();return s.$$click=()=>uJ(a),ee(l=>{var c=a.fg,u=a.bg;return c!==l.e&&Z(s,"color",l.e=c),u!==l.t&&Z(s,"background",l.t=u),l},{e:void 0,t:void 0}),s})()})),e})(),hJ=()=>(()=>{var e=oJ(),t=e.firstChild,r=t.firstChild;return r.$$click=()=>dQ(),j(t,T(yt,{each:vL,children:n=>(()=>{var i=aJ();return i.$$click=()=>fJ(n),Z(i,"background",n),i})()}),null),j(e,T(dw,{value:"rgb(25,25,25)",onChange:n=>console.log(n)}),null),e})();Ot(["click"]);var pJ=W('<div id=controls class="flex flex-row items-center justify-center absolute left-2.5 bottom-2.5 z-50"><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-l-md">-</div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2">%</div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-r-md">+');const gJ=()=>{function e(t){let r=B.viewport.scale;if(t>0){if(r<=.7)return;r-=.1}else{if(r>=1.5)return;r+=.1}le("viewport",{scale:r}),wt()}return(()=>{var t=pJ(),r=t.firstChild,n=r.nextSibling,i=n.firstChild,o=n.nextSibling;return r.$$click=()=>e(-1),j(n,()=>Math.round(B.viewport.scale*100),i),o.$$click=()=>e(1),t})()};Ot(["click"]);var mJ=W('<svg class="size-full pointer-events-none absolute top-0 left-0"><path fill=none></path><circle r=4 fill=black></circle><circle r=4 fill=black>');function vJ(e){const[t,r]=Q({x:0,y:0}),[n,i]=Q({x:0,y:0}),o=()=>{const s=Xr(e.srcNodeId),l=Xr(e.distNodeId);if(!s||!l)return;const c={x:s.x+(s.width??300)/2,y:s.y},u={x:l.x+(l.width??300)/2,y:l.y};r(c),i(u)};kt(()=>{o();const s=setInterval(o,100);be(()=>clearInterval(s))});const a=()=>{const s=t(),l=n(),c=(s.x+l.x)/2;return`M ${s.x} ${s.y} L ${c} ${s.y} L ${c} ${l.y} L ${l.x} ${l.y}`};return(()=>{var s=mJ(),l=s.firstChild,c=l.nextSibling,u=c.nextSibling;return ee(f=>{var d=a(),h=e.color??"blue",p=e.stroke??2,g=t().x,m=t().y,v=n().x,b=n().y;return d!==f.e&&z(l,"d",f.e=d),h!==f.t&&z(l,"stroke",f.t=h),p!==f.a&&z(l,"stroke-width",f.a=p),g!==f.o&&z(c,"cx",f.o=g),m!==f.i&&z(c,"cy",f.i=m),v!==f.n&&z(u,"cx",f.n=v),b!==f.s&&z(u,"cy",f.s=b),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),s})()}var bJ=W("<svg class=size-full><path stroke=blue fill=transparent stroke-width=2></path><line stroke=red stroke-dasharray=3></line><line stroke=blue stroke-dasharray=3></line><circle r=8 fill=red cursor=pointer></circle><circle r=5 fill=green></circle><circle r=5 fill=green>");function yJ(e){const[t,r]=Q({x:0,y:0}),[n,i]=Q({x:0,y:0}),[o,a]=Q({x:0,y:0}),[s,l]=Q(!1),c=()=>{const g=Xr(e.srcNodeId),m=Xr(e.distNodeId);if(!g||!m)return;const v={x:g.x+(g.width??300)/2,y:g.y},b={x:m.x+(g.width??300)/2,y:m.y};r(v),i(b),a({x:(v.x+b.x)/2,y:Math.min(v.y,b.y)-200})};kt(()=>{c();const g=setInterval(c,0);be(()=>clearInterval(g))});const u=g=>{const m=g.currentTarget.closest("svg"),v=m.createSVGPoint();v.x=g.clientX,v.y=g.clientY;const b=v.matrixTransform(m.getScreenCTM().inverse());return{x:b.x,y:b.y}},f=()=>l(!0),d=()=>l(!1),h=g=>{s()&&a(u(g))},p=()=>`M ${t().x} ${t().y} Q ${o().x} ${o().y} ${n().x} ${n().y}`;return(()=>{var g=bJ(),m=g.firstChild,v=m.nextSibling,b=v.nextSibling,y=b.nextSibling,w=y.nextSibling,$=w.nextSibling;return g.$$mouseup=d,g.$$mousemove=h,y.$$mousedown=f,ee(A=>{var C=p(),E=t().x,_=t().y,N=o().x,M=o().y,O=n().x,D=n().y,S=o().x,k=o().y,x=o().x,P=o().y,I=t().x,L=t().y,V=n().x,U=n().y;return C!==A.e&&z(m,"d",A.e=C),E!==A.t&&z(v,"x1",A.t=E),_!==A.a&&z(v,"y1",A.a=_),N!==A.o&&z(v,"x2",A.o=N),M!==A.i&&z(v,"y2",A.i=M),O!==A.n&&z(b,"x1",A.n=O),D!==A.s&&z(b,"y1",A.s=D),S!==A.h&&z(b,"x2",A.h=S),k!==A.r&&z(b,"y2",A.r=k),x!==A.d&&z(y,"cx",A.d=x),P!==A.l&&z(y,"cy",A.l=P),I!==A.u&&z(w,"cx",A.u=I),L!==A.c&&z(w,"cy",A.c=L),V!==A.w&&z($,"cx",A.w=V),U!==A.m&&z($,"cy",A.m=U),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),g})()}Ot(["mousemove","mouseup","mousedown"]);var $J=W('<svg class="size-full pointer-events-none absolute top-0 left-0"><path fill=none></path><circle r=4 fill=black></circle><circle r=4 fill=black>');function wJ(e){const[t,r]=Q({x:0,y:0}),[n,i]=Q({x:0,y:0}),o=()=>{const s=Xr(e.srcNodeId),l=Xr(e.distNodeId);if(!s||!l)return;const c={x:s.x+(s.width??300)/2,y:s.y+(s.height??150)/2},u={x:l.x+(l.width??300)/2,y:l.y+(l.height??150)/2};r(c),i(u)};kt(()=>{o();const s=setInterval(o,100);be(()=>clearInterval(s))});const a=()=>{const s=t(),l=n();return`M ${s.x} ${s.y} L ${l.x} ${l.y}`};return(()=>{var s=$J(),l=s.firstChild,c=l.nextSibling,u=c.nextSibling;return ee(f=>{var d=a(),h=e.color??"black",p=e.stroke??2,g=t().x,m=t().y,v=n().x,b=n().y;return d!==f.e&&z(l,"d",f.e=d),h!==f.t&&z(l,"stroke",f.t=h),p!==f.a&&z(l,"stroke-width",f.a=p),g!==f.o&&z(c,"cx",f.o=g),m!==f.i&&z(c,"cy",f.i=m),v!==f.n&&z(u,"cx",f.n=v),b!==f.s&&z(u,"cy",f.s=b),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),s})()}var AJ=W("<div id=edges class=size-full>"),xJ=W("<div>Not Found");const SJ=()=>(()=>{var e=AJ();return j(e,T(yt,{get each(){var t;return B.edges[((t=B.activeBoards.at(-1))==null?void 0:t.id)??"home"]},children:t=>T(sc,{get fallback(){return xJ()},get children(){return[T(Be,{get when(){return t.type===Yh.Bezier},get children(){return T(yJ,t)}}),T(Be,{get when(){return t.type===Yh.Straight},get children(){return T(wJ,t)}}),T(Be,{get when(){return t.type===Yh.Step},get children(){return T(vJ,t)}})]}})})),e})();var dO;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(dO||(dO={}));async function CJ(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await Ft("plugin:event|unlisten",{event:e,eventId:t})}async function EJ(e,t,r){var n;const i=(n=void 0)!==null&&n!==void 0?n:{kind:"Any"};return Ft("plugin:event|listen",{event:e,target:i,handler:jq(t)}).then(o=>async()=>CJ(e,o))}let bL=class np extends zq{constructor(t){super(t)}static async new(t,r,n){return Ft("plugin:image|new",{rgba:hO(t),width:r,height:n}).then(i=>new np(i))}static async fromBytes(t){return Ft("plugin:image|from_bytes",{bytes:hO(t)}).then(r=>new np(r))}static async fromPath(t){return Ft("plugin:image|from_path",{path:t}).then(r=>new np(r))}async rgba(){return Ft("plugin:image|rgba",{rid:this.rid}).then(t=>new Uint8Array(t))}async size(){return Ft("plugin:image|size",{rid:this.rid})}};function hO(e){return e==null?null:typeof e=="string"?e:e instanceof bL?e.rid:e}async function kJ(){return await Ft("plugin:clipboard-manager|read_text")}async function OJ(){return await Ft("plugin:clipboard-manager|read_image").then(e=>new bL(e))}var TJ=W("<div id=eventhandler>");const IJ=e=>(EJ("tauri://drag-drop",t=>{console.log(t),rQ(t)}),kt(()=>{const t=async r=>{if(r.ctrlKey)switch(r.key){case"c":B.selectedNodes.forEach(o=>{let a=Xr(o);a&&le("copiedNodes",s=>[...s,a])});break;case"v":console.log("||||||||||||||||||||||||||||||||");const n=await kJ();console.log(n),console.log("||||||||||||||||||||||||||||||||");const i=await OJ();console.log(i),console.log("||||||||||||||||||||||||||||||||");break}else switch(r.key){case"Escape":le("selectedNodes",new Set);break;case"Delete":B.selectedNodes.forEach(n=>{Q$(n)});break;case"ArrowUp":kd(0,-10);break;case"ArrowDown":kd(0,10);break;case"ArrowLeft":kd(-10,0);break;case"ArrowRight":kd(10,0);break}};window.addEventListener("keydown",t),be(()=>{window.removeEventListener("keydown",t)})}),(()=>{var t=TJ();return t.$$contextmenu=r=>{},j(t,()=>e.children),t})());Ot(["contextmenu"]);var MJ=W('<div id=minimap class="absolute bottom-2.5 right-2.5 h-38 w-64 bg-primary p-2 z-[1000]"><div class="relative size-full border border-border bg-card z-[1000]"><div>');const PJ=()=>(()=>{var e=MJ(),t=e.firstChild,r=t.firstChild;return Z(r,"position","absolute"),Z(r,"top","50px"),Z(r,"left","10px"),Z(r,"width","20px"),Z(r,"height","20px"),Z(r,"background","#395"),e})();var DJ=W("<div>Invalid icon name"),_J=W("<svg>");const yL=e=>{let t=e.width||32,r=e.height||32,n=e.icon_name,i=e.classes;const o=h=>getComputedStyle(document.documentElement).getPropertyValue(h).trim();let a=o("--color-background"),s=o("--color-foreground"),l=o("--color-primary");o("--color-border");let c=o("--color-secondary"),u=o("--color-destructive"),d={note:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                    <path fill="${s}"
                    d="M5.75 5h20.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 0 1 0-1.5zm0 5h20.5a.75.75 0 1 1 0 1.5H5.75a.75.75 0 1 1 0-1.5zm0 5h18.143a.75.75 0 1 1 0 1.5H5.75a.75.75 0 1 1 0-1.5z">
                    </path>
                </g>
            `},todo:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                    <path fill="${s}"
                    d="M6.28 7.77a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0l3-3a.75.75 0 0 0-1.06-1.06L7.25 8.74l-.97-.97zm0 6.5a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0l3-3a.75.75 0 0 0-1.06-1.06l-2.47 2.47-.97-.97zM14.75 8h11.3a.75.75 0 1 1 0 1.5h-11.3a.75.75 0 1 1 0-1.5zm0 6.4h11.3a.75.75 0 1 1 0 1.5h-11.3a.75.75 0 1 1 0-1.5z">
                    </path>
                </g>
            `},arrow:{width:t,height:r,svg:`
                <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                <path fill="${s}" fill-rule="evenodd"
                    d="m30.385 0-3 8-1.793-1.793-21.5 21.5a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L24.177 4.792 22.385 3l8-3z">
                </path>
            `},board:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="32" height="32" fill="${l}" rx="8"></rect>
                    <rect width="7" height="7" x="8" y="8" fill="#FFF" rx="2"></rect>
                    <rect width="7" height="7" x="8" y="17" fill="#FFF" fill-opacity="0.75" rx="2"></rect>
                    <rect width="7" height="7" x="17" y="8" fill="#FFF" fill-opacity="0.25" rx="3.5"></rect>
                    <rect width="7" height="7" x="17" y="17" fill="#FFF" fill-opacity="0.5" rx="2"></rect>
                </g>
            `},column:{width:t,height:r,svg:`
                <defs>
                    <filter id="ElementColumnIcon__a" width="131.2%" height="131.2%" x="-15.6%" y="-12.5%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <rect id="ElementColumnIcon__b" width="32" height="32" rx="2"></rect>
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <use xlink:href="#ElementColumnIcon__b" fill="#000" filter="url(#ElementColumnIcon__a)"></use>
                    <use xlink:href="#ElementColumnIcon__b" fill="#3D3D3D"></use>
                    <path fill="#333" d="M3 9h26v9H3zm0 11h26v9H3z"></path>
                    <rect width="18" height="1.5" x="7" y="4" fill="${u}" rx="0.75"></rect>
                </g>
            `},comment:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <path fill="${c}"
                        d="M2.002 22A1.995 1.995 0 0 1 0 20.009V1.99C0 .891.89 0 2.002 0h27.996C31.104 0 32 .89 32 1.991V20.01c0 1.1-.89 1.991-2.002 1.991H20l-4 4-4-4H2.002z">
                    </path>
                    <path fill="${l}"
                        d="M24.24 14c.385 0 .703.28.753.648l.007.102c0 .414-.33.75-.76.75H5.76a.753.753 0 0 1-.76-.75c0-.414.33-.75.76-.75h18.48zm2.003-4c.383 0 .7.28.75.648l.007.102c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 10.75c0-.414.346-.75.757-.75h20.486zm0-4c.383 0 .7.28.75.648L27 6.75c0 .414-.346.75-.757.75H5.757A.752.752 0 0 1 5 6.75c0-.414.346-.75.757-.75h20.486z">
                    </path>
                </g>
            `},table:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <path fill="#3D3D3D" d="M2 0h28a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z"></path>
                    <path fill="#4D4D4D" d="M2 0h28a2 2 0 0 1 2 2v3H0V2a2 2 0 0 1 2-2z"></path>
                    <path fill="#FFF" fill-opacity="0.1"
                        d="M11 0v10h10V0h1v10h10v1H22v6h10v1H22v6h-1v-6H11v6h-1v-6H0v-1h10v-6H0v-1h10V0h1zm10 17v-6H11v6h10z">
                    </path>
                </g>
            `},code:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="${a}" rx="2"></rect>
                    <path d="M9 8L5 11.6923L9 16M15 8L19 11.6923L15 16" stroke="${s}" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
                    </path>
                </g>
            `},color:{width:t,height:r,svg:`
                <defs>
                    <filter id="ElementColorSwatchIcon__b" width="155.6%" height="143.5%" x="-27.8%" y="-17.4%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <filter id="ElementColorSwatchIcon__e" width="155.6%" height="143.5%" x="-27.8%" y="-17.4%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <path id="ElementColorSwatchIcon__a"
                        d="M0 1.003A.999.999 0 0 1 .993 0h16.014c.548 0 .993.439.993 1.003v20.994A.998.998 0 0 1 17.007 23H.993A.992.992 0 0 1 0 21.997V1.003z">
                    </path>
                    <path id="ElementColorSwatchIcon__d"
                        d="M0 1.003A.999.999 0 0 1 .993 0h16.014c.548 0 .993.439.993 1.003v20.994A.998.998 0 0 1 17.007 23H.993A.992.992 0 0 1 0 21.997V1.003z">
                    </path>
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <g transform="rotate(-4 17.978 .628)">
                        <mask id="ElementColorSwatchIcon__c" fill="#fff">
                            <use xlink:href="#ElementColorSwatchIcon__a"></use>
                        </mask>
                        <use xlink:href="#ElementColorSwatchIcon__a" fill="#000" filter="url(#ElementColorSwatchIcon__b)"></use>
                        <use xlink:href="#ElementColorSwatchIcon__a" fill="#3D3D3D"></use>
                        <path fill="#318295" d="M-2.685-2.024h23v18h-23z" mask="url(#ElementColorSwatchIcon__c)"></path>
                    </g>
                    <g transform="rotate(4 -109.493 148.676)">
                        <mask id="ElementColorSwatchIcon__f" fill="#fff">
                            <use xlink:href="#ElementColorSwatchIcon__d"></use>
                        </mask>
                        <use xlink:href="#ElementColorSwatchIcon__d" fill="#000" filter="url(#ElementColorSwatchIcon__e)"></use>
                        <use xlink:href="#ElementColorSwatchIcon__d" fill="#3D3D3D"></use>
                        <path fill="#E15678" d="M-2-2h22v18H-2z" mask="url(#ElementColorSwatchIcon__f)"></path>
                    </g>
                </g>
            `},document:{width:t,height:r,svg:`
                <defs>
                    <filter id="ElementDocumentIcon__b" width="138.5%" height="131.2%" x="-19.2%" y="-12.5%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                    </filter>
                    <filter id="ElementDocumentIcon__d" width="279.6%" height="277.8%" x="-89.7%" y="-77.8%"
                        filterUnits="objectBoundingBox">
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="2.5"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter1" result="shadowMatrixOuter1"
                            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"></feColorMatrix>
                        <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter2"></feOffset>
                        <feGaussianBlur in="shadowOffsetOuter2" result="shadowBlurOuter2" stdDeviation="1"></feGaussianBlur>
                        <feColorMatrix in="shadowBlurOuter2" result="shadowMatrixOuter2"
                            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"></feColorMatrix>
                        <feMerge>
                            <feMergeNode in="shadowMatrixOuter1"></feMergeNode>
                            <feMergeNode in="shadowMatrixOuter2"></feMergeNode>
                        </feMerge>
                    </filter>
                    <path id="ElementDocumentIcon__a"
                        d="M.855 0H16.74c.228 0 .447.091.608.254l8.406 8.496c.158.16.247.376.247.602v21.793a.855.855 0 0 1-.855.855H.855A.855.855 0 0 1 0 31.145V.855C0 .383.383 0 .855 0z">
                    </path>
                    <path id="ElementDocumentIcon__e" d="m17.094 0 8.812 9h-8.042a.855.855 0 0 1-.855-.855v-.01L17.094 0z"></path>
                </defs>
                <g fill="none" fill-rule="evenodd">
                    <g>
                        <mask id="ElementDocumentIcon__c" fill="#fff">
                            <use xlink:href="#ElementDocumentIcon__a"></use>
                        </mask>
                        <use xlink:href="#ElementDocumentIcon__a" fill="#000" filter="url(#ElementDocumentIcon__b)"></use>
                        <use xlink:href="#ElementDocumentIcon__a" fill="#3D3D3D"></use>
                        <g fill="#000" mask="url(#ElementDocumentIcon__c)">
                            <use xlink:href="#ElementDocumentIcon__e" filter="url(#ElementDocumentIcon__d)"></use>
                        </g>
                        <path fill="#4D4D4D" d="M17.095 0 26 9h-8.136a.855.855 0 0 1-.855-.855v-.01L17.095 0z"
                            mask="url(#ElementDocumentIcon__c)"></path>
                    </g>
                    <path fill="#F2F2F2"
                        d="M20.25 24c.38 0 .693.28.743.648l.007.102c0 .414-.334.75-.75.75H5.75a.749.749 0 1 1 0-1.5h14.5zm-9.962-8 .118 1.81h-.549c-.376-.917-.525-1.316-1.16-1.316h-.242v3.972c0 .43.172.517.69.54v.494H6.37v-.494c.525-.023.705-.11.705-.54v-3.972h-.25c-.635 0-.784.4-1.16 1.316h-.541L5.243 16h5.045zm9.96 4c.38 0 .695.28.745.648l.007.102c0 .414-.344.75-.753.75h-6.494a.75.75 0 1 1 0-1.5h6.494zm0-4c.38 0 .695.28.745.648l.007.102c0 .414-.344.75-.753.75h-6.494a.75.75 0 1 1 0-1.5h6.494z">
                    </path>
                </g>
            `},drawing:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="4"></rect>
                    <g fill="#F2F2F2" fill-rule="nonzero">
                        <path
                            d="M21.778 6.733a2.3 2.3 0 0 1 2.969.02l.13.12 1.062 1.063c.8.8.894 2.052.249 2.959l-.108.14-1.623 1.948a.8.8 0 0 1-1.293-.936l.063-.088 1.624-1.948a.7.7 0 0 0 .026-.862l-.07-.081-1.062-1.063a.702.702 0 0 0-.856-.105l-.087.062-1.948 1.623a.8.8 0 0 1-1.103-1.154l.079-.075 1.948-1.623zM8.391 21.754l-1.226 2.56a.998.998 0 0 0 1.333 1.334l2.561-1.226a.501.501 0 0 0 .138-.805l-2-2a.5.5 0 0 0-.805.137z">
                        </path>
                        <path
                            d="m18.575 9.117-6.877 6.875a9.503 9.503 0 0 0-1.78 2.47L8.501 21.3a1.501 1.501 0 0 0 .281 1.731l1 1a1.5 1.5 0 0 0 1.732.281l2.839-1.419a9.515 9.515 0 0 0 2.469-1.78l6.873-6.873a2.501 2.501 0 0 0 0-3.536l-1.586-1.586a2.501 2.501 0 0 0-3.536 0zm1.06 1.06a1 1 0 0 1 1.32-.082l.094.083 1.586 1.586a1 1 0 0 1 .083 1.32l-.083.094-6.875 6.875a8.016 8.016 0 0 1-1.754 1.326l-.325.172-2.839 1.42-1-1 1.42-2.84a8.034 8.034 0 0 1 1.244-1.812l.254-.266 6.875-6.875z">
                        </path>
                    </g>
                </g>
            `},sketch:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="2"></rect>
                    <path fill="#E6E6E6"
                        d="M20.79 4.344a.88.88 0 0 1-.095 1.18l-.078.066-2.54 1.878-1.34 1.005-.84.637-.613.47-.83.644-.744.586-.68.55-.641.53-.416.354-.414.362-.187.168-.34.312-.155.148-.286.282-.26.273c-.084.09-.164.18-.243.272a4.384 4.384 0 0 0-.353.466 1.75 1.75 0 0 0-.095.16l-.023.047.04-.003c.247-.028.525-.087.885-.182l.187-.05.236-.069.496-.153.54-.179.614-.215 1.042-.383 2.483-.94.877-.318.14-.049c.17-.058.322-.109.47-.155l.318-.095c.233-.066.394-.105.585-.13l.18-.019a1.1 1.1 0 0 1 .373.038c.066.02.136.051.229.106.103.07.2.169.242.256.05.086.085.18.095.246a.98.98 0 0 1-.039.502l-.055.14a2.15 2.15 0 0 1-.123.222 3.896 3.896 0 0 1-.132.197l-.152.199c-.056.07-.12.146-.193.233l-.202.227-.204.223-.333.35-.256.261-2.02 2.007-.123.125 1.598-.444.588-.155.338-.08.158-.033.306-.058.15-.024.307-.042a6.977 6.977 0 0 1 1.51-.03c.578.065 1.086.205 1.526.443.497.258.923.658 1.214 1.136.107.174.197.36.27.554l.069.197c.065.21.108.408.132.611l.016.205a.567.567 0 0 1-1.123.149l-.013-.093a2.248 2.248 0 0 0-.334-1.013 1.954 1.954 0 0 0-.778-.706c-.3-.157-.666-.252-1.093-.294a5.794 5.794 0 0 0-1.242.044c-.41.056-.831.149-1.36.295l-1.843.54-.269.073-.24.061-.24.055-.214.042-.182.026a1.803 1.803 0 0 1-.507.005.917.917 0 0 1-.404-.151l-.106-.08-.062-.063-.042-.05-.036-.056a.761.761 0 0 1-.086-.218l-.012-.092a.688.688 0 0 1 .003-.153l.03-.145.032-.09c.047-.109.09-.188.155-.283l.108-.15.152-.193.16-.189.184-.204.465-.495 1.818-1.855.346-.363.147-.158-.61.23-3.009 1.186-.671.256-.627.229c-.493.176-.924.32-1.35.446l-.399.111a6.207 6.207 0 0 1-1.103.206c-.19.013-.332.013-.501-.007a1.526 1.526 0 0 1-.347-.087 1.089 1.089 0 0 1-.436-.298 1.496 1.496 0 0 1-.32-1.315c.069-.31.19-.575.375-.868.135-.216.287-.423.465-.637.249-.297.497-.567.785-.857l.304-.297.34-.32.385-.352.212-.19.423-.37.428-.367.668-.56.722-.592.802-.644 1.237-.976 1.574-1.222 1.458-1.115L19.55 4.18a.89.89 0 0 1 1.24.164z">
                    </path>
                </g>
            `},upload:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="4"></rect>
                    <path fill="#E6E6E6" d="M18.586 6a1 1 0 0 1 .707.293l4.414 4.414a1 1 0 0 1 .293.707V24a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h8.586zM17 7.5h-7a.5.5 0 0 0-.5.5v16a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V13h-4.75a.75.75 0 0 1-.743-.648L17 12.25V7.5zm5.379 4L18.5 7.622V11.5h3.879z"></path>
                </g>
            `},image:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="32" height="32" fill="#3D3D3D" rx="4"></rect>
                    <path fill="#E6E6E6"
                        d="M22 7a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H10a3 3 0 0 1-3-3V10a3 3 0 0 1 3-3h12zm-8 11.06-4.97 4.97a.758.758 0 0 1-.063.057A1.49 1.49 0 0 0 10 23.5h12c.401 0 .765-.157 1.034-.414l-.064-.056L19 19.06l-1.47 1.47a.75.75 0 0 1-1.06 0L14 18.06zm8-9.56H10A1.5 1.5 0 0 0 8.5 10v11.438l4.97-4.968a.75.75 0 0 1 .976-.073l.084.073L17 18.94l1.47-1.47a.75.75 0 0 1 1.06 0l3.97 3.969V10A1.5 1.5 0 0 0 22 8.5zM19 10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z">
                    </path>
                </g>
            `},url:{width:t,height:r,svg:`
                <g fill="none" fill-rule="evenodd">
                    <rect width="${t}" height="${r}" fill="#3D3D3D" rx="2"></rect>
                    <path fill="#E6E6E6" fill-rule="nonzero"
                        d="M17.986 10.014a4.285 4.285 0 0 1 0 6.06l-1.67 1.67a4.285 4.285 0 0 1-6.06-6.06.741.741 0 0 1 1.048 1.05 2.802 2.802 0 0 0 3.963 3.962l1.67-1.67a2.802 2.802 0 0 0 0-3.964.741.741 0 1 1 1.049-1.048zm3.759-3.759a4.285 4.285 0 0 1 0 6.06.741.741 0 0 1-1.049-1.048 2.802 2.802 0 0 0-3.963-3.963l-1.67 1.67a2.802 2.802 0 0 0 0 3.964.741.741 0 1 1-1.049 1.048 4.285 4.285 0 0 1 0-6.06l1.67-1.67a4.285 4.285 0 0 1 6.06 0z">
                    </path>
                </g>
            `},collapse:{width:t,height:r,svg:`
                <path fill="#fff" fill-opacity="1" fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1 0-1h7a.5.5 0 0 1 .5.5z"></path>
            `}}[n];return d?(()=>{var h=_J();return z(h,"class",i),ee(p=>{var g=d.width,m=d.height,v=`0 0 ${d.width} ${d.height}`,b=d.svg;return g!==p.e&&z(h,"width",p.e=g),m!==p.t&&z(h,"height",p.t=m),v!==p.a&&z(h,"viewBox",p.a=v),b!==p.o&&(h.innerHTML=p.o=b),p},{e:void 0,t:void 0,a:void 0,o:void 0}),h})():DJ()};function qt(e){this.content=e}qt.prototype={constructor:qt,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var n=r&&r!=e?this.remove(r):this,i=n.find(e),o=n.content.slice();return i==-1?o.push(r||e,t):(o[i+1]=t,r&&(o[i]=r)),new qt(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new qt(r)},addToStart:function(e,t){return new qt([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new qt(r)},addBefore:function(e,t,r){var n=this.remove(t),i=n.content.slice(),o=n.find(e);return i.splice(o==-1?i.length:o,0,t,r),new qt(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=qt.from(e),e.size?new qt(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=qt.from(e),e.size?new qt(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=qt.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}};qt.from=function(e){if(e instanceof qt)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new qt(t)};function $L(e,t,r){for(let n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:r;let i=e.child(n),o=t.child(n);if(i==o){r+=i.nodeSize;continue}if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)r++;return r}if(i.content.size||o.content.size){let a=$L(i.content,o.content,r+1);if(a!=null)return a}r+=i.nodeSize}}function wL(e,t,r,n){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:r,b:n};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a==s){r-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:r,b:n};if(a.isText&&a.text!=s.text){let c=0,u=Math.min(a.text.length,s.text.length);for(;c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(a.content.size||s.content.size){let c=wL(a.content,s.content,r-1,n-1);if(c)return c}r-=l,n-=l}}class K{constructor(t,r){if(this.content=t,this.size=r||0,r==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,r,n,i=0,o){for(let a=0,s=0;s<r;a++){let l=this.content[a],c=s+l.nodeSize;if(c>t&&n(l,i+s,o||null,a)!==!1&&l.content.size){let u=s+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,r-u),n,i+u)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,n,i){let o="",a=!0;return this.nodesBetween(t,r,(s,l)=>{let c=s.isText?s.text.slice(Math.max(t,l)-l,r-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&n&&(a?a=!1:o+=n),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,n=t.firstChild,i=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new K(i,this.size+t.size)}cut(t,r=this.size){if(t==0&&r==this.size)return this;let n=[],i=0;if(r>t)for(let o=0,a=0;a<r;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>r)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,r-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,r-a-1))),n.push(s),i+=s.nodeSize),a=l}return new K(n,i)}cutByIndex(t,r){return t==r?K.empty:t==0&&r==this.content.length?this:new K(this.content.slice(t,r))}replaceChild(t,r){let n=this.content[t];if(n==r)return this;let i=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return i[t]=r,new K(i,o)}addToStart(t){return new K([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new K(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];t(i,n,r),n+=i.nodeSize}}findDiffStart(t,r=0){return $L(this,t,r)}findDiffEnd(t,r=this.size,n=t.size){return wL(this,t,r,n)}findIndex(t){if(t==0)return Nd(0,t);if(t==this.size)return Nd(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=this.child(r),o=n+i.nodeSize;if(o>=t)return o==t?Nd(r+1,o):Nd(r,n);n=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return K.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return K.empty;let r,n=0;for(let i=0;i<t.length;i++){let o=t[i];n+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(r||(r=t.slice(0,i)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new K(r||t,n)}static from(t){if(!t)return K.empty;if(t instanceof K)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new K([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const ub={index:0,offset:0};function Nd(e,t){return ub.index=e,ub.offset=t,ub}function Qp(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Qp(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!Qp(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let We=class hw{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,n=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))r||(r=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(r||(r=t.slice(0,i)),r.push(this),n=!0),r&&r.push(o)}}return r||(r=t.slice()),n||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Qp(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(r[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return hw.none;if(t instanceof hw)return[t];let r=t.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};We.none=[];class Yp extends Error{}class J{constructor(t,r,n){this.content=t,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let n=xL(this.content,t+this.openStart,r);return n&&new J(n,this.openStart,this.openEnd)}removeBetween(t,r){return new J(AL(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return J.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new J(K.fromJSON(t,r.content),n,i)}static maxOpen(t,r=!0){let n=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.lastChild)i++;return new J(t,n,i)}}J.empty=new J(K.empty,0,0);function AL(e,t,r){let{index:n,offset:i}=e.findIndex(t),o=e.maybeChild(n),{index:a,offset:s}=e.findIndex(r);if(i==t||o.isText){if(s!=r&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(n,o.copy(AL(o.content,t-i-1,r-i-1)))}function xL(e,t,r,n){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return n&&!n.canReplace(i,i,r)?null:e.cut(0,t).append(r).append(e.cut(t));let s=xL(a.content,t-o-1,r,a);return s&&e.replaceChild(i,a.copy(s))}function NJ(e,t,r){if(r.openStart>e.depth)throw new Yp("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new Yp("Inconsistent open depths");return SL(e,t,r,0)}function SL(e,t,r,n){let i=e.index(n),o=e.node(n);if(i==t.index(n)&&n<e.depth-r.openStart){let a=SL(e,t,r,n+1);return o.copy(o.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==n&&t.depth==n){let a=e.parent,s=a.content;return Wa(a,s.cut(0,e.parentOffset).append(r.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=LJ(r,e);return Wa(o,EL(e,a,s,t,n))}else return Wa(o,Jp(e,t,n))}function CL(e,t){if(!t.type.compatibleContent(e.type))throw new Yp("Cannot join "+t.type.name+" onto "+e.type.name)}function pw(e,t,r){let n=e.node(r);return CL(n,t.node(r)),n}function Ua(e,t){let r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function ku(e,t,r,n){let i=(t||e).node(r),o=0,a=t?t.index(r):i.childCount;e&&(o=e.index(r),e.depth>r?o++:e.textOffset&&(Ua(e.nodeAfter,n),o++));for(let s=o;s<a;s++)Ua(i.child(s),n);t&&t.depth==r&&t.textOffset&&Ua(t.nodeBefore,n)}function Wa(e,t){return e.type.checkContent(t),e.copy(t)}function EL(e,t,r,n,i){let o=e.depth>i&&pw(e,t,i+1),a=n.depth>i&&pw(r,n,i+1),s=[];return ku(null,e,i,s),o&&a&&t.index(i)==r.index(i)?(CL(o,a),Ua(Wa(o,EL(e,t,r,n,i+1)),s)):(o&&Ua(Wa(o,Jp(e,t,i+1)),s),ku(t,r,i,s),a&&Ua(Wa(a,Jp(r,n,i+1)),s)),ku(n,null,i,s),new K(s)}function Jp(e,t,r){let n=[];if(ku(null,e,r,n),e.depth>r){let i=pw(e,t,r+1);Ua(Wa(i,Jp(e,t,r+1)),n)}return ku(t,null,r,n),new K(n)}function LJ(e,t){let r=t.depth-e.openStart,i=t.node(r).copy(e.content);for(let o=r-1;o>=0;o--)i=t.node(o).copy(K.from(i));return{start:i.resolveNoCache(e.openStart+r),end:i.resolveNoCache(i.content.size-e.openEnd-r)}}class ef{constructor(t,r,n){this.pos=t,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=t.child(r);return n?t.child(r).cut(n):i}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):t==0?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let o=0;o<t;o++)i+=n.child(o).nodeSize;return i}marks(){let t=this.parent,r=this.index();if(t.content.size==0)return We.none;if(this.textOffset)return t.child(r).marks;let n=t.maybeChild(r-1),i=t.maybeChild(r);if(!n){let s=n;n=i,i=s}let o=n.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!r||r(this.node(n))))return new Xp(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,o=r;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(n.push(a,s,i+l),!c||(a=a.child(s),a.isText))break;o=c-1,i+=l+1}return new ef(r,n,o)}static resolveCached(t,r){let n=pO.get(t);if(n)for(let o=0;o<n.elts.length;o++){let a=n.elts[o];if(a.pos==r)return a}else pO.set(t,n=new RJ);let i=n.elts[n.i]=ef.resolve(t,r);return n.i=(n.i+1)%BJ,i}}class RJ{constructor(){this.elts=[],this.i=0}}const BJ=12,pO=new WeakMap;class Xp{constructor(t,r,n){this.$from=t,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const FJ=Object.create(null);let Vo=class gw{constructor(t,r,n,i=We.none){this.type=t,this.attrs=r,this.marks=i,this.content=n||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,n,i=0){this.content.nodesBetween(t,r,n,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,n,i){return this.content.textBetween(t,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,n){return this.type==t&&Qp(this.attrs,r||t.defaultAttrs||FJ)&&We.sameSet(this.marks,n||We.none)}copy(t=null){return t==this.content?this:new gw(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new gw(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,n=!1){if(t==r)return J.empty;let i=this.resolve(t),o=this.resolve(r),a=n?0:i.sharedDepth(r),s=i.start(a),c=i.node(a).content.cut(i.pos-s,o.pos-s);return new J(c,i.depth-a,o.depth-a)}replace(t,r,n){return NJ(this.resolve(t),this.resolve(r),n)}nodeAt(t){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(t);if(r=r.maybeChild(n),!r)return null;if(i==t||r.isText)return r;t-=i+1}}childAfter(t){let{index:r,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(t){return ef.resolveCached(this,t)}resolveNoCache(t){return ef.resolve(this,t)}rangeHasMark(t,r,n){let i=!1;return r>t&&this.nodesBetween(t,r,o=>(n.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),kL(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,n=K.empty,i=0,o=n.childCount){let a=this.contentMatchAt(t).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(n),a=o&&o.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=We.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!We.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,n)}let i=K.fromJSON(t,r.content),o=t.nodeType(r.type).create(r.attrs,i,n);return o.type.checkAttrs(o.attrs),o}};Vo.prototype.text=void 0;class Zp extends Vo{constructor(t,r,n,i){if(super(t,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):kL(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Zp(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Zp(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return t==0&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function kL(e,t){for(let r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}class Xa{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let n=new jJ(t,r);if(n.next==null)return Xa.empty;let i=OL(n);n.next&&n.err("Unexpected trailing text");let o=GJ(KJ(i));return qJ(o,n),o}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,n=t.childCount){let i=this;for(let o=r;i&&o<n;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let n=0;n<t.next.length;n++)if(this.next[r].type==t.next[n].type)return!0;return!1}fillBefore(t,r=!1,n=0){let i=[this];function o(a,s){let l=a.matchFragment(t,n);if(l&&(!r||l.validEnd))return K.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:u,next:f}=a.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(u));if(d)return d}}return null}return o(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in r)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),r[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function r(n){t.push(n);for(let i=0;i<n.next.length;i++)t.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),t.map((n,i)=>{let o=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)o+=(a?", ":"")+n.next[a].type.name+"->"+t.indexOf(n.next[a].next);return o}).join(`
`)}}Xa.empty=new Xa(!0);class jJ{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function OL(e){let t=[];do t.push(zJ(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function zJ(e){let t=[];do t.push(HJ(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function HJ(e){let t=WJ(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=VJ(e,t);else break;return t}function gO(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function VJ(e,t){let r=gO(e),n=r;return e.eat(",")&&(e.next!="}"?n=gO(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:t}}function UJ(e,t){let r=e.nodeTypes,n=r[t];if(n)return[n];let i=[];for(let o in r){let a=r[o];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function WJ(e){if(e.eat("(")){let t=OL(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=UJ(e,e.next).map(r=>(e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function KJ(e){let t=[[]];return i(o(e,0),r()),t;function r(){return t.push([])-1}function n(a,s,l){let c={term:l,to:s};return t[a].push(c),c}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=r())}else if(a.type=="star"){let l=r();return n(s,l),i(o(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return i(o(a.expr,s),l),i(o(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let u=r();i(o(a.expr,l),u),l=u}if(a.max==-1)i(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let u=r();n(l,u),i(o(a.expr,l),u),l=u}return[n(l)]}else{if(a.type=="name")return[n(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function TL(e,t){return t-e}function mO(e,t){let r=[];return n(t),r.sort(TL);function n(i){let o=e[i];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&r.indexOf(l)==-1&&n(l)}}}function GJ(e){let t=Object.create(null);return r(mO(e,0));function r(n){let i=[];n.forEach(a=>{e[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let u=0;u<i.length;u++)i[u][0]==s&&(c=i[u][1]);mO(e,l).forEach(u=>{c||i.push([s,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[n.join(",")]=new Xa(n.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(TL);o.next.push({type:i[a][0],next:t[s.join(",")]||r(s)})}return o}}function qJ(e,t){for(let r=0,n=[e];r<n.length;r++){let i=n[r],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:c}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function IL(e){let t=Object.create(null);for(let r in e){let n=e[r];if(!n.hasDefault)return null;t[r]=n.default}return t}function ML(e,t){let r=Object.create(null);for(let n in e){let i=t&&t[n];if(i===void 0){let o=e[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function PL(e,t,r,n){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function DL(e,t){let r=Object.create(null);if(t)for(let n in t)r[n]=new YJ(e,n,t[n]);return r}let vO=class _L{constructor(t,r,n){this.name=t,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=DL(t,n.attrs),this.defaultAttrs=IL(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:ML(this.attrs,t)}create(t=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Vo(this,this.computeAttrs(t),K.from(r),We.setFrom(n))}createChecked(t=null,r,n){return r=K.from(r),this.checkContent(r),new Vo(this,this.computeAttrs(t),r,We.setFrom(n))}createAndFill(t=null,r,n){if(t=this.computeAttrs(t),r=K.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let i=this.contentMatch.matchFragment(r),o=i&&i.fillBefore(K.empty,!0);return o?new Vo(this,t,r.append(o),We.setFrom(n)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){PL(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let r;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?r&&r.push(t[n]):r||(r=t.slice(0,n));return r?r.length?r:We.none:t}static compile(t,r){let n=Object.create(null);t.forEach((o,a)=>n[o]=new _L(o,r,a));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function QJ(e,t,r){let n=r.split("|");return i=>{let o=i===null?"null":typeof i;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${e}, got ${o}`)}}class YJ{constructor(t,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?QJ(t,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class zm{constructor(t,r,n,i){this.name=t,this.rank=r,this.schema=n,this.spec=i,this.attrs=DL(t,i.attrs),this.excluded=null;let o=IL(this.attrs);this.instance=o?new We(this,o):null}create(t=null){return!t&&this.instance?this.instance:new We(this,ML(this.attrs,t))}static compile(t,r){let n=Object.create(null),i=0;return t.forEach((o,a)=>n[o]=new zm(o,i++,r,a)),n}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}checkAttrs(t){PL(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class NL{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in t)r[i]=t[i];r.nodes=qt.from(t.nodes),r.marks=qt.from(t.marks||{}),this.nodes=vO.compile(this.spec.nodes,this),this.marks=zm.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=n[a]||(n[a]=Xa.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?bO(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:bO(this,a.split(" "))}this.nodeFromJSON=i=>Vo.fromJSON(this,i),this.markFromJSON=i=>We.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,n,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof vO){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(r,n,i)}text(t,r){let n=this.nodes.text;return new Zp(n,n.defaultAttrs,t,We.setFrom(r))}mark(t,r){return typeof t=="string"&&(t=this.marks[t]),t.create(r)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}function bO(e,t){let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e.marks[i],a=o;if(o)r.push(o);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return r}function JJ(e){return e.tag!=null}function XJ(e){return e.style!=null}class Uo{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(JJ(i))this.tags.push(i);else if(XJ(i)){let o=/[^=]*/.exec(i.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,r={}){let n=new $O(this,r,!1);return n.addAll(t,We.none,r.from,r.to),n.finish()}parseSlice(t,r={}){let n=new $O(this,r,!0);return n.addAll(t,We.none,r.from,r.to),J.maxOpen(n.finish())}matchTag(t,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(tX(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,r,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!n.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let r=[];function n(i){let o=i.priority==null?50:i.priority,a=0;for(;a<r.length;a++){let s=r[a];if((s.priority==null?50:s.priority)<o)break}r.splice(a,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(a=>{n(a=wO(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(a=>{n(a=wO(a)),a.node||a.ignore||a.mark||(a.node=i)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Uo(t,Uo.schemaRules(t)))}}const LL={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ZJ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},RL={ol:!0,ul:!0},tf=1,mw=2,Ou=4;function yO(e,t,r){return t!=null?(t?tf:0)|(t==="full"?mw:0):e&&e.whitespace=="pre"?tf|mw:r&~Ou}class Ld{constructor(t,r,n,i,o,a){this.type=t,this.attrs=r,this.marks=n,this.solid=i,this.options=a,this.content=[],this.activeMarks=We.none,this.match=o||(a&Ou?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(K.from(t));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(t.type))?(this.match=n,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&tf)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let r=K.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!LL.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class $O{constructor(t,r,n){this.parser=t,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,o,a=yO(null,r.preserveWhitespace,0)|(n?Ou:0);i?o=new Ld(i.type,i.attrs,We.none,!0,r.topMatch||i.type.contentMatch,a):n?o=new Ld(null,null,We.none,!0,null,a):o=new Ld(t.schema.topNodeType,null,We.none,!0,null,a),this.nodes=[o],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,r){t.nodeType==3?this.addTextNode(t,r):t.nodeType==1&&this.addElement(t,r)}addTextNode(t,r){let n=t.nodeValue,i=this.top,o=i.options&mw?"full":this.localPreserveWS||(i.options&tf)>0;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(o)o!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],s=t.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,r,n){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;RL.hasOwnProperty(a)&&this.parser.normalizeLists&&eX(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,n));e:if(l?l.ignore:ZJ.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(LL.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,r);break e}let f=l&&l.skip?r:this.readStyles(t,r);f&&this.addAll(t,f),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(t,r);c&&this.addElementByRule(t,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(t,r){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),r)}ignoreFallback(t,r){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(t,r){let n=t.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=n.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return r}addElementByRule(t,r,n,i){let o,a;if(r.node)if(a=this.parser.schema.nodes[r.node],a.isLeaf)this.insertNode(a.create(r.attrs),n,t.nodeName=="BR")||this.leafFallback(t,n);else{let l=this.enter(a,r.attrs||null,n,r.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,n,i);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=t;typeof r.contentElement=="string"?l=t.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(t):r.contentElement&&(l=r.contentElement),this.findAround(t,l,!0),this.addAll(l,n),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,r,n,i){let o=n||0;for(let a=n?t.childNodes[n]:t.firstChild,s=i==null?null:t.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,r);this.findAtPoint(t,o)}findPlace(t,r,n){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+s)&&(i=c,o=l,!c.length))break;if(l.solid){if(n)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)r=this.enterInner(i[a],null,r,!1);return r}insertNode(t,r,n){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(r=this.enterInner(o,null,r))}let i=this.findPlace(t,r,n);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=We.none;for(let s of i.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):AO(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,r,n,i){let o=this.findPlace(t.create(r),n,!1);return o&&(o=this.enterInner(t,r,n,!0,i)),o}enterInner(t,r,n,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=yO(t,o,a.options);a.options&Ou&&a.content.length==0&&(s|=Ou);let l=We.none;return n=n.filter(c=>(a.type?a.type.allowsMarkType(c.type):AO(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Ld(t,r,l,i,null,s)),this.open++,n}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let r=this.open;r>=0;r--){if(this.nodes[r]==t)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=tf)}return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)t+=n[i].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,n){if(t!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let c=r[s];if(c==""){if(s==r.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return a(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let n=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function eX(e){for(let t=e.firstChild,r=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&RL.hasOwnProperty(n)&&r?(r.appendChild(t),t=r):n=="li"?r=t:n&&(r=null)}}function tX(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function wO(e){let t={};for(let r in e)t[r]=e[r];return t}function AO(e,t){let r=t.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(e))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:u}=s.edge(l);if(c==t||o.indexOf(u)<0&&a(u))return!0}};if(a(i.contentMatch))return!0}}class As{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},n){n||(n=fb(r).createDocumentFragment());let i=n,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],u=this.serializeMark(c,a.isInline,r);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(t,r){let{dom:n,contentDOM:i}=ip(fb(r),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,i)}return n}serializeNode(t,r={}){let n=this.serializeNodeInner(t,r);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,r,n={}){let i=this.marks[t.type.name];return i&&ip(fb(n),i(t,r),null,t.attrs)}static renderSpec(t,r,n=null,i){return ip(t,r,n,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new As(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=xO(t.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(t){return xO(t.marks)}}function xO(e){let t={};for(let r in e){let n=e[r].spec.toDOM;n&&(t[r]=n)}return t}function fb(e){return e.document||window.document}const SO=new WeakMap;function rX(e){let t=SO.get(e);return t===void 0&&SO.set(e,t=nX(e)),t}function nX(e){let t=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(e),t}function ip(e,t,r,n){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=rX(n))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),c[f]):f=="style"&&l.style?l.style.cssText=c[f]:l.setAttribute(f,c[f])}}for(let f=u;f<t.length;f++){let d=t[f];if(d===0){if(f<t.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=ip(e,d,r,n);if(l.appendChild(h),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}const BL=65535,FL=Math.pow(2,16);function iX(e,t){return e+t*FL}function CO(e){return e&BL}function oX(e){return(e-(e&BL))/FL}const jL=1,zL=2,op=4,HL=8;class vw{constructor(t,r,n){this.pos=t,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&HL)>0}get deletedBefore(){return(this.delInfo&(jL|op))>0}get deletedAfter(){return(this.delInfo&(zL|op))>0}get deletedAcross(){return(this.delInfo&op)>0}}class Ur{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&Ur.empty)return Ur.empty}recover(t){let r=0,n=CO(t);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+oX(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,n){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[s+o],u=this.ranges[s+a],f=l+c;if(t<=f){let d=c?t==l?-1:t==f?1:r:r,h=l+i+(d<0?0:u);if(n)return h;let p=t==(r<0?l:f)?null:iX(s/3,t-l),g=t==l?zL:t==f?jL:op;return(r<0?t!=l:t!=f)&&(g|=HL),new vw(h,g,p)}i+=u-c}return n?t+i:new vw(t+i,0,null)}touches(t,r){let n=0,i=CO(r),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>t)break;let c=this.ranges[s+o],u=l+c;if(t<=u&&s==i*3)return!0;n+=this.ranges[s+a]-c}return!1}forEach(t){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+r],u=this.ranges[i+n];t(s,s+c,l,l+u),o+=u-c}}invert(){return new Ur(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Ur.empty:new Ur(t<0?[0,-t,0]:[0,0,t])}}Ur.empty=new Ur([]);class rf{constructor(t,r,n=0,i=t?t.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=t||[],this.ownData=!(t||r)}get maps(){return this._maps}slice(t=0,r=this.maps.length){return new rf(this._maps,this.mirror,t,r)}appendMap(t,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(t){for(let r=0,n=this._maps.length;r<t._maps.length;r++){let i=t.getMirror(r);this.appendMap(t._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(t){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,n=this._maps.length+t._maps.length;r>=0;r--){let i=t.getMirror(r);this.appendMap(t._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let t=new rf;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,n){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,r);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return n?t:new vw(t,i,null)}}const db=Object.create(null);class cr{getMap(){return Ur.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=db[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in db)throw new RangeError("Duplicate use of step JSON ID "+t);return db[t]=r,r.prototype.jsonID=t,r}}class $t{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new $t(t,null)}static fail(t){return new $t(null,t)}static fromReplace(t,r,n,i){try{return $t.ok(t.replace(r,n,i))}catch(o){if(o instanceof Yp)return $t.fail(o.message);throw o}}}function hx(e,t,r){let n=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(hx(o.content,t,o))),o.isInline&&(o=t(o,r,i)),n.push(o)}return K.fromArray(n)}class Ro extends cr{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new J(hx(r.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),r.openStart,r.openEnd);return $t.fromReplace(t,this.from,this.to,o)}invert(){return new Bn(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ro(r.pos,n.pos,this.mark)}merge(t){return t instanceof Ro&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ro(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ro(r.from,r.to,t.markFromJSON(r.mark))}}cr.jsonID("addMark",Ro);class Bn extends cr{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=new J(hx(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),r.openStart,r.openEnd);return $t.fromReplace(t,this.from,this.to,n)}invert(){return new Ro(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Bn(r.pos,n.pos,this.mark)}merge(t){return t instanceof Bn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Bn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Bn(r.from,r.to,t.markFromJSON(r.mark))}}cr.jsonID("removeMark",Bn);class Bo extends cr{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return $t.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return $t.fromReplace(t,this.pos,this.pos+1,new J(K.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Bo(this.pos,r.marks[i]);return new Bo(this.pos,this.mark)}}return new Za(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Bo(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Bo(r.pos,t.markFromJSON(r.mark))}}cr.jsonID("addNodeMark",Bo);class Za extends cr{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return $t.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return $t.fromReplace(t,this.pos,this.pos+1,new J(K.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Bo(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Za(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Za(r.pos,t.markFromJSON(r.mark))}}cr.jsonID("removeNodeMark",Za);class Bt extends cr{constructor(t,r,n,i=!1){super(),this.from=t,this.to=r,this.slice=n,this.structure=i}apply(t){return this.structure&&bw(t,this.from,this.to)?$t.fail("Structure replace would overwrite content"):$t.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Ur([this.from,this.to-this.from,this.slice.size])}invert(t){return new Bt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Bt(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Bt)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let r=this.slice.size+t.slice.size==0?J.empty:new J(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Bt(this.from,this.to+(t.to-t.from),r,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let r=this.slice.size+t.slice.size==0?J.empty:new J(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Bt(t.from,this.to,r,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Bt(r.from,r.to,J.fromJSON(t,r.slice),!!r.structure)}}cr.jsonID("replace",Bt);class Ht extends cr{constructor(t,r,n,i,o,a,s=!1){super(),this.from=t,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(bw(t,this.from,this.gapFrom)||bw(t,this.gapTo,this.to)))return $t.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return $t.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?$t.fromReplace(t,this.from,this.to,n):$t.fail("Content does not fit in gap")}getMap(){return new Ur([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new Ht(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||o>n.pos?null:new Ht(r.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ht(r.from,r.to,r.gapFrom,r.gapTo,J.fromJSON(t,r.slice),r.insert,!!r.structure)}}cr.jsonID("replaceAround",Ht);function bw(e,t,r){let n=e.resolve(t),i=r-t,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let a=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function aX(e,t,r,n){let i=[],o=[],a,s;e.doc.nodesBetween(t,r,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&u.type.allowsMarkType(n.type)){let d=Math.max(c,t),h=Math.min(c+l.nodeSize,r),p=n.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(p)||(a&&a.to==d&&a.mark.eq(f[g])?a.to=h:i.push(a=new Bn(d,h,f[g])));s&&s.to==d?s.to=h:o.push(s=new Ro(d,h,n))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function sX(e,t,r,n){let i=[],o=0;e.doc.nodesBetween(t,r,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(n instanceof zm){let c=a.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,r);for(let u=0;u<l.length;u++){let f=l[u],d;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&f.eq(i[h].style)&&(d=p)}d?(d.to=c,d.step=o):i.push({style:f,from:Math.max(s,t),to:c,step:o})}}}),i.forEach(a=>e.step(new Bn(a.from,a.to,a.style)))}function px(e,t,r,n=r.contentMatch,i=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=s+c.nodeSize,f=n.matchType(c.type);if(!f)a.push(new Bt(s,u,J.empty));else{n=f;for(let d=0;d<c.marks.length;d++)r.allowsMarkType(c.marks[d].type)||e.step(new Bn(s,u,c.marks[d]));if(i&&c.isText&&r.whitespace!="pre"){let d,h=/\r?\n|\r/g,p;for(;d=h.exec(c.text);)p||(p=new J(K.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),a.push(new Bt(s+d.index,s+d.index+d[0].length,p))}}s=u}if(!n.validEnd){let l=n.fillBefore(K.empty,!0);e.replace(s,s,new J(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function lX(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function uc(e){let r=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let i=e.$from.node(n),o=e.$from.index(n),a=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(o,a,r))return n;if(n==0||i.type.spec.isolating||!lX(i,o,a))break}return null}function cX(e,t,r){let{$from:n,$to:i,depth:o}=t,a=n.before(o+1),s=i.after(o+1),l=a,c=s,u=K.empty,f=0;for(let p=o,g=!1;p>r;p--)g||n.index(p)>0?(g=!0,u=K.from(n.node(p).copy(u)),f++):l--;let d=K.empty,h=0;for(let p=o,g=!1;p>r;p--)g||i.after(p+1)<i.end(p)?(g=!0,d=K.from(i.node(p).copy(d)),h++):c++;e.step(new Ht(l,c,a,s,new J(u.append(d),f,h),u.size-f,!0))}function gx(e,t,r=null,n=e){let i=uX(e,t),o=i&&fX(n,t);return o?i.map(EO).concat({type:t,attrs:r}).concat(o.map(EO)):null}function EO(e){return{type:e,attrs:null}}function uX(e,t){let{parent:r,startIndex:n,endIndex:i}=e,o=r.contentMatchAt(n).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return r.canReplaceWith(n,i,a)?o:null}function fX(e,t){let{parent:r,startIndex:n,endIndex:i}=e,o=r.child(n),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=n;l&&c<i;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:a}function dX(e,t,r){let n=K.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let s=r[a].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=K.from(r[a].type.create(r[a].attrs,n))}let i=t.start,o=t.end;e.step(new Ht(i,o,i,o,new J(n,0,0),r.length,!0))}function hX(e,t,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,r,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(n,l)&&pX(e.doc,e.mapping.slice(o).map(s),n)){let c=null;if(n.schema.linebreakReplacement){let h=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&UL(e,a,s,o),px(e,e.mapping.slice(o).map(s,1),n,void 0,c===null);let u=e.mapping.slice(o),f=u.map(s,1),d=u.map(s+a.nodeSize,1);return e.step(new Ht(f,d,f+1,d-1,new J(K.from(n.create(l,null,a.marks)),0,0),1,!0)),c===!0&&VL(e,a,s,o),!1}})}function VL(e,t,r,n){t.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=e.mapping.slice(n).map(r+1+o+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function UL(e,t,r,n){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(n).map(r+1+o);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function pX(e,t,r){let n=e.resolve(t),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function gX(e,t,r,n,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");r||(r=o.type);let a=r.create(n,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!r.validContent(o.content))throw new RangeError("Invalid content for node type "+r.name);e.step(new Ht(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new J(K.from(a),0,0),1,!0))}function Yi(e,t,r=1,n){let i=e.resolve(t),o=i.depth-r,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=r-2;c>o;c--,u--){let f=i.node(c),d=i.index(c);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=n&&n[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=n&&n[u]||f;if(!f.canReplace(d+1,f.childCount)||!g.type.validContent(h))return!1}let s=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function mX(e,t,r=1,n){let i=e.doc.resolve(t),o=K.empty,a=K.empty;for(let s=i.depth,l=i.depth-r,c=r-1;s>l;s--,c--){o=K.from(i.node(s).copy(o));let u=n&&n[c];a=K.from(u?u.type.create(u.attrs,a):i.node(s).copy(a))}e.step(new Bt(t,t,new J(o.append(a),r,r),!0))}function ca(e,t){let r=e.resolve(t),n=r.index();return WL(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function vX(e,t){t.content.size||e.type.compatibleContent(t.type);let r=e.contentMatchAt(e.childCount),{linebreakReplacement:n}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),a=o.type==n?e.type.schema.nodes.text:o.type;if(r=r.matchType(a),!r||!e.type.allowsMarks(o.marks))return!1}return r.validEnd}function WL(e,t){return!!(e&&t&&!e.isLeaf&&vX(e,t))}function Hm(e,t,r=-1){let n=e.resolve(t);for(let i=n.depth;;i--){let o,a,s=n.index(i);if(i==n.depth?(o=n.nodeBefore,a=n.nodeAfter):r>0?(o=n.node(i+1),s++,a=n.node(i).maybeChild(s)):(o=n.node(i).maybeChild(s-1),a=n.node(i+1)),o&&!o.isTextblock&&WL(o,a)&&n.node(i).canReplace(s,s+1))return t;if(i==0)break;t=r<0?n.before(i):n.after(i)}}function bX(e,t,r){let n=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-r),a=o.node().type;if(i&&a.inlineContent){let u=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);u&&!f?n=!1:!u&&f&&(n=!0)}let s=e.steps.length;if(n===!1){let u=e.doc.resolve(t+r);UL(e,u.node(),u.before(),s)}a.inlineContent&&px(e,t+r-1,a,o.node().contentMatchAt(o.index()),n==null);let l=e.mapping.slice(s),c=l.map(t-r);if(e.step(new Bt(c,l.map(t+r,-1),J.empty,!0)),n===!0){let u=e.doc.resolve(c);VL(e,u.node(),u.before(),e.steps.length)}return e}function yX(e,t,r){let n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),r))return t;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let o=n.indexAfter(i);if(n.node(i).canReplaceWith(o,o,r))return n.after(i+1);if(o<n.node(i).childCount)return null}return null}function KL(e,t,r){let n=e.resolve(t);if(!r.content.size)return t;let i=r.content;for(let o=0;o<r.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(r.openStart==0&&r.size?2:1);o++)for(let a=n.depth;a>=0;a--){let s=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(s>0?1:0),c=n.node(a),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return s==0?n.pos:s<0?n.before(a+1):n.after(a+1)}return null}function Vm(e,t,r=t,n=J.empty){if(t==r&&!n.size)return null;let i=e.resolve(t),o=e.resolve(r);return GL(i,o,n)?new Bt(t,r,n):new $X(i,o,n).fit()}function GL(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}class $X{constructor(t,r,n){this.$from=t,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=K.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=K.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new J(o,a,s);return t>-1?new Ht(n.pos,t,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Bt(n.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<t;n++){let o=r.firstChild;if(r.childCount>1&&(i=0),o.type.spec.isolating&&i<=n){t=n;break}r=o.content}for(let r=1;r<=2;r++)for(let n=r==1?t:this.unplaced.openStart;n>=0;n--){let i,o=null;n?(o=hb(this.unplaced.content,n-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],u,f=null;if(r==1&&(a?c.matchType(a.type)||(f=c.fillBefore(K.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:f};if(r==2&&a&&(u=c.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:r,openEnd:n}=this.unplaced,i=hb(t,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new J(t,r+1,Math.max(n,i.size+r>=t.size-n?r+1:0)),!0)}dropNode(){let{content:t,openStart:r,openEnd:n}=this.unplaced,i=hb(t,r);if(i.childCount<=1&&r>0){let o=t.size-r<=r+i.size;this.unplaced=new J(fu(t,r-1,1),r-1,o?r-1:n)}else this.unplaced=new J(fu(t,r,1),r,n)}placeNodes({sliceDepth:t,frontierDepth:r,parent:n,inject:i,wrap:o}){for(;this.depth>r;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-t,c=0,u=[],{match:f,type:d}=this.frontier[r];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));f=f.matchFragment(i)}let h=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let g=s.child(c),m=f.matchType(g.type);if(!m)break;c++,(c>1||l==0||g.content.size)&&(f=m,u.push(qL(g.mark(d.allowedMarks(g.marks)),c==1?l:0,c==s.childCount?h:-1)))}let p=c==s.childCount;p||(h=-1),this.placed=du(this.placed,r,K.from(u)),this.frontier[r].match=f,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=s;g<h;g++){let v=m.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),m=v.content}this.unplaced=p?t==0?J.empty:new J(fu(a.content,t-1,1),t-1,h<0?a.openEnd:t-1):new J(fu(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],r;if(!t.type.isTextblock||!pb(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],o=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),a=pb(t,r,i,n,o);if(a){for(let s=r-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],u=pb(t,s,c,l,!0);if(!u||u.childCount)continue e}return{depth:r,fit:a,move:o?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=du(this.placed,r.depth,r.fit)),t=r.move;for(let n=r.depth+1;n<=t.depth;n++){let i=t.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(n));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=du(this.placed,this.depth,K.from(t.create(r,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(K.empty,!0);r.childCount&&(this.placed=du(this.placed,this.frontier.length,r))}}function fu(e,t,r){return t==0?e.cutByIndex(r,e.childCount):e.replaceChild(0,e.firstChild.copy(fu(e.firstChild.content,t-1,r)))}function du(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(du(e.lastChild.content,t-1,r)))}function hb(e,t){for(let r=0;r<t;r++)e=e.firstChild.content;return e}function qL(e,t,r){if(t<=0)return e;let n=e.content;return t>1&&(n=n.replaceChild(0,qL(n.firstChild,t-1,n.childCount==1?r-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore(K.empty,!0)))),e.copy(n)}function pb(e,t,r,n,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!r.compatibleContent(o.type))return null;let s=n.fillBefore(o.content,!0,a);return s&&!wX(r,o.content,a)?s:null}function wX(e,t,r){for(let n=r;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function AX(e){return e.spec.defining||e.spec.definingForContent}function xX(e,t,r,n){if(!n.size)return e.deleteRange(t,r);let i=e.doc.resolve(t),o=e.doc.resolve(r);if(GL(i,o,n))return e.step(new Bt(t,r,n));let a=YL(i,e.doc.resolve(r));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let p=i.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==h&&a.splice(1,0,-d)}let l=a.indexOf(s),c=[],u=n.openStart;for(let d=n.content,h=0;;h++){let p=d.firstChild;if(c.push(p),h==n.openStart)break;d=p.content}for(let d=u-1;d>=0;d--){let h=c[d],p=AX(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(s)-1)))u=d;else if(p||!h.type.isTextblock)break}for(let d=n.openStart;d>=0;d--){let h=(d+u+1)%(n.openStart+1),p=c[h];if(p)for(let g=0;g<a.length;g++){let m=a[(g+l)%a.length],v=!0;m<0&&(v=!1,m=-m);let b=i.node(m-1),y=i.index(m-1);if(b.canReplaceWith(y,y,p.type,p.marks))return e.replace(i.before(m),v?o.after(m):r,new J(QL(n.content,0,n.openStart,h),h,n.openEnd))}}let f=e.steps.length;for(let d=a.length-1;d>=0&&(e.replace(t,r,n),!(e.steps.length>f));d--){let h=a[d];h<0||(t=i.before(h),r=o.after(h))}}function QL(e,t,r,n,i){if(t<r){let o=e.firstChild;e=e.replaceChild(0,o.copy(QL(o.content,t+1,r,n,o)))}if(t>n){let o=i.contentMatchAt(0),a=o.fillBefore(e).append(e);e=a.append(o.matchFragment(a).fillBefore(K.empty,!0))}return e}function SX(e,t,r,n){if(!n.isInline&&t==r&&e.doc.resolve(t).parent.content.size){let i=yX(e.doc,t,n.type);i!=null&&(t=r=i)}e.replaceRange(t,r,new J(K.from(n),0,0))}function CX(e,t,r){let n=e.doc.resolve(t),i=e.doc.resolve(r),o=YL(n,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return e.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return e.delete(n.before(s),i.after(s))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(t-n.start(a)==n.depth-a&&r>n.end(a)&&i.end(a)-r!=i.depth-a&&n.start(a-1)==i.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),i.index(a-1)))return e.delete(n.before(a),r);e.delete(t,r)}function YL(e,t){let r=[],n=Math.min(e.depth,t.depth);for(let i=n;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&r.push(i)}return r}class Ol extends cr{constructor(t,r,n){super(),this.pos=t,this.attr=r,this.value=n}apply(t){let r=t.nodeAt(this.pos);if(!r)return $t.fail("No node at attribute step's position");let n=Object.create(null);for(let o in r.attrs)n[o]=r.attrs[o];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return $t.fromReplace(t,this.pos,this.pos+1,new J(K.from(i),0,r.isLeaf?0:1))}getMap(){return Ur.empty}invert(t){return new Ol(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Ol(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ol(r.pos,r.attr,r.value)}}cr.jsonID("attr",Ol);class nf extends cr{constructor(t,r){super(),this.attr=t,this.value=r}apply(t){let r=Object.create(null);for(let i in t.attrs)r[i]=t.attrs[i];r[this.attr]=this.value;let n=t.type.create(r,t.content,t.marks);return $t.ok(n)}getMap(){return Ur.empty}invert(t){return new nf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new nf(r.attr,r.value)}}cr.jsonID("docAttr",nf);let jl=class extends Error{};jl=function e(t){let r=Error.call(this,t);return r.__proto__=e.prototype,r};jl.prototype=Object.create(Error.prototype);jl.prototype.constructor=jl;jl.prototype.name="TransformError";let JL=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new rf}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new jl(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,n=J.empty){let i=Vm(this.doc,t,r,n);return i&&this.step(i),this}replaceWith(t,r,n){return this.replace(t,r,new J(K.from(n),0,0))}delete(t,r){return this.replace(t,r,J.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,n){return xX(this,t,r,n),this}replaceRangeWith(t,r,n){return SX(this,t,r,n),this}deleteRange(t,r){return CX(this,t,r),this}lift(t,r){return cX(this,t,r),this}join(t,r=1){return bX(this,t,r),this}wrap(t,r){return dX(this,t,r),this}setBlockType(t,r=t,n,i=null){return hX(this,t,r,n,i),this}setNodeMarkup(t,r,n=null,i){return gX(this,t,r,n,i),this}setNodeAttribute(t,r,n){return this.step(new Ol(t,r,n)),this}setDocAttribute(t,r){return this.step(new nf(t,r)),this}addNodeMark(t,r){return this.step(new Bo(t,r)),this}removeNodeMark(t,r){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(r instanceof We)r.isInSet(n.marks)&&this.step(new Za(t,r));else{let i=n.marks,o,a=[];for(;o=r.isInSet(i);)a.push(new Za(t,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,r=1,n){return mX(this,t,r,n),this}addMark(t,r,n){return aX(this,t,r,n),this}removeMark(t,r,n){return sX(this,t,r,n),this}clearIncompatible(t,r,n){return px(this,t,r,n),this}};const gb=Object.create(null);let Ae=class{constructor(t,r,n){this.$anchor=t,this.$head=r,this.ranges=n||[new EX(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=J.empty){let n=r.content.lastChild,i=null;for(let s=0;s<r.openEnd;s++)i=n,n=n.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),s?J.empty:r),s==0&&TO(t,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,r){let n=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=t.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,r),TO(t,n,r.isInline?-1:1))}}static findFrom(t,r,n=!1){let i=t.parent.inlineContent?new ve(t):ll(t.node(0),t.parent,t.pos,t.index(),r,n);if(i)return i;for(let o=t.depth-1;o>=0;o--){let a=r<0?ll(t.node(0),t.node(o),t.before(o+1),t.index(o),r,n):ll(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,r,n);if(a)return a}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new Yr(t.node(0))}static atStart(t){return ll(t,t,0,0,1)||new Yr(t)}static atEnd(t){return ll(t,t,t.content.size,t.childCount,-1)||new Yr(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=gb[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in gb)throw new RangeError("Duplicate use of selection JSON ID "+t);return gb[t]=r,r.prototype.jsonID=t,r}getBookmark(){return ve.between(this.$anchor,this.$head).getBookmark()}};Ae.prototype.visible=!0;class EX{constructor(t,r){this.$from=t,this.$to=r}}let kO=!1;function OO(e){!kO&&!e.parent.inlineContent&&(kO=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ve extends Ae{constructor(t,r=t){OO(t),OO(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let n=t.resolve(r.map(this.head));if(!n.parent.inlineContent)return Ae.near(n);let i=t.resolve(r.map(this.anchor));return new ve(i.parent.inlineContent?i:n,n)}replace(t,r=J.empty){if(super.replace(t,r),r==J.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof ve&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Um(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ve(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,n=r){let i=t.resolve(r);return new this(i,n==r?i:t.resolve(n))}static between(t,r,n){let i=t.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let o=Ae.findFrom(r,n,!0)||Ae.findFrom(r,-n,!0);if(o)r=o.$head;else return Ae.near(r,n)}return t.parent.inlineContent||(i==0?t=r:(t=(Ae.findFrom(t,-n,!0)||Ae.findFrom(t,n,!0)).$anchor,t.pos<r.pos!=i<0&&(t=r))),new ve(t,r)}}Ae.jsonID("text",ve);class Um{constructor(t,r){this.anchor=t,this.head=r}map(t){return new Um(t.map(this.anchor),t.map(this.head))}resolve(t){return ve.between(t.resolve(this.anchor),t.resolve(this.head))}}class fe extends Ae{constructor(t){let r=t.nodeAfter,n=t.node(0).resolve(t.pos+r.nodeSize);super(t,n),this.node=r}map(t,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),o=t.resolve(i);return n?Ae.near(o):new fe(o)}content(){return new J(K.from(this.node),0,0)}eq(t){return t instanceof fe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mx(this.anchor)}static fromJSON(t,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new fe(t.resolve(r.anchor))}static create(t,r){return new fe(t.resolve(r))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}fe.prototype.visible=!1;Ae.jsonID("node",fe);class mx{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:n}=t.mapResult(this.anchor);return r?new Um(n,n):new mx(n)}resolve(t){let r=t.resolve(this.anchor),n=r.nodeAfter;return n&&fe.isSelectable(n)?new fe(r):Ae.near(r)}}class Yr extends Ae{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=J.empty){if(r==J.empty){t.delete(0,t.doc.content.size);let n=Ae.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new Yr(t)}map(t){return new Yr(t)}eq(t){return t instanceof Yr}getBookmark(){return kX}}Ae.jsonID("all",Yr);const kX={map(){return this},resolve(e){return new Yr(e)}};function ll(e,t,r,n,i,o=!1){if(t.inlineContent)return ve.create(e,r);for(let a=n-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let s=t.child(a);if(s.isAtom){if(!o&&fe.isSelectable(s))return fe.create(e,r-(i<0?s.nodeSize:0))}else{let l=ll(e,s,r+i,i<0?s.childCount:0,i,o);if(l)return l}r+=s.nodeSize*i}return null}function TO(e,t,r){let n=e.steps.length-1;if(n<t)return;let i=e.steps[n];if(!(i instanceof Bt||i instanceof Ht))return;let o=e.mapping.maps[n],a;o.forEach((s,l,c,u)=>{a==null&&(a=u)}),e.setSelection(Ae.near(e.doc.resolve(a),r))}const IO=1,Rd=2,MO=4;class OX extends JL{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|IO)&~Rd,this.storedMarks=null,this}get selectionSet(){return(this.updated&IO)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Rd,this}ensureMarks(t){return We.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Rd)>0}addStep(t,r){super.addStep(t,r),this.updated=this.updated&~Rd,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let n=this.selection;return r&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||We.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,n){let i=this.doc.type.schema;if(r==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!t)return this.deleteRange(r,n);let o=this.storedMarks;if(!o){let a=this.doc.resolve(r);o=n==r?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(t,o)),this.selection.empty||this.setSelection(Ae.near(this.selection.$to)),this}}setMeta(t,r){return this.meta[typeof t=="string"?t:t.key]=r,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=MO,this}get scrolledIntoView(){return(this.updated&MO)>0}}function PO(e,t){return!t||!e?e:e.bind(t)}class hu{constructor(t,r,n){this.name=t,this.init=PO(r.init,n),this.apply=PO(r.apply,n)}}const TX=[new hu("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new hu("selection",{init(e,t){return e.selection||Ae.atStart(t.doc)},apply(e){return e.selection}}),new hu("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,r,n){return n.selection.$cursor?e.storedMarks:null}}),new hu("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class mb{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=TX.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new hu(n.key,n.spec.state,n))})}}class vl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],n=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,u=l<r.length&&s.spec.appendTransaction.call(s,l?r.slice(l):r,c,n);if(u&&n.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),o=!0}i&&(i[a]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new vl(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];r[o.name]=o.apply(t,this[o.name],this,r)}return r}get tr(){return new OX(this)}static create(t){let r=new mb(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new vl(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(t,n);return n}reconfigure(t){let r=new mb(this.schema,t.plugins),n=r.fields,i=new vl(r);for(let o=0;o<n.length;o++){let a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(t,i)}return i}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[n],o=i.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(i,this[i.key]))}return r}static fromJSON(t,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new mb(t.schema,t.plugins),o=new vl(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Vo.fromJSON(t.schema,r.doc);else if(a.name=="selection")o.selection=Ae.fromJSON(o.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){o[a.name]=c.fromJSON.call(l,t,r[s],o);return}}o[a.name]=a.init(t,o)}}),o}}function XL(e,t,r){for(let n in e){let i=e[n];i instanceof Function?i=i.bind(t):n=="handleDOMEvents"&&(i=XL(i,t,{})),r[n]=i}return r}class st{constructor(t){this.spec=t,this.props={},t.props&&XL(t.props,this,this.props),this.key=t.key?t.key.key:ZL("plugin")}getState(t){return t[this.key]}}const vb=Object.create(null);function ZL(e){return e in vb?e+"$"+ ++vb[e]:(vb[e]=0,e+"$")}class Wt{constructor(t="key"){this.key=ZL(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const vx=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function eR(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("backward",e):r.parentOffset>0)?null:r}const tR=(e,t,r)=>{let n=eR(e,r);if(!n)return!1;let i=bx(n);if(!i){let a=n.blockRange(),s=a&&uc(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(uR(e,i,t,-1))return!0;if(n.parent.content.size==0&&(zl(o,"end")||fe.isSelectable(o)))for(let a=n.depth;;a--){let s=Vm(e.doc,n.before(a),n.after(a),J.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(zl(o,"end")?Ae.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):fe.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return o.isAtom&&i.depth==n.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},IX=(e,t,r)=>{let n=eR(e,r);if(!n)return!1;let i=bx(n);return i?rR(e,i,t):!1},MX=(e,t,r)=>{let n=iR(e,r);if(!n)return!1;let i=yx(n);return i?rR(e,i,t):!1};function rR(e,t,r){let n=t.nodeBefore,i=n,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let u=s.firstChild;if(!u)return!1;s=u}let c=Vm(e.doc,o,l,J.empty);if(!c||c.from!=o||c instanceof Bt&&c.slice.size>=l-o)return!1;if(r){let u=e.tr.step(c);u.setSelection(ve.create(u.doc,o)),r(u.scrollIntoView())}return!0}function zl(e,t,r=!1){for(let n=e;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const nR=(e,t,r)=>{let{$head:n,empty:i}=e.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):n.parentOffset>0)return!1;o=bx(n)}let a=o&&o.nodeBefore;return!a||!fe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(fe.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function bx(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function iR(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)?null:r}const oR=(e,t,r)=>{let n=iR(e,r);if(!n)return!1;let i=yx(n);if(!i)return!1;let o=i.nodeAfter;if(uR(e,i,t,1))return!0;if(n.parent.content.size==0&&(zl(o,"start")||fe.isSelectable(o))){let a=Vm(e.doc,n.before(),n.after(),J.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=e.tr.step(a);s.setSelection(zl(o,"start")?Ae.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):fe.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},aR=(e,t,r)=>{let{$head:n,empty:i}=e.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)return!1;o=yx(n)}let a=o&&o.nodeAfter;return!a||!fe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(fe.create(e.doc,o.pos)).scrollIntoView()),!0)};function yx(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}const PX=(e,t)=>{let r=e.selection,n=r instanceof fe,i;if(n){if(r.node.isTextblock||!ca(e.doc,r.from))return!1;i=r.from}else if(i=Hm(e.doc,r.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);n&&o.setSelection(fe.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},DX=(e,t)=>{let r=e.selection,n;if(r instanceof fe){if(r.node.isTextblock||!ca(e.doc,r.to))return!1;n=r.to}else if(n=Hm(e.doc,r.to,1),n==null)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},_X=(e,t)=>{let{$from:r,$to:n}=e.selection,i=r.blockRange(n),o=i&&uc(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},sR=(e,t)=>{let{$head:r,$anchor:n}=e.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function $x(e){for(let t=0;t<e.edgeCount;t++){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const NX=(e,t)=>{let{$head:r,$anchor:n}=e.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),o=r.indexAfter(-1),a=$x(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let s=r.after(),l=e.tr.replaceWith(s,s,a.createAndFill());l.setSelection(Ae.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},lR=(e,t)=>{let r=e.selection,{$from:n,$to:i}=r;if(r instanceof Yr||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=$x(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(ve.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},cR=(e,t)=>{let{$cursor:r}=e.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let o=r.before();if(Yi(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let n=r.blockRange(),i=n&&uc(n);return i==null?!1:(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)};function LX(e){return(t,r)=>{let{$from:n,$to:i}=t.selection;if(t.selection instanceof fe&&t.selection.node.isBlock)return!n.parentOffset||!Yi(t.doc,n.pos)?!1:(r&&r(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],a,s,l=!1,c=!1;for(let h=n.depth;;h--)if(n.node(h).isBlock){l=n.end(h)==n.pos+(n.depth-h),c=n.start(h)==n.pos-(n.depth-h),s=$x(n.node(h-1).contentMatchAt(n.indexAfter(h-1))),o.unshift(l&&s?{type:s}:null),a=h;break}else{if(h==1)return!1;o.unshift(null)}let u=t.tr;(t.selection instanceof ve||t.selection instanceof Yr)&&u.deleteSelection();let f=u.mapping.map(n.pos),d=Yi(u.doc,f,o.length,o);if(d||(o[0]=s?{type:s}:null,d=Yi(u.doc,f,o.length,o)),!d)return!1;if(u.split(f,o.length,o),!l&&c&&n.node(a).type!=s){let h=u.mapping.map(n.before(a)),p=u.doc.resolve(h);s&&n.node(a-1).canReplaceWith(p.index(),p.index()+1,s)&&u.setNodeMarkup(u.mapping.map(n.before(a)),s)}return r&&r(u.scrollIntoView()),!0}}const RX=LX(),BX=(e,t)=>{let{$from:r,to:n}=e.selection,i,o=r.sharedDepth(n);return o==0?!1:(i=r.before(o),t&&t(e.tr.setSelection(fe.create(e.doc,i))),!0)};function FX(e,t,r){let n=t.nodeBefore,i=t.nodeAfter,o=t.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(r&&r(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||ca(e.doc,t.pos))?!1:(r&&r(e.tr.join(t.pos).scrollIntoView()),!0)}function uR(e,t,r,n){let i=t.nodeBefore,o=t.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&FX(e,t,r))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(r){let h=t.pos+o.nodeSize,p=K.empty;for(let v=a.length-1;v>=0;v--)p=K.from(a[v].create(null,p));p=K.from(i.copy(p));let g=e.tr.step(new Ht(t.pos-1,h,t.pos,h,new J(p,1,0),a.length,!0)),m=g.doc.resolve(h+2*a.length);m.nodeAfter&&m.nodeAfter.type==i.type&&ca(g.doc,m.pos)&&g.join(m.pos),r(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||n>0&&l?null:Ae.findFrom(t,1),f=u&&u.$from.blockRange(u.$to),d=f&&uc(f);if(d!=null&&d>=t.depth)return r&&r(e.tr.lift(f,d).scrollIntoView()),!0;if(c&&zl(o,"start",!0)&&zl(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=o,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(r){let v=K.empty;for(let y=p.length-1;y>=0;y--)v=K.from(p[y].copy(v));let b=e.tr.step(new Ht(t.pos-p.length,t.pos+o.nodeSize,t.pos+m,t.pos+o.nodeSize-m,new J(v,p.length,0),0,!0));r(b.scrollIntoView())}return!0}}return!1}function fR(e){return function(t,r){let n=t.selection,i=e<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(r&&r(t.tr.setSelection(ve.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const jX=fR(-1),zX=fR(1);function HX(e,t=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o),s=a&&gx(a,e,t);return s?(n&&n(r.tr.wrap(a,s).scrollIntoView()),!0):!1}}function DO(e,t=null){return function(r,n){let i=!1;for(let o=0;o<r.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=r.selection.ranges[o];r.doc.nodesBetween(a,s,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=r.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(n){let o=r.tr;for(let a=0;a<r.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=r.selection.ranges[a];o.setBlockType(s,l,e,t)}n(o.scrollIntoView())}return!0}}function wx(...e){return function(t,r,n){for(let i=0;i<e.length;i++)if(e[i](t,r,n))return!0;return!1}}wx(vx,tR,nR);wx(vx,oR,aR);wx(sR,lR,cR,RX);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function VX(e,t=null){return function(r,n){let{$from:i,$to:o}=r.selection,a=i.blockRange(o);if(!a)return!1;let s=n?r.tr:null;return UX(s,a,e,t)?(n&&n(s.scrollIntoView()),!0):!1}}function UX(e,t,r,n=null){let i=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(r)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new Xp(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Xp(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let s=gx(o,r,n,t);return s?(e&&WX(e,t,s,i,r),!0):!1}function WX(e,t,r,n,i){let o=K.empty;for(let u=r.length-1;u>=0;u--)o=K.from(r[u].type.create(r[u].attrs,o));e.step(new Ht(t.start-(n?2:0),t.end,t.start,t.end,new J(o,0,0),r.length,!0));let a=0;for(let u=0;u<r.length;u++)r[u].type==i&&(a=u+1);let s=r.length-a,l=t.start+r.length-(n?2:0),c=t.parent;for(let u=t.startIndex,f=t.endIndex,d=!0;u<f;u++,d=!1)!d&&Yi(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(u).nodeSize;return e}function KX(e){return function(t,r){let{$from:n,$to:i}=t.selection,o=n.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return o?r?n.node(o.depth-1).type==e?GX(t,r,e,o):qX(t,r,o):!0:!1}}function GX(e,t,r,n){let i=e.tr,o=n.end,a=n.$to.end(n.depth);o<a&&(i.step(new Ht(o-1,a,o,a,new J(K.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Xp(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth));const s=uc(n);if(s==null)return!1;i.lift(n,s);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return ca(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function qX(e,t,r){let n=e.tr,i=r.parent;for(let h=r.end,p=r.endIndex-1,g=r.startIndex;p>g;p--)h-=i.child(p).nodeSize,n.delete(h-1,h+1);let o=n.doc.resolve(r.start),a=o.nodeAfter;if(n.mapping.map(r.end)!=r.start+o.nodeAfter.nodeSize)return!1;let s=r.startIndex==0,l=r.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?K.empty:K.from(i))))return!1;let f=o.pos,d=f+a.nodeSize;return n.step(new Ht(f-(s?1:0),d+(l?1:0),f+1,d-1,new J((s?K.empty:K.from(i.copy(K.empty))).append(l?K.empty:K.from(i.copy(K.empty))),s?0:1,l?0:1),s?0:1)),t(n.scrollIntoView()),!0}function QX(e){return function(t,r){let{$from:n,$to:i}=t.selection,o=n.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(r){let c=l.lastChild&&l.lastChild.type==s.type,u=K.from(c?e.create():null),f=new J(K.from(e.create(null,K.from(s.type.create(null,u)))),c?3:1,0),d=o.start,h=o.end;r(t.tr.step(new Ht(d-(c?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}const Qt=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Hl=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let yw=null;const ji=function(e,t,r){let n=yw||(yw=document.createRange());return n.setEnd(e,r??e.nodeValue.length),n.setStart(e,t||0),n},YX=function(){yw=null},es=function(e,t,r,n){return r&&(_O(e,t,r,n,-1)||_O(e,t,r,n,1))},JX=/^(img|br|input|textarea|hr)$/i;function _O(e,t,r,n,i){for(var o;;){if(e==r&&t==n)return!0;if(t==(i<0?0:hn(e))){let a=e.parentNode;if(!a||a.nodeType!=1||Rf(e)||JX.test(e.nodeName)||e.contentEditable=="false")return!1;t=Qt(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?hn(e):0}else return!1}}function hn(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function XX(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=hn(e)}else if(e.parentNode&&!Rf(e))t=Qt(e),e=e.parentNode;else return null}}function ZX(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Rf(e))t=Qt(e)+1,e=e.parentNode;else return null}}function eZ(e,t,r){for(let n=t==0,i=t==hn(e);n||i;){if(e==r)return!0;let o=Qt(e);if(e=e.parentNode,!e)return!1;n=n&&o==0,i=i&&o==hn(e)}}function Rf(e){let t;for(let r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Wm=function(e){return e.focusNode&&es(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Da(e,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function tZ(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function rZ(e,t,r){if(e.caretPositionFromPoint)try{let n=e.caretPositionFromPoint(t,r);if(n)return{node:n.offsetNode,offset:Math.min(hn(n.offsetNode),n.offset)}}catch{}if(e.caretRangeFromPoint){let n=e.caretRangeFromPoint(t,r);if(n)return{node:n.startContainer,offset:Math.min(hn(n.startContainer),n.startOffset)}}}const pi=typeof navigator<"u"?navigator:null,NO=typeof document<"u"?document:null,ua=pi&&pi.userAgent||"",$w=/Edge\/(\d+)/.exec(ua),dR=/MSIE \d/.exec(ua),ww=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ua),Pr=!!(dR||ww||$w),Wo=dR?document.documentMode:ww?+ww[1]:$w?+$w[1]:0,mn=!Pr&&/gecko\/(\d+)/i.test(ua);mn&&+(/Firefox\/(\d+)/.exec(ua)||[0,0])[1];const Aw=!Pr&&/Chrome\/(\d+)/.exec(ua),ir=!!Aw,hR=Aw?+Aw[1]:0,pr=!Pr&&!!pi&&/Apple Computer/.test(pi.vendor),Vl=pr&&(/Mobile\/\w+/.test(ua)||!!pi&&pi.maxTouchPoints>2),fn=Vl||(pi?/Mac/.test(pi.platform):!1),nZ=pi?/Win/.test(pi.platform):!1,Vi=/Android \d/.test(ua),Bf=!!NO&&"webkitFontSmoothing"in NO.documentElement.style,iZ=Bf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function oZ(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Pi(e,t){return typeof e=="number"?e:e[t]}function aZ(e){let t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*n}}function LO(e,t,r){let n=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=r||e.dom;a;){if(a.nodeType!=1){a=Hl(a);continue}let s=a,l=s==o.body,c=l?oZ(o):aZ(s),u=0,f=0;if(t.top<c.top+Pi(n,"top")?f=-(c.top-t.top+Pi(i,"top")):t.bottom>c.bottom-Pi(n,"bottom")&&(f=t.bottom-t.top>c.bottom-c.top?t.top+Pi(i,"top")-c.top:t.bottom-c.bottom+Pi(i,"bottom")),t.left<c.left+Pi(n,"left")?u=-(c.left-t.left+Pi(i,"left")):t.right>c.right-Pi(n,"right")&&(u=t.right-c.right+Pi(i,"right")),u||f)if(l)o.defaultView.scrollBy(u,f);else{let h=s.scrollLeft,p=s.scrollTop;f&&(s.scrollTop+=f),u&&(s.scrollLeft+=u);let g=s.scrollLeft-h,m=s.scrollTop-p;t={left:t.left-g,top:t.top-m,right:t.right-g,bottom:t.bottom-m}}let d=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(d))break;a=d=="absolute"?a.offsetParent:Hl(a)}}function sZ(e){let t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),n,i;for(let o=(t.left+t.right)/2,a=r+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=e.root.elementFromPoint(o,a);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:pR(e.dom)}}function pR(e){let t=[],r=e.ownerDocument;for(let n=e;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),e!=r);n=Hl(n));return t}function lZ({refDOM:e,refTop:t,stack:r}){let n=e?e.getBoundingClientRect().top:0;gR(r,n==0?0:n-t)}function gR(e,t){for(let r=0;r<e.length;r++){let{dom:n,top:i,left:o}=e[r];n.scrollTop!=i+t&&(n.scrollTop=i+t),n.scrollLeft!=o&&(n.scrollLeft=o)}}let Ks=null;function cZ(e){if(e.setActive)return e.setActive();if(Ks)return e.focus(Ks);let t=pR(e);e.focus(Ks==null?{get preventScroll(){return Ks={preventScroll:!0},!0}}:void 0),Ks||(Ks=!1,gR(t,0))}function mR(e,t){let r,n=2e8,i,o=0,a=t.top,s=t.top,l,c;for(let u=e.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=ji(u).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);let g=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(g<n){r=u,n=g,i=g&&r.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&g&&(o=f+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!l&&p.left<=t.left&&p.right>=t.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!r&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=f+1)}}return!r&&l&&(r=l,i=c,n=0),r&&r.nodeType==3?uZ(r,i):!r||n&&r.nodeType==1?{node:e,offset:o}:mR(r,i)}function uZ(e,t){let r=e.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(e,i+1),n.setStart(e,i);let o=So(n,1);if(o.top!=o.bottom&&Ax(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function Ax(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function fZ(e,t){let r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function dZ(e,t,r){let{node:n,offset:i}=mR(t,r),o=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();o=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(n,i,o)}function hZ(e,t,r,n){let i=-1;for(let o=t,a=!1;o!=e.dom;){let s=e.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>n.left||l.top>n.top?i=s.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,r,-1)}function vR(e,t,r){let n=e.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-r.top)/(r.bottom-r.top))-2)),o=i;;){let a=e.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(Ax(t,c))return vR(a,t,c)}}if((o=(o+1)%n)==i)break}return e}function pZ(e,t){let r=e.dom.ownerDocument,n,i=0,o=rZ(r,t.left,t.top);o&&({node:n,offset:i}=o);let a=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top),s;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=e.dom.getBoundingClientRect();if(!Ax(t,c)||(a=vR(e.dom,t,c),!a))return null}if(pr)for(let c=a;n&&c;c=Hl(c))c.draggable&&(n=void 0);if(a=fZ(a,t),n){if(mn&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let u=n.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let c;Bf&&i&&n.nodeType==1&&(c=n.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,n==e.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(s=hZ(e,n,i,t))}s==null&&(s=dZ(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function RO(e){return e.top<e.bottom||e.left<e.right}function So(e,t){let r=e.getClientRects();if(r.length){let n=r[t<0?0:r.length-1];if(RO(n))return n}return Array.prototype.find.call(r,RO)||e.getBoundingClientRect()}const gZ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function bR(e,t,r){let{node:n,offset:i,atom:o}=e.docView.domFromPos(t,r<0?-1:1),a=Bf||mn;if(n.nodeType==3)if(a&&(gZ.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=So(ji(n,i,i),r);if(mn&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let c=So(ji(n,i-1,i-1),-1);if(c.top==l.top){let u=So(ji(n,i,i+1),-1);if(u.top!=l.top)return Dc(u,u.left<c.left)}}return l}else{let l=i,c=i,u=r<0?1:-1;return r<0&&!i?(c++,u=-1):r>=0&&i==n.nodeValue.length?(l--,u=1):r<0?l--:c++,Dc(So(ji(n,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(r<0||i==hn(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return bb(l.getBoundingClientRect(),!1)}if(o==null&&i<hn(n)){let l=n.childNodes[i];if(l.nodeType==1)return bb(l.getBoundingClientRect(),!0)}return bb(n.getBoundingClientRect(),r>=0)}if(o==null&&i&&(r<0||i==hn(n))){let l=n.childNodes[i-1],c=l.nodeType==3?ji(l,hn(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Dc(So(c,1),!1)}if(o==null&&i<hn(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ji(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return Dc(So(c,-1),!0)}return Dc(So(n.nodeType==3?ji(n):n,-r),r>=0)}function Dc(e,t){if(e.width==0)return e;let r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function bb(e,t){if(e.height==0)return e;let r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function yR(e,t,r){let n=e.state,i=e.root.activeElement;n!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return r()}finally{n!=t&&e.updateState(n),i!=e.dom&&i&&i.focus()}}function mZ(e,t,r){let n=t.selection,i=r=="up"?n.$from:n.$to;return yR(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=bR(e,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=ji(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(r=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}const vZ=/[\u0590-\u08ac]/;function bZ(e,t,r){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,a=i==n.parent.content.size,s=e.domSelection();return s?!vZ.test(n.parent.textContent)||!s.modify?r=="left"||r=="backward"?o:a:yR(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=e.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",r,"character");let h=n.depth?e.docView.domAfterPos(n.before()):e.dom,{focusNode:p,focusOffset:g}=e.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{s.collapse(u,f),l&&(l!=u||c!=f)&&s.extend&&s.extend(l,c)}catch{}return d!=null&&(s.caretBidiLevel=d),m}):n.pos==n.start()||n.pos==n.end()}let BO=null,FO=null,jO=!1;function yZ(e,t,r){return BO==t&&FO==r?jO:(BO=t,FO=r,jO=r=="up"||r=="down"?mZ(e,t,r):bZ(e,t,r))}const vn=0,zO=1,Ra=2,gi=3;class Ff{constructor(t,r,n,i){this.parent=t,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=vn,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==t)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let o,a;if(t==this.contentDOM)o=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=r>Qt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&r==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let n=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!r||o.node))if(n&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))n=!1;else return o}}getDesc(t){let r=t.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(t,r,n){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,r,n)}return-1}descAt(t){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==t&&o!=n){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(t<o)return i.descAt(t-n-i.border);n=o}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,i=0;for(let o=0;n<this.children.length;n++){let a=this.children[n],s=o+a.size;if(s>t||a instanceof wR){i=t-o;break}o=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof $R&&o.side>=0;n--);if(r<=0){let o,a=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,a=!1);return o&&r&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,r):{node:this.contentDOM,offset:o?Qt(o.dom)+1:0}}else{let o,a=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,r):{node:this.contentDOM,offset:o?Qt(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=n,s=0;;s++){let l=this.children[s],c=a+l.size;if(i==-1&&t<=c){let u=a+l.border;if(t>=u&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,r,u);t=a;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Qt(d.dom)+1;break}t-=d.size}i==-1&&(i=0)}if(i>-1&&(c>r||s==this.children.length-1)){r=c;for(let u=s+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Qt(f.dom);break}r+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:r,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:n}=this.domFromPos(t,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n]}setSelection(t,r,n,i=!1){let o=Math.min(t,r),a=Math.max(t,r);for(let h=0,p=0;h<this.children.length;h++){let g=this.children[h],m=p+g.size;if(o>p&&a<m)return g.setSelection(t-p-g.border,r-p-g.border,n,i);p=m}let s=this.domFromPos(t,t?-1:1),l=r==t?s:this.domFromPos(r,r?-1:1),c=n.root.getSelection(),u=n.domSelectionRange(),f=!1;if((mn||pr)&&t==r){let{node:h,offset:p}=s;if(h.nodeType==3){if(f=!!(p&&h.nodeValue[p-1]==`
`),f&&p==h.nodeValue.length)for(let g=h,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(s=l={node:m.parentNode,offset:Qt(m)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=h.childNodes[p-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(mn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||f&&pr)&&es(s.node,s.offset,u.anchorNode,u.anchorOffset)&&es(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((c.extend||t==r)&&!(f&&mn)){c.collapse(s.node,s.offset);try{t!=r&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(t>r){let p=s;s=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let n=0,i=0;i<this.children.length;i++){let o=this.children[i],a=n+o.size;if(n==a?t<=a&&r>=n:t<a&&r>n){let s=n+o.border,l=a-o.border;if(t>=s&&r<=l){this.dirty=t==n||r==a?Ra:zO,t==s&&r==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=gi:o.markDirty(t-s,r-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ra:gi}n=a}this.dirty=Ra}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let n=t==1?Ra:zO;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class $R extends Ff{constructor(t,r,n,i){let o,a=r.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!r.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=r,this.widget=r,o=this}matchesWidget(t){return this.dirty==vn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return r?r(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class $Z extends Ff{constructor(t,r,n,i){super(t,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class ts extends Ff{constructor(t,r,n,i,o){super(t,[],n,i),this.mark=r,this.spec=o}static create(t,r,n,i){let o=i.nodeViews[r.type.name],a=o&&o(r,i,n);return(!a||!a.dom)&&(a=As.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new ts(t,r,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&gi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=gi&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),this.dirty!=vn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=vn}}slice(t,r,n){let i=ts.create(this.parent,this.mark,!0,n),o=this.children,a=this.size;r<a&&(o=Sw(o,r,a,n)),t>0&&(o=Sw(o,0,t,n));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ko extends Ff{constructor(t,r,n,i,o,a,s,l,c){super(t,[],o,a),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(t,r,n,i,o,a){let s=o.nodeViews[r.type.name],l,c=s&&s(r,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),u=c&&c.dom,f=c&&c.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=As.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!f&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let d=u;return u=SR(u,n,r),c?l=new wZ(t,r,n,i,u,f||null,d,c,o,a+1):r.isText?new Km(t,r,n,i,u,d,o):new Ko(t,r,n,i,u,f||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>K.empty)}return t}matchesNode(t,r,n){return this.dirty==vn&&t.eq(this.node)&&eg(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let n=this.node.inlineContent,i=r,o=t.composing?this.localCompositionInfo(t,r):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new xZ(this,a&&a.node,t);EZ(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,t):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?We.none:this.node.child(u).marks,n,t),l.placeWidget(c,t,i)},(c,u,f,d)=>{l.syncToMarks(c.marks,n,t);let h;l.findNodeMatch(c,u,f,d)||s&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,f,h,t)||l.updateNextNode(c,u,f,t,d,i)||l.addNode(c,u,f,t,i),i+=c.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ra)&&(a&&this.protectLocalComposition(t,a),AR(this.contentDOM,this.children,t),Vl&&kZ(this.dom))}localCompositionInfo(t,r){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof ve)||n<r||i>r+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=OZ(this.node.content,a,n-r,i-r);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let o=r;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new $Z(this,o,r,i);t.input.compositionNodes.push(a),this.children=Sw(this.children,n,n+i.length,t,a)}update(t,r,n,i){return this.dirty==gi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,r,n,i),!0)}updateInner(t,r,n,i){this.updateOuterDeco(r),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=vn}updateOuterDeco(t){if(eg(t,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=xR(this.dom,this.nodeDOM,xw(this.outerDeco,this.node,r),xw(t,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function HO(e,t,r,n,i){SR(n,t,e);let o=new Ko(void 0,e,t,r,n,n,n,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Km extends Ko{constructor(t,r,n,i,o,a,s){super(t,r,n,i,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,n,i){return this.dirty==gi||this.dirty!=vn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=vn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=vn,!0)}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,n){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,r,n){let i=this.node.cut(t,r),o=document.createTextNode(i.text);return new Km(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(t==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=gi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class wR extends Ff{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==vn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class wZ extends Ko{constructor(t,r,n,i,o,a,s,l,c,u){super(t,r,n,i,o,a,s,c,u),this.spec=l}update(t,r,n,i){if(this.dirty==gi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,r,n);return o&&this.updateInner(t,r,n,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,n,i){this.spec.setSelection?this.spec.setSelection(t,r,n.root):super.setSelection(t,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function AR(e,t,r){let n=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=n;)n=VO(n),i=!0;n=n.nextSibling}else i=!0,e.insertBefore(s,n);if(a instanceof ts){let l=n?n.previousSibling:e.lastChild;AR(a.contentDOM,a.children,r),n=l?l.nextSibling:e.firstChild}}for(;n;)n=VO(n),i=!0;i&&r.trackWrites==e&&(r.trackWrites=null)}const Tu=function(e){e&&(this.nodeName=e)};Tu.prototype=Object.create(null);const Ba=[new Tu];function xw(e,t,r){if(e.length==0)return Ba;let n=r?Ba[0]:new Tu,i=[n];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(n=new Tu(a.nodeName));for(let s in a){let l=a[s];l!=null&&(r&&i.length==1&&i.push(n=new Tu(t.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function xR(e,t,r,n){if(r==Ba&&n==Ba)return t;let i=t;for(let o=0;o<n.length;o++){let a=n[o],s=r[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Ba[0]),i=l}AZ(i,s||Ba[0],a)}return i}function AZ(e,t,r){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&e.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=t[n]&&e.setAttribute(n,r[n]);if(t.class!=r.class){let n=t.class?t.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)i.indexOf(n[o])==-1&&e.classList.remove(n[o]);for(let o=0;o<i.length;o++)n.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(t.style);)e.style.removeProperty(i[1])}r.style&&(e.style.cssText+=r.style)}}function SR(e,t,r){return xR(e,e,Ba,xw(t,r,e.nodeType!=1))}function eg(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function VO(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class xZ{constructor(t,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=SZ(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let n=t;n<r;n++)this.top.children[n].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,n){let i=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=vn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=ts.create(this.top,t[o],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,r,n,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,r,n))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(t,r,n)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,r,n,i,o){let a=this.top.children[i];return a.dirty==gi&&a.dom==a.contentDOM&&(a.dirty=Ra),a.update(t,r,n,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}t=r}}updateNextNode(t,r,n,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Ko){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,f,d=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=gi&&eg(r,l.outerDeco));if(!d&&l.update(t,r,n,i))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(l,t,r,n,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Ra,f.updateChildren(i,a+1),f.dirty=vn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,n,i,o,a){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content)||!eg(n,t.outerDeco)||!i.eq(t.innerDeco))return null;let s=Ko.create(this.top,r,n,i,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,r,n,i,o){let a=Ko.create(this.top,t,r,n,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new $R(this.top,t,r,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof ts;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof Km)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((pr||ir)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new wR(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function SZ(e,t){let r=t,n=r.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(n){let c=r.children[n-1];if(c instanceof ts)r=c,n=c.children.length;else{s=c,n--;break}}else{if(r==t)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function CZ(e,t){return e.type.side-t.type.side}function EZ(e,t,r,n){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);n(u,i,t.forChild(o,u),c),o+=u.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,f;for(;a<i.length&&i[a].to==o;){let m=i[a++];m.widget&&(u?(f||(f=[u])).push(m):u=m)}if(u)if(f){f.sort(CZ);for(let m=0;m<f.length;m++)r(f[m],c,!!l)}else r(u,c,!!l);let d,h;if(l)h=-1,d=l,l=null;else if(c<e.childCount)h=c,d=e.child(c++);else break;for(let m=0;m<s.length;m++)s[m].to<=o&&s.splice(m--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let p=o+d.nodeSize;if(d.isText){let m=p;a<i.length&&i[a].from<m&&(m=i[a].from);for(let v=0;v<s.length;v++)s[v].to<m&&(m=s[v].to);m<p&&(l=d.cut(m-o),d=d.cut(0,m-o),p=m,h=-1)}else for(;a<i.length&&i[a].to<p;)a++;let g=d.isInline&&!d.isLeaf?s.filter(m=>!m.inline):s.slice();n(d,g,t.forChild(o,d),h),o=p}}function kZ(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function OZ(e,t,r,n){for(let i=0,o=0;i<e.childCount&&o<=n;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=r){if(o>=n&&l.slice(n-t.length-s,n-s)==t)return n-t.length;let c=s<n?l.lastIndexOf(t,n-s-1):-1;if(c>=0&&c+t.length+s>=r)return s+c;if(r==n&&l.length>=n+t.length-s&&l.slice(n-s,n-s+t.length)==t)return n}}return-1}function Sw(e,t,r,n,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=r||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,n)),i&&(o.push(i),i=void 0),u>r&&o.push(l.slice(r-c,l.size,n)))}return o}function xx(e,t=null){let r=e.domSelectionRange(),n=e.state.doc;if(!r.focusNode)return null;let i=e.docView.nearestDesc(r.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let s=n.resolve(a),l,c;if(Wm(r)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&fe.isSelectable(f)&&i.parent&&!(f.isInline&&eZ(r.focusNode,r.focusOffset,i.dom))){let d=i.posBefore;c=new fe(a==d?s:n.resolve(d))}}else{if(r instanceof e.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let f=a,d=a;for(let h=0;h<r.rangeCount;h++){let p=r.getRangeAt(h);f=Math.min(f,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),d=Math.max(d,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(f<0)return null;[l,a]=d==e.state.selection.anchor?[d,f]:[f,d],s=n.resolve(a)}else l=e.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let u=n.resolve(l);if(!c){let f=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;c=Sx(e,u,s,f)}return c}function CR(e){return e.editable?e.hasFocus():kR(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ji(e,t=!1){let r=e.state.selection;if(ER(e,r),!!CR(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ir){let n=e.domSelectionRange(),i=e.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&es(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)IZ(e);else{let{anchor:n,head:i}=r,o,a;UO&&!(r instanceof ve)&&(r.$from.parent.inlineContent||(o=WO(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=WO(e,r.to))),e.docView.setSelection(n,i,e,t),UO&&(o&&KO(o),a&&KO(a)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&TZ(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const UO=pr||ir&&hR<63;function WO(e,t){let{node:r,offset:n}=e.docView.domFromPos(t,0),i=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(pr&&i&&i.contentEditable=="false")return yb(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return yb(i);if(o)return yb(o)}}function yb(e){return e.contentEditable="true",pr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function KO(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function TZ(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let r=e.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!CR(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function IZ(e){let t=e.domSelection();if(!t)return;let r=e.cursorWrapper.dom,n=r.nodeName=="IMG";n?t.collapse(r.parentNode,Qt(r)+1):t.collapse(r,0),!n&&!e.state.selection.visible&&Pr&&Wo<=11&&(r.disabled=!0,r.disabled=!1)}function ER(e,t){if(t instanceof fe){let r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(GO(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else GO(e)}function GO(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Sx(e,t,r,n){return e.someProp("createSelectionBetween",i=>i(e,t,r))||ve.between(t,r,n)}function qO(e){return e.editable&&!e.hasFocus()?!1:kR(e)}function kR(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function MZ(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.domSelectionRange();return es(t.node,t.offset,r.anchorNode,r.anchorOffset)}function Cw(e,t){let{$anchor:r,$head:n}=e.selection,i=t>0?r.max(n):r.min(n),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Ae.findFrom(o,t)}function Co(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function QO(e,t,r){let n=e.state.selection;if(n instanceof ve)if(r.indexOf("s")>-1){let{$head:i}=n,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return Co(e,new ve(n.$anchor,a))}else if(n.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=Cw(e.state,t);return i&&i instanceof fe?Co(e,i):!1}else if(!(fn&&r.indexOf("m")>-1)){let i=n.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM?fe.isSelectable(o)?Co(e,new fe(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):Bf?Co(e,new ve(e.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof fe&&n.node.isInline)return Co(e,new ve(t>0?n.$to:n.$from));{let i=Cw(e.state,t);return i?Co(e,i):!1}}}function tg(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Iu(e,t){let r=e.pmViewDesc;return r&&r.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Gs(e,t){return t<0?PZ(e):DZ(e)}function PZ(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let i,o,a=!1;for(mn&&r.nodeType==1&&n<tg(r)&&Iu(r.childNodes[n],-1)&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let s=r.childNodes[n-1];if(Iu(s,-1))i=r,o=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}}else{if(OR(r))break;{let s=r.previousSibling;for(;s&&Iu(s,-1);)i=r.parentNode,o=Qt(s),s=s.previousSibling;if(s)r=s,n=tg(r);else{if(r=r.parentNode,r==e.dom)break;n=0}}}a?Ew(e,r,n):i&&Ew(e,i,o)}function DZ(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let i=tg(r),o,a;for(;;)if(n<i){if(r.nodeType!=1)break;let s=r.childNodes[n];if(Iu(s,1))o=r,a=++n;else break}else{if(OR(r))break;{let s=r.nextSibling;for(;s&&Iu(s,1);)o=s.parentNode,a=Qt(s)+1,s=s.nextSibling;if(s)r=s,n=0,i=tg(r);else{if(r=r.parentNode,r==e.dom)break;n=i=0}}}o&&Ew(e,o,a)}function OR(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function _Z(e,t){for(;e&&t==e.childNodes.length&&!Rf(e);)t=Qt(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let r=e.childNodes[t];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=0}}function NZ(e,t){for(;e&&!t&&!Rf(e);)t=Qt(e),e=e.parentNode;for(;e&&t;){let r=e.childNodes[t-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=e.childNodes.length}}function Ew(e,t,r){if(t.nodeType!=3){let o,a;(a=_Z(t,r))?(t=a,r=0):(o=NZ(t,r))&&(t=o,r=o.nodeValue.length)}let n=e.domSelection();if(!n)return;if(Wm(n)){let o=document.createRange();o.setEnd(t,r),o.setStart(t,r),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(t,r);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Ji(e)},50)}function YO(e,t){let r=e.state.doc.resolve(t);if(!(ir||nZ)&&r.parent.inlineContent){let i=e.coordsAtPos(t);if(t>r.start()){let o=e.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<r.end()){let o=e.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function JO(e,t,r){let n=e.state.selection;if(n instanceof ve&&!n.empty||r.indexOf("s")>-1||fn&&r.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=Cw(e.state,t);if(a&&a instanceof fe)return Co(e,a)}if(!i.parent.inlineContent){let a=t<0?i:o,s=n instanceof Yr?Ae.near(a,t):Ae.findFrom(a,t);return s?Co(e,s):!1}return!1}function XO(e,t){if(!(e.state.selection instanceof ve))return!0;let{$head:r,$anchor:n,empty:i}=e.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let a=e.state.tr;return t<0?a.delete(r.pos-o.nodeSize,r.pos):a.delete(r.pos,r.pos+o.nodeSize),e.dispatch(a),!0}return!1}function ZO(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function LZ(e){if(!pr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(t&&t.nodeType==1&&r==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;ZO(e,n,"true"),setTimeout(()=>ZO(e,n,"false"),20)}return!1}function RZ(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function BZ(e,t){let r=t.keyCode,n=RZ(t);if(r==8||fn&&r==72&&n=="c")return XO(e,-1)||Gs(e,-1);if(r==46&&!t.shiftKey||fn&&r==68&&n=="c")return XO(e,1)||Gs(e,1);if(r==13||r==27)return!0;if(r==37||fn&&r==66&&n=="c"){let i=r==37?YO(e,e.state.selection.from)=="ltr"?-1:1:-1;return QO(e,i,n)||Gs(e,i)}else if(r==39||fn&&r==70&&n=="c"){let i=r==39?YO(e,e.state.selection.from)=="ltr"?1:-1:1;return QO(e,i,n)||Gs(e,i)}else{if(r==38||fn&&r==80&&n=="c")return JO(e,-1,n)||Gs(e,-1);if(r==40||fn&&r==78&&n=="c")return LZ(e)||JO(e,1,n)||Gs(e,1);if(n==(fn?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function Cx(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let r=[],{content:n,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;let h=n.firstChild;r.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),n=h.content}let a=e.someProp("clipboardSerializer")||As.fromSchema(e.state.schema),s=_R(),l=s.createElement("div");l.appendChild(a.serializeFragment(n,{document:s}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=DR[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=s.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(r)}`);let d=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:d,slice:t}}function TR(e,t,r,n,i){let o=i.parent.type.spec.code,a,s;if(!r&&!t)return null;let l=!!t&&(n||o||!r);if(l){if(e.someProp("transformPastedText",d=>{t=d(t,o||n,e)}),o)return s=new J(K.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",d=>{s=d(s,e,!0)}),s;let f=e.someProp("clipboardTextParser",d=>d(t,i,n,e));if(f)s=f;else{let d=i.marks(),{schema:h}=e.state,p=As.fromSchema(h);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=a.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(h.text(g,d)))})}}else e.someProp("transformPastedHTML",f=>{r=f(r,e)}),a=HZ(r),Bf&&VZ(a);let c=a&&a.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let d=a.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;a=d}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||Uo.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!FZ.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)s=UZ(eT(s,+u[1],+u[2]),u[4]);else if(s=J.maxOpen(jZ(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let h=s.content.firstChild;f<s.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=s.content.lastChild;d<s.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);s=eT(s,f,d)}return e.someProp("transformPasted",f=>{s=f(s,e,l)}),s}const FZ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function jZ(e,t){if(e.childCount<2)return e;for(let r=t.depth;r>=0;r--){let i=t.node(r).contentMatchAt(t.index(r)),o,a=[];if(e.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&MR(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=PR(a[a.length-1],o.length));let u=IR(s,l);a.push(u),i=i.matchType(u.type),o=l}}),a)return K.from(a)}return e}function IR(e,t,r=0){for(let n=t.length-1;n>=r;n--)e=t[n].create(null,K.from(e));return e}function MR(e,t,r,n,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=MR(e,t,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==e.length-1?r.type:e[i+1]))return n.copy(n.content.append(K.from(IR(r,e,i+1))))}}function PR(e,t){if(t==0)return e;let r=e.content.replaceChild(e.childCount-1,PR(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(K.empty,!0);return e.copy(r.append(n))}function kw(e,t,r,n,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<n-1&&(s=kw(s,t,r,n,i+1,o)),i>=r&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(K.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function eT(e,t,r){return t<e.openStart&&(e=new J(kw(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new J(kw(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}const DR={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let tT=null;function _R(){return tT||(tT=document.implementation.createHTMLDocument("title"))}let $b=null;function zZ(e){let t=window.trustedTypes;return t?($b||($b=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),$b.createHTML(e)):e}function HZ(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let r=_R().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),i;if((i=n&&DR[n[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),r.innerHTML=zZ(e),i)for(let o=0;o<i.length;o++)r=r.querySelector(i[o])||r;return r}function VZ(e){let t=e.querySelectorAll(ir?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let n=t[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function UZ(e,t){if(!e.size)return e;let r=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:a}=e;for(let s=n.length-2;s>=0;s-=2){let l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=K.from(l.create(n[s+1],i)),o++,a++}return new J(i,o,a)}const gr={},mr={},WZ={touchstart:!0,touchmove:!0};class KZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function GZ(e){for(let t in gr){let r=gr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=n=>{QZ(e,n)&&!Ex(e,n)&&(e.editable||!(n.type in mr))&&r(e,n)},WZ[t]?{passive:!0}:void 0)}pr&&e.dom.addEventListener("input",()=>null),Ow(e)}function Fo(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function qZ(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Ow(e){e.someProp("handleDOMEvents",t=>{for(let r in t)e.input.eventHandlers[r]||e.dom.addEventListener(r,e.input.eventHandlers[r]=n=>Ex(e,n))})}function Ex(e,t){return e.someProp("handleDOMEvents",r=>{let n=r[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function QZ(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function YZ(e,t){!Ex(e,t)&&gr[t.type]&&(e.editable||!(t.type in mr))&&gr[t.type](e,t)}mr.keydown=(e,t)=>{let r=t;if(e.input.shiftKey=r.keyCode==16||r.shiftKey,!LR(e,r)&&(e.input.lastKeyCode=r.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Vi&&ir&&r.keyCode==13)))if(r.keyCode!=229&&e.domObserver.forceFlush(),Vl&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();e.input.lastIOSEnter=n,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==n&&(e.someProp("handleKeyDown",i=>i(e,Da(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",n=>n(e,r))||BZ(e,r)?r.preventDefault():Fo(e,"key")};mr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};mr.keypress=(e,t)=>{let r=t;if(LR(e,r)||!r.charCode||r.ctrlKey&&!r.altKey||fn&&r.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,r))){r.preventDefault();return}let n=e.state.selection;if(!(n instanceof ve)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,n.$from.pos,n.$to.pos,i,o))&&e.dispatch(o()),r.preventDefault()}};function Gm(e){return{left:e.clientX,top:e.clientY}}function JZ(e,t){let r=t.x-e.clientX,n=t.y-e.clientY;return r*r+n*n<100}function kx(e,t,r,n,i){if(n==-1)return!1;let o=e.state.doc.resolve(n);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,s=>a>o.depth?s(e,r,o.nodeAfter,o.before(a),i,!0):s(e,r,o.node(a),o.before(a),i,!1)))return!0;return!1}function Tl(e,t,r){if(e.focused||e.focus(),e.state.selection.eq(t))return;let n=e.state.tr.setSelection(t);n.setMeta("pointer",!0),e.dispatch(n)}function XZ(e,t){if(t==-1)return!1;let r=e.state.doc.resolve(t),n=r.nodeAfter;return n&&n.isAtom&&fe.isSelectable(n)?(Tl(e,new fe(r)),!0):!1}function ZZ(e,t){if(t==-1)return!1;let r=e.state.selection,n,i;r instanceof fe&&(n=r.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(fe.isSelectable(s)){n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?i=o.before(r.$from.depth):i=o.before(a);break}}return i!=null?(Tl(e,fe.create(e.state.doc,i)),!0):!1}function eee(e,t,r,n,i){return kx(e,"handleClickOn",t,r,n)||e.someProp("handleClick",o=>o(e,t,n))||(i?ZZ(e,r):XZ(e,r))}function tee(e,t,r,n){return kx(e,"handleDoubleClickOn",t,r,n)||e.someProp("handleDoubleClick",i=>i(e,t,n))}function ree(e,t,r,n){return kx(e,"handleTripleClickOn",t,r,n)||e.someProp("handleTripleClick",i=>i(e,t,n))||nee(e,r,n)}function nee(e,t,r){if(r.button!=0)return!1;let n=e.state.doc;if(t==-1)return n.inlineContent?(Tl(e,ve.create(n,0,n.content.size)),!0):!1;let i=n.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Tl(e,ve.create(n,s+1,s+1+a.content.size));else if(fe.isSelectable(a))Tl(e,fe.create(n,s));else continue;return!0}}function Ox(e){return rg(e)}const NR=fn?"metaKey":"ctrlKey";gr.mousedown=(e,t)=>{let r=t;e.input.shiftKey=r.shiftKey;let n=Ox(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&JZ(r,e.input.lastClick)&&!r[NR]&&e.input.lastClick.button==r.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:o,button:r.button};let a=e.posAtCoords(Gm(r));a&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new iee(e,a,r,!!n)):(o=="doubleClick"?tee:ree)(e,a.pos,a.inside,r)?r.preventDefault():Fo(e,"pointer"))};class iee{constructor(t,r,n,i){this.view=t,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[NR],this.allowDefault=n.shiftKey;let o,a;if(r.inside>-1)o=t.state.doc.nodeAt(r.inside),a=r.inside;else{let u=t.state.doc.resolve(r.pos);o=u.parent,a=u.depth?u.before():0}const s=i?null:n.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof fe&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&mn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ji(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Gm(t))),this.updateAllowDefault(t),this.allowDefault||!r?Fo(this.view,"pointer"):eee(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||pr&&this.mightDrag&&!this.mightDrag.node.isAtom||ir&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Tl(this.view,Ae.near(this.view.state.doc.resolve(r.pos))),t.preventDefault()):Fo(this.view,"pointer")}move(t){this.updateAllowDefault(t),Fo(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}gr.touchstart=e=>{e.input.lastTouch=Date.now(),Ox(e),Fo(e,"pointer")};gr.touchmove=e=>{e.input.lastTouch=Date.now(),Fo(e,"pointer")};gr.contextmenu=e=>Ox(e);function LR(e,t){return e.composing?!0:pr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const oee=Vi?5e3:-1;mr.compositionstart=mr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,r=t.selection.$to;if(t.selection instanceof ve&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||r.marks(),rg(e,!0),e.markCursor=null;else if(rg(e,!t.selection.empty),mn&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=e.domSelectionRange();for(let i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=e.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}e.input.composing=!0}RR(e,oee)};mr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,RR(e,20))};function RR(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>rg(e),t))}function BR(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=see());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function aee(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let r=XX(t.focusNode,t.focusOffset),n=ZX(t.focusNode,t.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(r==o||n==o)return o;if(!i||!i.isText(n.nodeValue))return n;if(e.input.compositionNode==n){let a=r.pmViewDesc;if(!(!a||!a.isText(r.nodeValue)))return n}}return r||n}function see(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function rg(e,t=!1){if(!(Vi&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),BR(e),t||e.docView&&e.docView.dirty){let r=xx(e),n=e.state.selection;return r&&!r.eq(n)?e.dispatch(e.state.tr.setSelection(r)):(e.markCursor||t)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function lee(e,t){if(!e.dom.parentNode)return;let r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}const of=Pr&&Wo<15||Vl&&iZ<604;gr.copy=mr.cut=(e,t)=>{let r=t,n=e.state.selection,i=r.type=="cut";if(n.empty)return;let o=of?null:r.clipboardData,a=n.content(),{dom:s,text:l}=Cx(e,a);o?(r.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):lee(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function cee(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function uee(e,t){if(!e.dom.parentNode)return;let r=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),n.parentNode&&n.parentNode.removeChild(n),r?af(e,n.value,null,i,t):af(e,n.textContent,n.innerHTML,i,t)},50)}function af(e,t,r,n,i){let o=TR(e,t,r,n,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||J.empty)))return!0;if(!o)return!1;let a=cee(o),s=a?e.state.tr.replaceSelectionWith(a,n):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function FR(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let r=e.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}mr.paste=(e,t)=>{let r=t;if(e.composing&&!Vi)return;let n=of?null:r.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;n&&af(e,FR(n),n.getData("text/html"),i,r)?r.preventDefault():uee(e,r)};class jR{constructor(t,r,n){this.slice=t,this.move=r,this.node=n}}const fee=fn?"altKey":"ctrlKey";function zR(e,t){let r=e.someProp("dragCopies",n=>!n(t));return r??!t[fee]}gr.dragstart=(e,t)=>{let r=t,n=e.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(Gm(r)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof fe?i.to-1:i.to))){if(n&&n.mightDrag)a=fe.create(e.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let f=e.docView.nearestDesc(r.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&(a=fe.create(e.state.doc,f.posBefore))}}let s=(a||e.state.selection).content(),{dom:l,text:c,slice:u}=Cx(e,s);(!r.dataTransfer.files.length||!ir||hR>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(of?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",of||r.dataTransfer.setData("text/plain",c),e.dragging=new jR(u,zR(e,r),a)};gr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};mr.dragover=mr.dragenter=(e,t)=>t.preventDefault();mr.drop=(e,t)=>{let r=t,n=e.dragging;if(e.dragging=null,!r.dataTransfer)return;let i=e.posAtCoords(Gm(r));if(!i)return;let o=e.state.doc.resolve(i.pos),a=n&&n.slice;a?e.someProp("transformPasted",p=>{a=p(a,e,!1)}):a=TR(e,FR(r.dataTransfer),of?null:r.dataTransfer.getData("text/html"),!1,o);let s=!!(n&&zR(e,r));if(e.someProp("handleDrop",p=>p(e,r,a||J.empty,s))){r.preventDefault();return}if(!a)return;r.preventDefault();let l=a?KL(e.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(s){let{node:p}=n;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(d))return;let h=c.doc.resolve(u);if(f&&fe.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new fe(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,m,v,b)=>p=b),c.setSelection(Sx(e,h,c.doc.resolve(p)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};gr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ji(e)},20))};gr.blur=(e,t)=>{let r=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),r.relatedTarget&&e.dom.contains(r.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};gr.beforeinput=(e,t)=>{if(ir&&Vi&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Da(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in mr)gr[e]=mr[e];function sf(e,t){if(e==t)return!0;for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}class ng{constructor(t,r){this.toDOM=t,this.spec=r||Ka,this.side=this.spec.side||0}map(t,r,n,i){let{pos:o,deleted:a}=t.mapResult(r.from+i,this.side<0?-1:1);return a?null:new hr(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof ng&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&sf(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Go{constructor(t,r){this.attrs=t,this.spec=r||Ka}map(t,r,n,i){let o=t.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=t.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new hr(o,a,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof Go&&sf(this.attrs,t.attrs)&&sf(this.spec,t.spec)}static is(t){return t.type instanceof Go}destroy(){}}class Tx{constructor(t,r){this.attrs=t,this.spec=r||Ka}map(t,r,n,i){let o=t.mapResult(r.from+i,1);if(o.deleted)return null;let a=t.mapResult(r.to+i,-1);return a.deleted||a.pos<=o.pos?null:new hr(o.pos-n,a.pos-n,this)}valid(t,r){let{index:n,offset:i}=t.content.findIndex(r.from),o;return i==r.from&&!(o=t.child(n)).isText&&i+o.nodeSize==r.to}eq(t){return this==t||t instanceof Tx&&sf(this.attrs,t.attrs)&&sf(this.spec,t.spec)}destroy(){}}class hr{constructor(t,r,n){this.from=t,this.to=r,this.type=n}copy(t,r){return new hr(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,n){return this.type.map(t,this,r,n)}static widget(t,r,n){return new hr(t,t,new ng(r,n))}static inline(t,r,n,i){return new hr(t,r,new Go(n,i))}static node(t,r,n,i){return new hr(t,r,new Tx(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Go}get widget(){return this.type instanceof ng}}const cl=[],Ka={};class tt{constructor(t,r){this.local=t.length?t:cl,this.children=r.length?r:cl}static create(t,r){return r.length?ig(r,t,0,Ka):tr}find(t,r,n){let i=[];return this.findInner(t??0,r??1e9,i,0,n),i}findInner(t,r,n,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=r&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,r-s,n,i+s,o)}}map(t,r,n){return this==tr||t.maps.length==0?this:this.mapInner(t,r,0,0,n||Ka)}mapInner(t,r,n,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,n,i);l&&l.type.valid(r,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?dee(this.children,a||[],t,r,n,i,o):a?new tt(a.sort(Ga),cl):tr}add(t,r){return r.length?this==tr?tt.create(t,r):this.addInner(t,r,0):this}addInner(t,r,n){let i,o=0;t.forEach((s,l)=>{let c=l+n,u;if(u=VR(r,s,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,u,c+1):i.splice(o,0,l,l+s.nodeSize,ig(u,s,c+1,Ka)),o+=3}});let a=HR(o?UR(r):r,-n);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new tt(a.length?this.local.concat(a).sort(Ga):this.local,i||this.children)}remove(t){return t.length==0||this==tr?this:this.removeInner(t,0)}removeInner(t,r){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let a,s=n[o]+r,l=n[o+1]+r;for(let u=0,f;u<t.length;u++)(f=t[u])&&f.from>s&&f.to<l&&(t[u]=null,(a||(a=[])).push(f));if(!a)continue;n==this.children&&(n=this.children.slice());let c=n[o+2].removeInner(a,s+1);c!=tr?n[o+2]=c:(n.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<i.length;s++)i[s].eq(a,r)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new tt(i,n):tr}forChild(t,r){if(this==tr)return this;if(r.isLeaf)return tt.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(n=this.children[s+2]);break}let o=t+1,a=o+r.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Go){let c=Math.max(o,l.from)-o,u=Math.min(a,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let s=new tt(i.sort(Ga),cl);return n?new Mo([s,n]):s}return n||tr}eq(t){if(this==t)return!0;if(!(t instanceof tt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return Ix(this.localsInner(t))}localsInner(t){if(this==tr)return cl;if(t.inlineContent||!this.local.some(Go.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Go||r.push(this.local[n]);return r}forEachSet(t){t(this)}}tt.empty=new tt([],[]);tt.removeOverlap=Ix;const tr=tt.empty;class Mo{constructor(t){this.members=t}map(t,r){const n=this.members.map(i=>i.map(t,r,Ka));return Mo.from(n)}forChild(t,r){if(r.isLeaf)return tt.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,r);o!=tr&&(o instanceof Mo?n=n.concat(o.members):n.push(o))}return Mo.from(n)}eq(t){if(!(t instanceof Mo)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(let a=0;a<o.length;a++)r.push(o[a])}}return r?Ix(n?r:r.sort(Ga)):cl}static from(t){switch(t.length){case 0:return tr;case 1:return t[0];default:return new Mo(t.every(r=>r instanceof tt)?t:t.reduce((r,n)=>r.concat(n instanceof tt?n:n.members),[]))}}forEachSet(t){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(t)}}function dee(e,t,r,n,i,o,a){let s=e.slice();for(let c=0,u=o;c<r.maps.length;c++){let f=0;r.maps[c].forEach((d,h,p,g)=>{let m=g-p-(h-d);for(let v=0;v<s.length;v+=3){let b=s[v+1];if(b<0||d>b+u-f)continue;let y=s[v]+u-f;h>=y?s[v+1]=d<=y?-2:-1:d>=u&&m&&(s[v]+=m,s[v+1]+=m)}f+=m}),u=r.maps[c].map(u,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let u=r.map(e[c]+o),f=u-i;if(f<0||f>=n.content.size){l=!0;continue}let d=r.map(e[c+1]+o,-1),h=d-i,{index:p,offset:g}=n.content.findIndex(f),m=n.maybeChild(p);if(m&&g==f&&g+m.nodeSize==h){let v=s[c+2].mapInner(r,m,u+1,e[c]+o+1,a);v!=tr?(s[c]=f,s[c+1]=h,s[c+2]=v):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=hee(s,e,t,r,i,o,a),u=ig(c,n,0,a);t=u.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<u.children.length;f+=3){let h=u.children[f];for(;d<s.length&&s[d]<h;)d+=3;s.splice(d,0,u.children[f],u.children[f+1],u.children[f+2])}}return new tt(t.sort(Ga),s)}function HR(e,t){if(!t||!e.length)return e;let r=[];for(let n=0;n<e.length;n++){let i=e[n];r.push(new hr(i.from+t,i.to+t,i.type))}return r}function hee(e,t,r,n,i,o,a){function s(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(n,i,c);f?r.push(f):a.onRemove&&a.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)s(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+o+1);return r}function VR(e,t,r){if(t.isLeaf)return null;let n=r+t.nodeSize,i=null;for(let o=0,a;o<e.length;o++)(a=e[o])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),e[o]=null);return i}function UR(e){let t=[];for(let r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function ig(e,t,r,n){let i=[],o=!1;t.forEach((s,l)=>{let c=VR(e,s,l+r);if(c){o=!0;let u=ig(c,s,r+l+1,n);u!=tr&&i.push(l,l+s.nodeSize,u)}});let a=HR(o?UR(e):e,-r).sort(Ga);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new tt(a,i):tr}function Ga(e,t){return e.from-t.from||e.to-t.to}function Ix(e){let t=e;for(let r=0;r<t.length-1;r++){let n=t[r];if(n.from!=n.to)for(let i=r+1;i<t.length;i++){let o=t[i];if(o.from==n.from){o.to!=n.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,n.to),rT(t,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==e&&(t=e.slice()),t[r]=n.copy(n.from,o.from),rT(t,i,n.copy(o.from,n.to)));break}}}return t}function rT(e,t,r){for(;t<e.length&&Ga(r,e[t])>0;)t++;e.splice(t,0,r)}function wb(e){let t=[];return e.someProp("decorations",r=>{let n=r(e.state);n&&n!=tr&&t.push(n)}),e.cursorWrapper&&t.push(tt.create(e.state.doc,[e.cursorWrapper.deco])),Mo.from(t)}const pee={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},gee=Pr&&Wo<=11;class mee{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class vee{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new mee,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Pr&&Wo<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),gee&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,pee)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(qO(this.view)){if(this.suppressingSelectionUpdates)return Ji(this.view);if(Pr&&Wo<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&es(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let r=new Set,n;for(let o=t.focusNode;o;o=Hl(o))r.add(o);for(let o=t.anchorNode;o;o=Hl(o))if(r.has(o)){n=o;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&qO(t)&&!this.ignoreSelectionChange(n),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let u=0;u<r.length;u++){let f=this.registerMutation(r[u],l);f&&(o=o<0?f.from:Math.min(f.from,o),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(s=!0))}if(mn&&l.length){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,d]=u;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of u){let h=d.parentNode;h&&h.nodeName=="LI"&&(!f||$ee(t,f)!=h)&&d.remove()}}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Wm(n)&&(c=xx(t))&&c.eq(Ae.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ji(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,a),bee(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Ji(t),this.currentSelection.set(n))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let f=t.addedNodes[u];r.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Pr&&Wo<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:f,nextSibling:d}=t.addedNodes[u];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(o=d)}let a=i&&i.parentNode==t.target?Qt(i)+1:0,s=n.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?Qt(o):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:s,to:c}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let nT=new WeakMap,iT=!1;function bee(e){if(!nT.has(e)&&(nT.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=mn,iT)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),iT=!0}}function oT(e,t){let r=t.startContainer,n=t.startOffset,i=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return es(a.node,a.offset,i,o)&&([r,n,i,o]=[i,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}}function yee(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return oT(e,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0),r?oT(e,r):null}function $ee(e,t){for(let r=t.parentNode;r&&r!=e.dom;r=r.parentNode){let n=e.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function wee(e,t,r){let{node:n,fromOffset:i,toOffset:o,from:a,to:s}=e.docView.parseRange(t,r),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Wm(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ir&&e.input.lastKeyCode===8)for(let m=o;m>i;m--){let v=n.childNodes[m-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){o=m;break}if(!b||b.size)break}let f=e.state.doc,d=e.someProp("domParser")||Uo.fromSchema(e.state.schema),h=f.resolve(a),p=null,g=d.parse(n,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Aee,context:h});if(c&&c[0].pos!=null){let m=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=m),p={anchor:m+a,head:v+a}}return{doc:g,sel:p,from:a,to:s}}function Aee(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(pr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||pr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const xee=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function See(e,t,r,n,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let C=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,E=xx(e,C);if(E&&!e.state.selection.eq(E)){if(ir&&Vi&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",N=>N(e,Da(13,"Enter"))))return;let _=e.state.tr.setSelection(E);C=="pointer"?_.setMeta("pointer",!0):C=="key"&&_.scrollIntoView(),o&&_.setMeta("composition",o),e.dispatch(_)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(r);t=a.before(s+1),r=e.state.doc.resolve(r).after(s+1);let l=e.state.selection,c=wee(e,t,r),u=e.state.doc,f=u.slice(c.from,c.to),d,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(d=e.state.selection.to,h="end"):(d=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=kee(f.content,c.doc.content,c.from,d,h);if(p&&e.input.domChangeCount++,(Vl&&e.input.lastIOSEnter>Date.now()-225||Vi)&&i.some(C=>C.nodeType==1&&!xee.test(C.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",C=>C(e,Da(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(n&&l instanceof ve&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let C=aT(e,e.state.doc,c.sel);if(C&&!C.eq(e.state.selection)){let E=e.state.tr.setSelection(C);o&&E.setMeta("composition",o),e.dispatch(E)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof ve&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Pr&&Wo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),m=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),b=g.sameParent(m)&&g.parent.inlineContent&&v.end()>=p.endA;if((Vl&&e.input.lastIOSEnter>Date.now()-225&&(!b||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&(!g.sameParent(m)||!g.parent.inlineContent)&&g.pos<m.pos&&!/\S/.test(c.doc.textBetween(g.pos,m.pos,"","")))&&e.someProp("handleKeyDown",C=>C(e,Da(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&Eee(u,p.start,p.endA,g,m)&&e.someProp("handleKeyDown",C=>C(e,Da(8,"Backspace")))){Vi&&ir&&e.domObserver.suppressSelectionUpdates();return}ir&&p.endB==p.start&&(e.input.lastChromeDelete=Date.now()),Vi&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,m=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(C){return C(e,Da(13,"Enter"))})},20));let y=p.start,w=p.endA,$=C=>{let E=C||e.state.tr.replace(y,w,c.doc.slice(p.start-c.from,p.endB-c.from));if(c.sel){let _=aT(e,E.doc,c.sel);_&&!(ir&&e.composing&&_.empty&&(p.start!=p.endB||e.input.lastChromeDelete<Date.now()-100)&&(_.head==y||_.head==E.mapping.map(w)-1)||Pr&&_.empty&&_.head==y)&&E.setSelection(_)}return o&&E.setMeta("composition",o),E.scrollIntoView()},A;if(b)if(g.pos==m.pos){Pr&&Wo<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ji(e),20));let C=$(e.state.tr.delete(y,w)),E=u.resolve(p.start).marksAcross(u.resolve(p.endA));E&&C.ensureMarks(E),e.dispatch(C)}else if(p.endA==p.endB&&(A=Cee(g.parent.content.cut(g.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start())))){let C=$(e.state.tr);A.type=="add"?C.addMark(y,w,A.mark):C.removeMark(y,w,A.mark),e.dispatch(C)}else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let C=g.parent.textBetween(g.parentOffset,m.parentOffset),E=()=>$(e.state.tr.insertText(C,y,w));e.someProp("handleTextInput",_=>_(e,y,w,C,E))||e.dispatch(E())}else e.dispatch($());else e.dispatch($())}function aT(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:Sx(e,t.resolve(r.anchor),t.resolve(r.head))}function Cee(e,t){let r=e.firstChild.marks,n=t.firstChild.marks,i=r,o=n,a,s,l;for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=u=>u.mark(s.addToSet(u.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=u=>u.mark(s.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(K.from(c).eq(e))return{mark:s,type:a}}function Eee(e,t,r,n,i){if(r-t<=i.pos-n.pos||Ab(n,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!n.parent.isTextblock){let s=o.nodeAfter;return s!=null&&r==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(Ab(o,!0,!0));return!a.parent.isTextblock||a.pos>r||Ab(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function Ab(e,t,r){let n=e.depth,i=t?e.end():e.pos;for(;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,i++,t=!1;if(r){let o=e.node(n).maybeChild(e.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function kee(e,t,r,n,i){let o=e.findDiffStart(t,r);if(o==null)return null;let{a,b:s}=e.findDiffEnd(t,r+e.size,r+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&e.size<t.size){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<t.size&&sT(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<e.size&&sT(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function sT(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),r=e.charCodeAt(1);return t>=56320&&t<=57343&&r>=55296&&r<=56319}class WR{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new KZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(dT),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=uT(this),cT(this),this.nodeViews=fT(this),this.docView=HO(this.state.doc,lT(this),wb(this),this.dom,this),this.domObserver=new vee(this,(n,i,o,a)=>See(this,n,i,o,a)),this.domObserver.start(),GZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Ow(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(dT),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in t)r[n]=t[n];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){var n;let i=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(BR(this),a=!0),this.state=t;let s=i.plugins!=t.plugins||this._props.plugins!=r.plugins;if(s||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let h=fT(this);Tee(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(s||r.handleDOMEvents!=this._props.handleDOMEvents)&&Ow(this),this.editable=uT(this),cT(this);let l=wb(this),c=lT(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(t.doc,c,l);(f||!t.selection.eq(i.selection))&&(a=!0);let d=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&sZ(this);if(a){this.domObserver.stop();let h=f&&(Pr||ir)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Oee(i.selection,t.selection);if(f){let p=ir?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=aee(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=HO(t.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&MZ(this))?Ji(this,h):(ER(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&lZ(d)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof fe){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&LO(this,r.getBoundingClientRect(),t)}else LO(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,t)}}updateDraggedNode(t,r){let n=t.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let o=n.from+(this.state.doc.content.size-r.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(i=o)}this.dragging=new jR(t.slice,t.move,i<0?void 0:fe.create(this.state.doc,i))}someProp(t,r){let n=this._props&&this._props[t],i;if(n!=null&&(i=r?r(n):n))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(i=r?r(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(i=r?r(s):s))return i}}hasFocus(){if(Pr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&cZ(this.dom),Ji(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return t||document}updateRoot(){this._root=null}posAtCoords(t){return pZ(this,t)}coordsAtPos(t,r=1){return bR(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,n=-1){let i=this.docView.posFromDOM(t,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,r){return yZ(this,r||this.state,t)}pasteHTML(t,r){return af(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return af(this,t,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(t){return Cx(this,t)}destroy(){this.docView&&(qZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],wb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,YX())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return YZ(this,t)}domSelectionRange(){let t=this.domSelection();return t?pr&&this.root.nodeType===11&&tZ(this.dom.ownerDocument)==this.dom&&yee(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}WR.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function lT(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(e.state)),r)for(let n in r)n=="class"?t.class+=" "+r[n]:n=="style"?t.style=(t.style?t.style+";":"")+r[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(r[n]))}),t.translate||(t.translate="no"),[hr.node(0,e.state.doc.content.size,t)]}function cT(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:hr.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function uT(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Oee(e,t){let r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function fT(e){let t=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=n[i])}return e.someProp("nodeViews",r),e.someProp("markViews",r),t}function Tee(e,t){let r=0,n=0;for(let i in e){if(e[i]!=t[i])return!0;r++}for(let i in t)n++;return r!=n}function dT(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Yo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},og={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Iee=typeof navigator<"u"&&/Mac/.test(navigator.platform),Mee=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Yt=0;Yt<10;Yt++)Yo[48+Yt]=Yo[96+Yt]=String(Yt);for(var Yt=1;Yt<=24;Yt++)Yo[Yt+111]="F"+Yt;for(var Yt=65;Yt<=90;Yt++)Yo[Yt]=String.fromCharCode(Yt+32),og[Yt]=String.fromCharCode(Yt);for(var xb in Yo)og.hasOwnProperty(xb)||(og[xb]=Yo[xb]);function Pee(e){var t=Iee&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Mee&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?og:Yo)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const Dee=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),_ee=typeof navigator<"u"&&/Win/.test(navigator.platform);function Nee(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Dee?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Lee(e){let t=Object.create(null);for(let r in e)t[Nee(r)]=e[r];return t}function Sb(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function Ree(e){return new st({props:{handleKeyDown:KR(e)}})}function KR(e){let t=Lee(e);return function(r,n){let i=Pee(n),o,a=t[Sb(i,n)];if(a&&a(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let s=t[Sb(i,n,!1)];if(s&&s(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(_ee&&n.ctrlKey&&n.altKey)&&(o=Yo[n.keyCode])&&o!=i){let s=t[Sb(o,n)];if(s&&s(r.state,r.dispatch,r))return!0}}return!1}}var Bee=Object.defineProperty,Mx=(e,t)=>{for(var r in t)Bee(e,r,{get:t[r],enumerable:!0})};function qm(e){const{state:t,transaction:r}=e;let{selection:n}=r,{doc:i}=r,{storedMarks:o}=r;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,o=r.storedMarks,r}}}var Qm=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:n}=t,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,s])=>[a,(...c)=>{const u=s(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:n,state:i}=this,{view:o}=n,a=[],s=!!e,l=e||i.tr,c=()=>(!s&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(r).map(([f,d])=>[f,(...p)=>{const g=this.buildProps(l,t),m=d(...p)(g);return a.push(m),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:r}=this,n=!1,i=e||r.tr,o=this.buildProps(i,n);return{...Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,n)}}buildProps(e,t=!0){const{rawCommands:r,editor:n,state:i}=this,{view:o}=n,a={tr:e,editor:n,view:o,state:qm({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([s,l])=>[s,(...c)=>l(...c)(a)]))}};return a}},GR={};Mx(GR,{blur:()=>Fee,clearContent:()=>jee,clearNodes:()=>zee,command:()=>Hee,createParagraphNear:()=>Vee,cut:()=>Uee,deleteCurrentNode:()=>Wee,deleteNode:()=>Kee,deleteRange:()=>Gee,deleteSelection:()=>qee,enter:()=>Qee,exitCode:()=>Yee,extendMarkRange:()=>Jee,first:()=>Xee,focus:()=>ete,forEach:()=>tte,insertContent:()=>rte,insertContentAt:()=>ote,joinBackward:()=>lte,joinDown:()=>ste,joinForward:()=>cte,joinItemBackward:()=>ute,joinItemForward:()=>fte,joinTextblockBackward:()=>dte,joinTextblockForward:()=>hte,joinUp:()=>ate,keyboardShortcut:()=>gte,lift:()=>mte,liftEmptyBlock:()=>vte,liftListItem:()=>bte,newlineInCode:()=>yte,resetAttributes:()=>$te,scrollIntoView:()=>wte,selectAll:()=>Ate,selectNodeBackward:()=>xte,selectNodeForward:()=>Ste,selectParentNode:()=>Cte,selectTextblockEnd:()=>Ete,selectTextblockStart:()=>kte,setContent:()=>Ote,setMark:()=>Kte,setMeta:()=>Gte,setNode:()=>qte,setNodeSelection:()=>Qte,setTextSelection:()=>Yte,sinkListItem:()=>Jte,splitBlock:()=>Xte,splitListItem:()=>Zte,toggleList:()=>ere,toggleMark:()=>tre,toggleNode:()=>rre,toggleWrap:()=>nre,undoInputRule:()=>ire,unsetAllMarks:()=>ore,unsetMark:()=>are,updateAttributes:()=>sre,wrapIn:()=>lre,wrapInList:()=>cre});var Fee=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),jee=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),zee=()=>({state:e,tr:t,dispatch:r})=>{const{selection:n}=t,{ranges:i}=n;return r&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:c,mapping:u}=t,f=c.resolve(u.map(l)),d=c.resolve(u.map(l+s.nodeSize)),h=f.blockRange(d);if(!h)return;const p=uc(h);if(s.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(h.start,g)}(p||p===0)&&t.lift(h,p)})}),!0},Hee=e=>t=>e(t),Vee=()=>({state:e,dispatch:t})=>lR(e,t),Uee=(e,t)=>({editor:r,tr:n})=>{const{state:i}=r,o=i.doc.slice(e.from,e.to);n.deleteRange(e.from,e.to);const a=n.mapping.map(t);return n.insert(a,o.content),n.setSelection(new ve(n.doc.resolve(Math.max(a-1,0)))),!0},Wee=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,n=r.$anchor.node();if(n.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===n.type){if(t){const s=i.before(o),l=i.after(o);e.delete(s,l).scrollIntoView()}return!0}return!1};function At(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Kee=e=>({tr:t,state:r,dispatch:n})=>{const i=At(e,r.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(n){const l=o.before(a),c=o.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},Gee=e=>({tr:t,dispatch:r})=>{const{from:n,to:i}=e;return r&&t.delete(n,i),!0},qee=()=>({state:e,dispatch:t})=>vx(e,t),Qee=()=>({commands:e})=>e.keyboardShortcut("Enter"),Yee=()=>({state:e,dispatch:t})=>NX(e,t);function Px(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ag(e,t,r={strict:!0}){const n=Object.keys(t);return n.length?n.every(i=>r.strict?t[i]===e[i]:Px(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function qR(e,t,r={}){return e.find(n=>n.type===t&&ag(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function hT(e,t,r={}){return!!qR(e,t,r)}function Dx(e,t,r){var n;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===t)||(r=r||((n=i.node.marks[0])==null?void 0:n.attrs),!qR([...i.node.marks],t,r)))return;let a=i.index,s=e.start()+i.offset,l=a+1,c=s+i.node.nodeSize;for(;a>0&&hT([...e.parent.child(a-1).marks],t,r);)a-=1,s-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&hT([...e.parent.child(l).marks],t,r);)c+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function uo(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Jee=(e,t={})=>({tr:r,state:n,dispatch:i})=>{const o=uo(e,n.schema),{doc:a,selection:s}=r,{$from:l,from:c,to:u}=s;if(i){const f=Dx(l,o,t);if(f&&f.from<=c&&f.to>=u){const d=ve.create(a,f.from,f.to);r.setSelection(d)}}return!0},Xee=e=>t=>{const r=typeof e=="function"?e(t):e;for(let n=0;n<r.length;n+=1)if(r[n](t))return!0;return!1};function QR(e){return e instanceof ve}function Fa(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function YR(e,t=null){if(!t)return null;const r=Ae.atStart(e),n=Ae.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return n;const i=r.from,o=n.to;return t==="all"?ve.create(e,Fa(0,i,o),Fa(e.content.size,i,o)):ve.create(e,Fa(t,i,o),Fa(t,i,o))}function Zee(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _x(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var ete=(e=null,t={})=>({editor:r,view:n,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const a=()=>{(_x()||Zee())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),t!=null&&t.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!QR(r.state.selection))return a(),!0;const s=YR(i.doc,e)||r.state.selection,l=r.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},tte=(e,t)=>r=>e.every((n,i)=>t(n,{...r,index:i})),rte=(e,t)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},e,t),JR=e=>{const t=e.childNodes;for(let r=t.length-1;r>=0;r-=1){const n=t[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?e.removeChild(n):n.nodeType===1&&JR(n)}return e};function Bd(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,r=new window.DOMParser().parseFromString(t,"text/html").body;return JR(r)}function lf(e,t,r){if(e instanceof Vo||e instanceof K)return e;r={slice:!0,parseOptions:{},...r};const n=typeof e=="object"&&e!==null,i=typeof e=="string";if(n)try{if(Array.isArray(e)&&e.length>0)return K.fromArray(e.map(s=>t.nodeFromJSON(s)));const a=t.nodeFromJSON(e);return r.errorOnInvalidContent&&a.check(),a}catch(o){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),lf("",t,r)}if(i){if(r.errorOnInvalidContent){let a=!1,s="";const l=new NL({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,s=typeof c=="string"?c:c.outerHTML,null)}]}})});if(r.slice?Uo.fromSchema(l).parseSlice(Bd(e),r.parseOptions):Uo.fromSchema(l).parse(Bd(e),r.parseOptions),r.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const o=Uo.fromSchema(t);return r.slice?o.parseSlice(Bd(e),r.parseOptions).content:o.parse(Bd(e),r.parseOptions)}return lf("",t,r)}function nte(e,t,r){const n=e.steps.length-1;if(n<t)return;const i=e.steps[n];if(!(i instanceof Bt||i instanceof Ht))return;const o=e.mapping.maps[n];let a=0;o.forEach((s,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Ae.near(e.doc.resolve(a),r))}var ite=e=>!("type"in e),ote=(e,t,r)=>({tr:n,dispatch:i,editor:o})=>{var a;if(i){r={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let s;const l=m=>{o.emit("contentError",{editor:o,error:m,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{lf(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(m){l(m)}try{s=lf(t,o.schema,{parseOptions:c,errorOnInvalidContent:(a=r.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(m){return l(m),!1}let{from:u,to:f}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},d=!0,h=!0;if((ite(s)?s:[s]).forEach(m=>{m.check(),d=d?m.isText&&m.marks.length===0:!1,h=h?m.isBlock:!1}),u===f&&h){const{parent:m}=n.doc.resolve(u);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(u-=1,f+=1)}let g;if(d){if(Array.isArray(t))g=t.map(m=>m.text||"").join("");else if(t instanceof K){let m="";t.forEach(v=>{v.text&&(m+=v.text)}),g=m}else typeof t=="object"&&t&&t.text?g=t.text:g=t;n.insertText(g,u,f)}else{g=s;const m=n.doc.resolve(u),v=m.node(),b=m.parentOffset===0,y=v.isText||v.isTextblock,w=v.content.size>0;b&&y&&w&&(u=Math.max(0,u-1)),n.replaceWith(u,f,g)}r.updateSelection&&nte(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:u,text:g}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:u,text:g})}return!0},ate=()=>({state:e,dispatch:t})=>PX(e,t),ste=()=>({state:e,dispatch:t})=>DX(e,t),lte=()=>({state:e,dispatch:t})=>tR(e,t),cte=()=>({state:e,dispatch:t})=>oR(e,t),ute=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Hm(e.doc,e.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},fte=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Hm(e.doc,e.selection.$from.pos,1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},dte=()=>({state:e,dispatch:t})=>IX(e,t),hte=()=>({state:e,dispatch:t})=>MX(e,t);function XR(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function pte(e){const t=e.split(/-(?!$)/);let r=t[t.length-1];r==="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<t.length-1;s+=1){const l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))_x()||XR()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),o&&(r=`Shift-${r}`),r}var gte=e=>({editor:t,view:r,tr:n,dispatch:i})=>{const o=pte(e).split(/-(?!$)/),a=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,s))});return l==null||l.steps.forEach(c=>{const u=c.map(n.mapping);u&&i&&n.maybeStep(u)}),!0};function Jo(e,t,r={}){const{from:n,to:i,empty:o}=e.selection,a=t?At(t,e.schema):null,s=[];e.doc.nodesBetween(n,i,(f,d)=>{if(f.isText)return;const h=Math.max(n,d),p=Math.min(i,d+f.nodeSize);s.push({node:f,from:h,to:p})});const l=i-n,c=s.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>ag(f.node.attrs,r,{strict:!1}));return o?!!c.length:c.reduce((f,d)=>f+d.to-d.from,0)>=l}var mte=(e,t={})=>({state:r,dispatch:n})=>{const i=At(e,r.schema);return Jo(r,i,t)?_X(r,n):!1},vte=()=>({state:e,dispatch:t})=>cR(e,t),bte=e=>({state:t,dispatch:r})=>{const n=At(e,t.schema);return KX(n)(t,r)},yte=()=>({state:e,dispatch:t})=>sR(e,t);function Ym(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function pT(e,t){const r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,i)=>(r.includes(i)||(n[i]=e[i]),n),{})}var $te=(e,t)=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=Ym(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=At(e,n.schema)),s==="mark"&&(a=uo(e,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&r.setNodeMarkup(u,void 0,pT(c.attrs,t)),a&&c.marks.length&&c.marks.forEach(f=>{a===f.type&&r.addMark(u,u+c.nodeSize,a.create(pT(f.attrs,t)))})})}),!0):!1},wte=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Ate=()=>({tr:e,dispatch:t})=>{if(t){const r=new Yr(e.doc);e.setSelection(r)}return!0},xte=()=>({state:e,dispatch:t})=>nR(e,t),Ste=()=>({state:e,dispatch:t})=>aR(e,t),Cte=()=>({state:e,dispatch:t})=>BX(e,t),Ete=()=>({state:e,dispatch:t})=>zX(e,t),kte=()=>({state:e,dispatch:t})=>jX(e,t);function Tw(e,t,r={},n={}){return lf(e,t,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var Ote=(e,{errorOnInvalidContent:t,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{const{doc:l}=o;if(n.preserveWhitespace!=="full"){const c=Tw(e,i.schema,n,{errorOnInvalidContent:t??i.options.enableContentCheck});return a&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!r),!0}return a&&o.setMeta("preventUpdate",!r),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:n,errorOnInvalidContent:t??i.options.enableContentCheck})};function ZR(e,t){const r=uo(t,e.schema),{from:n,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===r.name);return s?{...s.attrs}:{}}function e6(e,t){const r=new JL(e);return t.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function Tte(e){for(let t=0;t<e.edgeCount;t+=1){const{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function Ite(e,t,r){const n=[];return e.nodesBetween(t.from,t.to,(i,o)=>{r(i)&&n.push({node:i,pos:o})}),n}function Mte(e,t){for(let r=e.depth;r>0;r-=1){const n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}}function Jm(e){return t=>Mte(t.$from,e)}function ue(e,t,r){return e.config[t]===void 0&&e.parent?ue(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind({...r,parent:e.parent?ue(e.parent,t,r):null}):e.config[t]}function Nx(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},n=ue(t,"addExtensions",r);return n?[t,...Nx(n())]:t}).flat(10)}function Lx(e,t){const r=As.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function t6(e){return typeof e=="function"}function Ne(e,t=void 0,...r){return t6(e)?t?e.bind(t)(...r):e(...r):e}function Pte(e={}){return Object.keys(e).length===0&&e.constructor===Object}function cf(e){const t=e.filter(i=>i.type==="extension"),r=e.filter(i=>i.type==="node"),n=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:n}}function r6(e){const t=[],{nodeExtensions:r,markExtensions:n}=cf(e),i=[...r,...n],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=ue(a,"addGlobalAttributes",s);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([d,h])=>{t.push({type:f,name:d,attribute:{...o,...h}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=ue(a,"addAttributes",s);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const d={...o,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,t.push({type:a.name,name:u,attribute:d})})}),t}function at(...e){return e.filter(t=>!!t).reduce((t,r)=>{const n={...t};return Object.entries(r).forEach(([i,o])=>{if(!n[i]){n[i]=o;return}if(i==="class"){const s=o?String(o).split(" "):[],l=n[i]?n[i].split(" "):[],c=s.filter(u=>!l.includes(u));n[i]=[...l,...c].join(" ")}else if(i==="style"){const s=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[f,d]=u.split(":").map(h=>h.trim());c.set(f,d)}),s.forEach(u=>{const[f,d]=u.split(":").map(h=>h.trim());c.set(f,d)}),n[i]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else n[i]=o}),n},{})}function sg(e,t){return t.filter(r=>r.type===e.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,n)=>at(r,n),{})}function Dte(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function gT(e,t){return"style"in e?e:{...e,getAttrs:r=>{const n=e.getAttrs?e.getAttrs(r):e.attrs;if(n===!1)return!1;const i=t.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(r):Dte(r.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...n,...i}}}}function mT(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&Pte(r)?!1:r!=null))}function _te(e,t){var r;const n=r6(e),{nodeExtensions:i,markExtensions:o}=cf(e),a=(r=i.find(c=>ue(c,"topNode")))==null?void 0:r.name,s=Object.fromEntries(i.map(c=>{const u=n.filter(v=>v.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},d=e.reduce((v,b)=>{const y=ue(b,"extendNodeSchema",f);return{...v,...y?y(c):{}}},{}),h=mT({...d,content:Ne(ue(c,"content",f)),marks:Ne(ue(c,"marks",f)),group:Ne(ue(c,"group",f)),inline:Ne(ue(c,"inline",f)),atom:Ne(ue(c,"atom",f)),selectable:Ne(ue(c,"selectable",f)),draggable:Ne(ue(c,"draggable",f)),code:Ne(ue(c,"code",f)),whitespace:Ne(ue(c,"whitespace",f)),linebreakReplacement:Ne(ue(c,"linebreakReplacement",f)),defining:Ne(ue(c,"defining",f)),isolating:Ne(ue(c,"isolating",f)),attrs:Object.fromEntries(u.map(v=>{var b,y;return[v.name,{default:(b=v==null?void 0:v.attribute)==null?void 0:b.default,validate:(y=v==null?void 0:v.attribute)==null?void 0:y.validate}]}))}),p=Ne(ue(c,"parseHTML",f));p&&(h.parseDOM=p.map(v=>gT(v,u)));const g=ue(c,"renderHTML",f);g&&(h.toDOM=v=>g({node:v,HTMLAttributes:sg(v,u)}));const m=ue(c,"renderText",f);return m&&(h.toText=m),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=n.filter(m=>m.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:t},d=e.reduce((m,v)=>{const b=ue(v,"extendMarkSchema",f);return{...m,...b?b(c):{}}},{}),h=mT({...d,inclusive:Ne(ue(c,"inclusive",f)),excludes:Ne(ue(c,"excludes",f)),group:Ne(ue(c,"group",f)),spanning:Ne(ue(c,"spanning",f)),code:Ne(ue(c,"code",f)),attrs:Object.fromEntries(u.map(m=>{var v,b;return[m.name,{default:(v=m==null?void 0:m.attribute)==null?void 0:v.default,validate:(b=m==null?void 0:m.attribute)==null?void 0:b.validate}]}))}),p=Ne(ue(c,"parseHTML",f));p&&(h.parseDOM=p.map(m=>gT(m,u)));const g=ue(c,"renderHTML",f);return g&&(h.toDOM=m=>g({mark:m,HTMLAttributes:sg(m,u)})),[c.name,h]}));return new NL({topNode:a,nodes:s,marks:l})}function Nte(e){const t=e.filter((r,n)=>e.indexOf(r)!==n);return Array.from(new Set(t))}function Rx(e){return e.sort((r,n)=>{const i=ue(r,"priority")||100,o=ue(n,"priority")||100;return i>o?-1:i<o?1:0})}function n6(e){const t=Rx(Nx(e)),r=Nte(t.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),t}function i6(e,t,r){const{from:n,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=r||{};let s="";return e.nodesBetween(n,i,(l,c,u,f)=>{var d;l.isBlock&&c>n&&(s+=o);const h=a==null?void 0:a[l.type.name];if(h)return u&&(s+=h({node:l,pos:c,parent:u,index:f,range:t})),!1;l.isText&&(s+=(d=l==null?void 0:l.text)==null?void 0:d.slice(Math.max(n,c)-c,i-c))}),s}function Lte(e,t){const r={from:0,to:e.content.size};return i6(e,r,t)}function o6(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}function Rte(e,t){const r=At(t,e.schema),{from:n,to:i}=e.selection,o=[];e.doc.nodesBetween(n,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===r.name);return a?{...a.attrs}:{}}function a6(e,t){const r=Ym(typeof t=="string"?t:t.name,e.schema);return r==="node"?Rte(e,t):r==="mark"?ZR(e,t):{}}function Bte(e,t=JSON.stringify){const r={};return e.filter(n=>{const i=t(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function Fte(e){const t=Bte(e);return t.length===1?t:t.filter((r,n)=>!t.filter((o,a)=>a!==n).some(o=>r.oldRange.from>=o.oldRange.from&&r.oldRange.to<=o.oldRange.to&&r.newRange.from>=o.newRange.from&&r.newRange.to<=o.newRange.to))}function s6(e){const{mapping:t,steps:r}=e,n=[];return t.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=r[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const c=t.slice(o).map(s,-1),u=t.slice(o).map(l),f=t.invert().map(c,-1),d=t.invert().map(u);n.push({oldRange:{from:f,to:d},newRange:{from:c,to:u}})})}),Fte(n)}function Bx(e,t,r){const n=[];return e===t?r.resolve(e).marks().forEach(i=>{const o=r.resolve(e),a=Dx(o,i.type);a&&n.push({mark:i,...a})}):r.nodesBetween(e,t,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||n.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),n}var jte=(e,t,r,n=20)=>{const i=e.doc.resolve(r);let o=n,a=null;for(;o>0&&a===null;){const s=i.node(o);(s==null?void 0:s.type.name)===t?a=s:o-=1}return[a,o]};function Cb(e,t){return t.nodes[e]||t.marks[e]||null}function ap(e,t,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=e.find(o=>o.type===t&&o.name===n);return i?i.attribute.keepOnSplit:!1}))}var zte=(e,t=500)=>{let r="";const n=e.parentOffset;return e.parent.nodesBetween(Math.max(0,n-t),n,(i,o,a,s)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,n-o))}),r};function Iw(e,t,r={}){const{empty:n,ranges:i}=e.selection,o=t?uo(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>ag(f.attrs,r,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:f,$to:d})=>{const h=f.pos,p=d.pos;e.doc.nodesBetween(h,p,(g,m)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(h,m),b=Math.min(p,m+g.nodeSize),y=b-v;a+=y,s.push(...g.marks.map(w=>({mark:w,from:v,to:b})))})}),a===0)return!1;const l=s.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>ag(f.mark.attrs,r,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),c=s.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+c:l)>=a}function Hte(e,t,r={}){if(!t)return Jo(e,null,r)||Iw(e,null,r);const n=Ym(t,e.schema);return n==="node"?Jo(e,t,r):n==="mark"?Iw(e,t,r):!1}var Vte=(e,t)=>{const{$from:r,$to:n,$anchor:i}=e.selection;if(t){const o=Jm(s=>s.type.name===t)(e.selection);if(!o)return!1;const a=e.doc.resolve(o.pos+1);return i.pos+1===a.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},Ute=e=>{const{$from:t,$to:r}=e.selection;return!(t.parentOffset>0||t.pos!==r.pos)};function vT(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function bT(e,t){const{nodeExtensions:r}=cf(t),n=r.find(a=>a.name===e);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},o=Ne(ue(n,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Xm(e,{checkChildren:t=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((n=e.text)!=null?n:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(Xm(o,{ignoreWhitespace:r,checkChildren:t})||(i=!1))}),i}return!1}function l6(e){return e instanceof fe}function Wte(e,t,r){var n;const{selection:i}=t;let o=null;if(QR(i)&&(o=i.$cursor),o){const s=(n=e.storedMarks)!=null?n:o.marks();return o.parent.type.allowsMarkType(r)&&(!!r.isInSet(s)||!s.some(c=>c.type.excludes(r)))}const{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let c=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(r):!1;return e.doc.nodesBetween(s.pos,l.pos,(u,f,d)=>{if(c)return!1;if(u.isInline){const h=!d||d.type.allowsMarkType(r),p=!!r.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(r));c=h&&p}return!c}),c})}var Kte=(e,t={})=>({tr:r,state:n,dispatch:i})=>{const{selection:o}=r,{empty:a,ranges:s}=o,l=uo(e,n.schema);if(i)if(a){const c=ZR(n,l);r.addStoredMark(l.create({...c,...t}))}else s.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;n.doc.nodesBetween(u,f,(d,h)=>{const p=Math.max(h,u),g=Math.min(h+d.nodeSize,f);d.marks.find(v=>v.type===l)?d.marks.forEach(v=>{l===v.type&&r.addMark(p,g,l.create({...v.attrs,...t}))}):r.addMark(p,g,l.create(t))})});return Wte(n,r,l)},Gte=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0),qte=(e,t={})=>({state:r,dispatch:n,chain:i})=>{const o=At(e,r.schema);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>DO(o,{...a,...t})(r)?!0:s.clearNodes()).command(({state:s})=>DO(o,{...a,...t})(s,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Qte=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,i=Fa(e,0,n.content.size),o=fe.create(n,i);t.setSelection(o)}return!0},Yte=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=ve.atStart(n).from,s=ve.atEnd(n).to,l=Fa(i,a,s),c=Fa(o,a,s),u=ve.create(n,l,c);t.setSelection(u)}return!0},Jte=e=>({state:t,dispatch:r})=>{const n=At(e,t.schema);return QX(n)(t,r)};function yT(e,t){const r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){const n=r.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(n)}}var Xte=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:n,editor:i})=>{const{selection:o,doc:a}=t,{$from:s,$to:l}=o,c=i.extensionManager.attributes,u=ap(c,s.node().type.name,s.node().attrs);if(o instanceof fe&&o.node.isBlock)return!s.parentOffset||!Yi(a,s.pos)?!1:(n&&(e&&yT(r,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,d=s.depth===0?void 0:Tte(s.node(-1).contentMatchAt(s.indexAfter(-1)));let h=f&&d?[{type:d,attrs:u}]:void 0,p=Yi(t.doc,t.mapping.map(s.pos),1,h);if(!h&&!p&&Yi(t.doc,t.mapping.map(s.pos),1,d?[{type:d}]:void 0)&&(p=!0,h=d?[{type:d,attrs:u}]:void 0),n){if(p&&(o instanceof ve&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,h),d&&!f&&!s.parentOffset&&s.parent.type!==d)){const g=t.mapping.map(s.before()),m=t.doc.resolve(g);s.node(-1).canReplaceWith(m.index(),m.index()+1,d)&&t.setNodeMarkup(t.mapping.map(s.before()),d)}e&&yT(r,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},Zte=(e,t={})=>({tr:r,state:n,dispatch:i,editor:o})=>{var a;const s=At(e,n.schema),{$from:l,$to:c}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==s)return!1;const d=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=K.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let E=l.depth-b;E>=l.depth-3;E-=1)v=K.from(l.node(E).copy(v));const y=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...ap(d,l.node().type.name,l.node().attrs),...t},$=((a=s.contentMatch.defaultType)==null?void 0:a.createAndFill(w))||void 0;v=v.append(K.from(s.createAndFill(null,$)||void 0));const A=l.before(l.depth-(b-1));r.replace(A,l.after(-y),new J(v,4-b,0));let C=-1;r.doc.nodesBetween(A,r.doc.content.size,(E,_)=>{if(C>-1)return!1;E.isTextblock&&E.content.size===0&&(C=_+1)}),C>-1&&r.setSelection(ve.near(r.doc.resolve(C))),r.scrollIntoView()}return!0}const h=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,p={...ap(d,f.type.name,f.attrs),...t},g={...ap(d,l.node().type.name,l.node().attrs),...t};r.delete(l.pos,c.pos);const m=h?[{type:s,attrs:p},{type:h,attrs:g}]:[{type:s,attrs:p}];if(!Yi(r.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:b}=n,{splittableMarks:y}=o.extensionManager,w=b||v.$to.parentOffset&&v.$from.marks();if(r.split(l.pos,2,m).scrollIntoView(),!w||!i)return!0;const $=w.filter(A=>y.includes(A.type.name));r.ensureMarks($)}return!0},Eb=(e,t)=>{const r=Jm(a=>a.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=e.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ca(e.doc,r.pos)&&e.join(r.pos),!0},kb=(e,t)=>{const r=Jm(a=>a.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=e.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ca(e.doc,n)&&e.join(n),!0},ere=(e,t,r,n={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,h=At(e,a.schema),p=At(t,a.schema),{selection:g,storedMarks:m}=a,{$from:v,$to:b}=g,y=v.blockRange(b),w=m||g.$to.parentOffset&&g.$from.marks();if(!y)return!1;const $=Jm(A=>bT(A.type.name,f))(g);if(y.depth>=1&&$&&y.depth-$.depth<=1){if($.node.type===h)return c.liftListItem(p);if(bT($.node.type.name,f)&&h.validContent($.node.content)&&s)return l().command(()=>(o.setNodeMarkup($.pos,h),!0)).command(()=>Eb(o,h)).command(()=>kb(o,h)).run()}return!r||!w||!s?l().command(()=>u().wrapInList(h,n)?!0:c.clearNodes()).wrapInList(h,n).command(()=>Eb(o,h)).command(()=>kb(o,h)).run():l().command(()=>{const A=u().wrapInList(h,n),C=w.filter(E=>d.includes(E.type.name));return o.ensureMarks(C),A?!0:c.clearNodes()}).wrapInList(h,n).command(()=>Eb(o,h)).command(()=>kb(o,h)).run()},tre=(e,t={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:o=!1}=r,a=uo(e,n.schema);return Iw(n,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},rre=(e,t,r={})=>({state:n,commands:i})=>{const o=At(e,n.schema),a=At(t,n.schema),s=Jo(n,o,r);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...r})},nre=(e,t={})=>({state:r,commands:n})=>{const i=At(e,r.schema);return Jo(r,i,t)?n.lift(i):n.wrapIn(i,t)},ire=()=>({state:e,dispatch:t})=>{const r=e.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const a=e.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},ore=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,{empty:n,ranges:i}=r;return n||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},are=(e,t={})=>({tr:r,state:n,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=r,l=uo(e,n.schema),{$from:c,empty:u,ranges:f}=s;if(!i)return!0;if(u&&a){let{from:d,to:h}=s;const p=(o=c.marks().find(m=>m.type===l))==null?void 0:o.attrs,g=Dx(c,l,p);g&&(d=g.from,h=g.to),r.removeMark(d,h,l)}else f.forEach(d=>{r.removeMark(d.$from.pos,d.$to.pos,l)});return r.removeStoredMark(l),!0},sre=(e,t={})=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=Ym(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=At(e,n.schema)),s==="mark"&&(a=uo(e,n.schema)),i&&r.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let f,d,h,p;r.selection.empty?n.doc.nodesBetween(c,u,(g,m)=>{o&&o===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),f=m,d=g)}):n.doc.nodesBetween(c,u,(g,m)=>{m<c&&o&&o===g.type&&(h=Math.max(m,c),p=Math.min(m+g.nodeSize,u),f=m,d=g),m>=c&&m<=u&&(o&&o===g.type&&r.setNodeMarkup(m,void 0,{...g.attrs,...t}),a&&g.marks.length&&g.marks.forEach(v=>{if(a===v.type){const b=Math.max(m,c),y=Math.min(m+g.nodeSize,u);r.addMark(b,y,a.create({...v.attrs,...t}))}}))}),d&&(f!==void 0&&r.setNodeMarkup(f,void 0,{...d.attrs,...t}),a&&d.marks.length&&d.marks.forEach(g=>{a===g.type&&r.addMark(h,p,a.create({...g.attrs,...t}))}))}),!0):!1},lre=(e,t={})=>({state:r,dispatch:n})=>{const i=At(e,r.schema);return HX(i,t)(r,n)},cre=(e,t={})=>({state:r,dispatch:n})=>{const i=At(e,r.schema);return VX(i,t)(r,n)},ure=class{constructor(){this.callbacks={}}on(t,r){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),this}emit(t,...r){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,r)),this}off(t,r){const n=this.callbacks[t];return n&&(r?this.callbacks[t]=n.filter(i=>i!==r):delete this.callbacks[t]),this}once(t,r){const n=(...i)=>{this.off(t,n),r.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},jf=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},fre=(e,t)=>{if(Px(t))return t.exec(e);const r=t(e);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=e,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Fd(e){var t;const{editor:r,from:n,to:i,text:o,rules:a,plugin:s}=e,{view:l}=r;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(d=>d.type.spec.code))return!1;let u=!1;const f=zte(c)+o;return a.forEach(d=>{if(u)return;const h=fre(f,d.find);if(!h)return;const p=l.state.tr,g=qm({state:l.state,transaction:p}),m={from:n-(h[0].length-o.length),to:i},{commands:v,chain:b,can:y}=new Qm({editor:r,state:g});d.handler({state:g,range:m,match:h,commands:v,chain:b,can:y})===null||!p.steps.length||(d.undoable&&p.setMeta(s,{transform:p,from:n,to:i,text:o}),l.dispatch(p),u=!0)}),u}function dre(e){const{editor:t,rules:r}=e,n=new st({state:{init(){return null},apply(i,o,a){const s=i.getMeta(n);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=Lx(K.from(u),a.schema);const{from:f}=l,d=f+u.length;Fd({editor:t,from:f,to:d,text:u,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return Fd({editor:t,from:o,to:a,text:s,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Fd({editor:t,from:o.pos,to:o.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?Fd({editor:t,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function hre(e){return Object.prototype.toString.call(e).slice(8,-1)}function jd(e){return hre(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function c6(e,t){const r={...e};return jd(e)&&jd(t)&&Object.keys(t).forEach(n=>{jd(t[n])&&jd(e[n])?r[n]=c6(e[n],t[n]):r[n]=t[n]}),r}var Fx=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Ne(ue(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ne(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>c6(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},fo=class u6 extends Fx{constructor(){super(...arguments),this.type="mark"}static create(t={}){const r=typeof t=="function"?t():t;return new u6(r)}static handleExit({editor:t,mark:r}){const{tr:n}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>(c==null?void 0:c.type.name)===r.name))return!1;const l=a.find(c=>(c==null?void 0:c.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),t.view.dispatch(n),!0}return!1}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function pre(e){return typeof e=="number"}var gre=class{constructor(e){this.find=e.find,this.handler=e.handler}},mre=(e,t,r)=>{if(Px(t))return[...e.matchAll(t)];const n=t(e,r);return n?n.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function vre(e){const{editor:t,state:r,from:n,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new Qm({editor:t,state:r}),f=[];return r.doc.nodesBetween(n,i,(h,p)=>{var g,m,v,b,y;if((m=(g=h.type)==null?void 0:g.spec)!=null&&m.code||!(h.isText||h.isTextblock||h.isInline))return;const w=(y=(b=(v=h.content)==null?void 0:v.size)!=null?b:h.nodeSize)!=null?y:0,$=Math.max(n,p),A=Math.min(i,p+w);if($>=A)return;const C=h.isText?h.text||"":h.textBetween($-p,A-p,void 0,"");mre(C,o.find,a).forEach(_=>{if(_.index===void 0)return;const N=$+_.index+1,M=N+_[0].length,O={from:r.tr.mapping.map(N),to:r.tr.mapping.map(M)},D=o.handler({state:r,range:O,match:_,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});f.push(D)})}),f.every(h=>h!==null)}var zd=null,bre=e=>{var t;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=r.clipboardData)==null||t.setData("text/html",e),r};function yre(e){const{editor:t,rules:r}=e;let n=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}const l=({state:u,from:f,to:d,rule:h,pasteEvt:p})=>{const g=u.tr,m=qm({state:u,transaction:g});if(!(!vre({editor:t,state:m,from:Math.max(f-1,0),to:d.b-1,rule:h,pasteEvent:p,dropEvent:s})||!g.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return r.map(u=>new st({view(f){const d=p=>{var g;n=(g=f.dom.parentElement)!=null&&g.contains(p.target)?f.dom.parentElement:null,n&&(zd=t)},h=()=>{zd&&(zd=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,d)=>{if(o=n===f.dom.parentElement,s=d,!o){const h=zd;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(f,d)=>{var h;const p=(h=d.clipboardData)==null?void 0:h.getData("text/html");return a=d,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(f,d,h)=>{const p=f[0],g=p.getMeta("uiEvent")==="paste"&&!i,m=p.getMeta("uiEvent")==="drop"&&!o,v=p.getMeta("applyPasteRules"),b=!!v;if(!g&&!m&&!b)return;if(b){let{text:$}=v;typeof $=="string"?$=$:$=Lx(K.from($),h.schema);const{from:A}=v,C=A+$.length,E=bre($);return l({rule:u,state:h,from:A,to:{b:C},pasteEvt:E})}const y=d.doc.content.findDiffStart(h.doc.content),w=d.doc.content.findDiffEnd(h.doc.content);if(!(!pre(y)||!w||y===w.b))return l({rule:u,state:h,from:y,to:w,pasteEvt:a})}}))}var Zm=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=n6(e),this.schema=_te(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Cb(t.name,this.schema)},n=ue(t,"addCommands",r);return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this;return Rx([...this.extensions].reverse()).flatMap(n=>{const i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Cb(n.name,this.schema)},o=[],a=ue(n,"addKeyboardShortcuts",i);let s={};if(n.type==="mark"&&ue(n,"exitable",i)&&(s.ArrowRight=()=>fo.handleExit({editor:e,mark:n})),a){const d=Object.fromEntries(Object.entries(a()).map(([h,p])=>[h,()=>p({editor:e})]));s={...s,...d}}const l=Ree(s);o.push(l);const c=ue(n,"addInputRules",i);if(vT(n,e.options.enableInputRules)&&c){const d=c();if(d&&d.length){const h=dre({editor:e,rules:d}),p=Array.isArray(h)?h:[h];o.push(...p)}}const u=ue(n,"addPasteRules",i);if(vT(n,e.options.enablePasteRules)&&u){const d=u();if(d&&d.length){const h=yre({editor:e,rules:d});o.push(...h)}}const f=ue(n,"addProseMirrorPlugins",i);if(f){const d=f();o.push(...d)}return o})}get attributes(){return r6(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=cf(this.extensions);return Object.fromEntries(t.filter(r=>!!ue(r,"addNodeView")).map(r=>{const n=this.attributes.filter(s=>s.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:At(r.name,this.schema)},o=ue(r,"addNodeView",i);if(!o)return[];const a=(s,l,c,u,f)=>{const d=sg(s,n);return o()({node:s,view:l,getPos:c,decorations:u,innerDecorations:f,editor:e,extension:r,HTMLAttributes:d})};return[r.name,a]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=cf(this.extensions);return Object.fromEntries(t.filter(r=>!!ue(r,"addMarkView")).map(r=>{const n=this.attributes.filter(s=>s.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:uo(r.name,this.schema)},o=ue(r,"addMarkView",i);if(!o)return[];const a=(s,l,c)=>{const u=sg(s,n);return o()({mark:s,view:l,inline:c,editor:e,extension:r,HTMLAttributes:u,updateAttributes:f=>{Dre(s,e,f)}})};return[r.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var r;const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Cb(t.name,this.schema)};t.type==="mark"&&((r=Ne(ue(t,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(t.name);const i=ue(t,"onBeforeCreate",n),o=ue(t,"onCreate",n),a=ue(t,"onUpdate",n),s=ue(t,"onSelectionUpdate",n),l=ue(t,"onTransaction",n),c=ue(t,"onFocus",n),u=ue(t,"onBlur",n),f=ue(t,"onDestroy",n);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}};Zm.resolve=n6;Zm.sort=Rx;Zm.flatten=Nx;var $re={};Mx($re,{ClipboardTextSerializer:()=>d6,Commands:()=>h6,Delete:()=>p6,Drop:()=>g6,Editable:()=>m6,FocusEvents:()=>b6,Keymap:()=>y6,Paste:()=>$6,Tabindex:()=>w6,focusEventsPluginKey:()=>v6});var je=class f6 extends Fx{constructor(){super(...arguments),this.type="extension"}static create(t={}){const r=typeof t=="function"?t():t;return new f6(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}},d6=je.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new st({key:new Wt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:r}=e,{doc:n,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(u=>u.$from.pos)),s=Math.max(...o.map(u=>u.$to.pos)),l=o6(r);return i6(n,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),h6=je.create({name:"commands",addCommands(){return{...GR}}}),p6=je.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var r,n,i;const o=()=>{var a,s,l,c;if((c=(l=(s=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:s.filterTransaction)==null?void 0:l.call(s,e))!=null?c:e.getMeta("y-sync$"))return;const u=e6(e.before,[e,...t]);s6(u).forEach(h=>{u.mapping.mapResult(h.oldRange.from).deletedAfter&&u.mapping.mapResult(h.oldRange.to).deletedBefore&&u.before.nodesBetween(h.oldRange.from,h.oldRange.to,(p,g)=>{const m=g+p.nodeSize-2,v=h.oldRange.from<=g&&m<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:g,to:m,newFrom:u.mapping.map(g),newTo:u.mapping.map(m),deletedRange:h.oldRange,newRange:h.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const d=u.mapping;u.steps.forEach((h,p)=>{var g,m;if(h instanceof Bn){const v=d.slice(p).map(h.from,-1),b=d.slice(p).map(h.to),y=d.invert().map(v,-1),w=d.invert().map(b),$=(g=u.doc.nodeAt(v-1))==null?void 0:g.marks.some(C=>C.eq(h.mark)),A=(m=u.doc.nodeAt(b))==null?void 0:m.marks.some(C=>C.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:y,to:w},newRange:{from:v,to:b},partial:!!(A||$),editor:this.editor,transaction:e,combinedTransform:u})}})};(i=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||i?setTimeout(o,0):o()}}),g6=je.create({name:"drop",addProseMirrorPlugins(){return[new st({key:new Wt("tiptapDrop"),props:{handleDrop:(e,t,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:r,moved:n})}}})]}}),m6=je.create({name:"editable",addProseMirrorPlugins(){return[new st({key:new Wt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),v6=new Wt("focusEvents"),b6=je.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new st({key:v6,props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;const n=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,r)=>{e.isFocused=!1;const n=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),y6=je.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:u,$anchor:f}=l,{pos:d,parent:h}=f,p=f.parent.isTextblock&&d>0?s.doc.resolve(d-1):f,g=p.parent.type.spec.isolating,m=f.pos-f.parentOffset,v=g&&p.parent.childCount===1?m===f.pos:Ae.atStart(c).from===d;return!u||!h.type.isTextblock||h.textContent.length||!v||v&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _x()||XR()?o:i},addProseMirrorPlugins(){return[new st({key:new Wt("clearDocument"),appendTransaction:(e,t,r)=>{if(e.some(g=>g.getMeta("composition")))return;const n=e.some(g=>g.docChanged)&&!t.doc.eq(r.doc),i=e.some(g=>g.getMeta("preventClearDocument"));if(!n||i)return;const{empty:o,from:a,to:s}=t.selection,l=Ae.atStart(t.doc).from,c=Ae.atEnd(t.doc).to;if(o||!(a===l&&s===c)||!Xm(r.doc))return;const d=r.tr,h=qm({state:r,transaction:d}),{commands:p}=new Qm({editor:this.editor,state:h});if(p.clearNodes(),!!d.steps.length)return d}})]}}),$6=je.create({name:"paste",addProseMirrorPlugins(){return[new st({key:new Wt("tiptapPaste"),props:{handlePaste:(e,t,r)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:r})}}})]}}),w6=je.create({name:"tabindex",addProseMirrorPlugins(){return[new st({key:new Wt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),wre=class ul{constructor(t,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=r,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(t);return new ul(r,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new ul(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new ul(t,this.editor)}get children(){const t=[];return this.node.content.forEach((r,n)=>{const i=r.isBlock&&!r.isTextblock,o=r.isAtom&&!r.isText,a=this.pos+n+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;const l=new ul(s,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),t.push(new ul(s,this.editor,i,i?r:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===t)if(Object.keys(r).length>0){const o=i.node.attrs,a=Object.keys(r);for(let s=0;s<a.length;s+=1){const l=a[s];if(o[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(t,r={}){return this.querySelectorAll(t,r,!0)[0]||null}querySelectorAll(t,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(r);return this.children.forEach(a=>{n&&i.length>0||(a.node.type.name===t&&o.every(l=>r[l]===a.node.attrs[l])&&i.push(a),!(n&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,r,n))))}),i}setAttribute(t){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(r)}},Are=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function xre(e,t,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var Sre=class extends ure{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:o})=>this.options.onDrop(n,i,o)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),r=YR(t,this.options.autofocus);this.editorState=vl.create({doc:t,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=xre(Are,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const r=t6(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;r=r.filter(a=>!a.key.startsWith(o))}),t.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[m6,d6.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),h6,b6,y6,w6,g6,$6,p6].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Zm(n,this)}createCommandManager(){this.commandManager=new Qm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Tw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=Tw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new WR(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:t,transactions:r}=this.state.applyTransaction(e),n=!this.state.selection.eq(t.selection),i=r.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=r.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),s=a==null?void 0:a.getMeta("focus"),l=a==null?void 0:a.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(e.getMeta("preventUpdate")||!r.some(c=>c.docChanged)||o.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return a6(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,n=typeof e=="string"?t:e;return Hte(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Lx(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Lte(this.state.doc,{blockSeparator:t,textSerializers:{...o6(this.schema),...r}})}get isEmpty(){return Xm(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new wre(t,this)}get $doc(){return this.$pos(0)}};function rs(e){return new jf({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Ne(e.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:o}=t,a=n[n.length-1],s=n[0];if(a){const l=s.search(/\S/),c=r.from+s.indexOf(a),u=c+a.length;if(Bx(r.from,r.to,t.doc).filter(h=>h.mark.type.excluded.find(g=>g===e.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<r.to&&o.delete(u,r.to),c>r.from&&o.delete(r.from+l,c);const d=r.from+l+a.length;o.addMark(r.from+l,d,e.type.create(i||{})),o.removeStoredMark(e.type)}},undoable:e.undoable})}function Cre(e){return new jf({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Ne(e.getAttributes,void 0,n)||{},{tr:o}=t,a=r.from;let s=r.to;const l=e.type.create(i);if(n[1]){const c=n[0].lastIndexOf(n[1]);let u=a+c;u>s?u=s:s=u+n[1].length;const f=n[0][n[0].length-1];o.insertText(f,a+n[0].length-1),o.replaceWith(u,s,l)}else if(n[0]){const c=e.type.isInline?a:a-1;o.insert(c,e.type.create(i)).delete(o.mapping.map(a),o.mapping.map(s))}o.scrollIntoView()},undoable:e.undoable})}function Mw(e){return new jf({find:e.find,handler:({state:t,range:r,match:n})=>{const i=t.doc.resolve(r.from),o=Ne(e.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,o)},undoable:e.undoable})}function lt(e){return new jf({find:e.find,handler:({state:t,range:r,match:n})=>{let i=e.replace,o=r.from;const a=r.to;if(n[1]){const s=n[0].lastIndexOf(n[1]);i+=n[0].slice(s+n[1].length),o+=s;const l=o-a;l>0&&(i=n[0].slice(s-l,s)+i,o=a)}t.tr.insertText(i,o,a)},undoable:e.undoable})}function Ul(e){return new jf({find:e.find,handler:({state:t,range:r,match:n,chain:i})=>{const o=Ne(e.getAttributes,void 0,n)||{},a=t.tr.delete(r.from,r.to),l=a.doc.resolve(r.from).blockRange(),c=l&&gx(l,e.type,o);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:f,storedMarks:d}=t,{splittableMarks:h}=e.editor.extensionManager,p=d||f.$to.parentOffset&&f.$from.marks();if(p){const g=p.filter(m=>h.includes(m.type.name));a.ensureMarks(g)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,o).run()}const u=a.doc.resolve(r.from-1).nodeBefore;u&&u.type===e.type&&ca(a.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(n,u))&&a.join(r.from-1)},undoable:e.undoable})}function Ere(e,t){const{selection:r}=e,{$from:n}=r;if(r instanceof fe){const o=n.index();return n.parent.canReplaceWith(o,o+1,t)}let i=n.depth;for(;i>=0;){const o=n.index(i);if(n.node(i).contentMatchAt(o).matchType(t))return!0;i-=1}return!1}var kre={};Mx(kre,{createAtomBlockMarkdownSpec:()=>Ore,createBlockMarkdownSpec:()=>Tre,createInlineMarkdownSpec:()=>Pre,parseAttributes:()=>jx,parseIndentedBlocks:()=>Pw,renderNestedMarkdownContent:()=>Hx,serializeAttributes:()=>zx});function jx(e){if(!(e!=null&&e.trim()))return{};const t={},r=[],n=e.replace(/["']([^"']*)["']/g,c=>(r.push(c),`__QUOTED_${r.length-1}__`)),i=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));t.class=c.join(" ")}const o=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(t.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(a)).forEach(([,c,u])=>{var f;const d=parseInt(((f=u.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),h=r[d];h&&(t[c]=h.slice(1,-1))});const l=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function zx(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(n=>t.push(`.${n}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?t.push(r):n!==!1&&n!=null&&t.push(`${r}="${String(n)}"`))}),t.join(" ")}function Ore(e){const{nodeName:t,name:r,parseAttributes:n=jx,serializeAttributes:i=zx,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:s}=e,l=r||t,c=u=>{if(!s)return u;const f={};return s.forEach(d=>{d in u&&(f[d]=u[d])}),f};return{parseMarkdown:(u,f)=>{const d={...o,...u.attributes};return f.createNode(t,d,[])},markdownTokenizer:{name:t,level:"block",start(u){var f;const d=new RegExp(`^:::${l}(?:\\s|$)`,"m"),h=(f=u.match(d))==null?void 0:f.index;return h!==void 0?h:-1},tokenize(u,f,d){const h=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),p=u.match(h);if(!p)return;const g=p[1]||"",m=n(g);if(!a.find(b=>!(b in m)))return{type:t,raw:p[0],attributes:m}}},renderMarkdown:u=>{const f=c(u.attrs||{}),d=i(f),h=d?` {${d}}`:"";return`:::${l}${h} :::`}}}function Tre(e){const{nodeName:t,name:r,getContent:n,parseAttributes:i=jx,serializeAttributes:o=zx,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=r||t,u=f=>{if(!l)return f;const d={};return l.forEach(h=>{h in f&&(d[h]=f[h])}),d};return{parseMarkdown:(f,d)=>{let h;if(n){const g=n(f);h=typeof g=="string"?[{type:"text",text:g}]:g}else s==="block"?h=d.parseChildren(f.tokens||[]):h=d.parseInline(f.tokens||[]);const p={...a,...f.attributes};return d.createNode(t,p,h)},markdownTokenizer:{name:t,level:"block",start(f){var d;const h=new RegExp(`^:::${c}`,"m"),p=(d=f.match(h))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(f,d,h){var p;const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),m=f.match(g);if(!m)return;const[v,b=""]=m,y=i(b);let w=1;const $=v.length;let A="";const C=/^:::([\w-]*)(\s.*)?/gm,E=f.slice($);for(C.lastIndex=0;;){const _=C.exec(E);if(_===null)break;const N=_.index,M=_[1];if(!((p=_[2])!=null&&p.endsWith(":::"))){if(M)w+=1;else if(w-=1,w===0){const O=E.slice(0,N);A=O.trim();const D=f.slice(0,$+N+_[0].length);let S=[];if(A)if(s==="block")for(S=h.blockTokens(O),S.forEach(k=>{k.text&&(!k.tokens||k.tokens.length===0)&&(k.tokens=h.inlineTokens(k.text))});S.length>0;){const k=S[S.length-1];if(k.type==="paragraph"&&(!k.text||k.text.trim()===""))S.pop();else break}else S=h.inlineTokens(A);return{type:t,raw:D,attributes:y,content:A,tokens:S}}}}}},renderMarkdown:(f,d)=>{const h=u(f.attrs||{}),p=o(h),g=p?` {${p}}`:"",m=d.renderChildren(f.content||[],`

`);return`:::${c}${g}

${m}

:::`}}}function Ire(e){if(!e.trim())return{};const t={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(e);for(;n!==null;){const[,i,o,a]=n;t[i]=o||a,n=r.exec(e)}return t}function Mre(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,r])=>`${t}="${r}"`).join(" ")}function Pre(e){const{nodeName:t,name:r,getContent:n,parseAttributes:i=Ire,serializeAttributes:o=Mre,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=r||t,u=d=>{if(!l)return d;const h={};return l.forEach(p=>{p in d&&(h[p]=d[p])}),h},f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(d,h)=>{const p={...a,...d.attributes};if(s)return h.createNode(t,p);const g=n?n(d):d.content||"";return g?h.createNode(t,p,[h.createTextNode(g)]):h.createNode(t,p,[])},markdownTokenizer:{name:t,level:"inline",start(d){const h=s?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),p=d.match(h),g=p==null?void 0:p.index;return g!==void 0?g:-1},tokenize(d,h,p){const g=s?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),m=d.match(g);if(!m)return;let v="",b="";if(s){const[,w]=m;b=w}else{const[,w,$]=m;b=w,v=$||""}const y=i(b.trim());return{type:t,raw:m[0],content:v.trim(),attributes:y}}},renderMarkdown:d=>{let h="";n?h=n(d):d.content&&d.content.length>0&&(h=d.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const p=u(d.attrs||{}),g=o(p),m=g?` ${g}`:"";return s?`[${c}${m}]`:`[${c}${m}]${h}[/${c}]`}}}function Pw(e,t,r){var n,i,o,a;const s=e.split(`
`),l=[];let c="",u=0;const f=t.baseIndentSize||2;for(;u<s.length;){const d=s[u],h=d.match(t.itemPattern);if(!h){if(l.length>0)break;if(d.trim()===""){u+=1;continue}else return}const p=t.extractItemData(h),{indentLevel:g,mainContent:m}=p;c=`${c}${d}
`;const v=[m];for(u+=1;u<s.length;){const $=s[u];if($.trim()===""){const C=s.slice(u+1).findIndex(N=>N.trim()!=="");if(C===-1)break;if((((i=(n=s[u+1+C].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:i.length)||0)>g){v.push($),c=`${c}${$}
`,u+=1;continue}else break}if((((a=(o=$.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>g)v.push($),c=`${c}${$}
`,u+=1;else break}let b;const y=v.slice(1);if(y.length>0){const $=y.map(A=>A.slice(g+f)).join(`
`);$.trim()&&(t.customNestedParser?b=t.customNestedParser($):b=r.blockTokens($))}const w=t.createToken(p,b);l.push(w)}if(l.length!==0)return{items:l,raw:c.trim()}}function Hx(e,t,r,n){if(!e||!Array.isArray(e.content))return"";const i=typeof r=="function"?r(n):r,[o,...a]=e.content,s=t.renderChildren([o]),l=[`${i}${s}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const f=u.split(`
`).map(d=>d?t.indent(d):"").join(`
`);l.push(f)}}),l.join(`
`)}function Dre(e,t,r={}){const{state:n}=t,{doc:i,tr:o}=n,a=e;i.descendants((s,l)=>{const c=o.mapping.map(l),u=o.mapping.map(l)+s.nodeSize;let f=null;if(s.marks.forEach(h=>{if(h!==a)return!1;f=h}),!f)return;let d=!1;if(Object.keys(r).forEach(h=>{r[h]!==f.attrs[h]&&(d=!0)}),d){const h=e.type.create({...e.attrs,...r});o.removeMark(c,u,e.type),o.addMark(c,u,h)}}),o.docChanged&&t.view.dispatch(o)}var nn=class A6 extends Fx{constructor(){super(...arguments),this.type="node"}static create(t={}){const r=typeof t=="function"?t():t;return new A6(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Xo(e){return new gre({find:e.find,handler:({state:t,range:r,match:n,pasteEvent:i})=>{const o=Ne(e.getAttributes,void 0,n,i);if(o===!1||o===null)return null;const{tr:a}=t,s=n[n.length-1],l=n[0];let c=r.to;if(s){const u=l.search(/\S/),f=r.from+l.indexOf(s),d=f+s.length;if(Bx(r.from,r.to,t.doc).filter(p=>p.mark.type.excluded.find(m=>m===e.type&&m!==p.mark.type)).filter(p=>p.to>f).length)return null;d<r.to&&a.delete(d,r.to),f>r.from&&a.delete(r.from+u,f),c=r.from+u+s.length,a.addMark(r.from+u,c,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var lg=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:r,...n}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,n,r]},_re=/^\s*>\s$/,Nre=nn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return lg("blockquote",{...at(this.options.HTMLAttributes,e),children:lg("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const r=[];return e.content.forEach(i=>{const a=t.renderChildren(i).split(`
`).map(s=>`> ${s}`).join(`
`);r.push(a)}),r.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ul({find:_re,type:this.type})]}}),Lre=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Rre=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Bre=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Fre=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,jre=fo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return lg("strong",{...at(this.options.HTMLAttributes,e),children:lg("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[rs({find:Lre,type:this.type}),rs({find:Bre,type:this.type})]},addPasteRules(){return[Xo({find:Rre,type:this.type}),Xo({find:Fre,type:this.type})]}}),zre=/(^|[^`])`([^`]+)`(?!`)$/,Hre=/(^|[^`])`([^`]+)`(?!`)/g,Vre=fo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[rs({find:zre,type:this.type})]},addPasteRules(){return[Xo({find:Hre,type:this.type})]}}),Ob=4,Ure=/^```([a-z]+)?[\s\n]$/,Wre=/^~~~([a-z]+)?[\s\n]$/,Kre=nn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Ob,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:r}=this.options;if(!r)return null;const o=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",at(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var r;return((r=e.raw)==null?void 0:r.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var r;let n="";const i=((r=e.attrs)==null?void 0:r.language)||"";return e.content?n=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):n=`\`\`\`${i}

\`\`\``,n},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,r=t.pos===1;return!e||t.parent.type.name!==this.name?!1:r||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Ob,{state:n}=e,{selection:i}=n,{$from:o,empty:a}=i;if(o.parent.type!==this.type)return!1;const s=" ".repeat(r);return a?e.commands.insertContent(s):e.commands.command(({tr:l})=>{const{from:c,to:u}=i,h=n.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>s+p).join(`
`);return l.replaceWith(c,u,n.schema.text(h)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Ob,{state:n}=e,{selection:i}=n,{$from:o,empty:a}=i;return o.parent.type!==this.type?!1:a?e.commands.command(({tr:s})=>{var l;const{pos:c}=o,u=o.start(),f=o.end(),h=n.doc.textBetween(u,f,`
`,`
`).split(`
`);let p=0,g=0;const m=c-u;for(let A=0;A<h.length;A+=1){if(g+h[A].length>=m){p=A;break}g+=h[A].length+1}const b=((l=h[p].match(/^ */))==null?void 0:l[0])||"",y=Math.min(b.length,r);if(y===0)return!0;let w=u;for(let A=0;A<p;A+=1)w+=h[A].length+1;return s.delete(w,w+y),c-w<=y&&s.setSelection(ve.create(s.doc,w)),!0}):e.commands.command(({tr:s})=>{const{from:l,to:c}=i,d=n.doc.textBetween(l,c,`
`,`
`).split(`
`).map(h=>{var p;const g=((p=h.match(/^ */))==null?void 0:p[0])||"",m=Math.min(g.length,r);return h.slice(m)}).join(`
`);return s.replaceWith(l,c,n.schema.text(d)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:r}=t,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const o=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!o||!a?!1:e.chain().command(({tr:s})=>(s.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:r,doc:n}=t,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();return s===void 0?!1:n.nodeAt(s)?e.commands.command(({tr:c})=>(c.setSelection(Ae.near(n.resolve(s))),!0)):e.commands.exitCode()}}},addInputRules(){return[Mw({find:Ure,type:this.type,getAttributes:e=>({language:e[1]})}),Mw({find:Wre,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new st({key:new Wt("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const r=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,o=i==null?void 0:i.mode;if(!r||!o)return!1;const{tr:a,schema:s}=e.state,l=s.text(r.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(ve.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),Gre=nn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),qre=nn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",at(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:(e,t)=>t.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=n.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&a){const f=l.filter(d=>s.includes(d.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Qre=nn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,at(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var r;const n=(r=e.attrs)!=null&&r.level?parseInt(e.attrs.level,10):1,i="#".repeat(n);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Mw({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),Yre=nn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",at(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!Ere(t,t.schema.nodes[this.name]))return!1;const{selection:r}=t,{$to:n}=r,i=e();return l6(r)?i.insertContentAt(n.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:a,dispatch:s})=>{if(s){const{$to:l}=a.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(ve.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection(fe.create(a.doc,l.pos)):a.setSelection(ve.create(a.doc,l.pos));else{const u=o.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,f=u==null?void 0:u.create();f&&(a.insert(c,f),a.setSelection(ve.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Cre({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Jre=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Xre=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Zre=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,ene=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,tne=fo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",at(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[rs({find:Jre,type:this.type}),rs({find:Zre,type:this.type})]},addPasteRules(){return[Xo({find:Xre,type:this.type}),Xo({find:ene,type:this.type})]}});const rne="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",nne="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Dw="numeric",_w="ascii",Nw="alpha",Mu="asciinumeric",pu="alphanumeric",Lw="domain",x6="emoji",ine="scheme",one="slashscheme",Tb="whitespace";function ane(e,t){return e in t||(t[e]=[]),t[e]}function ja(e,t,r){t[Dw]&&(t[Mu]=!0,t[pu]=!0),t[_w]&&(t[Mu]=!0,t[Nw]=!0),t[Mu]&&(t[pu]=!0),t[Nw]&&(t[pu]=!0),t[pu]&&(t[Lw]=!0),t[x6]&&(t[Lw]=!0);for(const n in t){const i=ane(n,r);i.indexOf(e)<0&&i.push(e)}}function sne(e,t){const r={};for(const n in t)t[n].indexOf(e)>=0&&(r[n]=!0);return r}function Ir(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Ir.groups={};Ir.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let n=0;n<t.jr.length;n++){const i=t.jr[n][0],o=t.jr[n][1];if(o&&i.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,n){for(let i=0;i<e.length;i++)this.tt(e[i],t,r,n)},tr(e,t,r,n){n=n||Ir.groups;let i;return t&&t.j?i=t:(i=new Ir(t),r&&n&&ja(t,r,n)),this.jr.push([e,i]),i},ts(e,t,r,n){let i=this;const o=e.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(e[a]);return i.tt(e[o-1],t,r,n)},tt(e,t,r,n){n=n||Ir.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let a,s=i.go(e);if(s?(a=new Ir,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new Ir,o){if(n)if(a.t&&typeof a.t=="string"){const l=Object.assign(sne(a.t,n),r);ja(o,l,n)}else r&&ja(o,r,n);a.t=o}return i.j[e]=a,a}};const we=(e,t,r,n,i)=>e.ta(t,r,n,i),it=(e,t,r,n,i)=>e.tr(t,r,n,i),$T=(e,t,r,n,i)=>e.ts(t,r,n,i),G=(e,t,r,n,i)=>e.tt(t,r,n,i),Fi="WORD",Rw="UWORD",S6="ASCIINUMERICAL",C6="ALPHANUMERICAL",uf="LOCALHOST",Bw="TLD",Fw="UTLD",sp="SCHEME",fl="SLASH_SCHEME",Vx="NUM",jw="WS",Ux="NL",Pu="OPENBRACE",Du="CLOSEBRACE",cg="OPENBRACKET",ug="CLOSEBRACKET",fg="OPENPAREN",dg="CLOSEPAREN",hg="OPENANGLEBRACKET",pg="CLOSEANGLEBRACKET",gg="FULLWIDTHLEFTPAREN",mg="FULLWIDTHRIGHTPAREN",vg="LEFTCORNERBRACKET",bg="RIGHTCORNERBRACKET",yg="LEFTWHITECORNERBRACKET",$g="RIGHTWHITECORNERBRACKET",wg="FULLWIDTHLESSTHAN",Ag="FULLWIDTHGREATERTHAN",xg="AMPERSAND",Sg="APOSTROPHE",Cg="ASTERISK",Eo="AT",Eg="BACKSLASH",kg="BACKTICK",Og="CARET",Po="COLON",Wx="COMMA",Tg="DOLLAR",ri="DOT",Ig="EQUALS",Kx="EXCLAMATION",un="HYPHEN",_u="PERCENT",Mg="PIPE",Pg="PLUS",Dg="POUND",Nu="QUERY",Gx="QUOTE",E6="FULLWIDTHMIDDLEDOT",qx="SEMI",ni="SLASH",Lu="TILDE",_g="UNDERSCORE",k6="EMOJI",Ng="SYM";var O6=Object.freeze({__proto__:null,ALPHANUMERICAL:C6,AMPERSAND:xg,APOSTROPHE:Sg,ASCIINUMERICAL:S6,ASTERISK:Cg,AT:Eo,BACKSLASH:Eg,BACKTICK:kg,CARET:Og,CLOSEANGLEBRACKET:pg,CLOSEBRACE:Du,CLOSEBRACKET:ug,CLOSEPAREN:dg,COLON:Po,COMMA:Wx,DOLLAR:Tg,DOT:ri,EMOJI:k6,EQUALS:Ig,EXCLAMATION:Kx,FULLWIDTHGREATERTHAN:Ag,FULLWIDTHLEFTPAREN:gg,FULLWIDTHLESSTHAN:wg,FULLWIDTHMIDDLEDOT:E6,FULLWIDTHRIGHTPAREN:mg,HYPHEN:un,LEFTCORNERBRACKET:vg,LEFTWHITECORNERBRACKET:yg,LOCALHOST:uf,NL:Ux,NUM:Vx,OPENANGLEBRACKET:hg,OPENBRACE:Pu,OPENBRACKET:cg,OPENPAREN:fg,PERCENT:_u,PIPE:Mg,PLUS:Pg,POUND:Dg,QUERY:Nu,QUOTE:Gx,RIGHTCORNERBRACKET:bg,RIGHTWHITECORNERBRACKET:$g,SCHEME:sp,SEMI:qx,SLASH:ni,SLASH_SCHEME:fl,SYM:Ng,TILDE:Lu,TLD:Bw,UNDERSCORE:_g,UTLD:Fw,UWORD:Rw,WORD:Fi,WS:jw});const Di=/[a-z]/,_c=new RegExp("\\p{L}","u"),Ib=new RegExp("\\p{Emoji}","u"),_i=/\d/,Mb=/\s/,wT="\r",Pb=`
`,lne="",cne="",Db="";let Hd=null,Vd=null;function une(e=[]){const t={};Ir.groups=t;const r=new Ir;Hd==null&&(Hd=AT(rne)),Vd==null&&(Vd=AT(nne)),G(r,"'",Sg),G(r,"{",Pu),G(r,"}",Du),G(r,"[",cg),G(r,"]",ug),G(r,"(",fg),G(r,")",dg),G(r,"<",hg),G(r,">",pg),G(r,"",gg),G(r,"",mg),G(r,"",vg),G(r,"",bg),G(r,"",yg),G(r,"",$g),G(r,"",wg),G(r,"",Ag),G(r,"&",xg),G(r,"*",Cg),G(r,"@",Eo),G(r,"`",kg),G(r,"^",Og),G(r,":",Po),G(r,",",Wx),G(r,"$",Tg),G(r,".",ri),G(r,"=",Ig),G(r,"!",Kx),G(r,"-",un),G(r,"%",_u),G(r,"|",Mg),G(r,"+",Pg),G(r,"#",Dg),G(r,"?",Nu),G(r,'"',Gx),G(r,"/",ni),G(r,";",qx),G(r,"~",Lu),G(r,"_",_g),G(r,"\\",Eg),G(r,"",E6);const n=it(r,_i,Vx,{[Dw]:!0});it(n,_i,n);const i=it(n,Di,S6,{[Mu]:!0}),o=it(n,_c,C6,{[pu]:!0}),a=it(r,Di,Fi,{[_w]:!0});it(a,_i,i),it(a,Di,a),it(i,_i,i),it(i,Di,i);const s=it(r,_c,Rw,{[Nw]:!0});it(s,Di),it(s,_i,o),it(s,_c,s),it(o,_i,o),it(o,Di),it(o,_c,o);const l=G(r,Pb,Ux,{[Tb]:!0}),c=G(r,wT,jw,{[Tb]:!0}),u=it(r,Mb,jw,{[Tb]:!0});G(r,Db,u),G(c,Pb,l),G(c,Db,u),it(c,Mb,u),G(u,wT),G(u,Pb),it(u,Mb,u),G(u,Db,u);const f=it(r,Ib,k6,{[x6]:!0});G(f,"#"),it(f,Ib,f),G(f,lne,f);const d=G(f,cne);G(d,"#"),it(d,Ib,f);const h=[[Di,a],[_i,i]],p=[[Di,null],[_c,s],[_i,o]];for(let g=0;g<Hd.length;g++)xo(r,Hd[g],Bw,Fi,h);for(let g=0;g<Vd.length;g++)xo(r,Vd[g],Fw,Rw,p);ja(Bw,{tld:!0,ascii:!0},t),ja(Fw,{utld:!0,alpha:!0},t),xo(r,"file",sp,Fi,h),xo(r,"mailto",sp,Fi,h),xo(r,"http",fl,Fi,h),xo(r,"https",fl,Fi,h),xo(r,"ftp",fl,Fi,h),xo(r,"ftps",fl,Fi,h),ja(sp,{scheme:!0,ascii:!0},t),ja(fl,{slashscheme:!0,ascii:!0},t),e=e.sort((g,m)=>g[0]>m[0]?1:-1);for(let g=0;g<e.length;g++){const m=e[g][0],b=e[g][1]?{[ine]:!0}:{[one]:!0};m.indexOf("-")>=0?b[Lw]=!0:Di.test(m)?_i.test(m)?b[Mu]=!0:b[_w]=!0:b[Dw]=!0,$T(r,m,m,b)}return $T(r,"localhost",uf,{ascii:!0}),r.jd=new Ir(Ng),{start:r,tokens:Object.assign({groups:t},O6)}}function T6(e,t){const r=fne(t.replace(/[A-Z]/g,s=>s.toLowerCase())),n=r.length,i=[];let o=0,a=0;for(;a<n;){let s=e,l=null,c=0,u=null,f=-1,d=-1;for(;a<n&&(l=s.go(r[a]));)s=l,s.accepts()?(f=0,d=0,u=s):f>=0&&(f+=r[a].length,d++),c+=r[a].length,o+=r[a].length,a++;o-=f,a-=d,c-=f,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function fne(e){const t=[],r=e.length;let n=0;for(;n<r;){let i=e.charCodeAt(n),o,a=i<55296||i>56319||n+1===r||(o=e.charCodeAt(n+1))<56320||o>57343?e[n]:e.slice(n,n+2);t.push(a),n+=a.length}return t}function xo(e,t,r,n,i){let o;const a=t.length;for(let s=0;s<a-1;s++){const l=t[s];e.j[l]?o=e.j[l]:(o=new Ir(n),o.jr=i.slice(),e.j[l]=o),e=o}return o=new Ir(r),o.jr=i.slice(),e.j[t[a-1]]=o,o}function AT(e){const t=[],r=[];let n=0,i="0123456789";for(;n<e.length;){let o=0;for(;i.indexOf(e[n+o])>=0;)o++;if(o>0){t.push(r.join(""));for(let a=parseInt(e.substring(n,n+o),10);a>0;a--)r.pop();n+=o}else r.push(e[n]),n++}return t}const ff={defaultProtocol:"http",events:null,format:xT,formatHref:xT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Qx(e,t=null){let r=Object.assign({},ff);e&&(r=Object.assign(r,e instanceof Qx?e.o:e));const n=r.ignoreTags,i=[];for(let o=0;o<n.length;o++)i.push(n[o].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=i}Qx.prototype={o:ff,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const n=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:ff[e],typeof i=="function"&&n&&(i=i(t,r))):typeof i=="function"&&n&&(i=i(t,r.t,r)),i)},getObj(e,t,r){let n=this.o[e];return typeof n=="function"&&t!=null&&(n=n(t,r.t,r)),n},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function xT(e){return e}function I6(e,t){this.t="token",this.v=e,this.tk=t}I6.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),n=e.get("format",t,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=ff.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",r,this),i=e.get("tagName",r,t),o=this.toFormattedString(e),a={},s=e.get("className",r,t),l=e.get("target",r,t),c=e.get("rel",r,t),u=e.getObj("attributes",r,t),f=e.getObj("events",r,t);return a.href=n,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:i,attributes:a,content:o,eventListeners:f}}};function ev(e,t){class r extends I6{constructor(i,o){super(i,o),this.t=e}}for(const n in t)r.prototype[n]=t[n];return r.t=e,r}const ST=ev("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),CT=ev("text"),dne=ev("nl"),Ud=ev("url",{isLink:!0,toHref(e=ff.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==uf&&e[1].t===Po}}),on=e=>new Ir(e);function hne({groups:e}){const t=e.domain.concat([xg,Cg,Eo,Eg,kg,Og,Tg,Ig,un,Vx,_u,Mg,Pg,Dg,ni,Ng,Lu,_g]),r=[Sg,Po,Wx,ri,Kx,_u,Nu,Gx,qx,hg,pg,Pu,Du,ug,cg,fg,dg,gg,mg,vg,bg,yg,$g,wg,Ag],n=[xg,Sg,Cg,Eg,kg,Og,Tg,Ig,un,Pu,Du,_u,Mg,Pg,Dg,Nu,ni,Ng,Lu,_g],i=on(),o=G(i,Lu);we(o,n,o),we(o,e.domain,o);const a=on(),s=on(),l=on();we(i,e.domain,a),we(i,e.scheme,s),we(i,e.slashscheme,l),we(a,n,o),we(a,e.domain,a);const c=G(a,Eo);G(o,Eo,c),G(s,Eo,c),G(l,Eo,c);const u=G(o,ri);we(u,n,o),we(u,e.domain,o);const f=on();we(c,e.domain,f),we(f,e.domain,f);const d=G(f,ri);we(d,e.domain,f);const h=on(ST);we(d,e.tld,h),we(d,e.utld,h),G(c,uf,h);const p=G(f,un);G(p,un,p),we(p,e.domain,f),we(h,e.domain,f),G(h,ri,d),G(h,un,p);const g=G(h,Po);we(g,e.numeric,ST);const m=G(a,un),v=G(a,ri);G(m,un,m),we(m,e.domain,a),we(v,n,o),we(v,e.domain,a);const b=on(Ud);we(v,e.tld,b),we(v,e.utld,b),we(b,e.domain,a),we(b,n,o),G(b,ri,v),G(b,un,m),G(b,Eo,c);const y=G(b,Po),w=on(Ud);we(y,e.numeric,w);const $=on(Ud),A=on();we($,t,$),we($,r,A),we(A,t,$),we(A,r,A),G(b,ni,$),G(w,ni,$);const C=G(s,Po),E=G(l,Po),_=G(E,ni),N=G(_,ni);we(s,e.domain,a),G(s,ri,v),G(s,un,m),we(l,e.domain,a),G(l,ri,v),G(l,un,m),we(C,e.domain,$),G(C,ni,$),G(C,Nu,$),we(N,e.domain,$),we(N,t,$),G(N,ni,$);const M=[[Pu,Du],[cg,ug],[fg,dg],[hg,pg],[gg,mg],[vg,bg],[yg,$g],[wg,Ag]];for(let O=0;O<M.length;O++){const[D,S]=M[O],k=G($,D);G(A,D,k),G(k,S,$);const x=on(Ud);we(k,t,x);const P=on();we(k,r),we(x,t,x),we(x,r,P),we(P,t,x),we(P,r,P),G(x,S,$),G(P,S,$)}return G(i,uf,b),G(i,Ux,dne),{start:i,tokens:O6}}function pne(e,t,r){let n=r.length,i=0,o=[],a=[];for(;i<n;){let s=e,l=null,c=null,u=0,f=null,d=-1;for(;i<n&&!(l=s.go(r[i].t));)a.push(r[i++]);for(;i<n&&(c=l||s.go(r[i].t));)l=null,s=c,s.accepts()?(d=0,f=s):d>=0&&d++,i++,u++;if(d<0)i-=u,i<n&&(a.push(r[i]),i++);else{a.length>0&&(o.push(_b(CT,t,a)),a=[]),i-=d,u-=d;const h=f.t,p=r.slice(i-u,i);o.push(_b(h,t,p))}}return a.length>0&&o.push(_b(CT,t,a)),o}function _b(e,t,r){const n=r[0].s,i=r[r.length-1].e,o=t.slice(n,i);return new e(o,r)}const gne=typeof console<"u"&&console&&console.warn||(()=>{}),mne="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Je={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function vne(){return Ir.groups={},Je.scanner=null,Je.parser=null,Je.tokenQueue=[],Je.pluginQueue=[],Je.customSchemes=[],Je.initialized=!1,Je}function ET(e,t=!1){if(Je.initialized&&gne(`linkifyjs: already initialized - will not register custom scheme "${e}" ${mne}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Je.customSchemes.push([e,t])}function bne(){Je.scanner=une(Je.customSchemes);for(let e=0;e<Je.tokenQueue.length;e++)Je.tokenQueue[e][1]({scanner:Je.scanner});Je.parser=hne(Je.scanner.tokens);for(let e=0;e<Je.pluginQueue.length;e++)Je.pluginQueue[e][1]({scanner:Je.scanner,parser:Je.parser});return Je.initialized=!0,Je}function Yx(e){return Je.initialized||bne(),pne(Je.parser.start,e,T6(Je.scanner.start,e))}Yx.scan=T6;function M6(e,t=null,r=null){if(t&&typeof t=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);r=t,t=null}const n=new Qx(r),i=Yx(e),o=[];for(let a=0;a<i.length;a++){const s=i[a];s.isLink&&(!t||s.t===t)&&n.check(s)&&o.push(s.toFormattedObject(n))}return o}var Jx="[\0- -\u2029]",yne=new RegExp(Jx),$ne=new RegExp(`${Jx}$`),wne=new RegExp(Jx,"g");function Ane(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function xne(e){return new st({key:new Wt("autolink"),appendTransaction:(t,r,n)=>{const i=t.some(c=>c.docChanged)&&!r.doc.eq(n.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=n,s=e6(r.doc,[...t]);if(s6(s).forEach(({newRange:c})=>{const u=Ite(n.doc,c,h=>h.isTextblock);let f,d;if(u.length>1)f=u[0],d=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(u.length){const h=n.doc.textBetween(c.from,c.to," "," ");if(!$ne.test(h))return;f=u[0],d=n.doc.textBetween(f.pos,c.to,void 0," ")}if(f&&d){const h=d.split(yne).filter(Boolean);if(h.length<=0)return!1;const p=h[h.length-1],g=f.pos+d.lastIndexOf(p);if(!p)return!1;const m=Yx(p).map(v=>v.toObject(e.defaultProtocol));if(!Ane(m))return!1;m.filter(v=>v.isLink).map(v=>({...v,from:g+v.start+1,to:g+v.end+1})).filter(v=>n.schema.marks.code?!n.doc.rangeHasMark(v.from,v.to,n.schema.marks.code):!0).filter(v=>e.validate(v.value)).filter(v=>e.shouldAutoLink(v.value)).forEach(v=>{Bx(v.from,v.to,n.doc).some(b=>b.mark.type===e.type)||a.addMark(v.from,v.to,e.type.create({href:v.href}))})}}),!!a.steps.length)return a}})}function Sne(e){return new st({key:new Wt("handleClickLink"),props:{handleClick:(t,r,n)=>{var i,o;if(n.button!==0||!t.editable)return!1;let a=null;if(n.target instanceof HTMLAnchorElement)a=n.target;else{let u=n.target;const f=[];for(;u.nodeName!=="DIV";)f.push(u),u=u.parentNode;a=f.find(d=>d.nodeName==="A")}if(!a)return!1;const s=a6(t.state,e.type.name),l=(i=a==null?void 0:a.href)!=null?i:s.href,c=(o=a==null?void 0:a.target)!=null?o:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&l?(window.open(l,c),!0):!1}}})}function Cne(e){return new st({key:new Wt("handlePasteLink"),props:{handlePaste:(t,r,n)=>{const{shouldAutoLink:i}=e,{state:o}=t,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";n.content.forEach(u=>{l+=u.textContent});const c=M6(l,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function Ea(e,t){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(n=>{const i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!e||e.replace(wne,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Ene=fo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){ET(e);return}ET(e.scheme,e.optionalSlashes)})},onDestroy(){vne()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Ea(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:r=>!!Ea(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Ea(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",at(this.options.HTMLAttributes,e),0]:["a",at(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var r;const n=((r=e.attrs)==null?void 0:r.href)||"";return`[${t.renderChildren(e)}](${n})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Ea(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:r}=e||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Ea(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Xo({find:e=>{const t=[];if(e){const{protocols:r,defaultProtocol:n}=this.options,i=M6(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Ea(a,r),protocols:r,defaultProtocol:n}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&t.push({text:o.value,data:{href:o.href},index:o.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:r}=this.options;return this.options.autolink&&e.push(xne({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:i=>!!Ea(i,t),protocols:t,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(Sne({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(Cne({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),kne=Object.defineProperty,One=(e,t)=>{for(var r in t)kne(e,r,{get:t[r],enumerable:!0})},Tne="listItem",kT="textStyle",OT=/^\s*([-+*])\s$/,P6=nn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Tne,this.editor.getAttributes(kT)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Ul({find:OT,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ul({find:OT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(kT),editor:this.editor})),[e]}}),D6=nn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let r=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))r=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(r=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const a=e.tokens.slice(1),s=t.parseChildren(a);r.push(...s)}}else r=t.parseChildren(e.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(e,t,r)=>Hx(e,t,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Ine={};One(Ine,{findListItemPos:()=>zf,getNextListDepth:()=>Xx,handleBackspace:()=>zw,handleDelete:()=>Hw,hasListBefore:()=>_6,hasListItemAfter:()=>Mne,hasListItemBefore:()=>N6,listItemHasSubList:()=>L6,nextListIsDeeper:()=>R6,nextListIsHigher:()=>B6});var zf=(e,t)=>{const{$from:r}=t.selection,n=At(e,t.schema);let i=null,o=r.depth,a=r.pos,s=null;for(;o>0&&s===null;)i=r.node(o),i.type===n?s=o:(o-=1,a-=1);return s===null?null:{$pos:t.doc.resolve(a),depth:s}},Xx=(e,t)=>{const r=zf(e,t);if(!r)return!1;const[,n]=jte(t,e,r.$pos.pos+4);return n},_6=(e,t,r)=>{const{$anchor:n}=e.selection,i=Math.max(0,n.pos-2),o=e.doc.resolve(i).node();return!(!o||!r.includes(o.type.name))},N6=(e,t)=>{var r;const{$anchor:n}=t.selection,i=t.doc.resolve(n.pos-2);return!(i.index()===0||((r=i.nodeBefore)==null?void 0:r.type.name)!==e)},L6=(e,t,r)=>{if(!r)return!1;const n=At(e,t.schema);let i=!1;return r.descendants(o=>{o.type===n&&(i=!0)}),i},zw=(e,t,r)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Jo(e.state,t)&&_6(e.state,t,r)){const{$anchor:s}=e.state.selection,l=e.state.doc.resolve(s.before()-1),c=[];l.node().descendants((d,h)=>{d.type.name===t&&c.push({node:d,pos:h})});const u=c.at(-1);if(!u)return!1;const f=e.state.doc.resolve(l.start()+u.pos+1);return e.chain().cut({from:s.start()-1,to:s.end()+1},f.end()).joinForward().run()}if(!Jo(e.state,t)||!Ute(e.state))return!1;const n=zf(t,e.state);if(!n)return!1;const o=e.state.doc.resolve(n.$pos.pos-2).node(n.depth),a=L6(t,e.state,o);return N6(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},R6=(e,t)=>{const r=Xx(e,t),n=zf(e,t);return!n||!r?!1:r>n.depth},B6=(e,t)=>{const r=Xx(e,t),n=zf(e,t);return!n||!r?!1:r<n.depth},Hw=(e,t)=>{if(!Jo(e.state,t)||!Vte(e.state,t))return!1;const{selection:r}=e.state,{$from:n,$to:i}=r;return!r.empty&&n.sameParent(i)?!1:R6(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():B6(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},Mne=(e,t)=>{var r;const{$anchor:n}=t.selection,i=t.doc.resolve(n.pos-n.parentOffset-2);return!(i.index()===i.parent.childCount-1||((r=i.nodeAfter)==null?void 0:r.type.name)!==e)},F6=je.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&Hw(e,r)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&Hw(e,r)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&zw(e,r,n)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&zw(e,r,n)&&(t=!0)}),t}}}}),TT=/^(\s*)(\d+)\.\s+(.*)$/,Pne=/^\s/;function Dne(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r],o=i.match(TT);if(!o)break;const[,a,s,l]=o,c=a.length;let u=l,f=r+1;const d=[i];for(;f<e.length;){const h=e[f];if(h.match(TT))break;if(h.trim()==="")d.push(h),u+=`
`,f+=1;else if(h.match(Pne))d.push(h),u+=`
${h.slice(c+2)}`,f+=1;else break}t.push({indent:c,number:parseInt(s,10),content:u.trim(),raw:d.join(`
`)}),n=f,r=f}return[t,n]}function j6(e,t,r){var n;const i=[];let o=0;for(;o<e.length;){const a=e[o];if(a.indent===t){const s=a.content.split(`
`),l=((n=s[0])==null?void 0:n.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:r.inlineTokens(l)});const u=s.slice(1).join(`
`).trim();if(u){const h=r.blockTokens(u);c.push(...h)}let f=o+1;const d=[];for(;f<e.length&&e[f].indent>t;)d.push(e[f]),f+=1;if(d.length>0){const h=Math.min(...d.map(g=>g.indent)),p=j6(d,h,r);c.push({type:"list",ordered:!0,start:d[0].number,items:p,raw:d.map(g=>g.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:c}),o=f}else o+=1}return i}function _ne(e,t){return e.map(r=>{if(r.type!=="list_item")return t.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")n.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=t.parseChildren([i]);n.push({type:"paragraph",content:o})}else{const o=t.parseChildren([i]);o.length>0&&n.push(...o)}}),{type:"listItem",content:n}})}var Nne="listItem",IT="textStyle",MT=/^(\d+)\.\s$/,z6=nn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...r}=e;return t===1?["ol",at(this.options.HTMLAttributes,r),0]:["ol",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const r=e.start||1,n=e.items?_ne(e.items,t):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),r=t==null?void 0:t.index;return r!==void 0?r:-1},tokenize:(e,t,r)=>{var n;const i=e.split(`
`),[o,a]=Dne(i);if(o.length===0)return;const s=j6(o,0,r);return s.length===0?void 0:{type:"list",ordered:!0,start:((n=o[0])==null?void 0:n.number)||1,items:s,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Nne,this.editor.getAttributes(IT)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Ul({find:MT,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ul({find:MT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(IT)}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1],editor:this.editor})),[e]}}),Lne=/^\s*(\[([( |x])?\])\s$/,Rne=nn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",at(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const r=[];if(e.tokens&&e.tokens.length>0?r.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?r.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):r.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const n=t.parseChildren(e.nestedTokens);r.push(...n)}return t.createNode("taskItem",{checked:e.checked||!1},r)},renderMarkdown:(e,t)=>{var r;const i=`- [${(r=e.attrs)!=null&&r.checked?"x":" "}] `;return Hx(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:r,editor:n})=>{const i=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),s=document.createElement("input"),l=document.createElement("div"),c=u=>{var f,d;s.ariaLabel=((d=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:d.call(f,u,s.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(e),o.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",u=>u.preventDefault()),s.addEventListener("change",u=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){s.checked=!s.checked;return}const{checked:f}=u.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{const h=r();if(typeof h!="number")return!1;const p=d.doc.nodeAt(h);return d.setNodeMarkup(h,void 0,{...p==null?void 0:p.attrs,checked:f}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,f)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,f])=>{i.setAttribute(u,f)}),i.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,o.append(s,a),i.append(o,l),Object.entries(t).forEach(([u,f])=>{i.setAttribute(u,f)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,s.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[Ul({find:Lne,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),Bne=nn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",at(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const r=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return r!==void 0?r:-1},tokenize(e,t,r){const n=o=>{const a=Pw(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,l)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:r.inlineTokens(s.mainContent),nestedTokens:l}),customNestedParser:n},r);return a?[{type:"taskList",raw:a.raw,items:a.items}]:r.blockTokens(o)},i=Pw(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,a)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:r.inlineTokens(o.mainContent),nestedTokens:a}),customNestedParser:n},r);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});je.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(P6.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(D6.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(F6.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(z6.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(Rne.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(Bne.configure(this.options.taskList)),e}});var Fne=nn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",at(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const r=e.tokens||[];return r.length===1&&r[0].type==="image"?t.parseChildren([r[0]]):t.createNode("paragraph",void 0,t.parseInline(r))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),jne=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,zne=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Hne=fo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",at(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[rs({find:jne,type:this.type})]},addPasteRules(){return[Xo({find:zne,type:this.type})]}}),Vne=nn.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),Une=fo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",at(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,r){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:r.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Wne(e={}){return new st({view(t){return new Kne(t,e)}})}class Kne{constructor(t,r){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:r})=>this.editorView.dom.removeEventListener(t,r))}update(t,r){this.cursorPos!=null&&r.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),r=!t.parent.inlineContent,n,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(r){let f=t.nodeBefore,d=t.nodeAfter;if(f||d){let h=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(h){let p=h.getBoundingClientRect(),g=f?p.bottom:p.top;f&&d&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let m=this.width/2*s;n={left:p.left,right:p.right,top:g-m,bottom:g+m}}}}if(!n){let f=this.editorView.coordsAtPos(this.cursorPos),d=this.width/2*a;n={left:f.left-d,right:f.left+d,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let f=l.getBoundingClientRect(),d=f.width/l.offsetWidth,h=f.height/l.offsetHeight;c=f.left-l.scrollLeft*d,u=f.top-l.scrollTop*h}this.element.style.left=(n.left-c)/a+"px",this.element.style.top=(n.top-u)/s+"px",this.element.style.width=(n.right-n.left)/a+"px",this.element.style.height=(n.bottom-n.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,r,t):i;if(r&&!o){let a=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=KL(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class ot extends Ae{constructor(t){super(t,t)}map(t,r){let n=t.resolve(r.map(this.head));return ot.valid(n)?new ot(n):Ae.near(n)}content(){return J.empty}eq(t){return t instanceof ot&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ot(t.resolve(r.pos))}getBookmark(){return new Zx(this.anchor)}static valid(t){let r=t.parent;if(r.isTextblock||!Gne(t)||!qne(t))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,r,n=!1){e:for(;;){if(!n&&ot.valid(t))return t;let i=t.pos,o=null;for(let a=t.depth;;a--){let s=t.node(a);if(r>0?t.indexAfter(a)<s.childCount:t.index(a)>0){o=s.child(r>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=r;let l=t.doc.resolve(i);if(ot.valid(l))return l}for(;;){let a=r>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!fe.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*r),n=!1;continue e}break}o=a,i+=r;let s=t.doc.resolve(i);if(ot.valid(s))return s}return null}}}ot.prototype.visible=!1;ot.findFrom=ot.findGapCursorFrom;Ae.jsonID("gapcursor",ot);class Zx{constructor(t){this.pos=t}map(t){return new Zx(t.map(this.pos))}resolve(t){let r=t.resolve(this.pos);return ot.valid(r)?new ot(r):Ae.near(r)}}function H6(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function Gne(e){for(let t=e.depth;t>=0;t--){let r=e.index(t),n=e.node(t);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||H6(i.type))return!0;if(i.inlineContent)return!1}}return!0}function qne(e){for(let t=e.depth;t>=0;t--){let r=e.indexAfter(t),n=e.node(t);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||H6(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Qne(){return new st({props:{decorations:Zne,createSelectionBetween(e,t,r){return t.pos==r.pos&&ot.valid(r)?new ot(r):null},handleClick:Jne,handleKeyDown:Yne,handleDOMEvents:{beforeinput:Xne}}})}const Yne=KR({ArrowLeft:Wd("horiz",-1),ArrowRight:Wd("horiz",1),ArrowUp:Wd("vert",-1),ArrowDown:Wd("vert",1)});function Wd(e,t){const r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,i,o){let a=n.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof ve){if(!o.endOfTextblock(r)||s.depth==0)return!1;l=!1,s=n.doc.resolve(t>0?s.after():s.before())}let c=ot.findGapCursorFrom(s,t,l);return c?(i&&i(n.tr.setSelection(new ot(c))),!0):!1}}function Jne(e,t,r){if(!e||!e.editable)return!1;let n=e.state.doc.resolve(t);if(!ot.valid(n))return!1;let i=e.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&fe.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new ot(n))),!0)}function Xne(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof ot))return!1;let{$from:r}=e.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!n)return!1;let i=K.empty;for(let a=n.length-1;a>=0;a--)i=K.from(n[a].createAndFill(null,i));let o=e.state.tr.replace(r.pos,r.pos,new J(i,0,0));return o.setSelection(ve.near(o.doc.resolve(r.pos+1))),e.dispatch(o),!1}function Zne(e){if(!(e.selection instanceof ot))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",tt.create(e.doc,[hr.widget(e.selection.head,t,{key:"gapcursor"})])}var Lg=200,Vt=function(){};Vt.prototype.append=function(t){return t.length?(t=Vt.from(t),!this.length&&t||t.length<Lg&&this.leafAppend(t)||this.length<Lg&&t.leafPrepend(this)||this.appendInner(t)):this};Vt.prototype.prepend=function(t){return t.length?Vt.from(t).append(this):this};Vt.prototype.appendInner=function(t){return new eie(this,t)};Vt.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.length),t>=r?Vt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))};Vt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Vt.prototype.forEach=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(t,r,n,0):this.forEachInvertedInner(t,r,n,0)};Vt.prototype.map=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(t(o,a))},r,n),i};Vt.from=function(t){return t instanceof Vt?t:t&&t.length?new V6(t):Vt.empty};var V6=(function(e){function t(n){e.call(this),this.values=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Lg)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Lg)return new t(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t})(Vt);Vt.empty=new V6([]);var eie=(function(e){function t(r,n){e.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},t.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new t(i,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t})(Vt);const tie=500;class Ln{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,o;r&&(i=this.remapping(n,this.items.length),o=i.maps.length);let a=t.tr,s,l,c=[],u=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(n,d+1),o=i.maps.length),o--,u.push(f);return}if(i){u.push(new ii(f.map));let h=f.step.map(i.slice(o)),p;h&&a.maybeStep(h).doc&&(p=a.mapping.maps[a.mapping.maps.length-1],c.push(new ii(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else a.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,l=new Ln(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,r,n,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let u=0;u<t.steps.length;u++){let f=t.steps[u].invert(t.docs[u]),d=new ii(t.mapping.maps[u],f,r),h;(h=l&&l.merge(d))&&(d=h,u?o.pop():s=s.slice(0,s.length-1)),o.push(d),r&&(a++,r=void 0),i||(l=d)}let c=a-n.depth;return c>nie&&(s=rie(s,c),a-=c),new Ln(s.append(o),a)}remapping(t,r){let n=new rf;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,a)},t,r),n}addMaps(t){return this.eventCount==0?this:new Ln(this.items.append(t.map(r=>new ii(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=r;this.items.forEach(d=>{let h=o.getMirror(--l);if(h==null)return;a=Math.min(a,h);let p=o.maps[h];if(d.step){let g=t.steps[h].invert(t.docs[h]),m=d.selection&&d.selection.map(o.slice(l+1,h));m&&s++,n.push(new ii(p,g,m))}else n.push(new ii(p))},i);let c=[];for(let d=r;d<a;d++)c.push(new ii(o.maps[d]));let u=this.items.slice(0,i).append(c).append(n),f=new Ln(u,s);return f.emptyItemCount()>tie&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),n=r.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let u=a.selection&&a.selection.map(r.slice(n));u&&o++;let f=new ii(c.invert(),l,u),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else a.map&&n--},this.items.length,0),new Ln(Vt.from(i.reverse()),o)}}Ln.empty=new Ln(Vt.empty,0);function rie(e,t){let r;return e.forEach((n,i)=>{if(n.selection&&t--==0)return r=i,!1}),e.slice(r)}class ii{constructor(t,r,n,i){this.map=t,this.step=r,this.selection=n,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new ii(r.getMap().invert(),r,this.selection)}}}class ko{constructor(t,r,n,i,o){this.done=t,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=o}}const nie=20;function iie(e,t,r,n){let i=r.getMeta(qa),o;if(i)return i.historyState;r.getMeta(sie)&&(e=new ko(e.done,e.undone,null,0,-1));let a=r.getMeta("appendedTransaction");if(r.steps.length==0)return e;if(a&&a.getMeta(qa))return a.getMeta(qa).redo?new ko(e.done.addTransform(r,void 0,n,lp(t)),e.undone,PT(r.mapping.maps),e.prevTime,e.prevComposition):new ko(e.done,e.undone.addTransform(r,void 0,n,lp(t)),null,e.prevTime,e.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=r.getMeta("composition"),l=e.prevTime==0||!a&&e.prevComposition!=s&&(e.prevTime<(r.time||0)-n.newGroupDelay||!oie(r,e.prevRanges)),c=a?Nb(e.prevRanges,r.mapping):PT(r.mapping.maps);return new ko(e.done.addTransform(r,l?t.selection.getBookmark():void 0,n,lp(t)),Ln.empty,c,r.time,s??e.prevComposition)}else return(o=r.getMeta("rebased"))?new ko(e.done.rebased(r,o),e.undone.rebased(r,o),Nb(e.prevRanges,r.mapping),e.prevTime,e.prevComposition):new ko(e.done.addMaps(r.mapping.maps),e.undone.addMaps(r.mapping.maps),Nb(e.prevRanges,r.mapping),e.prevTime,e.prevComposition)}function oie(e,t){if(!t)return!1;if(!e.docChanged)return!0;let r=!1;return e.mapping.maps[0].forEach((n,i)=>{for(let o=0;o<t.length;o+=2)n<=t[o+1]&&i>=t[o]&&(r=!0)}),r}function PT(e){let t=[];for(let r=e.length-1;r>=0&&t.length==0;r--)e[r].forEach((n,i,o,a)=>t.push(o,a));return t}function Nb(e,t){if(!e)return null;let r=[];for(let n=0;n<e.length;n+=2){let i=t.map(e[n],1),o=t.map(e[n+1],-1);i<=o&&r.push(i,o)}return r}function aie(e,t,r){let n=lp(t),i=qa.get(t).spec.config,o=(r?e.undone:e.done).popEvent(t,n);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(r?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,n),l=new ko(r?s:o.remaining,r?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(qa,{redo:r,historyState:l})}let Lb=!1,DT=null;function lp(e){let t=e.plugins;if(DT!=t){Lb=!1,DT=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){Lb=!0;break}}return Lb}const qa=new Wt("history"),sie=new Wt("closeHistory");function lie(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new st({key:qa,state:{init(){return new ko(Ln.empty,Ln.empty,null,0,-1)},apply(t,r,n){return iie(r,n,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,r){let n=r.inputType,i=n=="historyUndo"?W6:n=="historyRedo"?K6:null;return i?(r.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function U6(e,t){return(r,n)=>{let i=qa.getState(r);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(n){let o=aie(i,r,e);o&&n(t?o.scrollIntoView():o)}return!0}}const W6=U6(!1,!0),K6=U6(!0,!0);je.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const n=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(n)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,r=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let e=!1;return[new st({key:new Wt("characterCount"),appendTransaction:(t,r,n)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const o=this.storage.characters({node:n.doc});if(o>i){const a=o-i,s=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=n.tr.deleteRange(s,l);return e=!0,c}e=!0},filterTransaction:(t,r)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const i=this.storage.characters({node:r.doc}),o=this.storage.characters({node:t.doc});if(o<=n||i>n&&o>n&&o<=i)return!0;if(i>n&&o>n&&o>i||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,l=o-n,c=s-l,u=s;return t.deleteRange(c,u),!(this.storage.characters({node:t.doc})>n)}})]}});var cie=je.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Wne(this.options)]}});je.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new st({key:new Wt("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:i}=t,o=[];if(!r||!n)return tt.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let s=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(s+=1,this.options.mode==="deepest"&&a-s>0||this.options.mode==="shallowest"&&s>1)return this.options.mode==="deepest";o.push(hr.node(c,c+l.nodeSize,{class:this.options.className}))}),tt.create(e,o)}}})]}});var uie=je.create({name:"gapCursor",addProseMirrorPlugins(){return[Qne()]},extendNodeSchema(e){var t;const r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Ne(ue(e,"allowGapCursor",r)))!=null?t:null}}});je.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new st({key:new Wt("placeholder"),props:{decorations:({doc:e,selection:t})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=t,i=[];if(!r)return null;const o=this.editor.isEmpty;return e.descendants((a,s)=>{const l=n>=s&&n<=s+a.nodeSize,c=!a.isLeaf&&Xm(a);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const f=hr.node(s,s+a.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:s,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),tt.create(e,i)}}})]}});je.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new st({key:new Wt("selection"),props:{decorations(r){return r.selection.empty||e.isFocused||!e.isEditable||l6(r.selection)||e.view.dragging?null:tt.create(r.doc,[hr.inline(r.selection.from,r.selection.to,{class:t.className})])}}})]}});function _T({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var fie=je.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Wt(this.name),r=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(r).includes(i.name));return[new st({key:t,appendTransaction:(i,o,a)=>{const{doc:s,tr:l,schema:c}=a,u=t.getState(a),f=s.content.size,d=c.nodes[r];if(u)return l.insert(f,d.create())},state:{init:(i,o)=>{const a=o.tr.doc.lastChild;return!_T({node:a,types:n})},apply:(i,o)=>{if(!i.docChanged)return o;const a=i.doc.lastChild;return!_T({node:a,types:n})}}})]}}),die=je.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>W6(e,t),redo:()=>({state:e,dispatch:t})=>K6(e,t)}},addProseMirrorPlugins(){return[lie(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),hie=je.create({name:"starterKit",addExtensions(){var e,t,r,n;const i=[];return this.options.bold!==!1&&i.push(jre.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Nre.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(P6.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Vre.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Kre.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(Gre.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(cie.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(uie.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(qre.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(Qre.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(die.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(Yre.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(tne.configure(this.options.italic)),this.options.listItem!==!1&&i.push(D6.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(F6.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(Ene.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(z6.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(Fne.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Hne.configure(this.options.strike)),this.options.text!==!1&&i.push(Vne.configure(this.options.text)),this.options.underline!==!1&&i.push(Une.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&i.push(fie.configure((n=this.options)==null?void 0:n.trailingNode)),i}}),pie=hie;function gie(e){let[t,r]=Q();return oe(()=>{let n=new Sre({...e()});be(()=>{n.destroy()}),r(n)}),t}var mie=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,vie=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,bie=fo.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",at(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,r){const i=/^(==)([^=]+)(==)/.exec(e);if(i){const o=i[2].trim(),a=r.inlineTokens(o);return{type:"highlight",raw:i[0],text:o,tokens:a}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[rs({find:mie,type:this.type})]},addPasteRules(){return[Xo({find:vie,type:this.type})]}}),yie=bie,$ie=e=>lt({find:/--$/,replace:e??""}),wie=e=>lt({find:/\.\.\.$/,replace:e??""}),Aie=e=>lt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:e??""}),xie=e=>lt({find:/"$/,replace:e??""}),Sie=e=>lt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:e??""}),Cie=e=>lt({find:/'$/,replace:e??""}),Eie=e=>lt({find:/<-$/,replace:e??""}),kie=e=>lt({find:/->$/,replace:e??""}),Oie=e=>lt({find:/\(c\)$/,replace:e??""}),Tie=e=>lt({find:/\(tm\)$/,replace:e??""}),Iie=e=>lt({find:/\(sm\)$/,replace:e??""}),Mie=e=>lt({find:/\(r\)$/,replace:e??""}),Pie=e=>lt({find:/(?:^|\s)(1\/2)\s$/,replace:e??""}),Die=e=>lt({find:/\+\/-$/,replace:e??""}),_ie=e=>lt({find:/!=$/,replace:e??""}),Nie=e=>lt({find:/<<$/,replace:e??""}),Lie=e=>lt({find:/>>$/,replace:e??""}),Rie=e=>lt({find:/\d+\s?([*x])\s?\d+$/,replace:e??""}),Bie=e=>lt({find:/\^2$/,replace:e??""}),Fie=e=>lt({find:/\^3$/,replace:e??""}),jie=e=>lt({find:/(?:^|\s)(1\/4)\s$/,replace:e??""}),zie=e=>lt({find:/(?:^|\s)(3\/4)\s$/,replace:e??""}),Hie=je.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const e=[];return this.options.emDash!==!1&&e.push($ie(this.options.emDash)),this.options.ellipsis!==!1&&e.push(wie(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&e.push(Aie(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&e.push(xie(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&e.push(Sie(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&e.push(Cie(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&e.push(Eie(this.options.leftArrow)),this.options.rightArrow!==!1&&e.push(kie(this.options.rightArrow)),this.options.copyright!==!1&&e.push(Oie(this.options.copyright)),this.options.trademark!==!1&&e.push(Tie(this.options.trademark)),this.options.servicemark!==!1&&e.push(Iie(this.options.servicemark)),this.options.registeredTrademark!==!1&&e.push(Mie(this.options.registeredTrademark)),this.options.oneHalf!==!1&&e.push(Pie(this.options.oneHalf)),this.options.plusMinus!==!1&&e.push(Die(this.options.plusMinus)),this.options.notEqual!==!1&&e.push(_ie(this.options.notEqual)),this.options.laquo!==!1&&e.push(Nie(this.options.laquo)),this.options.raquo!==!1&&e.push(Lie(this.options.raquo)),this.options.multiplication!==!1&&e.push(Rie(this.options.multiplication)),this.options.superscriptTwo!==!1&&e.push(Bie(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&e.push(Fie(this.options.superscriptThree)),this.options.oneQuarter!==!1&&e.push(jie(this.options.oneQuarter)),this.options.threeQuarters!==!1&&e.push(zie(this.options.threeQuarters)),e}}),Vie=Hie,Uie=20,G6=(e,t=0)=>{const r=[];return!e.children.length||t>Uie||Array.from(e.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...G6(n,t+1))}),r},Wie=e=>{if(!e.children.length)return;const t=G6(e);t&&t.forEach(r=>{var n,i;const o=r.getAttribute("style"),a=(i=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:i.getAttribute("style");r.setAttribute("style",`${a};${o}`)})},q6=fo.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Wie(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",at(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||e.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),Kie=je.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const r=e.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const o=n[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="background-color")return s.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Gie=je.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const r=e.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const o=n[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="color")return s.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),qie=je.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Qie=je.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Yie=je.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});je.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(Kie.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(Gie.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(qie.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(Qie.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(Yie.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(q6.configure(this.options.textStyle)),e}});var Jie=je.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(r=>t.updateAttributes(r,{textAlign:e})).every(r=>r):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:r})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?r.unsetTextAlign():r.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Xie=Jie,Zie=W("<div class=p-5><div id=editor>");function eoe(e){const t=[];for(;e&&e.nodeType===1;){const r=e.tagName.toLowerCase();if(r==="div")break;t.push(r),e=e.parentNode}return t}function NT(){const e=window.getSelection();if(!e||!e.focusNode)return[];const t=e.focusNode,r=t.nodeType===3?t.parentElement:t;return eoe(r)}const Q6=e=>{let t;const r=ax(n=>{console.log("Debounced update:",n),iQ(e.id,n)},300);return gie(()=>({element:t,onFocus({editor:n}){TN(e.id),le("noteEditor",n),le("activeSidebar","noteStyles")},onSelectionUpdate(){le("activeTags",NT())},onUpdate({editor:n}){setTimeout(()=>{le("activeTags",NT())},0),console.log(n.getJSON());const i=n.getText().trim();console.log(i);const o=/^(https?:\/\/[^\s]+)$/;console.log(o.test(i)),o.test(i)?(console.log("here we change this this note node to a url node"),hQ(e.id,i)):r(JSON.stringify(n.getJSON()))},extensions:[pie,yie,Vie,q6,Xie],content:JSON.parse(e.text)})),(()=>{var n=Zie(),i=n.firstChild,o=t;return typeof o=="function"?Ut(o,i):t=i,n})()};var toe=W("<div>"),tv=class{constructor(e){R(this,"x");R(this,"y");R(this,"width");R(this,"height");this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.width=Math.floor(e.width),this.height=Math.floor(e.height)}get rect(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return{x:this.x+this.width*.5,y:this.y+this.height*.5}}get corners(){return{topLeft:{x:this.left,y:this.top},topRight:{x:this.right,y:this.top},bottomRight:{x:this.left,y:this.bottom},bottomLeft:{x:this.right,y:this.bottom}}}},Il=e=>{let t=new tv(e.getBoundingClientRect());const{transform:r}=getComputedStyle(e);return r&&(t=roe(t,r)),t},roe=(e,t)=>{let r,n;if(t.startsWith("matrix3d(")){const i=t.slice(9,-1).split(/, /);r=+i[12],n=+i[13]}else if(t.startsWith("matrix(")){const i=t.slice(7,-1).split(/, /);r=+i[4],n=+i[5]}else r=0,n=0;return new tv({...e,x:e.x-r,y:e.y-n})},Fn=()=>({x:0,y:0}),eS=(e,t)=>e.x===t.x&&e.y===t.y,Rb=(e,t)=>new tv({...e,x:e.x+t.x,y:e.y+t.y}),noe=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),ioe=(e,t)=>{const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.right,t.right),o=Math.min(e.bottom,t.bottom),a=i-n,s=o-r;if(n<i&&r<o){const l=e.width*e.height,c=t.width*t.height,u=a*s;return u/(l+c-u)}return 0},Bb=(e,t)=>e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height,ooe=(e,t,r)=>{const n=e.transformed.center,i={distance:1/0,droppable:null};for(const o of t){const a=noe(n,o.layout.center);a<i.distance?(i.distance=a,i.droppable=o):a===i.distance&&o.id===r.activeDroppableId&&(i.droppable=o)}return i.droppable},aoe=(e,t,r)=>{const n=e.transformed,i={ratio:0,droppable:null};for(const o of t){const a=ioe(n,o.layout);a>i.ratio?(i.ratio=a,i.droppable=o):a>0&&a===i.ratio&&o.id===r.activeDroppableId&&(i.droppable=o)}return i.droppable},Y6=tn(),soe=e=>{const t=ye({collisionDetector:aoe},e),[r,n]=ix({draggables:{},droppables:{},sensors:{},active:{draggableId:null,get draggable(){return r.active.draggableId!==null?r.draggables[r.active.draggableId]:null},droppableId:null,get droppable(){return r.active.droppableId!==null?r.droppables[r.active.droppableId]:null},sensorId:null,get sensor(){return r.active.sensorId!==null?r.sensors[r.active.sensorId]:null},overlay:null}}),i=(S,k,x)=>{S.substring(0,S.length-1),De(()=>r[S][k])&&n(S,k,"transformers",x.id,x)},o=(S,k,x)=>{S.substring(0,S.length-1),De(()=>r[S][k])&&De(()=>r[S][k].transformers[x])&&n(S,k,"transformers",x,void 0)},a=({id:S,node:k,layout:x,data:P})=>{const I=r.draggables[S],L={id:S,node:k,layout:x,data:P,_pendingCleanup:!1};let V;if(!I)Object.defineProperties(L,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{if(r.active.overlay)return Fn();const U=Object.values(r.draggables[S].transformers);return U.sort((ae,ne)=>ae.order-ne.order),U.reduce((ae,ne)=>ne.callback(ae),Fn())}},transformed:{enumerable:!0,configurable:!0,get:()=>Rb(r.draggables[S].layout,r.draggables[S].transform)}});else if(r.active.draggableId===S&&!r.active.overlay){const U={x:I.layout.x-x.x,y:I.layout.y-x.y},ae="addDraggable-existing-offset",ne=I.transformers[ae],pe=ne?ne.callback(U):U;V={id:ae,order:100,callback:xe=>({x:xe.x+pe.x,y:xe.y+pe.y})},M(()=>o("draggables",S,ae))}Bi(()=>{n("draggables",S,L),V&&i("draggables",S,V)}),r.active.draggable&&w()},s=S=>{De(()=>r.draggables[S])&&(n("draggables",S,"_pendingCleanup",!0),queueMicrotask(()=>l(S)))},l=S=>{var k;if((k=r.draggables[S])!=null&&k._pendingCleanup){const x=r.active.draggableId===S;Bi(()=>{x&&n("active","draggableId",null),n("draggables",S,void 0)})}},c=({id:S,node:k,layout:x,data:P})=>{const I=r.droppables[S],L={id:S,node:k,layout:x,data:P,_pendingCleanup:!1};I||Object.defineProperties(L,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{const V=Object.values(r.droppables[S].transformers);return V.sort((U,ae)=>U.order-ae.order),V.reduce((U,ae)=>ae.callback(U),Fn())}},transformed:{enumerable:!0,configurable:!0,get:()=>Rb(r.droppables[S].layout,r.droppables[S].transform)}}),n("droppables",S,L),r.active.draggable&&w()},u=S=>{De(()=>r.droppables[S])&&(n("droppables",S,"_pendingCleanup",!0),queueMicrotask(()=>f(S)))},f=S=>{var k;if((k=r.droppables[S])!=null&&k._pendingCleanup){const x=r.active.droppableId===S;Bi(()=>{x&&n("active","droppableId",null),n("droppables",S,void 0)})}},d=({id:S,activators:k})=>{n("sensors",S,{id:S,activators:k,coordinates:{origin:{x:0,y:0},current:{x:0,y:0},get delta(){return{x:r.sensors[S].coordinates.current.x-r.sensors[S].coordinates.origin.x,y:r.sensors[S].coordinates.current.y-r.sensors[S].coordinates.origin.y}}}})},h=S=>{if(!De(()=>r.sensors[S]))return;const k=r.active.sensorId===S;Bi(()=>{k&&n("active","sensorId",null),n("sensors",S,void 0)})},p=({node:S,layout:k})=>{const x=r.active.overlay,P={node:S,layout:k};x||Object.defineProperties(P,{id:{enumerable:!0,configurable:!0,get:()=>{var I;return(I=r.active.draggable)==null?void 0:I.id}},data:{enumerable:!0,configurable:!0,get:()=>{var I;return(I=r.active.draggable)==null?void 0:I.data}},transformers:{enumerable:!0,configurable:!0,get:()=>Object.fromEntries(Object.entries(r.active.draggable?r.active.draggable.transformers:{}).filter(([I])=>I!=="addDraggable-existing-offset"))},transform:{enumerable:!0,configurable:!0,get:()=>{const I=Object.values(r.active.overlay?r.active.overlay.transformers:[]);return I.sort((L,V)=>L.order-V.order),I.reduce((L,V)=>V.callback(L),Fn())}},transformed:{enumerable:!0,configurable:!0,get:()=>r.active.overlay?Rb(r.active.overlay.layout,r.active.overlay.transform):new tv({x:0,y:0,width:0,height:0})}}),n("active","overlay",P)},g=()=>n("active","overlay",null),m=(S,k)=>{Bi(()=>{n("sensors",S,"coordinates",{origin:{...k},current:{...k}}),n("active","sensorId",S)})},v=S=>{const k=r.active.sensorId;k&&n("sensors",k,"coordinates","current",{...S})},b=()=>n("active","sensorId",null),y=(S,k)=>{const x={};for(const I of Object.values(r.sensors))if(I)for(const[L,V]of Object.entries(I.activators))x[L]??(x[L]=[]),x[L].push({sensor:I,activator:V});const P={};for(const I in x){let L=I;k&&(L=`on${I}`),P[L]=V=>{for(const{activator:U}of x[I]){if(r.active.sensor)break;U(V,S)}}}return P},w=()=>{let S=!1;const k=Object.values(r.draggables),x=Object.values(r.droppables),P=r.active.overlay;return Bi(()=>{const I=new WeakMap;for(const L of k)if(L){const V=L.layout;I.has(L.node)||I.set(L.node,Il(L.node));const U=I.get(L.node);Bb(V,U)||(n("draggables",L.id,"layout",U),S=!0)}for(const L of x)if(L){const V=L.layout;I.has(L.node)||I.set(L.node,Il(L.node));const U=I.get(L.node);Bb(V,U)||(n("droppables",L.id,"layout",U),S=!0)}if(P){const L=P.layout,V=Il(P.node);Bb(L,V)||(n("active","overlay","layout",V),S=!0)}}),S},$=()=>{const S=r.active.overlay??r.active.draggable;if(S){const k=t.collisionDetector(S,Object.values(r.droppables),{activeDroppableId:r.active.droppableId}),x=k?k.id:null;r.active.droppableId!==x&&n("active","droppableId",x)}},A=S=>{const k={id:"sensorMove",order:0,callback:x=>r.active.sensor?{x:x.x+r.active.sensor.coordinates.delta.x,y:x.y+r.active.sensor.coordinates.delta.y}:x};w(),Bi(()=>{n("active","draggableId",S),i("draggables",S,k)}),$()},C=()=>{const S=De(()=>r.active.draggableId);Bi(()=>{S!==null&&o("draggables",S,"sensorMove"),n("active",["draggableId","droppableId"],null)}),w()},E=S=>{oe(()=>{const k=r.active.draggable;k&&De(()=>S({draggable:k}))})},_=S=>{oe(()=>{const k=r.active.draggable;if(k){const x=De(()=>r.active.overlay);Object.values(x?x.transform:k.transform),De(()=>S({draggable:k,overlay:x}))}})},N=S=>{oe(()=>{const k=r.active.draggable,x=r.active.droppable;k&&De(()=>S({draggable:k,droppable:x,overlay:r.active.overlay}))})},M=S=>{oe(({previousDraggable:k,previousDroppable:x,previousOverlay:P})=>{const I=r.active.draggable,L=I?r.active.droppable:null,V=I?r.active.overlay:null;return!I&&k&&De(()=>S({draggable:k,droppable:x,overlay:P})),{previousDraggable:I,previousDroppable:L,previousOverlay:V}},{previousDraggable:null,previousDroppable:null,previousOverlay:null})};_(()=>$()),t.onDragStart&&E(t.onDragStart),t.onDragMove&&_(t.onDragMove),t.onDragOver&&N(t.onDragOver),t.onDragEnd&&M(t.onDragEnd);const D=[r,{addTransformer:i,removeTransformer:o,addDraggable:a,removeDraggable:s,addDroppable:c,removeDroppable:u,addSensor:d,removeSensor:h,setOverlay:p,clearOverlay:g,recomputeLayouts:w,detectCollisions:$,draggableActivators:y,sensorStart:m,sensorMove:v,sensorEnd:b,dragStart:A,dragEnd:C,onDragStart:E,onDragMove:_,onDragOver:N,onDragEnd:M}];return T(Y6.Provider,{value:D,get children(){return t.children}})},xs=()=>rn(Y6)||null,loe=(e="pointer-sensor")=>{const[t,{addSensor:r,removeSensor:n,sensorStart:i,sensorMove:o,sensorEnd:a,dragStart:s,dragEnd:l}]=xs(),c=250,u=10;kt(()=>{r({id:e,activators:{pointerdown:g}})}),be(()=>{n(e)});const f=()=>t.active.sensorId===e,d={x:0,y:0};let h=null,p=null;const g=($,A)=>{$.button===0&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",y),p=A,d.x=$.clientX,d.y=$.clientY,h=window.setTimeout(v,c))},m=()=>{h&&(clearTimeout(h),h=null),document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",y),document.removeEventListener("selectionchange",w)},v=()=>{t.active.sensor?f()||m():(i(e,d),s(p),w(),document.addEventListener("selectionchange",w))},b=$=>{const A={x:$.clientX,y:$.clientY};if(!t.active.sensor){const C={x:A.x-d.x,y:A.y-d.y};Math.sqrt(C.x**2+C.y**2)>u&&v()}f()&&($.preventDefault(),o(A))},y=$=>{m(),f()&&($.preventDefault(),l(),a())},w=()=>{var $;($=window.getSelection())==null||$.removeAllRanges()}},coe=e=>(loe(),pt(()=>e.children)),rv=e=>({transform:`translate3d(${e.x}px, ${e.y}px, 0)`}),uoe=(e,t={})=>{const[r,{addDraggable:n,removeDraggable:i,draggableActivators:o}]=xs(),[a,s]=Q(null);kt(()=>{const f=a();f&&n({id:e,node:f,layout:Il(f),data:t})}),be(()=>i(e));const l=()=>r.active.draggableId===e,c=()=>{var f;return((f=r.draggables[e])==null?void 0:f.transform)||Fn()};return Object.defineProperties((f,d)=>{const h=d?d():{};oe(()=>{const p=a(),g=o(e);if(p)for(const m in g)p.addEventListener(m,g[m]);be(()=>{if(p)for(const m in g)p.removeEventListener(m,g[m])})}),s(f),h.skipTransform||oe(()=>{const p=c();if(eS(p,Fn()))f.style.removeProperty("transform");else{const g=rv(c());f.style.setProperty("transform",g.transform??null)}})},{ref:{enumerable:!0,value:s},isActiveDraggable:{enumerable:!0,get:l},dragActivators:{enumerable:!0,get:()=>o(e,!0)},transform:{enumerable:!0,get:c}})},foe=(e,t={})=>{const[r,{addDroppable:n,removeDroppable:i}]=xs(),[o,a]=Q(null);kt(()=>{const u=o();u&&n({id:e,node:u,layout:Il(u),data:t})}),be(()=>i(e));const s=()=>r.active.droppableId===e,l=()=>{var u;return((u=r.droppables[e])==null?void 0:u.transform)||Fn()};return Object.defineProperties((u,f)=>{const d=f?f():{};a(u),d.skipTransform||oe(()=>{const h=l();if(eS(h,Fn()))u.style.removeProperty("transform");else{const p=rv(l());u.style.setProperty("transform",p.transform??null)}})},{ref:{enumerable:!0,value:a},isActiveDroppable:{enumerable:!0,get:s},transform:{enumerable:!0,get:l}})},doe=e=>{const[t,{onDragStart:r,onDragEnd:n,setOverlay:i,clearOverlay:o}]=xs();let a;r(({draggable:l})=>{i({node:l.node,layout:l.layout}),queueMicrotask(()=>{if(a){const c=Il(a),u={x:(l.layout.width-c.width)/2,y:(l.layout.height-c.height)/2};c.x+=u.x,c.y+=u.y,i({node:a,layout:c})}})}),n(()=>queueMicrotask(o));const s=()=>{const l=t.active.overlay,c=t.active.draggable;return!l||!c?{}:{position:"fixed",transition:"transform 0s",top:`${l.layout.top}px`,left:`${l.layout.left}px`,"min-width":`${c.layout.width}px`,"min-height":`${c.layout.height}px`,...rv(l.transform),...e.style}};return T(YA,{get mount(){return document.body},get children(){return T(Et,{get when(){return t.active.draggable},get children(){var l=toe(),c=a;return typeof c=="function"?Ut(c,l):a=l,j(l,(()=>{var u=pt(()=>typeof e.children=="function");return()=>u()?e.children(t.active.draggable):e.children})()),ee(u=>{var f=e.class,d=s();return f!==u.e&&Nr(l,u.e=f),u.t=Nm(l,d,u.t),u},{e:void 0,t:void 0}),l}})}})},hoe=(e,t,r)=>{const n=e.slice();return n.splice(r,0,...n.splice(t,1)),n},J6=tn(),poe=e=>{const[t]=xs(),[r,n]=ix({initialIds:[],sortedIds:[]}),i=s=>s>=0&&s<r.initialIds.length;oe(()=>{n("initialIds",[...e.ids]),n("sortedIds",[...e.ids])}),oe(()=>{t.active.draggableId&&t.active.droppableId?De(()=>{const s=r.sortedIds.indexOf(t.active.draggableId),l=r.initialIds.indexOf(t.active.droppableId);if(!i(s)||!i(l))n("sortedIds",[...e.ids]);else if(s!==l){const c=hoe(r.sortedIds,s,l);n("sortedIds",c)}}):n("sortedIds",[...e.ids])});const a=[r,{}];return T(J6.Provider,{value:a,get children(){return e.children}})},goe=()=>rn(J6)||null,moe=(e,t)=>r=>{e(r),t(r)},voe=(e,t={})=>{const[r,{addTransformer:n,removeTransformer:i}]=xs(),[o]=goe(),a=uoe(e,t),s=foe(e,t),l=moe(a.ref,s.ref),c=()=>o.initialIds.indexOf(e),u=()=>o.sortedIds.indexOf(e),f=m=>{var v;return((v=r.droppables[m])==null?void 0:v.layout)||null},d=()=>{const m=Fn(),v=c(),b=u();if(b!==v){const y=f(e),w=f(o.initialIds[b]);y&&w&&(m.x=w.x-y.x,m.y=w.y-y.y)}return m},h={id:"sortableOffset",order:100,callback:m=>{const v=d();return{x:m.x+v.x,y:m.y+v.y}}};kt(()=>n("droppables",e,h)),be(()=>i("droppables",e,h.id));const p=()=>{var m,v;return(e===r.active.draggableId&&!r.active.overlay?(m=r.draggables[e])==null?void 0:m.transform:(v=r.droppables[e])==null?void 0:v.transform)||Fn()};return Object.defineProperties(m=>{a(m,()=>({skipTransform:!0})),s(m,()=>({skipTransform:!0})),oe(()=>{const v=p();if(eS(v,Fn()))m.style.removeProperty("transform");else{const b=rv(p());m.style.setProperty("transform",b.transform??null)}})},{ref:{enumerable:!0,value:l},transform:{enumerable:!0,get:p},isActiveDraggable:{enumerable:!0,get:()=>a.isActiveDraggable},dragActivators:{enumerable:!0,get:()=>a.dragActivators},isActiveDroppable:{enumerable:!0,get:()=>s.isActiveDroppable}})},boe=W('<div class="flex flex-col gap-2">'),yoe=W('<div class="sortable hidden bg-red-700 text-white p-4 rounded shadow z-50">/tt'),$oe=W('<div class=p-5><div class="text-2xl font-bold mb-4">Task List'),woe=W('<div class="sortable group/taskitem flex justify-between">'),Aoe=W('<div class=w-full><div class="flex items-start justify-between w-full"><div class="flex items-center space-x-2 w-full items-start"><span class="taskitem-text cursor-text text-foreground outline-0 overflow-hidden text-ellipsis text-pretty wrap-break-word leading-4 w-full">'),xoe=W('<label class="checkbox-check flex items-center cursor-pointer relative"><input type=checkbox class="peer size-4 cursor-pointer transition-all appearance-none rounded shadow hover:shadow-md border border-foreground checked:bg-primary/80 checked:border-primary"><span class="absolute text-white opacity-0 peer-checked:opacity-100 flex items-center justify-center"><svg xmlns=http://www.w3.org/2000/svg class=size-3/4 viewBox="0 0 20 20"fill=currentColor stroke=currentColor stroke-width=1><path fill-rule=evenodd d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"clip-rule=evenodd>');const Fb=(()=>{let e=0;return()=>`task-id-${e++}`})(),Soe=ax((e,t,r)=>{nQ(e,r,t)},300),X6=(e,t,r)=>{Soe(e,t,r)},Z6=e=>{const t=f=>f.map(d=>({...d,_id:Fb()})),[r,n]=Q(t(e.tasks)),[i,o]=Q(null),a=()=>r().map(f=>f._id),s=({draggable:f})=>{o(f.id)},l=({draggable:f,droppable:d})=>{if(f&&d){const p=a().indexOf(f.id),g=a().indexOf(d.id);let m=0,v=1;for(;!(p+v>r().length-1||r()[p+v].nestLevel===0);)v++,m++;if(p!==-1&&g!==-1&&p!==g){const b=[...r()],y=b.splice(p,1+m);console.log(y);for(let w=0;w<y.length;w++)b.splice(g+w,0,y[w]);n(b)}}const h=r().map(({_id:p,...g})=>g);Vs(e.id,h),o(null)},c=(f,d)=>{var v,b;const h=f.currentTarget;(v=h.textContent)==null||v.trim();const p=window.getSelection(),g=p&&p.rangeCount>0?p.getRangeAt(0):null,m=g?g.startOffset:0;if(["Tab","Backspace","Enter","ArrowUp","ArrowDown"].includes(f.key)){if(f.key==="Enter"){f.preventDefault(),n(w=>{const $=[...w],A=w[d],C={_id:Fb(),text:"",check:!1,nestLevel:A.nestLevel};return $.splice(d+1,0,C),$});const y=r().map(({_id:w,...$})=>$);Vs(e.id,y),queueMicrotask(()=>{const $=document.querySelectorAll(".taskitem-text")[d+1];$&&$.focus()});return}if(f.key==="Backspace"){const y=((b=h.textContent)==null?void 0:b.trim())??"";if(y===""&&r()[d].nestLevel>0){n(A=>A.map((C,E)=>E===d?{...C,text:y,nestLevel:C.nestLevel-1}:C));const $=r().map(({_id:A,...C})=>C);Vs(e.id,$),queueMicrotask(()=>{const C=document.querySelectorAll(".taskitem-text")[d];if(C){C.focus();const E=window.getSelection(),_=document.createRange();_.selectNodeContents(C),_.collapse(!1),E==null||E.removeAllRanges(),E==null||E.addRange(_)}});return}if(y===""&&r()[d].nestLevel===0){n(A=>{const C=[...A];return C.splice(d,1),C});const $=r().map(({_id:A,...C})=>C);Vs(e.id,$),queueMicrotask(()=>{const A=document.querySelectorAll(".taskitem-text"),C=A[d-1]||A[0];if(C){C.focus();const E=window.getSelection(),_=document.createRange();_.selectNodeContents(C),_.collapse(!1),E==null||E.removeAllRanges(),E==null||E.addRange(_)}});return}const w=p&&p.rangeCount>0?p.getRangeAt(0):null;if((w==null?void 0:w.startOffset)===0&&y!=="")return}if(f.key==="Tab"){f.preventDefault();const y=h.textContent||"";n($=>$.map((A,C)=>C===d?{...A,text:y,nestLevel:A.nestLevel+1}:A));const w=r().map(({_id:$,...A})=>A);Vs(e.id,w),queueMicrotask(()=>{const A=document.querySelectorAll(".taskitem-text")[d];if(A){A.focus();const C=window.getSelection(),E=document.createRange();E.setStart(A.firstChild||A,m),E.collapse(!0),C==null||C.removeAllRanges(),C==null||C.addRange(E)}});return}if(f.key==="ArrowUp"||f.key==="ArrowDown"){f.preventDefault();const y=Array.from(document.querySelectorAll(".taskitem-text")),w=d;let $=w;f.key==="ArrowUp"&&w>0?$=w-1:f.key==="ArrowDown"&&w<y.length-1&&($=w+1);const A=y[$];if(A){A.focus();const C=window.getSelection(),E=document.createRange();E.selectNodeContents(A),E.collapse(!1),C==null||C.removeAllRanges(),C==null||C.addRange(E)}return}}},u=(f,d)=>{f.preventDefault();const p=f.clipboardData.getData("text").split(/\r?\n/).filter(Boolean);if(p.length===0)return;n(m=>{const v=[...m];v[d]={...v[d],text:p[0]};const b=p.slice(1).map(y=>({_id:Fb(),text:y,check:!1,nestLevel:v[d].nestLevel}));return v.splice(d+1,0,...b),v});const g=r().map(({_id:m,...v})=>v);Vs(e.id,g),queueMicrotask(()=>{const v=document.querySelectorAll(".taskitem-text")[d+p.length-1];if(v){v.focus();const b=window.getSelection(),y=document.createRange();y.selectNodeContents(v),y.collapse(!1),b==null||b.removeAllRanges(),b==null||b.addRange(y)}})};return(()=>{var f=$oe();return f.firstChild,j(f,T(soe,{onDragStart:s,onDragEnd:l,collisionDetector:ooe,get children(){return[T(coe,{}),T(poe,{get ids(){return a()},get children(){var d=boe();return j(d,T(yt,{get each(){return r()},children:(h,p)=>T(Coe,{task:h,get id(){return h._id},get nodeId(){return e.id},get index(){return p()},handleKeyDown:c,handlePaste:u})})),d}}),T(doe,{get children(){var d=yoe(),h=d.firstChild;return j(d,i,h),d}})]}}),null),f})()},Coe=e=>{const t=voe(e.id),[r]=xs();return(()=>{var n=woe();return Ut(t,n,()=>!0),j(n,T(Eoe,ye(()=>e.task,{get index(){return e.index},get nodeId(){return e.nodeId},get handleKeyDown(){return e.handleKeyDown},get handlePaste(){return e.handlePaste}})),null),j(n,T(Cq,{class:"tasklist_handle size-4 cursor-pointer mt-1 transition-opacity duration-200 ease-out opacity-0 group-hover/taskitem:opacity-100 "}),null),ee(i=>{var o=!!t.isActiveDraggable,a=!!r.active.draggable;return o!==i.e&&n.classList.toggle("opacity-25",i.e=o),a!==i.t&&n.classList.toggle("transition-transform",i.t=a),i},{e:void 0,t:void 0}),n})()},Eoe=e=>(()=>{var t=Aoe(),r=t.firstChild,n=r.firstChild,i=n.firstChild;return j(n,T(koe,e),i),i.addEventListener("paste",o=>e.handlePaste(o,e.index)),i.$$input=o=>{X6(e.nodeId,e.index,o.currentTarget.textContent||"")},i.$$keydown=o=>e.handleKeyDown(o,e.index),z(i,"contenteditable",!0),j(i,()=>e.text),ee(o=>Z(t,"margin-left",`${e.nestLevel*18}px`)),t})(),koe=e=>(()=>{var t=xoe(),r=t.firstChild;return r.$$input=()=>X6(e.nodeId,e.index,!e.check),ee(()=>r.checked=e.check),t})();Ot(["keydown","input"]);function jb(e,t,r=!1,n=!1,i){var o,a,s;if(console.log(e,t,r,n,i),r){let l=lQ(e);if(!l){console.warn("Parent of the Node to move not found:",e);return}let c=B.nodes[l].find(u=>u.id===e);if(!c){console.warn("the Node to move not found:",e);return}Q$(e,l),n?(console.log(e),console.log("nested moved to canvas: ",e,t,r,n,i),Z0({...c,x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0,index:((o=B.nodes[t])==null?void 0:o.length)??0})):Z0({...c,x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0,index:((a=B.nodes[t])==null?void 0:a.length)??0},t)}else{let l=Xr(t),c=Xr(e);if(!c){console.warn("Node to move not found:",e);return}if(!l){console.warn("parent dist node to move to not found:",t);return}if(c.type===l.type){console.warn("Cannot nest nodes of the same type, nodemoved:",c.type,"parent:",l.type);return}console.log("moved to inside a column from the canvas"),Q$(e),console.log("starting to add the node"),Z0({...c,x:(i==null?void 0:i.x)||0,y:(i==null?void 0:i.y)||0,index:((s=B.nodes[l.id])==null?void 0:s.length)??0},l.id)}}function LT(e,t,r){const n=r.getBoundingClientRect();return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}function nv(e,t=!1,r){var h,p,g;let n=0,i=0,o=0,a=0,s=document.querySelectorAll(".column, .board");const l=1,c=(((h=r==null?void 0:r.classes)==null?void 0:h.length)||0)>0||(((p=r==null?void 0:r.ids)==null?void 0:p.length)||0)>0||(((g=r==null?void 0:r.tags)==null?void 0:g.length)||0)>0?[".child_node",...((r==null?void 0:r.classes)||[]).map(m=>`.${m}`),...((r==null?void 0:r.ids)||[]).map(m=>`#${m}`),...(r==null?void 0:r.tags)||[]].join(", "):".child_node",u=m=>{var b;if(B.showColorMenu&&le("showColorMenu",!1),e.type===ie.Image&&m.preventDefault(),console.log("dragging",e.id,t),m.button!==0||m.ctrlKey||!t&&m.target.closest(c))return;s=document.querySelectorAll(".column, .board"),console.info("started dragging:",e.id),TN(e.id),le("dragging",e.id);const v=((b=B.viewport)==null?void 0:b.scale)??1;n=(m.clientX-B.viewport.x)/v-e.x,i=(m.clientY-B.viewport.y)/v-e.y,o=m.clientX,a=m.clientY,window.addEventListener("pointermove",f),window.addEventListener("pointerup",d)},f=m=>{var $;console.info("moving:",e.id);const v=(($=B.viewport)==null?void 0:$.scale)??1;let b=(m.clientX-B.viewport.x)/v-n,y=(m.clientY-B.viewport.y)/v-i;t?aQ(e.id,b,y):X0(e.id,b,y);const w=sQ(e.id);//! could cause some performance issues if there is alot of column nodes on the canvas
s.forEach(A=>{LT(m.clientX,m.clientY,A)&&!w?A.classList.add("child_container_hover"):A.classList.remove("child_container_hover")})},d=m=>{le("dragging",null),window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",d);const v=Math.abs(((m==null?void 0:m.clientX)??0)-o),b=Math.abs(((m==null?void 0:m.clientY)??0)-a);if(!(v>l||b>l)&&m){if(console.log("================================================="),console.log("did not move so single click"),console.log("================================================="),m.target.closest(c))return;if(B.selectedNodes.size===0){const _=new Set([e.id]);le("selectedNodes",_)}else if(m.ctrlKey)eQ(m,e.id);else{const _=new Set([e.id]);le("selectedNodes",_)}return}console.log("dropping a node",e.id,t);const w=document.querySelectorAll(`.column:not(#${e.id}), .board:not(#${e.id})`);let $=!1;if(w.forEach(_=>{//! fix this e. error
const N=LT(m.clientX,m.clientY,_);_.classList.remove("child_container_hover"),t?N&&($=!0,console.error("this is the end herer"),jb(e.id,_.id,!0)):N&&(jb(e.id,_.id),$=!0)}),!$)if(t){const _=document.querySelectorAll(`#${e.id}`);console.info(_[0].getBoundingClientRect()),jb(e.id,"None",!0,!0,{x:Math.round(_[0].getBoundingClientRect().x/10)*10,y:Math.round(_[0].getBoundingClientRect().y/10)*10})}else if(B.snapGrid){const[_,N]=B.snapGrid,M=Xr(e.id),O=Math.round(((M==null?void 0:M.x)??0)/_)*_,D=Math.round(((M==null?void 0:M.y)??0)/N)*N;console.info(O,D),requestAnimationFrame(()=>{X0(e.id,O,D),wt()})}else{//! untested
requestAnimationFrame(()=>{const _=Xr(e.id);X0(e.id,(_==null?void 0:_.x)??0,(_==null?void 0:_.y)??0),wt()})}const A=document.getElementById(e.id),C=A==null?void 0:A.getBoundingClientRect(),E=B.viewport.scale||1;if(C){const _=C.width/E,N=C.height/E,M=e.x+_,O=e.y+N;if(M>B.viewport.width){const D=Math.round((M+50)/10)*10;le("viewport",{width:Math.max(D,B.viewport.width)})}if(O>B.viewport.height){const D=Math.round((O+50)/10)*10;le("viewport",{height:Math.max(D,B.viewport.height)})}}wt()};return be(()=>{console.warn("this is cleanup",e.id),window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",d)}),{startDrag:u}}var Ooe=W("<div id=invalid_url>The url provided is invalid"),Toe=W('<div class=space-y-2><div class="text_container p-4 space-y-2 overflow-hidden text-ellipsis"><div class="url_container flex flex-row items-center space-x-2"><img class="url_thumbnail size-4"alt=favicon><div><a class="url text-xs font-bold text-foreground"></a></div></div><div><a class="underline text-primary font-extrabold"></a></div><div class="url_description text-xs">'),Ioe=W("<div>youtube vid"),Moe=W('<div><img class="url_thumbnail pointer-events-none"alt>');const e8=e=>{nv(e,e.is_child);const[t,r]=Q({title:"placeholder",description:"placeholder",image:"placeholder.png",favicon:"placeholder.png"});function n(o){return/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/.+$/.test(o)}Ooe();const i=async o=>{try{return await Ft("scrape_url",{url:o})}catch(a){return console.error("Error scraping metadata:",a),null}};return kt(()=>{queueMicrotask(()=>{i(e.url).then(o=>{o&&r(o)})})}),(()=>{var o=Toe(),a=o.firstChild,s=a.firstChild,l=s.firstChild,c=l.nextSibling,u=c.firstChild,f=s.nextSibling,d=f.firstChild,h=f.nextSibling;return j(o,(()=>{var p=pt(()=>!!n(e.url));return()=>p()?Ioe():(()=>{var g=Moe(),m=g.firstChild;return ee(()=>z(m,"src",t().image)),g})()})(),a),j(u,()=>e.url),j(d,()=>t().title),j(h,()=>t().description),ee(p=>{var g=t().favicon,m=e.url,v=e.url;return g!==p.e&&z(l,"src",p.e=g),m!==p.t&&z(u,"href",p.t=m),v!==p.a&&z(d,"href",p.a=v),p},{e:void 0,t:void 0,a:void 0}),o})()};var Poe=W('<div class="board flex flex-col justify-center items-center"><div class="board_icon flex flex-col justify-center items-center"></div><div class="text_container flex flex-col justify-center items-center"><div></div><div>content');const t8=e=>{const{startDrag:t}=nv(e,e.is_child),r=()=>{console.error("double clicked the board",e.id);const n=Xr(e.id);le("activeBoards",i=>[...i,{name:n.name,id:n.id}]),le("selectedNodes",new Set([]))};return(()=>{var n=Poe(),i=n.firstChild,o=i.nextSibling,a=o.firstChild,s=a.nextSibling;return sa(n,"pointerdown",t,!0),n.$$dblclick=r,j(i,T(kN,{class:"size-full p-2"})),j(a,()=>e.name),ee(l=>{var c={child_node:e.is_child,node:!e.is_child,"flex flex-row justify-start p-2 pl-2.5 border":e.is_child,selected_node:B.selectedNodes.has(e.id)},u=e.id,f=e.is_child?`#${e.color?e.color:"var(--color-primary)"}20`:"#00000000",d=e.is_child?"100%":"60px",h=e.zIndex,p=e.is_child?"":"15px",g=`translate3d(${e.x}px, ${e.y}px, 0)`,m=e.color?e.color:"var(--color-primary)",v=e.is_child?"50px":"60px",b=e.is_child?"50px":"60px",y=e.is_child?"10px":"",w=e.is_child?"10px":"15px",$={"board_text mt-2.5 mb-1.5 text-nowrap":!e.is_child,"board_text_child self-start mb-1.5":e.is_child},A={"board_content text-grey":!e.is_child,"board_content_child text-grey self-start":e.is_child};return l.e=Ha(n,c,l.e),u!==l.t&&z(n,"id",l.t=u),f!==l.a&&Z(n,"background",l.a=f),d!==l.o&&Z(n,"width",l.o=d),h!==l.i&&Z(n,"z-index",l.i=h),p!==l.n&&Z(n,"border-radius",l.n=p),g!==l.s&&Z(n,"transform",l.s=g),m!==l.h&&Z(i,"background",l.h=m),v!==l.r&&Z(i,"width",l.r=v),b!==l.d&&Z(i,"height",l.d=b),y!==l.l&&Z(i,"margin-right",l.l=y),w!==l.u&&Z(i,"border-radius",l.u=w),l.c=Ha(a,$,l.c),l.w=Ha(s,A,l.w),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),n})()};Ot(["dblclick","pointerdown"]);function r8(e){var a;const[t,r]=Q((a=e.defaultValue)==null?void 0:a.call(e)),n=me(()=>{var s;return((s=e.value)==null?void 0:s.call(e))!==void 0}),i=me(()=>{var s;return n()?(s=e.value)==null?void 0:s.call(e):t()});return[i,s=>{De(()=>{var c;const l=wG(s,i());return Object.is(l,i())||(n()||r(l),(c=e.onChange)==null||c.call(e,l)),l})}]}function n8(e){const[t,r]=r8(e);return[()=>t()??!1,r]}function Doe(e={}){const[t,r]=n8({value:()=>F(e.isSelected),defaultValue:()=>!!F(e.defaultIsSelected),onChange:o=>{var a;return(a=e.onSelectedChange)==null?void 0:a.call(e,o)}});return{isSelected:t,setIsSelected:o=>{!F(e.isReadOnly)&&!F(e.isDisabled)&&r(o)},toggle:()=>{!F(e.isReadOnly)&&!F(e.isDisabled)&&r(!t())}}}function Ui(e){return t=>(e(t),()=>e(void 0))}var i8=["id","name","validationState","required","disabled","readOnly"];function o8(e){const t=`form-control-${ac()}`,r=rt({id:t},e),[n,i]=Q(),[o,a]=Q(),[s,l]=Q(),[c,u]=Q(),f=(g,m,v)=>{const b=v!=null||n()!=null;return[v,n(),b&&m!=null?g:void 0].filter(Boolean).join(" ")||void 0},d=g=>[s(),c(),g].filter(Boolean).join(" ")||void 0,h=me(()=>({"data-valid":F(r.validationState)==="valid"?"":void 0,"data-invalid":F(r.validationState)==="invalid"?"":void 0,"data-required":F(r.required)?"":void 0,"data-disabled":F(r.disabled)?"":void 0,"data-readonly":F(r.readOnly)?"":void 0}));return{formControlContext:{name:()=>F(r.name)??F(r.id),dataset:h,validationState:()=>F(r.validationState),isRequired:()=>F(r.required),isDisabled:()=>F(r.disabled),isReadOnly:()=>F(r.readOnly),labelId:n,fieldId:o,descriptionId:s,errorMessageId:c,getAriaLabelledBy:f,getAriaDescribedBy:d,generateId:_f(()=>F(r.id)),registerLabel:Ui(i),registerField:Ui(a),registerDescription:Ui(l),registerErrorMessage:Ui(u)}}}var tS=tn();function Si(){const e=rn(tS);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function rS(e){const t=Si(),r=rt({id:t.generateId("description")},e);return oe(()=>be(t.registerDescription(r.id))),T(xt,ye({as:"div"},()=>t.dataset(),r))}var a8=["id","aria-label","aria-labelledby","aria-describedby"];function s8(e){const t=Si(),r=rt({id:t.generateId("field")},e);return oe(()=>be(t.registerField(F(r.id)))),{fieldProps:{id:()=>F(r.id),ariaLabel:()=>F(r["aria-label"]),ariaLabelledBy:()=>t.getAriaLabelledBy(F(r.id),F(r["aria-label"]),F(r["aria-labelledby"])),ariaDescribedBy:()=>t.getAriaDescribedBy(F(r["aria-describedby"]))}}}function l8(e){let t;const r=Si(),n=rt({id:r.generateId("label")},e),[i,o]=Ie(n,["ref"]),a=wN(()=>t,()=>"label");return oe(()=>be(r.registerLabel(o.id))),T(xt,ye({as:"label",ref(s){var l=Lr(c=>t=c,i.ref);typeof l=="function"&&l(s)},get for(){return pt(()=>a()==="label")()?r.fieldId():void 0}},()=>r.dataset(),o))}function c8(e,t){oe(hi(e,r=>{if(r==null)return;const n=_oe(r);n!=null&&(n.addEventListener("reset",t,{passive:!0}),be(()=>{n.removeEventListener("reset",t)}))}))}function _oe(e){return Noe(e)?e.form:e.closest("form")}function Noe(e){return e.matches("textarea, input, select, button")}function nS(e){const t=Si(),r=rt({id:t.generateId("error-message")},e),[n,i]=Ie(r,["forceMount"]),o=()=>t.validationState()==="invalid";return oe(()=>{o()&&be(t.registerErrorMessage(i.id))}),T(Et,{get when(){return n.forceMount||o()},get children(){return T(xt,ye({as:"div"},()=>t.dataset(),i))}})}var rr=e=>typeof e=="function"?e():e,Loe=e=>{const t=me(()=>{const a=rr(e.element);if(a)return getComputedStyle(a)}),r=()=>{var a;return((a=t())==null?void 0:a.animationName)??"none"},[n,i]=Q(rr(e.show)?"present":"hidden");let o="none";return oe(a=>{const s=rr(e.show);return De(()=>{var u;if(a===s)return s;const l=o,c=r();s?i("present"):c==="none"||((u=t())==null?void 0:u.display)==="none"?i("hidden"):i(a===!0&&l!==c?"hiding":"hidden")}),s}),oe(()=>{const a=rr(e.element);if(!a)return;const s=c=>{c.target===a&&(o=r())},l=c=>{const f=r().includes(c.animationName);c.target===a&&f&&n()==="hiding"&&i("hidden")};a.addEventListener("animationstart",s),a.addEventListener("animationcancel",l),a.addEventListener("animationend",l),be(()=>{a.removeEventListener("animationstart",s),a.removeEventListener("animationcancel",l),a.removeEventListener("animationend",l)})}),{present:()=>n()==="present"||n()==="hiding",state:n,setState:i}},Roe=Loe,u8=Roe,Boe={};Bm(Boe,{Checkbox:()=>qo,Control:()=>d8,Description:()=>h8,ErrorMessage:()=>p8,Indicator:()=>g8,Input:()=>m8,Label:()=>v8,Root:()=>b8,useCheckboxContext:()=>Ss});var f8=tn();function Ss(){const e=rn(f8);if(e===void 0)throw new Error("[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component");return e}function d8(e){const t=Si(),r=Ss(),n=rt({id:r.generateId("control")},e),[i,o]=Ie(n,["onClick","onKeyDown"]);return T(xt,ye({as:"div",onClick:l=>{var c;Lt(l,i.onClick),r.toggle(),(c=r.inputRef())==null||c.focus()},onKeyDown:l=>{var c;Lt(l,i.onKeyDown),l.key===XA.Space&&(r.toggle(),(c=r.inputRef())==null||c.focus())}},()=>t.dataset(),()=>r.dataset(),o))}function h8(e){const t=Ss();return T(rS,ye(()=>t.dataset(),e))}function p8(e){const t=Ss();return T(nS,ye(()=>t.dataset(),e))}function g8(e){const t=Si(),r=Ss(),[n,i]=Q(),o=rt({id:r.generateId("indicator")},e),[a,s]=Ie(o,["ref","forceMount"]),{present:l}=u8({show:()=>a.forceMount||r.indeterminate()||r.checked(),element:()=>n()??null});return T(Et,{get when(){return l()},get children(){return T(xt,ye({as:"div",ref(c){var u=Lr(i,a.ref);typeof u=="function"&&u(c)}},()=>t.dataset(),()=>r.dataset(),s))}})}function m8(e){let t;const r=Si(),n=Ss(),i=rt({id:n.generateId("input")},e),[o,a,s]=Ie(i,["ref","style","onChange","onFocus","onBlur"],a8),{fieldProps:l}=s8(a),[c,u]=Q(!1),f=p=>{if(Lt(p,o.onChange),p.stopPropagation(),!c()){const g=p.target;n.setIsChecked(g.checked),g.checked=n.checked()}u(!1)},d=p=>{Lt(p,o.onFocus),n.setIsFocused(!0)},h=p=>{Lt(p,o.onBlur),n.setIsFocused(!1)};return oe(hi([()=>n.checked(),()=>n.value()],()=>{u(!0),t==null||t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),t==null||t.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},{defer:!0})),oe(hi([()=>t,()=>n.indeterminate(),()=>n.checked()],([p,g])=>{p&&(p.indeterminate=g)})),T(xt,ye({as:"input",ref(p){var g=Lr(m=>{n.setInputRef(m),t=m},o.ref);typeof g=="function"&&g(p)},type:"checkbox",get id(){return l.id()},get name(){return r.name()},get value(){return n.value()},get checked(){return n.checked()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readonly(){return r.isReadOnly()},get style(){return Lm(rx,o.style)},get"aria-label"(){return l.ariaLabel()},get"aria-labelledby"(){return l.ariaLabelledBy()},get"aria-describedby"(){return l.ariaDescribedBy()},get"aria-invalid"(){return r.validationState()==="invalid"||void 0},get"aria-required"(){return r.isRequired()},get"aria-disabled"(){return r.isDisabled()},get"aria-readonly"(){return r.isReadOnly()},onChange:f,onFocus:d,onBlur:h},()=>r.dataset(),()=>n.dataset(),s))}function v8(e){const t=Ss();return T(l8,ye(()=>t.dataset(),e))}function b8(e){let t;const r=`checkbox-${ac()}`,n=rt({value:"on",id:r},e),[i,o,a]=Ie(n,["ref","children","value","checked","defaultChecked","indeterminate","onChange","onPointerDown"],i8),[s,l]=Q(),[c,u]=Q(!1),{formControlContext:f}=o8(o),d=Doe({isSelected:()=>i.checked,defaultIsSelected:()=>i.defaultChecked,onSelectedChange:m=>{var v;return(v=i.onChange)==null?void 0:v.call(i,m)},isDisabled:()=>f.isDisabled(),isReadOnly:()=>f.isReadOnly()});c8(()=>t,()=>d.setIsSelected(i.defaultChecked??!1));const h=m=>{Lt(m,i.onPointerDown),c()&&m.preventDefault()},p=me(()=>({"data-checked":d.isSelected()?"":void 0,"data-indeterminate":i.indeterminate?"":void 0})),g={value:()=>i.value,dataset:p,checked:()=>d.isSelected(),indeterminate:()=>i.indeterminate??!1,inputRef:s,generateId:_f(()=>F(o.id)),toggle:()=>d.toggle(),setIsChecked:m=>d.setIsSelected(m),setIsFocused:u,setInputRef:l};return T(tS.Provider,{value:f,get children(){return T(f8.Provider,{value:g,get children(){return T(xt,ye({as:"div",ref(m){var v=Lr(b=>t=b,i.ref);typeof v=="function"&&v(m)},role:"group",get id(){return F(o.id)},onPointerDown:h},()=>f.dataset(),p,a,{get children(){return T(Foe,{state:g,get children(){return i.children}})}}))}})}})}function Foe(e){const t=Dm(()=>{const r=e.children;return Rm(r)?r(e.state):r});return pt(t)}var qo=Object.assign(b8,{Control:d8,Description:h8,ErrorMessage:p8,Indicator:g8,Input:m8,Label:v8}),joe=W('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="h-4 w-4"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m5 12l5 5L20 7"></path><title>Checkbox');qo.Label;const zoe=qo;qo.ErrorMessage;qo.Description;const Hoe=e=>{const[t,r]=Ie(e,["class","children"]);return[T(qo.Input,{class:"[&:focus-visible+div]:outline-none [&:focus-visible+div]:ring-[1.5px] [&:focus-visible+div]:ring-ring [&:focus-visible+div]:ring-offset-2 [&:focus-visible+div]:ring-offset-background"}),T(qo.Control,ye({get class(){return Df("cursor-pointer h-4 w-4 shrink-0 rounded-sm border border-primary shadow transition-shadow focus-visible:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring data-[disabled]:cursor-not-allowed data-[checked]:bg-primary data-[checked]:text-primary-foreground data-[disabled]:opacity-50",t.class)}},r,{get children(){return T(qo.Indicator,{class:"flex items-center justify-center text-current",get children(){return joe()}})}}))]};function y8(e){let t=e.startIndex??0;const r=e.startLevel??0,n=[],i=l=>{if(l==null)return"";const c=e.getKey??"key",u=sl(c)?l[c]:c(l);return u!=null?String(u):""},o=l=>{if(l==null)return"";const c=e.getTextValue??"textValue",u=sl(c)?l[c]:c(l);return u!=null?String(u):""},a=l=>{if(l==null)return!1;const c=e.getDisabled??"disabled";return(sl(c)?l[c]:c(l))??!1},s=l=>{var c;if(l!=null)return sl(e.getSectionChildren)?l[e.getSectionChildren]:(c=e.getSectionChildren)==null?void 0:c.call(e,l)};for(const l of e.dataSource){if(sl(l)||OG(l)){n.push({type:"item",rawValue:l,key:String(l),textValue:String(l),disabled:a(l),level:r,index:t}),t++;continue}if(s(l)!=null){n.push({type:"section",rawValue:l,key:"",textValue:"",disabled:!1,level:r,index:t}),t++;const c=s(l)??[];if(c.length>0){const u=y8({dataSource:c,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:t,startLevel:r+1});n.push(...u),t+=u.length}}else n.push({type:"item",rawValue:l,key:i(l),textValue:o(l),disabled:a(l),level:r,index:t}),t++}return n}function Voe(e,t=[]){return me(()=>{const r=y8({dataSource:F(e.dataSource),getKey:F(e.getKey),getTextValue:F(e.getTextValue),getDisabled:F(e.getDisabled),getSectionChildren:F(e.getSectionChildren)});for(let n=0;n<t.length;n++)t[n]();return e.factory(r)})}var Uoe=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Woe=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Koe(e){if(Intl.Locale){const r=new Intl.Locale(e).maximize().script??"";return Uoe.has(r)}const t=e.split("-")[0];return Woe.has(t)}function Goe(e){return Koe(e)?"rtl":"ltr"}function $8(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:Goe(e)}}var Vw=$8(),gu=new Set;function RT(){Vw=$8();for(const e of gu)e(Vw)}function qoe(){const[e,t]=Q(Vw),r=me(()=>e());return kt(()=>{gu.size===0&&window.addEventListener("languagechange",RT),gu.add(t),be(()=>{gu.delete(t),gu.size===0&&window.removeEventListener("languagechange",RT)})}),{locale:()=>r().locale,direction:()=>r().direction}}var Qoe=tn();function iS(){const e=qoe();return rn(Qoe)||e}var zb=new Map;function w8(e){const{locale:t}=iS(),r=me(()=>t()+(e?Object.entries(e).sort((n,i)=>n[0]<i[0]?-1:1).join():""));return me(()=>{const n=r();let i;return zb.has(n)&&(i=zb.get(n)),i||(i=new Intl.Collator(t(),e),zb.set(n,i)),i})}var ai=class A8 extends Set{constructor(r,n,i){super(r);R(this,"anchorKey");R(this,"currentKey");r instanceof A8?(this.anchorKey=n||r.anchorKey,this.currentKey=i||r.currentKey):(this.anchorKey=n,this.currentKey=i)}};function Yoe(e){const[t,r]=r8(e);return[()=>t()??new ai,r]}function x8(e){return DG()?e.altKey:e.ctrlKey}function dl(e){return Nf()?e.metaKey:e.ctrlKey}function BT(e){return new ai(e)}function S8(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Joe(e){const t=rt({selectionMode:"none",selectionBehavior:"toggle"},e),[r,n]=Q(!1),[i,o]=Q(),a=me(()=>{const g=F(t.selectedKeys);return g!=null?BT(g):g}),s=me(()=>{const g=F(t.defaultSelectedKeys);return g!=null?BT(g):new ai}),[l,c]=Yoe({value:a,defaultValue:s,onChange:g=>{var m;return(m=t.onSelectionChange)==null?void 0:m.call(t,g)}}),[u,f]=Q(F(t.selectionBehavior)),d=()=>F(t.selectionMode),h=()=>F(t.disallowEmptySelection)??!1,p=g=>{(F(t.allowDuplicateSelectionEvents)||!S8(g,l()))&&c(g)};return oe(()=>{const g=l();F(t.selectionBehavior)==="replace"&&u()==="toggle"&&typeof g=="object"&&g.size===0&&f("replace")}),oe(()=>{f(F(t.selectionBehavior)??"toggle")}),{selectionMode:d,disallowEmptySelection:h,selectionBehavior:u,setSelectionBehavior:f,isFocused:r,setFocused:n,focusedKey:i,setFocusedKey:o,selectedKeys:l,setSelectedKeys:p}}function C8(e){const[t,r]=Q(""),[n,i]=Q(-1);return{typeSelectHandlers:{onKeyDown:a=>{var d;if(F(e.isDisabled))return;const s=F(e.keyboardDelegate),l=F(e.selectionManager);if(!s.getKeyForSearch)return;const c=Xoe(a.key);if(!c||a.ctrlKey||a.metaKey)return;c===" "&&t().trim().length>0&&(a.preventDefault(),a.stopPropagation());let u=r(h=>h+c),f=s.getKeyForSearch(u,l.focusedKey())??s.getKeyForSearch(u);f==null&&Zoe(u)&&(u=u[0],f=s.getKeyForSearch(u,l.focusedKey())??s.getKeyForSearch(u)),f!=null&&(l.setFocusedKey(f),(d=e.onTypeSelect)==null||d.call(e,f)),clearTimeout(n()),i(window.setTimeout(()=>r(""),500))}}}}function Xoe(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function Zoe(e){return e.split("").every(t=>t===e[0])}function eae(e,t,r){const i=ye({selectOnFocus:()=>F(e.selectionManager).selectionBehavior()==="replace"},e),o=()=>(r==null?void 0:r())??t(),{direction:a}=iS();let s={top:0,left:0};SG(()=>F(i.isVirtualized)?void 0:o(),"scroll",()=>{const m=o();m&&(s={top:m.scrollTop,left:m.scrollLeft})});const{typeSelectHandlers:l}=C8({isDisabled:()=>F(i.disallowTypeAhead),keyboardDelegate:()=>F(i.keyboardDelegate),selectionManager:()=>F(i.selectionManager)}),c=()=>F(i.orientation)??"vertical",u=m=>{var E,_,N,M,O,D,S,k;Lt(m,l.onKeyDown),m.altKey&&m.key==="Tab"&&m.preventDefault();const v=t();if(!(v!=null&&v.contains(m.target)))return;const b=F(i.selectionManager),y=F(i.selectOnFocus),w=x=>{x!=null&&(b.setFocusedKey(x),m.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(x):y&&!x8(m)&&b.replaceSelection(x))},$=F(i.keyboardDelegate),A=F(i.shouldFocusWrap),C=b.focusedKey();switch(m.key){case(c()==="vertical"?"ArrowDown":"ArrowRight"):{if($.getKeyBelow){m.preventDefault();let x;C!=null?x=$.getKeyBelow(C):x=(E=$.getFirstKey)==null?void 0:E.call($),x==null&&A&&(x=(_=$.getFirstKey)==null?void 0:_.call($,C)),w(x)}break}case(c()==="vertical"?"ArrowUp":"ArrowLeft"):{if($.getKeyAbove){m.preventDefault();let x;C!=null?x=$.getKeyAbove(C):x=(N=$.getLastKey)==null?void 0:N.call($),x==null&&A&&(x=(M=$.getLastKey)==null?void 0:M.call($,C)),w(x)}break}case(c()==="vertical"?"ArrowLeft":"ArrowUp"):{if($.getKeyLeftOf){m.preventDefault();const x=a()==="rtl";let P;C!=null?P=$.getKeyLeftOf(C):P=x?(O=$.getFirstKey)==null?void 0:O.call($):(D=$.getLastKey)==null?void 0:D.call($),w(P)}break}case(c()==="vertical"?"ArrowRight":"ArrowDown"):{if($.getKeyRightOf){m.preventDefault();const x=a()==="rtl";let P;C!=null?P=$.getKeyRightOf(C):P=x?(S=$.getLastKey)==null?void 0:S.call($):(k=$.getFirstKey)==null?void 0:k.call($),w(P)}break}case"Home":if($.getFirstKey){m.preventDefault();const x=$.getFirstKey(C,dl(m));x!=null&&(b.setFocusedKey(x),dl(m)&&m.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(x):y&&b.replaceSelection(x))}break;case"End":if($.getLastKey){m.preventDefault();const x=$.getLastKey(C,dl(m));x!=null&&(b.setFocusedKey(x),dl(m)&&m.shiftKey&&b.selectionMode()==="multiple"?b.extendSelection(x):y&&b.replaceSelection(x))}break;case"PageDown":if($.getKeyPageBelow&&C!=null){m.preventDefault();const x=$.getKeyPageBelow(C);w(x)}break;case"PageUp":if($.getKeyPageAbove&&C!=null){m.preventDefault();const x=$.getKeyPageAbove(C);w(x)}break;case"a":dl(m)&&b.selectionMode()==="multiple"&&F(i.disallowSelectAll)!==!0&&(m.preventDefault(),b.selectAll());break;case"Escape":m.defaultPrevented||(m.preventDefault(),F(i.disallowEmptySelection)||b.clearSelection());break;case"Tab":if(!F(i.allowsTabNavigation)){if(m.shiftKey)v.focus();else{const x=WG(v,{tabbable:!0});let P,I;do I=x.lastChild(),I&&(P=I);while(I);P&&!P.contains(document.activeElement)&&Tr(P)}break}}},f=m=>{var w,$;const v=F(i.selectionManager),b=F(i.keyboardDelegate),y=F(i.selectOnFocus);if(v.isFocused()){m.currentTarget.contains(m.target)||v.setFocused(!1);return}if(m.currentTarget.contains(m.target)){if(v.setFocused(!0),v.focusedKey()==null){const A=E=>{E!=null&&(v.setFocusedKey(E),y&&v.replaceSelection(E))},C=m.relatedTarget;C&&m.currentTarget.compareDocumentPosition(C)&Node.DOCUMENT_POSITION_FOLLOWING?A(v.lastSelectedKey()??((w=b.getLastKey)==null?void 0:w.call(b))):A(v.firstSelectedKey()??(($=b.getFirstKey)==null?void 0:$.call(b)))}else if(!F(i.isVirtualized)){const A=o();if(A){A.scrollTop=s.top,A.scrollLeft=s.left;const C=A.querySelector(`[data-key="${v.focusedKey()}"]`);C&&(Tr(C),Ok(A,C))}}}},d=m=>{const v=F(i.selectionManager);m.currentTarget.contains(m.relatedTarget)||v.setFocused(!1)},h=m=>{o()===m.target&&m.preventDefault()},p=()=>{var A,C;const m=F(i.autoFocus);if(!m)return;const v=F(i.selectionManager),b=F(i.keyboardDelegate);let y;m==="first"&&(y=(A=b.getFirstKey)==null?void 0:A.call(b)),m==="last"&&(y=(C=b.getLastKey)==null?void 0:C.call(b));const w=v.selectedKeys();w.size&&(y=w.values().next().value),v.setFocused(!0),v.setFocusedKey(y);const $=t();$&&y==null&&!F(i.shouldUseVirtualFocus)&&Tr($)};return kt(()=>{i.deferAutoFocus?setTimeout(p,0):p()}),oe(hi([o,()=>F(i.isVirtualized),()=>F(i.selectionManager).focusedKey()],m=>{var w;const[v,b,y]=m;if(b)y&&((w=i.scrollToKey)==null||w.call(i,y));else if(y&&v){const $=v.querySelector(`[data-key="${y}"]`);$&&Ok(v,$)}})),{tabIndex:me(()=>{if(!F(i.shouldUseVirtualFocus))return F(i.selectionManager).focusedKey()==null?0:-1}),onKeyDown:u,onMouseDown:h,onFocusIn:f,onFocusOut:d}}function tae(e,t){const r=()=>F(e.selectionManager),n=()=>F(e.key),i=()=>F(e.shouldUseVirtualFocus),o=b=>{r().selectionMode()!=="none"&&(r().selectionMode()==="single"?r().isSelected(n())&&!r().disallowEmptySelection()?r().toggleSelection(n()):r().replaceSelection(n()):b!=null&&b.shiftKey?r().extendSelection(n()):r().selectionBehavior()==="toggle"||dl(b)||"pointerType"in b&&b.pointerType==="touch"?r().toggleSelection(n()):r().replaceSelection(n()))},a=()=>r().isSelected(n()),s=()=>F(e.disabled)||r().isDisabled(n()),l=()=>!s()&&r().canSelectItem(n());let c=null;const u=b=>{l()&&(c=b.pointerType,b.pointerType==="mouse"&&b.button===0&&!F(e.shouldSelectOnPressUp)&&o(b))},f=b=>{l()&&b.pointerType==="mouse"&&b.button===0&&F(e.shouldSelectOnPressUp)&&F(e.allowsDifferentPressOrigin)&&o(b)},d=b=>{l()&&(F(e.shouldSelectOnPressUp)&&!F(e.allowsDifferentPressOrigin)||c!=="mouse")&&o(b)},h=b=>{!l()||!["Enter"," "].includes(b.key)||(x8(b)?r().toggleSelection(n()):o(b))},p=b=>{s()&&b.preventDefault()},g=b=>{const y=t();i()||s()||!y||b.target===y&&r().setFocusedKey(n())},m=me(()=>{if(!(i()||s()))return n()===r().focusedKey()?0:-1}),v=me(()=>F(e.virtualized)?void 0:n());return oe(hi([t,n,i,()=>r().focusedKey(),()=>r().isFocused()],([b,y,w,$,A])=>{b&&y===$&&A&&!w&&document.activeElement!==b&&(e.focus?e.focus():Tr(b))})),{isSelected:a,isDisabled:s,allowsSelection:l,tabIndex:m,dataKey:v,onPointerDown:u,onPointerUp:f,onClick:d,onKeyDown:h,onMouseDown:p,onFocus:g}}var rae=class{constructor(e,t){R(this,"collection");R(this,"state");this.collection=e,this.state=t}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}isFocused(){return this.state.isFocused()}setFocused(e){this.state.setFocused(e)}focusedKey(){return this.state.focusedKey()}setFocusedKey(e){(e==null||this.collection().getItem(e))&&this.state.setFocusedKey(e)}selectedKeys(){return this.state.selectedKeys()}isSelected(e){if(this.state.selectionMode()==="none")return!1;const t=this.getKey(e);return t==null?!1:this.state.selectedKeys().has(t)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const e=this.state.selectedKeys();return this.getAllSelectableKeys().every(t=>e.has(t))}firstSelectedKey(){let e;for(const t of this.state.selectedKeys()){const r=this.collection().getItem(t),n=(r==null?void 0:r.index)!=null&&(e==null?void 0:e.index)!=null&&r.index<e.index;(!e||n)&&(e=r)}return e==null?void 0:e.key}lastSelectedKey(){let e;for(const t of this.state.selectedKeys()){const r=this.collection().getItem(t),n=(r==null?void 0:r.index)!=null&&(e==null?void 0:e.index)!=null&&r.index>e.index;(!e||n)&&(e=r)}return e==null?void 0:e.key}extendSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const r=this.state.selectedKeys(),n=r.anchorKey||t,i=new ai(r,n,t);for(const o of this.getKeyRange(n,r.currentKey||t))i.delete(o);for(const o of this.getKeyRange(t,n))this.canSelectItem(o)&&i.add(o);this.state.setSelectedKeys(i)}getKeyRange(e,t){const r=this.collection().getItem(e),n=this.collection().getItem(t);return r&&n?r.index!=null&&n.index!=null&&r.index<=n.index?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){const r=[];let n=e;for(;n!=null;){const i=this.collection().getItem(n);if(i&&i.type==="item"&&r.push(n),n===t)return r;n=this.collection().getKeyAfter(n)}return[]}getKey(e){const t=this.collection().getItem(e);return t?!t||t.type!=="item"?null:t.key:e}toggleSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const r=new ai(this.state.selectedKeys());r.has(t)?r.delete(t):this.canSelectItem(t)&&(r.add(t),r.anchorKey=t,r.currentKey=t),!(this.disallowEmptySelection()&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(e){if(this.selectionMode()==="none")return;const t=this.getKey(e);if(t==null)return;const r=this.canSelectItem(t)?new ai([t],t,t):new ai;this.state.setSelectedKeys(r)}setSelectedKeys(e){if(this.selectionMode()==="none")return;const t=new ai;for(const r of e){const n=this.getKey(r);if(n!=null&&(t.add(n),this.selectionMode()==="single"))break}this.state.setSelectedKeys(t)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const e=this.state.selectedKeys();!this.disallowEmptySelection()&&e.size>0&&this.state.setSelectedKeys(new ai)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(e)&&!this.disallowEmptySelection()?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior()==="toggle"||t&&t.pointerType==="touch"?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys())return!0;const t=this.selectedKeys();if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;for(const r of t)if(!e.has(r))return!1;return!0}canSelectItem(e){if(this.state.selectionMode()==="none")return!1;const t=this.collection().getItem(e);return t!=null&&!t.disabled}isDisabled(e){const t=this.collection().getItem(e);return!t||t.disabled}getAllSelectableKeys(){const e=[];return(r=>{for(;r!=null;){if(this.canSelectItem(r)){const n=this.collection().getItem(r);if(!n)continue;n.type==="item"&&e.push(r)}r=this.collection().getKeyAfter(r)}})(this.collection().getFirstKey()),e}},FT=class{constructor(e){R(this,"keyMap",new Map);R(this,"iterable");R(this,"firstKey");R(this,"lastKey");this.iterable=e;for(const n of e)this.keyMap.set(n.key,n);if(this.keyMap.size===0)return;let t,r=0;for(const[n,i]of this.keyMap)t?(t.nextKey=n,i.prevKey=t.key):(this.firstKey=n,i.prevKey=void 0),i.type==="item"&&(i.index=r++),t=i,t.nextKey=void 0;this.lastKey=t.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){var t;return(t=this.keyMap.get(e))==null?void 0:t.prevKey}getKeyAfter(e){var t;return(t=this.keyMap.get(e))==null?void 0:t.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}};function E8(e){const t=Joe(e),n=Voe({dataSource:()=>F(e.dataSource),getKey:()=>F(e.getKey),getTextValue:()=>F(e.getTextValue),getDisabled:()=>F(e.getDisabled),getSectionChildren:()=>F(e.getSectionChildren),factory:o=>e.filter?new FT(e.filter(o)):new FT(o)},[()=>e.filter]),i=new rae(n,t);return aK(()=>{const o=t.focusedKey();o!=null&&!n().getItem(o)&&t.setFocusedKey(void 0)}),{collection:n,selectionManager:()=>i}}var nae=W("<option>"),iae=W("<div aria-hidden=true><input type=text style=font-size:16px><select tabindex=-1><option>");function oae(e){let t;const[r,n]=Ie(e,["ref","onChange","collection","selectionManager","isOpen","isMultiple","isVirtualized","focusTrigger"]),i=Si(),[o,a]=Q(!1),s=l=>{const c=r.collection.getItem(l);return T(Et,{get when(){return(c==null?void 0:c.type)==="item"},get children(){var u=nae();return u.value=l,j(u,()=>c==null?void 0:c.textValue),ee(()=>u.selected=r.selectionManager.isSelected(l)),u}})};return oe(hi(()=>r.selectionManager.selectedKeys(),(l,c)=>{c&&S8(l,c)||(a(!0),t==null||t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),t==null||t.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})))},{defer:!0})),(()=>{var l=iae(),c=l.firstChild,u=c.nextSibling;u.firstChild,c.addEventListener("focus",()=>r.focusTrigger()),u.addEventListener("change",d=>{Lt(d,r.onChange),o()||r.selectionManager.setSelectedKeys(new Set([d.target.value])),a(!1)});var f=Lr(d=>t=d,r.ref);return typeof f=="function"&&Ut(f,u),QA(u,ye({get multiple(){return r.isMultiple},get name(){return i.name()},get required(){return i.isRequired()},get disabled(){return i.isDisabled()},get size(){return r.collection.getSize()},get value(){return r.selectionManager.firstSelectedKey()??""}},n),!1,!0),j(u,T(Et,{get when(){return r.isVirtualized},get fallback(){return T(yt,{get each(){return[...r.collection.getKeys()]},children:s})},get children(){return T(yt,{get each(){return[...r.selectionManager.selectedKeys()]},children:s})}}),null),ee(d=>{var h=rx,p=r.selectionManager.isFocused()||r.isOpen?-1:0,g=i.isRequired(),m=i.isDisabled(),v=i.isReadOnly();return d.e=Nm(l,h,d.e),p!==d.t&&z(c,"tabindex",d.t=p),g!==d.a&&(c.required=d.a=g),m!==d.o&&(c.disabled=d.o=m),v!==d.i&&(c.readOnly=d.i=v),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l})()}var jT=new WeakMap;function aae(e){let t=jT.get(e);if(t!=null)return t;t=0;for(const r of e)r.type==="item"&&t++;return jT.set(e,t),t}var k8=class{constructor(e,t,r){R(this,"collection");R(this,"ref");R(this,"collator");this.collection=e,this.ref=t,this.collator=r}getKeyBelow(e){let t=this.collection().getKeyAfter(e);for(;t!=null;){const r=this.collection().getItem(t);if(r&&r.type==="item"&&!r.disabled)return t;t=this.collection().getKeyAfter(t)}}getKeyAbove(e){let t=this.collection().getKeyBefore(e);for(;t!=null;){const r=this.collection().getItem(t);if(r&&r.type==="item"&&!r.disabled)return t;t=this.collection().getKeyBefore(t)}}getFirstKey(){let e=this.collection().getFirstKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyAfter(e)}}getLastKey(){let e=this.collection().getLastKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyBefore(e)}}getItem(e){var t,r;return((r=(t=this.ref)==null?void 0:t.call(this))==null?void 0:r.querySelector(`[data-key="${e}"]`))??null}getKeyPageAbove(e){var o;const t=(o=this.ref)==null?void 0:o.call(this);let r=this.getItem(e);if(!t||!r)return;const n=Math.max(0,r.offsetTop+r.offsetHeight-t.offsetHeight);let i=e;for(;i&&r&&r.offsetTop>n;)i=this.getKeyAbove(i),r=i!=null?this.getItem(i):null;return i}getKeyPageBelow(e){var o;const t=(o=this.ref)==null?void 0:o.call(this);let r=this.getItem(e);if(!t||!r)return;const n=Math.min(t.scrollHeight,r.offsetTop-r.offsetHeight+t.offsetHeight);let i=e;for(;i&&r&&r.offsetTop<n;)i=this.getKeyBelow(i),r=i!=null?this.getItem(i):null;return i}getKeyForSearch(e,t){var i;const r=(i=this.collator)==null?void 0:i.call(this);if(!r)return;let n=t!=null?this.getKeyBelow(t):this.getFirstKey();for(;n!=null;){const o=this.collection().getItem(n);if(o){const a=o.textValue.slice(0,e.length);if(o.textValue&&r.compare(a,e)===0)return n}n=this.getKeyBelow(n)}}};function sae(e,t,r){const n=w8({usage:"search",sensitivity:"base"}),i=me(()=>{const o=F(e.keyboardDelegate);return o||new k8(e.collection,t,n)});return eae({selectionManager:()=>F(e.selectionManager),keyboardDelegate:i,autoFocus:()=>F(e.autoFocus),deferAutoFocus:()=>F(e.deferAutoFocus),shouldFocusWrap:()=>F(e.shouldFocusWrap),disallowEmptySelection:()=>F(e.disallowEmptySelection),selectOnFocus:()=>F(e.selectOnFocus),disallowTypeAhead:()=>F(e.disallowTypeAhead),shouldUseVirtualFocus:()=>F(e.shouldUseVirtualFocus),allowsTabNavigation:()=>F(e.allowsTabNavigation),isVirtualized:()=>F(e.isVirtualized),scrollToKey:o=>{var a;return(a=F(e.scrollToKey))==null?void 0:a(o)},orientation:()=>F(e.orientation)},t,r)}var lae={};Bm(lae,{Item:()=>iv,ItemDescription:()=>ov,ItemIndicator:()=>av,ItemLabel:()=>sv,Listbox:()=>cae,Root:()=>aS,Section:()=>lv,useListboxContext:()=>T8});var O8=tn();function T8(){const e=rn(O8);if(e===void 0)throw new Error("[kobalte]: `useListboxContext` must be used within a `Listbox` component");return e}var I8=tn();function oS(){const e=rn(I8);if(e===void 0)throw new Error("[kobalte]: `useListboxItemContext` must be used within a `Listbox.Item` component");return e}function iv(e){let t;const r=T8(),n=`${r.generateId("item")}-${ac()}`,i=rt({id:n},e),[o,a]=Ie(i,["ref","item","aria-label","aria-labelledby","aria-describedby","onPointerMove","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[s,l]=Q(),[c,u]=Q(),f=()=>r.listState().selectionManager(),d=()=>f().focusedKey()===o.item.key,h=tae({key:()=>o.item.key,selectionManager:f,shouldSelectOnPressUp:r.shouldSelectOnPressUp,allowsDifferentPressOrigin:()=>r.shouldSelectOnPressUp()&&r.shouldFocusOnHover(),shouldUseVirtualFocus:r.shouldUseVirtualFocus,disabled:()=>o.item.disabled},()=>t),p=()=>{if(f().selectionMode()!=="none")return h.isSelected()},g=me(()=>!(Nf()&&_G())),m=()=>g()?o["aria-label"]:void 0,v=()=>g()?s():void 0,b=()=>g()?c():void 0,y=()=>{var _;if(!r.isVirtualized())return;const E=(_=r.listState().collection().getItem(o.item.key))==null?void 0:_.index;return E!=null?E+1:void 0},w=()=>{if(r.isVirtualized())return aae(r.listState().collection())},$=E=>{Lt(E,o.onPointerMove),E.pointerType==="mouse"&&!h.isDisabled()&&r.shouldFocusOnHover()&&(Tr(E.currentTarget),f().setFocused(!0),f().setFocusedKey(o.item.key))},A=me(()=>({"data-disabled":h.isDisabled()?"":void 0,"data-selected":h.isSelected()?"":void 0,"data-highlighted":d()?"":void 0})),C={isSelected:h.isSelected,dataset:A,generateId:_f(()=>a.id),registerLabelId:Ui(l),registerDescriptionId:Ui(u)};return T(I8.Provider,{value:C,get children(){return T(xt,ye({as:"li",ref(E){var _=Lr(N=>t=N,o.ref);typeof _=="function"&&_(E)},role:"option",get tabIndex(){return h.tabIndex()},get"aria-disabled"(){return h.isDisabled()},get"aria-selected"(){return p()},get"aria-label"(){return m()},get"aria-labelledby"(){return v()},get"aria-describedby"(){return b()},get"aria-posinset"(){return y()},get"aria-setsize"(){return w()},get"data-key"(){return h.dataKey()},get onPointerDown(){return dn([o.onPointerDown,h.onPointerDown])},get onPointerUp(){return dn([o.onPointerUp,h.onPointerUp])},get onClick(){return dn([o.onClick,h.onClick])},get onKeyDown(){return dn([o.onKeyDown,h.onKeyDown])},get onMouseDown(){return dn([o.onMouseDown,h.onMouseDown])},get onFocus(){return dn([o.onFocus,h.onFocus])},onPointerMove:$},A,a))}})}function ov(e){const t=oS(),r=rt({id:t.generateId("description")},e);return oe(()=>be(t.registerDescriptionId(r.id))),T(xt,ye({as:"div"},()=>t.dataset(),r))}function av(e){const t=oS(),r=rt({id:t.generateId("indicator")},e),[n,i]=Ie(r,["forceMount"]);return T(Et,{get when(){return n.forceMount||t.isSelected()},get children(){return T(xt,ye({as:"div","aria-hidden":"true"},()=>t.dataset(),i))}})}function sv(e){const t=oS(),r=rt({id:t.generateId("label")},e);return oe(()=>be(t.registerLabelId(r.id))),T(xt,ye({as:"div"},()=>t.dataset(),r))}function aS(e){let t;const r=`listbox-${ac()}`,n=rt({id:r,selectionMode:"single",virtualized:!1},e),[i,o]=Ie(n,["ref","children","renderItem","renderSection","value","defaultValue","onChange","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","state","keyboardDelegate","autoFocus","selectionMode","shouldFocusWrap","shouldUseVirtualFocus","shouldSelectOnPressUp","shouldFocusOnHover","allowDuplicateSelectionEvents","disallowEmptySelection","selectionBehavior","selectOnFocus","disallowTypeAhead","allowsTabNavigation","virtualized","scrollToItem","scrollRef","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),a=me(()=>i.state?i.state:E8({selectedKeys:()=>i.value,defaultSelectedKeys:()=>i.defaultValue,onSelectionChange:i.onChange,allowDuplicateSelectionEvents:()=>F(i.allowDuplicateSelectionEvents),disallowEmptySelection:()=>F(i.disallowEmptySelection),selectionBehavior:()=>F(i.selectionBehavior),selectionMode:()=>F(i.selectionMode),dataSource:()=>i.options??[],getKey:()=>i.optionValue,getTextValue:()=>i.optionTextValue,getDisabled:()=>i.optionDisabled,getSectionChildren:()=>i.optionGroupChildren})),s=sae({selectionManager:()=>a().selectionManager(),collection:()=>a().collection(),autoFocus:()=>F(i.autoFocus),shouldFocusWrap:()=>F(i.shouldFocusWrap),keyboardDelegate:()=>i.keyboardDelegate,disallowEmptySelection:()=>F(i.disallowEmptySelection),selectOnFocus:()=>F(i.selectOnFocus),disallowTypeAhead:()=>F(i.disallowTypeAhead),shouldUseVirtualFocus:()=>F(i.shouldUseVirtualFocus),allowsTabNavigation:()=>F(i.allowsTabNavigation),isVirtualized:()=>i.virtualized,scrollToKey:()=>i.scrollToItem},()=>t,()=>{var c;return(c=i.scrollRef)==null?void 0:c.call(i)}),l={listState:a,generateId:_f(()=>o.id),shouldUseVirtualFocus:()=>n.shouldUseVirtualFocus,shouldSelectOnPressUp:()=>n.shouldSelectOnPressUp,shouldFocusOnHover:()=>n.shouldFocusOnHover,isVirtualized:()=>i.virtualized};return T(O8.Provider,{value:l,get children(){return T(xt,ye({as:"ul",ref(c){var u=Lr(f=>t=f,i.ref);typeof u=="function"&&u(c)},role:"listbox",get tabIndex(){return s.tabIndex()},get"aria-multiselectable"(){return a().selectionManager().selectionMode()==="multiple"?!0:void 0},get onKeyDown(){return dn([i.onKeyDown,s.onKeyDown])},get onMouseDown(){return dn([i.onMouseDown,s.onMouseDown])},get onFocusIn(){return dn([i.onFocusIn,s.onFocusIn])},get onFocusOut(){return dn([i.onFocusOut,s.onFocusOut])}},o,{get children(){return T(Et,{get when(){return!i.virtualized},get fallback(){var c;return(c=i.children)==null?void 0:c.call(i,a().collection)},get children(){return T(EG,{get each(){return[...a().collection()]},by:"key",children:c=>T(sc,{get children(){return[T(Be,{get when(){return c().type==="section"},get children(){var u;return(u=i.renderSection)==null?void 0:u.call(i,c())}}),T(Be,{get when(){return c().type==="item"},get children(){var u;return(u=i.renderItem)==null?void 0:u.call(i,c())}})]}})})}})}}))}})}function lv(e){return T(xt,ye({as:"li",role:"presentation"},e))}var cae=Object.assign(aS,{Item:iv,ItemDescription:ov,ItemIndicator:av,ItemLabel:sv,Section:lv});const uae=["top","right","bottom","left"],Zo=Math.min,Vr=Math.max,Rg=Math.round,Kd=Math.floor,ci=e=>({x:e,y:e}),fae={left:"right",right:"left",bottom:"top",top:"bottom"},dae={start:"end",end:"start"};function Uw(e,t,r){return Vr(e,Zo(t,r))}function Cs(e,t){return typeof e=="function"?e(t):e}function ea(e){return e.split("-")[0]}function fc(e){return e.split("-")[1]}function M8(e){return e==="x"?"y":"x"}function sS(e){return e==="y"?"height":"width"}const hae=new Set(["top","bottom"]);function Wi(e){return hae.has(ea(e))?"y":"x"}function lS(e){return M8(Wi(e))}function pae(e,t,r){r===void 0&&(r=!1);const n=fc(e),i=lS(e),o=sS(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Bg(a)),[a,Bg(a)]}function gae(e){const t=Bg(e);return[Ww(e),t,Ww(t)]}function Ww(e){return e.replace(/start|end/g,t=>dae[t])}const zT=["left","right"],HT=["right","left"],mae=["top","bottom"],vae=["bottom","top"];function bae(e,t,r){switch(e){case"top":case"bottom":return r?t?HT:zT:t?zT:HT;case"left":case"right":return t?mae:vae;default:return[]}}function yae(e,t,r,n){const i=fc(e);let o=bae(ea(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Ww)))),o}function Bg(e){return e.replace(/left|right|bottom|top/g,t=>fae[t])}function $ae(e){return{top:0,right:0,bottom:0,left:0,...e}}function P8(e){return typeof e!="number"?$ae(e):{top:e,right:e,bottom:e,left:e}}function Fg(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function VT(e,t,r){let{reference:n,floating:i}=e;const o=Wi(t),a=lS(t),s=sS(a),l=ea(t),c=o==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d=n[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:n.y-i.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-i.width,y:f};break;default:h={x:n.x,y:n.y}}switch(fc(t)){case"start":h[a]-=d*(r&&c?-1:1);break;case"end":h[a]+=d*(r&&c?-1:1);break}return h}const wae=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=VT(c,n,l),d=n,h={},p=0;for(let g=0;g<s.length;g++){const{name:m,fn:v}=s[g],{x:b,y,data:w,reset:$}=await v({x:u,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:e,floating:t}});u=b??u,f=y??f,h={...h,[m]:{...h[m],...w}},$&&p<=50&&(p++,typeof $=="object"&&($.placement&&(d=$.placement),$.rects&&(c=$.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:u,y:f}=VT(c,d,l)),g=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function df(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Cs(t,e),p=P8(h),m=s[d?f==="floating"?"reference":"floating":f],v=Fg(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(m)))==null||r?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),w=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},$=Fg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:y,strategy:l}):b);return{top:(v.top-$.top+p.top)/w.y,bottom:($.bottom-v.bottom+p.bottom)/w.y,left:(v.left-$.left+p.left)/w.x,right:($.right-v.right+p.right)/w.x}}const Aae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Cs(e,t)||{};if(c==null)return{};const f=P8(u),d={x:r,y:n},h=lS(i),p=sS(h),g=await a.getDimensions(c),m=h==="y",v=m?"top":"left",b=m?"bottom":"right",y=m?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[h]-d[h]-o.floating[p],$=d[h]-o.reference[h],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let C=A?A[y]:0;(!C||!await(a.isElement==null?void 0:a.isElement(A)))&&(C=s.floating[y]||o.floating[p]);const E=w/2-$/2,_=C/2-g[p]/2-1,N=Zo(f[v],_),M=Zo(f[b],_),O=N,D=C-g[p]-M,S=C/2-g[p]/2+E,k=Uw(O,S,D),x=!l.arrow&&fc(i)!=null&&S!==k&&o.reference[p]/2-(S<O?N:M)-g[p]/2<0,P=x?S<O?S-O:S-D:0;return{[h]:d[h]+P,data:{[h]:k,centerOffset:S-k-P,...x&&{alignmentOffset:P}},reset:x}}}),xae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Cs(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=ea(i),b=Wi(s),y=ea(s)===s,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),$=d||(y||!g?[Bg(s)]:gae(s)),A=p!=="none";!d&&A&&$.push(...yae(s,g,p,w));const C=[s,...$],E=await df(t,m),_=[];let N=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&_.push(E[v]),f){const S=pae(i,a,w);_.push(E[S[0]],E[S[1]])}if(N=[...N,{placement:i,overflows:_}],!_.every(S=>S<=0)){var M,O;const S=(((M=o.flip)==null?void 0:M.index)||0)+1,k=C[S];if(k&&(!(f==="alignment"?b!==Wi(k):!1)||N.every(I=>Wi(I.placement)===b?I.overflows[0]>0:!0)))return{data:{index:S,overflows:N},reset:{placement:k}};let x=(O=N.filter(P=>P.overflows[0]<=0).sort((P,I)=>P.overflows[1]-I.overflows[1])[0])==null?void 0:O.placement;if(!x)switch(h){case"bestFit":{var D;const P=(D=N.filter(I=>{if(A){const L=Wi(I.placement);return L===b||L==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(L=>L>0).reduce((L,V)=>L+V,0)]).sort((I,L)=>I[1]-L[1])[0])==null?void 0:D[0];P&&(x=P);break}case"initialPlacement":x=s;break}if(i!==x)return{reset:{placement:x}}}return{}}}};function UT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function WT(e){return uae.some(t=>e[t]>=0)}const Sae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Cs(e,t);switch(n){case"referenceHidden":{const o=await df(t,{...i,elementContext:"reference"}),a=UT(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:WT(a)}}}case"escaped":{const o=await df(t,{...i,altBoundary:!0}),a=UT(o,r.floating);return{data:{escapedOffsets:a,escaped:WT(a)}}}default:return{}}}}},Cae=new Set(["left","top"]);async function Eae(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=ea(r),s=fc(r),l=Wi(r)==="y",c=Cae.has(a)?-1:1,u=o&&l?-1:1,f=Cs(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const kae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await Eae(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Oae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:m=>{let{x:v,y:b}=m;return{x:v,y:b}}},...l}=Cs(e,t),c={x:r,y:n},u=await df(t,l),f=Wi(ea(i)),d=M8(f);let h=c[d],p=c[f];if(o){const m=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=h+u[m],y=h-u[v];h=Uw(b,h,y)}if(a){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+u[m],y=p-u[v];p=Uw(b,p,y)}const g=s.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[d]:o,[f]:a}}}}}},Tae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=Cs(e,t),u=await df(t,c),f=ea(i),d=fc(i),h=Wi(i)==="y",{width:p,height:g}=o.floating;let m,v;f==="top"||f==="bottom"?(m=f,v=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=f,m=d==="end"?"top":"bottom");const b=g-u.top-u.bottom,y=p-u.left-u.right,w=Zo(g-u[m],b),$=Zo(p-u[v],y),A=!t.middlewareData.shift;let C=w,E=$;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=b),A&&!d){const N=Vr(u.left,0),M=Vr(u.right,0),O=Vr(u.top,0),D=Vr(u.bottom,0);h?E=p-2*(N!==0||M!==0?N+M:Vr(u.left,u.right)):C=g-2*(O!==0||D!==0?O+D:Vr(u.top,u.bottom))}await l({...t,availableWidth:E,availableHeight:C});const _=await a.getDimensions(s.floating);return p!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function cv(){return typeof window<"u"}function dc(e){return D8(e)?(e.nodeName||"").toLowerCase():"#document"}function Jr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ci(e){var t;return(t=(D8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D8(e){return cv()?e instanceof Node||e instanceof Jr(e).Node:!1}function Hn(e){return cv()?e instanceof Element||e instanceof Jr(e).Element:!1}function mi(e){return cv()?e instanceof HTMLElement||e instanceof Jr(e).HTMLElement:!1}function KT(e){return!cv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jr(e).ShadowRoot}const Iae=new Set(["inline","contents"]);function Hf(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Iae.has(i)}const Mae=new Set(["table","td","th"]);function Pae(e){return Mae.has(dc(e))}const Dae=[":popover-open",":modal"];function uv(e){return Dae.some(t=>{try{return e.matches(t)}catch{return!1}})}const _ae=["transform","translate","scale","rotate","perspective"],Nae=["transform","translate","scale","rotate","perspective","filter"],Lae=["paint","layout","strict","content"];function cS(e){const t=uS(),r=Hn(e)?Vn(e):e;return _ae.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Nae.some(n=>(r.willChange||"").includes(n))||Lae.some(n=>(r.contain||"").includes(n))}function Rae(e){let t=ta(e);for(;mi(t)&&!Wl(t);){if(cS(t))return t;if(uv(t))return null;t=ta(t)}return null}function uS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Bae=new Set(["html","body","#document"]);function Wl(e){return Bae.has(dc(e))}function Vn(e){return Jr(e).getComputedStyle(e)}function fv(e){return Hn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ta(e){if(dc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KT(e)&&e.host||Ci(e);return KT(t)?t.host:t}function _8(e){const t=ta(e);return Wl(t)?e.ownerDocument?e.ownerDocument.body:e.body:mi(t)&&Hf(t)?t:_8(t)}function hf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=_8(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=Jr(i);if(o){const s=Kw(a);return t.concat(a,a.visualViewport||[],Hf(i)?i:[],s&&r?hf(s):[])}return t.concat(i,hf(i,[],r))}function Kw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function N8(e){const t=Vn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=mi(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=Rg(r)!==o||Rg(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function fS(e){return Hn(e)?e:e.contextElement}function Ml(e){const t=fS(e);if(!mi(t))return ci(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=N8(t);let a=(o?Rg(r.width):r.width)/n,s=(o?Rg(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const Fae=ci(0);function L8(e){const t=Jr(e);return!uS()||!t.visualViewport?Fae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jr(e)?!1:t}function ns(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=fS(e);let a=ci(1);t&&(n?Hn(n)&&(a=Ml(n)):a=Ml(e));const s=jae(o,r,n)?L8(o):ci(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o){const d=Jr(o),h=n&&Hn(n)?Jr(n):n;let p=d,g=Kw(p);for(;g&&n&&h!==p;){const m=Ml(g),v=g.getBoundingClientRect(),b=Vn(g),y=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,w=v.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,f*=m.y,l+=y,c+=w,p=Jr(g),g=Kw(p)}}return Fg({width:u,height:f,x:l,y:c})}function dv(e,t){const r=fv(e).scrollLeft;return t?t.left+r:ns(Ci(e)).left+r}function R8(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-dv(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function zae(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",a=Ci(n),s=t?uv(t.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},c=ci(1);const u=ci(0),f=mi(n);if((f||!f&&!o)&&((dc(n)!=="body"||Hf(a))&&(l=fv(n)),mi(n))){const h=ns(n);c=Ml(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const d=a&&!f&&!o?R8(a,l):ci(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:r.y*c.y-l.scrollTop*c.y+u.y+d.y}}function Hae(e){return Array.from(e.getClientRects())}function Vae(e){const t=Ci(e),r=fv(e),n=e.ownerDocument.body,i=Vr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Vr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+dv(e);const s=-r.scrollTop;return Vn(n).direction==="rtl"&&(a+=Vr(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}const GT=25;function Uae(e,t){const r=Jr(e),n=Ci(e),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=uS();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=dv(n);if(c<=0){const u=n.ownerDocument,f=u.body,d=getComputedStyle(f),h=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(n.clientWidth-f.clientWidth-h);p<=GT&&(o-=p)}else c<=GT&&(o+=c);return{width:o,height:a,x:s,y:l}}const Wae=new Set(["absolute","fixed"]);function Kae(e,t){const r=ns(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=mi(e)?Ml(e):ci(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=n*o.y;return{width:a,height:s,x:l,y:c}}function qT(e,t,r){let n;if(t==="viewport")n=Uae(e,r);else if(t==="document")n=Vae(Ci(e));else if(Hn(t))n=Kae(t,r);else{const i=L8(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Fg(n)}function B8(e,t){const r=ta(e);return r===t||!Hn(r)||Wl(r)?!1:Vn(r).position==="fixed"||B8(r,t)}function Gae(e,t){const r=t.get(e);if(r)return r;let n=hf(e,[],!1).filter(s=>Hn(s)&&dc(s)!=="body"),i=null;const o=Vn(e).position==="fixed";let a=o?ta(e):e;for(;Hn(a)&&!Wl(a);){const s=Vn(a),l=cS(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&Wae.has(i.position)||Hf(a)&&!l&&B8(e,a))?n=n.filter(u=>u!==a):i=s,a=ta(a)}return t.set(e,n),n}function qae(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?uv(t)?[]:Gae(t,this._c):[].concat(r),n],s=a[0],l=a.reduce((c,u)=>{const f=qT(t,u,i);return c.top=Vr(f.top,c.top),c.right=Zo(f.right,c.right),c.bottom=Zo(f.bottom,c.bottom),c.left=Vr(f.left,c.left),c},qT(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qae(e){const{width:t,height:r}=N8(e);return{width:t,height:r}}function Yae(e,t,r){const n=mi(t),i=Ci(t),o=r==="fixed",a=ns(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=ci(0);function c(){l.x=dv(i)}if(n||!n&&!o)if((dc(t)!=="body"||Hf(i))&&(s=fv(t)),n){const h=ns(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&c();o&&!n&&i&&c();const u=i&&!n&&!o?R8(i,s):ci(0),f=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function Hb(e){return Vn(e).position==="static"}function QT(e,t){if(!mi(e)||Vn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ci(e)===r&&(r=r.ownerDocument.body),r}function F8(e,t){const r=Jr(e);if(uv(e))return r;if(!mi(e)){let i=ta(e);for(;i&&!Wl(i);){if(Hn(i)&&!Hb(i))return i;i=ta(i)}return r}let n=QT(e,t);for(;n&&Pae(n)&&Hb(n);)n=QT(n,t);return n&&Wl(n)&&Hb(n)&&!cS(n)?r:n||Rae(e)||r}const Jae=async function(e){const t=this.getOffsetParent||F8,r=this.getDimensions,n=await r(e.floating);return{reference:Yae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xae(e){return Vn(e).direction==="rtl"}const j8={convertOffsetParentRelativeRectToViewportRelativeRect:zae,getDocumentElement:Ci,getClippingRect:qae,getOffsetParent:F8,getElementRects:Jae,getClientRects:Hae,getDimensions:Qae,getScale:Ml,isElement:Hn,isRTL:Xae};function z8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zae(e,t){let r=null,n;const i=Ci(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(s||t(),!d||!h)return;const p=Kd(f),g=Kd(i.clientWidth-(u+d)),m=Kd(i.clientHeight-(f+h)),v=Kd(u),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-v+"px",threshold:Vr(0,Zo(1,l))||1};let w=!0;function $(A){const C=A[0].intersectionRatio;if(C!==l){if(!w)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!z8(c,e.getBoundingClientRect())&&a(),w=!1}try{r=new IntersectionObserver($,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver($,y)}r.observe(e)}return a(!0),o}function ese(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=fS(e),u=i||o?[...c?hf(c):[],...hf(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const f=c&&s?Zae(c,r):null;let d=-1,h=null;a&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let p,g=l?ns(e):null;l&&m();function m(){const v=ns(e);g&&!z8(g,v)&&r(),g=v,p=requestAnimationFrame(m)}return r(),()=>{var v;u.forEach(b=>{i&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const tse=kae,rse=Oae,nse=xae,ise=Tae,ose=Sae,ase=Aae,sse=(e,t,r)=>{const n=new Map,i={platform:j8,...r},o={...i.platform,_c:n};return wae(e,t,{...i,platform:o})};var lse=W('<svg display=block viewBox="0 0 30 30"style=transform:scale(1.02)><g><path fill=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z></path><path stroke=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z>'),dS=tn();function hS(){const e=rn(dS);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}var Gw=30,YT=Gw/2,cse={top:180,right:-90,bottom:0,left:90};function pS(e){const t=hS(),r=rt({size:Gw},e),[n,i]=Ie(r,["ref","style","size"]),o=()=>t.currentPlacement().split("-")[0],a=use(t.contentRef),s=()=>{var d;return((d=a())==null?void 0:d.getPropertyValue("background-color"))||"none"},l=()=>{var d;return((d=a())==null?void 0:d.getPropertyValue(`border-${o()}-color`))||"none"},c=()=>{var d;return((d=a())==null?void 0:d.getPropertyValue(`border-${o()}-width`))||"0px"},u=()=>Number.parseInt(c())*2*(Gw/n.size),f=()=>`rotate(${cse[o()]} ${YT} ${YT}) translate(0 2)`;return T(xt,ye({as:"div",ref(d){var h=Lr(t.setArrowRef,n.ref);typeof h=="function"&&h(d)},"aria-hidden":"true",get style(){return Lm({position:"absolute","font-size":`${n.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:s(),stroke:l(),"stroke-width":u()},n.style)}},i,{get children(){var d=lse(),h=d.firstChild,p=h.firstChild;return p.nextSibling,ee(()=>z(h,"transform",f())),d}}))}function use(e){const[t,r]=Q();return oe(()=>{const n=e();n&&r(TG(n).getComputedStyle(n))}),t}function fse(e){const t=hS(),[r,n]=Ie(e,["ref","style"]);return T(xt,ye({as:"div",ref(i){var o=Lr(t.setPositionerRef,r.ref);typeof o=="function"&&o(i)},"data-popper-positioner":"",get style(){return Lm({position:"absolute",top:0,left:0,"min-width":"max-content"},r.style)}},n))}function JT(e){const{x:t=0,y:r=0,width:n=0,height:i=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(t,r,n,i);const o={x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:r+i,left:t};return{...o,toJSON:()=>o}}function dse(e,t){return{contextElement:e,getBoundingClientRect:()=>{const n=t(e);return n?JT(n):e?e.getBoundingClientRect():JT()}}}function hse(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}var pse={top:"bottom",right:"left",bottom:"top",left:"right"};function gse(e,t){const[r,n]=e.split("-"),i=pse[r];return n?r==="left"||r==="right"?`${i} ${n==="start"?"top":"bottom"}`:n==="start"?`${i} ${t==="rtl"?"right":"left"}`:`${i} ${t==="rtl"?"left":"right"}`:`${i} center`}function mse(e){const t=rt({getAnchorRect:d=>d==null?void 0:d.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e),[r,n]=Q(),[i,o]=Q(),[a,s]=Q(t.placement),l=()=>{var d;return dse((d=t.anchorRef)==null?void 0:d.call(t),t.getAnchorRect)},{direction:c}=iS();async function u(){var A,C;const d=l(),h=r(),p=i();if(!d||!h)return;const g=((p==null?void 0:p.clientHeight)||0)/2,m=typeof t.gutter=="number"?t.gutter+g:t.gutter??g;h.style.setProperty("--kb-popper-content-overflow-padding",`${t.overflowPadding}px`),d.getBoundingClientRect();const v=[tse(({placement:E})=>{const _=!!E.split("-")[1];return{mainAxis:m,crossAxis:_?void 0:t.shift,alignmentAxis:t.shift}})];if(t.flip!==!1){const E=typeof t.flip=="string"?t.flip.split(" "):void 0;if(E!==void 0&&!E.every(hse))throw new Error("`flip` expects a spaced-delimited list of placements");v.push(nse({padding:t.overflowPadding,fallbackPlacements:E}))}(t.slide||t.overlap)&&v.push(rse({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding})),v.push(ise({padding:t.overflowPadding,apply({availableWidth:E,availableHeight:_,rects:N}){const M=Math.round(N.reference.width);E=Math.floor(E),_=Math.floor(_),h.style.setProperty("--kb-popper-anchor-width",`${M}px`),h.style.setProperty("--kb-popper-content-available-width",`${E}px`),h.style.setProperty("--kb-popper-content-available-height",`${_}px`),t.sameWidth&&(h.style.width=`${M}px`),t.fitViewport&&(h.style.maxWidth=`${E}px`,h.style.maxHeight=`${_}px`)}})),t.hideWhenDetached&&v.push(ose({padding:t.detachedPadding})),p&&v.push(ase({element:p,padding:t.arrowPadding}));const b=await sse(d,h,{placement:t.placement,strategy:"absolute",middleware:v,platform:{...j8,isRTL:()=>c()==="rtl"}});if(s(b.placement),(A=t.onCurrentPlacementChange)==null||A.call(t,b.placement),!h)return;h.style.setProperty("--kb-popper-content-transform-origin",gse(b.placement,c()));const y=Math.round(b.x),w=Math.round(b.y);let $;if(t.hideWhenDetached&&($=(C=b.middlewareData.hide)!=null&&C.referenceHidden?"hidden":"visible"),Object.assign(h.style,{top:"0",left:"0",transform:`translate3d(${y}px, ${w}px, 0)`,visibility:$}),p&&b.middlewareData.arrow){const{x:E,y:_}=b.middlewareData.arrow,N=b.placement.split("-")[0];Object.assign(p.style,{left:E!=null?`${E}px`:"",top:_!=null?`${_}px`:"",[N]:"100%"})}}oe(()=>{const d=l(),h=r();if(!d||!h)return;const p=ese(d,h,u,{elementResize:typeof ResizeObserver=="function"});be(p)}),oe(()=>{var p;const d=r(),h=(p=t.contentRef)==null?void 0:p.call(t);!d||!h||queueMicrotask(()=>{d.style.zIndex=getComputedStyle(h).zIndex})});const f={currentPlacement:a,contentRef:()=>{var d;return(d=t.contentRef)==null?void 0:d.call(t)},setPositionerRef:n,setArrowRef:o};return T(dS.Provider,{value:f,get children(){return t.children}})}var H8=Object.assign(mse,{Arrow:pS,Context:dS,usePopperContext:hS,Positioner:fse}),jg="data-kb-top-layer",V8,qw=!1,eo=[];function pf(e){return eo.findIndex(t=>t.node===e)}function vse(e){return eo[pf(e)]}function bse(e){return eo[eo.length-1].node===e}function U8(){return eo.filter(e=>e.isPointerBlocking)}function yse(){return[...U8()].slice(-1)[0]}function gS(){return U8().length>0}function W8(e){var r;const t=pf((r=yse())==null?void 0:r.node);return pf(e)<t}function $se(e){eo.push(e)}function wse(e){const t=pf(e);t<0||eo.splice(t,1)}function Ase(){for(const{node:e}of eo)e.style.pointerEvents=W8(e)?"none":"auto"}function xse(e){if(gS()&&!qw){const t=Zi(e);V8=document.body.style.pointerEvents,t.body.style.pointerEvents="none",qw=!0}}function Sse(e){if(gS())return;const t=Zi(e);t.body.style.pointerEvents=V8,t.body.style.length===0&&t.body.removeAttribute("style"),qw=!1}var Hr={layers:eo,isTopMostLayer:bse,hasPointerBlockingLayer:gS,isBelowPointerBlockingLayer:W8,addLayer:$se,removeLayer:wse,indexOf:pf,find:vse,assignPointerEventToLayers:Ase,disableBodyPointerEvents:xse,restoreBodyPointerEvents:Sse},Vb="focusScope.autoFocusOnMount",Ub="focusScope.autoFocusOnUnmount",XT={bubbles:!1,cancelable:!0},ZT={stack:[],active(){return this.stack[0]},add(e){var t;e!==this.active()&&((t=this.active())==null||t.pause()),this.stack=Sk(this.stack,e),this.stack.unshift(e)},remove(e){var t;this.stack=Sk(this.stack,e),(t=this.active())==null||t.resume()}};function Cse(e,t){const[r,n]=Q(!1),i={pause(){n(!0)},resume(){n(!1)}};let o=null;const a=p=>{var g;return(g=e.onMountAutoFocus)==null?void 0:g.call(e,p)},s=p=>{var g;return(g=e.onUnmountAutoFocus)==null?void 0:g.call(e,p)},l=()=>Zi(t()),c=()=>{const p=l().createElement("span");return p.setAttribute("data-focus-trap",""),p.tabIndex=0,Object.assign(p.style,rx),p},u=()=>{const p=t();return p?yN(p,!0).filter(g=>!g.hasAttribute("data-focus-trap")):[]},f=()=>{const p=u();return p.length>0?p[0]:null},d=()=>{const p=u();return p.length>0?p[p.length-1]:null},h=()=>{const p=t();if(!p)return!1;const g=ou(p);return!g||Do(p,g)?!1:$N(g)};oe(()=>{const p=t();if(!p)return;ZT.add(i);const g=ou(p);if(!Do(p,g)){const v=new CustomEvent(Vb,XT);p.addEventListener(Vb,a),p.dispatchEvent(v),v.defaultPrevented||setTimeout(()=>{Tr(f()),ou(p)===g&&Tr(p)},0)}be(()=>{p.removeEventListener(Vb,a),setTimeout(()=>{const v=new CustomEvent(Ub,XT);h()&&v.preventDefault(),p.addEventListener(Ub,s),p.dispatchEvent(v),v.defaultPrevented||Tr(g??l().body),p.removeEventListener(Ub,s),ZT.remove(i)},0)})}),oe(()=>{const p=t();if(!p||!F(e.trapFocus)||r())return;const g=v=>{const b=v.target;b!=null&&b.closest(`[${jg}]`)||(Do(p,b)?o=b:Tr(o))},m=v=>{const y=v.relatedTarget??ou(p);y!=null&&y.closest(`[${jg}]`)||Do(p,y)||Tr(o)};l().addEventListener("focusin",g),l().addEventListener("focusout",m),be(()=>{l().removeEventListener("focusin",g),l().removeEventListener("focusout",m)})}),oe(()=>{const p=t();if(!p||!F(e.trapFocus)||r())return;const g=c();p.insertAdjacentElement("afterbegin",g);const m=c();p.insertAdjacentElement("beforeend",m);function v(y){const w=f(),$=d();y.relatedTarget===w?Tr($):Tr(w)}g.addEventListener("focusin",v),m.addEventListener("focusin",v);const b=new MutationObserver(y=>{for(const w of y)w.previousSibling===m&&(m.remove(),p.insertAdjacentElement("beforeend",m)),w.nextSibling===g&&(g.remove(),p.insertAdjacentElement("afterbegin",g))});b.observe(p,{childList:!0,subtree:!1}),be(()=>{g.removeEventListener("focusin",v),m.removeEventListener("focusin",v),g.remove(),m.remove(),b.disconnect()})})}var Ese="data-live-announcer";function kse(e){oe(()=>{F(e.isDisabled)||be(Ose(F(e.targets),F(e.root)))})}var Nc=new WeakMap,an=[];function Ose(e,t=document.body){const r=new Set(e),n=new Set,i=l=>{for(const d of l.querySelectorAll(`[${Ese}], [${jg}]`))r.add(d);const c=d=>{if(r.has(d)||d.parentElement&&n.has(d.parentElement)&&d.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const h of r)if(d.contains(h))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),f=c(l);if(f===NodeFilter.FILTER_ACCEPT&&o(l),f!==NodeFilter.FILTER_REJECT){let d=u.nextNode();for(;d!=null;)o(d),d=u.nextNode()}},o=l=>{const c=Nc.get(l)??0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),n.add(l),Nc.set(l,c+1))};an.length&&an[an.length-1].disconnect(),i(t);const a=new MutationObserver(l=>{for(const c of l)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...r,...n].some(u=>u.contains(c.target))){for(const u of c.removedNodes)u instanceof Element&&(r.delete(u),n.delete(u));for(const u of c.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?r.add(u):u instanceof Element&&i(u)}});a.observe(t,{childList:!0,subtree:!0});const s={observe(){a.observe(t,{childList:!0,subtree:!0})},disconnect(){a.disconnect()}};return an.push(s),()=>{a.disconnect();for(const l of n){const c=Nc.get(l);if(c==null)return;c===1?(l.removeAttribute("aria-hidden"),Nc.delete(l)):Nc.set(l,c-1)}s===an[an.length-1]?(an.pop(),an.length&&an[an.length-1].observe()):an.splice(an.indexOf(s),1)}}var eI="interactOutside.pointerDownOutside",tI="interactOutside.focusOutside";function Tse(e,t){let r,n=KG;const i=()=>Zi(t()),o=f=>{var d;return(d=e.onPointerDownOutside)==null?void 0:d.call(e,f)},a=f=>{var d;return(d=e.onFocusOutside)==null?void 0:d.call(e,f)},s=f=>{var d;return(d=e.onInteractOutside)==null?void 0:d.call(e,f)},l=f=>{var h;const d=f.target;return!(d instanceof Element)||d.closest(`[${jg}]`)||!Do(i(),d)||Do(t(),d)?!1:!((h=e.shouldExcludeElement)!=null&&h.call(e,d))},c=f=>{function d(){const h=t(),p=f.target;if(!h||!p||!l(f))return;const g=dn([o,s]);p.addEventListener(eI,g,{once:!0});const m=new CustomEvent(eI,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,isContextMenu:f.button===2||LG(f)&&f.button===0}});p.dispatchEvent(m)}f.pointerType==="touch"?(i().removeEventListener("click",d),n=d,i().addEventListener("click",d,{once:!0})):d()},u=f=>{const d=t(),h=f.target;if(!d||!h||!l(f))return;const p=dn([a,s]);h.addEventListener(tI,p,{once:!0});const g=new CustomEvent(tI,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,isContextMenu:!1}});h.dispatchEvent(g)};oe(()=>{F(e.isDisabled)||(r=window.setTimeout(()=>{i().addEventListener("pointerdown",c,!0)},0),i().addEventListener("focusin",u,!0),be(()=>{window.clearTimeout(r),i().removeEventListener("click",n),i().removeEventListener("pointerdown",c,!0),i().removeEventListener("focusin",u,!0)}))})}function Ise(e){const t=r=>{var n;r.key===XA.Escape&&((n=e.onEscapeKeyDown)==null||n.call(e,r))};oe(()=>{var n;if(F(e.isDisabled))return;const r=((n=e.ownerDocument)==null?void 0:n.call(e))??Zi();r.addEventListener("keydown",t),be(()=>{r.removeEventListener("keydown",t)})})}var K8=tn();function Mse(){return rn(K8)}function Pse(e){let t;const r=Mse(),[n,i]=Ie(e,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),o=new Set([]),a=f=>{o.add(f);const d=r==null?void 0:r.registerNestedLayer(f);return()=>{o.delete(f),d==null||d()}};Tse({shouldExcludeElement:f=>{var d;return t?((d=n.excludedElements)==null?void 0:d.some(h=>Do(h(),f)))||[...o].some(h=>Do(h,f)):!1},onPointerDownOutside:f=>{var d,h,p;!t||Hr.isBelowPointerBlockingLayer(t)||!n.bypassTopMostLayerCheck&&!Hr.isTopMostLayer(t)||((d=n.onPointerDownOutside)==null||d.call(n,f),(h=n.onInteractOutside)==null||h.call(n,f),f.defaultPrevented||(p=n.onDismiss)==null||p.call(n))},onFocusOutside:f=>{var d,h,p;(d=n.onFocusOutside)==null||d.call(n,f),(h=n.onInteractOutside)==null||h.call(n,f),f.defaultPrevented||(p=n.onDismiss)==null||p.call(n)}},()=>t),Ise({ownerDocument:()=>Zi(t),onEscapeKeyDown:f=>{var d;!t||!Hr.isTopMostLayer(t)||((d=n.onEscapeKeyDown)==null||d.call(n,f),!f.defaultPrevented&&n.onDismiss&&(f.preventDefault(),n.onDismiss()))}}),kt(()=>{if(!t)return;Hr.addLayer({node:t,isPointerBlocking:n.disableOutsidePointerEvents,dismiss:n.onDismiss});const f=r==null?void 0:r.registerNestedLayer(t);Hr.assignPointerEventToLayers(),Hr.disableBodyPointerEvents(t),be(()=>{t&&(Hr.removeLayer(t),f==null||f(),Hr.assignPointerEventToLayers(),Hr.restoreBodyPointerEvents(t))})}),oe(hi([()=>t,()=>n.disableOutsidePointerEvents],([f,d])=>{if(!f)return;const h=Hr.find(f);h&&h.isPointerBlocking!==d&&(h.isPointerBlocking=d,Hr.assignPointerEventToLayers()),d&&Hr.disableBodyPointerEvents(f),be(()=>{Hr.restoreBodyPointerEvents(f)})},{defer:!0}));const u={registerNestedLayer:a};return T(K8.Provider,{value:u,get children(){return T(xt,ye({as:"div",ref(f){var d=Lr(h=>t=h,n.ref);typeof d=="function"&&d(f)}},i))}})}function Dse(e={}){const[t,r]=n8({value:()=>F(e.open),defaultValue:()=>!!F(e.defaultOpen),onChange:a=>{var s;return(s=e.onOpenChange)==null?void 0:s.call(e,a)}}),n=()=>{r(!0)},i=()=>{r(!1)};return{isOpen:t,setIsOpen:r,open:n,close:i,toggle:()=>{t()?i():n()}}}var Qw=(e,t)=>{if(e.contains(t))return!0;let r=t;for(;r;){if(r===e)return!0;r=r._$host??r.parentElement}return!1},Gd=new Map,_se=e=>{oe(()=>{const t=rr(e.style)??{},r=rr(e.properties)??[],n={};for(const o in t)n[o]=e.element.style[o];const i=Gd.get(e.key);i?i.activeCount++:Gd.set(e.key,{activeCount:1,originalStyles:n,properties:r.map(o=>o.key)}),Object.assign(e.element.style,e.style);for(const o of r)e.element.style.setProperty(o.key,o.value);be(()=>{var a;const o=Gd.get(e.key);if(o){if(o.activeCount!==1){o.activeCount--;return}Gd.delete(e.key);for(const[s,l]of Object.entries(o.originalStyles))e.element.style[s]=l;for(const s of o.properties)e.element.style.removeProperty(s);e.element.style.length===0&&e.element.removeAttribute("style"),(a=e.cleanup)==null||a.call(e)}})})},rI=_se,Nse=(e,t)=>{switch(t){case"x":return[e.clientWidth,e.scrollLeft,e.scrollWidth];case"y":return[e.clientHeight,e.scrollTop,e.scrollHeight]}},Lse=(e,t)=>{const r=getComputedStyle(e),n=t==="x"?r.overflowX:r.overflowY;return n==="auto"||n==="scroll"||e.tagName==="HTML"&&n==="visible"},Rse=(e,t,r)=>{const n=t==="x"&&window.getComputedStyle(e).direction==="rtl"?-1:1;let i=e,o=0,a=0,s=!1;do{const[l,c,u]=Nse(i,t),f=u-l-n*c;(c!==0||f!==0)&&Lse(i,t)&&(o+=f,a+=c),i===(r??document.documentElement)?s=!0:i=i._$host??i.parentElement}while(i&&!s);return[o,a]},[nI,iI]=Q([]),Bse=e=>nI().indexOf(e)===nI().length-1,Fse=e=>{const t=ye({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},e),r=ac();let n=[0,0],i=null,o=null;oe(()=>{rr(t.enabled)&&(iI(c=>[...c,r]),be(()=>{iI(c=>c.filter(u=>u!==r))}))}),oe(()=>{if(!rr(t.enabled)||!rr(t.hideScrollbar))return;const{body:c}=document,u=window.innerWidth-c.offsetWidth;if(rr(t.preventScrollbarShift)){const f={overflow:"hidden"},d=[];u>0&&(rr(t.preventScrollbarShiftMode)==="padding"?f.paddingRight=`calc(${window.getComputedStyle(c).paddingRight} + ${u}px)`:f.marginRight=`calc(${window.getComputedStyle(c).marginRight} + ${u}px)`,d.push({key:"--scrollbar-width",value:`${u}px`}));const h=window.scrollY,p=window.scrollX;rI({key:"prevent-scroll",element:c,style:f,properties:d,cleanup:()=>{rr(t.restoreScrollPosition)&&u>0&&window.scrollTo(p,h)}})}else rI({key:"prevent-scroll",element:c,style:{overflow:"hidden"}})}),oe(()=>{!Bse(r)||!rr(t.enabled)||(document.addEventListener("wheel",s,{passive:!1}),document.addEventListener("touchstart",a,{passive:!1}),document.addEventListener("touchmove",l,{passive:!1}),be(()=>{document.removeEventListener("wheel",s),document.removeEventListener("touchstart",a),document.removeEventListener("touchmove",l)}))});const a=c=>{n=oI(c),i=null,o=null},s=c=>{const u=c.target,f=rr(t.element),d=jse(c),h=Math.abs(d[0])>Math.abs(d[1])?"x":"y",p=h==="x"?d[0]:d[1],g=aI(u,h,p,f);let m;f&&Qw(f,u)?m=!g:m=!0,m&&c.cancelable&&c.preventDefault()},l=c=>{const u=rr(t.element),f=c.target;let d;if(c.touches.length===2)d=!rr(t.allowPinchZoom);else{if(i==null||o===null){const h=oI(c).map((g,m)=>n[m]-g),p=Math.abs(h[0])>Math.abs(h[1])?"x":"y";i=p,o=p==="x"?h[0]:h[1]}if(f.type==="range")d=!1;else{const h=aI(f,i,o,u);u&&Qw(u,f)?d=!h:d=!0}}d&&c.cancelable&&c.preventDefault()}},jse=e=>[e.deltaX,e.deltaY],oI=e=>e.changedTouches[0]?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0],aI=(e,t,r,n)=>{const i=n!==null&&Qw(n,e),[o,a]=Rse(e,t,i?n:void 0);return!(r>0&&Math.abs(o)<=1||r<0&&Math.abs(a)<1)},zse=Fse,Hse=zse,Vse={};Bm(Vse,{Arrow:()=>pS,Content:()=>q8,Description:()=>rS,ErrorMessage:()=>nS,HiddenSelect:()=>Q8,Icon:()=>Y8,Item:()=>iv,ItemDescription:()=>ov,ItemIndicator:()=>av,ItemLabel:()=>sv,Label:()=>J8,Listbox:()=>X8,Portal:()=>Z8,Root:()=>e7,Section:()=>lv,Select:()=>lr,Trigger:()=>t7,Value:()=>r7,useSelectContext:()=>ho});var G8=tn();function ho(){const e=rn(G8);if(e===void 0)throw new Error("[kobalte]: `useSelectContext` must be used within a `Select` component");return e}function q8(e){let t;const r=ho(),[n,i]=Ie(e,["ref","style","onCloseAutoFocus","onFocusOutside"]),o=s=>{r.close()},a=s=>{var l;(l=n.onFocusOutside)==null||l.call(n,s),r.isOpen()&&r.isModal()&&s.preventDefault()};return kse({isDisabled:()=>!(r.isOpen()&&r.isModal()),targets:()=>t?[t]:[]}),Hse({element:()=>t??null,enabled:()=>r.contentPresent()&&r.preventScroll()}),Cse({trapFocus:()=>r.isOpen()&&r.isModal(),onMountAutoFocus:s=>{s.preventDefault()},onUnmountAutoFocus:s=>{var l;(l=n.onCloseAutoFocus)==null||l.call(n,s),s.defaultPrevented||(Tr(r.triggerRef()),s.preventDefault())}},()=>t),T(Et,{get when(){return r.contentPresent()},get children(){return T(H8.Positioner,{get children(){return T(Pse,ye({ref(s){var l=Lr(c=>{r.setContentRef(c),t=c},n.ref);typeof l=="function"&&l(s)},get disableOutsidePointerEvents(){return pt(()=>!!r.isModal())()&&r.isOpen()},get excludedElements(){return[r.triggerRef]},get style(){return Lm({"--kb-select-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},n.style)},onEscapeKeyDown:o,onFocusOutside:a,get onDismiss(){return r.close}},()=>r.dataset(),i))}})}})}function Q8(e){const t=ho();return T(oae,ye({get collection(){return t.listState().collection()},get selectionManager(){return t.listState().selectionManager()},get isOpen(){return t.isOpen()},get isMultiple(){return t.isMultiple()},get isVirtualized(){return t.isVirtualized()},focusTrigger:()=>{var r;return(r=t.triggerRef())==null?void 0:r.focus()}},e))}function Y8(e){const t=ho(),r=rt({children:""},e);return T(xt,ye({as:"span","aria-hidden":"true"},()=>t.dataset(),r))}function J8(e){const t=ho(),[r,n]=Ie(e,["onClick"]);return T(l8,ye({as:"span",onClick:o=>{var a;Lt(o,r.onClick),t.isDisabled()||(a=t.triggerRef())==null||a.focus()}},n))}function X8(e){const t=ho(),r=rt({id:t.generateId("listbox")},e),[n,i]=Ie(r,["ref","id","onKeyDown"]);return oe(()=>be(t.registerListboxId(n.id))),T(aS,ye({ref(a){var s=Lr(t.setListboxRef,n.ref);typeof s=="function"&&s(a)},get id(){return n.id},get state(){return t.listState()},get virtualized(){return t.isVirtualized()},get autoFocus(){return t.autoFocus()},shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,get shouldFocusWrap(){return t.shouldFocusWrap()},get disallowTypeAhead(){return t.disallowTypeAhead()},get"aria-labelledby"(){return t.listboxAriaLabelledBy()},get renderItem(){return t.renderItem},get renderSection(){return t.renderSection},onKeyDown:a=>{Lt(a,n.onKeyDown),a.key==="Escape"&&a.preventDefault()}},i))}function Z8(e){const t=ho();return T(Et,{get when(){return t.contentPresent()},get children(){return T(YA,e)}})}function Use(e){const t=`select-${ac()}`,r=rt({id:t,selectionMode:"single",disallowEmptySelection:!1,closeOnSelection:e.selectionMode==="single",allowDuplicateSelectionEvents:!0,gutter:8,sameWidth:!0,modal:!1},e),[n,i,o,a]=Ie(r,["itemComponent","sectionComponent","open","defaultOpen","onOpenChange","value","defaultValue","onChange","placeholder","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","keyboardDelegate","allowDuplicateSelectionEvents","disallowEmptySelection","closeOnSelection","disallowTypeAhead","shouldFocusWrap","selectionBehavior","selectionMode","virtualized","modal","preventScroll","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"],i8),[s,l]=Q(),[c,u]=Q(),[f,d]=Q(),[h,p]=Q(),[g,m]=Q(),[v,b]=Q(),[y,w]=Q(),[$,A]=Q(!0),C=Y=>{const de=n.optionValue;return de==null?String(Y):String(Rm(de)?de(Y):Y[de])},E=me(()=>{const Y=n.optionGroupChildren;return Y==null?n.options:n.options.flatMap(de=>de[Y]??de)}),_=me(()=>E().map(Y=>C(Y))),N=Y=>[...Y].map(de=>E().find(q=>C(q)===de)).filter(de=>de!=null),M=Dse({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:Y=>{var de;return(de=n.onOpenChange)==null?void 0:de.call(n,Y)}}),O=E8({selectedKeys:()=>n.value!=null?n.value.map(C):n.value,defaultSelectedKeys:()=>n.defaultValue!=null?n.defaultValue.map(C):n.defaultValue,onSelectionChange:Y=>{var de;(de=n.onChange)==null||de.call(n,N(Y)),n.closeOnSelection&&I()},allowDuplicateSelectionEvents:()=>F(n.allowDuplicateSelectionEvents),disallowEmptySelection:()=>F(n.disallowEmptySelection),selectionBehavior:()=>F(n.selectionBehavior),selectionMode:()=>n.selectionMode,dataSource:()=>n.options??[],getKey:()=>n.optionValue,getTextValue:()=>n.optionTextValue,getDisabled:()=>n.optionDisabled,getSectionChildren:()=>n.optionGroupChildren}),D=me(()=>N(O.selectionManager().selectedKeys())),S=Y=>{O.selectionManager().toggleSelection(C(Y))},{present:k}=u8({show:()=>n.forceMount||M.isOpen(),element:()=>g()??null}),x=()=>{const Y=v();Y&&Tr(Y)},P=Y=>{if(n.options.length<=0)return;A(Y),M.open();let de=O.selectionManager().firstSelectedKey();de==null&&(Y==="first"?de=O.collection().getFirstKey():Y==="last"&&(de=O.collection().getLastKey())),x(),O.selectionManager().setFocused(!0),O.selectionManager().setFocusedKey(de)},I=()=>{M.close(),O.selectionManager().setFocused(!1),O.selectionManager().setFocusedKey(void 0)},L=Y=>{M.isOpen()?I():P(Y)},{formControlContext:V}=o8(o);c8(h,()=>{const Y=n.defaultValue?[...n.defaultValue].map(C):new ai;O.selectionManager().setSelectedKeys(Y)});const U=w8({usage:"search",sensitivity:"base"}),ae=me(()=>{const Y=F(n.keyboardDelegate);return Y||new k8(O.collection,void 0,U)}),ne=Y=>{var de;return(de=n.itemComponent)==null?void 0:de.call(n,{item:Y})},pe=Y=>{var de;return(de=n.sectionComponent)==null?void 0:de.call(n,{section:Y})};oe(hi([_],([Y])=>{const q=[...O.selectionManager().selectedKeys()].filter(X=>Y.includes(X));O.selectionManager().setSelectedKeys(q)},{defer:!0}));const xe=me(()=>({"data-expanded":M.isOpen()?"":void 0,"data-closed":M.isOpen()?void 0:""})),qe={dataset:xe,isOpen:M.isOpen,isDisabled:()=>V.isDisabled()??!1,isMultiple:()=>F(n.selectionMode)==="multiple",isVirtualized:()=>n.virtualized??!1,isModal:()=>n.modal??!1,preventScroll:()=>n.preventScroll??qe.isModal(),disallowTypeAhead:()=>n.disallowTypeAhead??!1,shouldFocusWrap:()=>n.shouldFocusWrap??!1,selectedOptions:D,contentPresent:k,autoFocus:$,triggerRef:h,listState:()=>O,keyboardDelegate:ae,triggerId:s,valueId:c,listboxId:f,listboxAriaLabelledBy:y,setListboxAriaLabelledBy:w,setTriggerRef:p,setContentRef:m,setListboxRef:b,open:P,close:I,toggle:L,placeholder:()=>n.placeholder,renderItem:ne,renderSection:pe,removeOptionFromSelection:S,generateId:_f(()=>F(o.id)),registerTriggerId:Ui(l),registerValueId:Ui(u),registerListboxId:Ui(d)};return T(tS.Provider,{value:V,get children(){return T(G8.Provider,{value:qe,get children(){return T(H8,ye({anchorRef:h,contentRef:g},i,{get children(){return T(xt,ye({as:"div",role:"group",get id(){return F(o.id)}},()=>V.dataset(),xe,a))}}))}})}})}function e7(e){const[t,r]=Ie(e,["value","defaultValue","onChange","multiple"]),n=me(()=>t.value!=null?t.multiple?t.value:[t.value]:t.value),i=me(()=>t.defaultValue!=null?t.multiple?t.defaultValue:[t.defaultValue]:t.defaultValue);return T(Use,ye({get value(){return n()},get defaultValue(){return i()},onChange:a=>{var s,l;t.multiple?(s=t.onChange)==null||s.call(t,a??[]):(l=t.onChange)==null||l.call(t,a[0]??null)},get selectionMode(){return t.multiple?"multiple":"single"}},r))}function t7(e){const t=Si(),r=ho(),n=rt({id:r.generateId("trigger")},e),[i,o,a]=Ie(n,["ref","disabled","onPointerDown","onClick","onKeyDown","onFocus","onBlur"],a8),s=()=>r.listState().selectionManager(),l=()=>r.keyboardDelegate(),c=()=>i.disabled||r.isDisabled(),{fieldProps:u}=s8(o),{typeSelectHandlers:f}=C8({keyboardDelegate:l,selectionManager:s,onTypeSelect:b=>s().select(b)}),d=()=>[r.listboxAriaLabelledBy(),r.valueId()].filter(Boolean).join(" ")||void 0,h=b=>{Lt(b,i.onPointerDown),b.currentTarget.dataset.pointerType=b.pointerType,!c()&&b.pointerType!=="touch"&&b.button===0&&(b.preventDefault(),r.toggle(!0))},p=b=>{Lt(b,i.onClick),!c()&&b.currentTarget.dataset.pointerType==="touch"&&r.toggle(!0)},g=b=>{var y,w,$,A,C,E,_,N;if(Lt(b,i.onKeyDown),!c())switch(Lt(b,f.onKeyDown),b.key){case"Enter":case" ":case"ArrowDown":b.stopPropagation(),b.preventDefault(),r.toggle("first");break;case"ArrowUp":b.stopPropagation(),b.preventDefault(),r.toggle("last");break;case"ArrowLeft":{if(b.preventDefault(),r.isMultiple())return;const M=s().firstSelectedKey(),O=M!=null?(w=(y=l()).getKeyAbove)==null?void 0:w.call(y,M):(A=($=l()).getFirstKey)==null?void 0:A.call($);O!=null&&s().select(O);break}case"ArrowRight":{if(b.preventDefault(),r.isMultiple())return;const M=s().firstSelectedKey(),O=M!=null?(E=(C=l()).getKeyBelow)==null?void 0:E.call(C,M):(N=(_=l()).getFirstKey)==null?void 0:N.call(_);O!=null&&s().select(O);break}}},m=b=>{Lt(b,i.onFocus),!s().isFocused()&&s().setFocused(!0)},v=b=>{Lt(b,i.onBlur),!r.isOpen()&&s().setFocused(!1)};return oe(()=>be(r.registerTriggerId(u.id()))),oe(()=>{r.setListboxAriaLabelledBy([u.ariaLabelledBy(),u.ariaLabel()&&!u.ariaLabelledBy()?u.id():null].filter(Boolean).join(" ")||void 0)}),T(nx,ye({ref(b){var y=Lr(r.setTriggerRef,i.ref);typeof y=="function"&&y(b)},get id(){return u.id()},get disabled(){return c()},"aria-haspopup":"listbox",get"aria-expanded"(){return r.isOpen()},get"aria-controls"(){return pt(()=>!!r.isOpen())()?r.listboxId():void 0},get"aria-label"(){return u.ariaLabel()},get"aria-labelledby"(){return d()},get"aria-describedby"(){return u.ariaDescribedBy()},onPointerDown:h,onClick:p,onKeyDown:g,onFocus:m,onBlur:v},()=>r.dataset(),()=>t.dataset(),a))}function r7(e){const t=Si(),r=ho(),n=rt({id:r.generateId("value")},e),[i,o]=Ie(n,["id","children"]),a=()=>r.listState().selectionManager(),s=()=>{const l=a().selectedKeys();return l.size===1&&l.has("")?!0:a().isEmpty()};return oe(()=>be(r.registerValueId(i.id))),T(xt,ye({as:"span",get id(){return i.id},get"data-placeholder-shown"(){return s()?"":void 0}},()=>t.dataset(),o,{get children(){return T(Et,{get when(){return!s()},get fallback(){return r.placeholder()},get children(){return T(Wse,{state:{selectedOption:()=>r.selectedOptions()[0],selectedOptions:()=>r.selectedOptions(),remove:l=>r.removeOptionFromSelection(l),clear:()=>a().clearSelection()},get children(){return i.children}})}})}}))}function Wse(e){const t=Dm(()=>{const r=e.children;return Rm(r)?r(e.state):r});return pt(t)}var lr=Object.assign(e7,{Arrow:pS,Content:q8,Description:rS,ErrorMessage:nS,HiddenSelect:Q8,Icon:Y8,Item:iv,ItemDescription:ov,ItemIndicator:av,ItemLabel:sv,Label:J8,Listbox:X8,Portal:Z8,Section:lv,Trigger:t7,Value:r7}),Kse=W('<svg><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m8 9l4-4l4 4m0 6l-4 4l-4-4"></svg>',!1,!0,!1),Gse=W('<svg xmlns=http://www.w3.org/2000/svg class="h-4 w-4"viewBox="0 0 24 24"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m5 12l5 5L20 7"></path><title>Checked');const qse=lr,Qse=lr.Value;lr.Description;lr.ErrorMessage;lr.ItemDescription;lr.HiddenSelect;lr.Section;const Yse=e=>{const[t,r]=Ie(e,["class","children"]);return T(lr.Trigger,ye({get class(){return Df("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background transition-shadow placeholder:text-muted-foreground focus:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t.class)}},r,{get children(){return[pt(()=>t.children),T(lr.Icon,{as:"svg",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",class:"flex size-4 items-center justify-center opacity-50",get children(){return Kse()}})]}}))},Jse=e=>{const[t,r]=Ie(e,["class"]);return T(lr.Portal,{get children(){return T(lr.Content,ye({get class(){return Df("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[expanded]:animate-in data-[closed]:animate-out data-[closed]:fade-out-0 data-[expanded]:fade-in-0 data-[closed]:zoom-out-95 data-[expanded]:zoom-in-95",t.class)}},r,{get children(){return T(lr.Listbox,{class:"p-1 focus-visible:outline-none"})}}))}})},Xse=e=>{const[t,r]=Ie(e,["class","children"]);return T(lr.Item,ye({get class(){return Df("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50  divide-accent divide-2",t.class)}},r,{get children(){return[T(lr.ItemIndicator,{class:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",get children(){return Gse()}}),T(lr.ItemLabel,{get children(){return t.children}})]}}))};var sI=W("<div contenteditable>"),Zse=W("<div class=relative>"),ele=W('<div class="badge-selection-menu absolute z-50 border border-border rounded-md p-2 flex items-center justify-center cursor-pointer bg-background"><div class="flex flex-col divide-accent divide-2">'),tle=W('<div class="px-4 py-2 hover:bg-accent rounded-md">'),rle=W('<div class="badge border-2 rounded-md px-2 py-1 font-semibold flex items-center justify-center cursor-pointer">'),nle=W('<div><div class="relative overflow-x-auto p-2"><div class="pb-4 flex space-x-4 justify-between"><div class="flex space-x-2 columnSelection"><button class="cursor-pointer px-4 py-1 border border-border hover:bg-red-500 w-fit">'),ile=W('<table class="overflow-x-auto w-full text-sm text-left rtl:text-right text-foreground border border-border">'),ole=W("<tbody class>"),ale=W('<thead class="text-xs uppercase bg-background text-foreground">'),sle=W('<tr class="px-6 py-4 font-medium whitespace-nowrap text-foreground divide-x-1 divide-border">'),lle=W('<th class><div class="px-6 py-4 flex items-center w-full cursor-pointer hover:bg-red-400">'),cle=W('<tr class="px-6 py-4 font-medium whitespace-nowrap text-foreground border-t border-border divide-x-1 divide-border hover:bg-accent ">'),n7=W('<td class="px-6 py-4">'),ule=W('<td class="px-6 py-4 cursor-pointer hover:bg-red-400">'),fle=W('<div class="flex flex-row items-center justify-between pt-4 "><span class="text-md font-normal text-foreground mb-4 md:mb-0 block w-full md:inline md:w-auto">Showing <span class="font-semibold text-foreground">1-10</span> of <span class="font-semibold text-foreground">1000</span></span><div class="flex divide-x-1 divide-border"><button class="cursor-pointer hover:bg-muted border-y border-l border-border px-4">first</button><button class="cursor-pointer hover:bg-muted border-y border-r border-border px-4">last'),dle=W('<button class="cursor-pointer hover:bg-muted px-4 py-1 border-y border-border">'),hle=W('<div class="flex px-4 py-1 border border-border items-center"><input type=text name placeholder="filter here"id class=pl-4>');const i7=e=>{nv(e,e.is_child,{tags:["input"],classes:["columnSelection"]});const[t,r]=Q("none"),[n,i]=Q({x:0,y:0}),o=(u,f)=>{let d=e.columns.find(g=>g.key===u)??su.String;const p=typeof f=="object"&&f!==null&&"type"in f&&"label"in f?c(f.type,f.label):null;return T(sc,{get children(){return[T(Be,{get when(){return d.typeDef===su.String},get children(){var g=sI();return j(g,f),g}}),T(Be,{get when(){return d.typeDef===su.Number},get children(){var g=sI();return j(g,f),g}}),T(Be,{get when(){return d.typeDef===su.Badge},get children(){var g=Zse();return j(g,T(s,{type:u,get text(){return p.label},get color(){return p.color}})),g}})]}})},a=u=>(()=>{var f=ele(),d=f.firstChild;return j(d,T(yt,{get each(){return l[u.type]},children:h=>(()=>{var p=tle();return p.$$click=g=>{g.preventDefault(),console.log("000000000000000000000000000000000"),console.log("000000000000000000000000000000000"),console.log("000000000000000000000000000000000"),console.log("000000000000000000000000000000000"),r("none")},j(p,T(s,{get type(){return u.type},get text(){return h.label},get color(){return h.color}})),p})()})),ee(h=>{var p=n().x+"px",g=n().y+"px";return p!==h.e&&Z(f,"top",h.e=p),g!==h.t&&Z(f,"left",h.t=g),h},{e:void 0,t:void 0}),f})(),s=u=>(()=>{var f=rle();return f.$$click=d=>{i({x:d.currentTarget.getBoundingClientRect().top-e.y-10,y:d.currentTarget.getBoundingClientRect().left-e.x-68}),r(u.type)},j(f,()=>u.text),ee(d=>{var h=u.color+"70",p=u.color;return h!==d.e&&Z(f,"background",d.e=h),p!==d.t&&Z(f,"border-color",d.t=p),d},{e:void 0,t:void 0}),f})(),l={status:[{id:"badge_0",label:"todo",color:"#999999"},{id:"badge_1",label:"in-progress",color:"#007bff"},{id:"badge_2",label:"done",color:"#28a745"},{id:"badge_3",label:"cancelled",color:"#dc3545"}],priority:[{id:"badge_4",label:"low",color:"#28a745"},{id:"badge_5",label:"medium",color:"#ffc107"},{id:"badge_6",label:"high",color:"#dc3545"}],label:[{id:"badge_7",label:"bug",color:"#e74c3c"},{id:"badge_8",label:"feature",color:"#2980b9"},{id:"badge_9",label:"enhancement",color:"#2ecc71"}]},c=(u,f)=>{const d=l[u].find(h=>h.label===f);return d||{id:"none",label:"unknown",color:"#ffffff"}};return(()=>{var u=nle(),f=u.firstChild,d=f.firstChild,h=d.firstChild,p=h.firstChild;return u.$$click=g=>{g.target.closest(".badge, .badge-selection-menu")||r("none")},u.addEventListener("mouseleave",()=>r("none")),j(u,T(yt,{get each(){return Object.entries(l)},children:([g,m])=>T(Et,{get when(){return t()===g},get children(){return T(a,{type:g})}})}),f),j(d,T(xle,{}),h),j(h,T(qse,{class:"rounded-none cursor-pointer",options:["Apple","Banana","Blueberry","Grapes","Pineapple"],placeholder:"Column filter",itemComponent:g=>T(Xse,{get item(){return g.item},get children(){return g.item.rawValue}}),get children(){return[T(Yse,{class:"",get children(){return T(Qse,{children:g=>g.selectedOption()})}}),T(Jse,{})]}}),p),j(p,T(gq,{size:16})),j(f,T(ple,{get children(){return[T(mle,{get children(){return T(vle,{get children(){return[T(Wb,{get children(){return T(lI,{})}}),T(yt,{get each(){return e.columns},children:g=>T(ble,{get children(){return g.title}})}),T(Wb,{children:" "})]}})}}),T(gle,{get children(){return T(yt,{get each(){return e.rows},children:g=>T(yle,{get children(){return[T(Wb,{get children(){return T(lI,{})}}),pt(()=>Object.entries(g).map(([m,v])=>T($le,{get children(){return o(m,v)}}))),T(wle,{get children(){return T(hq,{})}})]}})})}})]}}),null),j(f,T(Ale,{}),null),u})()},ple=e=>(()=>{var t=ile();return j(t,()=>e.children),t})(),gle=e=>(()=>{var t=ole();return j(t,()=>e.children),t})(),mle=e=>(()=>{var t=ale();return j(t,()=>e.children),t})(),vle=e=>(()=>{var t=sle();return j(t,()=>e.children),t})(),ble=e=>(()=>{var t=lle(),r=t.firstChild;return j(r,()=>e.children,null),j(r,T(Oq,{class:"ml-2",size:16}),null),t})(),yle=e=>(()=>{var t=cle();return j(t,()=>e.children),t})(),$le=e=>(()=>{var t=n7();return j(t,()=>e.children),t})(),wle=e=>(()=>{var t=ule();return j(t,()=>e.children),t})(),Wb=e=>(()=>{var t=n7();return j(t,()=>e.children),t})(),Ale=()=>(()=>{var e=fle(),t=e.firstChild,r=t.nextSibling,n=r.firstChild,i=n.nextSibling;return j(r,T(yt,{each:[1,2,3,4,5],children:o=>(()=>{var a=dle();return a.classList.toggle("bg-secondary",o===1),j(a,o),a})()}),i),e})(),xle=()=>(()=>{var e=hle(),t=e.firstChild;return j(e,T(pq,{class:"text-foreground"}),t),e})(),lI=()=>T(zoe,{class:"flex items-center space-x-2",get children(){return T(Hoe,{})}});Ot(["click"]);var Sle=W("<div><img>");const o7=e=>{const[t,r]=Q("");return kt(async()=>{try{const n=await ON(e.path,{baseDir:Mr.Document}),i=btoa(Array.from(n).map(o=>String.fromCharCode(o)).join(""));r(`data:image/png;base64,${i}`)}catch(n){console.error("Failed to load image:",n),r("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACVtSURBVHgB7d1bc1vXmaDhzfOZlGX5FDvtOJVkMj2p6lRNLtIXc9N/aKbmF8x/64vui0xNd1cm05VDy44ky7IkiuL5CA4+UJveBDZOJPARpJ7HxRIFUCC44ZL2i7XXWlN/efzkvAAAAEgwXQAAACQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApJktAJgoJyenxVnjvDg8Omn+elY0mp/HbSE+P2s03n3dWcefjfsa7+6/T6anp4uZ6avvmc3MTLVuL83NzjRvm27dNj09VczPzbY+n2/ePjfnnzuASeFvZIBbEqGwd3BU7Dc/IiYiOE5OTws6NWrC6mTIQ7W4MNeMlNlioflrfL6ytHAlYADIIUAAEkVw7O4dtKIjgoM8cbzjY6d5/EsRIsvNEFldWWoFCQDjJ0AAxizeuX+9tVtsNj/u4+VRd1kZJfHaxCVcDx+sFWsriy7ZAhijqb88fnJeADBywuPu2lhbLj56uC5EAMbA36wAY7C5tVO83Ny5VnjEvIS5uZmLSdWtz2ebv8aE65nWxOtyMnbc366chH3fxHE8O7t6LC8m3J9ffn52dt78/VlrAv/FRP6L+2OEY9jX4e3OfusyuUfNCHmwvlIAMDoCBGCE4kT3yfPXrZPXQSy8mwy9MD9fLC7MXq7cxFUXK1tdPS5zxeDidWlN8m+Gyd7hxfyboz5zcE5Oz4rn379pvZZGQwBGxyVYACMSJ7ffPHvZOnHtJSY9b6ytFOuri2LjFsXrFXGxvXdQ7O4d9vzaGG368vOPRAjACAgQgBHoFx8RGh8+WC0eNj9Ex+SJ1+/lm+1if/+o62soQgBGQ4AA3FC/+IjoiEt4hMfkK0Pk7fZ+7f0iBODm/GsIcAMxt6BbfERwxMnqJ48eiI87IsLiRx8/bH58UDvJP17neL2tagZwff5FBLiBl5vbtfERJ68//fHHrfke3D0b6ysXIx1dIuT75usOwPUIEIBr2trea+3x0c5lOvdDvH7dIuRN83XfG3ClMwCuEiAA1/Sq5l3w8rIr8XE/lBFSdwnd8xebBQDDEyAA1xCjH3WXXtkv4v6J1/Pjh2sdt8frH/8fADAcAQJwDXWjH4sLc60Vr7h/PniwVjuf55W5IABDEyAAQ9rZO6gd/fji0w8L7q8Y3WoX/x+YCwIwHAECMKQIkHZrK0suvbrnYgTEKAjAzQkQgCGcNRq1m9RtrC8X3H91oyBHRyf2BQEYggABGMJ+zeU2sUxrjIBw/8UISPuKWBGlB80IAWAwAgRgCHWXX9ls8P3yoGa0a7fm/wsA6gkQgCEc1rzTvbZq9ON9UhecJqIDDE6AAAwoLrU5qgmQFSMg75W6ADEPBGBwAgRgQHXxsbAwV7tLNvfXTPP1npvtXPHMPBCAwfhXE2BAh0fHHbfNz1p69320vDTfcduRAAEYiAABGFDd5oMxAsL7p27Pl5PT0wKA/rx1BzCgugnoixMYIDEX4fjkrPV8Z2amWpeIzc/O2ChxhOouwTo5OSsA6M+/RgADOquZZDwp8z8iOt5s7xW7e4e1e5WE2K8kJlDHZnpi5GaWFjqPX90legB08i8QwIDq3uFemoARkM2tneLl5k7fVZjiErK3O/utj421ZSFyA3Xh2WicFwD0518egAE1JmwEJJ7PsxebrVGPYUWExEjJl59/JEKuoe6YnVmGF2AgJqEDDODkpHOCcVzSdFsiPr559vJa8VGKEZHHT76vndtCf/XzQExEB+hHgAAMoG4FrOmZ2/srNEY+eoVD7FURE+TjY77HCEe8a//0+SsnztcwPTPVcduZy7AA+jLuDnBNM7d0+dXWu8nmdZYW54uVpcVibu7q6MzZWaM4Pj4tdvYOOi4Virj69vs3rcuxGFzd6+8yLID+jIAADKDuxPI2AiRGKl5tbnfcPjU1VXywsVo8WF/piI8w0xytWVqaLz78YK32ecd8kL0uq2dRb2a6cwTESBJAfwIEYABnZ52X1kzXnICOW0RC3eVgER6D7EkSIdItQurChu4mZQlmgLvG354Ad0isXtUuLrsaZkPEiJAIlnYxCtJwCREAYyZAAAZwclqzClby8rVxGVjdJoNrK0vFsObnZ2snp2/vHhQMpu71rxudAuAqAQJwRxzVrHoVSwHPXHM1rrq5IkfHluQFYLwECMAdUTcRPiafX9dszT4msVoWAIyTAAG4I+omws/M+GscgLvFv1wAA5iEndDnay6ZOr3BnIPzmj3zBM3g7IQOcD3+pQG4I+qCJyY9N665+3bdfI+6k2oAGCUBAnBHxKpLdYGwd3BYDCvmetRNal8YYjlfALgOAQJwh6ytLnbctr9/NPTk8e3dzv1EYoRlZWmhAIBxEiAAd8jDjdWO2xrn58XrrZ2BI2Rn77A4rBn9+OjhegEA4yZAAO6QuAzr4YPOCIn4iAjZPzzq+mdbX/Nmp9jd69xsMEY/1laH39AQAIZltiHAHfOoOVKxs3vQset2BMbb7f1mYBwWi/Nzl/t8nDf/Ozw8KY57rND06UcPiulp70kBMH4CBOCOmWmGwheffVh88+xV0ajZnDBCZO/gaODHi6BZXTH6AUAOb3cB3EGLC/PFl58/uvFeJBEf5n4AkEmAANxRFxHyUbG2sjj0n41wiT8rPgDI5hIsgDssJqV/8dmj4u32XrG1s1/s97n0KuZ5fPhgtTWR3ZwPAG6DAAG4BzbWV1ofJyenrQg5PD65sizv4sJca8Rk2T4fANwyAQJwj8SIyEZ8FAAwmQQIABMhRm+29w6Ko8omiRFUMWpjh3aA+0OAAHCrYsngV5vbPeevxKT5uMTMpHmAu0+AAHBrXrzaKja3dvt+XWy6GJESk+1j9a4YGQHgbrIECgC34tvv3wwUH1URIo+ffF8cVi7TAuBuESAApIv4iNGM6zhrNIqnz1+15owAcPcIEABS9YqP+bnZYm1lqXiwtlysry4XS4vztV8XIyHfPHspQgDuIBfRApCmV3xEcKwst692tdAKktdvdlojH1VlhJgTAnC3GAEBIEWv+HiwvlITHxdmZqaLDz9YK2Zqdm6PCHn63eui0RYnAEwuAQLA2PWLj26XWpV6RUhMSH/y/HUBwN0gQAAYq5vGR6mMkKmpqY77Yg+Rb19sFgBMPgECwNiMKj5KvSLk7c5+8XJzuwBgsgkQAMZi1PFRau2Kvrpce19sVihCACabAAFg5MYVH6WlpfniwdpK7X0iBGCyCRAARmrc8VGKCIkleutEhFx3o0MAxkuAADAyWfFRWl1Z7Boh8Vz2Do4KACaLAAFgJLLjoxQR0m0PkWfPX7eW6QVgcggQAG7stuKjFLuo132P2D396fNXxcnJaQHAZJgtAJh4cSnR7t5BsbN7WJycXpxMT09PF4sLc60RgPWVpWJu7nb+Sr/t+Citry23dkY/bX5UxW3fPHtZfPn5R7d2jAD4gb+JASbY4dFx8eLV29ZGe+0azXf34/b4+L75NR88WC0+frjeCpMskxIfYXpqqrVHyOs3OyIEYIK5BAtgQm1u7RSPn3xfGx913mztFv/x1xdplxtNUnyUIkIebqwWMzURFhHy9LvXrXAD4PYIEIAJFMvIxsjHsMp3+scdIZMYH6Vyt/S6CIkJ6U+evy4AuD0CBGDC7Owd3GgjvXFHyCTHR6mMkKnmiEi7GFH69sVmAcDtcCEswASJOR/fvnhTe9/c7ExrtafZ5q/T01Ot0DhqvqO/u39YnJ+fX/nacc15uAvxUSojJOaEtB+ftzv7rePy0cP1AoBcRkAAJkSMWDx9Xj9HYbl5Yv+oebI8Pz/bio8QQRIrYMVJdLc5D6McCblL8VGKY7TRjLY6cZnbTUaaALgeAQIwASISWrHQtnpTiKV2N5on+N30mvMwqgi5i/FRWlqaLx6s1R8/EQKQT4AA3LIY8egWHxEVG2srfR9jnBFyl+OjFBGytrJUe19ESLefD4DREyAAt+zZi82u8RFRUV5y1c84IuQ+xEcpLlfrFiHxc+4NuNwxADcjQABu0YtXW8Xu3mHH7WV8RFQMY5QRcp/ioxQRsrK8UHvfs+evW8v0AjBeAgTglsSlP5tbux23x9Kxsav5sPFRGkWE3Mf4KMVKYnXP/6zRKJ4+f5W2kSPA+0qAANyCXpOf4wQ/Vm+6iZtEyH2Oj9L62sVyxu2yNnIEeJ8JEIBkvTYaXFtZbK16NQrXiZD3IT7CdHOUKY6NCAHIJ0AAEvXaaDDiY7XLJOnrGiZC3pf4KEWEPNxY7Xpsnn5XvycLADcjQAAGULebeN3KVb302mhwZWlh5PFRGiRC3rf4KPU6NjEh/Unz9erm5LRzhGSUu84D3FcCBCBBv40GY07COPWLkPcxPkrlsYnJ/+32D46aI1abBQCjI0AAxmwUGw2OQq8IqfM+xEepV4S83dm3WzrACAkQgDEb1UaDozBohLxP8VGKlcc2VutHonqtWgbAcAQIwADmZmvmgAywStKoNxochX4R8j7GR2lpab540GVEqj1C6l7/my6fDPA+ECAAYzKujQZHoVuEvM/xUYoIWeuyIEC8pt3mywAwGMt1AFxTo3He9b5xbzQ4CmWE7O0fFo3z82J5caGYn/fPQlhdWWz9Gnu2tIsVw2bnZmtXM7vNqAS4K/xLAzCA+bnOYDjrskdE1kaDoxAnzONegeuuighpnDeagXbUcd+z569r5+5MTwsQgH4ECMAAZmpONusCJHujQcZrfXW5NdJ1cHh85fZ47c/sUQhwLd6qARhA3TvbjbYz0NvaaJDxihGi2QEvmZs3CR2gLwECMIB+O6Hf9kaDjM/01FRrrswgEWIndID+BAjAgOpGQSI8JmWjQcYnIuThxmrP/VNmzP8AGIi/LQEGVHeCedY4n6iNBhmffvunzM65/ApgEAIEYECLC52X1zx9/mriNhpkfOL1/PjRRrGyvNB5nxEQgIH42xJgQP3mgZQmYaNBxite43aTtLwywCTzryPAgAbdPHBSNhpkfOrCc27WBHSAQQgQgAEtLsz3/ZpJ22iQ8Tir2QRkwesOMBABAjCgfieYNhp8PzTOz4vTmhGQJQECMBABAjCgmGTcLUJsNPj+OD456bgt/r+YNgkdYCD+tgQYQoRGu/m5WRsNvkcODzsDZHHe6AfAoAQIwBDWakY56i7H4f46PjntuG1t1egXwKAECMAQ6i61iTkBx8cnBfff4fFx7QT0upExAOoJEIAhxDyQulWudmo2I+T+2T847rhtY23Z/A+AIfgbE2BIHz1c77gtLssxCnK/xcjH0VHna+zyK4DhCBCAIS0vLdRuNGgU5H7bfLvbcVv8f7Bm9TOAoQgQgGvoNgqyty9C7qO9g6PaxQbq/j8AoDcBAnANG+srtaMgu81RkLpJytxd8Xru7B503B6vf/x/AMBwBAjANf3ok4cdt8WKWK+3dkTIPRGvY7ye583XtZ3RD4DrESAA1xRzQR4+WO24vTxpFSF3W6/XMV53ox8A1yNAAG7gUfNd8LpLscqT1/3Do4K75+j4pHi5uV0bH/F6G/0AuD4BAnADsS/Il59/1DVC3m7vF1vbe0ZD7ohG47zY3t0vNrd2ay+7itc5Xm/7fgBc39RfHj85LwC4kZOT0+KbZy+Lk5qVksLMzHQxPzfbWrI1PmeyRHjsHRwWe/tHteERyviYa76OAFyfAAEYkX4RUlqcnysWFpsfc3Ni5BZFdBweHRcHh8etJZR7ER8AoyNAAEYoIuTlm+3WpVeDiBPb2ebH/Pxs63KuudnZYnp6qmC0IjbOzs5acRj7eURw9AvFUiw28OPPPnTZFcCICBCAMXi7vdeaxDzoSW7V1NRUK0ymm79ONWMkRkkiSuK/1q9TF4Fycf/Vk+K47T4GTAREo+bSqIiKEJdNxdfEfxex0SjO49dGoziNz8+H/6cugiMmm9etdAbA9RlLBhiDWKI13jkfZjSkFCfL/S4JYnwiPD5sRkeEh1EPgNEzAgIwZnFZ1s7eQWtlpeuMiJBDeADkECAAifYPjloxstf89ejopOB2LSzMFSvNkapYnSxGrAAYP5dgASSKk9zyRLfRaLRC5LAZIrEaU4yOiJLxiQn+CwuzreWQ4zWI8DDSAZBPgADckjj5jXfe46Pq5N0KTTGBOj4/iwnYzc9jYnX1Eq64v3F2dRC7dVvj/m16GMdqpiYW5uZm3t0/dXl/LJU7Mx2T8WeKxYV3q4tZPhdgYvgbGWDCxMmyE2YA7itjzwAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKQRIAAAQBoBAgAApBEgAABAGgECAACkESAAAEAaAQIAAKSZLQAYm5PTRvPjrJibnWl+XP89n/3Dk9avy4tzxU2Uj3PT5zMq5fEJN/nZRnWcR/V8AOhOgACMwZ++/r54+t2byxP+sNQ8of3wwUrx8598MtDJ7fbuYfGHPz9v/nrQOjEuxWN88emD5scHxSDiOcTzefHq7Y0eZ1TiOXz99FXH8Ylw+OTR+sDHJ4ziOIfHT183j8928Xpr70aPA0B/U395/OS8AGAk4kT4f//+m1Y8dBMntr/51ZfF+upi16+JE+KIj16++uLD4m9/9lnPr3n63Vbzcb69Eh7XeZxRiePzz//yH8VBJRjq/OInHzdP/D/u+TiDHOff/vqnPeMhjks8TjU86h6n3+sFwOBm/vv/+J//qwBgJP75Xx5fnhTHO/oP1pdbIwxxaVCj0ShOTy8+nn//tvjs4wet29vFO/H/+u/PLn8fJ8A/bj7GRw/XWr8vT963tg+KqeJiJKPOxcn+4+b3Pe94nPi+e/tHl49zenp2+fjj0h4fcXy+/NHD1kf8DGfN51neF0Gw0TzhX11eqH2s6nEOnzd/rk+boycRG3EJVXmc41h+8mij9jiH//OHvxYvN3cvfx8jMD/6eKP1vY+OTwd6vQAYjkuwAEYkLgcqT4rjZP/vf/1V89f5y/sPDo+L3/3+r62viZPkf/v3p8136L/qeJz/Wxn5iEuk/u6XX1y5/4/N7xPfq/w8Tprr3p2Pk/3SJ4/WWo9TPYF+/PRVc3Tku3efv249TreYiZGCQeZW9Pq6za3dy8CoOz5fffGo9bN/3XwuIT6P59QuLrmqRl4cw/XVpcv74zj/UzNQ4nsdtC4/e9FxDMvHefFq5/L38TjVnz9GhgZ5vQAYjlWwAEbkSfOEttR+ch3i97/51d9c/j7e5S8nPJfipLh6kl534hyXJ0WYVP9Mu++a7/xXH+e//Oyzjnfv44T/J82T7FIZNe1i5OIff/enrvf/8Dy2Wl+33+Xyqri/+jO0H5/y9vJ5xvOve6w/Vp5HXDpWjY9wcZy/vPJ9249z++PE5V7t8VW+XuXzider16VaAAxGgACMQPWEP+Kg7uQ6xO3/tXlS+3e//Lz10a79JL2b6sTx6p8pxaVH1a/t9nyq36MuiOL35WVT1ZGXuuf9r80RgoN3l1nVnfBXdXs+cbK/WJmzEaMZVfEcq2HVbQJ9jAhVg6L9GL1tjmocVFYE+6oSYu3P8/NK7AkQgJsTIAAj0H7C30vMVYivKeeGVFXnNXS7HKq8b+ndiXqc7LdPxq6eKH9acxlTKb7/WuXyrc22E+y4/xc/+eTy93URUsZHqe7nCkuVsNjvMQn9sHJf+6Vl1Z+r1/G5eB4/hEP7z7XZ9ji95nZUv8+mAAG4MXNAAEbgbSUAypPmOFmOk/OY+zDbPMFdbr6bHnMxugXK23dzDUKcEHcbJSjFiXH5zn782fL7xmMc9DiJbxcTrnfePf+6MChP5MvIKC9disuW2uMjbus2chM/d/l8YxneTx+tdZz4R9yUxyC+b2egHVR+rqWil7XK/W8rfy7sV0ZW1gY4Pj98/8MCgJsRIAAjcFi5nKcoplqrNF29XOekdfIal2rFCXzd8rCnlcuW1gZY8nW2cnJevVSpfU+Mfqqh0+0Euy5Cyp+n1Cs+wsWeGh9fTtb/x9/9+XIuSPzs8VhloMTzrnus08pywv3CavnKpVxXw2qn8nP2C73q/RFH5YaHAFyPAAEYgfJd+9nZ6da+G2V8PGxdKjXfCoTy8p1ynsR/+83PrpzI9ps30W7uSoD8cIJdDZl+J9dh0E322iNkmPgoxdfE94uAiedcXW64FPMx4qPuue+3zQnppT0SuoXD8kCRNnd5jC9W+hIgANclQABuqDr6ECep8S5+3TKzESXlRO34iI0Gq6tcnQ4ZILchIuT11u6VSd0xsjFIfIQY+Yg/22sjwgibGN344tP+8TQM4QAwGUxCBxixuvgIcaJeDY725WFnb3By3G3vjYMBRgx67ZLeLp5z+4pSEVb9lugNER8x8lMdHYqVwGJvjfgoR1jKkZFBHnMY3UY6Bgm/0yGOEQC9CRCAG2oPjdhfo9ulTxEh3VZVat+0sJ9u8TLoJVV1j9Nrs8H2Cecxob7Ua4ne0u9+/81l7MQlW3/fio4PLo9JxNk//PYXl6MU8Zjty94uV45Rv3DodUlbdW7M8QBxMegxAqA/f4sCjED10p5+k6O7nfzOV05sB3nHvTqRurpS02zb3JB+c0uqK0t1C6e61a5is7/qiE6vCGnfGLHbJVvx/XttjjjoUr5hu2ZlslL1GO20rZDVrrrCWbzOLuMCuBkBAjAC1RPc687liJPv8uQ2oqHfpnfbXVZyuljCd6726/o9Tl089VpqNy6bGiRCru5vslr08uPK/h3tz7269G5175U61T+73BZWwyytWw2UQVYnA6A3AQIwAg8rl1W97XNCWw2L9sulqpc19QqQp9+9uRzZiNhoD4dPKpsPxtf2ei7VkYm6zf0eP311+XndalftEfKk8tyuo9fIxqeV47Nd2TelTvV5V4/rxe9/OD5xDHp9z+qcl2ocAXA9AgRgBL6qXDb09dPXXU9oHzfv63XCX92ksNfj/LEyyvDTLx513P/plQDZ6vouf3Vko9vO4jFBPAKn9yaDFxFSTsBvv0ypGloxctErHKrB1D7iECM95fOMx+h2yVf7cf6kbTf4eH7Vn/f//fl51+cyzO7rAPQnQABGIE5oy7kLcWJcXe3p4rZG66T4D5UT3bod0auT1MvHqUZIPE5scnj15Hqt9nGqJ90xAbz9+fzbuyWBL57/dNe4iJ8t9izpt9RuRMg//PY/1c4jiedSXhYWP1dsQtgeV/Gc4vj0G3H4eeV5xDFtj5D483/6+kXleX1QO2+j+jgxRyUep/qc4nhVX69ue5MAMJypvzx+cl4AcGPliXV1j4s4sS83IqwudxuXbMVIQZ342n+qREYoRxDaT9p/86u/6Xh3v9/ziZPx9sf52599dmUUZxwuluF9fGX0I0ZW4vnEbe3HKJ5PPK867XNNyp/rYqfyq7ulRzx1UzdnJY51++NEPLVvHAnA9QgQgBGKk+g4qW3fK6MqTqzj3fdeJ7N1EVIVJ9z/+Wc/6jsnYZDH+flPPhl7fAz6fIZ5Tv2W/o3Ii0DrFw2DPM6vf/m50Q+AEREgAGMQl+/EXIdyQnqcBMe78e37gPQTcxC+e7XTHLE4bq2uFatAxePEyfkw78aXj1OONFz3cUal/fiEOMHfWF3oeslUnfhZ4jKseJz4PJbXffTu8rNhjnPd48QxisAz7wNgtAQIAACQxiR0AAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACCNAAEAANIIEAAAII0AAQAA0ggQAAAgjQABAADSCBAAACDN/wcmo5WfXRp57AAAAABJRU5ErkJggg==")}}),(()=>{var n=Sle(),i=n.firstChild;return Z(i,"width","100%"),ee(o=>{var a=t(),s=e.path;return a!==o.e&&z(i,"src",o.e=a),s!==o.t&&z(i,"alt",o.t=s),o},{e:void 0,t:void 0}),n})()};function Cle(e,t){const[r,n]=Q(e),i=o=>{o.preventDefault();const a=o.clientX,s=r(),l=u=>{const f=s+(u.clientX-a);n(Math.max(300,f))},c=()=>{window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",c),t&&(n(Math.round(r()/10)*10),t(r()))};window.addEventListener("pointermove",l),window.addEventListener("pointerup",c)};return be(()=>{window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",i)}),{width:r,setWidth:n,startResize:i}}var Ele=W('<div class="z-50 resize_handle cursor-pointer absolute bottom-0 right-0 aspect-square hover:bg-background/40 border border-transparent hover:border-border opacity-0 group-hover/resize:opacity-100 pointer-events-none group-hover/resize:pointer-events-auto transition-all duration-200 ease-in-out">');const kle=e=>(()=>{var t=Ele();return sa(t,"pointerdown",e.startResizeFunction,!0),j(t,T(cq,{size:16})),t})();Ot(["pointerdown"]);var Ole=W('<div class="top_strip absolute top-0 left-0 h-1 w-full">'),Tle=W("<div>");const Ile=e=>{const t=(()=>{switch(e){case ie.Column:return{classes:["collapse_icon","titleHandle"]};case ie.Note:return{tags:["button"],ids:["editor"]};case ie.Todo:return{classes:["taskitem","taskitem-text","checkbox-check","tasklist_handle","sortable"]};case ie.Table:return{tags:["input"],classes:["columnSelection"]};case ie.Activity:return{classes:["activityCell","ch-subdomain-bg","activityChangers"]};default:return{}}})();return{...t,classes:Array.from(new Set([...t.classes??[],"resize_handle"]))}},a7=e=>{var o;const{startDrag:t}=nv(e.node,e.isChildNode,Ile(e.node.type)),r=e.node.type===ie.Color?150:((o=B.nodes[Rr()].find(a=>a.id===e.node.id))==null?void 0:o.width)??void 0,{width:n,startResize:i}=Cle(r,a=>{oQ(e.node.id,a)});return(()=>{var a=Tle();return sa(a,"pointerdown",t,!0),j(a,T(Et,{get when(){return e.node.top_strip_color},get children(){var s=Ole();return ee(l=>Z(s,"background",e.node.top_strip_color)),s}}),null),j(a,()=>e.children,null),j(a,T(Et,{get when(){return!e.isChildNode},get children(){return T(kle,{startResizeFunction:i})}}),null),ee(s=>{var l=`${e.node.type.toLowerCase()}`,c={child_node:e.isChildNode,"node group/resize":!e.isChildNode,selected_node:B.selectedNodes.has(e.node.id),"group/collapse ":e.node.type===ie.Column,"flex flex-col justify-center items-center":e.node.type===ie.Board,"flex flex-row justify-start p-2 pl-2.5":e.node.type===ie.Board&&e.isChildNode},u=e.node.id,f=e.isChildNode?"100%":n()?`${n()}px`:"fit-content",d=e.node.color,h=e.node.zIndex,p=`translate3d(${e.node.x}px, ${e.node.y}px, 0)`,g=e.node.textColor??"var(--color-foreground)";return l!==s.e&&Nr(a,s.e=l),s.t=Ha(a,c,s.t),u!==s.a&&z(a,"id",s.a=u),f!==s.o&&Z(a,"width",s.o=f),d!==s.i&&Z(a,"background",s.i=d),h!==s.n&&Z(a,"z-index",s.n=h),p!==s.s&&Z(a,"transform",s.s=p),g!==s.h&&Z(a,"color",s.h=g),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),a})()};Ot(["pointerdown"]);var Mle=W('<div><div class="aspect-5/4 w-full p-5"></div><div class="p-5 text-xs">by default is color name here, editable \\');const s7=e=>(()=>{var t=Mle(),r=t.firstChild,n=r.nextSibling;return n.firstChild,j(r,()=>e.colorValue),j(n,()=>e.text,null),ee(i=>Z(r,"background",e.colorValue)),t})(),Ple="modulepreload",Dle=function(e){return"/"+e},cI={},_le=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=a(r.map(c=>{if(c=Dle(c),c in cI)return;cI[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Ple,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};var Yw="http://www.w3.org/1999/xhtml";const uI={svg:"http://www.w3.org/2000/svg",xhtml:Yw,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hv(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),uI.hasOwnProperty(t)?{space:uI[t],local:e}:e}function Nle(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Yw&&t.documentElement.namespaceURI===Yw?t.createElement(e):t.createElementNS(r,e)}}function Lle(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l7(e){var t=hv(e);return(t.local?Lle:Nle)(t)}function Rle(){}function mS(e){return e==null?Rle:function(){return this.querySelector(e)}}function Ble(e){typeof e!="function"&&(e=mS(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Zr(n,this._parents)}function Fle(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function jle(){return[]}function c7(e){return e==null?jle:function(){return this.querySelectorAll(e)}}function zle(e){return function(){return Fle(e.apply(this,arguments))}}function Hle(e){typeof e=="function"?e=zle(e):e=c7(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var a=t[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(n.push(e.call(l,l.__data__,c,a)),i.push(l));return new Zr(n,i)}function u7(e){return function(){return this.matches(e)}}function f7(e){return function(t){return t.matches(e)}}var Vle=Array.prototype.find;function Ule(e){return function(){return Vle.call(this.children,e)}}function Wle(){return this.firstElementChild}function Kle(e){return this.select(e==null?Wle:Ule(typeof e=="function"?e:f7(e)))}var Gle=Array.prototype.filter;function qle(){return Array.from(this.children)}function Qle(e){return function(){return Gle.call(this.children,e)}}function Yle(e){return this.selectAll(e==null?qle:Qle(typeof e=="function"?e:f7(e)))}function Jle(e){typeof e!="function"&&(e=u7(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new Zr(n,this._parents)}function d7(e){return new Array(e.length)}function Xle(){return new Zr(this._enter||this._groups.map(d7),this._parents)}function zg(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}zg.prototype={constructor:zg,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Zle(e){return function(){return e}}function ece(e,t,r,n,i,o){for(var a=0,s,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],n[a]=s):r[a]=new zg(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function tce(e,t,r,n,i,o,a){var s,l,c=new Map,u=t.length,f=o.length,d=new Array(u),h;for(s=0;s<u;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",c.has(h)?i[s]=l:c.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=c.get(h))?(n[s]=l,l.__data__=o[s],c.delete(h)):r[s]=new zg(e,o[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(d[s])===l&&(i[s]=l)}function rce(e){return e.__data__}function nce(e,t){if(!arguments.length)return Array.from(this,rce);var r=t?tce:ece,n=this._parents,i=this._groups;typeof e!="function"&&(e=Zle(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=n[c],f=i[c],d=f.length,h=ice(e.call(u,u&&u.__data__,c,n)),p=h.length,g=s[c]=new Array(p),m=a[c]=new Array(p),v=l[c]=new Array(d);r(u,f,g,m,v,h,t);for(var b=0,y=0,w,$;b<p;++b)if(w=g[b]){for(b>=y&&(y=b+1);!($=m[y])&&++y<p;);w._next=$||null}}return a=new Zr(a,n),a._enter=s,a._exit=l,a}function ice(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oce(){return new Zr(this._exit||this._groups.map(d7),this._parents)}function ace(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function sce(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=r[l],u=n[l],f=c.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=c[p]||u[p])&&(d[p]=h);for(;l<i;++l)s[l]=r[l];return new Zr(s,this._parents)}function lce(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],a;--i>=0;)(a=n[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function cce(e){e||(e=uce);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a=r[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(t)}return new Zr(i,this._parents).order()}function uce(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function fce(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function dce(){return Array.from(this)}function hce(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function pce(){let e=0;for(const t of this)++e;return e}function gce(){return!this.node()}function mce(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function vce(e){return function(){this.removeAttribute(e)}}function bce(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yce(e,t){return function(){this.setAttribute(e,t)}}function $ce(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function wce(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Ace(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function xce(e,t){var r=hv(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?bce:vce:typeof t=="function"?r.local?Ace:wce:r.local?$ce:yce)(r,t))}function h7(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Sce(e){return function(){this.style.removeProperty(e)}}function Cce(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Ece(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function kce(e,t,r){return arguments.length>1?this.each((t==null?Sce:typeof t=="function"?Ece:Cce)(e,t,r??"")):Kl(this.node(),e)}function Kl(e,t){return e.style.getPropertyValue(t)||h7(e).getComputedStyle(e,null).getPropertyValue(t)}function Oce(e){return function(){delete this[e]}}function Tce(e,t){return function(){this[e]=t}}function Ice(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Mce(e,t){return arguments.length>1?this.each((t==null?Oce:typeof t=="function"?Ice:Tce)(e,t)):this.node()[e]}function p7(e){return e.trim().split(/^|\s+/)}function vS(e){return e.classList||new g7(e)}function g7(e){this._node=e,this._names=p7(e.getAttribute("class")||"")}g7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function m7(e,t){for(var r=vS(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function v7(e,t){for(var r=vS(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Pce(e){return function(){m7(this,e)}}function Dce(e){return function(){v7(this,e)}}function _ce(e,t){return function(){(t.apply(this,arguments)?m7:v7)(this,e)}}function Nce(e,t){var r=p7(e+"");if(arguments.length<2){for(var n=vS(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?_ce:t?Pce:Dce)(r,t))}function Lce(){this.textContent=""}function Rce(e){return function(){this.textContent=e}}function Bce(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Fce(e){return arguments.length?this.each(e==null?Lce:(typeof e=="function"?Bce:Rce)(e)):this.node().textContent}function jce(){this.innerHTML=""}function zce(e){return function(){this.innerHTML=e}}function Hce(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Vce(e){return arguments.length?this.each(e==null?jce:(typeof e=="function"?Hce:zce)(e)):this.node().innerHTML}function Uce(){this.nextSibling&&this.parentNode.appendChild(this)}function Wce(){return this.each(Uce)}function Kce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gce(){return this.each(Kce)}function qce(e){var t=typeof e=="function"?e:l7(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Qce(){return null}function Yce(e,t){var r=typeof e=="function"?e:l7(e),n=t==null?Qce:typeof t=="function"?t:mS(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Jce(){var e=this.parentNode;e&&e.removeChild(this)}function Xce(){return this.each(Jce)}function Zce(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eue(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tue(e){return this.select(e?eue:Zce)}function rue(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nue(e){return function(t){e.call(this,t,this.__data__)}}function iue(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function oue(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function aue(e,t,r){return function(){var n=this.__on,i,o=nue(t);if(n){for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function sue(e,t,r){var n=iue(e+""),i,o=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=n[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=t?aue:oue,i=0;i<o;++i)this.each(s(n[i],t,r));return this}function b7(e,t,r){var n=h7(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function lue(e,t){return function(){return b7(this,e,t)}}function cue(e,t){return function(){return b7(this,e,t.apply(this,arguments))}}function uue(e,t){return this.each((typeof t=="function"?cue:lue)(e,t))}function*fue(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,a;i<o;++i)(a=n[i])&&(yield a)}var y7=[null];function Zr(e,t){this._groups=e,this._parents=t}function Vf(){return new Zr([[document.documentElement]],y7)}function due(){return this}Zr.prototype=Vf.prototype={constructor:Zr,select:Ble,selectAll:Hle,selectChild:Kle,selectChildren:Yle,filter:Jle,data:nce,enter:Xle,exit:oce,join:ace,merge:sce,selection:due,order:lce,sort:cce,call:fce,nodes:dce,node:hce,size:pce,empty:gce,each:mce,attr:xce,style:kce,property:Mce,classed:Nce,text:Fce,html:Vce,raise:Wce,lower:Gce,append:qce,insert:Yce,remove:Xce,clone:tue,datum:rue,on:sue,dispatch:uue,[Symbol.iterator]:fue};function Hg(e){return typeof e=="string"?new Zr([[document.querySelector(e)]],[document.documentElement]):new Zr([[e]],y7)}function hc(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Uf(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fa(){}var is=.7,Gl=1/is,Pl="\\s*([+-]?\\d+)\\s*",gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hue=/^#([0-9a-f]{3,8})$/,pue=new RegExp(`^rgb\\(${Pl},${Pl},${Pl}\\)$`),gue=new RegExp(`^rgb\\(${ui},${ui},${ui}\\)$`),mue=new RegExp(`^rgba\\(${Pl},${Pl},${Pl},${gf}\\)$`),vue=new RegExp(`^rgba\\(${ui},${ui},${ui},${gf}\\)$`),bue=new RegExp(`^hsl\\(${gf},${ui},${ui}\\)$`),yue=new RegExp(`^hsla\\(${gf},${ui},${ui},${gf}\\)$`),fI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hc(fa,as,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dI,formatHex:dI,formatHex8:$ue,formatHsl:wue,formatRgb:hI,toString:hI});function dI(){return this.rgb().formatHex()}function $ue(){return this.rgb().formatHex8()}function wue(){return $7(this).formatHsl()}function hI(){return this.rgb().formatRgb()}function as(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pI(t):r===3?new jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pue.exec(e))?new jt(t[1],t[2],t[3],1):(t=gue.exec(e))?new jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mue.exec(e))?qd(t[1],t[2],t[3],t[4]):(t=vue.exec(e))?qd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bue.exec(e))?vI(t[1],t[2]/100,t[3]/100,1):(t=yue.exec(e))?vI(t[1],t[2]/100,t[3]/100,t[4]):fI.hasOwnProperty(e)?pI(fI[e]):e==="transparent"?new jt(NaN,NaN,NaN,0):null}function pI(e){return new jt(e>>16&255,e>>8&255,e&255,1)}function qd(e,t,r,n){return n<=0&&(e=t=r=NaN),new jt(e,t,r,n)}function bS(e){return e instanceof fa||(e=as(e)),e?(e=e.rgb(),new jt(e.r,e.g,e.b,e.opacity)):new jt}function mf(e,t,r,n){return arguments.length===1?bS(e):new jt(e,t,r,n??1)}function jt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hc(jt,mf,Uf(fa,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?is:Math.pow(is,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jt(Qa(this.r),Qa(this.g),Qa(this.b),Vg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gI,formatHex:gI,formatHex8:Aue,formatRgb:mI,toString:mI}));function gI(){return`#${za(this.r)}${za(this.g)}${za(this.b)}`}function Aue(){return`#${za(this.r)}${za(this.g)}${za(this.b)}${za((isNaN(this.opacity)?1:this.opacity)*255)}`}function mI(){const e=Vg(this.opacity);return`${e===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${e===1?")":`, ${e})`}`}function Vg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function za(e){return e=Qa(e),(e<16?"0":"")+e.toString(16)}function vI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rn(e,t,r,n)}function $7(e){if(e instanceof Rn)return new Rn(e.h,e.s,e.l,e.opacity);if(e instanceof fa||(e=as(e)),!e)return new Rn;if(e instanceof Rn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-t)/s+2:a=(t-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Rn(a,s,l,e.opacity)}function Jw(e,t,r,n){return arguments.length===1?$7(e):new Rn(e,t,r,n??1)}function Rn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hc(Rn,Jw,Uf(fa,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new Rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?is:Math.pow(is,e),new Rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new jt(Kb(e>=240?e-240:e+120,i,n),Kb(e,i,n),Kb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Rn(bI(this.h),Qd(this.s),Qd(this.l),Vg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vg(this.opacity);return`${e===1?"hsl(":"hsla("}${bI(this.h)}, ${Qd(this.s)*100}%, ${Qd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bI(e){return e=(e||0)%360,e<0?e+360:e}function Qd(e){return Math.max(0,Math.min(1,e||0))}function Kb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const w7=Math.PI/180,A7=180/Math.PI,Ug=18,x7=.96422,S7=1,C7=.82521,E7=4/29,Dl=6/29,k7=3*Dl*Dl,xue=Dl*Dl*Dl;function O7(e){if(e instanceof fi)return new fi(e.l,e.a,e.b,e.opacity);if(e instanceof Ki)return T7(e);e instanceof jt||(e=bS(e));var t=Yb(e.r),r=Yb(e.g),n=Yb(e.b),i=Gb((.2225045*t+.7168786*r+.0606169*n)/S7),o,a;return t===r&&r===n?o=a=i:(o=Gb((.4360747*t+.3850649*r+.1430804*n)/x7),a=Gb((.0139322*t+.0971045*r+.7141733*n)/C7)),new fi(116*i-16,500*(o-i),200*(i-a),e.opacity)}function Xw(e,t,r,n){return arguments.length===1?O7(e):new fi(e,t,r,n??1)}function fi(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}hc(fi,Xw,Uf(fa,{brighter(e){return new fi(this.l+Ug*(e??1),this.a,this.b,this.opacity)},darker(e){return new fi(this.l-Ug*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=x7*qb(t),e=S7*qb(e),r=C7*qb(r),new jt(Qb(3.1338561*t-1.6168667*e-.4906146*r),Qb(-.9787684*t+1.9161415*e+.033454*r),Qb(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function Gb(e){return e>xue?Math.pow(e,1/3):e/k7+E7}function qb(e){return e>Dl?e*e*e:k7*(e-E7)}function Qb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Yb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Sue(e){if(e instanceof Ki)return new Ki(e.h,e.c,e.l,e.opacity);if(e instanceof fi||(e=O7(e)),e.a===0&&e.b===0)return new Ki(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*A7;return new Ki(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Wg(e,t,r,n){return arguments.length===1?Sue(e):new Ki(e,t,r,n??1)}function Ki(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function T7(e){if(isNaN(e.h))return new fi(e.l,0,0,e.opacity);var t=e.h*w7;return new fi(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}hc(Ki,Wg,Uf(fa,{brighter(e){return new Ki(this.h,this.c,this.l+Ug*(e??1),this.opacity)},darker(e){return new Ki(this.h,this.c,this.l-Ug*(e??1),this.opacity)},rgb(){return T7(this).rgb()}}));var I7=-.14861,yS=1.78277,$S=-.29227,pv=-.90649,vf=1.97294,yI=vf*pv,$I=vf*yS,wI=yS*$S-pv*I7;function Cue(e){if(e instanceof Ya)return new Ya(e.h,e.s,e.l,e.opacity);e instanceof jt||(e=bS(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(wI*n+yI*t-$I*r)/(wI+yI-$I),o=n-i,a=(vf*(r-i)-$S*o)/pv,s=Math.sqrt(a*a+o*o)/(vf*i*(1-i)),l=s?Math.atan2(a,o)*A7-120:NaN;return new Ya(l<0?l+360:l,s,i,e.opacity)}function vi(e,t,r,n){return arguments.length===1?Cue(e):new Ya(e,t,r,n??1)}function Ya(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hc(Ya,vi,Uf(fa,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new Ya(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?is:Math.pow(is,e),new Ya(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*w7,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new jt(255*(t+r*(I7*n+yS*i)),255*(t+r*($S*n+pv*i)),255*(t+r*(vf*n)),this.opacity)}}));function Qo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gv(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wS(e){let t,r,n;e.length!==2?(t=Qo,r=(s,l)=>Qo(e(s),l),n=(s,l)=>e(s)-l):(t=e===Qo||e===gv?e:Eue,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Eue(){return 0}function M7(e){return e===null?NaN:+e}function*kue(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const Oue=wS(Qo),AS=Oue.right;wS(M7).center;function xS(e,t){let r,n;for(const i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));return[r,n]}class AI extends Map{constructor(t,r=_7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Zw(this,t))}has(t){return super.has(Zw(this,t))}set(t,r){return super.set(P7(this,t),r)}delete(t){return super.delete(D7(this,t))}}class Tue extends Set{constructor(t,r=_7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(Zw(this,t))}add(t){return super.add(P7(this,t))}delete(t){return super.delete(D7(this,t))}}function Zw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function P7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function D7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Iue(e,t){return Array.from(t,r=>e[r])}function Mue(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){const n=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),n.sort((i,o)=>{for(const a of t){const s=Kg(a[i],a[o]);if(s)return s}})):(r=e.map(r),n.sort((i,o)=>Kg(r[i],r[o]))),Iue(e,n)}return e.sort(N7(r))}function N7(e=Qo){if(e===Qo)return Kg;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Kg(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Pue=Math.sqrt(50),Due=Math.sqrt(10),_ue=Math.sqrt(2);function Gg(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=Pue?10:o>=Due?5:o>=_ue?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Gg(e,t,r*2):[s,l,c]}function qg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,a]=n?Gg(t,e,r):Gg(e,t,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function e2(e,t,r){return t=+t,e=+e,r=+r,Gg(e,t,r)[2]}function t2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?e2(t,e,r):e2(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function ra(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Qg(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function L7(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Kg:N7(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*f/l+d)),p=Math.min(n,Math.floor(t+(l-c)*f/l+d));L7(e,t,h,p,i)}const o=e[t];let a=r,s=n;for(Lc(e,r,t),i(e[n],o)>0&&Lc(e,r,n);a<s;){for(Lc(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[r],o)===0?Lc(e,r,s):(++s,Lc(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Lc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function r2(e,t,r){if(e=Float64Array.from(kue(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Qg(e);if(t>=1)return ra(e);var n,i=(n-1)*t,o=Math.floor(i),a=ra(L7(e,o).subarray(0,o+1)),s=Qg(e.subarray(o+1));return a+(s-a)*(i-o)}}function Nue(e,t,r=M7){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),a=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function xI(e,t){return r2(e,.5,t)}function n2(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Yg(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var Lue={value:()=>{}};function R7(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new cp(r)}function cp(e){this._=e}function Rue(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}cp.prototype=R7.prototype={constructor:cp,on:function(e,t){var r=this._,n=Rue(e+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(e=n[o]).type)&&(i=Bue(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=n[o]).type)r[i]=SI(r[i],e.name,t);else if(t==null)for(i in r)r[i]=SI(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new cp(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function Bue(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function SI(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Lue,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}function Fue(e,t,r,n,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*n+a*i)/6}function jue(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],a=n>0?e[n-1]:2*i-o,s=n<t-1?e[n+2]:2*o-i;return Fue((r-n/t)*t,a,i,o,s)}}const mv=e=>()=>e;function B7(e,t){return function(r){return e+r*t}}function zue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function SS(e,t){var r=t-e;return r?B7(e,r>180||r<-180?r-360*Math.round(r/360):r):mv(isNaN(e)?t:e)}function Hue(e){return(e=+e)==1?or:function(t,r){return r-t?zue(t,r,e):mv(isNaN(t)?r:t)}}function or(e,t){var r=t-e;return r?B7(e,r):mv(isNaN(e)?t:e)}const ss=(function e(t){var r=Hue(t);function n(i,o){var a=r((i=mf(i)).r,(o=mf(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=or(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function Vue(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),o=new Array(r),a,s;for(a=0;a<r;++a)s=mf(t[a]),n[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return n=e(n),i=e(i),o=e(o),s.opacity=1,function(l){return s.r=n(l),s.g=i(l),s.b=o(l),s+""}}}var Uue=Vue(jue);function Wue(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function Kue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Gue(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=Wf(e[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function que(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function dr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Que(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Wf(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var i2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jb=new RegExp(i2.source,"g");function Yue(e){return function(){return e}}function Jue(e){return function(t){return e(t)+""}}function F7(e,t){var r=i2.lastIndex=Jb.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(n=i2.exec(e))&&(i=Jb.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:dr(n,i)})),r=Jb.lastIndex;return r<t.length&&(o=t.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Jue(l[0].x):Yue(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Wf(e,t){var r=typeof t,n;return t==null||r==="boolean"?mv(t):(r==="number"?dr:r==="string"?(n=as(t))?(t=n,ss):F7:t instanceof as?ss:t instanceof Date?que:Kue(t)?Wue:Array.isArray(t)?Gue:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Que:dr)(e,t)}function CS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var CI=180/Math.PI,o2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function j7(e,t,r,n,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*CI,skewX:Math.atan(l)*CI,scaleX:a,scaleY:s}}var Yd;function Xue(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?o2:j7(t.a,t.b,t.c,t.d,t.e,t.f)}function Zue(e){return e==null||(Yd||(Yd=document.createElementNS("http://www.w3.org/2000/svg","g")),Yd.setAttribute("transform",e),!(e=Yd.transform.baseVal.consolidate()))?o2:(e=e.matrix,j7(e.a,e.b,e.c,e.d,e.e,e.f))}function z7(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push("translate(",null,t,null,r);p.push({i:g-4,x:dr(c,f)},{i:g-2,x:dr(u,d)})}else(f||d)&&h.push("translate("+f+t+d+r)}function a(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,n)-2,x:dr(c,u)})):u&&f.push(i(f)+"rotate("+u+n)}function s(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,n)-2,x:dr(c,u)}):u&&f.push(i(f)+"skewX("+u+n)}function l(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:dr(c,f)},{i:g-2,x:dr(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,d),a(c.rotate,u.rotate,f,d),s(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var efe=z7(Xue,"px, ","px)","deg)"),tfe=z7(Zue,", ",")",")");function rfe(e){return function(t,r){var n=e((t=Jw(t)).h,(r=Jw(r)).h),i=or(t.s,r.s),o=or(t.l,r.l),a=or(t.opacity,r.opacity);return function(s){return t.h=n(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const nfe=rfe(SS);function ife(e,t){var r=or((e=Xw(e)).l,(t=Xw(t)).l),n=or(e.a,t.a),i=or(e.b,t.b),o=or(e.opacity,t.opacity);return function(a){return e.l=r(a),e.a=n(a),e.b=i(a),e.opacity=o(a),e+""}}function ofe(e){return function(t,r){var n=e((t=Wg(t)).h,(r=Wg(r)).h),i=or(t.c,r.c),o=or(t.l,r.l),a=or(t.opacity,r.opacity);return function(s){return t.h=n(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const afe=ofe(SS);function H7(e){return(function t(r){r=+r;function n(i,o){var a=e((i=vi(i)).h,(o=vi(o)).h),s=or(i.s,o.s),l=or(i.l,o.l),c=or(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=s(u),i.l=l(Math.pow(u,r)),i.opacity=c(u),i+""}}return n.gamma=t,n})(1)}H7(SS);var ES=H7(or);function V7(e,t){t===void 0&&(t=e,e=Wf);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function bi(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var ql=0,mu=0,Rc=0,U7=1e3,Jg,vu,Xg=0,ls=0,vv=0,bf=typeof performance=="object"&&performance.now?performance:Date,W7=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function kS(){return ls||(W7(sfe),ls=bf.now()+vv)}function sfe(){ls=0}function Zg(){this._call=this._time=this._next=null}Zg.prototype=K7.prototype={constructor:Zg,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?kS():+r)+(t==null?0:+t),!this._next&&vu!==this&&(vu?vu._next=this:Jg=this,vu=this),this._call=e,this._time=r,a2()},stop:function(){this._call&&(this._call=null,this._time=1/0,a2())}};function K7(e,t,r){var n=new Zg;return n.restart(e,t,r),n}function lfe(){kS(),++ql;for(var e=Jg,t;e;)(t=ls-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ql}function EI(){ls=(Xg=bf.now())+vv,ql=mu=0;try{lfe()}finally{ql=0,ufe(),ls=0}}function cfe(){var e=bf.now(),t=e-Xg;t>U7&&(vv-=t,Xg=e)}function ufe(){for(var e,t=Jg,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Jg=r);vu=e,a2(n)}function a2(e){if(!ql){mu&&(mu=clearTimeout(mu));var t=e-ls;t>24?(e<1/0&&(mu=setTimeout(EI,e-bf.now()-vv)),Rc&&(Rc=clearInterval(Rc))):(Rc||(Xg=bf.now(),Rc=setInterval(cfe,U7)),ql=1,W7(EI))}}function kI(e,t,r){var n=new Zg;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var ffe=R7("start","end","cancel","interrupt"),dfe=[],G7=0,OI=1,s2=2,up=3,TI=4,l2=5,fp=6;function bv(e,t,r,n,i,o){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;hfe(e,r,{name:t,index:n,group:i,on:ffe,tween:dfe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:G7})}function OS(e,t){var r=Un(e,t);if(r.state>G7)throw new Error("too late; already scheduled");return r}function Ei(e,t){var r=Un(e,t);if(r.state>up)throw new Error("too late; already running");return r}function Un(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function hfe(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=K7(o,0,r.time);function o(c){r.state=OI,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var u,f,d,h;if(r.state!==OI)return l();for(u in n)if(h=n[u],h.name===r.name){if(h.state===up)return kI(a);h.state===TI?(h.state=fp,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[u]):+u<t&&(h.state=fp,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[u])}if(kI(function(){r.state===up&&(r.state=TI,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=s2,r.on.call("start",e,e.__data__,r.index,r.group),r.state===s2){for(r.state=up,i=new Array(d=r.tween.length),u=0,f=-1;u<d;++u)(h=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=l2,1),f=-1,d=i.length;++f<d;)i[f].call(e,u);r.state===l2&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=fp,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function pfe(e,t){var r=e.__transition,n,i,o=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){o=!1;continue}i=n.state>s2&&n.state<l2,n.state=fp,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}o&&delete e.__transition}}function gfe(e){return this.each(function(){pfe(this,e)})}function mfe(e,t){var r,n;return function(){var i=Ei(this,e),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function vfe(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Ei(this,e),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function bfe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Un(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?mfe:vfe)(r,e,t))}function TS(e,t,r){var n=e._id;return e.each(function(){var i=Ei(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Un(i,n).value[t]}}function q7(e,t){var r;return(typeof t=="number"?dr:t instanceof as?ss:(r=as(t))?(t=r,ss):F7)(e,t)}function yfe(e){return function(){this.removeAttribute(e)}}function $fe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wfe(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===n?o:o=t(n=a,r)}}function Afe(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?o:o=t(n=a,r)}}function xfe(e,t,r){var n,i,o;return function(){var a,s=r(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s)))}}function Sfe(e,t,r){var n,i,o;return function(){var a,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s)))}}function Cfe(e,t){var r=hv(e),n=r==="transform"?tfe:q7;return this.attrTween(e,typeof t=="function"?(r.local?Sfe:xfe)(r,n,TS(this,"attr."+e,t)):t==null?(r.local?$fe:yfe)(r):(r.local?Afe:wfe)(r,n,t))}function Efe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function kfe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Ofe(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&kfe(e,o)),r}return i._value=t,i}function Tfe(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&Efe(e,o)),r}return i._value=t,i}function Ife(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=hv(e);return this.tween(r,(n.local?Ofe:Tfe)(n,t))}function Mfe(e,t){return function(){OS(this,e).delay=+t.apply(this,arguments)}}function Pfe(e,t){return t=+t,function(){OS(this,e).delay=t}}function Dfe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Mfe:Pfe)(t,e)):Un(this.node(),t).delay}function _fe(e,t){return function(){Ei(this,e).duration=+t.apply(this,arguments)}}function Nfe(e,t){return t=+t,function(){Ei(this,e).duration=t}}function Lfe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_fe:Nfe)(t,e)):Un(this.node(),t).duration}function Rfe(e,t){if(typeof t!="function")throw new Error;return function(){Ei(this,e).ease=t}}function Bfe(e){var t=this._id;return arguments.length?this.each(Rfe(t,e)):Un(this.node(),t).ease}function Ffe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ei(this,e).ease=r}}function jfe(e){if(typeof e!="function")throw new Error;return this.each(Ffe(this._id,e))}function zfe(e){typeof e!="function"&&(e=u7(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],l,c=0;c<a;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new to(n,this._parents,this._name,this._id)}function Hfe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var l=t[s],c=r[s],u=l.length,f=a[s]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;s<n;++s)a[s]=t[s];return new to(a,this._parents,this._name,this._id)}function Vfe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Ufe(e,t,r){var n,i,o=Vfe(t)?OS:Ei;return function(){var a=o(this,e),s=a.on;s!==n&&(i=(n=s).copy()).on(t,r),a.on=i}}function Wfe(e,t){var r=this._id;return arguments.length<2?Un(this.node(),r).on.on(e):this.each(Ufe(r,e,t))}function Kfe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Gfe(){return this.on("end.remove",Kfe(this._id))}function qfe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=mS(e));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],l=s.length,c=o[a]=new Array(l),u,f,d=0;d<l;++d)(u=s[d])&&(f=e.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,bv(c[d],t,r,d,c,Un(u,r)));return new to(o,this._parents,t,r)}function Qfe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=c7(e));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var l=n[s],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),h,p=Un(u,r),g=0,m=d.length;g<m;++g)(h=d[g])&&bv(h,t,r,g,d,p);o.push(d),a.push(u)}return new to(o,a,t,r)}var Yfe=Vf.prototype.constructor;function Jfe(){return new Yfe(this._groups,this._parents)}function Xfe(e,t){var r,n,i;return function(){var o=Kl(this,e),a=(this.style.removeProperty(e),Kl(this,e));return o===a?null:o===r&&a===n?i:i=t(r=o,n=a)}}function Q7(e){return function(){this.style.removeProperty(e)}}function Zfe(e,t,r){var n,i=r+"",o;return function(){var a=Kl(this,e);return a===i?null:a===n?o:o=t(n=a,r)}}function ede(e,t,r){var n,i,o;return function(){var a=Kl(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Kl(this,e))),a===l?null:a===n&&l===i?o:(i=l,o=t(n=a,s))}}function tde(e,t){var r,n,i,o="style."+t,a="end."+o,s;return function(){var l=Ei(this,e),c=l.on,u=l.value[o]==null?s||(s=Q7(t)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(a,i=u),l.on=n}}function rde(e,t,r){var n=(e+="")=="transform"?efe:q7;return t==null?this.styleTween(e,Xfe(e,n)).on("end.style."+e,Q7(e)):typeof t=="function"?this.styleTween(e,ede(e,n,TS(this,"style."+e,t))).each(tde(this._id,e)):this.styleTween(e,Zfe(e,n,t),r).on("end.style."+e,null)}function nde(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function ide(e,t,r){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&nde(e,a,r)),n}return o._value=t,o}function ode(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ide(e,t,r??""))}function ade(e){return function(){this.textContent=e}}function sde(e){return function(){var t=e(this);this.textContent=t??""}}function lde(e){return this.tween("text",typeof e=="function"?sde(TS(this,"text",e)):ade(e==null?"":e+""))}function cde(e){return function(t){this.textContent=e.call(this,t)}}function ude(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&cde(i)),t}return n._value=e,n}function fde(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ude(e))}function dde(){for(var e=this._name,t=this._id,r=Y7(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=Un(l,t);bv(l,e,r,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new to(n,this._parents,e,r)}function hde(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};r.each(function(){var c=Ei(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),i===0&&o()})}var pde=0;function to(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Y7(){return++pde}var Ni=Vf.prototype;to.prototype={constructor:to,select:qfe,selectAll:Qfe,selectChild:Ni.selectChild,selectChildren:Ni.selectChildren,filter:zfe,merge:Hfe,selection:Jfe,transition:dde,call:Ni.call,nodes:Ni.nodes,node:Ni.node,size:Ni.size,empty:Ni.empty,each:Ni.each,on:Wfe,attr:Cfe,attrTween:Ife,style:rde,styleTween:ode,text:lde,textTween:fde,remove:Gfe,tween:bfe,delay:Dfe,duration:Lfe,ease:Bfe,easeVarying:jfe,end:hde,[Symbol.iterator]:Ni[Symbol.iterator]};function gde(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var mde={time:null,delay:0,duration:250,ease:gde};function vde(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function bde(e){var t,r;e instanceof to?(t=e._id,e=e._name):(t=Y7(),(r=mde).time=kS(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&bv(l,e,t,c,a,r||vde(l,t));return new to(n,this._parents,e,t)}Vf.prototype.interrupt=gfe;Vf.prototype.transition=bde;var II={},Xb={},Zb=34,Bc=10,ey=13;function J7(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function yde(e,t){var r=J7(e);return function(n,i){return t(r(n),i,e)}}function MI(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function Er(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function $de(e){return e<0?"-"+Er(-e,6):e>9999?"+"+Er(e,6):Er(e,4)}function wde(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":$de(e.getUTCFullYear())+"-"+Er(e.getUTCMonth()+1,2)+"-"+Er(e.getUTCDate(),2)+(i?"T"+Er(t,2)+":"+Er(r,2)+":"+Er(n,2)+"."+Er(i,3)+"Z":n?"T"+Er(t,2)+":"+Er(r,2)+":"+Er(n,2)+"Z":r||t?"T"+Er(t,2)+":"+Er(r,2)+"Z":"")}function X7(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(f,d){var h,p,g=i(f,function(m,v){if(h)return h(m,v-1);p=m,h=d?yde(m,d):J7(m)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,m=0,v,b=p<=0,y=!1;f.charCodeAt(p-1)===Bc&&--p,f.charCodeAt(p-1)===ey&&--p;function w(){if(b)return Xb;if(y)return y=!1,II;var A,C=g,E;if(f.charCodeAt(C)===Zb){for(;g++<p&&f.charCodeAt(g)!==Zb||f.charCodeAt(++g)===Zb;);return(A=g)>=p?b=!0:(E=f.charCodeAt(g++))===Bc?y=!0:E===ey&&(y=!0,f.charCodeAt(g)===Bc&&++g),f.slice(C+1,A-1).replace(/""/g,'"')}for(;g<p;){if((E=f.charCodeAt(A=g++))===Bc)y=!0;else if(E===ey)y=!0,f.charCodeAt(g)===Bc&&++g;else if(E!==r)continue;return f.slice(C,A)}return b=!0,f.slice(C,p)}for(;(v=w())!==Xb;){for(var $=[];v!==II&&v!==Xb;)$.push(v),v=w();d&&($=d($,m++))==null||h.push($)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return u(h[p])}).join(e)})}function a(f,d){return d==null&&(d=MI(f)),[d.map(u).join(e)].concat(o(f,d)).join(`
`)}function s(f,d){return d==null&&(d=MI(f)),o(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?wde(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}var Ade=X7(","),xde=Ade.parse;function Sde(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function IS(e,t){return fetch(e,t).then(Sde)}function Cde(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),IS(t,r).then(function(i){return e(i,n)})}}function Ede(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var i=X7(e);return IS(t,r).then(function(o){return i.parse(o,n)})}var kde=Cde(xde);function Ode(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Tde(e,t){return fetch(e,t).then(Ode)}function Ide(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function em(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ql(e){return e=em(Math.abs(e)),e?e[1]:NaN}function Mde(e,t){return function(r,n){for(var i=r.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function Pde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Dde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yf(e){if(!(t=Dde.exec(e)))throw new Error("invalid format: "+e);var t;return new MS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yf.prototype=MS.prototype;function MS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _de(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Z7;function Nde(e,t){var r=em(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(Z7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+em(e,Math.max(0,t+o-1))[0]}function PI(e,t){var r=em(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const DI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ide,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PI(e*100,t),r:PI,s:Nde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _I(e){return e}var NI=Array.prototype.map,LI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lde(e){var t=e.grouping===void 0||e.thousands===void 0?_I:Mde(NI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?_I:Pde(NI.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=yf(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,v=f.width,b=f.comma,y=f.precision,w=f.trim,$=f.type;$==="n"?(b=!0,$="g"):DI[$]||(y===void 0&&(y=12),w=!0,$="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",C=g==="$"?n:/[%p]/.test($)?a:"",E=DI[$],_=/[defgprs%]/.test($);y=y===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function N(M){var O=A,D=C,S,k,x;if($==="c")D=E(M)+D,M="";else{M=+M;var P=M<0||1/M<0;if(M=isNaN(M)?l:E(Math.abs(M),y),w&&(M=_de(M)),P&&+M==0&&p!=="+"&&(P=!1),O=(P?p==="("?p:s:p==="-"||p==="("?"":p)+O,D=($==="s"?LI[8+Z7/3]:"")+D+(P&&p==="("?")":""),_){for(S=-1,k=M.length;++S<k;)if(x=M.charCodeAt(S),48>x||x>57){D=(x===46?i+M.slice(S+1):M.slice(S))+D,M=M.slice(0,S);break}}}b&&!m&&(M=t(M,1/0));var I=O.length+M.length+D.length,L=I<v?new Array(v-I+1).join(d):"";switch(b&&m&&(M=t(L+M,L.length?v-D.length:1/0),L=""),h){case"<":M=O+M+D+L;break;case"=":M=O+L+M+D;break;case"^":M=L.slice(0,I=L.length>>1)+O+M+D+L.slice(I);break;default:M=L+O+M+D;break}return o(M)}return N.toString=function(){return f+""},N}function u(f,d){var h=c((f=yf(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ql(d)/3)))*3,g=Math.pow(10,-p),m=LI[8+p/3];return function(v){return h(g*v)+m}}return{format:c,formatPrefix:u}}var Jd,PS,e9;Rde({thousands:",",grouping:[3],currency:["$",""]});function Rde(e){return Jd=Lde(e),PS=Jd.format,e9=Jd.formatPrefix,Jd}function Bde(e){return Math.max(0,-Ql(Math.abs(e)))}function Fde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ql(t)/3)))*3-Ql(Math.abs(e)))}function jde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ql(t)-Ql(e))+1}function ki(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yv(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const c2=Symbol("implicit");function DS(){var e=new AI,t=[],r=[],n=c2;function i(o){let a=e.get(o);if(a===void 0){if(n!==c2)return n;e.set(o,a=t.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new AI;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return DS(t,r).unknown(n)},ki.apply(i,arguments),i}function _S(){var e=DS().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var d=t().length,h=i<n,p=h?i:n,g=h?n:i;o=(g-p)/Math.max(1,d-l+c*2),s&&(o=Math.floor(o)),p+=(g-p-o*(d-l))*u,a=o*(1-l),s&&(p=Math.round(p),a=Math.round(a));var m=n2(d).map(function(v){return p+o*v});return r(h?m.reverse():m)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.copy=function(){return _S(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},ki.apply(f(),arguments)}function t9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t9(t())},e}function zde(){return t9(_S.apply(null,arguments).paddingInner(1))}function Hde(e){return function(){return e}}function u2(e){return+e}var RI=[0,1];function pn(e){return e}function f2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Hde(isNaN(t)?NaN:.5)}function Vde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ude(e,t,r){var n=e[0],i=e[1],o=t[0],a=t[1];return i<n?(n=f2(i,n),o=r(a,o)):(n=f2(n,i),o=r(o,a)),function(s){return o(n(s))}}function Wde(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=f2(e[a],e[a+1]),o[a]=r(t[a],t[a+1]);return function(s){var l=AS(e,s,1,n)-1;return o[l](i[l](s))}}function Kf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $v(){var e=RI,t=RI,r=Wf,n,i,o,a=pn,s,l,c;function u(){var d=Math.min(e.length,t.length);return a!==pn&&(a=Vde(e[0],e[d-1])),s=d>2?Wde:Ude,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(e.map(n),t,r)))(n(a(d)))}return f.invert=function(d){return a(i((c||(c=s(t,e.map(n),dr)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,u2),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),r=CS,u()},f.clamp=function(d){return arguments.length?(a=d?!0:pn,u()):a!==pn},f.interpolate=function(d){return arguments.length?(r=d,u()):r},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return n=d,i=h,u()}}function r9(){return $v()(pn,pn)}function Kde(e,t,r,n){var i=t2(e,t,r),o;switch(n=yf(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Fde(i,a))&&(n.precision=o),e9(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=jde(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Bde(i))&&(n.precision=o-(n.type==="%")*2);break}}return PS(n)}function Gf(e){var t=e.domain;return e.ticks=function(r){var n=t();return qg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Kde(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=e2(a,s,r),c===l)return n[i]=a,n[o]=s,t(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function n9(){var e=r9();return e.copy=function(){return Kf(e,n9())},ki.apply(e,arguments),Gf(e)}function i9(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,u2),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return i9(e).unknown(t)},e=arguments.length?Array.from(e,u2):[0,1],Gf(r)}function o9(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),e[r]=t.floor(i),e[n]=t.ceil(o),e}function BI(e){return Math.log(e)}function FI(e){return Math.exp(e)}function Gde(e){return-Math.log(-e)}function qde(e){return-Math.exp(-e)}function Qde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Yde(e){return e===10?Qde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Jde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jI(e){return(t,r)=>-e(-t,r)}function a9(e){const t=e(BI,FI),r=t.domain;let n=10,i,o;function a(){return i=Jde(n),o=Yde(n),r()[0]<0?(i=jI(i),o=jI(o),e(Gde,qde)):e(BI,FI),t}return t.base=function(s){return arguments.length?(n=+s,a()):n},t.domain=function(s){return arguments.length?(r(s),a()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),p,g;const m=s==null?10:+s;let v=[];if(!(n%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(p=1;p<n;++p)if(g=d<0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;v.push(g)}}else for(;d<=h;++d)for(p=n-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;v.push(g)}v.length*2<m&&(v=qg(c,u,m))}else v=qg(d,h,Math.min(h-d,m)).map(o);return f?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=yf(l)).precision==null&&(l.trim=!0),l=PS(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(o9(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function s9(){const e=a9($v()).domain([1,10]);return e.copy=()=>Kf(e,s9()).base(e.base()),ki.apply(e,arguments),e}function zI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function l9(e){var t=1,r=e(zI(t),HI(t));return r.constant=function(n){return arguments.length?e(zI(t=+n),HI(t)):t},Gf(r)}function c9(){var e=l9($v());return e.copy=function(){return Kf(e,c9()).constant(e.constant())},ki.apply(e,arguments)}function VI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Xde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zde(e){return e<0?-e*e:e*e}function u9(e){var t=e(pn,pn),r=1;function n(){return r===1?e(pn,pn):r===.5?e(Xde,Zde):e(VI(r),VI(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Gf(t)}function f9(){var e=u9($v());return e.copy=function(){return Kf(e,f9()).exponent(e.exponent())},ki.apply(e,arguments),e}function d9(){var e=[],t=[],r=[],n;function i(){var a=0,s=Math.max(1,t.length);for(r=new Array(s-1);++a<s;)r[a-1]=Nue(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:t[AS(r,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qo),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return d9().domain(e).range(t).unknown(n)},ki.apply(o,arguments)}function h9(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[AS(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return h9().domain(e).range(t).unknown(r)},ki.apply(i,arguments)}const ty=new Date,ry=new Date;function Tt(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return l},i.filter=o=>Tt(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),r&&(i.count=(o,a)=>(ty.setTime(+o),ry.setTime(+a),e(ty),e(ry),Math.floor(r(ty,ry))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const tm=Tt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tm);tm.range;const Gi=1e3,gn=Gi*60,qi=gn*60,ro=qi*24,NS=ro*7,UI=ro*30,ny=ro*365,Qi=Tt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCSeconds());Qi.range;const wv=Tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getMinutes());wv.range;const Av=Tt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getUTCMinutes());Av.range;const xv=Tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi-e.getMinutes()*gn)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getHours());xv.range;const Sv=Tt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getUTCHours());Sv.range;const pc=Tt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gn)/ro,e=>e.getDate()-1);pc.range;const qf=Tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ro,e=>e.getUTCDate()-1);qf.range;const p9=Tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ro,e=>Math.floor(e/ro));p9.range;function Es(e){return Tt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gn)/NS)}const Yl=Es(0),$f=Es(1),g9=Es(2),m9=Es(3),cs=Es(4),v9=Es(5),b9=Es(6);Yl.range;$f.range;g9.range;m9.range;cs.range;v9.range;b9.range;function ks(e){return Tt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/NS)}const Jl=ks(0),wf=ks(1),y9=ks(2),$9=ks(3),us=ks(4),w9=ks(5),A9=ks(6);Jl.range;wf.range;y9.range;$9.range;us.range;w9.range;A9.range;const _l=Tt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_l.range;const Nl=Tt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nl.range;const yi=Tt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yi.range;const $i=Tt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});$i.range;function x9(e,t,r,n,i,o){const a=[[Qi,1,Gi],[Qi,5,5*Gi],[Qi,15,15*Gi],[Qi,30,30*Gi],[o,1,gn],[o,5,5*gn],[o,15,15*gn],[o,30,30*gn],[i,1,qi],[i,3,3*qi],[i,6,6*qi],[i,12,12*qi],[n,1,ro],[n,2,2*ro],[r,1,NS],[t,1,UI],[t,3,3*UI],[e,1,ny]];function s(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),p=h?h.range(c,+u+1):[];return d?p.reverse():p}function l(c,u,f){const d=Math.abs(u-c)/f,h=wS(([,,m])=>m).right(a,d);if(h===a.length)return e.every(t2(c/ny,u/ny,f));if(h===0)return tm.every(Math.max(t2(c,u,f),1));const[p,g]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(g)}return[s,l]}const[ehe,the]=x9($i,Nl,Jl,p9,Sv,Av),[rhe,nhe]=x9(yi,_l,Yl,pc,xv,wv);function iy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ihe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=jc(i),u=zc(i),f=jc(o),d=zc(o),h=jc(a),p=zc(a),g=jc(s),m=zc(s),v=jc(l),b=zc(l),y={a:P,A:I,b:L,B:V,c:null,d:YI,e:YI,f:khe,g:Rhe,G:Fhe,H:She,I:Che,j:Ehe,L:S9,m:Ohe,M:The,p:U,q:ae,Q:ZI,s:eM,S:Ihe,u:Mhe,U:Phe,V:Dhe,w:_he,W:Nhe,x:null,X:null,y:Lhe,Y:Bhe,Z:jhe,"%":XI},w={a:ne,A:pe,b:xe,B:qe,c:null,d:JI,e:JI,f:Uhe,g:epe,G:rpe,H:zhe,I:Hhe,j:Vhe,L:E9,m:Whe,M:Khe,p:Y,q:de,Q:ZI,s:eM,S:Ghe,u:qhe,U:Qhe,V:Yhe,w:Jhe,W:Xhe,x:null,X:null,y:Zhe,Y:tpe,Z:npe,"%":XI},$={a:N,A:M,b:O,B:D,c:S,d:qI,e:qI,f:$he,g:GI,G:KI,H:QI,I:QI,j:mhe,L:yhe,m:ghe,M:vhe,p:_,q:phe,Q:Ahe,s:xhe,S:bhe,u:che,U:uhe,V:fhe,w:lhe,W:dhe,x:k,X:x,y:GI,Y:KI,Z:hhe,"%":whe};y.x=A(r,y),y.X=A(n,y),y.c=A(t,y),w.x=A(r,w),w.X=A(n,w),w.c=A(t,w);function A(q,X){return function(ce){var H=[],He=-1,Ee=0,se=q.length,he,nt,ht;for(ce instanceof Date||(ce=new Date(+ce));++He<se;)q.charCodeAt(He)===37&&(H.push(q.slice(Ee,He)),(nt=WI[he=q.charAt(++He)])!=null?he=q.charAt(++He):nt=he==="e"?" ":"0",(ht=X[he])&&(he=ht(ce,nt)),H.push(he),Ee=He+1);return H.push(q.slice(Ee,He)),H.join("")}}function C(q,X){return function(ce){var H=Fc(1900,void 0,1),He=E(H,q,ce+="",0),Ee,se;if(He!=ce.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(X&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ee=oy(Fc(H.y,0,1)),se=Ee.getUTCDay(),Ee=se>4||se===0?wf.ceil(Ee):wf(Ee),Ee=qf.offset(Ee,(H.V-1)*7),H.y=Ee.getUTCFullYear(),H.m=Ee.getUTCMonth(),H.d=Ee.getUTCDate()+(H.w+6)%7):(Ee=iy(Fc(H.y,0,1)),se=Ee.getDay(),Ee=se>4||se===0?$f.ceil(Ee):$f(Ee),Ee=pc.offset(Ee,(H.V-1)*7),H.y=Ee.getFullYear(),H.m=Ee.getMonth(),H.d=Ee.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),se="Z"in H?oy(Fc(H.y,0,1)).getUTCDay():iy(Fc(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(se+5)%7:H.w+H.U*7-(se+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,oy(H)):iy(H)}}function E(q,X,ce,H){for(var He=0,Ee=X.length,se=ce.length,he,nt;He<Ee;){if(H>=se)return-1;if(he=X.charCodeAt(He++),he===37){if(he=X.charAt(He++),nt=$[he in WI?X.charAt(He++):he],!nt||(H=nt(q,ce,H))<0)return-1}else if(he!=ce.charCodeAt(H++))return-1}return H}function _(q,X,ce){var H=c.exec(X.slice(ce));return H?(q.p=u.get(H[0].toLowerCase()),ce+H[0].length):-1}function N(q,X,ce){var H=h.exec(X.slice(ce));return H?(q.w=p.get(H[0].toLowerCase()),ce+H[0].length):-1}function M(q,X,ce){var H=f.exec(X.slice(ce));return H?(q.w=d.get(H[0].toLowerCase()),ce+H[0].length):-1}function O(q,X,ce){var H=v.exec(X.slice(ce));return H?(q.m=b.get(H[0].toLowerCase()),ce+H[0].length):-1}function D(q,X,ce){var H=g.exec(X.slice(ce));return H?(q.m=m.get(H[0].toLowerCase()),ce+H[0].length):-1}function S(q,X,ce){return E(q,t,X,ce)}function k(q,X,ce){return E(q,r,X,ce)}function x(q,X,ce){return E(q,n,X,ce)}function P(q){return a[q.getDay()]}function I(q){return o[q.getDay()]}function L(q){return l[q.getMonth()]}function V(q){return s[q.getMonth()]}function U(q){return i[+(q.getHours()>=12)]}function ae(q){return 1+~~(q.getMonth()/3)}function ne(q){return a[q.getUTCDay()]}function pe(q){return o[q.getUTCDay()]}function xe(q){return l[q.getUTCMonth()]}function qe(q){return s[q.getUTCMonth()]}function Y(q){return i[+(q.getUTCHours()>=12)]}function de(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var X=A(q+="",y);return X.toString=function(){return q},X},parse:function(q){var X=C(q+="",!1);return X.toString=function(){return q},X},utcFormat:function(q){var X=A(q+="",w);return X.toString=function(){return q},X},utcParse:function(q){var X=C(q+="",!0);return X.toString=function(){return q},X}}}var WI={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,ohe=/^%/,ahe=/[\\^$*+?|[\]().{}]/g;function Te(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function she(e){return e.replace(ahe,"\\$&")}function jc(e){return new RegExp("^(?:"+e.map(she).join("|")+")","i")}function zc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function lhe(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function che(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function uhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function dhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function KI(e,t,r){var n=Kt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function GI(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hhe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function phe(e,t,r){var n=Kt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ghe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function qI(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function mhe(e,t,r){var n=Kt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function QI(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function vhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function bhe(e,t,r){var n=Kt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function yhe(e,t,r){var n=Kt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $he(e,t,r){var n=Kt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function whe(e,t,r){var n=ohe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Ahe(e,t,r){var n=Kt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function xhe(e,t,r){var n=Kt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function YI(e,t){return Te(e.getDate(),t,2)}function She(e,t){return Te(e.getHours(),t,2)}function Che(e,t){return Te(e.getHours()%12||12,t,2)}function Ehe(e,t){return Te(1+pc.count(yi(e),e),t,3)}function S9(e,t){return Te(e.getMilliseconds(),t,3)}function khe(e,t){return S9(e,t)+"000"}function Ohe(e,t){return Te(e.getMonth()+1,t,2)}function The(e,t){return Te(e.getMinutes(),t,2)}function Ihe(e,t){return Te(e.getSeconds(),t,2)}function Mhe(e){var t=e.getDay();return t===0?7:t}function Phe(e,t){return Te(Yl.count(yi(e)-1,e),t,2)}function C9(e){var t=e.getDay();return t>=4||t===0?cs(e):cs.ceil(e)}function Dhe(e,t){return e=C9(e),Te(cs.count(yi(e),e)+(yi(e).getDay()===4),t,2)}function _he(e){return e.getDay()}function Nhe(e,t){return Te($f.count(yi(e)-1,e),t,2)}function Lhe(e,t){return Te(e.getFullYear()%100,t,2)}function Rhe(e,t){return e=C9(e),Te(e.getFullYear()%100,t,2)}function Bhe(e,t){return Te(e.getFullYear()%1e4,t,4)}function Fhe(e,t){var r=e.getDay();return e=r>=4||r===0?cs(e):cs.ceil(e),Te(e.getFullYear()%1e4,t,4)}function jhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Te(t/60|0,"0",2)+Te(t%60,"0",2)}function JI(e,t){return Te(e.getUTCDate(),t,2)}function zhe(e,t){return Te(e.getUTCHours(),t,2)}function Hhe(e,t){return Te(e.getUTCHours()%12||12,t,2)}function Vhe(e,t){return Te(1+qf.count($i(e),e),t,3)}function E9(e,t){return Te(e.getUTCMilliseconds(),t,3)}function Uhe(e,t){return E9(e,t)+"000"}function Whe(e,t){return Te(e.getUTCMonth()+1,t,2)}function Khe(e,t){return Te(e.getUTCMinutes(),t,2)}function Ghe(e,t){return Te(e.getUTCSeconds(),t,2)}function qhe(e){var t=e.getUTCDay();return t===0?7:t}function Qhe(e,t){return Te(Jl.count($i(e)-1,e),t,2)}function k9(e){var t=e.getUTCDay();return t>=4||t===0?us(e):us.ceil(e)}function Yhe(e,t){return e=k9(e),Te(us.count($i(e),e)+($i(e).getUTCDay()===4),t,2)}function Jhe(e){return e.getUTCDay()}function Xhe(e,t){return Te(wf.count($i(e)-1,e),t,2)}function Zhe(e,t){return Te(e.getUTCFullYear()%100,t,2)}function epe(e,t){return e=k9(e),Te(e.getUTCFullYear()%100,t,2)}function tpe(e,t){return Te(e.getUTCFullYear()%1e4,t,4)}function rpe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?us(e):us.ceil(e),Te(e.getUTCFullYear()%1e4,t,4)}function npe(){return"+0000"}function XI(){return"%"}function ZI(e){return+e}function eM(e){return Math.floor(+e/1e3)}var qs,O9,T9;ipe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ipe(e){return qs=ihe(e),O9=qs.format,qs.parse,T9=qs.utcFormat,qs.utcParse,qs}function ope(e){return new Date(e)}function ape(e){return e instanceof Date?+e:+new Date(+e)}function LS(e,t,r,n,i,o,a,s,l,c){var u=r9(),f=u.invert,d=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),b=c("%b %d"),y=c("%B"),w=c("%Y");function $(A){return(l(A)<A?h:s(A)<A?p:a(A)<A?g:o(A)<A?m:n(A)<A?i(A)<A?v:b:r(A)<A?y:w)(A)}return u.invert=function(A){return new Date(f(A))},u.domain=function(A){return arguments.length?d(Array.from(A,ape)):d().map(ope)},u.ticks=function(A){var C=d();return e(C[0],C[C.length-1],A??10)},u.tickFormat=function(A,C){return C==null?$:c(C)},u.nice=function(A){var C=d();return(!A||typeof A.range!="function")&&(A=t(C[0],C[C.length-1],A??10)),A?d(o9(C,A)):u},u.copy=function(){return Kf(u,LS(e,t,r,n,i,o,a,s,l,c))},u}function spe(){return ki.apply(LS(rhe,nhe,yi,_l,Yl,pc,xv,wv,Qi,O9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lpe(){return ki.apply(LS(ehe,the,$i,Nl,Jl,qf,Sv,Av,Qi,T9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ev(){var e=0,t=.5,r=1,n=1,i,o,a,s,l,c=pn,u,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-o)*(n*g<n*o?s:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=u(e=+e),o=u(t=+t),a=u(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(m){var v,b,y;return arguments.length?([v,b,y]=m,c=V7(g,[v,b,y]),h):[c(0),c(.5),c(1)]}}return h.range=p(Wf),h.rangeRound=p(CS),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,i=g(e),o=g(t),a=g(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,h}}function I9(){var e=Gf(Ev()(pn));return e.copy=function(){return Cv(e,I9())},yv.apply(e,arguments)}function M9(){var e=a9(Ev()).domain([.1,1,10]);return e.copy=function(){return Cv(e,M9()).base(e.base())},yv.apply(e,arguments)}function P9(){var e=l9(Ev());return e.copy=function(){return Cv(e,P9()).constant(e.constant())},yv.apply(e,arguments)}function D9(){var e=u9(Ev());return e.copy=function(){return Cv(e,D9()).exponent(e.exponent())},yv.apply(e,arguments)}function $e(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const cpe=$e("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),upe=$e("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),fpe=$e("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),dpe=$e("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),hpe=$e("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ppe=$e("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),gpe=$e("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),mpe=$e("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),vpe=$e("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),bpe=$e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ke=e=>Uue(e[e.length-1]);var _9=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map($e);const N9=Ke(_9);var L9=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map($e);const R9=Ke(L9);var B9=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map($e);const F9=Ke(B9);var j9=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map($e);const z9=Ke(j9);var d2=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map($e);const rm=Ke(d2);var H9=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map($e);const V9=Ke(H9);var h2=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map($e);const nm=Ke(h2);var U9=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map($e);const W9=Ke(U9);var K9=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map($e);const G9=Ke(K9);var q9=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map($e);const Q9=Ke(q9);var Y9=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map($e);const J9=Ke(Y9);var X9=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map($e);const Z9=Ke(X9);var eB=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map($e);const tB=Ke(eB);var rB=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map($e);const nB=Ke(rB);var iB=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map($e);const oB=Ke(iB);var aB=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map($e);const sB=Ke(aB);var lB=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map($e);const cB=Ke(lB);var uB=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map($e);const fB=Ke(uB);var dB=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map($e);const hB=Ke(dB);var pB=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map($e);const gB=Ke(pB);var mB=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map($e);const vB=Ke(mB);var bB=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map($e);const yB=Ke(bB);var $B=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map($e);const wB=Ke($B);var AB=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map($e);const xB=Ke(AB);var SB=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map($e);const CB=Ke(SB);var EB=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map($e);const kB=Ke(EB);var OB=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map($e);const TB=Ke(OB);function IB(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const MB=ES(vi(300,.5,0),vi(-240,.5,1));var PB=ES(vi(-100,.75,.35),vi(80,1.5,.8)),DB=ES(vi(260,.75,.35),vi(80,1.5,.8)),Xd=vi();function _B(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Xd.h=360*e-100,Xd.s=1.5-1.5*t,Xd.l=.8-.9*t,Xd+""}var Zd=mf(),ype=Math.PI/3,$pe=Math.PI*2/3;function NB(e){var t;return e=(.5-e)*Math.PI,Zd.r=255*(t=Math.sin(e))*t,Zd.g=255*(t=Math.sin(e+ype))*t,Zd.b=255*(t=Math.sin(e+$pe))*t,Zd+""}function LB(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function kv(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const RB=kv($e("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var BB=kv($e("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),FB=kv($e("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),jB=kv($e("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const zB=Math.cos,RS=Math.min,im=Math.sin,It=Math.sqrt,om=Math.PI,Ov=2*om,wpe=It(3),HB={draw(e,t){const r=It(t+RS(t/28,.75))*.59436,n=r/2,i=n*wpe;e.moveTo(0,r),e.lineTo(0,-r),e.moveTo(-i,-n),e.lineTo(i,n),e.moveTo(-i,n),e.lineTo(i,-n)}},BS={draw(e,t){const r=It(t/om);e.moveTo(r,0),e.arc(0,0,r,0,Ov)}},VB={draw(e,t){const r=It(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},UB=It(1/3),Ape=UB*2,WB={draw(e,t){const r=It(t/Ape),n=r*UB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},KB={draw(e,t){const r=It(t)*.62625;e.moveTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.lineTo(-r,0),e.closePath()}},GB={draw(e,t){const r=It(t-RS(t/7,2))*.87559;e.moveTo(-r,0),e.lineTo(r,0),e.moveTo(0,r),e.lineTo(0,-r)}},qB={draw(e,t){const r=It(t),n=-r/2;e.rect(n,n,r,r)}},QB={draw(e,t){const r=It(t)*.4431;e.moveTo(r,r),e.lineTo(r,-r),e.lineTo(-r,-r),e.lineTo(-r,r),e.closePath()}},xpe=.8908130915292852,YB=im(om/10)/im(7*om/10),Spe=im(Ov/10)*YB,Cpe=-zB(Ov/10)*YB,JB={draw(e,t){const r=It(t*xpe),n=Spe*r,i=Cpe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const a=Ov*o/5,s=zB(a),l=im(a);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},ay=It(3),XB={draw(e,t){const r=-It(t/(ay*3));e.moveTo(0,r*2),e.lineTo(-ay*r,-r),e.lineTo(ay*r,-r),e.closePath()}},Epe=It(3),ZB={draw(e,t){const r=It(t)*.6824,n=r/2,i=r*Epe/2;e.moveTo(0,-r),e.lineTo(i,n),e.lineTo(-i,n),e.closePath()}},sn=-.5,ln=It(3)/2,p2=1/It(12),kpe=(p2/2+1)*3,eF={draw(e,t){const r=It(t/kpe),n=r/2,i=r*p2,o=n,a=r*p2+r,s=-o,l=a;e.moveTo(n,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(sn*n-ln*i,ln*n+sn*i),e.lineTo(sn*o-ln*a,ln*o+sn*a),e.lineTo(sn*s-ln*l,ln*s+sn*l),e.lineTo(sn*n+ln*i,sn*i-ln*n),e.lineTo(sn*o+ln*a,sn*a-ln*o),e.lineTo(sn*s+ln*l,sn*l-ln*s),e.closePath()}},tF={draw(e,t){const r=It(t-RS(t/6,1.7))*.6189;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r)}},Ope=[BS,VB,WB,qB,JB,XB,eF],Tpe=[BS,GB,tF,ZB,HB,QB,KB];function bu(e,t,r){this.k=e,this.x=t,this.y=r}bu.prototype={constructor:bu,scale:function(e){return e===1?this:new bu(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};bu.prototype;function Ipe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function fs(){fs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(O,D,S){O[D]=S.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(O,D,S){return Object.defineProperty(O,D,{value:S,enumerable:!0,configurable:!0,writable:!0}),O[D]}try{l({},"")}catch{l=function(D,S,k){return D[S]=k}}function c(O,D,S,k){var x=D&&D.prototype instanceof d?D:d,P=Object.create(x.prototype),I=new _(k||[]);return n(P,"_invoke",{value:$(O,S,I)}),P}function u(O,D,S){try{return{type:"normal",arg:O.call(D,S)}}catch(k){return{type:"throw",arg:k}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var g={};l(g,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(N([])));v&&v!==t&&r.call(v,o)&&(g=v);var b=p.prototype=d.prototype=Object.create(g);function y(O){["next","throw","return"].forEach(function(D){l(O,D,function(S){return this._invoke(D,S)})})}function w(O,D){function S(x,P,I,L){var V=u(O[x],O,P);if(V.type!=="throw"){var U=V.arg,ae=U.value;return ae&&typeof ae=="object"&&r.call(ae,"__await")?D.resolve(ae.__await).then(function(ne){S("next",ne,I,L)},function(ne){S("throw",ne,I,L)}):D.resolve(ae).then(function(ne){U.value=ne,I(U)},function(ne){return S("throw",ne,I,L)})}L(V.arg)}var k;n(this,"_invoke",{value:function(x,P){function I(){return new D(function(L,V){S(x,P,L,V)})}return k=k?k.then(I,I):I()}})}function $(O,D,S){var k="suspendedStart";return function(x,P){if(k==="executing")throw new Error("Generator is already running");if(k==="completed"){if(x==="throw")throw P;return M()}for(S.method=x,S.arg=P;;){var I=S.delegate;if(I){var L=A(I,S);if(L){if(L===f)continue;return L}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(k==="suspendedStart")throw k="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);k="executing";var V=u(O,D,S);if(V.type==="normal"){if(k=S.done?"completed":"suspendedYield",V.arg===f)continue;return{value:V.arg,done:S.done}}V.type==="throw"&&(k="completed",S.method="throw",S.arg=V.arg)}}}function A(O,D){var S=D.method,k=O.iterator[S];if(k===void 0)return D.delegate=null,S==="throw"&&O.iterator.return&&(D.method="return",D.arg=void 0,A(O,D),D.method==="throw")||S!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+S+"' method")),f;var x=u(k,O.iterator,D.arg);if(x.type==="throw")return D.method="throw",D.arg=x.arg,D.delegate=null,f;var P=x.arg;return P?P.done?(D[O.resultName]=P.value,D.next=O.nextLoc,D.method!=="return"&&(D.method="next",D.arg=void 0),D.delegate=null,f):P:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,f)}function C(O){var D={tryLoc:O[0]};1 in O&&(D.catchLoc=O[1]),2 in O&&(D.finallyLoc=O[2],D.afterLoc=O[3]),this.tryEntries.push(D)}function E(O){var D=O.completion||{};D.type="normal",delete D.arg,O.completion=D}function _(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(C,this),this.reset(!0)}function N(O){if(O){var D=O[o];if(D)return D.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var S=-1,k=function x(){for(;++S<O.length;)if(r.call(O,S))return x.value=O[S],x.done=!1,x;return x.value=void 0,x.done=!0,x};return k.next=k}}return{next:M}}function M(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(O){var D=typeof O=="function"&&O.constructor;return!!D&&(D===h||(D.displayName||D.name)==="GeneratorFunction")},e.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,p):(O.__proto__=p,l(O,s,"GeneratorFunction")),O.prototype=Object.create(b),O},e.awrap=function(O){return{__await:O}},y(w.prototype),l(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(O,D,S,k,x){x===void 0&&(x=Promise);var P=new w(c(O,D,S,k),x);return e.isGeneratorFunction(D)?P:P.next().then(function(I){return I.done?I.value:P.next()})},y(b),l(b,s,"Generator"),l(b,o,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(O){var D=Object(O),S=[];for(var k in D)S.push(k);return S.reverse(),function x(){for(;S.length;){var P=S.pop();if(P in D)return x.value=P,x.done=!1,x}return x.done=!0,x}},e.values=N,_.prototype={constructor:_,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!O)for(var D in this)D.charAt(0)==="t"&&r.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=void 0)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var D=this;function S(V,U){return P.type="throw",P.arg=O,D.next=V,U&&(D.method="next",D.arg=void 0),!!U}for(var k=this.tryEntries.length-1;k>=0;--k){var x=this.tryEntries[k],P=x.completion;if(x.tryLoc==="root")return S("end");if(x.tryLoc<=this.prev){var I=r.call(x,"catchLoc"),L=r.call(x,"finallyLoc");if(I&&L){if(this.prev<x.catchLoc)return S(x.catchLoc,!0);if(this.prev<x.finallyLoc)return S(x.finallyLoc)}else if(I){if(this.prev<x.catchLoc)return S(x.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<x.finallyLoc)return S(x.finallyLoc)}}}},abrupt:function(O,D){for(var S=this.tryEntries.length-1;S>=0;--S){var k=this.tryEntries[S];if(k.tryLoc<=this.prev&&r.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var x=k;break}}x&&(O==="break"||O==="continue")&&x.tryLoc<=D&&D<=x.finallyLoc&&(x=null);var P=x?x.completion:{};return P.type=O,P.arg=D,x?(this.method="next",this.next=x.finallyLoc,f):this.complete(P)},complete:function(O,D){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&D&&(this.next=D),f},finish:function(O){for(var D=this.tryEntries.length-1;D>=0;--D){var S=this.tryEntries[D];if(S.finallyLoc===O)return this.complete(S.completion,S.afterLoc),E(S),f}},catch:function(O){for(var D=this.tryEntries.length-1;D>=0;--D){var S=this.tryEntries[D];if(S.tryLoc===O){var k=S.completion;if(k.type==="throw"){var x=k.arg;E(S)}return x}}throw new Error("illegal catch attempt")},delegateYield:function(O,D,S){return this.delegate={iterator:N(O),resultName:D,nextLoc:S},this.method==="next"&&(this.arg=void 0),f}},e}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iF(n.key),n)}}function fr(e,t,r){return t&&Mpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ppe(e,t,r){return t=iF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e,t){return _pe(e)||Ipe(e,t)||nF(e,t)||Rpe()}function g2(e){return Dpe(e)||Npe(e)||nF(e)||Lpe()}function Dpe(e){if(Array.isArray(e))return m2(e)}function _pe(e){if(Array.isArray(e))return e}function Npe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nF(e,t){if(e){if(typeof e=="string")return m2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(e,t)}}function m2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function iF(e){var t=Bpe(e,"string");return typeof t=="symbol"?t:String(t)}var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hc=function(e){return e&&e.Math===Math&&e},ct=Hc(typeof globalThis=="object"&&globalThis)||Hc(typeof window=="object"&&window)||Hc(typeof self=="object"&&self)||Hc(typeof zt=="object"&&zt)||Hc(typeof zt=="object"&&zt)||(function(){return this})()||Function("return this")(),oF={exports:{}},tM=ct,Fpe=Object.defineProperty,FS=function(e,t){try{Fpe(tM,e,{value:t,configurable:!0,writable:!0})}catch{tM[e]=t}return t},jpe=ct,zpe=FS,rM="__core-js_shared__",Hpe=jpe[rM]||zpe(rM,{}),jS=Hpe,nM=jS;(oF.exports=function(e,t){return nM[e]||(nM[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var zS=oF.exports,_e=function(e){try{return!!e()}catch{return!0}},Vpe=_e,Tv=!Vpe(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),aF=Tv,sF=Function.prototype,v2=sF.call,Upe=aF&&sF.bind.bind(v2,v2),ze=aF?Upe:function(e){return function(){return v2.apply(e,arguments)}},da=function(e){return e==null},Wpe=da,Kpe=TypeError,Os=function(e){if(Wpe(e))throw new Kpe("Can't call method on "+e);return e},Gpe=Os,qpe=Object,Oi=function(e){return qpe(Gpe(e))},Qpe=ze,Ype=Oi,Jpe=Qpe({}.hasOwnProperty),An=Object.hasOwn||function(t,r){return Jpe(Ype(t),r)},Xpe=ze,Zpe=0,ege=Math.random(),tge=Xpe(1 .toString),HS=function(e){return"Symbol("+(e===void 0?"":e)+")_"+tge(++Zpe+ege,36)},Ts=typeof navigator<"u"&&String(navigator.userAgent)||"",lF=ct,sy=Ts,iM=lF.process,oM=lF.Deno,aM=iM&&iM.versions||oM&&oM.version,sM=aM&&aM.v8,Pn,am;sM&&(Pn=sM.split("."),am=Pn[0]>0&&Pn[0]<4?1:+(Pn[0]+Pn[1]));!am&&sy&&(Pn=sy.match(/Edge\/(\d+)/),(!Pn||Pn[1]>=74)&&(Pn=sy.match(/Chrome\/(\d+)/),Pn&&(am=+Pn[1])));var Qf=am,lM=Qf,rge=_e,nge=ct,ige=nge.String,cF=!!Object.getOwnPropertySymbols&&!rge(function(){var e=Symbol("symbol detection");return!ige(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&lM&&lM<41}),oge=cF,uF=oge&&!Symbol.sham&&typeof Symbol.iterator=="symbol",age=ct,sge=zS,cM=An,lge=HS,cge=cF,uge=uF,bl=age.Symbol,ly=sge("wks"),fge=uge?bl.for||bl:bl&&bl.withoutSetter||lge,ut=function(e){return cM(ly,e)||(ly[e]=cge&&cM(bl,e)?bl[e]:fge("Symbol."+e)),ly[e]},dge=ut,hge=dge("toStringTag"),fF={};fF[hge]="z";var VS=String(fF)==="[object z]",b2=typeof document=="object"&&document.all,pge=typeof b2>"u"&&b2!==void 0,dF={all:b2,IS_HTMLDDA:pge},hF=dF,gge=hF.all,et=hF.IS_HTMLDDA?function(e){return typeof e=="function"||e===gge}:function(e){return typeof e=="function"},Wn={},mge=_e,Br=!mge(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),uM=et,pF=dF,vge=pF.all,Jt=pF.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:uM(e)||e===vge}:function(e){return typeof e=="object"?e!==null:uM(e)},bge=ct,fM=Jt,y2=bge.document,yge=fM(y2)&&fM(y2.createElement),Iv=function(e){return yge?y2.createElement(e):{}},$ge=Br,wge=_e,Age=Iv,gF=!$ge&&!wge(function(){return Object.defineProperty(Age("div"),"a",{get:function(){return 7}}).a!==7}),xge=Br,Sge=_e,mF=xge&&Sge(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Cge=Jt,Ege=String,kge=TypeError,br=function(e){if(Cge(e))return e;throw new kge(Ege(e)+" is not an object")},Oge=Tv,eh=Function.prototype.call,Xt=Oge?eh.bind(eh):function(){return eh.apply(eh,arguments)},cy=ct,Tge=et,Ige=function(e){return Tge(e)?e:void 0},Is=function(e,t){return arguments.length<2?Ige(cy[e]):cy[e]&&cy[e][t]},Mge=ze,US=Mge({}.isPrototypeOf),Pge=Is,Dge=et,_ge=US,Nge=uF,Lge=Object,vF=Nge?function(e){return typeof e=="symbol"}:function(e){var t=Pge("Symbol");return Dge(t)&&_ge(t.prototype,Lge(e))},Rge=String,Yf=function(e){try{return Rge(e)}catch{return"Object"}},Bge=et,Fge=Yf,jge=TypeError,Ti=function(e){if(Bge(e))return e;throw new jge(Fge(e)+" is not a function")},zge=Ti,Hge=da,Mv=function(e,t){var r=e[t];return Hge(r)?void 0:zge(r)},uy=Xt,fy=et,dy=Jt,Vge=TypeError,Uge=function(e,t){var r,n;if(t==="string"&&fy(r=e.toString)&&!dy(n=uy(r,e))||fy(r=e.valueOf)&&!dy(n=uy(r,e))||t!=="string"&&fy(r=e.toString)&&!dy(n=uy(r,e)))return n;throw new Vge("Can't convert object to primitive value")},Wge=Xt,dM=Jt,hM=vF,Kge=Mv,Gge=Uge,qge=ut,Qge=TypeError,Yge=qge("toPrimitive"),Jge=function(e,t){if(!dM(e)||hM(e))return e;var r=Kge(e,Yge),n;if(r){if(t===void 0&&(t="default"),n=Wge(r,e,t),!dM(n)||hM(n))return n;throw new Qge("Can't convert object to primitive value")}return t===void 0&&(t="number"),Gge(e,t)},Xge=Jge,Zge=vF,WS=function(e){var t=Xge(e,"string");return Zge(t)?t:t+""},eme=Br,tme=gF,rme=mF,th=br,pM=WS,nme=TypeError,hy=Object.defineProperty,ime=Object.getOwnPropertyDescriptor,py="enumerable",gy="configurable",my="writable";Wn.f=eme?rme?function(t,r,n){if(th(t),r=pM(r),th(n),typeof t=="function"&&r==="prototype"&&"value"in n&&my in n&&!n[my]){var i=ime(t,r);i&&i[my]&&(t[r]=n.value,n={configurable:gy in n?n[gy]:i[gy],enumerable:py in n?n[py]:i[py],writable:!1})}return hy(t,r,n)}:hy:function(t,r,n){if(th(t),r=pM(r),th(n),tme)try{return hy(t,r,n)}catch{}if("get"in n||"set"in n)throw new nme("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var bF={exports:{}},$2=Br,ome=An,yF=Function.prototype,ame=$2&&Object.getOwnPropertyDescriptor,KS=ome(yF,"name"),sme=KS&&(function(){}).name==="something",lme=KS&&(!$2||$2&&ame(yF,"name").configurable),Pv={EXISTS:KS,PROPER:sme,CONFIGURABLE:lme},cme=ze,ume=et,w2=jS,fme=cme(Function.toString);ume(w2.inspectSource)||(w2.inspectSource=function(e){return fme(e)});var GS=w2.inspectSource,dme=ct,hme=et,gM=dme.WeakMap,pme=hme(gM)&&/native code/.test(String(gM)),Dv=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},gme=Br,mme=Wn,vme=Dv,gc=gme?function(e,t,r){return mme.f(e,t,vme(1,r))}:function(e,t,r){return e[t]=r,e},bme=zS,yme=HS,mM=bme("keys"),qS=function(e){return mM[e]||(mM[e]=yme(e))},_v={},$me=pme,$F=ct,wme=Jt,Ame=gc,vy=An,by=jS,xme=qS,Sme=_v,vM="Object already initialized",A2=$F.TypeError,Cme=$F.WeakMap,sm,Af,lm,Eme=function(e){return lm(e)?Af(e):sm(e,{})},kme=function(e){return function(t){var r;if(!wme(t)||(r=Af(t)).type!==e)throw new A2("Incompatible receiver, "+e+" required");return r}};if($me||by.state){var Jn=by.state||(by.state=new Cme);Jn.get=Jn.get,Jn.has=Jn.has,Jn.set=Jn.set,sm=function(e,t){if(Jn.has(e))throw new A2(vM);return t.facade=e,Jn.set(e,t),t},Af=function(e){return Jn.get(e)||{}},lm=function(e){return Jn.has(e)}}else{var Qs=xme("state");Sme[Qs]=!0,sm=function(e,t){if(vy(e,Qs))throw new A2(vM);return t.facade=e,Ame(e,Qs,t),t},Af=function(e){return vy(e,Qs)?e[Qs]:{}},lm=function(e){return vy(e,Qs)}}var Ms={set:sm,get:Af,has:lm,enforce:Eme,getterFor:kme},QS=ze,Ome=_e,Tme=et,rh=An,x2=Br,Ime=Pv.CONFIGURABLE,Mme=GS,wF=Ms,Pme=wF.enforce,Dme=wF.get,bM=String,dp=Object.defineProperty,_me=QS("".slice),Nme=QS("".replace),Lme=QS([].join),Rme=x2&&!Ome(function(){return dp(function(){},"length",{value:8}).length!==8}),Bme=String(String).split("String"),Fme=bF.exports=function(e,t,r){_me(bM(t),0,7)==="Symbol("&&(t="["+Nme(bM(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!rh(e,"name")||Ime&&e.name!==t)&&(x2?dp(e,"name",{value:t,configurable:!0}):e.name=t),Rme&&r&&rh(r,"arity")&&e.length!==r.arity&&dp(e,"length",{value:r.arity});try{r&&rh(r,"constructor")&&r.constructor?x2&&dp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=Pme(e);return rh(n,"source")||(n.source=Lme(Bme,typeof t=="string"?t:"")),e};Function.prototype.toString=Fme(function(){return Tme(this)&&Dme(this).source||Mme(this)},"toString");var AF=bF.exports,jme=et,zme=Wn,Hme=AF,Vme=FS,po=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(jme(r)&&Hme(r,o,n),n.global)i?e[t]=r:Vme(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:zme.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},xF=ze,Ume=xF({}.toString),Wme=xF("".slice),go=function(e){return Wme(Ume(e),8,-1)},Kme=VS,Gme=et,hp=go,qme=ut,Qme=qme("toStringTag"),Yme=Object,Jme=hp((function(){return arguments})())==="Arguments",Xme=function(e,t){try{return e[t]}catch{}},Nv=Kme?hp:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=Xme(t=Yme(e),Qme))=="string"?r:Jme?hp(t):(n=hp(t))==="Object"&&Gme(t.callee)?"Arguments":n},Zme=VS,eve=Nv,tve=Zme?{}.toString:function(){return"[object "+eve(this)+"]"},rve=VS,nve=po,ive=tve;rve||nve(Object.prototype,"toString",ive,{unsafe:!0});var Jf={},Lv={},SF={}.propertyIsEnumerable,CF=Object.getOwnPropertyDescriptor,ove=CF&&!SF.call({1:2},1);Lv.f=ove?function(t){var r=CF(this,t);return!!r&&r.enumerable}:SF;var ave=ze,sve=_e,lve=go,yy=Object,cve=ave("".split),Rv=sve(function(){return!yy("z").propertyIsEnumerable(0)})?function(e){return lve(e)==="String"?cve(e,""):yy(e)}:yy,uve=Rv,fve=Os,mo=function(e){return uve(fve(e))},dve=Br,hve=Xt,pve=Lv,gve=Dv,mve=mo,vve=WS,bve=An,yve=gF,yM=Object.getOwnPropertyDescriptor;Jf.f=dve?yM:function(t,r){if(t=mve(t),r=vve(r),yve)try{return yM(t,r)}catch{}if(bve(t,r))return gve(!hve(pve.f,t,r),t[r])};var Bv={},$ve=Math.ceil,wve=Math.floor,Ave=Math.trunc||function(t){var r=+t;return(r>0?wve:$ve)(r)},xve=Ave,Fv=function(e){var t=+e;return t!==t||t===0?0:xve(t)},Sve=Fv,Cve=Math.max,Eve=Math.min,jv=function(e,t){var r=Sve(e);return r<0?Cve(r+t,0):Eve(r,t)},kve=Fv,Ove=Math.min,YS=function(e){return e>0?Ove(kve(e),9007199254740991):0},Tve=YS,vo=function(e){return Tve(e.length)},Ive=mo,Mve=jv,Pve=vo,$M=function(e){return function(t,r,n){var i=Ive(t),o=Pve(i),a=Mve(n,o),s;if(e&&r!==r){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},EF={includes:$M(!0),indexOf:$M(!1)},Dve=ze,$y=An,_ve=mo,Nve=EF.indexOf,Lve=_v,wM=Dve([].push),kF=function(e,t){var r=_ve(e),n=0,i=[],o;for(o in r)!$y(Lve,o)&&$y(r,o)&&wM(i,o);for(;t.length>n;)$y(r,o=t[n++])&&(~Nve(i,o)||wM(i,o));return i},JS=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Rve=kF,Bve=JS,Fve=Bve.concat("length","prototype");Bv.f=Object.getOwnPropertyNames||function(t){return Rve(t,Fve)};var XS={};XS.f=Object.getOwnPropertySymbols;var jve=Is,zve=ze,Hve=Bv,Vve=XS,Uve=br,Wve=zve([].concat),Kve=jve("Reflect","ownKeys")||function(t){var r=Hve.f(Uve(t)),n=Vve.f;return n?Wve(r,n(t)):r},AM=An,Gve=Kve,qve=Jf,Qve=Wn,Yve=function(e,t,r){for(var n=Gve(t),i=Qve.f,o=qve.f,a=0;a<n.length;a++){var s=n[a];!AM(e,s)&&!(r&&AM(r,s))&&i(e,s,o(t,s))}},Jve=_e,Xve=et,Zve=/#|\.prototype\./,Xf=function(e,t){var r=t0e[e0e(e)];return r===n0e?!0:r===r0e?!1:Xve(t)?Jve(t):!!t},e0e=Xf.normalize=function(e){return String(e).replace(Zve,".").toLowerCase()},t0e=Xf.data={},r0e=Xf.NATIVE="N",n0e=Xf.POLYFILL="P",ZS=Xf,wy=ct,i0e=Jf.f,o0e=gc,a0e=po,s0e=FS,l0e=Yve,c0e=ZS,Ge=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,s,l,c,u;if(n?a=wy:i?a=wy[r]||s0e(r,{}):a=(wy[r]||{}).prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=i0e(a,s),l=u&&u.value):l=a[s],o=c0e(n?s:r+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;l0e(c,l)}(e.sham||l&&l.sham)&&o0e(c,"sham",!0),a0e(a,s,c,e)}},u0e=ct,f0e=go,zv=f0e(u0e.process)==="process",d0e=ze,h0e=Ti,p0e=function(e,t,r){try{return d0e(h0e(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},g0e=et,m0e=String,v0e=TypeError,b0e=function(e){if(typeof e=="object"||g0e(e))return e;throw new v0e("Can't set "+m0e(e)+" as a prototype")},y0e=p0e,$0e=br,w0e=b0e,eC=Object.setPrototypeOf||("__proto__"in{}?(function(){var e=!1,t={},r;try{r=y0e(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,o){return $0e(i),w0e(o),e?r(i,o):i.__proto__=o,i}})():void 0),A0e=Wn.f,x0e=An,S0e=ut,xM=S0e("toStringTag"),Zf=function(e,t,r){e&&!r&&(e=e.prototype),e&&!x0e(e,xM)&&A0e(e,xM,{configurable:!0,value:t})},SM=AF,C0e=Wn,tC=function(e,t,r){return r.get&&SM(r.get,t,{getter:!0}),r.set&&SM(r.set,t,{setter:!0}),C0e.f(e,t,r)},E0e=Is,k0e=tC,O0e=ut,T0e=Br,CM=O0e("species"),OF=function(e){var t=E0e(e);T0e&&t&&!t[CM]&&k0e(t,CM,{configurable:!0,get:function(){return this}})},I0e=US,M0e=TypeError,Hv=function(e,t){if(I0e(t,e))return e;throw new M0e("Incorrect invocation")},P0e=ze,D0e=_e,TF=et,_0e=Nv,N0e=Is,L0e=GS,IF=function(){},R0e=[],MF=N0e("Reflect","construct"),rC=/^\s*(?:class|function)\b/,B0e=P0e(rC.exec),F0e=!rC.test(IF),Vc=function(t){if(!TF(t))return!1;try{return MF(IF,R0e,t),!0}catch{return!1}},PF=function(t){if(!TF(t))return!1;switch(_0e(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return F0e||!!B0e(rC,L0e(t))}catch{return!0}};PF.sham=!0;var Vv=!MF||D0e(function(){var e;return Vc(Vc.call)||!Vc(Object)||!Vc(function(){e=!0})||e})?PF:Vc,j0e=Vv,z0e=Yf,H0e=TypeError,V0e=function(e){if(j0e(e))return e;throw new H0e(z0e(e)+" is not a constructor")},EM=br,U0e=V0e,W0e=da,K0e=ut,G0e=K0e("species"),q0e=function(e,t){var r=EM(e).constructor,n;return r===void 0||W0e(n=EM(r)[G0e])?t:U0e(n)},Q0e=Tv,DF=Function.prototype,kM=DF.apply,OM=DF.call,_F=typeof Reflect=="object"&&Reflect.apply||(Q0e?OM.bind(kM):function(){return OM.apply(kM,arguments)}),Y0e=go,J0e=ze,nC=function(e){if(Y0e(e)==="Function")return J0e(e)},TM=nC,X0e=Ti,Z0e=Tv,ebe=TM(TM.bind),mc=function(e,t){return X0e(e),t===void 0?e:Z0e?ebe(e,t):function(){return e.apply(t,arguments)}},tbe=Is,NF=tbe("document","documentElement"),rbe=ze,LF=rbe([].slice),nbe=TypeError,ibe=function(e,t){if(e<t)throw new nbe("Not enough arguments");return e},obe=Ts,RF=/(?:ipad|iphone|ipod).*applewebkit/i.test(obe),Wr=ct,abe=_F,sbe=mc,IM=et,lbe=An,BF=_e,MM=NF,cbe=LF,PM=Iv,ube=ibe,fbe=RF,dbe=zv,S2=Wr.setImmediate,DM=Wr.clearImmediate,hbe=Wr.process,Ay=Wr.Dispatch,pbe=Wr.Function,_M=Wr.MessageChannel,gbe=Wr.String,xy=0,Bu={},NM="onreadystatechange",xf,ka,Sy,Cy;BF(function(){xf=Wr.location});var iC=function(e){if(lbe(Bu,e)){var t=Bu[e];delete Bu[e],t()}},Ey=function(e){return function(){iC(e)}},LM=function(e){iC(e.data)},RM=function(e){Wr.postMessage(gbe(e),xf.protocol+"//"+xf.host)};(!S2||!DM)&&(S2=function(t){ube(arguments.length,1);var r=IM(t)?t:pbe(t),n=cbe(arguments,1);return Bu[++xy]=function(){abe(r,void 0,n)},ka(xy),xy},DM=function(t){delete Bu[t]},dbe?ka=function(e){hbe.nextTick(Ey(e))}:Ay&&Ay.now?ka=function(e){Ay.now(Ey(e))}:_M&&!fbe?(Sy=new _M,Cy=Sy.port2,Sy.port1.onmessage=LM,ka=sbe(Cy.postMessage,Cy)):Wr.addEventListener&&IM(Wr.postMessage)&&!Wr.importScripts&&xf&&xf.protocol!=="file:"&&!BF(RM)?(ka=RM,Wr.addEventListener("message",LM,!1)):NM in PM("script")?ka=function(e){MM.appendChild(PM("script"))[NM]=function(){MM.removeChild(this),iC(e)}}:ka=function(e){setTimeout(Ey(e),0)});var FF={set:S2},jF=function(){this.head=null,this.tail=null};jF.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var zF=jF,mbe=Ts,vbe=/ipad|iphone|ipod/i.test(mbe)&&typeof Pebble<"u",bbe=Ts,ybe=/web0s(?!.*chrome)/i.test(bbe),ds=ct,BM=mc,$be=Jf.f,ky=FF.set,wbe=zF,Abe=RF,xbe=vbe,Sbe=ybe,Oy=zv,FM=ds.MutationObserver||ds.WebKitMutationObserver,jM=ds.document,zM=ds.process,nh=ds.Promise,HM=$be(ds,"queueMicrotask"),C2=HM&&HM.value,Ys,Ty,Iy,ih,VM;if(!C2){var oh=new wbe,ah=function(){var e,t;for(Oy&&(e=zM.domain)&&e.exit();t=oh.get();)try{t()}catch(r){throw oh.head&&Ys(),r}e&&e.enter()};!Abe&&!Oy&&!Sbe&&FM&&jM?(Ty=!0,Iy=jM.createTextNode(""),new FM(ah).observe(Iy,{characterData:!0}),Ys=function(){Iy.data=Ty=!Ty}):!xbe&&nh&&nh.resolve?(ih=nh.resolve(void 0),ih.constructor=nh,VM=BM(ih.then,ih),Ys=function(){VM(ah)}):Oy?Ys=function(){zM.nextTick(ah)}:(ky=BM(ky,ds),Ys=function(){ky(ah)}),C2=function(e){oh.head||Ys(),oh.add(e)}}var Cbe=C2,Ebe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},Uv=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},kbe=ct,Wv=kbe.Promise,HF=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",Obe=HF,Tbe=zv,Ibe=!Obe&&!Tbe&&typeof window=="object"&&typeof document=="object",Mbe=ct,Fu=Wv,Pbe=et,Dbe=ZS,_be=GS,Nbe=ut,Lbe=Ibe,Rbe=HF,My=Qf;Fu&&Fu.prototype;var Bbe=Nbe("species"),E2=!1,VF=Pbe(Mbe.PromiseRejectionEvent),Fbe=Dbe("Promise",function(){var e=_be(Fu),t=e!==String(Fu);if(!t&&My===66)return!0;if(!My||My<51||!/native code/.test(e)){var r=new Fu(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[Bbe]=n,E2=r.then(function(){})instanceof n,!E2)return!0}return!t&&(Lbe||Rbe)&&!VF}),ed={CONSTRUCTOR:Fbe,REJECTION_EVENT:VF,SUBCLASSING:E2},Ps={},UM=Ti,jbe=TypeError,zbe=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new jbe("Bad Promise constructor");t=n,r=i}),this.resolve=UM(t),this.reject=UM(r)};Ps.f=function(e){return new zbe(e)};var Hbe=Ge,cm=zv,na=ct,Xl=Xt,WM=po,KM=eC,Vbe=Zf,Ube=OF,Wbe=Ti,pp=et,Kbe=Jt,Gbe=Hv,qbe=q0e,UF=FF.set,oC=Cbe,Qbe=Ebe,Ybe=Uv,Jbe=zF,WF=Ms,um=Wv,aC=ed,KF=Ps,Kv="Promise",GF=aC.CONSTRUCTOR,Xbe=aC.REJECTION_EVENT,Zbe=aC.SUBCLASSING,Py=WF.getterFor(Kv),eye=WF.set,hl=um&&um.prototype,_a=um,sh=hl,qF=na.TypeError,k2=na.document,sC=na.process,O2=KF.f,tye=O2,rye=!!(k2&&k2.createEvent&&na.dispatchEvent),QF="unhandledrejection",nye="rejectionhandled",GM=0,YF=1,iye=2,lC=1,JF=2,lh,qM,oye,QM,XF=function(e){var t;return Kbe(e)&&pp(t=e.then)?t:!1},ZF=function(e,t){var r=t.value,n=t.state===YF,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,l,c,u;try{i?(n||(t.rejection===JF&&sye(t),t.rejection=lC),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),u=!0)),l===e.promise?a(new qF("Promise-chain cycle")):(c=XF(l))?Xl(c,l,o,a):o(l)):a(r)}catch(f){s&&!u&&s.exit(),a(f)}},ej=function(e,t){e.notified||(e.notified=!0,oC(function(){for(var r=e.reactions,n;n=r.get();)ZF(n,e);e.notified=!1,t&&!e.rejection&&aye(e)}))},tj=function(e,t,r){var n,i;rye?(n=k2.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),na.dispatchEvent(n)):n={promise:t,reason:r},!Xbe&&(i=na["on"+e])?i(n):e===QF&&Qbe("Unhandled promise rejection",r)},aye=function(e){Xl(UF,na,function(){var t=e.facade,r=e.value,n=YM(e),i;if(n&&(i=Ybe(function(){cm?sC.emit("unhandledRejection",r,t):tj(QF,t,r)}),e.rejection=cm||YM(e)?JF:lC,i.error))throw i.value})},YM=function(e){return e.rejection!==lC&&!e.parent},sye=function(e){Xl(UF,na,function(){var t=e.facade;cm?sC.emit("rejectionHandled",t):tj(nye,t,e.value)})},yl=function(e,t,r){return function(n){e(t,n,r)}},Ll=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=iye,ej(e,!0))},T2=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new qF("Promise can't be resolved itself");var n=XF(t);n?oC(function(){var i={done:!1};try{Xl(n,t,yl(T2,i,e),yl(Ll,i,e))}catch(o){Ll(i,o,e)}}):(e.value=t,e.state=YF,ej(e,!1))}catch(i){Ll({done:!1},i,e)}}};if(GF&&(_a=function(t){Gbe(this,sh),Wbe(t),Xl(lh,this);var r=Py(this);try{t(yl(T2,r),yl(Ll,r))}catch(n){Ll(r,n)}},sh=_a.prototype,lh=function(t){eye(this,{type:Kv,done:!1,notified:!1,parent:!1,reactions:new Jbe,rejection:!1,state:GM,value:void 0})},lh.prototype=WM(sh,"then",function(t,r){var n=Py(this),i=O2(qbe(this,_a));return n.parent=!0,i.ok=pp(t)?t:!0,i.fail=pp(r)&&r,i.domain=cm?sC.domain:void 0,n.state===GM?n.reactions.add(i):oC(function(){ZF(i,n)}),i.promise}),qM=function(){var e=new lh,t=Py(e);this.promise=e,this.resolve=yl(T2,t),this.reject=yl(Ll,t)},KF.f=O2=function(e){return e===_a||e===oye?new qM(e):tye(e)},pp(um)&&hl!==Object.prototype)){QM=hl.then,Zbe||WM(hl,"then",function(t,r){var n=this;return new _a(function(i,o){Xl(QM,n,i,o)}).then(t,r)},{unsafe:!0});try{delete hl.constructor}catch{}KM&&KM(hl,sh)}Hbe({global:!0,constructor:!0,wrap:!0,forced:GF},{Promise:_a});Vbe(_a,Kv,!1);Ube(Kv);var td={},lye=ut,cye=td,uye=lye("iterator"),fye=Array.prototype,rj=function(e){return e!==void 0&&(cye.Array===e||fye[uye]===e)},dye=Nv,JM=Mv,hye=da,pye=td,gye=ut,mye=gye("iterator"),cC=function(e){if(!hye(e))return JM(e,mye)||JM(e,"@@iterator")||pye[dye(e)]},vye=Xt,bye=Ti,yye=br,$ye=Yf,wye=cC,Aye=TypeError,nj=function(e,t){var r=arguments.length<2?wye(e):t;if(bye(r))return yye(vye(r,e));throw new Aye($ye(e)+" is not iterable")},xye=Xt,XM=br,Sye=Mv,ij=function(e,t,r){var n,i;XM(e);try{if(n=Sye(e,"return"),!n){if(t==="throw")throw r;return r}n=xye(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return XM(n),r},Cye=mc,Eye=Xt,kye=br,Oye=Yf,Tye=rj,Iye=vo,ZM=US,Mye=nj,Pye=cC,e5=ij,Dye=TypeError,gp=function(e,t){this.stopped=e,this.result=t},t5=gp.prototype,vc=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=Cye(t,n),c,u,f,d,h,p,g,m=function(b){return c&&e5(c,"normal",b),new gp(!0,b)},v=function(b){return i?(kye(b),s?l(b[0],b[1],m):l(b[0],b[1])):s?l(b,m):l(b)};if(o)c=e.iterator;else if(a)c=e;else{if(u=Pye(e),!u)throw new Dye(Oye(e)+" is not iterable");if(Tye(u)){for(f=0,d=Iye(e);d>f;f++)if(h=v(e[f]),h&&ZM(t5,h))return h;return new gp(!1)}c=Mye(e,u)}for(p=o?e.next:c.next;!(g=Eye(p,c)).done;){try{h=v(g.value)}catch(b){e5(c,"throw",b)}if(typeof h=="object"&&h&&ZM(t5,h))return h}return new gp(!1)},_ye=ut,oj=_ye("iterator"),aj=!1;try{var Nye=0,r5={next:function(){return{done:!!Nye++}},return:function(){aj=!0}};r5[oj]=function(){return this},Array.from(r5,function(){throw 2})}catch{}var uC=function(e,t){try{if(!t&&!aj)return!1}catch{return!1}var r=!1;try{var n={};n[oj]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},Lye=Wv,Rye=uC,Bye=ed.CONSTRUCTOR,fC=Bye||!Rye(function(e){Lye.all(e).then(void 0,function(){})}),Fye=Ge,jye=Xt,zye=Ti,Hye=Ps,Vye=Uv,Uye=vc,Wye=fC;Fye({target:"Promise",stat:!0,forced:Wye},{all:function(t){var r=this,n=Hye.f(r),i=n.resolve,o=n.reject,a=Vye(function(){var s=zye(r.resolve),l=[],c=0,u=1;Uye(t,function(f){var d=c++,h=!1;u++,jye(s,r,f).then(function(p){h||(h=!0,l[d]=p,--u||i(l))},o)}),--u||i(l)});return a.error&&o(a.value),n.promise}});var Kye=Ge,Gye=ed.CONSTRUCTOR,I2=Wv,qye=Is,Qye=et,Yye=po,n5=I2&&I2.prototype;Kye({target:"Promise",proto:!0,forced:Gye,real:!0},{catch:function(e){return this.then(void 0,e)}});if(Qye(I2)){var i5=qye("Promise").prototype.catch;n5.catch!==i5&&Yye(n5,"catch",i5,{unsafe:!0})}var Jye=Ge,Xye=Xt,Zye=Ti,e1e=Ps,t1e=Uv,r1e=vc,n1e=fC;Jye({target:"Promise",stat:!0,forced:n1e},{race:function(t){var r=this,n=e1e.f(r),i=n.reject,o=t1e(function(){var a=Zye(r.resolve);r1e(t,function(s){Xye(a,r,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var i1e=Ge,o1e=Xt,a1e=Ps,s1e=ed.CONSTRUCTOR;i1e({target:"Promise",stat:!0,forced:s1e},{reject:function(t){var r=a1e.f(this);return o1e(r.reject,void 0,t),r.promise}});var l1e=br,c1e=Jt,u1e=Ps,f1e=function(e,t){if(l1e(e),c1e(t)&&t.constructor===e)return t;var r=u1e.f(e),n=r.resolve;return n(t),r.promise},d1e=Ge,h1e=Is,p1e=ed.CONSTRUCTOR,g1e=f1e;h1e("Promise");d1e({target:"Promise",stat:!0,forced:p1e},{resolve:function(t){return g1e(this,t)}});var sj={},m1e=kF,v1e=JS,Gv=Object.keys||function(t){return m1e(t,v1e)},b1e=Br,y1e=mF,$1e=Wn,w1e=br,A1e=mo,x1e=Gv;sj.f=b1e&&!y1e?Object.defineProperties:function(t,r){w1e(t);for(var n=A1e(r),i=x1e(r),o=i.length,a=0,s;o>a;)$1e.f(t,s=i[a++],n[s]);return t};var S1e=br,C1e=sj,o5=JS,E1e=_v,k1e=NF,O1e=Iv,T1e=qS,a5=">",s5="<",M2="prototype",P2="script",lj=T1e("IE_PROTO"),Dy=function(){},cj=function(e){return s5+P2+a5+e+s5+"/"+P2+a5},l5=function(e){e.write(cj("")),e.close();var t=e.parentWindow.Object;return e=null,t},I1e=function(){var e=O1e("iframe"),t="java"+P2+":",r;return e.style.display="none",k1e.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(cj("document.F=Object")),r.close(),r.F},ch,mp=function(){try{ch=new ActiveXObject("htmlfile")}catch{}mp=typeof document<"u"?document.domain&&ch?l5(ch):I1e():l5(ch);for(var e=o5.length;e--;)delete mp[M2][o5[e]];return mp()};E1e[lj]=!0;var qv=Object.create||function(t,r){var n;return t!==null?(Dy[M2]=S1e(t),n=new Dy,Dy[M2]=null,n[lj]=t):n=mp(),r===void 0?n:C1e.f(n,r)},M1e=ut,P1e=qv,D1e=Wn.f,D2=M1e("unscopables"),_2=Array.prototype;_2[D2]===void 0&&D1e(_2,D2,{configurable:!0,value:P1e(null)});var dC=function(e){_2[D2][e]=!0},_1e=_e,N1e=!_1e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),L1e=An,R1e=et,B1e=Oi,F1e=qS,j1e=N1e,c5=F1e("IE_PROTO"),N2=Object,z1e=N2.prototype,hC=j1e?N2.getPrototypeOf:function(e){var t=B1e(e);if(L1e(t,c5))return t[c5];var r=t.constructor;return R1e(r)&&t instanceof r?r.prototype:t instanceof N2?z1e:null},H1e=_e,V1e=et,U1e=Jt,u5=hC,W1e=po,K1e=ut,L2=K1e("iterator"),uj=!1,hs,_y,Ny;[].keys&&(Ny=[].keys(),"next"in Ny?(_y=u5(u5(Ny)),_y!==Object.prototype&&(hs=_y)):uj=!0);var G1e=!U1e(hs)||H1e(function(){var e={};return hs[L2].call(e)!==e});G1e&&(hs={});V1e(hs[L2])||W1e(hs,L2,function(){return this});var fj={IteratorPrototype:hs,BUGGY_SAFARI_ITERATORS:uj},q1e=fj.IteratorPrototype,Q1e=qv,Y1e=Dv,J1e=Zf,X1e=td,Z1e=function(){return this},e$e=function(e,t,r,n){var i=t+" Iterator";return e.prototype=Q1e(q1e,{next:Y1e(+!n,r)}),J1e(e,i,!1),X1e[i]=Z1e,e},t$e=Ge,r$e=Xt,dj=Pv,n$e=et,i$e=e$e,f5=hC,d5=eC,o$e=Zf,a$e=gc,Ly=po,s$e=ut,l$e=td,hj=fj,c$e=dj.PROPER,u$e=dj.CONFIGURABLE,h5=hj.IteratorPrototype,uh=hj.BUGGY_SAFARI_ITERATORS,Uc=s$e("iterator"),p5="keys",Wc="values",g5="entries",f$e=function(){return this},pC=function(e,t,r,n,i,o,a){i$e(r,t,n);var s=function(v){if(v===i&&d)return d;if(!uh&&v&&v in u)return u[v];switch(v){case p5:return function(){return new r(this,v)};case Wc:return function(){return new r(this,v)};case g5:return function(){return new r(this,v)}}return function(){return new r(this)}},l=t+" Iterator",c=!1,u=e.prototype,f=u[Uc]||u["@@iterator"]||i&&u[i],d=!uh&&f||s(i),h=t==="Array"&&u.entries||f,p,g,m;if(h&&(p=f5(h.call(new e)),p!==Object.prototype&&p.next&&(f5(p)!==h5&&(d5?d5(p,h5):n$e(p[Uc])||Ly(p,Uc,f$e)),o$e(p,l,!0))),c$e&&i===Wc&&f&&f.name!==Wc&&(u$e?a$e(u,"name",Wc):(c=!0,d=function(){return r$e(f,this)})),i)if(g={values:s(Wc),keys:o?d:s(p5),entries:s(g5)},a)for(m in g)(uh||c||!(m in u))&&Ly(u,m,g[m]);else t$e({target:t,proto:!0,forced:uh||c},g);return u[Uc]!==d&&Ly(u,Uc,d,{name:i}),l$e[t]=d,g},gC=function(e,t){return{value:e,done:t}},d$e=mo,mC=dC,m5=td,pj=Ms,h$e=Wn.f,p$e=pC,fh=gC,g$e=Br,gj="Array Iterator",m$e=pj.set,v$e=pj.getterFor(gj),b$e=p$e(Array,"Array",function(e,t){m$e(this,{type:gj,target:d$e(e),index:0,kind:t})},function(){var e=v$e(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,fh(void 0,!0);switch(e.kind){case"keys":return fh(r,!1);case"values":return fh(t[r],!1)}return fh([r,t[r]],!1)},"values"),v5=m5.Arguments=m5.Array;mC("keys");mC("values");mC("entries");if(g$e&&v5.name!=="values")try{h$e(v5,"name",{value:"values"})}catch{}var y$e=Ge,$$e=Xt,w$e=Ti,A$e=Ps,x$e=Uv,S$e=vc,C$e=fC;y$e({target:"Promise",stat:!0,forced:C$e},{allSettled:function(t){var r=this,n=A$e.f(r),i=n.resolve,o=n.reject,a=x$e(function(){var s=w$e(r.resolve),l=[],c=0,u=1;S$e(t,function(f){var d=c++,h=!1;u++,$$e(s,r,f).then(function(p){h||(h=!0,l[d]={status:"fulfilled",value:p},--u||i(l))},function(p){h||(h=!0,l[d]={status:"rejected",reason:p},--u||i(l))})}),--u||i(l)});return a.error&&o(a.value),n.promise}});var E$e=Nv,k$e=String,ha=function(e){if(E$e(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return k$e(e)},vC=ze,O$e=Fv,T$e=ha,I$e=Os,M$e=vC("".charAt),b5=vC("".charCodeAt),P$e=vC("".slice),D$e=function(e){return function(t,r){var n=T$e(I$e(t)),i=O$e(r),o=n.length,a,s;return i<0||i>=o?e?"":void 0:(a=b5(n,i),a<55296||a>56319||i+1===o||(s=b5(n,i+1))<56320||s>57343?e?M$e(n,i):a:e?P$e(n,i,i+2):(a-55296<<10)+(s-56320)+65536)}},mj={charAt:D$e(!0)},_$e=mj.charAt,N$e=ha,vj=Ms,L$e=pC,y5=gC,bj="String Iterator",R$e=vj.set,B$e=vj.getterFor(bj);L$e(String,"String",function(e){R$e(this,{type:bj,string:N$e(e),index:0})},function(){var t=B$e(this),r=t.string,n=t.index,i;return n>=r.length?y5(void 0,!0):(i=_$e(r,n),t.index+=i.length,y5(i,!1))});var yj={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},F$e=Iv,Ry=F$e("span").classList,$5=Ry&&Ry.constructor&&Ry.constructor.prototype,$j=$5===Object.prototype?void 0:$5,w5=ct,wj=yj,j$e=$j,yu=b$e,A5=gc,z$e=Zf,H$e=ut,By=H$e("iterator"),Fy=yu.values,Aj=function(e,t){if(e){if(e[By]!==Fy)try{A5(e,By,Fy)}catch{e[By]=Fy}if(z$e(e,t,!0),wj[t]){for(var r in yu)if(e[r]!==yu[r])try{A5(e,r,yu[r])}catch{e[r]=yu[r]}}}};for(var jy in wj)Aj(w5[jy]&&w5[jy].prototype,jy);Aj(j$e,"DOMTokenList");var V$e=Oi,x5=jv,U$e=vo,W$e=function(t){for(var r=V$e(this),n=U$e(r),i=arguments.length,o=x5(i>1?arguments[1]:void 0,n),a=i>2?arguments[2]:void 0,s=a===void 0?n:x5(a,n);s>o;)r[o++]=t;return r},K$e=Ge,G$e=W$e,q$e=dC;K$e({target:"Array",proto:!0},{fill:G$e});q$e("fill");var Q$e=go,bC=Array.isArray||function(t){return Q$e(t)==="Array"},Y$e=WS,J$e=Wn,X$e=Dv,Qv=function(e,t,r){var n=Y$e(t);n in e?J$e.f(e,n,X$e(0,r)):e[n]=r},Z$e=_e,ewe=ut,twe=Qf,rwe=ewe("species"),Yv=function(e){return twe>=51||!Z$e(function(){var t=[],r=t.constructor={};return r[rwe]=function(){return{foo:1}},t[e](Boolean).foo!==1})},nwe=Ge,S5=bC,iwe=Vv,owe=Jt,C5=jv,awe=vo,swe=mo,lwe=Qv,cwe=ut,uwe=Yv,fwe=LF,dwe=uwe("slice"),hwe=cwe("species"),zy=Array,pwe=Math.max;nwe({target:"Array",proto:!0,forced:!dwe},{slice:function(t,r){var n=swe(this),i=awe(n),o=C5(t,i),a=C5(r===void 0?i:r,i),s,l,c;if(S5(n)&&(s=n.constructor,iwe(s)&&(s===zy||S5(s.prototype))?s=void 0:owe(s)&&(s=s[hwe],s===null&&(s=void 0)),s===zy||s===void 0))return fwe(n,o,a);for(l=new(s===void 0?zy:s)(pwe(a-o,0)),c=0;o<a;o++,c++)o in n&&lwe(l,c,n[o]);return l.length=c,l}});function yC(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(f){a(f)}}function l(u){try{c(n.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((n=n.apply(e,[])).next())})}function ge(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var xj={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),p=r?r+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,d,h,p){var g=r?r+c:c;if(!this._events[g])return!1;var m=this._events[g],v=arguments.length,b,y;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,d),!0;case 5:return m.fn.call(m.context,u,f,d,h),!0;case 6:return m.fn.call(m.context,u,f,d,h,p),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];m.fn.apply(m.context,b)}else{var w=m.length,$;for(y=0;y<w;y++)switch(m[y].once&&this.removeListener(c,m[y].fn,void 0,!0),v){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,u);break;case 3:m[y].fn.call(m[y].context,u,f);break;case 4:m[y].fn.call(m[y].context,u,f,d);break;default:if(!b)for($=1,b=new Array(v-1);$<v;$++)b[$-1]=arguments[$];m[y].fn.apply(m[y].context,b)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,d){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&a(this,h);else{for(var g=0,m=[],v=p.length;g<v;g++)(p[g].fn!==u||d&&!p[g].once||f&&p[g].context!==f)&&m.push(p[g]);m.length?this._events[h]=m.length===1?m[0]:m:a(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(xj);var gwe=xj.exports,mwe=vr(gwe),vwe=Array.isArray,yn=vwe;function Jv(){if(!arguments.length)return[];var e=arguments[0];return yn(e)?e:[e]}var E5=bC,bwe=Vv,ywe=Jt,$we=ut,wwe=$we("species"),k5=Array,Awe=function(e){var t;return E5(e)&&(t=e.constructor,bwe(t)&&(t===k5||E5(t.prototype))?t=void 0:ywe(t)&&(t=t[wwe],t===null&&(t=void 0))),t===void 0?k5:t},xwe=Awe,Sj=function(e,t){return new(xwe(e))(t===0?0:t)},Swe=mc,Cwe=ze,Ewe=Rv,kwe=Oi,Owe=vo,Twe=Sj,O5=Cwe([].push),Kc=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,s=e===5||o;return function(l,c,u,f){for(var d=kwe(l),h=Ewe(d),p=Owe(h),g=Swe(c,u),m=0,v=f||Twe,b=t?v(l,p):r||a?v(l,0):void 0,y,w;p>m;m++)if((s||m in h)&&(y=h[m],w=g(y,m,d),e))if(t)b[m]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:O5(b,y)}else switch(e){case 4:return!1;case 7:O5(b,y)}return o?-1:n||i?i:b}},Xv={forEach:Kc(0),map:Kc(1),filter:Kc(2),find:Kc(5),findIndex:Kc(6)},Iwe=Ge,Mwe=Xv.map,Pwe=Yv,Dwe=Pwe("map");Iwe({target:"Array",proto:!0,forced:!Dwe},{map:function(t){return Mwe(this,t,arguments.length>1?arguments[1]:void 0)}});var T5=Br,_we=ze,Nwe=Xt,Lwe=_e,Hy=Gv,Rwe=XS,Bwe=Lv,Fwe=Oi,jwe=Rv,Js=Object.assign,I5=Object.defineProperty,zwe=_we([].concat),Hwe=!Js||Lwe(function(){if(T5&&Js({b:1},Js(I5({},"a",{enumerable:!0,get:function(){I5(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),Js({},e)[r]!==7||Hy(Js({},t)).join("")!==n})?function(t,r){for(var n=Fwe(t),i=arguments.length,o=1,a=Rwe.f,s=Bwe.f;i>o;)for(var l=jwe(arguments[o++]),c=a?zwe(Hy(l),a(l)):Hy(l),u=c.length,f=0,d;u>f;)d=c[f++],(!T5||Nwe(s,l,d))&&(n[d]=l[d]);return n}:Js,Vwe=Ge,M5=Hwe;Vwe({target:"Object",stat:!0,arity:2,forced:Object.assign!==M5},{assign:M5});var Cj={exports:{}},Ej={},P5=jv,Uwe=vo,Wwe=Qv,Kwe=Array,Gwe=Math.max,kj=function(e,t,r){for(var n=Uwe(e),i=P5(t,n),o=P5(r===void 0?n:r,n),a=Kwe(Gwe(o-i,0)),s=0;i<o;i++,s++)Wwe(a,s,e[i]);return a.length=s,a},qwe=go,Qwe=mo,Oj=Bv.f,Ywe=kj,Tj=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Jwe=function(e){try{return Oj(e)}catch{return Ywe(Tj)}};Ej.f=function(t){return Tj&&qwe(t)==="Window"?Jwe(t):Oj(Qwe(t))};var Xwe=_e,Zwe=Xwe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),e2e=_e,t2e=Jt,r2e=go,D5=Zwe,vp=Object.isExtensible,n2e=e2e(function(){vp(1)}),i2e=n2e||D5?function(t){return!t2e(t)||D5&&r2e(t)==="ArrayBuffer"?!1:vp?vp(t):!0}:vp,o2e=_e,a2e=!o2e(function(){return Object.isExtensible(Object.preventExtensions({}))}),s2e=Ge,l2e=ze,c2e=_v,u2e=Jt,$C=An,f2e=Wn.f,_5=Bv,d2e=Ej,wC=i2e,h2e=HS,p2e=a2e,Ij=!1,no=h2e("meta"),g2e=0,AC=function(e){f2e(e,no,{value:{objectID:"O"+g2e++,weakData:{}}})},m2e=function(e,t){if(!u2e(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!$C(e,no)){if(!wC(e))return"F";if(!t)return"E";AC(e)}return e[no].objectID},v2e=function(e,t){if(!$C(e,no)){if(!wC(e))return!0;if(!t)return!1;AC(e)}return e[no].weakData},b2e=function(e){return p2e&&Ij&&wC(e)&&!$C(e,no)&&AC(e),e},y2e=function(){$2e.enable=function(){},Ij=!0;var e=_5.f,t=l2e([].splice),r={};r[no]=1,e(r).length&&(_5.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===no){t(i,o,1);break}return i},s2e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d2e.f}))},$2e=Cj.exports={enable:y2e,fastKey:m2e,getWeakData:v2e,onFreeze:b2e};c2e[no]=!0;var xC=Cj.exports,w2e=et,A2e=Jt,N5=eC,x2e=function(e,t,r){var n,i;return N5&&w2e(n=t.constructor)&&n!==r&&A2e(i=n.prototype)&&i!==r.prototype&&N5(e,i),e},S2e=Ge,C2e=ct,E2e=ze,L5=ZS,k2e=po,O2e=xC,T2e=vc,I2e=Hv,M2e=et,P2e=da,Vy=Jt,Uy=_e,D2e=uC,_2e=Zf,N2e=x2e,SC=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=C2e[e],s=a&&a.prototype,l=a,c={},u=function(v){var b=E2e(s[v]);k2e(s,v,v==="add"?function(w){return b(this,w===0?0:w),this}:v==="delete"?function(y){return i&&!Vy(y)?!1:b(this,y===0?0:y)}:v==="get"?function(w){return i&&!Vy(w)?void 0:b(this,w===0?0:w)}:v==="has"?function(w){return i&&!Vy(w)?!1:b(this,w===0?0:w)}:function(w,$){return b(this,w===0?0:w,$),this})},f=L5(e,!M2e(a)||!(i||s.forEach&&!Uy(function(){new a().entries().next()})));if(f)l=r.getConstructor(t,e,n,o),O2e.enable();else if(L5(e,!0)){var d=new l,h=d[o](i?{}:-0,1)!==d,p=Uy(function(){d.has(1)}),g=D2e(function(v){new a(v)}),m=!i&&Uy(function(){for(var v=new a,b=5;b--;)v[o](b,b);return!v.has(-0)});g||(l=t(function(v,b){I2e(v,s);var y=N2e(new a,v,l);return P2e(b)||T2e(b,y[o],{that:y,AS_ENTRIES:n}),y}),l.prototype=s,s.constructor=l),(p||m)&&(u("delete"),u("has"),n&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,S2e({global:!0,constructor:!0,forced:l!==a},c),_2e(l,e),i||r.setStrong(l,e,n),l},L2e=po,Mj=function(e,t,r){for(var n in t)L2e(e,n,t[n],r);return e},R2e=ze,R5=Mj,dh=xC.getWeakData,B2e=Hv,F2e=br,j2e=da,Wy=Jt,z2e=vc,Pj=Xv,B5=An,Dj=Ms,H2e=Dj.set,V2e=Dj.getterFor,U2e=Pj.find,W2e=Pj.findIndex,K2e=R2e([].splice),G2e=0,hh=function(e){return e.frozen||(e.frozen=new _j)},_j=function(){this.entries=[]},Ky=function(e,t){return U2e(e.entries,function(r){return r[0]===t})};_j.prototype={get:function(e){var t=Ky(this,e);if(t)return t[1]},has:function(e){return!!Ky(this,e)},set:function(e,t){var r=Ky(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=W2e(this.entries,function(r){return r[0]===e});return~t&&K2e(this.entries,t,1),!!~t}};var q2e={getConstructor:function(e,t,r,n){var i=e(function(l,c){B2e(l,o),H2e(l,{type:t,id:G2e++,frozen:void 0}),j2e(c)||z2e(c,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,a=V2e(t),s=function(l,c,u){var f=a(l),d=dh(F2e(c),!0);return d===!0?hh(f).set(c,u):d[f.id]=u,l};return R5(o,{delete:function(l){var c=a(this);if(!Wy(l))return!1;var u=dh(l);return u===!0?hh(c).delete(l):u&&B5(u,c.id)&&delete u[c.id]},has:function(c){var u=a(this);if(!Wy(c))return!1;var f=dh(c);return f===!0?hh(u).has(c):f&&B5(f,u.id)}}),R5(o,r?{get:function(c){var u=a(this);if(Wy(c)){var f=dh(c);return f===!0?hh(u).get(c):f?f[u.id]:void 0}},set:function(c,u){return s(this,c,u)}}:{add:function(c){return s(this,c,!0)}}),i}},Q2e=SC,Y2e=q2e;Q2e("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Y2e);var vt;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(vt||(vt={}));var wi;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})(wi||(wi={}));var J2e="hour",X2e="minute",Z2e=10,eAe=10,tAe=2,rAe=0,nAe=200,iAe=12,oAe="#cal-heatmap",aAe="light",sAe="en",lAe="red",cAe="YlOrBr",uAe="quantize",fAe=[0,100],bp,Nj,Lj,dAe=(function(){function e(t){ur(this,e),bp.add(this),this.calendar=t,this.maxDomainReached=!1,this.minDomainReached=!1}return fr(e,[{key:"loadNewDomains",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt.SCROLL_NONE,o=this.calendar.options.options,a=this.calendar.templateCollection,s=o.date.min?a.get(o.domain.type).extractUnit(+o.date.min):void 0,l=o.date.max?a.get(o.domain.type).extractUnit(+o.date.max):void 0,c=this.calendar.domainCollection;return ge(this,bp,"m",Nj).call(this,r,s,l,i)?vt.SCROLL_NONE:(i!==vt.SCROLL_NONE&&r.clamp(s,l).slice(o.range,i===vt.SCROLL_FORWARD),c.merge(r,o.range,function(u,f){var d=null;return r.at(f+1)?d=r.at(f+1):d=n.calendar.dateHelper.intervals(o.domain.type,u,2).pop(),a.get(o.subDomain.type).mapping(u,d).map(function(h){return Object.assign(Object.assign({},h),{v:o.data.defaultValue})})}),ge(this,bp,"m",Lj).call(this,c.min,c.max,s,l),i===vt.SCROLL_BACKWARD?this.calendar.eventEmitter.emit("domainsLoaded",[c.min]):i===vt.SCROLL_FORWARD&&this.calendar.eventEmitter.emit("domainsLoaded",[c.max]),i)}},{key:"jumpTo",value:function(r,n){var i=this.calendar,o=i.domainCollection,a=i.options,s=new Date(o.min),l=new Date(o.max);return r<s?this.loadNewDomains(this.calendar.createDomainCollection(r,s,!1),vt.SCROLL_BACKWARD):n?this.loadNewDomains(this.calendar.createDomainCollection(r,a.options.range),s<r?vt.SCROLL_FORWARD:vt.SCROLL_BACKWARD):r>l?this.loadNewDomains(this.calendar.createDomainCollection(l,r,!1),vt.SCROLL_FORWARD):vt.SCROLL_NONE}}]),e})();bp=new WeakSet,Nj=function(t,r,n,i){return!!(n&&t.max>=n&&this.maxDomainReached&&i===vt.SCROLL_FORWARD||r&&t.min<=r&&this.minDomainReached&&i===vt.SCROLL_BACKWARD)},Lj=function(t,r,n,i){if(n){var o=t<=n;this.calendar.eventEmitter.emit(o?"minDateReached":"minDateNotReached"),this.minDomainReached=o}if(i){var a=r>=i;this.calendar.eventEmitter.emit(a?"maxDateReached":"maxDateNotReached"),this.maxDomainReached=a}};var hAe=TypeError,pAe=9007199254740991,gAe=function(e){if(e>pAe)throw hAe("Maximum allowed index exceeded");return e},mAe=Ge,vAe=_e,bAe=bC,yAe=Jt,$Ae=Oi,wAe=vo,F5=gAe,j5=Qv,AAe=Sj,xAe=Yv,SAe=ut,CAe=Qf,Rj=SAe("isConcatSpreadable"),EAe=CAe>=51||!vAe(function(){var e=[];return e[Rj]=!1,e.concat()[0]!==e}),kAe=function(e){if(!yAe(e))return!1;var t=e[Rj];return t!==void 0?!!t:bAe(e)},OAe=!EAe||!xAe("concat");mAe({target:"Array",proto:!0,arity:1,forced:OAe},{concat:function(t){var r=$Ae(this),n=AAe(r,0),i=0,o,a,s,l,c;for(o=-1,s=arguments.length;o<s;o++)if(c=o===-1?r:arguments[o],kAe(c))for(l=wAe(c),F5(i+l),a=0;a<l;a++,i++)a in c&&j5(n,i,c[a]);else F5(i+1),j5(n,i++,c);return n.length=i,n}});var TAe=_e,CC=function(e,t){var r=[][e];return!!r&&TAe(function(){r.call(null,t||function(){return 1},1)})},IAe=Ge,MAe=ze,PAe=Rv,DAe=mo,_Ae=CC,NAe=MAe([].join),LAe=PAe!==Object,RAe=LAe||!_Ae("join",",");IAe({target:"Array",proto:!0,forced:RAe},{join:function(t){return NAe(DAe(this),t===void 0?",":t)}});var BAe=qv,FAe=tC,z5=Mj,jAe=mc,zAe=Hv,HAe=da,VAe=vc,UAe=pC,ph=gC,WAe=OF,Gc=Br,H5=xC.fastKey,Bj=Ms,V5=Bj.set,Gy=Bj.getterFor,Fj={getConstructor:function(e,t,r,n){var i=e(function(c,u){zAe(c,o),V5(c,{type:t,index:BAe(null),first:void 0,last:void 0,size:0}),Gc||(c.size=0),HAe(u)||VAe(u,c[n],{that:c,AS_ENTRIES:r})}),o=i.prototype,a=Gy(t),s=function(c,u,f){var d=a(c),h=l(c,u),p,g;return h?h.value=f:(d.last=h={index:g=H5(u,!0),key:u,value:f,previous:p=d.last,next:void 0,removed:!1},d.first||(d.first=h),p&&(p.next=h),Gc?d.size++:c.size++,g!=="F"&&(d.index[g]=h)),c},l=function(c,u){var f=a(c),d=H5(u),h;if(d!=="F")return f.index[d];for(h=f.first;h;h=h.next)if(h.key===u)return h};return z5(o,{clear:function(){for(var u=this,f=a(u),d=f.index,h=f.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete d[h.index],h=h.next;f.first=f.last=void 0,Gc?f.size=0:u.size=0},delete:function(c){var u=this,f=a(u),d=l(u,c);if(d){var h=d.next,p=d.previous;delete f.index[d.index],d.removed=!0,p&&(p.next=h),h&&(h.previous=p),f.first===d&&(f.first=h),f.last===d&&(f.last=p),Gc?f.size--:u.size--}return!!d},forEach:function(u){for(var f=a(this),d=jAe(u,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:f.first;)for(d(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(u){return!!l(this,u)}}),z5(o,r?{get:function(u){var f=l(this,u);return f&&f.value},set:function(u,f){return s(this,u===0?0:u,f)}}:{add:function(u){return s(this,u=u===0?0:u,u)}}),Gc&&FAe(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=Gy(t),o=Gy(n);UAe(e,t,function(a,s){V5(this,{type:n,target:a,state:i(a),kind:s,last:void 0})},function(){for(var a=o(this),s=a.kind,l=a.last;l&&l.removed;)l=l.previous;return!a.target||!(a.last=l=l?l.next:a.state.first)?(a.target=void 0,ph(void 0,!0)):ph(s==="keys"?l.key:s==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),WAe(t)}},KAe=SC,GAe=Fj;KAe("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},GAe);var U5=Yf,qAe=TypeError,QAe=function(e,t){if(!delete e[t])throw new qAe("Cannot delete property "+U5(t)+" of "+U5(e))},W5=kj,YAe=Math.floor,R2=function(e,t){var r=e.length,n=YAe(r/2);return r<8?JAe(e,t):XAe(e,R2(W5(e,0,n),t),R2(W5(e,n),t),t)},JAe=function(e,t){for(var r=e.length,n=1,i,o;n<r;){for(o=n,i=e[n];o&&t(e[o-1],i)>0;)e[o]=e[--o];o!==n++&&(e[o]=i)}return e},XAe=function(e,t,r,n){for(var i=t.length,o=r.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?n(t[a],r[s])<=0?t[a++]:r[s++]:a<i?t[a++]:r[s++];return e},ZAe=R2,exe=Ts,K5=exe.match(/firefox\/(\d+)/i),txe=!!K5&&+K5[1],rxe=Ts,nxe=/MSIE|Trident/.test(rxe),ixe=Ts,G5=ixe.match(/AppleWebKit\/(\d+)\./),oxe=!!G5&&+G5[1],axe=Ge,jj=ze,sxe=Ti,lxe=Oi,q5=vo,cxe=QAe,Q5=ha,EC=_e,uxe=ZAe,fxe=CC,Y5=txe,dxe=nxe,J5=Qf,X5=oxe,jo=[],Z5=jj(jo.sort),hxe=jj(jo.push),pxe=EC(function(){jo.sort(void 0)}),gxe=EC(function(){jo.sort(null)}),mxe=fxe("sort"),zj=!EC(function(){if(J5)return J5<70;if(!(Y5&&Y5>3)){if(dxe)return!0;if(X5)return X5<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)jo.push({k:r+i,v:n})}for(jo.sort(function(o,a){return a.v-o.v}),i=0;i<jo.length;i++)r=jo[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),vxe=pxe||!gxe||!mxe||!zj,bxe=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:Q5(t)>Q5(r)?1:-1}};axe({target:"Array",proto:!0,forced:vxe},{sort:function(t){t!==void 0&&sxe(t);var r=lxe(this);if(zj)return t===void 0?Z5(r):Z5(r,t);var n=[],i=q5(r),o,a;for(a=0;a<i;a++)a in r&&hxe(n,r[a]);for(uxe(n,bxe(t)),o=q5(n),a=0;a<o;)r[a]=n[a++];for(;a<i;)cxe(r,a++);return r}});var yxe=Xv.forEach,$xe=CC,wxe=$xe("forEach"),Axe=wxe?[].forEach:function(t){return yxe(this,t,arguments.length>1?arguments[1]:void 0)},e3=ct,t3=yj,xxe=$j,qy=Axe,Sxe=gc,Hj=function(e){if(e&&e.forEach!==qy)try{Sxe(e,"forEach",qy)}catch{e.forEach=qy}};for(var Qy in t3)t3[Qy]&&Hj(e3[Qy]&&e3[Qy].prototype);Hj(xxe);function r3(e){return e==="top"||e==="bottom"}function Vj(e){return e[wi.LEFT]+e[wi.RIGHT]}function Uj(e){return e[wi.TOP]+e[wi.BOTTOM]}var yp,Wj,Kj,Cxe=(function(){function e(t,r){ur(this,e),yp.add(this),this.calendar=t,this.domainPainter=r,this.collection=new Map,this.scrollDirection=vt.SCROLL_FORWARD}return fr(e,[{key:"get",value:function(r){return this.collection.get(r)}},{key:"update",value:function(r,n){var i=this,o=this.calendar.options.options,a=o.verticalOrientation,s=o.domain;this.scrollDirection=n;var l={width:0,height:0},c=0,u=n===vt.SCROLL_FORWARD?-1:1,f=r.keys;return this.calendar.options.options.domain.sort==="desc"&&(f.reverse(),u*=-1),r.yankedDomains.forEach(function(d){c+=i.collection.get(d)[a?"height":"width"]}),r.yankedDomains.forEach(function(d){var h=i.collection.get(d);i.collection.set(d,Object.assign(Object.assign({},h),{x:a?h.x:h.x+c*u,y:a?h.y+c*u:h.y}))}),f.forEach(function(d){var h=ge(i,yp,"m",Wj).call(i,d),p=ge(i,yp,"m",Kj).call(i,d);a?(l.height+=p,l.width=Math.max(h,l.width)):(l.width+=h,l.height=Math.max(p,l.height));var g=l.width-h,m=l.height-p;i.collection.set(d,Object.assign(Object.assign({},i.collection.get(d)),{x:a?0:g,y:a?m:0,pre_x:a?g:g-c*u,pre_y:a?m-c*u:m,width:h,height:p,inner_width:h-(a?0:s.gutter),inner_height:p-(a?s.gutter:0)}))}),l}}]),e})();yp=new WeakSet,Wj=function(t){var r=this.calendar.options.options,n=r.domain,i=r.subDomain,o=r.x,a=r.verticalOrientation,s=this.calendar.templateCollection.get(i.type).columnsCount(t),l=(i.width+i.gutter)*s-i.gutter;return Vj(n.padding)+o.domainHorizontalLabelWidth+(a?0:n.gutter)+l},Kj=function(t){var r=this.calendar.options.options,n=r.domain,i=r.subDomain,o=r.x,a=r.verticalOrientation,s=this.calendar.templateCollection.get(i.type).rowsCount(t),l=(i.height+i.gutter)*s-i.gutter;return Uj(n.padding)+l+(a?n.gutter:0)+o.domainVerticalLabelHeight};var B2,Gj,$p=".ch-domain",Exe=(function(){function e(t){ur(this,e),B2.add(this),this.calendar=t,this.coordinates=new Cxe(t,this),this.root=null,this.dimensions={width:0,height:0}}return fr(e,[{key:"paint",value:function(r,n){var i=this,o=this.calendar.options.options.animationDuration,a=n.transition().duration(o),s=this.coordinates;this.dimensions=s.update(this.calendar.domainCollection,r);var l=[];return this.root=n.selectAll($p).data(this.calendar.domainCollection.keys,function(c){return c}).join(function(c){return c.append("svg").attr("x",function(u){return s.get(u).pre_x}).attr("y",function(u){return s.get(u).pre_y}).attr("width",function(u){return s.get(u).inner_width}).attr("height",function(u){return s.get(u).inner_height}).attr("class",function(u){return ge(i,B2,"m",Gj).call(i,u)}).call(function(u){return u.append("rect").attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).attr("class","".concat($p.slice(1),"-bg"))}).call(function(u){return l.push(u.transition(a).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).end())})},function(c){return c.call(function(u){return l.push(u.transition(a).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).end())}).call(function(u){return l.push(u.selectAll("".concat($p,"-bg")).transition(a).attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).end())})},function(c){return c.call(function(u){return l.push(u.transition(a).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).remove().end())})}),l}}]),e})();B2=new WeakSet,Gj=function(t){var r=$p.slice(1),n=this.calendar.dateHelper.date(t);switch(this.calendar.options.options.domain.type){case"hour":r+=" h_".concat(n.hour());break;case"day":r+=" d_".concat(n.date()," dy_").concat(n.format("d")+1);break;case"week":r+=" w_".concat(n.week());break;case"month":r+=" m_".concat(n.month()+1);break;case"year":r+=" y_".concat(n.year());break}return r};var kxe=Ge,Oxe=EF.includes,Txe=_e,Ixe=dC,Mxe=Txe(function(){return!Array(1).includes()});kxe({target:"Array",proto:!0,forced:Mxe},{includes:function(t){return Oxe(this,t,arguments.length>1?arguments[1]:void 0)}});Ixe("includes");var Pxe=Ge,Dxe=Xv.filter,_xe=Yv,Nxe=_xe("filter");Pxe({target:"Array",proto:!0,forced:!Nxe},{filter:function(t){return Dxe(this,t,arguments.length>1?arguments[1]:void 0)}});var Lxe=br,Rxe=ij,Bxe=function(e,t,r,n){try{return n?t(Lxe(r)[0],r[1]):t(r)}catch(i){Rxe(e,"throw",i)}},Fxe=mc,jxe=Xt,zxe=Oi,Hxe=Bxe,Vxe=rj,Uxe=Vv,Wxe=vo,n3=Qv,Kxe=nj,Gxe=cC,i3=Array,qxe=function(t){var r=zxe(t),n=Uxe(this),i=arguments.length,o=i>1?arguments[1]:void 0,a=o!==void 0;a&&(o=Fxe(o,i>2?arguments[2]:void 0));var s=Gxe(r),l=0,c,u,f,d,h,p;if(s&&!(this===i3&&Vxe(s)))for(d=Kxe(r,s),h=d.next,u=n?new this:[];!(f=jxe(h,d)).done;l++)p=a?Hxe(d,o,[f.value,l],!0):f.value,n3(u,l,p);else for(c=Wxe(r),u=n?new this(c):i3(c);c>l;l++)p=a?o(r[l],l):r[l],n3(u,l,p);return u.length=l,u},Qxe=Ge,Yxe=qxe,Jxe=uC,Xxe=!Jxe(function(e){Array.from(e)});Qxe({target:"Array",stat:!0,forced:Xxe},{from:Yxe});var Oo,qj,o3,$u,Zxe={year:"YYYY",month:"MMMM",week:"wo [week] YYYY",xDay:"Do MMM",ghDay:"Do MMM",day:"Do MMM",hour:"HH:00",minute:"HH:mm"},a3=(function(){function e(t,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ur(this,e),Oo.add(this),this.collection=new Map,this.dateHelper=t,r&&n&&i){var a=this.dateHelper.intervals(r,n,i,o).map(function(s){return Jv(s)});this.collection=new Map(a)}this.min=0,this.max=0,this.keys=[],this.yankedDomains=[],this.collection.size>0&&ge(this,Oo,"m",$u).call(this)}return fr(e,[{key:"has",value:function(r){return this.collection.has(r)}},{key:"get",value:function(r){return this.collection.get(r)}},{key:"forEach",value:function(r){return this.collection.forEach(r)}},{key:"at",value:function(r){return this.keys[r]}},{key:"clamp",value:function(r,n){var i=this;return r&&this.min<r&&this.keys.filter(function(o){return o<r}).forEach(function(o){return i.collection.delete(o)}),n&&this.max>n&&this.keys.filter(function(o){return o>n}).forEach(function(o){return i.collection.delete(o)}),ge(this,Oo,"m",$u).call(this),this}},{key:"merge",value:function(r,n,i){var o=this;this.yankedDomains=[],r.keys.forEach(function(a,s){if(!o.has(a)){if(o.collection.size>=n){var l=o.max;a>o.max&&(l=o.min),l&&o.collection.delete(l)&&o.yankedDomains.push(l)}o.collection.set(a,i(a,s)),ge(o,Oo,"m",$u).call(o)}}),this.yankedDomains=this.yankedDomains.sort(function(a,s){return a-s})}},{key:"slice",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.keys.length>n){var o=i?this.keys.slice(0,-n):this.keys.slice(n);o.forEach(function(a){r.collection.delete(a)}),ge(this,Oo,"m",$u).call(this)}return this}},{key:"fill",value:function(r,n,i){var o=this,a=n.x,s=n.y,l=n.groupY,c=n.defaultValue,u=this.groupRecords(r,a,i);this.keys.forEach(function(f){var d=u.get(f)||{};ge(o,Oo,"m",qj).call(o,f,d,s,l,c)})}},{key:"groupRecords",value:function(r,n,i){var o=this,a=new Map,s=new Map;return this.keys.forEach(function(l){o.get(l).forEach(function(c){s.set(c.t,l)})}),r.forEach(function(l){var c=o.extractTimestamp(l,n,i);if(s.has(c)){var u=s.get(c),f=a.get(u)||{};f[c]||(f[c]=[]),f[c].push(l),a.set(u,f)}}),a}},{key:"groupValues",value:function(r,n){var i=r.filter(function(o){return o!==null});if(typeof n=="string"){if(i.every(function(o){return typeof o=="number"}))switch(n){case"sum":return i.reduce(function(o,a){return o+a},0);case"count":return i.length;case"min":return Math.min.apply(Math,g2(i))||null;case"max":return Math.max.apply(Math,g2(i))||null;case"average":return i.length>0?i.reduce(function(o,a){return o+a},0)/i.length:null;default:return null}switch(n){case"count":return i.length;default:return null}}else if(typeof n=="function")return n(i);return null}},{key:"extractTimestamp",value:function(r,n,i){var o=typeof n=="function"?n(r):r[n];return typeof o=="string"&&(o=+new Date(o)),i(o)}}]),e})();Oo=new WeakSet,qj=function(t,r,n,i,o){var a=this;this.get(t).forEach(function(s,l){var c=o;r.hasOwnProperty(s.t)&&(c=a.groupValues(ge(a,Oo,"m",o3).call(a,r[s.t],n),i)),a.get(t)[l].v=c})},o3=function(t,r){return t.map(function(n){return typeof r=="function"?r(n):n[r]})},$u=function(){this.keys=Array.from(this.collection.keys()).map(function(r){return parseInt(r,10)}).sort(function(r,n){return r-n});var t=this.keys;return this.min=t[0],this.max=t[t.length-1],this.keys};var Nt,F2,j2,z2,Xs,gh,H2,s3=".ch-domain-text",eSe=(function(){function e(t){ur(this,e),Nt.add(this),this.calendar=t}return fr(e,[{key:"paint",value:function(r){var n=this,i=this.calendar.options.options.domain,o=i.label,a=i.type,s=this.calendar.dateHelper,l=o.text;l===null||l===""||(typeof l>"u"&&(l=Zxe[a]),r.selectAll(s3).data(function(c){return[c]},function(c){return c}).join(function(c){return c.append("text").attr("class",s3.slice(1)).attr("x",function(u){return ge(n,Nt,"m",j2).call(n,u)}).attr("y",function(u){return ge(n,Nt,"m",z2).call(n,u)}).attr("text-anchor",o.textAlign).attr("dominant-baseline",function(){return ge(n,Nt,"m",F2).call(n)}).text(function(u,f,d){return s.format(u,l,d[f])}).call(function(u){return ge(n,Nt,"m",H2).call(n,u)})},function(c){c.attr("x",function(u){return ge(n,Nt,"m",j2).call(n,u)}).attr("y",function(u){return ge(n,Nt,"m",z2).call(n,u)}).attr("text-anchor",o.textAlign).attr("dominant-baseline",function(){return ge(n,Nt,"m",F2).call(n)}).text(function(u,f,d){return s.format(u,l,d[f])}).call(function(u){return ge(n,Nt,"m",H2).call(n,u)})}))}}]),e})();Nt=new WeakSet,F2=function(){var t=this.calendar.options.options.domain.label,r=t.position,n=t.rotate;return r3(r)?"middle":n==="left"&&r==="left"||n==="right"&&r==="right"?"bottom":"hanging"},j2=function(t){var r=this.calendar.options.options.domain,n=r.padding,i=r.label,o=i.position,a=i.textAlign,s=i.offset,l=this.calendar.options.options.x.domainHorizontalLabelWidth,c=n[wi.LEFT];return o==="right"&&(c+=ge(this,Nt,"m",Xs).call(this,t)),a==="middle"&&(["top","bottom"].includes(o)?c+=ge(this,Nt,"m",Xs).call(this,t)/2:c+=l/2),a==="end"&&(r3(o)?c+=ge(this,Nt,"m",Xs).call(this,t):c+=l),c+s.x},z2=function(t){var r=this.calendar.options.options,n=r.domain,i=n.label,o=i.position,a=i.offset,s=n.padding,l=r.x,c=s[wi.TOP]+l.domainVerticalLabelHeight/2;return o==="bottom"&&(c+=ge(this,Nt,"m",gh).call(this,t)),c+a.y},Xs=function(t){var r=this.calendar.options.options,n=r.domain.padding,i=r.x.domainHorizontalLabelWidth,o=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return o.get(t).inner_width-i-Vj(n)},gh=function(t){var r=this.calendar.options.options,n=r.x.domainVerticalLabelHeight,i=r.domain.padding,o=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return o.get(t).inner_height-n-Uj(i)},H2=function(t){var r=this,n=this.calendar.options.options,i=n.domain.label,o=i.rotate,a=i.textAlign,s=i.position,l=n.x,c=l.domainHorizontalLabelWidth;switch(o){case"right":t.attr("transform",function(u){var f=ge(r,Nt,"m",Xs).call(r,u),d=ge(r,Nt,"m",gh).call(r,u),h=["rotate(90, ".concat(s==="right"?f:c,", 0)")];switch(s){case"right":a==="middle"?h.push("translate(".concat(d/2-c/2,")")):a==="end"&&h.push("translate(".concat(d-c,")"));break;case"left":a==="start"?h.push("translate(".concat(c,")")):a==="middle"?h.push("translate(".concat(c/2+d/2,")")):a==="end"&&h.push("translate(".concat(d,")"));break}return h.join(",")});break;case"left":t.attr("transform",function(u){var f=ge(r,Nt,"m",Xs).call(r,u),d=ge(r,Nt,"m",gh).call(r,u),h=["rotate(270, ".concat(s==="right"?f:c,", 0)")];switch(s){case"right":a==="start"?h.push("translate(-".concat(d,")")):a==="middle"?h.push("translate(-".concat(d/2+c/2,")")):a==="end"&&h.push("translate(-".concat(c,")"));break;case"left":a==="start"?h.push("translate(".concat(c-d,")")):a==="middle"&&h.push("translate(".concat(c/2-d/2,")"));break}return h.join(",")});break}};var Qj=`	
\v\f\r \u2028\u2029\uFEFF`,tSe=ze,rSe=Os,nSe=ha,V2=Qj,l3=tSe("".replace),iSe=RegExp("^["+V2+"]+"),oSe=RegExp("(^|[^"+V2+"])["+V2+"]+$"),aSe=function(e){return function(t){var r=nSe(rSe(t));return e&1&&(r=l3(r,iSe,"")),e&2&&(r=l3(r,oSe,"$1")),r}},sSe={trim:aSe(3)},lSe=Pv.PROPER,cSe=_e,c3=Qj,u3="",uSe=function(e){return cSe(function(){return!!c3[e]()||u3[e]()!==u3||lSe&&c3[e].name!==e})},fSe=Ge,dSe=sSe.trim,hSe=uSe;fSe({target:"String",proto:!0,forced:hSe("trim")},{trim:function(){return dSe(this)}});var nr,U2,fm,Yj,Yy,dm,hm,wp=".ch-subdomain",pSe="highlight",gSe=(function(){function e(t){ur(this,e),nr.add(this),this.calendar=t,this.root=null}return fr(e,[{key:"paint",value:function(r){var n=this;this.root=r||this.root;var i="".concat(wp,"-container"),o=this.root.selectAll(i).data(function(d){return[d]},function(d){return d}).join(function(d){return d.append("svg").call(function(h){return ge(n,nr,"m",U2).call(n,h)}).attr("class",i.slice(1))},function(d){return d.call(function(h){return ge(n,nr,"m",U2).call(n,h)})}),a=this.calendar.options.options.subDomain,s=a.radius,l=a.width,c=a.height,u=a.sort,f=this.calendar.eventEmitter;o.selectAll("g").data(function(d){var h=n.calendar.domainCollection.get(d);if(u==="desc"){var p=Math.max.apply(Math,g2(h.map(function(g){return g.x})));h.forEach(function(g,m){h[m].x=Math.abs(g.x-p)})}return h}).join(function(d){return d.append("g").call(function(h){return h.insert("rect").attr("class",function(p){return ge(n,nr,"m",fm).call(n,p.t,"".concat(wp.slice(1),"-bg"))}).attr("width",l).attr("height",c).attr("x",function(p){return ge(n,nr,"m",dm).call(n,p)}).attr("y",function(p){return ge(n,nr,"m",hm).call(n,p)}).on("click",function(p,g){return f.emit("click",p,g.t,g.v)}).on("mouseover",function(p,g){return f.emit("mouseover",p,g.t,g.v)}).on("mouseout",function(p,g){return f.emit("mouseout",p,g.t,g.v)}).attr("rx",s>0?s:null).attr("ry",s>0?s:null)}).call(function(h){return ge(n,nr,"m",Yj).call(n,h)})},function(d){return d.selectAll("rect").attr("class",function(h){return ge(n,nr,"m",fm).call(n,h.t,"".concat(wp.slice(1),"-bg"))}).attr("width",l).attr("height",c).attr("x",function(h){return ge(n,nr,"m",dm).call(n,h)}).attr("y",function(h){return ge(n,nr,"m",hm).call(n,h)}).attr("rx",s).attr("ry",s)})}}]),e})();nr=new WeakSet,U2=function(t){var r=this.calendar.options.options,n=r.domain,i=n.padding,o=n.label.position;t.attr("x",function(){var a=i[wi.LEFT];return o==="left"&&(a+=r.x.domainHorizontalLabelWidth),a}).attr("y",function(){var a=i[wi.TOP];return o==="top"&&(a+=r.x.domainVerticalLabelHeight),a})},fm=function(t){var r=this,n=this.calendar.options.options,i=n.date.highlight,o=n.subDomain.type,a="";i.length>0&&i.forEach(function(u){var f=r.calendar.templateCollection.get(o).extractUnit;f(+u)===f(t)&&(a=pSe)});for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return[a].concat(l).join(" ").trim()},Yj=function(t){var r=this,n=this.calendar.options.options.subDomain,i=n.width,o=n.height,a=n.label;return a?t.append("text").attr("class",function(s){return ge(r,nr,"m",fm).call(r,s.t,"".concat(wp.slice(1),"-text"))}).attr("x",function(s){return ge(r,nr,"m",dm).call(r,s)+i/2}).attr("y",function(s){return ge(r,nr,"m",hm).call(r,s)+o/2}).attr("text-anchor","middle").attr("dominant-baseline","central").text(function(s,l,c){return r.calendar.dateHelper.format(s.t,a,s.v,c[l])}):null},Yy=function(t,r){var n=this.calendar.options.options.subDomain;return r[t]*(n[t==="x"?"width":"height"]+n.gutter)},dm=function(t){return ge(this,nr,"m",Yy).call(this,"x",t)},hm=function(t){return ge(this,nr,"m",Yy).call(this,"y",t)};var pl,W2,Jj,Xj,f3=".ch-domain-container",d3="in-transition",mSe=(function(){function e(t){ur(this,e),pl.add(this),this.calendar=t,this.domainPainter=new Exe(t),this.subDomainPainter=new gSe(t),this.domainLabelPainter=new eSe(t),this.dimensions={width:0,height:0},this.transitionsQueueCount=0}return fr(e,[{key:"setup",value:function(){this.root=this.calendar.calendarPainter.root.attr("x",0).attr("y",0).append("svg").attr("class",f3.slice(1)).append("svg").attr("class","".concat(f3.slice(1),"-animation-wrapper"))}},{key:"paint",value:function(r){var n=this;ge(this,pl,"m",W2).call(this);var i=this.domainPainter.paint(r,this.root);return this.subDomainPainter.paint(this.domainPainter.root),this.domainLabelPainter.paint(this.domainPainter.root),ge(this,pl,"m",Xj).call(this),Promise.allSettled(i).then(function(){ge(n,pl,"m",Jj).call(n)}),i}},{key:"updatePosition",value:function(){var r;if(!(!((r=this.root)===null||r===void 0)&&r.node()))return Promise.resolve();var n=this.calendar.options.options.animationDuration,i=this.calendar.pluginManager.getHeightFromPosition("top"),o=this.calendar.pluginManager.getWidthFromPosition("left");return[Hg(this.root.node().parentNode).transition().duration(n).call(function(a){a.attr("x",o).attr("y",i)}).end()]}},{key:"width",value:function(){return this.dimensions.width}},{key:"height",value:function(){return this.dimensions.height}},{key:"destroy",value:function(){return ge(this,pl,"m",W2).call(this),Promise.resolve()}}]),e})();pl=new WeakSet,W2=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount+=1,Hg(this.root.node().parentNode).classed(d3,!0))},Jj=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount-=1,this.transitionsQueueCount===0&&Hg(this.root.node().parentNode).classed(d3,!1))},Xj=function(){var t=this.calendar.options.options,r=t.animationDuration,n=t.verticalOrientation,i=t.domain.gutter,o=this.domainPainter.dimensions;this.dimensions={width:o.width-(n?0:i),height:o.height-(n?i:0)},this.root.transition().duration(r).attr("width",this.dimensions.width).attr("height",this.dimensions.height)};var vSe=(function(){function e(t){ur(this,e),this.calendar=t}return fr(e,[{key:"paint",value:function(){var r=[];return r=r.concat(this.calendar.pluginManager.paintAll()),r=r.concat(this.setPluginsPosition()),r}},{key:"setPluginsPosition",value:function(){var r=this.calendar.pluginManager,n=this.calendar.options.options.animationDuration,i=this.calendar.calendarPainter.domainsContainerPainter,o=r.getFromPosition("top"),a=r.getFromPosition("right"),s=r.getFromPosition("bottom"),l=r.getFromPosition("left"),c=r.getHeightFromPosition("top"),u=r.getWidthFromPosition("left"),f=[],d=0;o.forEach(function(p){f.push(p.root.transition().duration(n).attr("y",d).attr("x",u).end()),d+=p.options.dimensions.height});var h=0;return l.forEach(function(p){f.push(p.root.transition().duration(n).attr("x",h).attr("y",c).end()),h+=p.options.dimensions.width}),s.forEach(function(p){f.push(p.root.transition().duration(n).attr("x",u).attr("y",c+i.height()).end())}),h+=i.width(),a.forEach(function(p){f.push(p.root.transition().duration(n).attr("x",h).attr("y",c).end()),h+=p.options.dimensions.width}),f}},{key:"insideWidth",value:function(){return this.calendar.pluginManager.getWidthFromPosition("left")+this.calendar.pluginManager.getWidthFromPosition("right")}},{key:"insideHeight",value:function(){return this.calendar.pluginManager.getHeightFromPosition("top")+this.calendar.pluginManager.getHeightFromPosition("bottom")}}]),e})(),ju,h3,p3,Zj,bSe=".ch-container",ySe=(function(){function e(t){ur(this,e),ju.add(this),this.calendar=t,this.dimensions={width:0,height:0},this.root=null,this.domainsContainerPainter=new mSe(t),this.pluginPainter=new vSe(t)}return fr(e,[{key:"setup",value:function(){var r=this.calendar.options.options,n=r.itemSelector,i=r.theme;return this.root||(this.root=Hg(n).append("svg").attr("data-theme",i).attr("class",bSe.slice(1)),this.domainsContainerPainter.setup()),this.calendar.pluginManager.setupAll(),!0}},{key:"paint",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vt.SCROLL_NONE,n=this.domainsContainerPainter.paint(r).concat(this.pluginPainter.paint()).concat(this.domainsContainerPainter.updatePosition());return ge(this,ju,"m",Zj).call(this),Promise.allSettled(n)}},{key:"destroy",value:function(){var r=this.calendar.pluginManager.destroyAll().concat(this.domainsContainerPainter.destroy());return this.root&&r.push(this.root.transition().duration(this.calendar.options.options.animationDuration).attr("width",0).attr("height",0).remove().end()),Promise.allSettled(r)}}]),e})();ju=new WeakSet,h3=function(){return this.domainsContainerPainter.height()+this.pluginPainter.insideHeight()},p3=function(){return this.domainsContainerPainter.width()+this.pluginPainter.insideWidth()},Zj=function(){var t=this.calendar.options.options,r=ge(this,ju,"m",p3).call(this),n=ge(this,ju,"m",h3).call(this);this.root.transition().duration(t.animationDuration).attr("width",r).attr("height",n),(r!==this.dimensions.width||n!==this.dimensions.height)&&this.calendar.eventEmitter.emit("resize",r,n,this.dimensions.width,this.dimensions.height),this.dimensions={width:r,height:n}};var $Se=typeof global=="object"&&global&&global.Object===Object&&global,ez=$Se,wSe=typeof self=="object"&&self&&self.Object===Object&&self,ASe=ez||wSe||Function("return this")(),Ii=ASe,xSe=Ii.Symbol,ia=xSe,tz=Object.prototype,SSe=tz.hasOwnProperty,CSe=tz.toString,qc=ia?ia.toStringTag:void 0;function ESe(e){var t=SSe.call(e,qc),r=e[qc];try{e[qc]=void 0;var n=!0}catch{}var i=CSe.call(e);return n&&(t?e[qc]=r:delete e[qc]),i}var kSe=Object.prototype,OSe=kSe.toString;function TSe(e){return OSe.call(e)}var ISe="[object Null]",MSe="[object Undefined]",g3=ia?ia.toStringTag:void 0;function pa(e){return e==null?e===void 0?MSe:ISe:g3&&g3 in Object(e)?ESe(e):TSe(e)}function io(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var PSe="[object AsyncFunction]",DSe="[object Function]",_Se="[object GeneratorFunction]",NSe="[object Proxy]";function rd(e){if(!io(e))return!1;var t=pa(e);return t==DSe||t==_Se||t==PSe||t==NSe}var LSe=Ge,RSe=Oi,rz=Gv,BSe=_e,FSe=BSe(function(){rz(1)});LSe({target:"Object",stat:!0,forced:FSe},{keys:function(t){return rz(RSe(t))}});var jSe=Jt,zSe=go,HSe=ut,VSe=HSe("match"),USe=function(e){var t;return jSe(e)&&((t=e[VSe])!==void 0?!!t:zSe(e)==="RegExp")},WSe=USe,KSe=TypeError,nz=function(e){if(WSe(e))throw new KSe("The method doesn't accept regular expressions");return e},GSe=ut,qSe=GSe("match"),iz=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[qSe]=!1,"/./"[e](t)}catch{}}return!1},QSe=Ge,oz=nC,YSe=Jf.f,JSe=YS,m3=ha,XSe=nz,ZSe=Os,eCe=iz,v3=oz("".startsWith),tCe=oz("".slice),rCe=Math.min,az=eCe("startsWith"),nCe=!az&&!!(function(){var e=YSe(String.prototype,"startsWith");return e&&!e.writable})();QSe({target:"String",proto:!0,forced:!nCe&&!az},{startsWith:function(t){var r=m3(ZSe(this));XSe(t);var n=JSe(rCe(arguments.length>1?arguments[1]:void 0,r.length)),i=m3(t);return v3?v3(r,i,n):tCe(r,n,n+i.length)===i}});var sz=Br,iCe=_e,lz=ze,oCe=hC,aCe=Gv,sCe=mo,lCe=Lv.f,cz=lz(lCe),cCe=lz([].push),uCe=sz&&iCe(function(){var e=Object.create(null);return e[2]=2,!cz(e,2)}),fCe=function(e){return function(t){for(var r=sCe(t),n=aCe(r),i=uCe&&oCe(r)===null,o=n.length,a=0,s=[],l;o>a;)l=n[a++],(!sz||(i?l in r:cz(r,l)))&&cCe(s,e?[l,r[l]]:r[l]);return s}},dCe={entries:fCe(!0)},hCe=Ge,pCe=dCe.entries;hCe({target:"Object",stat:!0},{entries:function(t){return pCe(t)}});function b3(e){return e!=null&&!Number.isNaN(e)}function gCe(e,t){return+b3(t)-+b3(e)||Qo(e,t)}function uz(e){return isFinite(e)?e:NaN}function kC(e){return e>0&&isFinite(e)?e:NaN}function fz(e){return e<0&&isFinite(e)?e:NaN}const mCe=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function dz(e,t){return mCe.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const vCe=new Map([["second",Qi],["minute",wv],["hour",xv],["day",pc],["week",Yl],["month",_l],["quarter",_l.every(3)],["half",_l.every(6)],["year",yi],["monday",$f],["tuesday",g9],["wednesday",m9],["thursday",cs],["friday",v9],["saturday",b9],["sunday",Yl]]),bCe=new Map([["second",Qi],["minute",Av],["hour",Sv],["day",qf],["week",Jl],["month",Nl],["quarter",Nl.every(3)],["half",Nl.every(6)],["year",$i],["monday",wf],["tuesday",y9],["wednesday",$9],["thursday",us],["friday",w9],["saturday",A9],["sunday",Jl]]);function yCe(e){const t=vCe.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function $Ce(e){const t=bCe.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const hz=Object.getPrototypeOf(Uint8Array),wCe=Object.prototype.toString,ACe=e=>()=>e;function y3(e){return e instanceof hz?e:Zv(e,xCe,Float64Array)}function xCe(e){return e==null?NaN:Number(e)}function SCe(e){return Zv(e,CCe)}function CCe(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?dz(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function pz(e){return e==null||e instanceof Array||e instanceof hz?e:Array.from(e)}function Zv(e,t,r=Array){return e==null?e:e instanceof r?e.map(t):r.from(e,t)}function K2(e,t=Array){return e instanceof t?e.slice():t.from(e)}function ECe(e){return(e==null?void 0:e.toString)===wCe}function kCe(e){return ECe(e)&&(e.type!==void 0||e.domain!==void 0)}function OCe(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const r=Math.abs(e);return e<0?{floor:n=>Math.floor(n*r)/r,offset:n=>(n*r+1)/r,range:(n,i)=>n2(Math.ceil(n*r),i*r).map(o=>o/r)}:{floor:n=>Math.floor(n/r)*r,offset:n=>n+r,range:(n,i)=>n2(Math.ceil(n/r),i/r).map(o=>o*r)}}if(typeof e=="string")return(t==="time"?yCe:$Ce)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function e0(e,t){if(e=OCe(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function TCe(e,t){if(e=e0(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function $3(e){for(const t of e){if(t==null)continue;const r=typeof t;return r==="string"||r==="boolean"}}function G2(e){for(const t of e)if(t!=null)return t instanceof Date}function ICe(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&dz(t)}function MCe(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function PCe(e){return e==null||DCe(e)}function DCe(e){return/^\s*none\s*$/i.test(e)}function OC(e){if(e==null)return;const t=e[0],r=e[e.length-1];return gv(t,r)}const zo=Symbol("position"),Ai=Symbol("color"),t0=Symbol("radius"),r0=Symbol("length"),n0=Symbol("opacity"),i0=Symbol("symbol"),ar=new Map([["x",zo],["y",zo],["fx",zo],["fy",zo],["r",t0],["color",Ai],["opacity",n0],["symbol",i0],["length",r0]]),_Ce=Math.sqrt(3),NCe=2/_Ce,LCe={draw(e,t){const r=Math.sqrt(t/Math.PI),n=r*NCe,i=n/2;e.moveTo(0,n),e.lineTo(r,i),e.lineTo(r,-i),e.lineTo(0,-n),e.lineTo(-r,-i),e.lineTo(-r,i),e.closePath()}},RCe=new Map([["asterisk",HB],["circle",BS],["cross",VB],["diamond",WB],["diamond2",KB],["hexagon",LCe],["plus",GB],["square",qB],["square2",QB],["star",JB],["times",tF],["triangle",XB],["triangle2",ZB],["wye",eF]]);function BCe(e){return e&&typeof e.draw=="function"}function gz(e){if(e==null||BCe(e))return e;const t=RCe.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function Jy(e){console.warn(e)}const w3=new Map([["accent",upe],["category10",cpe],["dark2",fpe],["paired",dpe],["pastel1",hpe],["pastel2",ppe],["set1",gpe],["set2",mpe],["set3",vpe],["tableau10",bpe],["brbg",Li(_9,N9)],["prgn",Li(L9,R9)],["piyg",Li(B9,F9)],["puor",Li(j9,z9)],["rdbu",Li(d2,rm)],["rdgy",Li(H9,V9)],["rdylbu",Li(h2,nm)],["rdylgn",Li(U9,W9)],["spectral",Li(K9,G9)],["burd",A3(d2,rm)],["buylrd",A3(h2,nm)],["blues",_t(bB,yB)],["greens",_t($B,wB)],["greys",_t(AB,xB)],["oranges",_t(OB,TB)],["purples",_t(SB,CB)],["reds",_t(EB,kB)],["turbo",Ri(LB)],["viridis",Ri(RB)],["magma",Ri(BB)],["inferno",Ri(FB)],["plasma",Ri(jB)],["cividis",Ri(IB)],["cubehelix",Ri(MB)],["warm",Ri(PB)],["cool",Ri(DB)],["bugn",_t(q9,Q9)],["bupu",_t(Y9,J9)],["gnbu",_t(X9,Z9)],["orrd",_t(eB,tB)],["pubu",_t(iB,oB)],["pubugn",_t(rB,nB)],["purd",_t(aB,sB)],["rdpu",_t(lB,cB)],["ylgn",_t(dB,hB)],["ylgnbu",_t(uB,fB)],["ylorbr",_t(pB,gB)],["ylorrd",_t(mB,vB)],["rainbow",x3(_B)],["sinebow",x3(NB)]]);function _t(e,t){return({length:r})=>r===1?[e[3][1]]:r===2?[e[3][1],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?bi(t,r):e[r])}function Li(e,t){return({length:r})=>r===2?[e[3][0],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?bi(t,r):e[r])}function A3(e,t){return({length:r})=>r===2?[e[3][2],e[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?bi(n=>t(1-n),r):e[r].slice().reverse())}function Ri(e){return({length:t})=>bi(e,Math.max(2,Math.floor(t)))}function x3(e){return({length:t})=>bi(e,Math.floor(t)+1).slice(0,-1)}function mz(e){const t=`${e}`.toLowerCase();if(!w3.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return w3.get(t)}function o0(e,t){const r=mz(e),n=typeof r=="function"?r({length:t}):r;return n.length!==t?n.slice(0,t):n}function FCe(e,t="greys"){const r=new Set,[n,i]=o0(t,2);for(const o of e)if(o!=null)if(o===!0)r.add(i);else if(o===!1)r.add(n);else return;return[...r]}const S3=new Map([["brbg",N9],["prgn",R9],["piyg",F9],["puor",z9],["rdbu",rm],["rdgy",V9],["rdylbu",nm],["rdylgn",W9],["spectral",G9],["burd",e=>rm(1-e)],["buylrd",e=>nm(1-e)],["blues",yB],["greens",wB],["greys",xB],["purples",CB],["reds",kB],["oranges",TB],["turbo",LB],["viridis",RB],["magma",BB],["inferno",FB],["plasma",jB],["cividis",IB],["cubehelix",MB],["warm",PB],["cool",DB],["bugn",Q9],["bupu",J9],["gnbu",Z9],["orrd",tB],["pubugn",nB],["pubu",oB],["purd",sB],["rdpu",cB],["ylgnbu",fB],["ylgn",hB],["ylorbr",gB],["ylorrd",vB],["rainbow",_B],["sinebow",NB]]);function TC(e){const t=`${e}`.toLowerCase();if(!S3.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return S3.get(t)}const jCe=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function C3(e){return e!=null&&jCe.has(`${e}`.toLowerCase())}const vz=e=>t=>e(1-t),Xy=[0,1],E3=new Map([["number",dr],["rgb",ss],["hsl",nfe],["hcl",afe],["lab",ife]]);function bz(e){const t=`${e}`.toLowerCase();if(!E3.has(t))throw new Error(`unknown interpolator: ${t}`);return E3.get(t)}function nd(e,t,r,{type:n,nice:i,clamp:o,zero:a,domain:s=$z(e,r),unknown:l,round:c,scheme:u,interval:f,range:d=ar.get(e)===t0?JCe(r,s):ar.get(e)===r0?XCe(r,s):ar.get(e)===n0?Xy:void 0,interpolate:h=ar.get(e)===Ai?u==null&&d!==void 0?ss:TC(u!==void 0?u:n==="cyclical"?"rainbow":"turbo"):c?CS:dr,reverse:p}){if(f=e0(f,n),(n==="cyclical"||n==="sequential")&&(n="linear"),p=!!p,typeof h!="function"&&(h=bz(h)),h.length===1?(p&&(h=vz(h),p=!1),d===void 0&&(d=Float64Array.from(s,(g,m)=>m/(s.length-1)),d.length===2&&(d=Xy)),t.interpolate((d===Xy?ACe:wz)(h))):t.interpolate(h),a){const[g,m]=xS(s);(g>0||m<0)&&(s=K2(s),OC(s)!==Math.sign(g)?s[s.length-1]=0:s[0]=0)}return p&&(s=Yg(s)),t.domain(s).unknown(l),i&&(t.nice(zCe(i,n)),s=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:n,domain:s,range:d,scale:t,interpolate:h,interval:f}}function zCe(e,t){return e===!0?void 0:typeof e=="number"?e:TCe(e,t)}function HCe(e,t,r){return nd(e,n9(),t,r)}function VCe(e,t,r){return yz(e,t,{...r,exponent:.5})}function yz(e,t,{exponent:r=1,...n}){return nd(e,f9().exponent(r),t,{...n,type:"pow"})}function UCe(e,t,{base:r=10,domain:n=ZCe(t),...i}){return nd(e,s9().base(r),t,{...i,domain:n})}function WCe(e,t,{constant:r=1,...n}){return nd(e,c9().constant(r),t,n)}function KCe(e,t,{range:r,quantiles:n=r===void 0?5:(r=[...r]).length,n:i=n,scheme:o="rdylbu",domain:a=eEe(t),unknown:s,interpolate:l,reverse:c}){return r===void 0&&(r=l!==void 0?bi(l,i):ar.get(e)===Ai?o0(o,i):void 0),a.length>0&&(a=d9(a,r===void 0?{length:i}:r).quantiles()),IC(e,t,{domain:a,range:r,reverse:c,unknown:s})}function GCe(e,t,{range:r,n=r===void 0?5:(r=[...r]).length,scheme:i="rdylbu",domain:o=$z(e,t),unknown:a,interpolate:s,reverse:l}){const[c,u]=xS(o);let f;return r===void 0?(f=qg(c,u,n),f[0]<=c&&f.splice(0,1),f[f.length-1]>=u&&f.pop(),n=f.length+1,r=s!==void 0?bi(s,n):ar.get(e)===Ai?o0(i,n):void 0):(f=bi(dr(c,u),n+1).slice(1,-1),c instanceof Date&&(f=f.map(d=>new Date(d)))),OC(pz(o))<0&&f.reverse(),IC(e,t,{domain:f,range:r,reverse:l,unknown:a})}function IC(e,t,{domain:r=[0],unknown:n,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?bi(o,r.length+1):ar.get(e)===Ai?o0(i,r.length+1):void 0,reverse:s}){r=pz(r);const l=OC(r);if(!isNaN(l)&&!qCe(r,l))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=Yg(a)),{type:"threshold",scale:h9(l<0?Yg(r):r,a===void 0?[]:a).unknown(n),domain:r,range:a}}function qCe(e,t){for(let r=1,n=e.length,i=e[0];r<n;++r){const o=gv(i,i=e[r]);if(o!==0&&o!==t)return!1}return!0}function QCe(){return{type:"identity",scale:i9()}}function Sf(e,t=uz){return e.length?[Qg(e,({value:r})=>r===void 0?r:Qg(r,t)),ra(e,({value:r})=>r===void 0?r:ra(r,t))]:[0,1]}function $z(e,t){const r=ar.get(e);return(r===t0||r===n0||r===r0?YCe:Sf)(t)}function YCe(e){return[0,e.length?ra(e,({value:t})=>t===void 0?t:ra(t,uz)):1]}function JCe(e,t){const r=e.find(({radius:a})=>a!==void 0);if(r!==void 0)return[0,r.radius];const n=r2(e,.5,({value:a})=>a===void 0?NaN:r2(a,.25,kC)),i=t.map(a=>3*Math.sqrt(a/n)),o=30/ra(i);return o<1?i.map(a=>a*o):i}function XCe(e,t){const r=xI(e,({value:o})=>o===void 0?NaN:xI(o,Math.abs)),n=t.map(o=>12*o/r),i=60/ra(n);return i<1?n.map(o=>o*i):n}function ZCe(e){for(const{value:t}of e)if(t!==void 0)for(let r of t){if(r>0)return Sf(e,kC);if(r<0)return Sf(e,fz)}return[1,10]}function eEe(e){const t=[];for(const{value:r}of e)if(r!==void 0)for(const n of r)t.push(n);return t}function wz(e){return(t,r)=>n=>e(t+n*(r-t))}function a0(e,t,r,n,{type:i,nice:o,clamp:a,domain:s=Sf(n),unknown:l,pivot:c=0,scheme:u,range:f,symmetric:d=!0,interpolate:h=ar.get(e)===Ai?u==null&&f!==void 0?ss:TC(u!==void 0?u:"rdbu"):dr,reverse:p}){c=+c;let[g,m]=s;if(gv(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,c),m=Math.max(m,c),typeof h!="function"&&(h=bz(h)),f!==void 0&&(h=h.length===1?wz(h)(...f):V7(h,f)),p&&(h=vz(h)),d){const v=r.apply(c),b=v-r.apply(g),y=r.apply(m)-v;b<y?g=r.invert(v-y):b>y&&(m=r.invert(v+b))}return t.domain([g,c,m]).unknown(l).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[g,m],pivot:c,interpolate:h,scale:t}}function tEe(e,t,r){return a0(e,I9(),oEe,t,r)}function rEe(e,t,r){return Az(e,t,{...r,exponent:.5})}function Az(e,t,{exponent:r=1,...n}){return a0(e,D9().exponent(r=+r),lEe(r),t,{...n,type:"diverging-pow"})}function nEe(e,t,{base:r=10,pivot:n=1,domain:i=Sf(t,n<0?fz:kC),...o}){return a0(e,M9().base(r=+r),aEe,t,{domain:i,pivot:n,...o})}function iEe(e,t,{constant:r=1,...n}){return a0(e,P9().constant(r=+r),cEe(r),t,n)}const oEe={apply(e){return e},invert(e){return e}},aEe={apply:Math.log,invert:Math.exp},sEe={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function lEe(e){return e===.5?sEe:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function cEe(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function xz(e,t,r,n){return nd(e,t,r,n)}function uEe(e,t,r){return xz(e,spe(),t,r)}function fEe(e,t,r){return xz(e,lpe(),t,r)}const id=Symbol("ordinal");function Sz(e,t,r,{type:n,interval:i,domain:o,range:a,reverse:s,hint:l}){return i=e0(i,n),o===void 0&&(o=Ez(r,i,e)),(n==="categorical"||n===id)&&(n="ordinal"),s&&(o=Yg(o)),t.domain(o),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:n,domain:o,range:a,scale:t,hint:l,interval:i}}function dEe(e,t,{type:r,interval:n,domain:i,range:o,scheme:a,unknown:s,...l}){n=e0(n,r),i===void 0&&(i=Ez(t,n,e));let c;if(ar.get(e)===i0)c=gEe(t),o=o===void 0?mEe(c):Zv(o,gz);else if(ar.get(e)===Ai&&(o===void 0&&(r==="ordinal"||r===id)&&(o=FCe(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=r==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const u=TC(a),f=o[0],d=o[1]-o[0];o=({length:h})=>bi(p=>u(f+d*p),h)}else o=mz(a);if(s===c2)throw new Error(`implicit unknown on ${e} scale is not supported`);return Sz(e,DS().unknown(s),t,{...l,type:r,domain:i,range:o,hint:c})}function hEe(e,t,{align:r=.5,padding:n=.5,...i}){return Cz(zde().align(r).padding(n),t,i,e)}function pEe(e,t,{align:r=.5,padding:n=.1,paddingInner:i=n,paddingOuter:o=e==="fx"||e==="fy"?0:n,...a}){return Cz(_S().align(r).paddingInner(i).paddingOuter(o),t,a,e)}function Cz(e,t,r,n){let{round:i}=r;return i!==void 0&&e.round(i=!!i),e=Sz(n,e,t,r),e.round=i,e}function Ez(e,t,r){const n=new Tue;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)n.add(a)}if(t!==void 0){const[i,o]=xS(n).map(t.floor,t);return t.range(i,t.offset(o))}if(n.size>1e4&&ar.get(r)===zo)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return Mue(n,gCe)}function k3(e,t){let r;for(const{hint:n}of e){const i=n==null?void 0:n[t];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}function gEe(e){return{fill:k3(e,"fill"),stroke:k3(e,"stroke")}}function mEe(e){return PCe(e.fill)?Tpe:Ope}function vEe(e,t,r){return bEe(e,void 0,{...t})}function bEe(e,t=[],r={}){const n=yEe(e,t,r);if(r.type===void 0&&r.domain===void 0&&r.range===void 0&&r.interval==null&&e!=="fx"&&e!=="fy"&&$Ee({type:n})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(G2)?Jy(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Zs(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Zs(n)}".`):i.some(ICe)?Jy(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Zs(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Zs(n)}".`):i.some(MCe)&&Jy(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Zs(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Zs(n)}".`)}switch(r.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=mh(t,r,y3);break;case"identity":switch(ar.get(e)){case zo:r=mh(t,r,y3);break;case i0:r=mh(t,r,wEe);break}break;case"utc":case"time":r=mh(t,r,SCe);break}switch(n){case"diverging":return tEe(e,t,r);case"diverging-sqrt":return rEe(e,t,r);case"diverging-pow":return Az(e,t,r);case"diverging-log":return nEe(e,t,r);case"diverging-symlog":return iEe(e,t,r);case"categorical":case"ordinal":case id:return dEe(e,t,r);case"cyclical":case"sequential":case"linear":return HCe(e,t,r);case"sqrt":return VCe(e,t,r);case"threshold":return IC(e,t,r);case"quantile":return KCe(e,t,r);case"quantize":return GCe(e,t,r);case"pow":return yz(e,t,r);case"log":return UCe(e,t,r);case"symlog":return WCe(e,t,r);case"utc":return fEe(e,t,r);case"time":return uEe(e,t,r);case"point":return hEe(e,t,r);case"band":return pEe(e,t,r);case"identity":return ar.get(e)===zo?QCe():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function Zs(e){return typeof e=="symbol"?e.description:e}const O3={toString:()=>"projection"};function yEe(e,t,{type:r,domain:n,range:i,scheme:o,pivot:a,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(r=O3);for(const{type:u}of t)if(u!==void 0){if(r===void 0)r=u;else if(r!==u)throw new Error(`scale incompatible with channel: ${r} !== ${u}`)}if(r===O3)return;if(r!==void 0)return r;if(n===void 0&&!t.some(({value:u})=>u!==void 0))return;const l=ar.get(e);if(l===t0)return"sqrt";if(l===n0||l===r0)return"linear";if(l===i0)return"ordinal";if((n||i||[]).length>2)return Zy(l);if(n!==void 0)return $3(n)?Zy(l):G2(n)?"utc":l===Ai&&(a!=null||C3(o))?"diverging":"linear";const c=t.map(({value:u})=>u).filter(u=>u!==void 0);return c.some($3)?Zy(l):c.some(G2)?"utc":l===Ai&&(a!=null||C3(o))?"diverging":"linear"}function Zy(e){switch(e){case zo:return"point";case Ai:return id;default:return"ordinal"}}function $Ee({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===id}function mh(e,{domain:t,...r},n){for(const i of e)i.value!==void 0&&(i.value=n(i.value));return{domain:t===void 0?t:n(t),...r}}function wEe(e){return Zv(e,gz)}function AEe(e={}){let t;for(const r in e)if(ar.has(r)&&kCe(e[r])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=xEe(vEe(r,e[r]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function xEe({scale:e,type:t,domain:r,range:n,interpolate:i,interval:o,transform:a,percent:s,pivot:l}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const c=e.unknown?e.unknown():void 0;return{type:t,domain:K2(r),...n!==void 0&&{range:K2(n)},...a!==void 0&&{transform:a},...s&&{percent:s},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function SEe(e){try{var t=Object.keys(e)[0];return AEe(Ppe({},t,Object.assign(Object.assign({},e[t]),{clamp:!0})))}catch{return null}}function CEe(e,t){var r={};return t.hasOwnProperty("opacity")?(r.fill=function(){return t.opacity.baseColor||lAe},r["fill-opacity"]=function(n){return e==null?void 0:e.apply(n)}):r.fill=function(n){return typeof n=="string"&&(n!=null&&n.startsWith("#"))?n:e==null?void 0:e.apply(n)},r}function EEe(e,t,r,n){Object.entries(CEe(t,r)).forEach(function(i){var o=rF(i,2),a=o[0],s=o[1];return e.style(a,function(l){return s(l[n])})})}var kEe=(function(){function e(t){ur(this,e),this.calendar=t}return fr(e,[{key:"populate",value:function(){var r=this.calendar,n=r.options.options,i=n.scale,o=n.subDomain,a=SEe(i);r.calendarPainter.root.selectAll(".ch-domain").selectAll("svg").selectAll("g").data(function(s){return r.domainCollection.get(s)||[]}).call(function(s){EEe(s.select("rect"),a,i,"v")}).call(function(s){s.select("text").attr("style",function(l){var c=Wg(a==null?void 0:a.apply(l.v)).l>60?"#000":"#fff",u=o.color||(l.v?c:null);return rd(u)&&(u=u(l.t,l.v,a==null?void 0:a.apply(l.v))),u?"fill: ".concat(u,";"):null}).text(function(l,c,u){return r.dateHelper.format(l.t,o.label,l.v,u[c])})}).call(function(){r.eventEmitter.emit("fill")})}}]),e})();function OEe(){this.__data__=[],this.size=0}function od(e,t){return e===t||e!==e&&t!==t}function s0(e,t){for(var r=e.length;r--;)if(od(e[r][0],t))return r;return-1}var TEe=Array.prototype,IEe=TEe.splice;function MEe(e){var t=this.__data__,r=s0(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():IEe.call(t,r,1),--this.size,!0}function PEe(e){var t=this.__data__,r=s0(t,e);return r<0?void 0:t[r][1]}function DEe(e){return s0(this.__data__,e)>-1}function _Ee(e,t){var r=this.__data__,n=s0(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function bo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bo.prototype.clear=OEe;bo.prototype.delete=MEe;bo.prototype.get=PEe;bo.prototype.has=DEe;bo.prototype.set=_Ee;function NEe(){this.__data__=new bo,this.size=0}function LEe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function REe(e){return this.__data__.get(e)}function BEe(e){return this.__data__.has(e)}var FEe=Ii["__core-js_shared__"],e1=FEe,T3=(function(){var e=/[^.]+$/.exec(e1&&e1.keys&&e1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function jEe(e){return!!T3&&T3 in e}var zEe=Function.prototype,HEe=zEe.toString;function Ds(e){if(e!=null){try{return HEe.call(e)}catch{}try{return e+""}catch{}}return""}var VEe=/[\\^$.*+?()[\]{}|]/g,UEe=/^\[object .+?Constructor\]$/,WEe=Function.prototype,KEe=Object.prototype,GEe=WEe.toString,qEe=KEe.hasOwnProperty,QEe=RegExp("^"+GEe.call(qEe).replace(VEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function YEe(e){if(!io(e)||jEe(e))return!1;var t=rd(e)?QEe:UEe;return t.test(Ds(e))}function JEe(e,t){return e==null?void 0:e[t]}function _s(e,t){var r=JEe(e,t);return YEe(r)?r:void 0}var XEe=_s(Ii,"Map"),Cf=XEe,ZEe=_s(Object,"create"),Ef=ZEe;function eke(){this.__data__=Ef?Ef(null):{},this.size=0}function tke(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var rke="__lodash_hash_undefined__",nke=Object.prototype,ike=nke.hasOwnProperty;function oke(e){var t=this.__data__;if(Ef){var r=t[e];return r===rke?void 0:r}return ike.call(t,e)?t[e]:void 0}var ake=Object.prototype,ske=ake.hasOwnProperty;function lke(e){var t=this.__data__;return Ef?t[e]!==void 0:ske.call(t,e)}var cke="__lodash_hash_undefined__";function uke(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ef&&t===void 0?cke:t,this}function ps(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ps.prototype.clear=eke;ps.prototype.delete=tke;ps.prototype.get=oke;ps.prototype.has=lke;ps.prototype.set=uke;function fke(){this.size=0,this.__data__={hash:new ps,map:new(Cf||bo),string:new ps}}function dke(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function l0(e,t){var r=e.__data__;return dke(t)?r[typeof t=="string"?"string":"hash"]:r.map}function hke(e){var t=l0(this,e).delete(e);return this.size-=t?1:0,t}function pke(e){return l0(this,e).get(e)}function gke(e){return l0(this,e).has(e)}function mke(e,t){var r=l0(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function yo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yo.prototype.clear=fke;yo.prototype.delete=hke;yo.prototype.get=pke;yo.prototype.has=gke;yo.prototype.set=mke;var vke=200;function bke(e,t){var r=this.__data__;if(r instanceof bo){var n=r.__data__;if(!Cf||n.length<vke-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new yo(n)}return r.set(e,t),this.size=r.size,this}function Xi(e){var t=this.__data__=new bo(e);this.size=t.size}Xi.prototype.clear=NEe;Xi.prototype.delete=LEe;Xi.prototype.get=REe;Xi.prototype.has=BEe;Xi.prototype.set=bke;var yke=(function(){try{var e=_s(Object,"defineProperty");return e({},"",{}),e}catch{}})(),pm=yke;function MC(e,t,r){t=="__proto__"&&pm?pm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function q2(e,t,r){(r!==void 0&&!od(e[t],r)||r===void 0&&!(t in e))&&MC(e,t,r)}function $ke(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var l=a[++i];if(r(o[l],l,o)===!1)break}return t}}var wke=$ke(),Ake=wke,kz=typeof qr=="object"&&qr&&!qr.nodeType&&qr,I3=kz&&typeof Qr=="object"&&Qr&&!Qr.nodeType&&Qr,xke=I3&&I3.exports===kz,M3=xke?Ii.Buffer:void 0;M3&&M3.allocUnsafe;function Ske(e,t){return e.slice()}var Cke=Ii.Uint8Array,gm=Cke;function Eke(e){var t=new e.constructor(e.byteLength);return new gm(t).set(new gm(e)),t}function kke(e,t){var r=Eke(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function Oke(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var P3=Object.create,Tke=(function(){function e(){}return function(t){if(!io(t))return{};if(P3)return P3(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})(),Ike=Tke;function Oz(e,t){return function(r){return e(t(r))}}var Mke=Oz(Object.getPrototypeOf,Object),Tz=Mke,Pke=Object.prototype;function PC(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Pke;return e===r}function Dke(e){return typeof e.constructor=="function"&&!PC(e)?Ike(Tz(e)):{}}function oo(e){return e!=null&&typeof e=="object"}var _ke="[object Arguments]";function D3(e){return oo(e)&&pa(e)==_ke}var Iz=Object.prototype,Nke=Iz.hasOwnProperty,Lke=Iz.propertyIsEnumerable,Rke=D3((function(){return arguments})())?D3:function(e){return oo(e)&&Nke.call(e,"callee")&&!Lke.call(e,"callee")},mm=Rke,Bke=9007199254740991;function DC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Bke}function c0(e){return e!=null&&DC(e.length)&&!rd(e)}function Fke(e){return oo(e)&&c0(e)}function jke(){return!1}var Mz=typeof qr=="object"&&qr&&!qr.nodeType&&qr,_3=Mz&&typeof Qr=="object"&&Qr&&!Qr.nodeType&&Qr,zke=_3&&_3.exports===Mz,N3=zke?Ii.Buffer:void 0,Hke=N3?N3.isBuffer:void 0,Vke=Hke||jke,vm=Vke,Uke="[object Object]",Wke=Function.prototype,Kke=Object.prototype,Pz=Wke.toString,Gke=Kke.hasOwnProperty,qke=Pz.call(Object);function Qke(e){if(!oo(e)||pa(e)!=Uke)return!1;var t=Tz(e);if(t===null)return!0;var r=Gke.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Pz.call(r)==qke}var Yke="[object Arguments]",Jke="[object Array]",Xke="[object Boolean]",Zke="[object Date]",eOe="[object Error]",tOe="[object Function]",rOe="[object Map]",nOe="[object Number]",iOe="[object Object]",oOe="[object RegExp]",aOe="[object Set]",sOe="[object String]",lOe="[object WeakMap]",cOe="[object ArrayBuffer]",uOe="[object DataView]",fOe="[object Float32Array]",dOe="[object Float64Array]",hOe="[object Int8Array]",pOe="[object Int16Array]",gOe="[object Int32Array]",mOe="[object Uint8Array]",vOe="[object Uint8ClampedArray]",bOe="[object Uint16Array]",yOe="[object Uint32Array]",Ye={};Ye[fOe]=Ye[dOe]=Ye[hOe]=Ye[pOe]=Ye[gOe]=Ye[mOe]=Ye[vOe]=Ye[bOe]=Ye[yOe]=!0;Ye[Yke]=Ye[Jke]=Ye[cOe]=Ye[Xke]=Ye[uOe]=Ye[Zke]=Ye[eOe]=Ye[tOe]=Ye[rOe]=Ye[nOe]=Ye[iOe]=Ye[oOe]=Ye[aOe]=Ye[sOe]=Ye[lOe]=!1;function $Oe(e){return oo(e)&&DC(e.length)&&!!Ye[pa(e)]}function wOe(e){return function(t){return e(t)}}var Dz=typeof qr=="object"&&qr&&!qr.nodeType&&qr,zu=Dz&&typeof Qr=="object"&&Qr&&!Qr.nodeType&&Qr,AOe=zu&&zu.exports===Dz,t1=AOe&&ez.process,xOe=(function(){try{var e=zu&&zu.require&&zu.require("util").types;return e||t1&&t1.binding&&t1.binding("util")}catch{}})(),L3=xOe,R3=L3&&L3.isTypedArray,SOe=R3?wOe(R3):$Oe,_C=SOe;function Q2(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var COe=Object.prototype,EOe=COe.hasOwnProperty;function _z(e,t,r){var n=e[t];(!(EOe.call(e,t)&&od(n,r))||r===void 0&&!(t in e))&&MC(e,t,r)}function kOe(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=void 0;l===void 0&&(l=e[s]),i?MC(r,s,l):_z(r,s,l)}return r}function OOe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var TOe=9007199254740991,IOe=/^(?:0|[1-9]\d*)$/;function u0(e,t){var r=typeof e;return t=t??TOe,!!t&&(r=="number"||r!="symbol"&&IOe.test(e))&&e>-1&&e%1==0&&e<t}var MOe=Object.prototype,POe=MOe.hasOwnProperty;function Nz(e,t){var r=yn(e),n=!r&&mm(e),i=!r&&!n&&vm(e),o=!r&&!n&&!i&&_C(e),a=r||n||i||o,s=a?OOe(e.length,String):[],l=s.length;for(var c in e)(t||POe.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||u0(c,l)))&&s.push(c);return s}function DOe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var _Oe=Object.prototype,NOe=_Oe.hasOwnProperty;function LOe(e){if(!io(e))return DOe(e);var t=PC(e),r=[];for(var n in e)n=="constructor"&&(t||!NOe.call(e,n))||r.push(n);return r}function Lz(e){return c0(e)?Nz(e,!0):LOe(e)}function ROe(e){return kOe(e,Lz(e))}function BOe(e,t,r,n,i,o,a){var s=Q2(e,r),l=Q2(t,r),c=a.get(l);if(c){q2(e,r,c);return}var u=o?o(s,l,r+"",e,t,a):void 0,f=u===void 0;if(f){var d=yn(l),h=!d&&vm(l),p=!d&&!h&&_C(l);u=l,d||h||p?yn(s)?u=s:Fke(s)?u=Oke(s):h?(f=!1,u=Ske(l)):p?(f=!1,u=kke(l)):u=[]:Qke(l)||mm(l)?(u=s,mm(s)?u=ROe(s):(!io(s)||rd(s))&&(u=Dke(l))):f=!1}f&&(a.set(l,u),i(u,l,n,o,a),a.delete(l)),q2(e,r,u)}function Rz(e,t,r,n,i){e!==t&&Ake(t,function(o,a){if(i||(i=new Xi),io(o))BOe(e,t,a,r,Rz,n,i);else{var s=n?n(Q2(e,a),o,a+"",e,t,i):void 0;s===void 0&&(s=o),q2(e,a,s)}},Lz)}function Bz(e){return e}function FOe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var B3=Math.max;function jOe(e,t,r){return t=B3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=B3(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),FOe(e,this,s)}}function zOe(e){return function(){return e}}var HOe=pm?function(e,t){return pm(e,"toString",{configurable:!0,enumerable:!1,value:zOe(t),writable:!0})}:Bz,VOe=HOe,UOe=800,WOe=16,KOe=Date.now;function GOe(e){var t=0,r=0;return function(){var n=KOe(),i=WOe-(n-r);if(r=n,i>0){if(++t>=UOe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qOe=GOe(VOe),QOe=qOe;function YOe(e,t){return QOe(jOe(e,t,Bz),e+"")}function JOe(e,t,r){if(!io(r))return!1;var n=typeof t;return(n=="number"?c0(r)&&u0(t,r.length):n=="string"&&t in r)?od(r[t],e):!1}function XOe(e){return YOe(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&JOe(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t})}var ZOe=XOe(function(e,t,r,n){Rz(e,t,r,n)}),eTe=ZOe,tTe="__lodash_hash_undefined__";function rTe(e){return this.__data__.set(e,tTe),this}function nTe(e){return this.__data__.has(e)}function bm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new yo;++t<r;)this.add(e[t])}bm.prototype.add=bm.prototype.push=rTe;bm.prototype.has=nTe;function iTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function oTe(e,t){return e.has(t)}var aTe=1,sTe=2;function Fz(e,t,r,n,i,o){var a=r&aTe,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,d=!0,h=r&sTe?new bm:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(n)var m=a?n(g,p,f,t,e,o):n(p,g,f,e,t,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!iTe(t,function(v,b){if(!oTe(h,b)&&(p===v||i(p,v,r,n,o)))return h.push(b)})){d=!1;break}}else if(!(p===g||i(p,g,r,n,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function lTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function cTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var uTe=1,fTe=2,dTe="[object Boolean]",hTe="[object Date]",pTe="[object Error]",gTe="[object Map]",mTe="[object Number]",vTe="[object RegExp]",bTe="[object Set]",yTe="[object String]",$Te="[object Symbol]",wTe="[object ArrayBuffer]",ATe="[object DataView]",F3=ia?ia.prototype:void 0,r1=F3?F3.valueOf:void 0;function xTe(e,t,r,n,i,o,a){switch(r){case ATe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wTe:return!(e.byteLength!=t.byteLength||!o(new gm(e),new gm(t)));case dTe:case hTe:case mTe:return od(+e,+t);case pTe:return e.name==t.name&&e.message==t.message;case vTe:case yTe:return e==t+"";case gTe:var s=lTe;case bTe:var l=n&uTe;if(s||(s=cTe),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;n|=fTe,a.set(e,t);var u=Fz(s(e),s(t),n,i,o,a);return a.delete(e),u;case $Te:if(r1)return r1.call(e)==r1.call(t)}return!1}function STe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function CTe(e,t,r){var n=t(e);return yn(e)?n:STe(n,r(e))}function ETe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function kTe(){return[]}var OTe=Object.prototype,TTe=OTe.propertyIsEnumerable,j3=Object.getOwnPropertySymbols,ITe=j3?function(e){return e==null?[]:(e=Object(e),ETe(j3(e),function(t){return TTe.call(e,t)}))}:kTe,MTe=ITe,PTe=Oz(Object.keys,Object),DTe=PTe,_Te=Object.prototype,NTe=_Te.hasOwnProperty;function LTe(e){if(!PC(e))return DTe(e);var t=[];for(var r in Object(e))NTe.call(e,r)&&r!="constructor"&&t.push(r);return t}function RTe(e){return c0(e)?Nz(e):LTe(e)}function z3(e){return CTe(e,RTe,MTe)}var BTe=1,FTe=Object.prototype,jTe=FTe.hasOwnProperty;function zTe(e,t,r,n,i,o){var a=r&BTe,s=z3(e),l=s.length,c=z3(t),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in t:jTe.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var m=a;++f<l;){d=s[f];var v=e[d],b=t[d];if(n)var y=a?n(b,v,d,t,e,o):n(v,b,d,e,t,o);if(!(y===void 0?v===b||i(v,b,r,n,o):y)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var w=e.constructor,$=t.constructor;w!=$&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof $=="function"&&$ instanceof $)&&(g=!1)}return o.delete(e),o.delete(t),g}var HTe=_s(Ii,"DataView"),Y2=HTe,VTe=_s(Ii,"Promise"),J2=VTe,UTe=_s(Ii,"Set"),X2=UTe,WTe=_s(Ii,"WeakMap"),Z2=WTe,H3="[object Map]",KTe="[object Object]",V3="[object Promise]",U3="[object Set]",W3="[object WeakMap]",K3="[object DataView]",GTe=Ds(Y2),qTe=Ds(Cf),QTe=Ds(J2),YTe=Ds(X2),JTe=Ds(Z2),Ma=pa;(Y2&&Ma(new Y2(new ArrayBuffer(1)))!=K3||Cf&&Ma(new Cf)!=H3||J2&&Ma(J2.resolve())!=V3||X2&&Ma(new X2)!=U3||Z2&&Ma(new Z2)!=W3)&&(Ma=function(e){var t=pa(e),r=t==KTe?e.constructor:void 0,n=r?Ds(r):"";if(n)switch(n){case GTe:return K3;case qTe:return H3;case QTe:return V3;case YTe:return U3;case JTe:return W3}return t});var G3=Ma,XTe=1,q3="[object Arguments]",Q3="[object Array]",vh="[object Object]",ZTe=Object.prototype,Y3=ZTe.hasOwnProperty;function eIe(e,t,r,n,i,o){var a=yn(e),s=yn(t),l=a?Q3:G3(e),c=s?Q3:G3(t);l=l==q3?vh:l,c=c==q3?vh:c;var u=l==vh,f=c==vh,d=l==c;if(d&&vm(e)){if(!vm(t))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new Xi),a||_C(e)?Fz(e,t,r,n,i,o):xTe(e,t,l,r,n,i,o);if(!(r&XTe)){var h=u&&Y3.call(e,"__wrapped__"),p=f&&Y3.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,m=p?t.value():t;return o||(o=new Xi),i(g,m,r,n,o)}}return d?(o||(o=new Xi),zTe(e,t,r,n,i,o)):!1}function jz(e,t,r,n,i){return e===t?!0:e==null||t==null||!oo(e)&&!oo(t)?e!==e&&t!==t:eIe(e,t,r,n,jz,i)}function zz(e,t){return jz(e,t)}var tIe=Object.prototype,rIe=tIe.hasOwnProperty;function nIe(e,t){return e!=null&&rIe.call(e,t)}var iIe="[object Symbol]";function NC(e){return typeof e=="symbol"||oo(e)&&pa(e)==iIe}var oIe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aIe=/^\w*$/;function sIe(e,t){if(yn(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||NC(e)?!0:aIe.test(e)||!oIe.test(e)||t!=null&&e in Object(t)}var lIe="Expected a function";function LC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lIe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(LC.Cache||yo),r}LC.Cache=yo;var cIe=500;function uIe(e){var t=LC(e,function(n){return r.size===cIe&&r.clear(),n}),r=t.cache;return t}var fIe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dIe=/\\(\\)?/g,hIe=uIe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(fIe,function(r,n,i,o){t.push(i?o.replace(dIe,"$1"):n||r)}),t}),pIe=hIe;function gIe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var J3=ia?ia.prototype:void 0,X3=J3?J3.toString:void 0;function Hz(e){if(typeof e=="string")return e;if(yn(e))return gIe(e,Hz)+"";if(NC(e))return X3?X3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function mIe(e){return e==null?"":Hz(e)}function RC(e,t){return yn(e)?e:sIe(e,t)?[e]:pIe(mIe(e))}function BC(e){if(typeof e=="string"||NC(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function vIe(e,t,r){t=RC(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=BC(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&DC(i)&&u0(a,i)&&(yn(e)||mm(e)))}function Z3(e,t){return e!=null&&vIe(e,t,nIe)}function bIe(e,t){t=RC(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[BC(t[r++])];return r&&r==n?e:void 0}function bh(e,t,r){var n=e==null?void 0:bIe(e,t);return n===void 0?r:n}function yIe(e,t,r,n){if(!io(e))return e;t=RC(t,e);for(var i=-1,o=t.length,a=o-1,s=e;s!=null&&++i<o;){var l=BC(t[i]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=a){var u=s[l];c=void 0,c===void 0&&(c=io(u)?u:u0(t[i+1])?[]:{})}_z(s,l,c),s=s[l]}return e}function eP(e,t,r){return e==null?e:yIe(e,t,r)}var $Ie="[object String]";function wIe(e){return typeof e=="string"||!yn(e)&&oo(e)&&pa(e)==$Ie}var AIe={range:function(t){return Math.max(+t,1)},"date.highlight":function(t){return Jv(t)},"subDomain.label":function(t){return wIe(t)&&t!==""||rd(t)?t:null}},xIe=(function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AIe;ur(this,e),this.preProcessors=t,this.options={itemSelector:oAe,range:iAe,domain:{type:J2e,gutter:4,padding:[0,0,0,0],dynamicDimension:!0,sort:"asc",label:{text:void 0,position:"bottom",textAlign:"middle",offset:{x:0,y:0},rotate:null,width:100,height:25}},subDomain:{type:X2e,width:Z2e,height:eAe,gutter:tAe,radius:rAe,label:null,color:void 0,sort:"asc"},date:{start:new Date,min:void 0,max:void 0,highlight:[],locale:sAe,timezone:void 0},verticalOrientation:!1,data:{source:"",type:"json",requestInit:{},x:"",y:"",groupY:"sum",defaultValue:null},scale:void 0,animationDuration:nAe,theme:aAe,x:{domainHorizontalLabelWidth:0,domainVerticalLabelHeight:0}}}return fr(e,[{key:"set",value:function(r,n){return!Z3(this.options,r)||zz(bh(this.options,r),n)?!1:(eP(this.options,r,Z3(this.preProcessors,r)?bh(this.preProcessors,r)(n):n),!0)}},{key:"init",value:function(r){var n=this;this.options=Object.assign({},eTe(this.options,r,function(o,a){return Array.isArray(a)?a:void 0}));var i=this.options;Object.keys(this.preProcessors).forEach(function(o){eP(i,o,bh(n.preProcessors,o)(bh(i,o)))}),typeof i.scale>"u"&&this.initScale(),i.x.domainVerticalLabelHeight=i.domain.label.height,i.domain.label.position==="top"||i.domain.label.position==="bottom"?i.x.domainHorizontalLabelWidth=0:(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=i.domain.label.width),(i.domain.label.text===null||i.domain.label.text==="")&&(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=0)}},{key:"initScale",value:function(){this.options.scale={color:{scheme:cAe,type:uAe,domain:fAe}}}}]),e})(),SIe=br,CIe=function(){var e=SIe(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},FC=_e,EIe=ct,jC=EIe.RegExp,Vz=FC(function(){var e=jC("a","y");return e.lastIndex=2,e.exec("abcd")!==null});Vz||FC(function(){return!jC("a","y").sticky});var kIe=Vz||FC(function(){var e=jC("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),OIe={BROKEN_CARET:kIe},TIe=_e,IIe=ct,MIe=IIe.RegExp,PIe=TIe(function(){var e=MIe(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")}),DIe=_e,_Ie=ct,NIe=_Ie.RegExp,LIe=DIe(function(){var e=NIe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),$l=Xt,f0=ze,RIe=ha,BIe=CIe,FIe=OIe,jIe=zS,zIe=qv,HIe=Ms.get,VIe=PIe,UIe=LIe,WIe=jIe("native-string-replace",String.prototype.replace),ym=RegExp.prototype.exec,eA=ym,KIe=f0("".charAt),GIe=f0("".indexOf),qIe=f0("".replace),n1=f0("".slice),tA=(function(){var e=/a/,t=/b*/g;return $l(ym,e,"a"),$l(ym,t,"a"),e.lastIndex!==0||t.lastIndex!==0})(),Uz=FIe.BROKEN_CARET,rA=/()??/.exec("")[1]!==void 0,QIe=tA||rA||Uz||VIe||UIe;QIe&&(eA=function(t){var r=this,n=HIe(r),i=RIe(t),o=n.raw,a,s,l,c,u,f,d;if(o)return o.lastIndex=r.lastIndex,a=$l(eA,o,i),r.lastIndex=o.lastIndex,a;var h=n.groups,p=Uz&&r.sticky,g=$l(BIe,r),m=r.source,v=0,b=i;if(p&&(g=qIe(g,"y",""),GIe(g,"g")===-1&&(g+="g"),b=n1(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&KIe(i,r.lastIndex-1)!==`
`)&&(m="(?: "+m+")",b=" "+b,v++),s=new RegExp("^(?:"+m+")",g)),rA&&(s=new RegExp("^"+m+"$(?!\\s)",g)),tA&&(l=r.lastIndex),c=$l(ym,p?s:r,b),p?c?(c.input=n1(c.input,v),c[0]=n1(c[0],v),c.index=r.lastIndex,r.lastIndex+=c[0].length):r.lastIndex=0:tA&&c&&(r.lastIndex=r.global?c.index+c[0].length:l),rA&&c&&c.length>1&&$l(WIe,c[0],s,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(c[u]=void 0)}),c&&h)for(c.groups=f=zIe(null),u=0;u<h.length;u++)d=h[u],f[d[0]]=c[d[1]];return c});var zC=eA,YIe=Ge,tP=zC;YIe({target:"RegExp",proto:!0,forced:/./.exec!==tP},{exec:tP});var rP=nC,nP=po,JIe=zC,iP=_e,Wz=ut,XIe=gc,ZIe=Wz("species"),i1=RegExp.prototype,eMe=function(e,t,r,n){var i=Wz(e),o=!iP(function(){var c={};return c[i]=function(){return 7},""[e](c)!==7}),a=o&&!iP(function(){var c=!1,u=/a/;return e==="split"&&(u={},u.constructor={},u.constructor[ZIe]=function(){return u},u.flags="",u[i]=/./[i]),u.exec=function(){return c=!0,null},u[i](""),!c});if(!o||!a||r){var s=rP(/./[i]),l=t(i,""[e],function(c,u,f,d,h){var p=rP(c),g=u.exec;return g===JIe||g===i1.exec?o&&!h?{done:!0,value:s(u,f,d)}:{done:!0,value:p(f,u,d)}:{done:!1}});nP(String.prototype,e,l[0]),nP(i1,i,l[1])}n&&XIe(i1[i],"sham",!0)},tMe=mj.charAt,rMe=function(e,t,r){return t+(r?tMe(e,t).length:1)},HC=ze,nMe=Oi,iMe=Math.floor,o1=HC("".charAt),oMe=HC("".replace),a1=HC("".slice),aMe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,sMe=/\$([$&'`]|\d{1,2})/g,lMe=function(e,t,r,n,i,o){var a=r+e.length,s=n.length,l=sMe;return i!==void 0&&(i=nMe(i),l=aMe),oMe(o,l,function(c,u){var f;switch(o1(u,0)){case"$":return"$";case"&":return e;case"`":return a1(t,0,r);case"'":return a1(t,a);case"<":f=i[a1(u,1,-1)];break;default:var d=+u;if(d===0)return c;if(d>s){var h=iMe(d/10);return h===0?c:h<=s?n[h-1]===void 0?o1(u,1):n[h-1]+o1(u,1):c}f=n[d-1]}return f===void 0?"":f})},oP=Xt,cMe=br,uMe=et,fMe=go,dMe=zC,hMe=TypeError,pMe=function(e,t){var r=e.exec;if(uMe(r)){var n=oP(r,e,t);return n!==null&&cMe(n),n}if(fMe(e)==="RegExp")return oP(dMe,e,t);throw new hMe("RegExp#exec called on incompatible receiver")},gMe=_F,aP=Xt,d0=ze,mMe=eMe,vMe=_e,bMe=br,yMe=et,$Me=da,wMe=Fv,AMe=YS,el=ha,xMe=Os,SMe=rMe,CMe=Mv,EMe=lMe,kMe=pMe,OMe=ut,nA=OMe("replace"),TMe=Math.max,IMe=Math.min,MMe=d0([].concat),s1=d0([].push),sP=d0("".indexOf),lP=d0("".slice),PMe=function(e){return e===void 0?e:String(e)},DMe=(function(){return"a".replace(/./,"$0")==="$0"})(),cP=(function(){return/./[nA]?/./[nA]("a","$0")==="":!1})(),_Me=!vMe(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});mMe("replace",function(e,t,r){var n=cP?"$":"$0";return[function(o,a){var s=xMe(this),l=$Me(o)?void 0:CMe(o,nA);return l?aP(l,o,s,a):aP(t,el(s),o,a)},function(i,o){var a=bMe(this),s=el(i);if(typeof o=="string"&&sP(o,n)===-1&&sP(o,"$<")===-1){var l=r(t,a,s,o);if(l.done)return l.value}var c=yMe(o);c||(o=el(o));var u=a.global,f;u&&(f=a.unicode,a.lastIndex=0);for(var d=[],h;h=kMe(a,s),!(h===null||(s1(d,h),!u));){var p=el(h[0]);p===""&&(a.lastIndex=SMe(s,AMe(a.lastIndex),f))}for(var g="",m=0,v=0;v<d.length;v++){h=d[v];for(var b=el(h[0]),y=TMe(IMe(wMe(h.index),s.length),0),w=[],$,A=1;A<h.length;A++)s1(w,PMe(h[A]));var C=h.groups;if(c){var E=MMe([b],w,y,s);C!==void 0&&s1(E,C),$=el(gMe(o,void 0,E))}else $=EMe(b,s,y,w,C,o);y>=m&&(g+=lP(s,m,y)+$,m=y+b.length)}return g+lP(s,m)}]},!_Me||!DMe||cP);var iA,Kz,NMe=(function(){function e(t){ur(this,e),iA.add(this),this.calendar=t}return fr(e,[{key:"getDatas",value:function(r,n,i){return yC(this,void 0,void 0,fs().mark(function o(){var a;return fs().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(typeof r=="string"&&r.length>0)){l.next=2;break}return l.abrupt("return",ge(this,iA,"m",Kz).call(this,r,n,i));case 2:return a=[],Array.isArray(r)&&(a=r),l.abrupt("return",new Promise(function(c){c(a)}));case 5:case"end":return l.stop()}},o,this)}))}},{key:"parseURI",value:function(r,n,i){var o=this,a=r.replace(/\{\{start=(.*?)\}\}/g,function(s,l){return o.calendar.dateHelper.date(n).format(l)});return a=a.replace(/\{\{end=(.*?)\}\}/g,function(s,l){return o.calendar.dateHelper.date(i).format(l)}),a}}]),e})();iA=new WeakSet,Kz=function(t,r,n){var i=this.calendar.options.options.data,o=i.type,a=i.requestInit,s=this.parseURI(t,r,n);switch(o){case"json":return Tde(s,a);case"csv":return kde(s,a);case"tsv":return Ede("	",s,a);case"txt":return IS(s,a);default:return new Promise(function(l){l([])})}};var LMe=Br,RMe=Pv.EXISTS,Gz=ze,BMe=tC,qz=Function.prototype,FMe=Gz(qz.toString),Qz=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,jMe=Gz(Qz.exec),zMe="name";LMe&&!RMe&&BMe(qz,zMe,{configurable:!0,get:function(){try{return jMe(Qz,FMe(this))[1]}catch{return""}}});var Yz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){var r=1e3,n=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",c="day",u="week",f="month",d="quarter",h="year",p="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var k=["th","st","nd","rd"],x=S%100;return"["+S+(k[(x-20)%10]||k[x]||k[0])+"]"}},y=function(S,k,x){var P=String(S);return!P||P.length>=k?S:""+Array(k+1-P.length).join(x)+S},w={s:y,z:function(S){var k=-S.utcOffset(),x=Math.abs(k),P=Math.floor(x/60),I=x%60;return(k<=0?"+":"-")+y(P,2,"0")+":"+y(I,2,"0")},m:function S(k,x){if(k.date()<x.date())return-S(x,k);var P=12*(x.year()-k.year())+(x.month()-k.month()),I=k.clone().add(P,f),L=x-I<0,V=k.clone().add(P+(L?-1:1),f);return+(-(P+(x-I)/(L?I-V:V-I))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:f,y:h,w:u,d:c,D:p,h:l,m:s,s:a,ms:o,Q:d}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},$="en",A={};A[$]=b;var C="$isDayjsObject",E=function(S){return S instanceof O||!(!S||!S[C])},_=function S(k,x,P){var I;if(!k)return $;if(typeof k=="string"){var L=k.toLowerCase();A[L]&&(I=L),x&&(A[L]=x,I=L);var V=k.split("-");if(!I&&V.length>1)return S(V[0])}else{var U=k.name;A[U]=k,I=U}return!P&&I&&($=I),I||!P&&$},N=function(S,k){if(E(S))return S.clone();var x=typeof k=="object"?k:{};return x.date=S,x.args=arguments,new O(x)},M=w;M.l=_,M.i=E,M.w=function(S,k){return N(S,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var O=(function(){function S(x){this.$L=_(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[C]=!0}var k=S.prototype;return k.parse=function(x){this.$d=(function(P){var I=P.date,L=P.utc;if(I===null)return new Date(NaN);if(M.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var V=I.match(m);if(V){var U=V[2]-1||0,ae=(V[7]||"0").substring(0,3);return L?new Date(Date.UTC(V[1],U,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ae)):new Date(V[1],U,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ae)}}return new Date(I)})(x),this.init()},k.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},k.$utils=function(){return M},k.isValid=function(){return this.$d.toString()!==g},k.isSame=function(x,P){var I=N(x);return this.startOf(P)<=I&&I<=this.endOf(P)},k.isAfter=function(x,P){return N(x)<this.startOf(P)},k.isBefore=function(x,P){return this.endOf(P)<N(x)},k.$g=function(x,P,I){return M.u(x)?this[P]:this.set(I,x)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(x,P){var I=this,L=!!M.u(P)||P,V=M.p(x),U=function(q,X){var ce=M.w(I.$u?Date.UTC(I.$y,X,q):new Date(I.$y,X,q),I);return L?ce:ce.endOf(c)},ae=function(q,X){return M.w(I.toDate()[q].apply(I.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(X)),I)},ne=this.$W,pe=this.$M,xe=this.$D,qe="set"+(this.$u?"UTC":"");switch(V){case h:return L?U(1,0):U(31,11);case f:return L?U(1,pe):U(0,pe+1);case u:var Y=this.$locale().weekStart||0,de=(ne<Y?ne+7:ne)-Y;return U(L?xe-de:xe+(6-de),pe);case c:case p:return ae(qe+"Hours",0);case l:return ae(qe+"Minutes",1);case s:return ae(qe+"Seconds",2);case a:return ae(qe+"Milliseconds",3);default:return this.clone()}},k.endOf=function(x){return this.startOf(x,!1)},k.$set=function(x,P){var I,L=M.p(x),V="set"+(this.$u?"UTC":""),U=(I={},I[c]=V+"Date",I[p]=V+"Date",I[f]=V+"Month",I[h]=V+"FullYear",I[l]=V+"Hours",I[s]=V+"Minutes",I[a]=V+"Seconds",I[o]=V+"Milliseconds",I)[L],ae=L===c?this.$D+(P-this.$W):P;if(L===f||L===h){var ne=this.clone().set(p,1);ne.$d[U](ae),ne.init(),this.$d=ne.set(p,Math.min(this.$D,ne.daysInMonth())).$d}else U&&this.$d[U](ae);return this.init(),this},k.set=function(x,P){return this.clone().$set(x,P)},k.get=function(x){return this[M.p(x)]()},k.add=function(x,P){var I,L=this;x=Number(x);var V=M.p(P),U=function(pe){var xe=N(L);return M.w(xe.date(xe.date()+Math.round(pe*x)),L)};if(V===f)return this.set(f,this.$M+x);if(V===h)return this.set(h,this.$y+x);if(V===c)return U(1);if(V===u)return U(7);var ae=(I={},I[s]=n,I[l]=i,I[a]=r,I)[V]||1,ne=this.$d.getTime()+x*ae;return M.w(ne,this)},k.subtract=function(x,P){return this.add(-1*x,P)},k.format=function(x){var P=this,I=this.$locale();if(!this.isValid())return I.invalidDate||g;var L=x||"YYYY-MM-DDTHH:mm:ssZ",V=M.z(this),U=this.$H,ae=this.$m,ne=this.$M,pe=I.weekdays,xe=I.months,qe=I.meridiem,Y=function(X,ce,H,He){return X&&(X[ce]||X(P,L))||H[ce].slice(0,He)},de=function(X){return M.s(U%12||12,X,"0")},q=qe||function(X,ce,H){var He=X<12?"AM":"PM";return H?He.toLowerCase():He};return L.replace(v,(function(X,ce){return ce||(function(H){switch(H){case"YY":return String(P.$y).slice(-2);case"YYYY":return M.s(P.$y,4,"0");case"M":return ne+1;case"MM":return M.s(ne+1,2,"0");case"MMM":return Y(I.monthsShort,ne,xe,3);case"MMMM":return Y(xe,ne);case"D":return P.$D;case"DD":return M.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return Y(I.weekdaysMin,P.$W,pe,2);case"ddd":return Y(I.weekdaysShort,P.$W,pe,3);case"dddd":return pe[P.$W];case"H":return String(U);case"HH":return M.s(U,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return q(U,ae,!0);case"A":return q(U,ae,!1);case"m":return String(ae);case"mm":return M.s(ae,2,"0");case"s":return String(P.$s);case"ss":return M.s(P.$s,2,"0");case"SSS":return M.s(P.$ms,3,"0");case"Z":return V}return null})(X)||V.replace(":","")}))},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(x,P,I){var L,V=this,U=M.p(P),ae=N(x),ne=(ae.utcOffset()-this.utcOffset())*n,pe=this-ae,xe=function(){return M.m(V,ae)};switch(U){case h:L=xe()/12;break;case f:L=xe();break;case d:L=xe()/3;break;case u:L=(pe-ne)/6048e5;break;case c:L=(pe-ne)/864e5;break;case l:L=pe/i;break;case s:L=pe/n;break;case a:L=pe/r;break;default:L=pe}return I?L:M.a(L)},k.daysInMonth=function(){return this.endOf(f).$D},k.$locale=function(){return A[this.$L]},k.locale=function(x,P){if(!x)return this.$L;var I=this.clone(),L=_(x,P,!0);return L&&(I.$L=L),I},k.clone=function(){return M.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},S})(),D=O.prototype;return N.prototype=D,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",c],["$M",f],["$y",h],["$D",p]].forEach((function(S){D[S[1]]=function(k){return this.$g(k,S[0],S[1])}})),N.extend=function(S,k){return S.$i||(S(k,O,N),S.$i=!0),N},N.locale=_,N.isDayjs=E,N.unix=function(S){return N(1e3*S)},N.en=A[$],N.Ls=A,N.p={},N}))})(Yz);var HMe=Yz.exports,Xe=vr(HMe),Jz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){var r="week",n="year";return function(i,o,a){var s=o.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=a(this).startOf(n).add(1,n).date(c),f=a(this).endOf(r);if(u.isBefore(f))return 1}var d=a(this).startOf(n).date(c).startOf(r).subtract(1,"millisecond"),h=this.diff(d,r,!0);return h<0?a(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}}))})(Jz);var VMe=Jz.exports,UMe=vr(VMe),Xz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){return function(r,n,i){n.prototype.dayOfYear=function(o){var a=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return o==null?a:this.add(o-a,"day")}}}))})(Xz);var WMe=Xz.exports,KMe=vr(WMe),Zz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){return function(r,n){n.prototype.weekday=function(i){var o=this.$locale().weekStart||0,a=this.$W,s=(a<o?a+7:a)-o;return this.$utils().u(i)?s:this.subtract(s,"day").add(i,"day")}}}))})(Zz);var GMe=Zz.exports,qMe=vr(GMe),eH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){return function(r,n,i){var o=function(a,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter((function(u){return u})))[0];for(var c=1;c<s.length;c+=1)s[c].isValid()&&!s[c][a](l)||(l=s[c]);return l};i.max=function(){var a=[].slice.call(arguments,0);return o("isAfter",a)},i.min=function(){var a=[].slice.call(arguments,0);return o("isBefore",a)}}}))})(eH);var QMe=eH.exports,YMe=vr(QMe),tH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){return function(r,n){n.prototype.isoWeeksInYear=function(){var i=this.isLeapYear(),o=this.endOf("y").day();return o===4||i&&o===5?53:52}}}))})(tH);var JMe=tH.exports,XMe=vr(JMe),rH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){var r="day";return function(n,i,o){var a=function(c){return c.add(4-c.isoWeekday(),r)},s=i.prototype;s.isoWeekYear=function(){return a(this).year()},s.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),r);var u,f,d,h,p=a(this),g=(u=this.isoWeekYear(),f=this.$u,d=(f?o.utc:o)().year(u).startOf("year"),h=4-d.isoWeekday(),d.isoWeekday()>4&&(h+=7),d.add(h,r));return p.diff(g,"week")+1},s.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var l=s.startOf;s.startOf=function(c,u){var f=this.$utils(),d=!!f.u(u)||u;return f.p(c)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(c,u)}}}))})(rH);var ZMe=rH.exports,e5e=vr(ZMe),nH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(nH);var t5e=nH.exports,r5e=vr(t5e),iH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){return function(r,n){var i=n.prototype,o=i.format;i.format=function(a){var s=this,l=this.$locale();if(!this.isValid())return o.bind(this)(a);var c=this.$utils(),u=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return c.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return c.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return c.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}}));return o.bind(this)(u)}}}))})(iH);var n5e=iH.exports,i5e=vr(n5e),oH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,a,s){var l=a.prototype;s.utc=function(g){var m={date:g,utc:!0,args:arguments};return new a(m)},l.utc=function(g){var m=s(this.toDate(),{locale:this.$L,utc:!0});return g?m.add(this.utcOffset(),r):m},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(g,m){var v=this.$utils().u;if(v(g))return this.$u?0:v(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=(function($){$===void 0&&($="");var A=$.match(n);if(!A)return null;var C=(""+A[0]).match(i)||["-",0,0],E=C[0],_=60*+C[1]+ +C[2];return _===0?0:E==="+"?_:-_})(g),g===null))return this;var b=Math.abs(g)<=16?60*g:g,y=this;if(m)return y.$offset=b,y.$u=g===0,y;if(g!==0){var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(y=this.local().add(b+w,r)).$offset=b,y.$x.$localOffset=w}else y=this.utc();return y};var d=l.format;l.format=function(g){var m=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,m)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(g,m,v){if(g&&this.$u===g.$u)return p.call(this,g,m,v);var b=this.local(),y=s(g).local();return p.call(b,y,m,v)}}}))})(oH);var o5e=oH.exports,a5e=vr(o5e),aH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,o,a){var s,l=function(d,h,p){p===void 0&&(p={});var g=new Date(d),m=(function(v,b){b===void 0&&(b={});var y=b.timeZoneName||"short",w=v+"|"+y,$=n[w];return $||($=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:y}),n[w]=$),$})(h,p);return m.formatToParts(g)},c=function(d,h){for(var p=l(d,h),g=[],m=0;m<p.length;m+=1){var v=p[m],b=v.type,y=v.value,w=r[b];w>=0&&(g[w]=parseInt(y,10))}var $=g[3],A=$===24?0:$,C=g[0]+"-"+g[1]+"-"+g[2]+" "+A+":"+g[4]+":"+g[5]+":000",E=+d;return(a.utc(C).valueOf()-(E-=E%1e3))/6e4},u=o.prototype;u.tz=function(d,h){d===void 0&&(d=s);var p=this.utcOffset(),g=this.toDate(),m=g.toLocaleString("en-US",{timeZone:d}),v=Math.round((g-new Date(m))/1e3/60),b=a(m,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(g.getTimezoneOffset()/15)-v,!0);if(h){var y=b.utcOffset();b=b.add(p-y,"minute")}return b.$x.$timezone=d,b},u.offsetName=function(d){var h=this.$x.$timezone||a.tz.guess(),p=l(this.valueOf(),h,{timeZoneName:d}).find((function(g){return g.type.toLowerCase()==="timezonename"}));return p&&p.value};var f=u.startOf;u.startOf=function(d,h){if(!this.$x||!this.$x.$timezone)return f.call(this,d,h);var p=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(p,d,h).tz(this.$x.$timezone,!0)},a.tz=function(d,h,p){var g=p&&h,m=p||h||s,v=c(+a(),m);if(typeof d!="string")return a(d).tz(m);var b=(function(A,C,E){var _=A-60*C*1e3,N=c(_,E);if(C===N)return[_,C];var M=c(_-=60*(N-C)*1e3,E);return N===M?[_,N]:[A-60*Math.min(N,M)*1e3,Math.max(N,M)]})(a.utc(d,g).valueOf(),v,m),y=b[0],w=b[1],$=a(y).utcOffset(w);return $.$x.$timezone=m,$},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(d){s=d}}}))})(aH);var s5e=aH.exports,l5e=vr(s5e),sH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){return function(r,n,i){var o=n.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,p,g){var m=f.name?f:f.$locale(),v=a(m[d]),b=a(m[h]),y=v||b.map((function($){return $.slice(0,p)}));if(!g)return y;var w=m.weekStart;return y.map((function($,A){return y[(A+(w||0))%7]}))},l=function(){return i.Ls[i.locale()]},c=function(f,d){return f.formats[d]||(function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(p,g,m){return g||m.slice(1)}))})(f.formats[d.toUpperCase()])},u=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return c(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return u.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return c(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}}))})(sH);var c5e=sH.exports,u5e=vr(c5e),lH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,o){var a=i.prototype,s=a.format;o.en.formats=r,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=(function(f,d){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(h,p,g){var m=g&&g.toUpperCase();return p||d[g]||r[g]||d[m].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(v,b,y){return b||y.slice(1)}))}))})(l,c===void 0?{}:c);return s.call(this,u)}}}))})(lH);var f5e=lH.exports,d5e=vr(f5e),cH={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(zt,(function(){return function(r,n,i){i.updateLocale=function(o,a){var s=i.Ls[o];if(s)return(a?Object.keys(a):[]).forEach((function(l){s[l]=a[l]})),s}}}))})(cH);var h5e=cH.exports,p5e=vr(h5e);Xe.extend(UMe);Xe.extend(XMe);Xe.extend(e5e);Xe.extend(r5e);Xe.extend(KMe);Xe.extend(qMe);Xe.extend(YMe);Xe.extend(i5e);Xe.extend(a5e);Xe.extend(l5e);Xe.extend(u5e);Xe.extend(d5e);Xe.extend(p5e);var l1="en",g5e=(function(){function e(){ur(this,e);var t;this.locale=l1,this.timezone=Xe.tz.guess(),(typeof window>"u"?"undefined":Ru(window))==="object"&&((t=window).dayjs||(t.dayjs=Xe))}return fr(e,[{key:"setup",value:function(r){var n=r.options;return yC(this,void 0,void 0,fs().mark(function i(){var o,a;return fs().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.timezone=n.date.timezone||Xe.tz.guess(),o=n.date.locale,!(typeof o=="string"&&o!==l1)){l.next=17;break}if((typeof window>"u"?"undefined":Ru(window))!=="object"){l.next=12;break}if(l.t0=window["dayjs_locale_".concat(o)],l.t0){l.next=9;break}return l.next=8,this.loadBrowserLocale(o);case 8:l.t0=l.sent;case 9:a=l.t0,l.next=15;break;case 12:return l.next=14,this.loadNodeLocale(o);case 14:a=l.sent;case 15:Xe.locale(o),this.locale=a;case 17:Ru(o)==="object"&&(o.hasOwnProperty("name")?(Xe.locale(o.name,o),this.locale=o):this.locale=Xe.updateLocale(l1,o));case 18:case"end":return l.stop()}},i,this)}))}},{key:"extend",value:function(r){return Xe.extend(r)}},{key:"getMonthWeekNumber",value:function(r){var n=this.date(r),i=n.startOf("day"),o=n.startOf("month").endOf("week");return i<=o?1:Math.ceil(i.diff(o,"weeks",!0))+1}},{key:"getWeeksCountInMonth",value:function(r){var n=this.date(r);return this.getLastWeekOfMonth(n).diff(this.getFirstWeekOfMonth(n),"week")+1}},{key:"getFirstWeekOfMonth",value:function(r){var n=this.date(r).startOf("month"),i=n.startOf("week");return n.weekday()>4&&(i=i.add(1,"week")),i}},{key:"getLastWeekOfMonth",value:function(r){var n=this.date(r).endOf("month"),i=n.endOf("week");return n.weekday()<4&&(i=i.subtract(1,"week")),i}},{key:"date",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return Xe.isDayjs(r)?r:Xe(r).tz(this.timezone).utcOffset(0).locale(this.locale)}},{key:"format",value:function(r,n){if(typeof n=="function"){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return n.apply(void 0,[r].concat(o))}return typeof n=="string"?this.date(r).format(n):null}},{key:"intervals",value:function(r,n,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=this.date(n),s;typeof i=="number"?s=a.add(i,r):Xe.isDayjs(i)?s=i:s=this.date(i),a=a.startOf(r),s=s.startOf(r);var l=Xe.min(a,s);s=Xe.max(a,s);var c=[];o||(s=s.add(1,"second"));do c.push(+l),l=l.add(1,r);while(l<s);return c}},{key:"loadBrowserLocale",value:function(r){return new Promise(function(n,i){var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/".concat(r,".js"),o.onerror=function(a){i(a)},o.onload=function(){n(window["dayjs_locale_".concat(r)])},document.head.appendChild(o)})}},{key:"loadNodeLocale",value:function(r){return _le(()=>import("dayjs/locale/".concat(r,".js")),[])}}]),e})(),m5e=Ge,v5e=ze,b5e=nz,y5e=Os,uP=ha,$5e=iz,w5e=v5e("".indexOf);m5e({target:"String",proto:!0,forced:!$5e("includes")},{includes:function(t){return!!~w5e(uP(y5e(this)),uP(b5e(t)),arguments.length>1?arguments[1]:void 0)}});var A5e=["json","csv","tsv","txt"];function x5e(e,t){var r=t.domain,n=t.subDomain,i=t.data,o=r.type,a=n.type;if(!e.has(o))throw new Error("'".concat(o,"' is not a valid domain type'"));if(!e.has(a))throw new Error("'".concat(a,"' is not a valid subDomain type'"));if(i.type&&!A5e.includes(i.type))throw new Error("The data type '".concat(i.type,"' is not valid data type"));if(!(e.get(a).allowedDomainType||[]).includes(o))throw new Error("The subDomain.type '".concat(a,"' can not be used together ")+"with the domain type ".concat(o));return!0}var S5e=SC,C5e=Fj;S5e("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},C5e);function E5e(e,t){return new e(t)}function k5e(e,t){return"".concat(new e().name).concat((t==null?void 0:t.key)||"")}var O5e=(function(){function e(t){ur(this,e),this.calendar=t,this.settings=new Map,this.plugins=new Map,this.pendingPaint=new Set}return fr(e,[{key:"add",value:function(r){var n=this;r.forEach(function(i){var o=rF(i,2),a=o[0],s=o[1],l=k5e(a,s),c=n.plugins.get(l);c&&n.settings.get(l)&&zz(n.settings.get(l).options,s)||(n.settings.set(l,{options:s,dirty:!0}),n.plugins.has(l)||n.plugins.set(l,E5e(a,n.calendar)),n.pendingPaint.add(n.plugins.get(l)))})}},{key:"setupAll",value:function(){var r=this;this.plugins.forEach(function(n,i){var o=r.settings.get(i);typeof o<"u"&&o.dirty&&(n.setup(o.options),o.dirty=!1,r.settings.set(i,o))})}},{key:"paintAll",value:function(){return Array.from(this.pendingPaint.values()).map(function(r){return r.paint()})}},{key:"destroyAll",value:function(){return this.allPlugins().map(function(r){return r.destroy()})}},{key:"getFromPosition",value:function(r){return this.allPlugins().filter(function(n){var i;return((i=n.options)===null||i===void 0?void 0:i.position)===r})}},{key:"getHeightFromPosition",value:function(r){return this.getFromPosition(r).map(function(n){return n.options.dimensions.height}).reduce(function(n,i){return n+i},0)}},{key:"getWidthFromPosition",value:function(r){return this.getFromPosition(r).map(function(n){return n.options.dimensions.width}).reduce(function(n,i){return n+i},0)}},{key:"allPlugins",value:function(){return Array.from(this.plugins.values())}}]),e})(),T5e="4.2.4",I5e=function(t){var r=10,n=6,i=["day","hour"];return{name:"minute",allowedDomainType:i,rowsCount:function(){return r},columnsCount:function(){return n},mapping:function(a,s){return t.intervals("minute",a,t.date(s)).map(function(l,c){return{t:l,x:Math.floor(c/r),y:c%r}})},extractUnit:function(a){return t.date(a).startOf("minute").valueOf()}}},M5e=function(t,r){var n=r.domain,i=24,o=6,a=["month","week","day"];return{name:"hour",allowedDomainType:a,rowsCount:function(){return o},columnsCount:function(l){switch(n.type){case"week":return i/o*7;case"month":return i/o*(n.dynamicDimension?t.date(l).daysInMonth():31);case"day":default:return i/o}},mapping:function(l,c){return t.intervals("hour",l,t.date(c)).map(function(u){var f=t.date(u),d=f.hour(),h=f.date(),p=Math.floor(d/o),g=i/o;return n.type==="month"&&(p+=(h-1)*g),n.type==="week"&&(p+=+f.format("d")*g),{t:u,x:p,y:Math.floor(d%o)}})},extractUnit:function(l){return t.date(l).startOf("hour").valueOf()}}},P5e=function(t,r){var n=r.domain,i=r.verticalOrientation,o=7,a=["year","month","week"];return{name:"day",allowedDomainType:a,rowsCount:function(){return n.type==="week"?1:o},columnsCount:function(l){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(l).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(l).endOf("year").dayOfYear()/o:54);case"week":default:return o}},mapping:function(l,c){var u=0,f=-1;return t.intervals("day",l,t.date(c)).map(function(d){var h=t.date(d);switch(n.type){case"month":f=t.getMonthWeekNumber(d)-1;break;case"year":u!==h.week()&&(u=h.week(),f+=1);break;case"week":f=h.weekday();break}return{t:d,x:f,y:n.type==="week"?0:h.weekday()}})},extractUnit:function(l){return t.date(l).startOf("day").valueOf()}}},D5e=function(t,r){var n=r.domain,i=r.verticalOrientation,o=7,a=["year","month","week"];return{name:"xDay",allowedDomainType:a,rowsCount:function(l){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(l).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(l).endOf("year").dayOfYear()/o:54);case"week":default:return o}},columnsCount:function(){return n.type==="week"?1:o},mapping:function(l,c){return t.intervals("day",l,t.date(c)).map(function(u){var f=t.date(u),d=f.endOf("year").week(),h=0;switch(n.type){case"month":h=t.getMonthWeekNumber(u)-1;break;case"year":d===1&&f.week()===d&&(h=f.subtract(1,"week").week()+1),h=f.week()-1;break;case"week":h=f.weekday();break}return{t:u,y:h,x:n.type==="week"?0:f.weekday()}})},extractUnit:function(l){return t.date(l).startOf("day").valueOf()}}},_5e=function(t){var r=7,n=["month"];return{name:"ghDay",allowedDomainType:n,rowsCount:function(){return r},columnsCount:function(o){return t.getWeeksCountInMonth(o)},mapping:function(o,a){var s=t.getFirstWeekOfMonth(o),l=t.getFirstWeekOfMonth(a),c=-1,u=s.weekday();return t.intervals("day",s,l).map(function(f){var d=t.date(f).weekday();return d===u&&(c+=1),{t:f,x:c,y:d}})},extractUnit:function(o){return t.date(o).startOf("day").valueOf()}}},N5e=function(t,r){var n=r.domain,i=["year","month"];return{name:"week",allowedDomainType:i,rowsCount:function(){return 1},columnsCount:function(a){switch(n.type){case"year":return n.dynamicDimension?t.date(a).endOf("year").isoWeeksInYear():53;case"month":return n.dynamicDimension?t.getWeeksCountInMonth(a):5;default:return 1}},mapping:function(a,s){var l=t.getFirstWeekOfMonth(a),c=t.getFirstWeekOfMonth(s);return t.intervals("week",l,c).map(function(u,f){return{t:u,x:f,y:0}})},extractUnit:function(a){return t.date(a).startOf("week").valueOf()}}},L5e=function(t){var r=["year"];return{name:"month",allowedDomainType:r,rowsCount:function(){return 1},columnsCount:function(){return 12},mapping:function(i,o){return t.intervals("month",i,t.date(o)).map(function(a){return{t:a,x:t.date(a).month(),y:0}})},extractUnit:function(i){return t.date(i).startOf("month").valueOf()}}},R5e=function(t){var r=[];return{name:"year",allowedDomainType:r,rowsCount:function(){return 1},columnsCount:function(){return 1},mapping:function(i,o){return t.intervals("year",i,t.date(o)).map(function(a,s){return{t:a,x:s,y:0}})},extractUnit:function(i){return t.date(i).startOf("year").valueOf()}}},B5e=[I5e,M5e,P5e,D5e,_5e,N5e,L5e,R5e],F5e=(function(){function e(t,r){ur(this,e),this.settings=new Map,this.dateHelper=t,this.options=r,this.initiated=!1}return fr(e,[{key:"get",value:function(r){return this.settings.get(r)}},{key:"has",value:function(r){return this.settings.has(r)}},{key:"init",value:function(){this.initiated||(this.initiated=!0,this.add(B5e))}},{key:"add",value:function(r){var n=this;this.init();var i=[];Jv(r).forEach(function(o){var a=o(n.dateHelper,n.options.options);n.settings.set(a.name,a),a.hasOwnProperty("parent")&&i.push(a.name)}),i.forEach(function(o){var a=n.settings.get(n.settings.get(o).parent);a&&n.settings.set(o,Object.assign(Object.assign({},a),n.settings.get(o)))})}}]),e})(),uH=(function(){function e(){ur(this,e),this.options=new xIe,this.dateHelper=new g5e,this.templateCollection=new F5e(this.dateHelper,this.options),this.dataFetcher=new NMe(this),this.navigator=new dAe(this),this.populator=new kEe(this),this.calendarPainter=new ySe(this),this.eventEmitter=new mwe,this.pluginManager=new O5e(this)}return fr(e,[{key:"createDomainCollection",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return new a3(this.dateHelper,this.options.options.domain.type,r,n,i)}},{key:"paint",value:function(r,n){return yC(this,void 0,void 0,fs().mark(function i(){return fs().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.options.init(r),a.next=3,this.dateHelper.setup(this.options);case 3:this.templateCollection.init(),a.prev=4,x5e(this.templateCollection,this.options.options),a.next=11;break;case 8:return a.prev=8,a.t0=a.catch(4),a.abrupt("return",Promise.reject(a.t0));case 11:return n&&this.pluginManager.add(Jv(n)),this.calendarPainter.setup(),this.domainCollection=new a3(this.dateHelper),this.navigator.loadNewDomains(this.createDomainCollection(this.options.options.date.start,this.options.options.range)),a.abrupt("return",Promise.allSettled([this.calendarPainter.paint(),this.fill()]));case 16:case"end":return a.stop()}},i,this,[[4,8]])}))}},{key:"addTemplates",value:function(r){this.templateCollection.add(r)}},{key:"next",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.max,r+1).slice(r),vt.SCROLL_FORWARD);return Promise.allSettled([this.calendarPainter.paint(n),this.fill()])}},{key:"previous",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.min,-r),vt.SCROLL_BACKWARD);return Promise.allSettled([this.calendarPainter.paint(n),this.fill()])}},{key:"jumpTo",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Promise.allSettled([this.calendarPainter.paint(this.navigator.jumpTo(r,n)),this.fill()])}},{key:"fill",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.options.data.source,i=this.options.options,o=this.templateCollection,a=this.dateHelper.intervals(i.domain.type,this.domainCollection.max,2)[1],s=this.dataFetcher.getDatas(n,this.domainCollection.min,a);return new Promise(function(l,c){s.then(function(u){r.domainCollection.fill(u,i.data,o.get(i.subDomain.type).extractUnit),r.populator.populate(),l(null)},function(u){c(u)})})}},{key:"on",value:function(r,n){this.eventEmitter.on(r,n)}},{key:"dimensions",value:function(){return this.calendarPainter.dimensions}},{key:"destroy",value:function(){return this.calendarPainter.destroy()}},{key:"extendDayjs",value:function(r){return this.dateHelper.extend(r)}}]),e})();uH.VERSION=T5e;var Dr="top",$n="bottom",wn="right",_r="left",VC="auto",ad=[Dr,$n,wn,_r],Zl="start",kf="end",j5e="clippingParents",fH="viewport",Qc="popper",z5e="reference",fP=ad.reduce(function(e,t){return e.concat([t+"-"+Zl,t+"-"+kf])},[]),dH=[].concat(ad,[VC]).reduce(function(e,t){return e.concat([t,t+"-"+Zl,t+"-"+kf])},[]),H5e="beforeRead",V5e="read",U5e="afterRead",W5e="beforeMain",K5e="main",G5e="afterMain",q5e="beforeWrite",Q5e="write",Y5e="afterWrite",J5e=[H5e,V5e,U5e,W5e,K5e,G5e,q5e,Q5e,Y5e];function xi(e){return e?(e.nodeName||"").toLowerCase():null}function en(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gs(e){var t=en(e).Element;return e instanceof t||e instanceof Element}function bn(e){var t=en(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function UC(e){if(typeof ShadowRoot>"u")return!1;var t=en(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function X5e(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!bn(o)||!xi(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Z5e(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=a.reduce(function(l,c){return l[c]="",l},{});!bn(i)||!xi(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const e3e={name:"applyStyles",enabled:!0,phase:"write",fn:X5e,effect:Z5e,requires:["computeStyles"]};function di(e){return e.split("-")[0]}var Ja=Math.max,$m=Math.min,ec=Math.round;function oA(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function hH(){return!/^((?!chrome|android).)*safari/i.test(oA())}function tc(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&bn(e)&&(i=e.offsetWidth>0&&ec(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ec(n.height)/e.offsetHeight||1);var a=gs(e)?en(e):window,s=a.visualViewport,l=!hH()&&r,c=(n.left+(l&&s?s.offsetLeft:0))/i,u=(n.top+(l&&s?s.offsetTop:0))/o,f=n.width/i,d=n.height/o;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function WC(e){var t=tc(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function pH(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&UC(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ao(e){return en(e).getComputedStyle(e)}function t3e(e){return["table","td","th"].indexOf(xi(e))>=0}function ga(e){return((gs(e)?e.ownerDocument:e.document)||window.document).documentElement}function h0(e){return xi(e)==="html"?e:e.assignedSlot||e.parentNode||(UC(e)?e.host:null)||ga(e)}function dP(e){return!bn(e)||ao(e).position==="fixed"?null:e.offsetParent}function r3e(e){var t=/firefox/i.test(oA()),r=/Trident/i.test(oA());if(r&&bn(e)){var n=ao(e);if(n.position==="fixed")return null}var i=h0(e);for(UC(i)&&(i=i.host);bn(i)&&["html","body"].indexOf(xi(i))<0;){var o=ao(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function sd(e){for(var t=en(e),r=dP(e);r&&t3e(r)&&ao(r).position==="static";)r=dP(r);return r&&(xi(r)==="html"||xi(r)==="body"&&ao(r).position==="static")?t:r||r3e(e)||t}function KC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Hu(e,t,r){return Ja(e,$m(t,r))}function n3e(e,t,r){var n=Hu(e,t,r);return n>r?r:n}function gH(){return{top:0,right:0,bottom:0,left:0}}function mH(e){return Object.assign({},gH(),e)}function vH(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var i3e=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,mH(typeof t!="number"?t:vH(t,ad))};function o3e(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=di(r.placement),l=KC(s),c=[_r,wn].indexOf(s)>=0,u=c?"height":"width";if(!(!o||!a)){var f=i3e(i.padding,r),d=WC(o),h=l==="y"?Dr:_r,p=l==="y"?$n:wn,g=r.rects.reference[u]+r.rects.reference[l]-a[l]-r.rects.popper[u],m=a[l]-r.rects.reference[l],v=sd(o),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,y=g/2-m/2,w=f[h],$=b-d[u]-f[p],A=b/2-d[u]/2+y,C=Hu(w,A,$),E=l;r.modifiersData[n]=(t={},t[E]=C,t.centerOffset=C-A,t)}}function a3e(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||pH(t.elements.popper,i)&&(t.elements.arrow=i))}const s3e={name:"arrow",enabled:!0,phase:"main",fn:o3e,effect:a3e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rc(e){return e.split("-")[1]}var l3e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function c3e(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:ec(r*i)/i||0,y:ec(n*i)/i||0}}function hP(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,d=a.x,h=d===void 0?0:d,p=a.y,g=p===void 0?0:p,m=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),y=_r,w=Dr,$=window;if(c){var A=sd(r),C="clientHeight",E="clientWidth";if(A===en(r)&&(A=ga(r),ao(A).position!=="static"&&s==="absolute"&&(C="scrollHeight",E="scrollWidth")),A=A,i===Dr||(i===_r||i===wn)&&o===kf){w=$n;var _=f&&A===$&&$.visualViewport?$.visualViewport.height:A[C];g-=_-n.height,g*=l?1:-1}if(i===_r||(i===Dr||i===$n)&&o===kf){y=wn;var N=f&&A===$&&$.visualViewport?$.visualViewport.width:A[E];h-=N-n.width,h*=l?1:-1}}var M=Object.assign({position:s},c&&l3e),O=u===!0?c3e({x:h,y:g},en(r)):{x:h,y:g};if(h=O.x,g=O.y,l){var D;return Object.assign({},M,(D={},D[w]=b?"0":"",D[y]=v?"0":"",D.transform=($.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",D))}return Object.assign({},M,(t={},t[w]=b?g+"px":"",t[y]=v?h+"px":"",t.transform="",t))}function u3e(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,l=s===void 0?!0:s,c={placement:di(t.placement),variation:rc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,hP(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,hP(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const f3e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:u3e,data:{}};var yh={passive:!0};function d3e(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=en(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",r.update,yh)}),s&&l.addEventListener("resize",r.update,yh),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",r.update,yh)}),s&&l.removeEventListener("resize",r.update,yh)}}const h3e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:d3e,data:{}};var p3e={left:"right",right:"left",bottom:"top",top:"bottom"};function Ap(e){return e.replace(/left|right|bottom|top/g,function(t){return p3e[t]})}var g3e={start:"end",end:"start"};function pP(e){return e.replace(/start|end/g,function(t){return g3e[t]})}function GC(e){var t=en(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function qC(e){return tc(ga(e)).left+GC(e).scrollLeft}function m3e(e,t){var r=en(e),n=ga(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=hH();(c||!c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+qC(e),y:l}}function v3e(e){var t,r=ga(e),n=GC(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Ja(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ja(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+qC(e),l=-n.scrollTop;return ao(i||r).direction==="rtl"&&(s+=Ja(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function QC(e){var t=ao(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function bH(e){return["html","body","#document"].indexOf(xi(e))>=0?e.ownerDocument.body:bn(e)&&QC(e)?e:bH(h0(e))}function Vu(e,t){var r;t===void 0&&(t=[]);var n=bH(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=en(n),a=i?[o].concat(o.visualViewport||[],QC(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(Vu(h0(a)))}function aA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function b3e(e,t){var r=tc(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function gP(e,t,r){return t===fH?aA(m3e(e,r)):gs(t)?b3e(t,r):aA(v3e(ga(e)))}function y3e(e){var t=Vu(h0(e)),r=["absolute","fixed"].indexOf(ao(e).position)>=0,n=r&&bn(e)?sd(e):e;return gs(n)?t.filter(function(i){return gs(i)&&pH(i,n)&&xi(i)!=="body"}):[]}function $3e(e,t,r,n){var i=t==="clippingParents"?y3e(e):[].concat(t),o=[].concat(i,[r]),a=o[0],s=o.reduce(function(l,c){var u=gP(e,c,n);return l.top=Ja(u.top,l.top),l.right=$m(u.right,l.right),l.bottom=$m(u.bottom,l.bottom),l.left=Ja(u.left,l.left),l},gP(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function yH(e){var t=e.reference,r=e.element,n=e.placement,i=n?di(n):null,o=n?rc(n):null,a=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(i){case Dr:l={x:a,y:t.y-r.height};break;case $n:l={x:a,y:t.y+t.height};break;case wn:l={x:t.x+t.width,y:s};break;case _r:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var c=i?KC(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Zl:l[c]=l[c]-(t[u]/2-r[u]/2);break;case kf:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function Of(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,a=o===void 0?e.strategy:o,s=r.boundary,l=s===void 0?j5e:s,c=r.rootBoundary,u=c===void 0?fH:c,f=r.elementContext,d=f===void 0?Qc:f,h=r.altBoundary,p=h===void 0?!1:h,g=r.padding,m=g===void 0?0:g,v=mH(typeof m!="number"?m:vH(m,ad)),b=d===Qc?z5e:Qc,y=e.rects.popper,w=e.elements[p?b:d],$=$3e(gs(w)?w:w.contextElement||ga(e.elements.popper),l,u,a),A=tc(e.elements.reference),C=yH({reference:A,element:y,placement:i}),E=aA(Object.assign({},y,C)),_=d===Qc?E:A,N={top:$.top-_.top+v.top,bottom:_.bottom-$.bottom+v.bottom,left:$.left-_.left+v.left,right:_.right-$.right+v.right},M=e.modifiersData.offset;if(d===Qc&&M){var O=M[i];Object.keys(N).forEach(function(D){var S=[wn,$n].indexOf(D)>=0?1:-1,k=[Dr,$n].indexOf(D)>=0?"y":"x";N[D]+=O[k]*S})}return N}function w3e(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?dH:l,u=rc(n),f=u?s?fP:fP.filter(function(p){return rc(p)===u}):ad,d=f.filter(function(p){return c.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,g){return p[g]=Of(e,{placement:g,boundary:i,rootBoundary:o,padding:a})[di(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function A3e(e){if(di(e)===VC)return[];var t=Ap(e);return[pP(e),t,pP(t)]}function x3e(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,p=h===void 0?!0:h,g=r.allowedAutoPlacements,m=t.options.placement,v=di(m),b=v===m,y=l||(b||!p?[Ap(m)]:A3e(m)),w=[m].concat(y).reduce(function(pe,xe){return pe.concat(di(xe)===VC?w3e(t,{placement:xe,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):xe)},[]),$=t.rects.reference,A=t.rects.popper,C=new Map,E=!0,_=w[0],N=0;N<w.length;N++){var M=w[N],O=di(M),D=rc(M)===Zl,S=[Dr,$n].indexOf(O)>=0,k=S?"width":"height",x=Of(t,{placement:M,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),P=S?D?wn:_r:D?$n:Dr;$[k]>A[k]&&(P=Ap(P));var I=Ap(P),L=[];if(o&&L.push(x[O]<=0),s&&L.push(x[P]<=0,x[I]<=0),L.every(function(pe){return pe})){_=M,E=!1;break}C.set(M,L)}if(E)for(var V=p?3:1,U=function(xe){var qe=w.find(function(Y){var de=C.get(Y);if(de)return de.slice(0,xe).every(function(q){return q})});if(qe)return _=qe,"break"},ae=V;ae>0;ae--){var ne=U(ae);if(ne==="break")break}t.placement!==_&&(t.modifiersData[n]._skip=!0,t.placement=_,t.reset=!0)}}const S3e={name:"flip",enabled:!0,phase:"main",fn:x3e,requiresIfExists:["offset"],data:{_skip:!1}};function mP(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function vP(e){return[Dr,wn,$n,_r].some(function(t){return e[t]>=0})}function C3e(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Of(t,{elementContext:"reference"}),s=Of(t,{altBoundary:!0}),l=mP(a,n),c=mP(s,i,o),u=vP(l),f=vP(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const E3e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:C3e};function k3e(e,t,r){var n=di(e),i=[_r,Dr].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[_r,wn].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function O3e(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,a=dH.reduce(function(u,f){return u[f]=k3e(f,t.rects,o),u},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}const T3e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:O3e};function I3e(e){var t=e.state,r=e.name;t.modifiersData[r]=yH({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const M3e={name:"popperOffsets",enabled:!0,phase:"read",fn:I3e,data:{}};function P3e(e){return e==="x"?"y":"x"}function D3e(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,d=r.tether,h=d===void 0?!0:d,p=r.tetherOffset,g=p===void 0?0:p,m=Of(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),v=di(t.placement),b=rc(t.placement),y=!b,w=KC(v),$=P3e(w),A=t.modifiersData.popperOffsets,C=t.rects.reference,E=t.rects.popper,_=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,N=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(A){if(o){var D,S=w==="y"?Dr:_r,k=w==="y"?$n:wn,x=w==="y"?"height":"width",P=A[w],I=P+m[S],L=P-m[k],V=h?-E[x]/2:0,U=b===Zl?C[x]:E[x],ae=b===Zl?-E[x]:-C[x],ne=t.elements.arrow,pe=h&&ne?WC(ne):{width:0,height:0},xe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:gH(),qe=xe[S],Y=xe[k],de=Hu(0,C[x],pe[x]),q=y?C[x]/2-V-de-qe-N.mainAxis:U-de-qe-N.mainAxis,X=y?-C[x]/2+V+de+Y+N.mainAxis:ae+de+Y+N.mainAxis,ce=t.elements.arrow&&sd(t.elements.arrow),H=ce?w==="y"?ce.clientTop||0:ce.clientLeft||0:0,He=(D=M==null?void 0:M[w])!=null?D:0,Ee=P+q-He-H,se=P+X-He,he=Hu(h?$m(I,Ee):I,P,h?Ja(L,se):L);A[w]=he,O[w]=he-P}if(s){var nt,ht=w==="x"?Dr:_r,$a=w==="x"?$n:wn,jr=A[$],Ve=$==="y"?"height":"width",zr=jr+m[ht],wa=jr-m[$a],$o=[Dr,_r].indexOf(v)!==-1,js=(nt=M==null?void 0:M[$])!=null?nt:0,xc=$o?zr:jr-C[Ve]-E[Ve]-js+N.altAxis,Sc=$o?jr+C[Ve]+E[Ve]-js-N.altAxis:wa,uk=h&&$o?n3e(xc,jr,Sc):Hu(h?xc:zr,jr,h?Sc:wa);A[$]=uk,O[$]=uk-jr}t.modifiersData[n]=O}}const _3e={name:"preventOverflow",enabled:!0,phase:"main",fn:D3e,requiresIfExists:["offset"]};function N3e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function L3e(e){return e===en(e)||!bn(e)?GC(e):N3e(e)}function R3e(e){var t=e.getBoundingClientRect(),r=ec(t.width)/e.offsetWidth||1,n=ec(t.height)/e.offsetHeight||1;return r!==1||n!==1}function B3e(e,t,r){r===void 0&&(r=!1);var n=bn(t),i=bn(t)&&R3e(t),o=ga(t),a=tc(e,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((xi(t)!=="body"||QC(o))&&(s=L3e(t)),bn(t)?(l=tc(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=qC(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function F3e(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&i(l)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function j3e(e){var t=F3e(e);return J5e.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function z3e(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function H3e(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var bP={placement:"bottom",modifiers:[],strategy:"absolute"};function yP(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function V3e(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?bP:i;return function(s,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},bP,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(v){var b=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},o,u.options,b),u.scrollParents={reference:gs(s)?Vu(s):s.contextElement?Vu(s.contextElement):[],popper:Vu(l)};var y=j3e(H3e([].concat(n,u.options.modifiers)));return u.orderedModifiers=y.filter(function(w){return w.enabled}),p(),h.update()},forceUpdate:function(){if(!d){var v=u.elements,b=v.reference,y=v.popper;if(yP(b,y)){u.rects={reference:B3e(b,sd(y),u.options.strategy==="fixed"),popper:WC(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var $=u.orderedModifiers[w],A=$.fn,C=$.options,E=C===void 0?{}:C,_=$.name;typeof A=="function"&&(u=A({state:u,options:E,name:_,instance:h})||u)}}}},update:z3e(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){g(),d=!0}};if(!yP(s,l))return h;h.setOptions(c).then(function(m){!d&&c.onFirstUpdate&&c.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var v=m.name,b=m.options,y=b===void 0?{}:b,w=m.effect;if(typeof w=="function"){var $=w({state:u,name:v,instance:h,options:y}),A=function(){};f.push($||A)}})}function g(){f.forEach(function(m){return m()}),f=[]}return h}}var U3e=[h3e,M3e,f3e,e3e,T3e,S3e,_3e,s3e,E3e],W3e=V3e({defaultModifiers:U3e});function K3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ePe(n.key),n)}}function q3e(e,t,r){return t&&G3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $P(e){return Q3e(e)||Y3e(e)||J3e(e)||X3e()}function Q3e(e){if(Array.isArray(e))return sA(e)}function Y3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J3e(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ePe(e){var t=Z3e(e,"string");return typeof t=="symbol"?t:String(t)}var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yc=function(e){return e&&e.Math===Math&&e},Gt=Yc(typeof globalThis=="object"&&globalThis)||Yc(typeof window=="object"&&window)||Yc(typeof self=="object"&&self)||Yc(typeof $h=="object"&&$h)||Yc(typeof $h=="object"&&$h)||(function(){return this})()||Function("return this")(),p0={},Mt=function(e){try{return!!e()}catch{return!0}},tPe=Mt,xn=!tPe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),rPe=Mt,g0=!rPe(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),nPe=g0,wh=Function.prototype.call,Sn=nPe?wh.bind(wh):function(){return wh.apply(wh,arguments)},YC={},$H={}.propertyIsEnumerable,wH=Object.getOwnPropertyDescriptor,iPe=wH&&!$H.call({1:2},1);YC.f=iPe?function(t){var r=wH(this,t);return!!r&&r.enumerable}:$H;var m0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},AH=g0,xH=Function.prototype,lA=xH.call,oPe=AH&&xH.bind.bind(lA,lA),St=AH?oPe:function(e){return function(){return lA.apply(e,arguments)}},SH=St,aPe=SH({}.toString),sPe=SH("".slice),Ns=function(e){return sPe(aPe(e),8,-1)},lPe=St,cPe=Mt,uPe=Ns,c1=Object,fPe=lPe("".split),JC=cPe(function(){return!c1("z").propertyIsEnumerable(0)})?function(e){return uPe(e)==="String"?fPe(e,""):c1(e)}:c1,bc=function(e){return e==null},dPe=bc,hPe=TypeError,XC=function(e){if(dPe(e))throw new hPe("Can't call method on "+e);return e},pPe=JC,gPe=XC,yc=function(e){return pPe(gPe(e))},cA=typeof document=="object"&&document.all,mPe=typeof cA>"u"&&cA!==void 0,CH={all:cA,IS_HTMLDDA:mPe},EH=CH,vPe=EH.all,ft=EH.IS_HTMLDDA?function(e){return typeof e=="function"||e===vPe}:function(e){return typeof e=="function"},wP=ft,kH=CH,bPe=kH.all,yr=kH.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:wP(e)||e===bPe}:function(e){return typeof e=="object"?e!==null:wP(e)},u1=Gt,yPe=ft,$Pe=function(e){return yPe(e)?e:void 0},Ls=function(e,t){return arguments.length<2?$Pe(u1[e]):u1[e]&&u1[e][t]},wPe=St,ZC=wPe({}.isPrototypeOf),v0=typeof navigator<"u"&&String(navigator.userAgent)||"",OH=Gt,f1=v0,AP=OH.process,xP=OH.Deno,SP=AP&&AP.versions||xP&&xP.version,CP=SP&&SP.v8,Dn,wm;CP&&(Dn=CP.split("."),wm=Dn[0]>0&&Dn[0]<4?1:+(Dn[0]+Dn[1]));!wm&&f1&&(Dn=f1.match(/Edge\/(\d+)/),(!Dn||Dn[1]>=74)&&(Dn=f1.match(/Chrome\/(\d+)/),Dn&&(wm=+Dn[1])));var b0=wm,EP=b0,APe=Mt,xPe=Gt,SPe=xPe.String,TH=!!Object.getOwnPropertySymbols&&!APe(function(){var e=Symbol("symbol detection");return!SPe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&EP&&EP<41}),CPe=TH,IH=CPe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",EPe=Ls,kPe=ft,OPe=ZC,TPe=IH,IPe=Object,MH=TPe?function(e){return typeof e=="symbol"}:function(e){var t=EPe("Symbol");return kPe(t)&&OPe(t.prototype,IPe(e))},MPe=String,y0=function(e){try{return MPe(e)}catch{return"Object"}},PPe=ft,DPe=y0,_Pe=TypeError,ma=function(e){if(PPe(e))return e;throw new _Pe(DPe(e)+" is not a function")},NPe=ma,LPe=bc,eE=function(e,t){var r=e[t];return LPe(r)?void 0:NPe(r)},d1=Sn,h1=ft,p1=yr,RPe=TypeError,BPe=function(e,t){var r,n;if(t==="string"&&h1(r=e.toString)&&!p1(n=d1(r,e))||h1(r=e.valueOf)&&!p1(n=d1(r,e))||t!=="string"&&h1(r=e.toString)&&!p1(n=d1(r,e)))return n;throw new RPe("Can't convert object to primitive value")},PH={exports:{}},kP=Gt,FPe=Object.defineProperty,tE=function(e,t){try{FPe(kP,e,{value:t,configurable:!0,writable:!0})}catch{kP[e]=t}return t},jPe=Gt,zPe=tE,OP="__core-js_shared__",HPe=jPe[OP]||zPe(OP,{}),rE=HPe,TP=rE;(PH.exports=function(e,t){return TP[e]||(TP[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var DH=PH.exports,VPe=XC,UPe=Object,ld=function(e){return UPe(VPe(e))},WPe=St,KPe=ld,GPe=WPe({}.hasOwnProperty),Cn=Object.hasOwn||function(t,r){return GPe(KPe(t),r)},qPe=St,QPe=0,YPe=Math.random(),JPe=qPe(1 .toString),nE=function(e){return"Symbol("+(e===void 0?"":e)+")_"+JPe(++QPe+YPe,36)},XPe=Gt,ZPe=DH,IP=Cn,e4e=nE,t4e=TH,r4e=IH,wl=XPe.Symbol,g1=ZPe("wks"),n4e=r4e?wl.for||wl:wl&&wl.withoutSetter||e4e,Zt=function(e){return IP(g1,e)||(g1[e]=t4e&&IP(wl,e)?wl[e]:n4e("Symbol."+e)),g1[e]},i4e=Sn,MP=yr,PP=MH,o4e=eE,a4e=BPe,s4e=Zt,l4e=TypeError,c4e=s4e("toPrimitive"),u4e=function(e,t){if(!MP(e)||PP(e))return e;var r=o4e(e,c4e),n;if(r){if(t===void 0&&(t="default"),n=i4e(r,e,t),!MP(n)||PP(n))return n;throw new l4e("Can't convert object to primitive value")}return t===void 0&&(t="number"),a4e(e,t)},f4e=u4e,d4e=MH,iE=function(e){var t=f4e(e,"string");return d4e(t)?t:t+""},h4e=Gt,DP=yr,uA=h4e.document,p4e=DP(uA)&&DP(uA.createElement),$0=function(e){return p4e?uA.createElement(e):{}},g4e=xn,m4e=Mt,v4e=$0,_H=!g4e&&!m4e(function(){return Object.defineProperty(v4e("div"),"a",{get:function(){return 7}}).a!==7}),b4e=xn,y4e=Sn,$4e=YC,w4e=m0,A4e=yc,x4e=iE,S4e=Cn,C4e=_H,_P=Object.getOwnPropertyDescriptor;p0.f=b4e?_P:function(t,r){if(t=A4e(t),r=x4e(r),C4e)try{return _P(t,r)}catch{}if(S4e(t,r))return w4e(!y4e($4e.f,t,r),t[r])};var Kn={},E4e=xn,k4e=Mt,NH=E4e&&k4e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),O4e=yr,T4e=String,I4e=TypeError,Gn=function(e){if(O4e(e))return e;throw new I4e(T4e(e)+" is not an object")},M4e=xn,P4e=_H,D4e=NH,Ah=Gn,NP=iE,_4e=TypeError,m1=Object.defineProperty,N4e=Object.getOwnPropertyDescriptor,v1="enumerable",b1="configurable",y1="writable";Kn.f=M4e?D4e?function(t,r,n){if(Ah(t),r=NP(r),Ah(n),typeof t=="function"&&r==="prototype"&&"value"in n&&y1 in n&&!n[y1]){var i=N4e(t,r);i&&i[y1]&&(t[r]=n.value,n={configurable:b1 in n?n[b1]:i[b1],enumerable:v1 in n?n[v1]:i[v1],writable:!1})}return m1(t,r,n)}:m1:function(t,r,n){if(Ah(t),r=NP(r),Ah(n),P4e)try{return m1(t,r,n)}catch{}if("get"in n||"set"in n)throw new _4e("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var L4e=xn,R4e=Kn,B4e=m0,w0=L4e?function(e,t,r){return R4e.f(e,t,B4e(1,r))}:function(e,t,r){return e[t]=r,e},LH={exports:{}},fA=xn,F4e=Cn,RH=Function.prototype,j4e=fA&&Object.getOwnPropertyDescriptor,oE=F4e(RH,"name"),z4e=oE&&(function(){}).name==="something",H4e=oE&&(!fA||fA&&j4e(RH,"name").configurable),aE={EXISTS:oE,PROPER:z4e,CONFIGURABLE:H4e},V4e=St,U4e=ft,dA=rE,W4e=V4e(Function.toString);U4e(dA.inspectSource)||(dA.inspectSource=function(e){return W4e(e)});var sE=dA.inspectSource,K4e=Gt,G4e=ft,LP=K4e.WeakMap,q4e=G4e(LP)&&/native code/.test(String(LP)),Q4e=DH,Y4e=nE,RP=Q4e("keys"),lE=function(e){return RP[e]||(RP[e]=Y4e(e))},A0={},J4e=q4e,BH=Gt,X4e=yr,Z4e=w0,$1=Cn,w1=rE,eDe=lE,tDe=A0,BP="Object already initialized",hA=BH.TypeError,rDe=BH.WeakMap,Am,Tf,xm,nDe=function(e){return xm(e)?Tf(e):Am(e,{})},iDe=function(e){return function(t){var r;if(!X4e(t)||(r=Tf(t)).type!==e)throw new hA("Incompatible receiver, "+e+" required");return r}};if(J4e||w1.state){var Xn=w1.state||(w1.state=new rDe);Xn.get=Xn.get,Xn.has=Xn.has,Xn.set=Xn.set,Am=function(e,t){if(Xn.has(e))throw new hA(BP);return t.facade=e,Xn.set(e,t),t},Tf=function(e){return Xn.get(e)||{}},xm=function(e){return Xn.has(e)}}else{var tl=eDe("state");tDe[tl]=!0,Am=function(e,t){if($1(e,tl))throw new hA(BP);return t.facade=e,Z4e(e,tl,t),t},Tf=function(e){return $1(e,tl)?e[tl]:{}},xm=function(e){return $1(e,tl)}}var cd={set:Am,get:Tf,has:xm,enforce:nDe,getterFor:iDe},cE=St,oDe=Mt,aDe=ft,xh=Cn,pA=xn,sDe=aE.CONFIGURABLE,lDe=sE,FH=cd,cDe=FH.enforce,uDe=FH.get,FP=String,xp=Object.defineProperty,fDe=cE("".slice),dDe=cE("".replace),hDe=cE([].join),pDe=pA&&!oDe(function(){return xp(function(){},"length",{value:8}).length!==8}),gDe=String(String).split("String"),mDe=LH.exports=function(e,t,r){fDe(FP(t),0,7)==="Symbol("&&(t="["+dDe(FP(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!xh(e,"name")||sDe&&e.name!==t)&&(pA?xp(e,"name",{value:t,configurable:!0}):e.name=t),pDe&&r&&xh(r,"arity")&&e.length!==r.arity&&xp(e,"length",{value:r.arity});try{r&&xh(r,"constructor")&&r.constructor?pA&&xp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=cDe(e);return xh(n,"source")||(n.source=hDe(gDe,typeof t=="string"?t:"")),e};Function.prototype.toString=mDe(function(){return aDe(this)&&uDe(this).source||lDe(this)},"toString");var jH=LH.exports,vDe=ft,bDe=Kn,yDe=jH,$De=tE,va=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(vDe(r)&&yDe(r,o,n),n.global)i?e[t]=r:$De(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:bDe.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},x0={},wDe=Math.ceil,ADe=Math.floor,xDe=Math.trunc||function(t){var r=+t;return(r>0?ADe:wDe)(r)},SDe=xDe,uE=function(e){var t=+e;return t!==t||t===0?0:SDe(t)},CDe=uE,EDe=Math.max,kDe=Math.min,zH=function(e,t){var r=CDe(e);return r<0?EDe(r+t,0):kDe(r,t)},ODe=uE,TDe=Math.min,IDe=function(e){return e>0?TDe(ODe(e),9007199254740991):0},MDe=IDe,ud=function(e){return MDe(e.length)},PDe=yc,DDe=zH,_De=ud,NDe=function(e){return function(t,r,n){var i=PDe(t),o=_De(i),a=DDe(n,o),s;if(e&&r!==r){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},LDe={indexOf:NDe(!1)},RDe=St,A1=Cn,BDe=yc,FDe=LDe.indexOf,jDe=A0,jP=RDe([].push),HH=function(e,t){var r=BDe(e),n=0,i=[],o;for(o in r)!A1(jDe,o)&&A1(r,o)&&jP(i,o);for(;t.length>n;)A1(r,o=t[n++])&&(~FDe(i,o)||jP(i,o));return i},fE=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zDe=HH,HDe=fE,VDe=HDe.concat("length","prototype");x0.f=Object.getOwnPropertyNames||function(t){return zDe(t,VDe)};var dE={};dE.f=Object.getOwnPropertySymbols;var UDe=Ls,WDe=St,KDe=x0,GDe=dE,qDe=Gn,QDe=WDe([].concat),YDe=UDe("Reflect","ownKeys")||function(t){var r=KDe.f(qDe(t)),n=GDe.f;return n?QDe(r,n(t)):r},zP=Cn,JDe=YDe,XDe=p0,ZDe=Kn,e_e=function(e,t,r){for(var n=JDe(t),i=ZDe.f,o=XDe.f,a=0;a<n.length;a++){var s=n[a];!zP(e,s)&&!(r&&zP(r,s))&&i(e,s,o(t,s))}},t_e=Mt,r_e=ft,n_e=/#|\.prototype\./,fd=function(e,t){var r=o_e[i_e(e)];return r===s_e?!0:r===a_e?!1:r_e(t)?t_e(t):!!t},i_e=fd.normalize=function(e){return String(e).replace(n_e,".").toLowerCase()},o_e=fd.data={},a_e=fd.NATIVE="N",s_e=fd.POLYFILL="P",hE=fd,x1=Gt,l_e=p0.f,c_e=w0,u_e=va,f_e=tE,d_e=e_e,h_e=hE,qn=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,s,l,c,u;if(n?a=x1:i?a=x1[r]||f_e(r,{}):a=(x1[r]||{}).prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=l_e(a,s),l=u&&u.value):l=a[s],o=h_e(n?s:r+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;d_e(c,l)}(e.sham||l&&l.sham)&&c_e(c,"sham",!0),u_e(a,s,c,e)}},p_e=Ns,VH=Array.isArray||function(t){return p_e(t)==="Array"},g_e=TypeError,m_e=9007199254740991,v_e=function(e){if(e>m_e)throw g_e("Maximum allowed index exceeded");return e},b_e=iE,y_e=Kn,$_e=m0,UH=function(e,t,r){var n=b_e(t);n in e?y_e.f(e,n,$_e(0,r)):e[n]=r},w_e=Zt,A_e=w_e("toStringTag"),WH={};WH[A_e]="z";var pE=String(WH)==="[object z]",x_e=pE,S_e=ft,Sp=Ns,C_e=Zt,E_e=C_e("toStringTag"),k_e=Object,O_e=Sp((function(){return arguments})())==="Arguments",T_e=function(e,t){try{return e[t]}catch{}},S0=x_e?Sp:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=T_e(t=k_e(e),E_e))=="string"?r:O_e?Sp(t):(n=Sp(t))==="Object"&&S_e(t.callee)?"Arguments":n},I_e=St,M_e=Mt,KH=ft,P_e=S0,D_e=Ls,__e=sE,GH=function(){},N_e=[],qH=D_e("Reflect","construct"),gE=/^\s*(?:class|function)\b/,L_e=I_e(gE.exec),R_e=!gE.test(GH),Jc=function(t){if(!KH(t))return!1;try{return qH(GH,N_e,t),!0}catch{return!1}},QH=function(t){if(!KH(t))return!1;switch(P_e(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return R_e||!!L_e(gE,__e(t))}catch{return!0}};QH.sham=!0;var YH=!qH||M_e(function(){var e;return Jc(Jc.call)||!Jc(Object)||!Jc(function(){e=!0})||e})?QH:Jc,HP=VH,B_e=YH,F_e=yr,j_e=Zt,z_e=j_e("species"),VP=Array,H_e=function(e){var t;return HP(e)&&(t=e.constructor,B_e(t)&&(t===VP||HP(t.prototype))?t=void 0:F_e(t)&&(t=t[z_e],t===null&&(t=void 0))),t===void 0?VP:t},V_e=H_e,JH=function(e,t){return new(V_e(e))(t===0?0:t)},U_e=Mt,W_e=Zt,K_e=b0,G_e=W_e("species"),q_e=function(e){return K_e>=51||!U_e(function(){var t=[],r=t.constructor={};return r[G_e]=function(){return{foo:1}},t[e](Boolean).foo!==1})},Q_e=qn,Y_e=Mt,J_e=VH,X_e=yr,Z_e=ld,eNe=ud,UP=v_e,WP=UH,tNe=JH,rNe=q_e,nNe=Zt,iNe=b0,XH=nNe("isConcatSpreadable"),oNe=iNe>=51||!Y_e(function(){var e=[];return e[XH]=!1,e.concat()[0]!==e}),aNe=function(e){if(!X_e(e))return!1;var t=e[XH];return t!==void 0?!!t:J_e(e)},sNe=!oNe||!rNe("concat");Q_e({target:"Array",proto:!0,arity:1,forced:sNe},{concat:function(t){var r=Z_e(this),n=tNe(r,0),i=0,o,a,s,l,c;for(o=-1,s=arguments.length;o<s;o++)if(c=o===-1?r:arguments[o],aNe(c))for(l=eNe(c),UP(i+l),a=0;a<l;a++,i++)a in c&&WP(n,i,c[a]);else UP(i+1),WP(n,i++,c);return n.length=i,n}});var KP=jH,lNe=Kn,ZH=function(e,t,r){return r.get&&KP(r.get,t,{getter:!0}),r.set&&KP(r.set,t,{setter:!0}),lNe.f(e,t,r)},cNe=xn,uNe=aE.EXISTS,eV=St,fNe=ZH,tV=Function.prototype,dNe=eV(tV.toString),rV=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,hNe=eV(rV.exec),pNe="name";cNe&&!uNe&&fNe(tV,pNe,{configurable:!0,get:function(){try{return hNe(rV,dNe(this))[1]}catch{return""}}});var gNe=HH,mNe=fE,nV=Object.keys||function(t){return gNe(t,mNe)},GP=xn,vNe=St,bNe=Sn,yNe=Mt,S1=nV,$Ne=dE,wNe=YC,ANe=ld,xNe=JC,rl=Object.assign,qP=Object.defineProperty,SNe=vNe([].concat),CNe=!rl||yNe(function(){if(GP&&rl({b:1},rl(qP({},"a",{enumerable:!0,get:function(){qP(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),rl({},e)[r]!==7||S1(rl({},t)).join("")!==n})?function(t,r){for(var n=ANe(t),i=arguments.length,o=1,a=$Ne.f,s=wNe.f;i>o;)for(var l=xNe(arguments[o++]),c=a?SNe(S1(l),a(l)):S1(l),u=c.length,f=0,d;u>f;)d=c[f++],(!GP||bNe(s,l,d))&&(n[d]=l[d]);return n}:rl,ENe=qn,QP=CNe;ENe({target:"Object",stat:!0,arity:2,forced:Object.assign!==QP},{assign:QP});var kNe=pE,ONe=S0,TNe=kNe?{}.toString:function(){return"[object "+ONe(this)+"]"},INe=pE,MNe=va,PNe=TNe;INe||MNe(Object.prototype,"toString",PNe,{unsafe:!0});var DNe=Gt,_Ne=Ns,C0=_Ne(DNe.process)==="process",NNe=St,LNe=ma,RNe=function(e,t,r){try{return NNe(LNe(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},BNe=ft,FNe=String,jNe=TypeError,zNe=function(e){if(typeof e=="object"||BNe(e))return e;throw new jNe("Can't set "+FNe(e)+" as a prototype")},HNe=RNe,VNe=Gn,UNe=zNe,mE=Object.setPrototypeOf||("__proto__"in{}?(function(){var e=!1,t={},r;try{r=HNe(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,o){return VNe(i),UNe(o),e?r(i,o):i.__proto__=o,i}})():void 0),WNe=Kn.f,KNe=Cn,GNe=Zt,YP=GNe("toStringTag"),dd=function(e,t,r){e&&!r&&(e=e.prototype),e&&!KNe(e,YP)&&WNe(e,YP,{configurable:!0,value:t})},qNe=Ls,QNe=ZH,YNe=Zt,JNe=xn,JP=YNe("species"),XNe=function(e){var t=qNe(e);JNe&&t&&!t[JP]&&QNe(t,JP,{configurable:!0,get:function(){return this}})},ZNe=ZC,eLe=TypeError,vE=function(e,t){if(ZNe(t,e))return e;throw new eLe("Incorrect invocation")},tLe=YH,rLe=y0,nLe=TypeError,iLe=function(e){if(tLe(e))return e;throw new nLe(rLe(e)+" is not a constructor")},XP=Gn,oLe=iLe,aLe=bc,sLe=Zt,lLe=sLe("species"),cLe=function(e,t){var r=XP(e).constructor,n;return r===void 0||aLe(n=XP(r)[lLe])?t:oLe(n)},uLe=g0,iV=Function.prototype,ZP=iV.apply,e4=iV.call,fLe=typeof Reflect=="object"&&Reflect.apply||(uLe?e4.bind(ZP):function(){return e4.apply(ZP,arguments)}),dLe=Ns,hLe=St,pLe=function(e){if(dLe(e)==="Function")return hLe(e)},t4=pLe,gLe=ma,mLe=g0,vLe=t4(t4.bind),E0=function(e,t){return gLe(e),t===void 0?e:mLe?vLe(e,t):function(){return e.apply(t,arguments)}},bLe=Ls,oV=bLe("document","documentElement"),yLe=St,$Le=yLe([].slice),wLe=TypeError,ALe=function(e,t){if(e<t)throw new wLe("Not enough arguments");return e},xLe=v0,aV=/(?:ipad|iphone|ipod).*applewebkit/i.test(xLe),Kr=Gt,SLe=fLe,CLe=E0,r4=ft,ELe=Cn,sV=Mt,n4=oV,kLe=$Le,i4=$0,OLe=ALe,TLe=aV,ILe=C0,gA=Kr.setImmediate,o4=Kr.clearImmediate,MLe=Kr.process,C1=Kr.Dispatch,PLe=Kr.Function,a4=Kr.MessageChannel,DLe=Kr.String,E1=0,Uu={},s4="onreadystatechange",If,Oa,k1,O1;sV(function(){If=Kr.location});var bE=function(e){if(ELe(Uu,e)){var t=Uu[e];delete Uu[e],t()}},T1=function(e){return function(){bE(e)}},l4=function(e){bE(e.data)},c4=function(e){Kr.postMessage(DLe(e),If.protocol+"//"+If.host)};(!gA||!o4)&&(gA=function(t){OLe(arguments.length,1);var r=r4(t)?t:PLe(t),n=kLe(arguments,1);return Uu[++E1]=function(){SLe(r,void 0,n)},Oa(E1),E1},o4=function(t){delete Uu[t]},ILe?Oa=function(e){MLe.nextTick(T1(e))}:C1&&C1.now?Oa=function(e){C1.now(T1(e))}:a4&&!TLe?(k1=new a4,O1=k1.port2,k1.port1.onmessage=l4,Oa=CLe(O1.postMessage,O1)):Kr.addEventListener&&r4(Kr.postMessage)&&!Kr.importScripts&&If&&If.protocol!=="file:"&&!sV(c4)?(Oa=c4,Kr.addEventListener("message",l4,!1)):s4 in i4("script")?Oa=function(e){n4.appendChild(i4("script"))[s4]=function(){n4.removeChild(this),bE(e)}}:Oa=function(e){setTimeout(T1(e),0)});var lV={set:gA},cV=function(){this.head=null,this.tail=null};cV.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var uV=cV,_Le=v0,NLe=/ipad|iphone|ipod/i.test(_Le)&&typeof Pebble<"u",LLe=v0,RLe=/web0s(?!.*chrome)/i.test(LLe),ms=Gt,u4=E0,BLe=p0.f,I1=lV.set,FLe=uV,jLe=aV,zLe=NLe,HLe=RLe,M1=C0,f4=ms.MutationObserver||ms.WebKitMutationObserver,d4=ms.document,h4=ms.process,Sh=ms.Promise,p4=BLe(ms,"queueMicrotask"),mA=p4&&p4.value,nl,P1,D1,Ch,g4;if(!mA){var Eh=new FLe,kh=function(){var e,t;for(M1&&(e=h4.domain)&&e.exit();t=Eh.get();)try{t()}catch(r){throw Eh.head&&nl(),r}e&&e.enter()};!jLe&&!M1&&!HLe&&f4&&d4?(P1=!0,D1=d4.createTextNode(""),new f4(kh).observe(D1,{characterData:!0}),nl=function(){D1.data=P1=!P1}):!zLe&&Sh&&Sh.resolve?(Ch=Sh.resolve(void 0),Ch.constructor=Sh,g4=u4(Ch.then,Ch),nl=function(){g4(kh)}):M1?nl=function(){h4.nextTick(kh)}:(I1=u4(I1,ms),nl=function(){I1(kh)}),mA=function(e){Eh.head||nl(),Eh.add(e)}}var VLe=mA,ULe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},yE=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},WLe=Gt,k0=WLe.Promise,fV=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",KLe=fV,GLe=C0,qLe=!KLe&&!GLe&&typeof window=="object"&&typeof document=="object",QLe=Gt,Wu=k0,YLe=ft,JLe=hE,XLe=sE,ZLe=Zt,eRe=qLe,tRe=fV,_1=b0;Wu&&Wu.prototype;var rRe=ZLe("species"),vA=!1,dV=YLe(QLe.PromiseRejectionEvent),nRe=JLe("Promise",function(){var e=XLe(Wu),t=e!==String(Wu);if(!t&&_1===66)return!0;if(!_1||_1<51||!/native code/.test(e)){var r=new Wu(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[rRe]=n,vA=r.then(function(){})instanceof n,!vA)return!0}return!t&&(eRe||tRe)&&!dV}),hd={CONSTRUCTOR:nRe,REJECTION_EVENT:dV,SUBCLASSING:vA},$c={},m4=ma,iRe=TypeError,oRe=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new iRe("Bad Promise constructor");t=n,r=i}),this.resolve=m4(t),this.reject=m4(r)};$c.f=function(e){return new oRe(e)};var aRe=qn,Sm=C0,oa=Gt,nc=Sn,v4=va,b4=mE,sRe=dd,lRe=XNe,cRe=ma,Cp=ft,uRe=yr,fRe=vE,dRe=cLe,hV=lV.set,$E=VLe,hRe=ULe,pRe=yE,gRe=uV,pV=cd,Cm=k0,wE=hd,gV=$c,O0="Promise",mV=wE.CONSTRUCTOR,mRe=wE.REJECTION_EVENT,vRe=wE.SUBCLASSING,N1=pV.getterFor(O0),bRe=pV.set,gl=Cm&&Cm.prototype,Na=Cm,Oh=gl,vV=oa.TypeError,bA=oa.document,AE=oa.process,yA=gV.f,yRe=yA,$Re=!!(bA&&bA.createEvent&&oa.dispatchEvent),bV="unhandledrejection",wRe="rejectionhandled",y4=0,yV=1,ARe=2,xE=1,$V=2,Th,$4,xRe,w4,wV=function(e){var t;return uRe(e)&&Cp(t=e.then)?t:!1},AV=function(e,t){var r=t.value,n=t.state===yV,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,l,c,u;try{i?(n||(t.rejection===$V&&CRe(t),t.rejection=xE),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),u=!0)),l===e.promise?a(new vV("Promise-chain cycle")):(c=wV(l))?nc(c,l,o,a):o(l)):a(r)}catch(f){s&&!u&&s.exit(),a(f)}},xV=function(e,t){e.notified||(e.notified=!0,$E(function(){for(var r=e.reactions,n;n=r.get();)AV(n,e);e.notified=!1,t&&!e.rejection&&SRe(e)}))},SV=function(e,t,r){var n,i;$Re?(n=bA.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),oa.dispatchEvent(n)):n={promise:t,reason:r},!mRe&&(i=oa["on"+e])?i(n):e===bV&&hRe("Unhandled promise rejection",r)},SRe=function(e){nc(hV,oa,function(){var t=e.facade,r=e.value,n=A4(e),i;if(n&&(i=pRe(function(){Sm?AE.emit("unhandledRejection",r,t):SV(bV,t,r)}),e.rejection=Sm||A4(e)?$V:xE,i.error))throw i.value})},A4=function(e){return e.rejection!==xE&&!e.parent},CRe=function(e){nc(hV,oa,function(){var t=e.facade;Sm?AE.emit("rejectionHandled",t):SV(wRe,t,e.value)})},Al=function(e,t,r){return function(n){e(t,n,r)}},Rl=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=ARe,xV(e,!0))},$A=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new vV("Promise can't be resolved itself");var n=wV(t);n?$E(function(){var i={done:!1};try{nc(n,t,Al($A,i,e),Al(Rl,i,e))}catch(o){Rl(i,o,e)}}):(e.value=t,e.state=yV,xV(e,!1))}catch(i){Rl({done:!1},i,e)}}};if(mV&&(Na=function(t){fRe(this,Oh),cRe(t),nc(Th,this);var r=N1(this);try{t(Al($A,r),Al(Rl,r))}catch(n){Rl(r,n)}},Oh=Na.prototype,Th=function(t){bRe(this,{type:O0,done:!1,notified:!1,parent:!1,reactions:new gRe,rejection:!1,state:y4,value:void 0})},Th.prototype=v4(Oh,"then",function(t,r){var n=N1(this),i=yA(dRe(this,Na));return n.parent=!0,i.ok=Cp(t)?t:!0,i.fail=Cp(r)&&r,i.domain=Sm?AE.domain:void 0,n.state===y4?n.reactions.add(i):$E(function(){AV(i,n)}),i.promise}),$4=function(){var e=new Th,t=N1(e);this.promise=e,this.resolve=Al($A,t),this.reject=Al(Rl,t)},gV.f=yA=function(e){return e===Na||e===xRe?new $4(e):yRe(e)},Cp(Cm)&&gl!==Object.prototype)){w4=gl.then,vRe||v4(gl,"then",function(t,r){var n=this;return new Na(function(i,o){nc(w4,n,i,o)}).then(t,r)},{unsafe:!0});try{delete gl.constructor}catch{}b4&&b4(gl,Oh)}aRe({global:!0,constructor:!0,wrap:!0,forced:mV},{Promise:Na});sRe(Na,O0,!1);lRe(O0);var pd={},ERe=Zt,kRe=pd,ORe=ERe("iterator"),TRe=Array.prototype,IRe=function(e){return e!==void 0&&(kRe.Array===e||TRe[ORe]===e)},MRe=S0,x4=eE,PRe=bc,DRe=pd,_Re=Zt,NRe=_Re("iterator"),CV=function(e){if(!PRe(e))return x4(e,NRe)||x4(e,"@@iterator")||DRe[MRe(e)]},LRe=Sn,RRe=ma,BRe=Gn,FRe=y0,jRe=CV,zRe=TypeError,HRe=function(e,t){var r=arguments.length<2?jRe(e):t;if(RRe(r))return BRe(LRe(r,e));throw new zRe(FRe(e)+" is not iterable")},VRe=Sn,S4=Gn,URe=eE,WRe=function(e,t,r){var n,i;S4(e);try{if(n=URe(e,"return"),!n){if(t==="throw")throw r;return r}n=VRe(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return S4(n),r},KRe=E0,GRe=Sn,qRe=Gn,QRe=y0,YRe=IRe,JRe=ud,C4=ZC,XRe=HRe,ZRe=CV,E4=WRe,e6e=TypeError,Ep=function(e,t){this.stopped=e,this.result=t},k4=Ep.prototype,T0=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=KRe(t,n),c,u,f,d,h,p,g,m=function(b){return c&&E4(c,"normal",b),new Ep(!0,b)},v=function(b){return i?(qRe(b),s?l(b[0],b[1],m):l(b[0],b[1])):s?l(b,m):l(b)};if(o)c=e.iterator;else if(a)c=e;else{if(u=ZRe(e),!u)throw new e6e(QRe(e)+" is not iterable");if(YRe(u)){for(f=0,d=JRe(e);d>f;f++)if(h=v(e[f]),h&&C4(k4,h))return h;return new Ep(!1)}c=XRe(e,u)}for(p=o?e.next:c.next;!(g=GRe(p,c)).done;){try{h=v(g.value)}catch(b){E4(c,"throw",b)}if(typeof h=="object"&&h&&C4(k4,h))return h}return new Ep(!1)},t6e=Zt,EV=t6e("iterator"),kV=!1;try{var r6e=0,O4={next:function(){return{done:!!r6e++}},return:function(){kV=!0}};O4[EV]=function(){return this},Array.from(O4,function(){throw 2})}catch{}var OV=function(e,t){try{if(!t&&!kV)return!1}catch{return!1}var r=!1;try{var n={};n[EV]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},n6e=k0,i6e=OV,o6e=hd.CONSTRUCTOR,TV=o6e||!i6e(function(e){n6e.all(e).then(void 0,function(){})}),a6e=qn,s6e=Sn,l6e=ma,c6e=$c,u6e=yE,f6e=T0,d6e=TV;a6e({target:"Promise",stat:!0,forced:d6e},{all:function(t){var r=this,n=c6e.f(r),i=n.resolve,o=n.reject,a=u6e(function(){var s=l6e(r.resolve),l=[],c=0,u=1;f6e(t,function(f){var d=c++,h=!1;u++,s6e(s,r,f).then(function(p){h||(h=!0,l[d]=p,--u||i(l))},o)}),--u||i(l)});return a.error&&o(a.value),n.promise}});var h6e=qn,p6e=hd.CONSTRUCTOR,wA=k0,g6e=Ls,m6e=ft,v6e=va,T4=wA&&wA.prototype;h6e({target:"Promise",proto:!0,forced:p6e,real:!0},{catch:function(e){return this.then(void 0,e)}});if(m6e(wA)){var I4=g6e("Promise").prototype.catch;T4.catch!==I4&&v6e(T4,"catch",I4,{unsafe:!0})}var b6e=qn,y6e=Sn,$6e=ma,w6e=$c,A6e=yE,x6e=T0,S6e=TV;b6e({target:"Promise",stat:!0,forced:S6e},{race:function(t){var r=this,n=w6e.f(r),i=n.reject,o=A6e(function(){var a=$6e(r.resolve);x6e(t,function(s){y6e(a,r,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var C6e=qn,E6e=Sn,k6e=$c,O6e=hd.CONSTRUCTOR;C6e({target:"Promise",stat:!0,forced:O6e},{reject:function(t){var r=k6e.f(this);return E6e(r.reject,void 0,t),r.promise}});var T6e=Gn,I6e=yr,M6e=$c,P6e=function(e,t){if(T6e(e),I6e(t)&&t.constructor===e)return t;var r=M6e.f(e),n=r.resolve;return n(t),r.promise},D6e=qn,_6e=Ls,N6e=hd.CONSTRUCTOR,L6e=P6e;_6e("Promise");D6e({target:"Promise",stat:!0,forced:N6e},{resolve:function(t){return L6e(this,t)}});var IV={},R6e=xn,B6e=NH,F6e=Kn,j6e=Gn,z6e=yc,H6e=nV;IV.f=R6e&&!B6e?Object.defineProperties:function(t,r){j6e(t);for(var n=z6e(r),i=H6e(r),o=i.length,a=0,s;o>a;)F6e.f(t,s=i[a++],n[s]);return t};var V6e=Gn,U6e=IV,M4=fE,W6e=A0,K6e=oV,G6e=$0,q6e=lE,P4=">",D4="<",AA="prototype",xA="script",MV=q6e("IE_PROTO"),L1=function(){},PV=function(e){return D4+xA+P4+e+D4+"/"+xA+P4},_4=function(e){e.write(PV("")),e.close();var t=e.parentWindow.Object;return e=null,t},Q6e=function(){var e=G6e("iframe"),t="java"+xA+":",r;return e.style.display="none",K6e.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(PV("document.F=Object")),r.close(),r.F},Ih,kp=function(){try{Ih=new ActiveXObject("htmlfile")}catch{}kp=typeof document<"u"?document.domain&&Ih?_4(Ih):Q6e():_4(Ih);for(var e=M4.length;e--;)delete kp[AA][M4[e]];return kp()};W6e[MV]=!0;var DV=Object.create||function(t,r){var n;return t!==null?(L1[AA]=V6e(t),n=new L1,L1[AA]=null,n[MV]=t):n=kp(),r===void 0?n:U6e.f(n,r)},Y6e=Zt,J6e=DV,X6e=Kn.f,SA=Y6e("unscopables"),CA=Array.prototype;CA[SA]===void 0&&X6e(CA,SA,{configurable:!0,value:J6e(null)});var Z6e=function(e){CA[SA][e]=!0},e8e=Mt,t8e=!e8e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),r8e=Cn,n8e=ft,i8e=ld,o8e=lE,a8e=t8e,N4=o8e("IE_PROTO"),EA=Object,s8e=EA.prototype,_V=a8e?EA.getPrototypeOf:function(e){var t=i8e(e);if(r8e(t,N4))return t[N4];var r=t.constructor;return n8e(r)&&t instanceof r?r.prototype:t instanceof EA?s8e:null},l8e=Mt,c8e=ft,u8e=yr,L4=_V,f8e=va,d8e=Zt,kA=d8e("iterator"),NV=!1,vs,R1,B1;[].keys&&(B1=[].keys(),"next"in B1?(R1=L4(L4(B1)),R1!==Object.prototype&&(vs=R1)):NV=!0);var h8e=!u8e(vs)||l8e(function(){var e={};return vs[kA].call(e)!==e});h8e&&(vs={});c8e(vs[kA])||f8e(vs,kA,function(){return this});var LV={IteratorPrototype:vs,BUGGY_SAFARI_ITERATORS:NV},p8e=LV.IteratorPrototype,g8e=DV,m8e=m0,v8e=dd,b8e=pd,y8e=function(){return this},$8e=function(e,t,r,n){var i=t+" Iterator";return e.prototype=g8e(p8e,{next:m8e(+!n,r)}),v8e(e,i,!1),b8e[i]=y8e,e},w8e=qn,A8e=Sn,RV=aE,x8e=ft,S8e=$8e,R4=_V,B4=mE,C8e=dd,E8e=w0,F1=va,k8e=Zt,O8e=pd,BV=LV,T8e=RV.PROPER,I8e=RV.CONFIGURABLE,F4=BV.IteratorPrototype,Mh=BV.BUGGY_SAFARI_ITERATORS,Xc=k8e("iterator"),j4="keys",Zc="values",z4="entries",M8e=function(){return this},FV=function(e,t,r,n,i,o,a){S8e(r,t,n);var s=function(v){if(v===i&&d)return d;if(!Mh&&v&&v in u)return u[v];switch(v){case j4:return function(){return new r(this,v)};case Zc:return function(){return new r(this,v)};case z4:return function(){return new r(this,v)}}return function(){return new r(this)}},l=t+" Iterator",c=!1,u=e.prototype,f=u[Xc]||u["@@iterator"]||i&&u[i],d=!Mh&&f||s(i),h=t==="Array"&&u.entries||f,p,g,m;if(h&&(p=R4(h.call(new e)),p!==Object.prototype&&p.next&&(R4(p)!==F4&&(B4?B4(p,F4):x8e(p[Xc])||F1(p,Xc,M8e)),C8e(p,l,!0))),T8e&&i===Zc&&f&&f.name!==Zc&&(I8e?E8e(u,"name",Zc):(c=!0,d=function(){return A8e(f,this)})),i)if(g={values:s(Zc),keys:o?d:s(j4),entries:s(z4)},a)for(m in g)(Mh||c||!(m in u))&&F1(u,m,g[m]);else w8e({target:t,proto:!0,forced:Mh||c},g);return u[Xc]!==d&&F1(u,Xc,d,{name:i}),O8e[t]=d,g},jV=function(e,t){return{value:e,done:t}},P8e=yc,SE=Z6e,H4=pd,zV=cd,D8e=Kn.f,_8e=FV,Ph=jV,N8e=xn,HV="Array Iterator",L8e=zV.set,R8e=zV.getterFor(HV),B8e=_8e(Array,"Array",function(e,t){L8e(this,{type:HV,target:P8e(e),index:0,kind:t})},function(){var e=R8e(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Ph(void 0,!0);switch(e.kind){case"keys":return Ph(r,!1);case"values":return Ph(t[r],!1)}return Ph([r,t[r]],!1)},"values"),V4=H4.Arguments=H4.Array;SE("keys");SE("values");SE("entries");if(N8e&&V4.name!=="values")try{D8e(V4,"name",{value:"values"})}catch{}var F8e=S0,j8e=String,VV=function(e){if(F8e(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return j8e(e)},CE=St,z8e=uE,H8e=VV,V8e=XC,U8e=CE("".charAt),U4=CE("".charCodeAt),W8e=CE("".slice),K8e=function(e){return function(t,r){var n=H8e(V8e(t)),i=z8e(r),o=n.length,a,s;return i<0||i>=o?e?"":void 0:(a=U4(n,i),a<55296||a>56319||i+1===o||(s=U4(n,i+1))<56320||s>57343?e?U8e(n,i):a:e?W8e(n,i,i+2):(a-55296<<10)+(s-56320)+65536)}},G8e={charAt:K8e(!0)},q8e=G8e.charAt,Q8e=VV,UV=cd,Y8e=FV,W4=jV,WV="String Iterator",J8e=UV.set,X8e=UV.getterFor(WV);Y8e(String,"String",function(e){J8e(this,{type:WV,string:Q8e(e),index:0})},function(){var t=X8e(this),r=t.string,n=t.index,i;return n>=r.length?W4(void 0,!0):(i=q8e(r,n),t.index+=i.length,W4(i,!1))});var KV={exports:{}},GV={},K4=zH,Z8e=ud,e7e=UH,t7e=Array,r7e=Math.max,n7e=function(e,t,r){for(var n=Z8e(e),i=K4(t,n),o=K4(r===void 0?n:r,n),a=t7e(r7e(o-i,0)),s=0;i<o;i++,s++)e7e(a,s,e[i]);return a.length=s,a},i7e=Ns,o7e=yc,qV=x0.f,a7e=n7e,QV=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s7e=function(e){try{return qV(e)}catch{return a7e(QV)}};GV.f=function(t){return QV&&i7e(t)==="Window"?s7e(t):qV(o7e(t))};var l7e=Mt,c7e=l7e(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),u7e=Mt,f7e=yr,d7e=Ns,G4=c7e,Op=Object.isExtensible,h7e=u7e(function(){Op(1)}),p7e=h7e||G4?function(t){return!f7e(t)||G4&&d7e(t)==="ArrayBuffer"?!1:Op?Op(t):!0}:Op,g7e=Mt,m7e=!g7e(function(){return Object.isExtensible(Object.preventExtensions({}))}),v7e=qn,b7e=St,y7e=A0,$7e=yr,EE=Cn,w7e=Kn.f,q4=x0,A7e=GV,kE=p7e,x7e=nE,S7e=m7e,YV=!1,so=x7e("meta"),C7e=0,OE=function(e){w7e(e,so,{value:{objectID:"O"+C7e++,weakData:{}}})},E7e=function(e,t){if(!$7e(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!EE(e,so)){if(!kE(e))return"F";if(!t)return"E";OE(e)}return e[so].objectID},k7e=function(e,t){if(!EE(e,so)){if(!kE(e))return!0;if(!t)return!1;OE(e)}return e[so].weakData},O7e=function(e){return S7e&&YV&&kE(e)&&!EE(e,so)&&OE(e),e},T7e=function(){I7e.enable=function(){},YV=!0;var e=q4.f,t=b7e([].splice),r={};r[so]=1,e(r).length&&(q4.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===so){t(i,o,1);break}return i},v7e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:A7e.f}))},I7e=KV.exports={enable:T7e,fastKey:E7e,getWeakData:k7e,onFreeze:O7e};y7e[so]=!0;var JV=KV.exports,M7e=ft,P7e=yr,Q4=mE,D7e=function(e,t,r){var n,i;return Q4&&M7e(n=t.constructor)&&n!==r&&P7e(i=n.prototype)&&i!==r.prototype&&Q4(e,i),e},_7e=qn,N7e=Gt,L7e=St,Y4=hE,R7e=va,B7e=JV,F7e=T0,j7e=vE,z7e=ft,H7e=bc,j1=yr,z1=Mt,V7e=OV,U7e=dd,W7e=D7e,K7e=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=N7e[e],s=a&&a.prototype,l=a,c={},u=function(v){var b=L7e(s[v]);R7e(s,v,v==="add"?function(w){return b(this,w===0?0:w),this}:v==="delete"?function(y){return i&&!j1(y)?!1:b(this,y===0?0:y)}:v==="get"?function(w){return i&&!j1(w)?void 0:b(this,w===0?0:w)}:v==="has"?function(w){return i&&!j1(w)?!1:b(this,w===0?0:w)}:function(w,$){return b(this,w===0?0:w,$),this})},f=Y4(e,!z7e(a)||!(i||s.forEach&&!z1(function(){new a().entries().next()})));if(f)l=r.getConstructor(t,e,n,o),B7e.enable();else if(Y4(e,!0)){var d=new l,h=d[o](i?{}:-0,1)!==d,p=z1(function(){d.has(1)}),g=V7e(function(v){new a(v)}),m=!i&&z1(function(){for(var v=new a,b=5;b--;)v[o](b,b);return!v.has(-0)});g||(l=t(function(v,b){j7e(v,s);var y=W7e(new a,v,l);return H7e(b)||F7e(b,y[o],{that:y,AS_ENTRIES:n}),y}),l.prototype=s,s.constructor=l),(p||m)&&(u("delete"),u("has"),n&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,_7e({global:!0,constructor:!0,forced:l!==a},c),U7e(l,e),i||r.setStrong(l,e,n),l},G7e=va,q7e=function(e,t,r){for(var n in t)G7e(e,n,t[n],r);return e},Q7e=E0,Y7e=St,J7e=JC,X7e=ld,Z7e=ud,e9e=JH,J4=Y7e([].push),X4=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,s=e===5||o;return function(l,c,u,f){for(var d=X7e(l),h=J7e(d),p=Z7e(h),g=Q7e(c,u),m=0,v=f||e9e,b=t?v(l,p):r||a?v(l,0):void 0,y,w;p>m;m++)if((s||m in h)&&(y=h[m],w=g(y,m,d),e))if(t)b[m]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:J4(b,y)}else switch(e){case 4:return!1;case 7:J4(b,y)}return o?-1:n||i?i:b}},t9e={find:X4(5),findIndex:X4(6)},r9e=St,Z4=q7e,Dh=JV.getWeakData,n9e=vE,i9e=Gn,o9e=bc,H1=yr,a9e=T0,XV=t9e,eD=Cn,ZV=cd,s9e=ZV.set,l9e=ZV.getterFor,c9e=XV.find,u9e=XV.findIndex,f9e=r9e([].splice),d9e=0,_h=function(e){return e.frozen||(e.frozen=new eU)},eU=function(){this.entries=[]},V1=function(e,t){return c9e(e.entries,function(r){return r[0]===t})};eU.prototype={get:function(e){var t=V1(this,e);if(t)return t[1]},has:function(e){return!!V1(this,e)},set:function(e,t){var r=V1(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=u9e(this.entries,function(r){return r[0]===e});return~t&&f9e(this.entries,t,1),!!~t}};var h9e={getConstructor:function(e,t,r,n){var i=e(function(l,c){n9e(l,o),s9e(l,{type:t,id:d9e++,frozen:void 0}),o9e(c)||a9e(c,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,a=l9e(t),s=function(l,c,u){var f=a(l),d=Dh(i9e(c),!0);return d===!0?_h(f).set(c,u):d[f.id]=u,l};return Z4(o,{delete:function(l){var c=a(this);if(!H1(l))return!1;var u=Dh(l);return u===!0?_h(c).delete(l):u&&eD(u,c.id)&&delete u[c.id]},has:function(c){var u=a(this);if(!H1(c))return!1;var f=Dh(c);return f===!0?_h(u).has(c):f&&eD(f,u.id)}}),Z4(o,r?{get:function(c){var u=a(this);if(H1(c)){var f=Dh(c);return f===!0?_h(u).get(c):f?f[u.id]:void 0}},set:function(c,u){return s(this,c,u)}}:{add:function(c){return s(this,c,!0)}}),i}},p9e=K7e,g9e=h9e;p9e("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g9e);var m9e={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},v9e=$0,U1=v9e("span").classList,tD=U1&&U1.constructor&&U1.constructor.prototype,b9e=tD===Object.prototype?void 0:tD,rD=Gt,tU=m9e,y9e=b9e,wu=B8e,nD=w0,$9e=dd,w9e=Zt,W1=w9e("iterator"),K1=wu.values,rU=function(e,t){if(e){if(e[W1]!==K1)try{nD(e,W1,K1)}catch{e[W1]=K1}if($9e(e,t,!0),tU[t]){for(var r in wu)if(e[r]!==wu[r])try{nD(e,r,wu[r])}catch{e[r]=wu[r]}}}};for(var G1 in tU)rU(rD[G1]&&rD[G1].prototype,G1);rU(y9e,"DOMTokenList");function iD(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var Tp,nU,iU,Au="#ch-tooltip",oD={enabled:!0,text:function(t,r,n){return"".concat(r," - ").concat(n.format("LLLL"))}},A9e={placement:"top",modifiers:[{name:"offset",options:{offset:[0,8]}}]},oU={getBoundingClientRect:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{width:0,height:0,top:r,right:t,bottom:r,left:t,x:t,y:r,toJSON:function(){}}}},x9e=(function(){function e(t){K3e(this,e),Tp.add(this),this.name="Tooltip",this.calendar=t,this.root=null,this.popperInstance=null,this.options=oD,this.listenerAttached=!1}return q3e(e,[{key:"setup",value:function(r){this.options=Object.assign(Object.assign({},oD),r);var n=this.calendar.eventEmitter;if(!this.options.enabled){this.listenerAttached&&(n.off("mouseover",this.mouseOverCallback,this),n.off("mouseout",this.mouseOutCallback,this),this.listenerAttached=!1),this.destroy();return}if(this.popperOptions=Object.assign(Object.assign({},A9e),this.options),this.root=document.getElementById(Au.slice(1)),!this.root){var i=document.createElement("div");i.setAttribute("id",Au.slice(1)),i.setAttribute("role","tooltip"),i.innerHTML='<div id="'.concat(Au.slice(1),'-arrow" data-popper-arrow="true"></div>')+'<span id="'.concat(Au.slice(1),'-body"></span>'),this.root=document.body.appendChild(i)}this.root.setAttribute("data-theme",this.calendar.options.options.theme),this.popperInstance=W3e(oU,this.root,this.popperOptions),this.listenerAttached||(n.on("mouseover",this.mouseOverCallback,this),n.on("mouseout",this.mouseOutCallback,this),this.listenerAttached=!0)}},{key:"mouseOverCallback",value:function(r,n,i){iD(this,Tp,"m",nU).call(this,r.target,n,i)}},{key:"mouseOutCallback",value:function(){iD(this,Tp,"m",iU).call(this)}},{key:"paint",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){return this.root&&this.root.remove(),Promise.resolve()}}]),e})();Tp=new WeakSet,nU=function(t,r,n){var i=this,o=this.options.text,a=o?o(r,n,this.calendar.dateHelper.date(r)):null;a&&(oU.getBoundingClientRect=function(){return t.getBoundingClientRect()},document.getElementById("".concat(Au.slice(1),"-body")).innerHTML=a,this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},i.popperOptions),{modifiers:[].concat($P(i.popperOptions.modifiers),[{name:"eventListeners",enabled:!0}])})}),this.popperInstance.update(),this.root.setAttribute("data-show","1"))},iU=function(){var t=this;this.root.removeAttribute("data-show"),this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},t.popperOptions),{modifiers:[].concat($P(t.popperOptions.modifiers),[{name:"eventListeners",enabled:!1}])})})};function S9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O9e(n.key),n)}}function E9e(e,t,r){return t&&C9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k9e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function O9e(e){var t=k9e(e,"string");return typeof t=="symbol"?t:String(t)}var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pt=function(e){try{return!!e()}catch{return!0}},T9e=Pt,En=!T9e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),I9e=Pt,I0=!I9e(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),aU=I0,sU=Function.prototype,OA=sU.call,M9e=aU&&sU.bind.bind(OA,OA),gt=aU?M9e:function(e){return function(){return OA.apply(e,arguments)}},wc=function(e){return e==null},P9e=wc,D9e=TypeError,TE=function(e){if(P9e(e))throw new D9e("Can't call method on "+e);return e},_9e=TE,N9e=Object,gd=function(e){return N9e(_9e(e))},L9e=gt,R9e=gd,B9e=L9e({}.hasOwnProperty),kn=Object.hasOwn||function(t,r){return B9e(R9e(t),r)},TA=En,F9e=kn,lU=Function.prototype,j9e=TA&&Object.getOwnPropertyDescriptor,IE=F9e(lU,"name"),z9e=IE&&(function(){}).name==="something",H9e=IE&&(!TA||TA&&j9e(lU,"name").configurable),ME={EXISTS:IE,PROPER:z9e,CONFIGURABLE:H9e},cU={exports:{}},IA=typeof document=="object"&&document.all,V9e=typeof IA>"u"&&IA!==void 0,uU={all:IA,IS_HTMLDDA:V9e},fU=uU,U9e=fU.all,dt=fU.IS_HTMLDDA?function(e){return typeof e=="function"||e===U9e}:function(e){return typeof e=="function"},eu=function(e){return e&&e.Math===Math&&e},Dt=eu(typeof globalThis=="object"&&globalThis)||eu(typeof window=="object"&&window)||eu(typeof self=="object"&&self)||eu(typeof Nh=="object"&&Nh)||eu(typeof Nh=="object"&&Nh)||(function(){return this})()||Function("return this")(),aD=Dt,W9e=Object.defineProperty,PE=function(e,t){try{W9e(aD,e,{value:t,configurable:!0,writable:!0})}catch{aD[e]=t}return t},K9e=Dt,G9e=PE,sD="__core-js_shared__",q9e=K9e[sD]||G9e(sD,{}),DE=q9e,Q9e=gt,Y9e=dt,MA=DE,J9e=Q9e(Function.toString);Y9e(MA.inspectSource)||(MA.inspectSource=function(e){return J9e(e)});var _E=MA.inspectSource,X9e=Dt,Z9e=dt,lD=X9e.WeakMap,eBe=Z9e(lD)&&/native code/.test(String(lD)),cD=dt,dU=uU,tBe=dU.all,Fr=dU.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:cD(e)||e===tBe}:function(e){return typeof e=="object"?e!==null:cD(e)},Qn={},rBe=Dt,uD=Fr,PA=rBe.document,nBe=uD(PA)&&uD(PA.createElement),M0=function(e){return nBe?PA.createElement(e):{}},iBe=En,oBe=Pt,aBe=M0,hU=!iBe&&!oBe(function(){return Object.defineProperty(aBe("div"),"a",{get:function(){return 7}}).a!==7}),sBe=En,lBe=Pt,pU=sBe&&lBe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),cBe=Fr,uBe=String,fBe=TypeError,Yn=function(e){if(cBe(e))return e;throw new fBe(uBe(e)+" is not an object")},dBe=I0,Lh=Function.prototype.call,On=dBe?Lh.bind(Lh):function(){return Lh.apply(Lh,arguments)},q1=Dt,hBe=dt,pBe=function(e){return hBe(e)?e:void 0},Rs=function(e,t){return arguments.length<2?pBe(q1[e]):q1[e]&&q1[e][t]},gBe=gt,NE=gBe({}.isPrototypeOf),P0=typeof navigator<"u"&&String(navigator.userAgent)||"",gU=Dt,Q1=P0,fD=gU.process,dD=gU.Deno,hD=fD&&fD.versions||dD&&dD.version,pD=hD&&hD.v8,_n,Em;pD&&(_n=pD.split("."),Em=_n[0]>0&&_n[0]<4?1:+(_n[0]+_n[1]));!Em&&Q1&&(_n=Q1.match(/Edge\/(\d+)/),(!_n||_n[1]>=74)&&(_n=Q1.match(/Chrome\/(\d+)/),_n&&(Em=+_n[1])));var mU=Em,gD=mU,mBe=Pt,vBe=Dt,bBe=vBe.String,vU=!!Object.getOwnPropertySymbols&&!mBe(function(){var e=Symbol("symbol detection");return!bBe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&gD&&gD<41}),yBe=vU,bU=yBe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$Be=Rs,wBe=dt,ABe=NE,xBe=bU,SBe=Object,yU=xBe?function(e){return typeof e=="symbol"}:function(e){var t=$Be("Symbol");return wBe(t)&&ABe(t.prototype,SBe(e))},CBe=String,D0=function(e){try{return CBe(e)}catch{return"Object"}},EBe=dt,kBe=D0,OBe=TypeError,ba=function(e){if(EBe(e))return e;throw new OBe(kBe(e)+" is not a function")},TBe=ba,IBe=wc,LE=function(e,t){var r=e[t];return IBe(r)?void 0:TBe(r)},Y1=On,J1=dt,X1=Fr,MBe=TypeError,PBe=function(e,t){var r,n;if(t==="string"&&J1(r=e.toString)&&!X1(n=Y1(r,e))||J1(r=e.valueOf)&&!X1(n=Y1(r,e))||t!=="string"&&J1(r=e.toString)&&!X1(n=Y1(r,e)))return n;throw new MBe("Can't convert object to primitive value")},$U={exports:{}},mD=DE;($U.exports=function(e,t){return mD[e]||(mD[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var wU=$U.exports,DBe=gt,_Be=0,NBe=Math.random(),LBe=DBe(1 .toString),RE=function(e){return"Symbol("+(e===void 0?"":e)+")_"+LBe(++_Be+NBe,36)},RBe=Dt,BBe=wU,vD=kn,FBe=RE,jBe=vU,zBe=bU,xl=RBe.Symbol,Z1=BBe("wks"),HBe=zBe?xl.for||xl:xl&&xl.withoutSetter||FBe,$r=function(e){return vD(Z1,e)||(Z1[e]=jBe&&vD(xl,e)?xl[e]:HBe("Symbol."+e)),Z1[e]},VBe=On,bD=Fr,yD=yU,UBe=LE,WBe=PBe,KBe=$r,GBe=TypeError,qBe=KBe("toPrimitive"),QBe=function(e,t){if(!bD(e)||yD(e))return e;var r=UBe(e,qBe),n;if(r){if(t===void 0&&(t="default"),n=VBe(r,e,t),!bD(n)||yD(n))return n;throw new GBe("Can't convert object to primitive value")}return t===void 0&&(t="number"),WBe(e,t)},YBe=QBe,JBe=yU,BE=function(e){var t=YBe(e,"string");return JBe(t)?t:t+""},XBe=En,ZBe=hU,eFe=pU,Rh=Yn,$D=BE,tFe=TypeError,e$=Object.defineProperty,rFe=Object.getOwnPropertyDescriptor,t$="enumerable",r$="configurable",n$="writable";Qn.f=XBe?eFe?function(t,r,n){if(Rh(t),r=$D(r),Rh(n),typeof t=="function"&&r==="prototype"&&"value"in n&&n$ in n&&!n[n$]){var i=rFe(t,r);i&&i[n$]&&(t[r]=n.value,n={configurable:r$ in n?n[r$]:i[r$],enumerable:t$ in n?n[t$]:i[t$],writable:!1})}return e$(t,r,n)}:e$:function(t,r,n){if(Rh(t),r=$D(r),Rh(n),ZBe)try{return e$(t,r,n)}catch{}if("get"in n||"set"in n)throw new tFe("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var _0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},nFe=En,iFe=Qn,oFe=_0,md=nFe?function(e,t,r){return iFe.f(e,t,oFe(1,r))}:function(e,t,r){return e[t]=r,e},aFe=wU,sFe=RE,wD=aFe("keys"),FE=function(e){return wD[e]||(wD[e]=sFe(e))},N0={},lFe=eBe,AU=Dt,cFe=Fr,uFe=md,i$=kn,o$=DE,fFe=FE,dFe=N0,AD="Object already initialized",DA=AU.TypeError,hFe=AU.WeakMap,km,Mf,Om,pFe=function(e){return Om(e)?Mf(e):km(e,{})},gFe=function(e){return function(t){var r;if(!cFe(t)||(r=Mf(t)).type!==e)throw new DA("Incompatible receiver, "+e+" required");return r}};if(lFe||o$.state){var Zn=o$.state||(o$.state=new hFe);Zn.get=Zn.get,Zn.has=Zn.has,Zn.set=Zn.set,km=function(e,t){if(Zn.has(e))throw new DA(AD);return t.facade=e,Zn.set(e,t),t},Mf=function(e){return Zn.get(e)||{}},Om=function(e){return Zn.has(e)}}else{var il=fFe("state");dFe[il]=!0,km=function(e,t){if(i$(e,il))throw new DA(AD);return t.facade=e,uFe(e,il,t),t},Mf=function(e){return i$(e,il)?e[il]:{}},Om=function(e){return i$(e,il)}}var vd={set:km,get:Mf,has:Om,enforce:pFe,getterFor:gFe},jE=gt,mFe=Pt,vFe=dt,Bh=kn,_A=En,bFe=ME.CONFIGURABLE,yFe=_E,xU=vd,$Fe=xU.enforce,wFe=xU.get,xD=String,Ip=Object.defineProperty,AFe=jE("".slice),xFe=jE("".replace),SFe=jE([].join),CFe=_A&&!mFe(function(){return Ip(function(){},"length",{value:8}).length!==8}),EFe=String(String).split("String"),kFe=cU.exports=function(e,t,r){AFe(xD(t),0,7)==="Symbol("&&(t="["+xFe(xD(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Bh(e,"name")||bFe&&e.name!==t)&&(_A?Ip(e,"name",{value:t,configurable:!0}):e.name=t),CFe&&r&&Bh(r,"arity")&&e.length!==r.arity&&Ip(e,"length",{value:r.arity});try{r&&Bh(r,"constructor")&&r.constructor?_A&&Ip(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=$Fe(e);return Bh(n,"source")||(n.source=SFe(EFe,typeof t=="string"?t:"")),e};Function.prototype.toString=kFe(function(){return vFe(this)&&wFe(this).source||yFe(this)},"toString");var SU=cU.exports,SD=SU,OFe=Qn,CU=function(e,t,r){return r.get&&SD(r.get,t,{getter:!0}),r.set&&SD(r.set,t,{setter:!0}),OFe.f(e,t,r)},TFe=En,IFe=ME.EXISTS,EU=gt,MFe=CU,kU=Function.prototype,PFe=EU(kU.toString),OU=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,DFe=EU(OU.exec),_Fe="name";TFe&&!IFe&&MFe(kU,_Fe,{configurable:!0,get:function(){try{return DFe(OU,PFe(this))[1]}catch{return""}}});var L0={},zE={},TU={}.propertyIsEnumerable,IU=Object.getOwnPropertyDescriptor,NFe=IU&&!TU.call({1:2},1);zE.f=NFe?function(t){var r=IU(this,t);return!!r&&r.enumerable}:TU;var MU=gt,LFe=MU({}.toString),RFe=MU("".slice),Bs=function(e){return RFe(LFe(e),8,-1)},BFe=gt,FFe=Pt,jFe=Bs,a$=Object,zFe=BFe("".split),R0=FFe(function(){return!a$("z").propertyIsEnumerable(0)})?function(e){return jFe(e)==="String"?zFe(e,""):a$(e)}:a$,HFe=R0,VFe=TE,Fs=function(e){return HFe(VFe(e))},UFe=En,WFe=On,KFe=zE,GFe=_0,qFe=Fs,QFe=BE,YFe=kn,JFe=hU,CD=Object.getOwnPropertyDescriptor;L0.f=UFe?CD:function(t,r){if(t=qFe(t),r=QFe(r),JFe)try{return CD(t,r)}catch{}if(YFe(t,r))return GFe(!WFe(KFe.f,t,r),t[r])};var XFe=dt,ZFe=Qn,eje=SU,tje=PE,ya=function(e,t,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:t;if(XFe(r)&&eje(r,o,n),n.global)i?e[t]=r:tje(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:ZFe.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},B0={},rje=Math.ceil,nje=Math.floor,ije=Math.trunc||function(t){var r=+t;return(r>0?nje:rje)(r)},oje=ije,HE=function(e){var t=+e;return t!==t||t===0?0:oje(t)},aje=HE,sje=Math.max,lje=Math.min,PU=function(e,t){var r=aje(e);return r<0?sje(r+t,0):lje(r,t)},cje=HE,uje=Math.min,fje=function(e){return e>0?uje(cje(e),9007199254740991):0},dje=fje,F0=function(e){return dje(e.length)},hje=Fs,pje=PU,gje=F0,mje=function(e){return function(t,r,n){var i=hje(t),o=gje(i),a=pje(n,o),s;if(e&&r!==r){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},vje={indexOf:mje(!1)},bje=gt,s$=kn,yje=Fs,$je=vje.indexOf,wje=N0,ED=bje([].push),DU=function(e,t){var r=yje(e),n=0,i=[],o;for(o in r)!s$(wje,o)&&s$(r,o)&&ED(i,o);for(;t.length>n;)s$(r,o=t[n++])&&(~$je(i,o)||ED(i,o));return i},VE=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Aje=DU,xje=VE,Sje=xje.concat("length","prototype");B0.f=Object.getOwnPropertyNames||function(t){return Aje(t,Sje)};var UE={};UE.f=Object.getOwnPropertySymbols;var Cje=Rs,Eje=gt,kje=B0,Oje=UE,Tje=Yn,Ije=Eje([].concat),Mje=Cje("Reflect","ownKeys")||function(t){var r=kje.f(Tje(t)),n=Oje.f;return n?Ije(r,n(t)):r},kD=kn,Pje=Mje,Dje=L0,_je=Qn,Nje=function(e,t,r){for(var n=Pje(t),i=_je.f,o=Dje.f,a=0;a<n.length;a++){var s=n[a];!kD(e,s)&&!(r&&kD(r,s))&&i(e,s,o(t,s))}},Lje=Pt,Rje=dt,Bje=/#|\.prototype\./,bd=function(e,t){var r=jje[Fje(e)];return r===Hje?!0:r===zje?!1:Rje(t)?Lje(t):!!t},Fje=bd.normalize=function(e){return String(e).replace(Bje,".").toLowerCase()},jje=bd.data={},zje=bd.NATIVE="N",Hje=bd.POLYFILL="P",WE=bd,l$=Dt,Vje=L0.f,Uje=md,Wje=ya,Kje=PE,Gje=Nje,qje=WE,Tn=function(e,t){var r=e.target,n=e.global,i=e.stat,o,a,s,l,c,u;if(n?a=l$:i?a=l$[r]||Kje(r,{}):a=(l$[r]||{}).prototype,a)for(s in t){if(c=t[s],e.dontCallGetSet?(u=Vje(a,s),l=u&&u.value):l=a[s],o=qje(n?s:r+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;Gje(c,l)}(e.sham||l&&l.sham)&&Uje(c,"sham",!0),Wje(a,s,c,e)}},Qje=DU,Yje=VE,KE=Object.keys||function(t){return Qje(t,Yje)},OD=En,Jje=gt,Xje=On,Zje=Pt,c$=KE,eze=UE,tze=zE,rze=gd,nze=R0,ol=Object.assign,TD=Object.defineProperty,ize=Jje([].concat),oze=!ol||Zje(function(){if(OD&&ol({b:1},ol(TD({},"a",{enumerable:!0,get:function(){TD(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),ol({},e)[r]!==7||c$(ol({},t)).join("")!==n})?function(t,r){for(var n=rze(t),i=arguments.length,o=1,a=eze.f,s=tze.f;i>o;)for(var l=nze(arguments[o++]),c=a?ize(c$(l),a(l)):c$(l),u=c.length,f=0,d;u>f;)d=c[f++],(!OD||Xje(s,l,d))&&(n[d]=l[d]);return n}:ol,aze=Tn,ID=oze;aze({target:"Object",stat:!0,arity:2,forced:Object.assign!==ID},{assign:ID});var sze=$r,lze=sze("toStringTag"),_U={};_U[lze]="z";var GE=String(_U)==="[object z]",cze=GE,uze=dt,Mp=Bs,fze=$r,dze=fze("toStringTag"),hze=Object,pze=Mp((function(){return arguments})())==="Arguments",gze=function(e,t){try{return e[t]}catch{}},j0=cze?Mp:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=gze(t=hze(e),dze))=="string"?r:pze?Mp(t):(n=Mp(t))==="Object"&&uze(t.callee)?"Arguments":n},mze=GE,vze=j0,bze=mze?{}.toString:function(){return"[object "+vze(this)+"]"},yze=GE,$ze=ya,wze=bze;yze||$ze(Object.prototype,"toString",wze,{unsafe:!0});var Aze=Dt,xze=Bs,z0=xze(Aze.process)==="process",Sze=gt,Cze=ba,Eze=function(e,t,r){try{return Sze(Cze(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},kze=dt,Oze=String,Tze=TypeError,Ize=function(e){if(typeof e=="object"||kze(e))return e;throw new Tze("Can't set "+Oze(e)+" as a prototype")},Mze=Eze,Pze=Yn,Dze=Ize,qE=Object.setPrototypeOf||("__proto__"in{}?(function(){var e=!1,t={},r;try{r=Mze(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,o){return Pze(i),Dze(o),e?r(i,o):i.__proto__=o,i}})():void 0),_ze=Qn.f,Nze=kn,Lze=$r,MD=Lze("toStringTag"),yd=function(e,t,r){e&&!r&&(e=e.prototype),e&&!Nze(e,MD)&&_ze(e,MD,{configurable:!0,value:t})},Rze=Rs,Bze=CU,Fze=$r,jze=En,PD=Fze("species"),zze=function(e){var t=Rze(e);jze&&t&&!t[PD]&&Bze(t,PD,{configurable:!0,get:function(){return this}})},Hze=NE,Vze=TypeError,QE=function(e,t){if(Hze(t,e))return e;throw new Vze("Incorrect invocation")},Uze=gt,Wze=Pt,NU=dt,Kze=j0,Gze=Rs,qze=_E,LU=function(){},Qze=[],RU=Gze("Reflect","construct"),YE=/^\s*(?:class|function)\b/,Yze=Uze(YE.exec),Jze=!YE.test(LU),tu=function(t){if(!NU(t))return!1;try{return RU(LU,Qze,t),!0}catch{return!1}},BU=function(t){if(!NU(t))return!1;switch(Kze(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Jze||!!Yze(YE,qze(t))}catch{return!0}};BU.sham=!0;var FU=!RU||Wze(function(){var e;return tu(tu.call)||!tu(Object)||!tu(function(){e=!0})||e})?BU:tu,Xze=FU,Zze=D0,eHe=TypeError,tHe=function(e){if(Xze(e))return e;throw new eHe(Zze(e)+" is not a constructor")},DD=Yn,rHe=tHe,nHe=wc,iHe=$r,oHe=iHe("species"),aHe=function(e,t){var r=DD(e).constructor,n;return r===void 0||nHe(n=DD(r)[oHe])?t:rHe(n)},sHe=I0,jU=Function.prototype,_D=jU.apply,ND=jU.call,lHe=typeof Reflect=="object"&&Reflect.apply||(sHe?ND.bind(_D):function(){return ND.apply(_D,arguments)}),cHe=Bs,uHe=gt,fHe=function(e){if(cHe(e)==="Function")return uHe(e)},LD=fHe,dHe=ba,hHe=I0,pHe=LD(LD.bind),H0=function(e,t){return dHe(e),t===void 0?e:hHe?pHe(e,t):function(){return e.apply(t,arguments)}},gHe=Rs,zU=gHe("document","documentElement"),mHe=gt,vHe=mHe([].slice),bHe=TypeError,yHe=function(e,t){if(e<t)throw new bHe("Not enough arguments");return e},$He=P0,HU=/(?:ipad|iphone|ipod).*applewebkit/i.test($He),Gr=Dt,wHe=lHe,AHe=H0,RD=dt,xHe=kn,VU=Pt,BD=zU,SHe=vHe,FD=M0,CHe=yHe,EHe=HU,kHe=z0,NA=Gr.setImmediate,jD=Gr.clearImmediate,OHe=Gr.process,u$=Gr.Dispatch,THe=Gr.Function,zD=Gr.MessageChannel,IHe=Gr.String,f$=0,Ku={},HD="onreadystatechange",Pf,Ta,d$,h$;VU(function(){Pf=Gr.location});var JE=function(e){if(xHe(Ku,e)){var t=Ku[e];delete Ku[e],t()}},p$=function(e){return function(){JE(e)}},VD=function(e){JE(e.data)},UD=function(e){Gr.postMessage(IHe(e),Pf.protocol+"//"+Pf.host)};(!NA||!jD)&&(NA=function(t){CHe(arguments.length,1);var r=RD(t)?t:THe(t),n=SHe(arguments,1);return Ku[++f$]=function(){wHe(r,void 0,n)},Ta(f$),f$},jD=function(t){delete Ku[t]},kHe?Ta=function(e){OHe.nextTick(p$(e))}:u$&&u$.now?Ta=function(e){u$.now(p$(e))}:zD&&!EHe?(d$=new zD,h$=d$.port2,d$.port1.onmessage=VD,Ta=AHe(h$.postMessage,h$)):Gr.addEventListener&&RD(Gr.postMessage)&&!Gr.importScripts&&Pf&&Pf.protocol!=="file:"&&!VU(UD)?(Ta=UD,Gr.addEventListener("message",VD,!1)):HD in FD("script")?Ta=function(e){BD.appendChild(FD("script"))[HD]=function(){BD.removeChild(this),JE(e)}}:Ta=function(e){setTimeout(p$(e),0)});var UU={set:NA},WU=function(){this.head=null,this.tail=null};WU.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var KU=WU,MHe=P0,PHe=/ipad|iphone|ipod/i.test(MHe)&&typeof Pebble<"u",DHe=P0,_He=/web0s(?!.*chrome)/i.test(DHe),bs=Dt,WD=H0,NHe=L0.f,g$=UU.set,LHe=KU,RHe=HU,BHe=PHe,FHe=_He,m$=z0,KD=bs.MutationObserver||bs.WebKitMutationObserver,GD=bs.document,qD=bs.process,Fh=bs.Promise,QD=NHe(bs,"queueMicrotask"),LA=QD&&QD.value,al,v$,b$,jh,YD;if(!LA){var zh=new LHe,Hh=function(){var e,t;for(m$&&(e=qD.domain)&&e.exit();t=zh.get();)try{t()}catch(r){throw zh.head&&al(),r}e&&e.enter()};!RHe&&!m$&&!FHe&&KD&&GD?(v$=!0,b$=GD.createTextNode(""),new KD(Hh).observe(b$,{characterData:!0}),al=function(){b$.data=v$=!v$}):!BHe&&Fh&&Fh.resolve?(jh=Fh.resolve(void 0),jh.constructor=Fh,YD=WD(jh.then,jh),al=function(){YD(Hh)}):m$?al=function(){qD.nextTick(Hh)}:(g$=WD(g$,bs),al=function(){g$(Hh)}),LA=function(e){zh.head||al(),zh.add(e)}}var jHe=LA,zHe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},XE=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},HHe=Dt,V0=HHe.Promise,GU=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",VHe=GU,UHe=z0,WHe=!VHe&&!UHe&&typeof window=="object"&&typeof document=="object",KHe=Dt,Gu=V0,GHe=dt,qHe=WE,QHe=_E,YHe=$r,JHe=WHe,XHe=GU,y$=mU;Gu&&Gu.prototype;var ZHe=YHe("species"),RA=!1,qU=GHe(KHe.PromiseRejectionEvent),eVe=qHe("Promise",function(){var e=QHe(Gu),t=e!==String(Gu);if(!t&&y$===66)return!0;if(!y$||y$<51||!/native code/.test(e)){var r=new Gu(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};if(i[ZHe]=n,RA=r.then(function(){})instanceof n,!RA)return!0}return!t&&(JHe||XHe)&&!qU}),$d={CONSTRUCTOR:eVe,REJECTION_EVENT:qU,SUBCLASSING:RA},Ac={},JD=ba,tVe=TypeError,rVe=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw new tVe("Bad Promise constructor");t=n,r=i}),this.resolve=JD(t),this.reject=JD(r)};Ac.f=function(e){return new rVe(e)};var nVe=Tn,Tm=z0,aa=Dt,ic=On,XD=ya,ZD=qE,iVe=yd,oVe=zze,aVe=ba,Pp=dt,sVe=Fr,lVe=QE,cVe=aHe,QU=UU.set,ZE=jHe,uVe=zHe,fVe=XE,dVe=KU,YU=vd,Im=V0,ek=$d,JU=Ac,U0="Promise",XU=ek.CONSTRUCTOR,hVe=ek.REJECTION_EVENT,pVe=ek.SUBCLASSING,$$=YU.getterFor(U0),gVe=YU.set,ml=Im&&Im.prototype,La=Im,Vh=ml,ZU=aa.TypeError,BA=aa.document,tk=aa.process,FA=JU.f,mVe=FA,vVe=!!(BA&&BA.createEvent&&aa.dispatchEvent),eW="unhandledrejection",bVe="rejectionhandled",e_=0,tW=1,yVe=2,rk=1,rW=2,Uh,t_,$Ve,r_,nW=function(e){var t;return sVe(e)&&Pp(t=e.then)?t:!1},iW=function(e,t){var r=t.value,n=t.state===tW,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,l,c,u;try{i?(n||(t.rejection===rW&&AVe(t),t.rejection=rk),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),u=!0)),l===e.promise?a(new ZU("Promise-chain cycle")):(c=nW(l))?ic(c,l,o,a):o(l)):a(r)}catch(f){s&&!u&&s.exit(),a(f)}},oW=function(e,t){e.notified||(e.notified=!0,ZE(function(){for(var r=e.reactions,n;n=r.get();)iW(n,e);e.notified=!1,t&&!e.rejection&&wVe(e)}))},aW=function(e,t,r){var n,i;vVe?(n=BA.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),aa.dispatchEvent(n)):n={promise:t,reason:r},!hVe&&(i=aa["on"+e])?i(n):e===eW&&uVe("Unhandled promise rejection",r)},wVe=function(e){ic(QU,aa,function(){var t=e.facade,r=e.value,n=n_(e),i;if(n&&(i=fVe(function(){Tm?tk.emit("unhandledRejection",r,t):aW(eW,t,r)}),e.rejection=Tm||n_(e)?rW:rk,i.error))throw i.value})},n_=function(e){return e.rejection!==rk&&!e.parent},AVe=function(e){ic(QU,aa,function(){var t=e.facade;Tm?tk.emit("rejectionHandled",t):aW(bVe,t,e.value)})},Sl=function(e,t,r){return function(n){e(t,n,r)}},Bl=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=yVe,oW(e,!0))},jA=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new ZU("Promise can't be resolved itself");var n=nW(t);n?ZE(function(){var i={done:!1};try{ic(n,t,Sl(jA,i,e),Sl(Bl,i,e))}catch(o){Bl(i,o,e)}}):(e.value=t,e.state=tW,oW(e,!1))}catch(i){Bl({done:!1},i,e)}}};if(XU&&(La=function(t){lVe(this,Vh),aVe(t),ic(Uh,this);var r=$$(this);try{t(Sl(jA,r),Sl(Bl,r))}catch(n){Bl(r,n)}},Vh=La.prototype,Uh=function(t){gVe(this,{type:U0,done:!1,notified:!1,parent:!1,reactions:new dVe,rejection:!1,state:e_,value:void 0})},Uh.prototype=XD(Vh,"then",function(t,r){var n=$$(this),i=FA(cVe(this,La));return n.parent=!0,i.ok=Pp(t)?t:!0,i.fail=Pp(r)&&r,i.domain=Tm?tk.domain:void 0,n.state===e_?n.reactions.add(i):ZE(function(){iW(i,n)}),i.promise}),t_=function(){var e=new Uh,t=$$(e);this.promise=e,this.resolve=Sl(jA,t),this.reject=Sl(Bl,t)},JU.f=FA=function(e){return e===La||e===$Ve?new t_(e):mVe(e)},Pp(Im)&&ml!==Object.prototype)){r_=ml.then,pVe||XD(ml,"then",function(t,r){var n=this;return new La(function(i,o){ic(r_,n,i,o)}).then(t,r)},{unsafe:!0});try{delete ml.constructor}catch{}ZD&&ZD(ml,Vh)}nVe({global:!0,constructor:!0,wrap:!0,forced:XU},{Promise:La});iVe(La,U0,!1);oVe(U0);var wd={},xVe=$r,SVe=wd,CVe=xVe("iterator"),EVe=Array.prototype,kVe=function(e){return e!==void 0&&(SVe.Array===e||EVe[CVe]===e)},OVe=j0,i_=LE,TVe=wc,IVe=wd,MVe=$r,PVe=MVe("iterator"),sW=function(e){if(!TVe(e))return i_(e,PVe)||i_(e,"@@iterator")||IVe[OVe(e)]},DVe=On,_Ve=ba,NVe=Yn,LVe=D0,RVe=sW,BVe=TypeError,FVe=function(e,t){var r=arguments.length<2?RVe(e):t;if(_Ve(r))return NVe(DVe(r,e));throw new BVe(LVe(e)+" is not iterable")},jVe=On,o_=Yn,zVe=LE,HVe=function(e,t,r){var n,i;o_(e);try{if(n=zVe(e,"return"),!n){if(t==="throw")throw r;return r}n=jVe(n,e)}catch(o){i=!0,n=o}if(t==="throw")throw r;if(i)throw n;return o_(n),r},VVe=H0,UVe=On,WVe=Yn,KVe=D0,GVe=kVe,qVe=F0,a_=NE,QVe=FVe,YVe=sW,s_=HVe,JVe=TypeError,Dp=function(e,t){this.stopped=e,this.result=t},l_=Dp.prototype,W0=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=VVe(t,n),c,u,f,d,h,p,g,m=function(b){return c&&s_(c,"normal",b),new Dp(!0,b)},v=function(b){return i?(WVe(b),s?l(b[0],b[1],m):l(b[0],b[1])):s?l(b,m):l(b)};if(o)c=e.iterator;else if(a)c=e;else{if(u=YVe(e),!u)throw new JVe(KVe(e)+" is not iterable");if(GVe(u)){for(f=0,d=qVe(e);d>f;f++)if(h=v(e[f]),h&&a_(l_,h))return h;return new Dp(!1)}c=QVe(e,u)}for(p=o?e.next:c.next;!(g=UVe(p,c)).done;){try{h=v(g.value)}catch(b){s_(c,"throw",b)}if(typeof h=="object"&&h&&a_(l_,h))return h}return new Dp(!1)},XVe=$r,lW=XVe("iterator"),cW=!1;try{var ZVe=0,c_={next:function(){return{done:!!ZVe++}},return:function(){cW=!0}};c_[lW]=function(){return this},Array.from(c_,function(){throw 2})}catch{}var uW=function(e,t){try{if(!t&&!cW)return!1}catch{return!1}var r=!1;try{var n={};n[lW]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},eUe=V0,tUe=uW,rUe=$d.CONSTRUCTOR,fW=rUe||!tUe(function(e){eUe.all(e).then(void 0,function(){})}),nUe=Tn,iUe=On,oUe=ba,aUe=Ac,sUe=XE,lUe=W0,cUe=fW;nUe({target:"Promise",stat:!0,forced:cUe},{all:function(t){var r=this,n=aUe.f(r),i=n.resolve,o=n.reject,a=sUe(function(){var s=oUe(r.resolve),l=[],c=0,u=1;lUe(t,function(f){var d=c++,h=!1;u++,iUe(s,r,f).then(function(p){h||(h=!0,l[d]=p,--u||i(l))},o)}),--u||i(l)});return a.error&&o(a.value),n.promise}});var uUe=Tn,fUe=$d.CONSTRUCTOR,zA=V0,dUe=Rs,hUe=dt,pUe=ya,u_=zA&&zA.prototype;uUe({target:"Promise",proto:!0,forced:fUe,real:!0},{catch:function(e){return this.then(void 0,e)}});if(hUe(zA)){var f_=dUe("Promise").prototype.catch;u_.catch!==f_&&pUe(u_,"catch",f_,{unsafe:!0})}var gUe=Tn,mUe=On,vUe=ba,bUe=Ac,yUe=XE,$Ue=W0,wUe=fW;gUe({target:"Promise",stat:!0,forced:wUe},{race:function(t){var r=this,n=bUe.f(r),i=n.reject,o=yUe(function(){var a=vUe(r.resolve);$Ue(t,function(s){mUe(a,r,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var AUe=Tn,xUe=On,SUe=Ac,CUe=$d.CONSTRUCTOR;AUe({target:"Promise",stat:!0,forced:CUe},{reject:function(t){var r=SUe.f(this);return xUe(r.reject,void 0,t),r.promise}});var EUe=Yn,kUe=Fr,OUe=Ac,TUe=function(e,t){if(EUe(e),kUe(t)&&t.constructor===e)return t;var r=OUe.f(e),n=r.resolve;return n(t),r.promise},IUe=Tn,MUe=Rs,PUe=$d.CONSTRUCTOR,DUe=TUe;MUe("Promise");IUe({target:"Promise",stat:!0,forced:PUe},{resolve:function(t){return DUe(this,t)}});var _Ue=Pt,dW=function(e,t){var r=[][e];return!!r&&_Ue(function(){r.call(null,t||function(){return 1},1)})},NUe=Tn,LUe=gt,RUe=R0,BUe=Fs,FUe=dW,jUe=LUe([].join),zUe=RUe!==Object,HUe=zUe||!FUe("join",",");NUe({target:"Array",proto:!0,forced:HUe},{join:function(t){return jUe(BUe(this),t===void 0?",":t)}});var hW={},VUe=En,UUe=pU,WUe=Qn,KUe=Yn,GUe=Fs,qUe=KE;hW.f=VUe&&!UUe?Object.defineProperties:function(t,r){KUe(t);for(var n=GUe(r),i=qUe(r),o=i.length,a=0,s;o>a;)WUe.f(t,s=i[a++],n[s]);return t};var QUe=Yn,YUe=hW,d_=VE,JUe=N0,XUe=zU,ZUe=M0,eWe=FE,h_=">",p_="<",HA="prototype",VA="script",pW=eWe("IE_PROTO"),w$=function(){},gW=function(e){return p_+VA+h_+e+p_+"/"+VA+h_},g_=function(e){e.write(gW("")),e.close();var t=e.parentWindow.Object;return e=null,t},tWe=function(){var e=ZUe("iframe"),t="java"+VA+":",r;return e.style.display="none",XUe.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(gW("document.F=Object")),r.close(),r.F},Wh,_p=function(){try{Wh=new ActiveXObject("htmlfile")}catch{}_p=typeof document<"u"?document.domain&&Wh?g_(Wh):tWe():g_(Wh);for(var e=d_.length;e--;)delete _p[HA][d_[e]];return _p()};JUe[pW]=!0;var mW=Object.create||function(t,r){var n;return t!==null?(w$[HA]=QUe(t),n=new w$,w$[HA]=null,n[pW]=t):n=_p(),r===void 0?n:YUe.f(n,r)},rWe=$r,nWe=mW,iWe=Qn.f,UA=rWe("unscopables"),WA=Array.prototype;WA[UA]===void 0&&iWe(WA,UA,{configurable:!0,value:nWe(null)});var oWe=function(e){WA[UA][e]=!0},aWe=Pt,sWe=!aWe(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),lWe=kn,cWe=dt,uWe=gd,fWe=FE,dWe=sWe,m_=fWe("IE_PROTO"),KA=Object,hWe=KA.prototype,vW=dWe?KA.getPrototypeOf:function(e){var t=uWe(e);if(lWe(t,m_))return t[m_];var r=t.constructor;return cWe(r)&&t instanceof r?r.prototype:t instanceof KA?hWe:null},pWe=Pt,gWe=dt,mWe=Fr,v_=vW,vWe=ya,bWe=$r,GA=bWe("iterator"),bW=!1,ys,A$,x$;[].keys&&(x$=[].keys(),"next"in x$?(A$=v_(v_(x$)),A$!==Object.prototype&&(ys=A$)):bW=!0);var yWe=!mWe(ys)||pWe(function(){var e={};return ys[GA].call(e)!==e});yWe&&(ys={});gWe(ys[GA])||vWe(ys,GA,function(){return this});var yW={IteratorPrototype:ys,BUGGY_SAFARI_ITERATORS:bW},$We=yW.IteratorPrototype,wWe=mW,AWe=_0,xWe=yd,SWe=wd,CWe=function(){return this},EWe=function(e,t,r,n){var i=t+" Iterator";return e.prototype=wWe($We,{next:AWe(+!n,r)}),xWe(e,i,!1),SWe[i]=CWe,e},kWe=Tn,OWe=On,$W=ME,TWe=dt,IWe=EWe,b_=vW,y_=qE,MWe=yd,PWe=md,S$=ya,DWe=$r,_We=wd,wW=yW,NWe=$W.PROPER,LWe=$W.CONFIGURABLE,$_=wW.IteratorPrototype,Kh=wW.BUGGY_SAFARI_ITERATORS,ru=DWe("iterator"),w_="keys",nu="values",A_="entries",RWe=function(){return this},AW=function(e,t,r,n,i,o,a){IWe(r,t,n);var s=function(v){if(v===i&&d)return d;if(!Kh&&v&&v in u)return u[v];switch(v){case w_:return function(){return new r(this,v)};case nu:return function(){return new r(this,v)};case A_:return function(){return new r(this,v)}}return function(){return new r(this)}},l=t+" Iterator",c=!1,u=e.prototype,f=u[ru]||u["@@iterator"]||i&&u[i],d=!Kh&&f||s(i),h=t==="Array"&&u.entries||f,p,g,m;if(h&&(p=b_(h.call(new e)),p!==Object.prototype&&p.next&&(b_(p)!==$_&&(y_?y_(p,$_):TWe(p[ru])||S$(p,ru,RWe)),MWe(p,l,!0))),NWe&&i===nu&&f&&f.name!==nu&&(LWe?PWe(u,"name",nu):(c=!0,d=function(){return OWe(f,this)})),i)if(g={values:s(nu),keys:o?d:s(w_),entries:s(A_)},a)for(m in g)(Kh||c||!(m in u))&&S$(u,m,g[m]);else kWe({target:t,proto:!0,forced:Kh||c},g);return u[ru]!==d&&S$(u,ru,d,{name:i}),_We[t]=d,g},xW=function(e,t){return{value:e,done:t}},BWe=Fs,nk=oWe,x_=wd,SW=vd,FWe=Qn.f,jWe=AW,Gh=xW,zWe=En,CW="Array Iterator",HWe=SW.set,VWe=SW.getterFor(CW),UWe=jWe(Array,"Array",function(e,t){HWe(this,{type:CW,target:BWe(e),index:0,kind:t})},function(){var e=VWe(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Gh(void 0,!0);switch(e.kind){case"keys":return Gh(r,!1);case"values":return Gh(t[r],!1)}return Gh([r,t[r]],!1)},"values"),S_=x_.Arguments=x_.Array;nk("keys");nk("values");nk("entries");if(zWe&&S_.name!=="values")try{FWe(S_,"name",{value:"values"})}catch{}var WWe=j0,KWe=String,EW=function(e){if(WWe(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return KWe(e)},ik=gt,GWe=HE,qWe=EW,QWe=TE,YWe=ik("".charAt),C_=ik("".charCodeAt),JWe=ik("".slice),XWe=function(e){return function(t,r){var n=qWe(QWe(t)),i=GWe(r),o=n.length,a,s;return i<0||i>=o?e?"":void 0:(a=C_(n,i),a<55296||a>56319||i+1===o||(s=C_(n,i+1))<56320||s>57343?e?YWe(n,i):a:e?JWe(n,i,i+2):(a-55296<<10)+(s-56320)+65536)}},ZWe={charAt:XWe(!0)},eKe=ZWe.charAt,tKe=EW,kW=vd,rKe=AW,E_=xW,OW="String Iterator",nKe=kW.set,iKe=kW.getterFor(OW);rKe(String,"String",function(e){nKe(this,{type:OW,string:tKe(e),index:0})},function(){var t=iKe(this),r=t.string,n=t.index,i;return n>=r.length?E_(void 0,!0):(i=eKe(r,n),t.index+=i.length,E_(i,!1))});var TW={exports:{}},IW={},oKe=BE,aKe=Qn,sKe=_0,lKe=function(e,t,r){var n=oKe(t);n in e?aKe.f(e,n,sKe(0,r)):e[n]=r},k_=PU,cKe=F0,uKe=lKe,fKe=Array,dKe=Math.max,hKe=function(e,t,r){for(var n=cKe(e),i=k_(t,n),o=k_(r===void 0?n:r,n),a=fKe(dKe(o-i,0)),s=0;i<o;i++,s++)uKe(a,s,e[i]);return a.length=s,a},pKe=Bs,gKe=Fs,MW=B0.f,mKe=hKe,PW=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vKe=function(e){try{return MW(e)}catch{return mKe(PW)}};IW.f=function(t){return PW&&pKe(t)==="Window"?vKe(t):MW(gKe(t))};var bKe=Pt,yKe=bKe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),$Ke=Pt,wKe=Fr,AKe=Bs,O_=yKe,Np=Object.isExtensible,xKe=$Ke(function(){Np(1)}),SKe=xKe||O_?function(t){return!wKe(t)||O_&&AKe(t)==="ArrayBuffer"?!1:Np?Np(t):!0}:Np,CKe=Pt,EKe=!CKe(function(){return Object.isExtensible(Object.preventExtensions({}))}),kKe=Tn,OKe=gt,TKe=N0,IKe=Fr,ok=kn,MKe=Qn.f,T_=B0,PKe=IW,ak=SKe,DKe=RE,_Ke=EKe,DW=!1,lo=DKe("meta"),NKe=0,sk=function(e){MKe(e,lo,{value:{objectID:"O"+NKe++,weakData:{}}})},LKe=function(e,t){if(!IKe(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!ok(e,lo)){if(!ak(e))return"F";if(!t)return"E";sk(e)}return e[lo].objectID},RKe=function(e,t){if(!ok(e,lo)){if(!ak(e))return!0;if(!t)return!1;sk(e)}return e[lo].weakData},BKe=function(e){return _Ke&&DW&&ak(e)&&!ok(e,lo)&&sk(e),e},FKe=function(){jKe.enable=function(){},DW=!0;var e=T_.f,t=OKe([].splice),r={};r[lo]=1,e(r).length&&(T_.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===lo){t(i,o,1);break}return i},kKe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:PKe.f}))},jKe=TW.exports={enable:FKe,fastKey:LKe,getWeakData:RKe,onFreeze:BKe};TKe[lo]=!0;var _W=TW.exports,zKe=dt,HKe=Fr,I_=qE,VKe=function(e,t,r){var n,i;return I_&&zKe(n=t.constructor)&&n!==r&&HKe(i=n.prototype)&&i!==r.prototype&&I_(e,i),e},UKe=Tn,WKe=Dt,KKe=gt,M_=WE,GKe=ya,qKe=_W,QKe=W0,YKe=QE,JKe=dt,XKe=wc,C$=Fr,E$=Pt,ZKe=uW,eGe=yd,tGe=VKe,rGe=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=WKe[e],s=a&&a.prototype,l=a,c={},u=function(v){var b=KKe(s[v]);GKe(s,v,v==="add"?function(w){return b(this,w===0?0:w),this}:v==="delete"?function(y){return i&&!C$(y)?!1:b(this,y===0?0:y)}:v==="get"?function(w){return i&&!C$(w)?void 0:b(this,w===0?0:w)}:v==="has"?function(w){return i&&!C$(w)?!1:b(this,w===0?0:w)}:function(w,$){return b(this,w===0?0:w,$),this})},f=M_(e,!JKe(a)||!(i||s.forEach&&!E$(function(){new a().entries().next()})));if(f)l=r.getConstructor(t,e,n,o),qKe.enable();else if(M_(e,!0)){var d=new l,h=d[o](i?{}:-0,1)!==d,p=E$(function(){d.has(1)}),g=ZKe(function(v){new a(v)}),m=!i&&E$(function(){for(var v=new a,b=5;b--;)v[o](b,b);return!v.has(-0)});g||(l=t(function(v,b){YKe(v,s);var y=tGe(new a,v,l);return XKe(b)||QKe(b,y[o],{that:y,AS_ENTRIES:n}),y}),l.prototype=s,s.constructor=l),(p||m)&&(u("delete"),u("has"),n&&u("get")),(m||h)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,UKe({global:!0,constructor:!0,forced:l!==a},c),eGe(l,e),i||r.setStrong(l,e,n),l},nGe=ya,iGe=function(e,t,r){for(var n in t)nGe(e,n,t[n],r);return e},oGe=Bs,aGe=Array.isArray||function(t){return oGe(t)==="Array"},P_=aGe,sGe=FU,lGe=Fr,cGe=$r,uGe=cGe("species"),D_=Array,fGe=function(e){var t;return P_(e)&&(t=e.constructor,sGe(t)&&(t===D_||P_(t.prototype))?t=void 0:lGe(t)&&(t=t[uGe],t===null&&(t=void 0))),t===void 0?D_:t},dGe=fGe,hGe=function(e,t){return new(dGe(e))(t===0?0:t)},pGe=H0,gGe=gt,mGe=R0,vGe=gd,bGe=F0,yGe=hGe,__=gGe([].push),k$=function(e){var t=e===1,r=e===2,n=e===3,i=e===4,o=e===6,a=e===7,s=e===5||o;return function(l,c,u,f){for(var d=vGe(l),h=mGe(d),p=bGe(h),g=pGe(c,u),m=0,v=f||yGe,b=t?v(l,p):r||a?v(l,0):void 0,y,w;p>m;m++)if((s||m in h)&&(y=h[m],w=g(y,m,d),e))if(t)b[m]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return m;case 2:__(b,y)}else switch(e){case 4:return!1;case 7:__(b,y)}return o?-1:n||i?i:b}},NW={forEach:k$(0),find:k$(5),findIndex:k$(6)},$Ge=gt,N_=iGe,qh=_W.getWeakData,wGe=QE,AGe=Yn,xGe=wc,O$=Fr,SGe=W0,LW=NW,L_=kn,RW=vd,CGe=RW.set,EGe=RW.getterFor,kGe=LW.find,OGe=LW.findIndex,TGe=$Ge([].splice),IGe=0,Qh=function(e){return e.frozen||(e.frozen=new BW)},BW=function(){this.entries=[]},T$=function(e,t){return kGe(e.entries,function(r){return r[0]===t})};BW.prototype={get:function(e){var t=T$(this,e);if(t)return t[1]},has:function(e){return!!T$(this,e)},set:function(e,t){var r=T$(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=OGe(this.entries,function(r){return r[0]===e});return~t&&TGe(this.entries,t,1),!!~t}};var MGe={getConstructor:function(e,t,r,n){var i=e(function(l,c){wGe(l,o),CGe(l,{type:t,id:IGe++,frozen:void 0}),xGe(c)||SGe(c,l[n],{that:l,AS_ENTRIES:r})}),o=i.prototype,a=EGe(t),s=function(l,c,u){var f=a(l),d=qh(AGe(c),!0);return d===!0?Qh(f).set(c,u):d[f.id]=u,l};return N_(o,{delete:function(l){var c=a(this);if(!O$(l))return!1;var u=qh(l);return u===!0?Qh(c).delete(l):u&&L_(u,c.id)&&delete u[c.id]},has:function(c){var u=a(this);if(!O$(c))return!1;var f=qh(c);return f===!0?Qh(u).has(c):f&&L_(f,u.id)}}),N_(o,r?{get:function(c){var u=a(this);if(O$(c)){var f=qh(c);return f===!0?Qh(u).get(c):f?f[u.id]:void 0}},set:function(c,u){return s(this,c,u)}}:{add:function(c){return s(this,c,!0)}}),i}},PGe=rGe,DGe=MGe;PGe("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},DGe);var FW={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_Ge=M0,I$=_Ge("span").classList,R_=I$&&I$.constructor&&I$.constructor.prototype,jW=R_===Object.prototype?void 0:R_,B_=Dt,zW=FW,NGe=jW,xu=UWe,F_=md,LGe=yd,RGe=$r,M$=RGe("iterator"),P$=xu.values,HW=function(e,t){if(e){if(e[M$]!==P$)try{F_(e,M$,P$)}catch{e[M$]=P$}if(LGe(e,t,!0),zW[t]){for(var r in xu)if(e[r]!==xu[r])try{F_(e,r,xu[r])}catch{e[r]=xu[r]}}}};for(var D$ in zW)HW(B_[D$]&&B_[D$].prototype,D$);HW(NGe,"DOMTokenList");var BGe=NW.forEach,FGe=dW,jGe=FGe("forEach"),zGe=jGe?[].forEach:function(t){return BGe(this,t,arguments.length>1?arguments[1]:void 0)},j_=Dt,z_=FW,HGe=jW,_$=zGe,VGe=md,VW=function(e){if(e&&e.forEach!==_$)try{VGe(e,"forEach",_$)}catch{e.forEach=_$}};for(var N$ in z_)z_[N$]&&VW(j_[N$]&&j_[N$].prototype);VW(HGe);var UGe=Tn,WGe=gd,UW=KE,KGe=Pt,GGe=KGe(function(){UW(1)});UGe({target:"Object",stat:!0,forced:GGe},{keys:function(t){return UW(WGe(t))}});function Hi(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}var H_;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(H_||(H_={}));var li;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})(li||(li={}));function qGe(e){return e==="left"||e==="right"}function V_(e){return e==="top"||e==="bottom"}function QGe(e){return e[li.LEFT]+e[li.RIGHT]}function YGe(e){return e[li.TOP]+e[li.BOTTOM]}var Nn,WW,KW,GW,qW,U_,L$,R$,B$=".ch-plugin-calendar-label",W_={enabled:!0,dimensions:{width:0,height:0},position:"left",text:function(){return[]},padding:[0,0,0,0]},JGe=(function(){function e(t){S9e(this,e);var r,n;Nn.add(this),this.name="CalendarLabel";var i=(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.options)===null||n===void 0?void 0:n.subDomain;this.calendar=t,this.root=null,this.shown=!1,this.options=W_,this.computedOptions={radius:i==null?void 0:i.radius,width:i==null?void 0:i.width,height:i==null?void 0:i.height,gutter:i==null?void 0:i.gutter,textAlign:"start"}}return E9e(e,[{key:"setup",value:function(r){this.options=Object.assign(Object.assign({},W_),r)}},{key:"paint",value:function(){var r=this.options.enabled;if(!r)return this.destroy();this.shown=!0;var n=this.calendar.calendarPainter.root;return this.root||(this.root=n.append("svg").attr("class",B$.slice(1)).attr("data-key",this.options.key).attr("x",0).attr("y",0)),this.build(),Promise.resolve()}},{key:"destroy",value:function(){return this.root!==null&&(this.root.remove(),this.root=null),Promise.resolve()}},{key:"build",value:function(){var r=this;return Hi(this,Nn,"m",WW).call(this),Hi(this,Nn,"m",KW).call(this),this.root.selectAll("g").data(this.options.text).join(function(n){return n.append("g").call(function(i){return i.append("rect").attr("class","".concat(B$.slice(1),"-bg")).attr("style","fill: transparent").call(function(o){return Hi(r,Nn,"m",GW).call(r,o)})}).call(function(i){return i.append("text").attr("class","".concat(B$.slice(1),"-text")).attr("dominant-baseline","central").attr("text-anchor","middle").attr("style","fill: currentColor; font-size: 10px").call(function(o){return Hi(r,Nn,"m",qW).call(r,o)})})}),Promise.resolve()}}]),e})();Nn=new WeakSet,WW=function(){var t=this;Object.keys(this.computedOptions).forEach(function(r){typeof t.options[r]<"u"&&(t.computedOptions[r]=t.options[r])})},KW=function(){var t=this.computedOptions,r=t.width,n=t.height,i=t.gutter,o=this.options,a=o.text,s=o.padding,l=o.position,c=a().length;this.options.dimensions={width:r+QGe(s),height:n+YGe(s)},V_(l)?this.options.dimensions.width+=(r+i)*(c-1):this.options.dimensions.height+=(n+i)*(c-1)},GW=function(t){var r=this,n=this.computedOptions,i=n.width,o=n.height,a=n.radius;t.attr("width",i).attr("height",o).attr("rx",a&&a>0?a:null).attr("ry",a&&a>0?a:null).attr("x",function(s,l){return Hi(r,Nn,"m",L$).call(r,l)}).attr("y",function(s,l){return Hi(r,Nn,"m",R$).call(r,l)})},qW=function(t){var r=this,n=this.computedOptions,i=n.height,o=n.textAlign;t.attr("text-anchor",o).attr("x",function(a,s){return Hi(r,Nn,"m",U_).call(r)+Hi(r,Nn,"m",L$).call(r,s)}).attr("y",function(a,s){return Hi(r,Nn,"m",R$).call(r,s)+i/2}).text(function(a){return a})},U_=function(){var t=this.computedOptions,r=t.width,n=t.textAlign;switch(n){case"start":return 0;case"middle":return r/2;case"end":return r;default:return 0}},L$=function(t){var r=this.options,n=r.position,i=r.padding,o=this.computedOptions,a=o.width,s=o.gutter;return qGe(n)?i[li.LEFT]:i[li.LEFT]+(a+s)*t},R$=function(t){var r=this.options,n=r.position,i=r.padding,o=this.computedOptions,a=o.height,s=o.gutter;return V_(n)?i[li.TOP]:i[li.TOP]+(a+s)*t};function XGe(e){const t=e.match(/rgba?\(([^)]+)\)/i);if(t){const i=t[1].split(",").map(o=>o.trim());return i.length===4?parseFloat(i[3]):1}const r=e.match(/hsla?\(([^)]+)\)/i);if(r){const i=r[1].split(",").map(o=>o.trim());return i.length===4?parseFloat(i[3]):1}const n=e.match(/oklch\(([^)]+)\)/i);if(n){const i=n[1].split(" "),o=i[i.length-1],a=parseFloat(o);return isNaN(a)?1:a}return 1}function ZGe(e){e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(r=>r+r).join(""));const t=parseInt(e,16);return[t>>16&255,t>>8&255,t&255]}function eqe(e,t){var a;const r=XGe(e);let n=0,i=0,o=0;if(t.startsWith("#"))[n,i,o]=ZGe(t);else if(t.startsWith("rgb"))[n,i,o]=((a=t.match(/rgba?\(([^)]+)\)/i))==null?void 0:a[1].split(",").map(l=>parseFloat(l.trim())))??[0,0,0];else return console.warn("Unsupported color format for newColor:",t),t;return`rgba(${n}, ${i}, ${o}, ${r})`}var tqe=W("<div class=top_strip>"),rqe=W('<div class><div class="p-5 overflow-auto"><div class="flex mb-4"><div class="ActivityButton1 border-2 border-border size-14 flex justify-center items-center">logo</div><div class="flex-1 px-4"><div class="activityTitle text-xl font-bold ">title</div><div class="activityDesc ">desc</div></div><div class="ActivityButton2 border-2 border-border size-14 flex justify-center items-center">logo</div></div><div class="border-2 border-border size-fit p-4 pb-0"></div><div><div class="overflow-hidden transition-[height] duration-300 ease-out w-full"><div class="p-4 flex items-center justify-between"><div></div><div id=controls class="flex flex-row items-center justify-center"><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-l-md activityChangers">-</div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2"></div><div class="cursor-pointer border border-border bg-card hover:bg-primary px-4 py-2 rounded-r-md activityChangers">+');const QW=e=>{let t,r;const[n,i]=Q(!1),[o,a]=Q("string"),s=u=>{gQ(e.id,o(),u)};let l;oe(()=>{const u=Object.entries(e.progress).map(([f,d])=>({date:f,value:d}));l==null||l.fill(u)}),oe(()=>{e.textColor,c()}),kt(()=>{l=new uH,l.paint({itemSelector:t,domain:{type:"year",sort:"asc"},subDomain:{color:"var(--color-foreground)",type:"day",radius:0,width:15,height:15,label:function(u,f){return`${f??""}`},style:{stroke:"#ccc",strokeWidth:1}},range:1,start:new Date(2025,1),theme:"dark",scale:{color:{type:"linear",domain:[0,30],range:["transparent",e.textColor??"#f64a03"]}},data:{source:Object.entries(e.progress).map(([u,f])=>({date:u,value:f})),type:"json",x:"date",y:"value"}},[[x9e,{text:function(u,f,d){return(f?f+" times":"No data")+" on "+d.format("LL")}}],[JGe,{width:30,textAlign:"start",text:()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((u,f)=>f%2==0?"":u)}]]),l.on("click",(u,f,d)=>{i(!0),a(new Date(f).toISOString().split("T")[0]),console.log(new Date(f).toISOString().split("T")[0]+"/"+d)}),c()});const c=()=>{setTimeout(()=>{const u=Array.from(t.getElementsByClassName("ch-subdomain-bg")),f=e.textColor??"#f64a03";u.forEach(d=>{if(d.style.fill){const h=eqe(d.style.fill,f);d.style.strokeWidth="1px",d.style.stroke=f,d.style.fill=h}})},0)};return(()=>{var u=rqe(),f=u.firstChild,d=f.firstChild,h=d.nextSibling,p=h.nextSibling,g=p.firstChild,m=g.firstChild,v=m.firstChild,b=v.nextSibling,y=b.firstChild,w=y.nextSibling,$=w.nextSibling;j(u,T(Et,{get when(){return e.top_strip_color},get children(){var E=tqe();return ee(_=>Z(E,"background",e.top_strip_color)),E}}),f);var A=t;typeof A=="function"?Ut(A,h):t=h;var C=r;return typeof C=="function"?Ut(C,g):r=g,j(v,o),y.$$click=()=>s(-1),j(w,()=>e.progress[o()]??0),$.$$click=()=>s(1),ee(E=>{var _={"border-2 border-border mt-4":n()},N=n()?`${(r==null?void 0:r.scrollHeight)??0}px`:"0px";return E.e=Ha(p,_,E.e),N!==E.t&&Z(g,"height",E.t=N),E},{e:void 0,t:void 0}),u})()};Ot(["click"]);var nqe=W("<div class=p-5>widget"),iqe=W("<div><div></div><div>"),oqe=W("<div>"),aqe=W("<div>Not Found"),sqe=W("<object type=application/pdf width=100% height=600px><div>No PDF viewer available"),lqe=W("<div>Loading PDF...");const YW=e=>{const[t,r]=Q("");function n(i){let o="";for(let s=0;s<i.length;s+=32768){const l=i.subarray(s,s+32768);o+=String.fromCharCode(...l)}return btoa(o)}return kt(async()=>{try{const i=await ON(e.path,{baseDir:Mr.Document}),a=`data:application/pdf;base64,${n(new Uint8Array(i))}`;r(a)}catch(i){console.error("Failed to load PDF:",i),r("")}}),(()=>{var i=oqe();return j(i,T(sc,{get fallback(){return aqe()},get children(){return[T(Be,{get when(){return e.docType==="widget"},get children(){return nqe()}}),T(Be,{get when(){return e.docType==="card"},children:"test1"}),T(Be,{get when(){return e.docType==="reader"},get children(){var o=iqe(),a=o.firstChild,s=a.nextSibling;return j(a,(()=>{var l=pt(()=>!!t());return()=>l()?(()=>{var c=sqe();return ee(()=>z(c,"data",t())),c})():lqe()})()),j(s,()=>e.path.split("/")[1]),o}})]}})),i})()};var cqe=W('<div class="content flex flex-col p-2"><div class="collapse_icon self-end w-6 h-6 collapse_icon cursor-pointer flex justify-center items-center hover:bg-background/40 border border-transparent hover:border-border opacity-0 group-hover/collapse:opacity-100 pointer-events-none group-hover/collapse:pointer-events-auto transition-all duration-200 ease-in-out"></div><div class="title text-xl font-extrabold mb-2 text-center focus:outline-0"></div><div class="subtitle mb-4 text-center">subtitle</div><div class="children_container flex flex-col">'),uqe=W('<div class="empty_children_containe h-[65px] w-full bg-gray-950">'),fqe=W('<div class="column_spacer pt-2 bg-transparent">'),dqe=W("<div>Not Found");const hqe=e=>{const[t,r]=Q(!1);let n;const i=ax(s=>{console.log("Debounced update:",s),pQ(e.id,s)},300),o=()=>{const s=(n==null?void 0:n.innerText)||"";i(s)},a=s=>{s.key==="Enter"&&s.preventDefault()};return(()=>{var s=cqe(),l=s.firstChild,c=l.nextSibling,u=c.nextSibling,f=u.nextSibling;j(l,T(yL,{width:16,height:16,classes:"",icon_name:"collapse"})),c.$$keydown=a,c.$$input=o,c.addEventListener("blur",()=>r(!1)),c.$$click=()=>{r(!0),le("selectedNodes",new Set)};var d=n;return typeof d=="function"?Ut(d,c):n=c,j(c,()=>e.title),Z(f,"position","relative"),j(f,T(Et,{get when(){return pt(()=>!!B.nodes[e.id])()&&B.nodes[e.id].length>0},get fallback(){return uqe()},get children(){return T(yt,{get each(){return B.nodes[e.id]},children:(h,p)=>[pt(()=>pt(()=>h.type===ie.Board)()?T(t8,ye(h,{is_child:!0})):T(a7,{node:h,isChildNode:!0,get children(){return T(sc,{get fallback(){return dqe()},get children(){return[T(Be,{get when(){return h.type===ie.Note},get children(){return T(Q6,h)}}),T(Be,{get when(){return h.type===ie.Todo},get children(){return T(Z6,h)}}),T(Be,{get when(){return h.type===ie.Url},get children(){return T(e8,h)}}),T(Be,{get when(){return h.type===ie.Table},get children(){return T(i7,h)}}),T(Be,{get when(){return h.type===ie.Image},get children(){return T(o7,h)}}),T(Be,{get when(){return h.type===ie.Color},get children(){return T(s7,h)}}),T(Be,{get when(){return h.type===ie.Activity},get children(){return T(QW,h)}}),T(Be,{get when(){return h.type===ie.Document},get children(){return T(YW,h)}})]}})}})),T(Et,{get when(){return p()<B.nodes[e.id].length-1},get children(){return fqe()}})]})}})),ee(h=>{var p=!!t(),g=t(),m=t()?"text":"";return p!==h.e&&c.classList.toggle("titleHandle",h.e=p),g!==h.t&&z(c,"contenteditable",h.t=g),m!==h.a&&Z(c,"cursor",h.a=m),h},{e:void 0,t:void 0,a:void 0}),s})()};Ot(["click","input","keydown"]);var pqe=W("<div id=nodes class=bg-red-600>"),gqe=W("<div>"),mqe=W("<div>Not Found");const vqe=()=>{let e;return kt(()=>{setTimeout(()=>{let t=0,r=0;const n=Array.from(e.getElementsByClassName("node"));console.log(n),n.forEach(i=>{const o=i.getBoundingClientRect();i.id==="block_10"&&(console.log("==================="),console.log("==================="),console.log("==================="),console.log("==================="),console.log(o)),o.x+o.width>t&&(t=Math.round((o.x+o.width+50)/10)*10),o.y+o.height>r&&(r=Math.round((o.y+o.height+50)/10)*10)}),console.log("changing viewport size to:",t,r),le("viewport",{width:t,height:r})},1e3)}),(()=>{var t=pqe(),r=e;return typeof r=="function"?Ut(r,t):e=t,j(t,T(yt,{get each(){var n;return B.nodes[((n=B.activeBoards.at(-1))==null?void 0:n.id)??"home"]},children:n=>(()=>{var i=gqe();return j(i,(()=>{var o=pt(()=>n.type===ie.Board);return()=>o()?T(t8,n):T(a7,{node:n,get children(){return T(sc,{get fallback(){return mqe()},get children(){return[T(Be,{get when(){return n.type===ie.Column},get children(){return T(hqe,n)}}),T(Be,{get when(){return n.type===ie.Note},get children(){return T(Q6,n)}}),T(Be,{get when(){return n.type===ie.Todo},get children(){return T(Z6,n)}}),T(Be,{get when(){return n.type===ie.Url},get children(){return T(e8,n)}}),T(Be,{get when(){return n.type===ie.Table},get children(){return T(i7,n)}}),T(Be,{get when(){return n.type===ie.Image},get children(){return T(o7,n)}}),T(Be,{get when(){return n.type===ie.Color},get children(){return T(s7,n)}}),T(Be,{get when(){return n.type===ie.Activity},get children(){return T(QW,n)}}),T(Be,{get when(){return n.type===ie.Document},get children(){return T(YW,n)}})]}})}})})()),i})()})),t})()};var bqe=W("<div id=pan>/");const yqe=e=>{const[t,r]=Q(!1);let n={x:0,y:0};const i=c=>{(c.which===2||c.ctrlKey)&&(c.preventDefault(),r(!0),n={x:c.clientX,y:c.clientY})},o=c=>{if(t()){const u=c.clientX-n.x,f=c.clientY-n.y;B.viewport.x+u<=500*B.viewport.scale?le("viewport","x",d=>d+u):le("viewport","x",500*B.viewport.scale),B.viewport.y+f<=500*B.viewport.scale?le("viewport","y",d=>d+f):le("viewport","y",500*B.viewport.scale),n={x:c.clientX,y:c.clientY}}},a=c=>{r(!1)},s=()=>{r(!1)},l=c=>{};return kt(()=>{window.addEventListener("blur",s),be(()=>{window.removeEventListener("blur",s)})}),(()=>{var c=bqe(),u=c.firstChild;return c.addEventListener("wheel",l),c.$$mouseup=a,c.$$mousemove=o,c.$$mousedown=i,Z(c,"width","100%"),Z(c,"height","100%"),Z(c,"position","absolute"),Z(c,"top","0"),Z(c,"left","0"),j(c,()=>B.viewport.x,u),j(c,()=>B.viewport.y,null),j(c,()=>e.children,null),c})()};Ot(["mousedown","mousemove","mouseup"]);var $qe=W('<div class id=viewport style=z-index:1><div class id=viewport-content style="transform-origin:50% 50%;min-height:100%;min-width:100%">');const wqe=e=>(kt(async()=>{oe(()=>{B.nodes})}),(()=>{var t=$qe(),r=t.firstChild;return Z(t,"position","absolute"),Z(t,"top","0"),Z(t,"left","0"),Z(t,"width","100%"),Z(t,"height","100%"),Z(t,"overflow","auto"),r.$$dblclick=n=>{n.target===n.currentTarget&&(console.log("canvas double click"),n.stopPropagation())},r.$$click=n=>{console.log("canvas click"),console.log(n.target,n.currentTarget),n.target===n.currentTarget&&(console.log("canvas click"),n.stopPropagation(),le("selectedNodes",new Set),le("showColorMenu",!1))},Z(r,"transition","all 0.2s ease-out"),j(r,()=>e.children),ee(n=>{var i=`translate(${B.viewport.x}px, ${B.viewport.y}px) scale(${B.viewport.scale})`,o=B.viewport.width?`${B.viewport.width}px`:"100%",a=B.viewport.height?`${B.viewport.height}px`:"100%";return i!==n.e&&Z(r,"transform",n.e=i),o!==n.t&&Z(r,"width",n.t=o),a!==n.a&&Z(r,"height",n.a=a),n},{e:void 0,t:void 0,a:void 0}),t})());Ot(["click","dblclick"]);var Aqe=W("<div id=zoom>");const xqe=e=>{let t;const r=async n=>{if(n.ctrlKey){n.preventDefault();let i=B.viewport.scale;if(n.deltaY>0){if(i<=.7)return;i-=.1}else{if(i>=1.5)return;i+=.1}le("viewport",{scale:i})}};return(()=>{var n=Aqe();n.addEventListener("wheel",r);var i=t;return typeof i=="function"?Ut(i,n):t=n,j(n,()=>e.children),n})()};var Sqe=W("<div id=wrapper>");const Cqe=()=>(()=>{var e=Sqe();return j(e,T(cJ,{}),null),j(e,T(IJ,{get children(){return T(xqe,{get children(){return T(yqe,{get children(){return[T(wqe,{get children(){return[T(vqe,{}),T(SJ,{})]}}),T(PJ,{}),T(gJ,{})]}})}})}}),null),e})();var Eqe=W('<div id=main class="relative h-full w-[calc(100%-65px)] overflow-hidden">');const kqe=async()=>{const e=await qq();e&&(le("nodes",(e==null?void 0:e.nodes)??[]),le("edges",(e==null?void 0:e.edges)??[]))},Oqe=()=>(kt(async()=>{await kqe()}),(()=>{var e=Eqe();return j(e,T(Cqe,{})),e})());var Tqe=W('<div class="h-full overflow-hidden w-[65px] p-4 bg-card"><div class="flex flex-col space-y-4 overflow-x-visible relative">'),Iqe=W('<div class="absolute bg-card z-50 pointer-events-none w-[300px] p-5">New Note'),Mqe=W("<div>Loading..."),Pqe=W('<div class="icon rounded-md cursor-pointer flex flex-col justify-center items-center transition duration-200 ease-out hover:translate-x-2 z-10"><div class></div><span class=text-sm>');const Dqe=[{name:"note",width:32,height:24},{name:"todo",width:32,height:24},{name:"comment",width:32,height:24},{name:"table",width:32,height:24},{name:"url",width:32,height:24},{name:"arrow",width:32,height:32},{name:"board",width:32,height:32},{name:"column",width:32,height:32},{name:"code",width:24,height:24},{name:"document",width:26,height:32},{name:"upload",width:32,height:32},{name:"drawing",width:32,height:32},{name:"sketch",width:32,height:24},{name:"color",width:28,height:32},{name:"image",width:32,height:32},{name:"activity",width:32,height:32}],_qe=e=>t=>{t.preventDefault(),ZW(e),JW(!0),XW({x:t.clientX,y:t.clientY}),window.addEventListener("mousemove",lk),window.addEventListener("mouseup",ck)},[Nqe,JW]=Q(!1),[Mm,XW]=Q({x:0,y:0}),[Lqe,ZW]=Q(null),lk=e=>{XW({x:e.clientX,y:e.clientY})},ck=()=>{uQ(Rqe(Lqe()??""),Mm().x,Mm().y),JW(!1),ZW(null),window.removeEventListener("mousemove",lk),window.removeEventListener("mouseup",ck)},Rqe=e=>{switch(console.log("PPPPPPPPPPPPPPPPPPPPPPPP"),console.log(e),e){case"note":return ie.Note;case"todo":return ie.Todo;case"comment":return ie.Comment;case"table":return ie.Table;case"url":return ie.Url;case"arrow":return ie.Arrow;case"board":return ie.Board;case"column":return ie.Column;case"code":return ie.Code;case"document":return ie.Document;case"upload":return ie.Upload;case"drawing":return ie.Drawing;case"sketch":return ie.Sketch;case"color":return ie.Color;case"image":return ie.Image;case"activity":return ie.Activity;default:throw new Error(`Unsupported node type: ${e}`)}},Bqe=()=>(be(()=>{window.removeEventListener("mousemove",lk),window.removeEventListener("mouseup",ck)}),[(()=>{var e=Tqe(),t=e.firstChild;return j(t,T(yt,{each:Dqe,get fallback(){return Mqe()},children:r=>(()=>{var n=Pqe(),i=n.firstChild,o=i.nextSibling;return sa(n,"mousedown",_qe(r.name),!0),j(n,T(yL,{get width(){return r.width},get height(){return r.height},classes:"",get icon_name(){return r.name}}),i),j(o,()=>r.name),n})()})),e})(),T(YA,{get children(){var e=Iqe();return ee(t=>{var r=Nqe()?"block":"none",n=`${Mm().y}px`,i=`${Mm().x}px`;return r!==t.e&&Z(e,"display",t.e=r),n!==t.t&&Z(e,"top",t.t=n),i!==t.a&&Z(e,"left",t.a=i),t},{e:void 0,t:void 0,a:void 0}),e}})]);Ot(["mousedown"]);var Fqe=W('<div class="h-full overflow-hidden w-[65px] py-4 flex justify-center bg-card"><div class="flex flex-col space-y-4 relative"><div class="h-full overflow-hidden space-y-2">'),jqe=W("<div>Loading..."),zqe=W('<div><button class="icon rounded cursor-pointer flex flex-col justify-center items-center z-10 bg-accent aspect-square hover:bg-muted-foreground transition-colors duration-150 ease-in-out"><div class="flex flex-col size-full p-2">');const Hqe=[{name:"bold",icon:fq},{name:"italic",icon:Aq},{name:"underline",icon:Mq},{name:"strike",icon:Iq},{name:"paragraph",icon:Eq},{name:"header 1",icon:mq,attrs:{level:1}},{name:"header 2",icon:vq,attrs:{level:2}},{name:"header 3",icon:bq,attrs:{level:3}},{name:"header 4",icon:yq,attrs:{level:4}},{name:"header 5",icon:$q,attrs:{level:5}},{name:"header 6",icon:wq,attrs:{level:6}},{name:"list",icon:Sq},{name:"numberedList",icon:xq},{name:"codeBlock",icon:kN},{name:"blockQuote",icon:uq},{name:"verticalRule",icon:Tq},{name:"alignLeft",icon:sq},{name:"alignCenter",icon:oq},{name:"alignRight",icon:lq},{name:"alignJustify",icon:aq}],Vqe=()=>(()=>{var e=Fqe(),t=e.firstChild,r=t.firstChild;return j(r,T(yt,{each:Hqe,get fallback(){return jqe()},children:n=>(()=>{var i=zqe(),o=i.firstChild,a=o.firstChild;return o.$$click=()=>{const s=B.noteEditor;s&&Uqe(s,n.name)},j(a,T(n.icon,{})),ee(()=>o.classList.toggle("bg-primary",!!(B.noteEditor&&Wqe(B.noteEditor,n.name)))),i})()})),e})(),Uqe=(e,t)=>{switch(t){case"bold":e.chain().focus().toggleBold().run();break;case"italic":e.chain().focus().toggleItalic().run();break;case"underline":e.chain().focus().toggleUnderline().run();break;case"strike":e.chain().focus().toggleStrike().run();break;case"paragraph":e.chain().focus().setParagraph().run();break;case"header 1":e.chain().focus().toggleHeading({level:1}).run();break;case"header 2":e.chain().focus().toggleHeading({level:2}).run();break;case"header 3":e.chain().focus().toggleHeading({level:3}).run();break;case"header 4":e.chain().focus().toggleHeading({level:4}).run();break;case"header 5":e.chain().focus().toggleHeading({level:5}).run();break;case"header 6":e.chain().focus().toggleHeading({level:6}).run();break;case"list":e.chain().focus().toggleBulletList().run();break;case"numberedList":e.chain().focus().toggleOrderedList().run();break;case"codeBlock":e.chain().focus().toggleCodeBlock().run();break;case"blockQuote":e.chain().focus().toggleBlockquote().run();break;case"verticalRule":e.chain().focus().setHorizontalRule().run();break;case"alignLeft":e.chain().focus().setTextAlign("left").run();break;case"alignCenter":e.chain().focus().setTextAlign("center").run();break;case"alignRight":e.chain().focus().setTextAlign("right").run();break;case"alignJustify":e.chain().focus().setTextAlign("justify").run();break;default:console.warn("Unhandled action:",t)}},Wqe=(e,t)=>{switch(t){case"bold":return B.activeTags.includes("strong")||B.activeTags.includes("b");case"italic":return B.activeTags.includes("em")||B.activeTags.includes("i");case"underline":return B.activeTags.includes("u");case"strike":return B.activeTags.includes("s")||B.activeTags.includes("del");case"paragraph":return B.activeTags.includes("p");case"header 1":return B.activeTags.includes("h1");case"header 2":return B.activeTags.includes("h2");case"header 3":return B.activeTags.includes("h3");case"header 4":return B.activeTags.includes("h4");case"header 5":return B.activeTags.includes("h5");case"header 6":return B.activeTags.includes("h6");case"list":return B.activeTags.includes("ul");case"numberedList":return B.activeTags.includes("ol");case"codeBlock":return B.activeTags.includes("pre");case"blockQuote":return B.activeTags.includes("blockquote");case"verticalRule":return B.activeTags.includes("hr");case"alignLeft":return!1;case"alignCenter":return!1;case"alignRight":return!1;case"alignJustify":return!1;default:return console.warn("Unhandled action:",t),!1}};Ot(["click"]);var Kqe=W('<div class="h-full overflow-hidden w-[65px] p-4 bg-card "><div class="flex group/hov flex-col space-y-4 overflow-x-visible relative transition duration-200 ease-out hover:translate-x-2 cursor-pointer "><div><div class="icon rounded flex flex-col justify-center items-center z-10 bg-accent aspect-square group-hover/hov:bg-red-500"><div class="flex flex-col size-full p-2"><div class="border-b-0 h-1/6 w-full"></div><div class="h-5/6 w-full flex items-center justify-center">A</div></div></div><p class="text-sm text-center">colors');oe(()=>{console.log(B.selectedNodes),B.selectedNodes.size===0?le("activeSidebar","nodes"):le("activeSidebar","nodeStyles")});const Gqe=()=>{const[e,t]=Q("#EC4899"),[r,n]=Q("#8B5CF6"),[i,o]=Q("#8B5CF6"),a=()=>{const s=B.selectedNodes.values().next().value;if(s){const l=Xr(s);t((l==null?void 0:l.color)??"#444444"),n((l==null?void 0:l.top_strip_color)??"#333333"),o((l==null?void 0:l.textColor)??getComputedStyle(document.documentElement).getPropertyValue("--color-foreground").trim())}};return oe(()=>{(B.selectedNodes.size===1||B.selectedNodes.size>1)&&a()}),(()=>{var s=Kqe(),l=s.firstChild,c=l.firstChild,u=c.firstChild,f=u.firstChild,d=f.firstChild,h=d.nextSibling;return l.$$click=()=>le("showColorMenu",!B.showColorMenu),ee(p=>{var g=r(),m=e(),v=i()??"var(--color-foreground)";return g!==p.e&&Z(d,"background",p.e=g),m!==p.t&&Z(h,"background",p.t=m),v!==p.a&&Z(h,"color",p.a=v),p},{e:void 0,t:void 0,a:void 0}),s})()};Ot(["click"]);var qqe=W('<div class="flex overflow-hidden h-full w-[65px] border-r border-border"><div class="w-[65px] h-full transition-transform duration-300 ease-in-out"></div><div class="w-[65px] h-full transition-transform duration-300 ease-in-out"></div><div class="w-[65px] h-full transition-transform duration-300 ease-in-out">');oe(()=>{console.info("store value serelcterd nodes is changed")});const Qqe=()=>(()=>{var e=qqe(),t=e.firstChild,r=t.nextSibling,n=r.nextSibling;return j(t,T(Bqe,{})),j(r,T(Vqe,{})),j(n,T(Gqe,{})),ee(i=>{var o=B.activeSidebar==="nodes",a=B.activeSidebar=="noteStyles",s=B.activeSidebar=="nodeStyles",l=B.activeSidebar==="noteStyles",c=B.activeSidebar==="nodeStyles",u=B.activeSidebar!=="nodeStyles";return o!==i.e&&t.classList.toggle("translate-x-0",i.e=o),a!==i.t&&t.classList.toggle("-translate-x-full",i.t=a),s!==i.a&&t.classList.toggle("translate-x-full",i.a=s),l!==i.o&&r.classList.toggle("-translate-x-full",i.o=l),c!==i.i&&n.classList.toggle("-translate-x-[200%]",i.i=c),u!==i.n&&n.classList.toggle("-translate-x-[300%]",i.n=u),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),e})();var Yqe=W('<div id=app class="size-full overflow-hidden flex flex-col"><div id=center class="flex flex-row size-full overflow-hidden">');function Jqe(){return(()=>{var e=Yqe(),t=e.firstChild;return j(e,T(Rq,{}),t),j(t,T(Qqe,{}),null),j(t,T(Oqe,{}),null),e})()}IK(()=>T(Jqe,{}),document.getElementById("root"))});export default Xqe();
